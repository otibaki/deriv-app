/*! For license information please see core.one-time-deposit-modal.eebb511ba03a004c4fc5.js.LICENSE.txt */
"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3352],{199716:(e,t,r)=>{r.r(t),r.d(t,{default:()=>W});var n=r(286326),o=r(281476),i=r(919796),s=r(57886),a=r(4551),l=r(127199),c=r(679955),u=r(414646),d=r(33118),f=r(836870);const h=(0,c.observer)((()=>{const{isMobile:e}=(0,i.Y)(),{ui:t}=(0,u.A)(),{should_show_deposit_now_or_later_modal:r,setShouldShowDepositNowOrLaterModal:a,setShouldShowOneTimeDepositModal:l}=t,c=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e?o.Analytics.trackEvent("ce_tradershub_popup",{action:"click_cta",form_name:"traders_hub_default",account_mode:"real",popup_name:"deposit_now_or_later",popup_type:"with_cta",cta_name:"deposit_later"}):o.Analytics.trackEvent("ce_tradershub_popup",{action:"close",form_name:"traders_hub_default",account_mode:"real",popup_name:"deposit_now_or_later",popup_type:"with_cta"}),a(!1),e&&l(!1)};return n.useEffect((()=>{r&&o.Analytics.trackEvent("ce_tradershub_popup",{action:"open",form_name:"traders_hub_default",account_mode:"real",popup_name:"deposit_now_or_later",popup_type:"with_cta"})}),[r]),(0,f.jsx)(s.Dialog,{className:"deposit-now-or-later-modal",title:(0,f.jsx)(d.Localize,{i18n_default_text:"Add funds and start trading"}),confirm_button_text:(0,d.localize)("Deposit now"),onConfirm:()=>{o.Analytics.trackEvent("ce_tradershub_popup",{action:"click_cta",form_name:"traders_hub_default",account_mode:"real",popup_name:"deposit_now_or_later",popup_type:"with_cta",cta_name:"deposit_now"}),a(!1)},cancel_button_text:(0,d.localize)("Deposit later"),onCancel:()=>c(!0),onClose:c,is_visible:r,has_close_icon:!0,is_closed_on_cancel:!1,children:(0,f.jsx)(s.Text,{align:"center",size:e?"xxs":"xs",children:(0,f.jsx)(d.Localize,{i18n_default_text:"Make a deposit to trade the world's markets!"})})})}));var p=r(255530),m=r.n(p),_=r(787513),g=r(189137);const y=e=>{let{error:t}=e,r=(0,d.localize)("Please refresh the page and try again.");return t&&"object"==typeof t&&"message"in t&&"string"==typeof t.message&&(r=t.message),(0,f.jsx)(s.EmptyState,{icon:"IcTriangleExclamationXl",title:(0,d.localize)("Something went wrong"),description:r,action:{label:(0,d.localize)("Refresh page"),onClick:()=>window.location.reload(),tertiary:!0}})},v=(0,c.observer)((()=>{const{data:e,error:t}=(0,_.A)(),[r,o]=(0,n.useState)(!0);return(0,n.useEffect)((()=>{o(!0)}),[e]),r||(0,g.setPerformanceValue)("load_fiat_deposit_cashier_time"),t?(0,f.jsx)(y,{error:t}):(0,f.jsxs)(n.Fragment,{children:[r&&(0,f.jsx)(s.Loading,{is_fullscreen:!1}),e&&(0,f.jsx)("iframe",{className:"deposit-fiat-iframe__iframe",onLoad:()=>o(!1),src:e,style:{display:r?"none":"block"},"data-testid":"dt_deposit_fiat_iframe_iframe"},e)]})}));var b,w=r(563442),E=Object.defineProperty,O=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,C=(e,t,r)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,x=(e,t)=>{for(var r in t||(t={}))j.call(t,r)&&C(e,r,t[r]);if(O)for(var r of O(t))P.call(t,r)&&C(e,r,t[r]);return e},M=(e,t)=>{var r={};for(var n in e)j.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&O)for(var n of O(e))t.indexOf(n)<0&&P.call(e,n)&&(r[n]=e[n]);return r};(e=>{const t=class{constructor(e,r,n,o){if(this.version=e,this.errorCorrectionLevel=r,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version value out of range");if(o<-1||o>7)throw new RangeError("Mask value out of range");this.size=4*e+17;let s=[];for(let e=0;e<this.size;e++)s.push(!1);for(let e=0;e<this.size;e++)this.modules.push(s.slice()),this.isFunction.push(s.slice());this.drawFunctionPatterns();const a=this.addEccAndInterleave(n);if(this.drawCodewords(a),-1==o){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);const r=this.getPenaltyScore();r<e&&(o=t,e=r),this.applyMask(t)}}i(0<=o&&o<=7),this.mask=o,this.applyMask(o),this.drawFormatBits(o),this.isFunction=[]}static encodeText(r,n){const o=e.QrSegment.makeSegments(r);return t.encodeSegments(o,n)}static encodeBinary(r,n){const o=e.QrSegment.makeBytes(r);return t.encodeSegments([o],n)}static encodeSegments(e,r,o=1,s=40,l=-1,c=!0){if(!(t.MIN_VERSION<=o&&o<=s&&s<=t.MAX_VERSION)||l<-1||l>7)throw new RangeError("Invalid value");let u,d;for(u=o;;u++){const n=8*t.getNumDataCodewords(u,r),o=a.getTotalBits(e,u);if(o<=n){d=o;break}if(u>=s)throw new RangeError("Data too long")}for(const e of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])c&&d<=8*t.getNumDataCodewords(u,e)&&(r=e);let f=[];for(const t of e){n(t.mode.modeBits,4,f),n(t.numChars,t.mode.numCharCountBits(u),f);for(const e of t.getData())f.push(e)}i(f.length==d);const h=8*t.getNumDataCodewords(u,r);i(f.length<=h),n(0,Math.min(4,h-f.length),f),n(0,(8-f.length%8)%8,f),i(f.length%8==0);for(let e=236;f.length<h;e^=253)n(e,8,f);let p=[];for(;8*p.length<f.length;)p.push(0);return f.forEach(((e,t)=>p[t>>>3]|=e<<7-(7&t))),new t(u,r,p,l)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),t=e.length;for(let r=0;r<t;r++)for(let n=0;n<t;n++)0==r&&0==n||0==r&&n==t-1||r==t-1&&0==n||this.drawAlignmentPattern(e[r],e[n]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const t=this.errorCorrectionLevel.formatBits<<3|e;let r=t;for(let e=0;e<10;e++)r=r<<1^1335*(r>>>9);const n=21522^(t<<10|r);i(n>>>15==0);for(let e=0;e<=5;e++)this.setFunctionModule(8,e,o(n,e));this.setFunctionModule(8,7,o(n,6)),this.setFunctionModule(8,8,o(n,7)),this.setFunctionModule(7,8,o(n,8));for(let e=9;e<15;e++)this.setFunctionModule(14-e,8,o(n,e));for(let e=0;e<8;e++)this.setFunctionModule(this.size-1-e,8,o(n,e));for(let e=8;e<15;e++)this.setFunctionModule(8,this.size-15+e,o(n,e));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let t=0;t<12;t++)e=e<<1^7973*(e>>>11);const t=this.version<<12|e;i(t>>>18==0);for(let e=0;e<18;e++){const r=o(t,e),n=this.size-11+e%3,i=Math.floor(e/3);this.setFunctionModule(n,i,r),this.setFunctionModule(i,n,r)}}drawFinderPattern(e,t){for(let r=-4;r<=4;r++)for(let n=-4;n<=4;n++){const o=Math.max(Math.abs(n),Math.abs(r)),i=e+n,s=t+r;0<=i&&i<this.size&&0<=s&&s<this.size&&this.setFunctionModule(i,s,2!=o&&4!=o)}}drawAlignmentPattern(e,t){for(let r=-2;r<=2;r++)for(let n=-2;n<=2;n++)this.setFunctionModule(e+n,t+r,1!=Math.max(Math.abs(n),Math.abs(r)))}setFunctionModule(e,t,r){this.modules[t][e]=r,this.isFunction[t][e]=!0}addEccAndInterleave(e){const r=this.version,n=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(r,n))throw new RangeError("Invalid argument");const o=t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][r],s=t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][r],a=Math.floor(t.getNumRawDataModules(r)/8),l=o-a%o,c=Math.floor(a/o);let u=[];const d=t.reedSolomonComputeDivisor(s);for(let r=0,n=0;r<o;r++){let o=e.slice(n,n+c-s+(r<l?0:1));n+=o.length;const i=t.reedSolomonComputeRemainder(o,d);r<l&&o.push(0),u.push(o.concat(i))}let f=[];for(let e=0;e<u[0].length;e++)u.forEach(((t,r)=>{(e!=c-s||r>=l)&&f.push(t[e])}));return i(f.length==a),f}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let r=0;for(let t=this.size-1;t>=1;t-=2){6==t&&(t=5);for(let n=0;n<this.size;n++)for(let i=0;i<2;i++){const s=t-i,a=!(t+1&2)?this.size-1-n:n;!this.isFunction[a][s]&&r<8*e.length&&(this.modules[a][s]=o(e[r>>>3],7-(7&r)),r++)}}i(r==8*e.length)}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let r=0;r<this.size;r++){let n;switch(e){case 0:n=(r+t)%2==0;break;case 1:n=t%2==0;break;case 2:n=r%3==0;break;case 3:n=(r+t)%3==0;break;case 4:n=(Math.floor(r/3)+Math.floor(t/2))%2==0;break;case 5:n=r*t%2+r*t%3==0;break;case 6:n=(r*t%2+r*t%3)%2==0;break;case 7:n=((r+t)%2+r*t%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[t][r]&&n&&(this.modules[t][r]=!this.modules[t][r])}}getPenaltyScore(){let e=0;for(let r=0;r<this.size;r++){let n=!1,o=0,i=[0,0,0,0,0,0,0];for(let s=0;s<this.size;s++)this.modules[r][s]==n?(o++,5==o?e+=t.PENALTY_N1:o>5&&e++):(this.finderPenaltyAddHistory(o,i),n||(e+=this.finderPenaltyCountPatterns(i)*t.PENALTY_N3),n=this.modules[r][s],o=1);e+=this.finderPenaltyTerminateAndCount(n,o,i)*t.PENALTY_N3}for(let r=0;r<this.size;r++){let n=!1,o=0,i=[0,0,0,0,0,0,0];for(let s=0;s<this.size;s++)this.modules[s][r]==n?(o++,5==o?e+=t.PENALTY_N1:o>5&&e++):(this.finderPenaltyAddHistory(o,i),n||(e+=this.finderPenaltyCountPatterns(i)*t.PENALTY_N3),n=this.modules[s][r],o=1);e+=this.finderPenaltyTerminateAndCount(n,o,i)*t.PENALTY_N3}for(let r=0;r<this.size-1;r++)for(let n=0;n<this.size-1;n++){const o=this.modules[r][n];o==this.modules[r][n+1]&&o==this.modules[r+1][n]&&o==this.modules[r+1][n+1]&&(e+=t.PENALTY_N2)}let r=0;for(const e of this.modules)r=e.reduce(((e,t)=>e+(t?1:0)),r);const n=this.size*this.size,o=Math.ceil(Math.abs(20*r-10*n)/n)-1;return i(0<=o&&o<=9),e+=o*t.PENALTY_N4,i(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(1==this.version)return[];{const e=Math.floor(this.version/7)+2,t=32==this.version?26:2*Math.ceil((4*this.version+4)/(2*e-2));let r=[6];for(let n=this.size-7;r.length<e;n-=t)r.splice(1,0,n);return r}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw new RangeError("Version number out of range");let r=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;r-=(25*t-10)*t-55,e>=7&&(r-=36)}return i(208<=r&&r<=29648),r}static getNumDataCodewords(e,r){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw new RangeError("Degree out of range");let r=[];for(let t=0;t<e-1;t++)r.push(0);r.push(1);let n=1;for(let o=0;o<e;o++){for(let e=0;e<r.length;e++)r[e]=t.reedSolomonMultiply(r[e],n),e+1<r.length&&(r[e]^=r[e+1]);n=t.reedSolomonMultiply(n,2)}return r}static reedSolomonComputeRemainder(e,r){let n=r.map((e=>0));for(const o of e){const e=o^n.shift();n.push(0),r.forEach(((r,o)=>n[o]^=t.reedSolomonMultiply(r,e)))}return n}static reedSolomonMultiply(e,t){if(e>>>8!=0||t>>>8!=0)throw new RangeError("Byte out of range");let r=0;for(let n=7;n>=0;n--)r=r<<1^285*(r>>>7),r^=(t>>>n&1)*e;return i(r>>>8==0),r}finderPenaltyCountPatterns(e){const t=e[1];i(t<=3*this.size);const r=t>0&&e[2]==t&&e[3]==3*t&&e[4]==t&&e[5]==t;return(r&&e[0]>=4*t&&e[6]>=t?1:0)+(r&&e[6]>=4*t&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,r){return e&&(this.finderPenaltyAddHistory(t,r),t=0),t+=this.size,this.finderPenaltyAddHistory(t,r),this.finderPenaltyCountPatterns(r)}finderPenaltyAddHistory(e,t){0==t[0]&&(e+=this.size),t.pop(),t.unshift(e)}};let r=t;function n(e,t,r){if(t<0||t>31||e>>>t!=0)throw new RangeError("Value out of range");for(let n=t-1;n>=0;n--)r.push(e>>>n&1)}function o(e,t){return!!(e>>>t&1)}function i(e){if(!e)throw new Error("Assertion error")}r.MIN_VERSION=1,r.MAX_VERSION=40,r.PENALTY_N1=3,r.PENALTY_N2=3,r.PENALTY_N3=40,r.PENALTY_N4=10,r.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],r.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=r;const s=class{constructor(e,t,r){if(this.mode=e,this.numChars=t,this.bitData=r,t<0)throw new RangeError("Invalid argument");this.bitData=r.slice()}static makeBytes(e){let t=[];for(const r of e)n(r,8,t);return new s(s.Mode.BYTE,e.length,t)}static makeNumeric(e){if(!s.isNumeric(e))throw new RangeError("String contains non-numeric characters");let t=[];for(let r=0;r<e.length;){const o=Math.min(e.length-r,3);n(parseInt(e.substr(r,o),10),3*o+1,t),r+=o}return new s(s.Mode.NUMERIC,e.length,t)}static makeAlphanumeric(e){if(!s.isAlphanumeric(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");let t,r=[];for(t=0;t+2<=e.length;t+=2){let o=45*s.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t));o+=s.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t+1)),n(o,11,r)}return t<e.length&&n(s.ALPHANUMERIC_CHARSET.indexOf(e.charAt(t)),6,r),new s(s.Mode.ALPHANUMERIC,e.length,r)}static makeSegments(e){return""==e?[]:s.isNumeric(e)?[s.makeNumeric(e)]:s.isAlphanumeric(e)?[s.makeAlphanumeric(e)]:[s.makeBytes(s.toUtf8ByteArray(e))]}static makeEci(e){let t=[];if(e<0)throw new RangeError("ECI assignment value out of range");if(e<128)n(e,8,t);else if(e<16384)n(2,2,t),n(e,14,t);else{if(!(e<1e6))throw new RangeError("ECI assignment value out of range");n(6,3,t),n(e,21,t)}return new s(s.Mode.ECI,0,t)}static isNumeric(e){return s.NUMERIC_REGEX.test(e)}static isAlphanumeric(e){return s.ALPHANUMERIC_REGEX.test(e)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let r=0;for(const n of e){const e=n.mode.numCharCountBits(t);if(n.numChars>=1<<e)return 1/0;r+=4+e+n.bitData.length}return r}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let r=0;r<e.length;r++)"%"!=e.charAt(r)?t.push(e.charCodeAt(r)):(t.push(parseInt(e.substr(r+1,2),16)),r+=2);return t}};let a=s;a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",e.QrSegment=a})(b||(b={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};let r=t;r.LOW=new t(0,1),r.MEDIUM=new t(1,0),r.QUARTILE=new t(2,3),r.HIGH=new t(3,2),e.Ecc=r})(t=e.QrCode||(e.QrCode={}))})(b||(b={})),(e=>{let t;(e=>{const t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};let r=t;r.NUMERIC=new t(1,[10,12,14]),r.ALPHANUMERIC=new t(2,[9,11,13]),r.BYTE=new t(4,[8,16,16]),r.KANJI=new t(8,[8,10,12]),r.ECI=new t(7,[0,0,0]),e.Mode=r})(t=e.QrSegment||(e.QrSegment={}))})(b||(b={}));var S=b,A={L:S.QrCode.Ecc.LOW,M:S.QrCode.Ecc.MEDIUM,Q:S.QrCode.Ecc.QUARTILE,H:S.QrCode.Ecc.HIGH},N=128,R="L",D="#FFFFFF",T="#000000",k=!1;function I(e,t=0){const r=[];return e.forEach((function(e,n){let o=null;e.forEach((function(i,s){if(!i&&null!==o)return r.push(`M${o+t} ${n+t}h${s-o}v1H${o+t}z`),void(o=null);if(s!==e.length-1)i&&null===o&&(o=s);else{if(!i)return;null===o?r.push(`M${s+t},${n+t} h1v1H${s+t}z`):r.push(`M${o+t},${n+t} h${s+1-o}v1H${o+t}z`)}}))})),r.join("")}function z(e,t){return e.slice().map(((e,r)=>r<t.y||r>=t.y+t.h?e:e.map(((e,r)=>(r<t.x||r>=t.x+t.w)&&e))))}function L(e,t,r,n){if(null==n)return null;const o=r?4:0,i=e.length+2*o,s=Math.floor(.1*t),a=i/t,l=(n.width||s)*a,c=(n.height||s)*a,u=null==n.x?e.length/2-l/2:n.x*a,d=null==n.y?e.length/2-c/2:n.y*a;let f=null;if(n.excavate){let e=Math.floor(u),t=Math.floor(d);f={x:e,y:t,w:Math.ceil(l+u-e),h:Math.ceil(c+d-t)}}return{x:u,y:d,h:c,w:l,excavation:f}}var U=function(){try{(new Path2D).addPath(new Path2D)}catch(e){return!1}return!0}();function B(e){const t=e,{value:r,size:o=N,level:i=R,bgColor:s=D,fgColor:a=T,includeMargin:l=k,style:c,imageSettings:u}=t,d=M(t,["value","size","level","bgColor","fgColor","includeMargin","style","imageSettings"]),f=null==u?void 0:u.src,h=n.useRef(null),p=n.useRef(null),[m,_]=n.useState(!1);n.useEffect((()=>{if(null!=h.current){const e=h.current,t=e.getContext("2d");if(!t)return;let n=S.QrCode.encodeText(r,A[i]).getModules();const c=l?4:0,d=n.length+2*c,f=L(n,o,l,u),m=p.current,_=null!=f&&null!==m&&m.complete&&0!==m.naturalHeight&&0!==m.naturalWidth;_&&null!=f.excavation&&(n=z(n,f.excavation));const g=window.devicePixelRatio||1;e.height=e.width=o*g;const y=o/d*g;t.scale(y,y),t.fillStyle=s,t.fillRect(0,0,d,d),t.fillStyle=a,U?t.fill(new Path2D(I(n,c))):n.forEach((function(e,r){e.forEach((function(e,n){e&&t.fillRect(n+c,r+c,1,1)}))})),_&&t.drawImage(m,f.x+c,f.y+c,f.w,f.h)}})),n.useEffect((()=>{_(!1)}),[f]);const g=x({height:o,width:o},c);let y=null;return null!=f&&(y=n.createElement("img",{src:f,key:f,style:{display:"none"},onLoad:()=>{_(!0)},ref:p})),n.createElement(n.Fragment,null,n.createElement("canvas",x({style:g,height:o,width:o,ref:h},d)),y)}function F(e){const t=e,{value:r,size:o=N,level:i=R,bgColor:s=D,fgColor:a=T,includeMargin:l=k,imageSettings:c}=t,u=M(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]);let d=S.QrCode.encodeText(r,A[i]).getModules();const f=l?4:0,h=d.length+2*f,p=L(d,o,l,c);let m=null;null!=c&&null!=p&&(null!=p.excavation&&(d=z(d,p.excavation)),m=n.createElement("image",{xlinkHref:c.src,height:p.h,width:p.w,x:p.x+f,y:p.y+f,preserveAspectRatio:"none"}));const _=I(d,f);return n.createElement("svg",x({height:o,width:o,viewBox:`0 0 ${h} ${h}`},u),n.createElement("path",{fill:s,d:`M0,0 h${h}v${h}H0z`,shapeRendering:"crispEdges"}),n.createElement("path",{fill:a,d:_,shapeRendering:"crispEdges"}),m)}var H=e=>{const t=e,{renderAs:r}=t,o=M(t,["renderAs"]);return"svg"===r?n.createElement(F,x({},o)):n.createElement(B,x({},o))},Y=r(946084);const $={BTC:"Bitcoin (BTC)",ETH:"Ethereum (ETH)",LTC:"Litecoin (LTC)",UST:"Omnicore",USDC:"Ethereum (ERC20)",eUSDT:"Ethereum (ERC20) ",tUSDT:"Tron (TRC20) "},Q=(0,c.observer)((()=>{var e,t;const{client:r}=(0,u.A)(),{currency:n}=r,{isMobile:o}=(0,i.Y)(),{data:l}=(0,Y.A)(n),c=(0,a.A)(),h=null!=c&&c.is_tUSDT?(0,f.jsx)(d.Localize,{i18n_default_text:"A minimum deposit value of <0>{{minimum_deposit}}</0> {{currency}} is required. Otherwise, a fee is applied.",values:{minimum_deposit:(0,g.formatMoney)(c.code,null!==(e=null==l?void 0:l.minimum_deposit)&&void 0!==e?e:0,!0),currency:c.display_code},components:[(0,f.jsx)("strong",{},0)]}):(0,f.jsx)(d.Localize,{i18n_default_text:"A minimum deposit value of <0>{{minimum_deposit}}</0> {{currency}} is required. Otherwise, the funds will be lost and cannot be recovered.",values:{minimum_deposit:(0,g.formatMoney)(null==c?void 0:c.code,null!==(t=null==l?void 0:l.minimum_deposit)&&void 0!==t?t:0,!0),currency:null==c?void 0:c.display_code},components:[(0,f.jsx)("strong",{},0)]});return(0,f.jsxs)("div",{className:"deposit-crypto-disclaimers",children:[(0,f.jsxs)(s.InlineMessage,{title:(0,d.localize)("To avoid loss of funds:"),children:[(0,f.jsx)("br",{}),(0,f.jsxs)("ul",{className:"deposit-crypto-disclaimers__list",children:[(null==l?void 0:l.minimum_deposit)&&(0,f.jsx)("li",{children:h}),(0,f.jsx)("li",{children:(0,f.jsx)(d.Localize,{i18n_default_text:"Only send {{currency_name}} ({{currency_code}}) to this address.",values:{currency_name:(null==c?void 0:c.name)||"",currency_code:(null==c?void 0:c.display_code)||""}})}),(0,f.jsx)("li",{children:(0,f.jsx)(d.Localize,{i18n_default_text:"Make sure to copy the Deriv {{currency}} account address above and paste it into your crypto wallet.",values:{currency:n}})}),(0,f.jsx)("li",{children:(0,f.jsx)(d.Localize,{i18n_default_text:"In your crypto wallet, select the <0>{{network_name}} network</0> when transferring to Deriv. Incorrect transfers may result in the loss of funds.",values:{network_name:$[null==c?void 0:c.code]},components:[(0,f.jsx)("strong",{},0)]})})]})]}),(0,f.jsx)(s.Text,{align:"center",size:o?"xxxs":"xxs",children:(0,f.jsx)(d.Localize,{i18n_default_text:"<0>Note:</0> You’ll receive an email when your deposit starts being processed.",components:[(0,f.jsx)(s.Text,{size:o?"xxxs":"xxs",weight:"bold"},0)]})})]})})),V=(0,c.observer)((()=>{const{client:e}=(0,u.A)(),{currency:t,loginid:r}=e,{isMobile:n}=(0,i.Y)(),{data:a,isLoading:l,error:c,resend:h}=(0,w.A)();if(l)return(0,f.jsx)(s.Loading,{is_fullscreen:!1});(0,g.setPerformanceValue)("load_crypto_deposit_cashier_time");return c?(0,f.jsxs)("div",{className:"deposit-crypto-wallet-address__error",children:[(0,f.jsx)(s.InlineMessage,{type:"warning",message:(0,d.localize)("Unfortunately, we couldn't get the address since our server was down. Please click Refresh to reload the address or try again later.")}),(0,f.jsx)(s.Button,{text:(0,d.localize)("Refresh"),onClick:()=>h(),secondary:!0,small:!0})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(H,{value:a||"",size:n?128:160,className:"deposit-crypto-wallet-address__qrcode-container"}),(0,f.jsxs)("div",{className:"deposit-crypto-wallet-address__address-container",children:[(0,f.jsx)("div",{className:"deposit-crypto-wallet-address__hash-container",children:(0,f.jsx)(s.Text,{size:n?"xxs":"xs",weight:"bold",children:a})}),(0,f.jsx)("div",{className:"deposit-crypto-wallet-address__action-container",children:(0,f.jsx)(s.Clipboard,{text_copy:a||"",info_message:n?void 0:(0,d.localize)("copy"),success_message:(0,d.localize)("copied!"),onClickHandler:()=>{o.Analytics.trackEvent("ce_cashier_deposit_onboarding_form",{action:"click_copy_crypto_address",form_name:"ce_cashier_deposit_onboarding_form",currency:t,login_id:r})},popoverAlignment:n?"left":"bottom"})})]}),(0,f.jsx)(Q,{})]})}));var K=r(712949);const X=e=>{let{is_crypto_provider:t=!1}=e;const{isDesktop:r}=(0,i.Y)(),n=()=>K.Chat.open();return(0,f.jsxs)("div",{className:m()("one-time-deposit-modal__content",{"one-time-deposit-modal__content-crypto":t}),children:[(0,f.jsxs)("div",{className:"one-time-deposit-modal__title",children:[(0,f.jsx)(s.Text,{as:"h1",size:r?"l":"m",weight:"bold",children:(0,f.jsx)(d.Localize,{i18n_default_text:"Deposit"})}),(0,f.jsx)(s.Text,{size:r?"s":"xs",align:"center",children:t?(0,f.jsx)(d.Localize,{i18n_default_text:"Need help? Contact us via <0>live chat</0>",components:[(0,f.jsx)(s.Text,{className:"one-time-deposit-modal__livechat",size:r?"s":"xs",color:"loss-danger",onClick:n,"data-testid":"dt_live_chat"},0)]}):(0,f.jsx)(d.Localize,{i18n_default_text:"Select a payment method to make a deposit into your account.<0 />Need help? Contact us via <1>live chat</1>",components:[(0,f.jsx)("br",{},0),(0,f.jsx)(s.Text,{className:"one-time-deposit-modal__livechat",size:r?"s":"xs",color:"loss-danger",onClick:n,"data-testid":"dt_live_chat"},1)]})})]}),t?(0,f.jsx)(V,{}):(0,f.jsx)(v,{})]})};var G=r(620993);const W=(0,c.observer)((()=>{const{isDesktop:e}=(0,i.Y)(),{client:t,ui:r}=(0,u.A)(),{is_cr_account:c,is_logged_in:d,balance:p,currency:m,updateAccountStatus:_}=t,{should_show_one_time_deposit_modal:g,setShouldShowOneTimeDepositModal:y,setShouldShowDepositNowOrLaterModal:v,setShouldShowCryptoTransactionProcessingModal:b}=r,w=(0,a.A)(),E=null==w?void 0:w.platform.cashier.includes("crypto"),{data:O,has_transactions:j}=(0,l.A)(d&&E),[P,C]=n.useState(!1),x=()=>{P?y(!1):v(!0)};return n.useEffect((()=>{p&&Number(p)>0&&C(!0),E&&O&&j&&(null!=O&&O.some((e=>e.is_deposit))&&C(!0),null!=O&&O.some((e=>e.is_deposit&&"PENDING"===e.status_code))&&(y(!1),b(!0)))}),[p,O,w,E,j,C,y,b]),n.useEffect((()=>{if(g)return o.Analytics.trackEvent("ce_tradershub_popup",{action:"open",form_name:"traders_hub_default",account_mode:"real",popup_name:"direct_deposit",currency:m}),()=>{_()}}),[g]),(0,f.jsxs)(n.Fragment,{children:[e?(0,f.jsx)(s.Modal,{className:"one-time-deposit-modal",is_open:g,title:" ",toggleModal:x,height:"auto",has_close_icon:!0,should_header_stick_body:!1,children:(0,f.jsx)(s.Modal.Body,{className:"one-time-deposit-modal__body",children:(0,f.jsx)(X,{is_crypto_provider:E})})}):(0,f.jsx)(s.MobileFullPageModal,{className:"one-time-deposit-modal",body_className:"one-time-deposit-modal__body",header:" ",height_offset:"80px",is_modal_open:g,onClickClose:x,children:(0,f.jsx)(X,{is_crypto_provider:E})}),(0,f.jsx)(h,{}),(0,f.jsx)(G.A,{})]})}))},946084:(e,t,r)=>{r.d(t,{A:()=>a});var n=r(773835);const o=["data"];function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const a=e=>{var t;const r=(0,n.A)("crypto_config",{payload:{currency_code:e}}),{data:a}=r,l=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,o);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({data:null==a||null===(t=a.crypto_config)||void 0===t?void 0:t.currencies_config[e]},l)}},127199:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(286326),o=r(961946);const i=["subscribe","data"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=function(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const r=(0,o.A)("cashier_payments"),{subscribe:s,data:l}=r,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,i),[u,d]=(0,n.useState)();(0,n.useEffect)((()=>{t&&s()}),[s,t]),(0,n.useEffect)((()=>{d((e=>{var t;const r=null==l||null===(t=l.cashier_payments)||void 0===t?void 0:t.crypto;if(!r)return e;if(!e)return r;const n=[...e];return r.forEach((e=>{const t=n.findIndex((t=>t.id===e.id));-1===t?n.push(e):n[t]=e})),n}))}),[null==l||null===(e=l.cashier_payments)||void 0===e?void 0:e.crypto]);const f=(0,n.useMemo)((()=>null==u?void 0:u.map((e=>a(a({},e),{},{is_deposit:"deposit"===e.transaction_type,is_withdrawal:"withdrawal"===e.transaction_type})))),[u]),h=(0,n.useMemo)((()=>null==f?void 0:f.sort(((e,t)=>t.submit_date-e.submit_date))),[f]),p=f&&f.length>0;return a({data:h,last_transaction:null==f?void 0:f[0],has_transactions:p,subscribe:s},c)}},811450:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(286326),o=r(773835);const i=["data"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=()=>{var e;const t=(0,o.A)("website_status"),{data:r}=t,s=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,i),l=(0,n.useMemo)((()=>{var e;if(null==r||null===(e=r.website_status)||void 0===e||!e.currencies_config)return;const t=r.website_status.currencies_config;return Object.keys(t).map((e=>{const r=t[e];return a(a({},r),{},{is_crypto:"crypto"===(null==r?void 0:r.type),is_fiat:"fiat"===(null==r?void 0:r.type),is_AUD:"AUD"===e,is_USD:"USD"===e,is_EUR:"EUR"===e,is_GBP:"GBP"===e,is_BTC:"BTC"===e,is_ETH:"ETH"===e,is_LTC:"LTC"===e,is_DAI:"DAI"===e,is_IDK:"IDK"===e,is_PAX:"PAX"===e,is_USB:"USB"===e,is_USDT:"UST"===e,is_TUSD:"TUSD"===e,is_BUSD:"BUSD"===e,is_EURS:"EURS"===e,is_eUSDT:"eUSDT"===e,is_tUSDT:"tUSDT"===e,is_USDC:"USDC"===e,is_USDK:"USDK"===e,code:e,display_code:"UST"===e?"USDT":e,icon:`IcCurrency${e[0].toUpperCase()+e.slice(1).toLowerCase()}`,platform:null==r?void 0:r.platform})})).reduce(((e,t)=>a(a({},e),{},{[t.code]:t})),{})}),[null==r||null===(e=r.website_status)||void 0===e?void 0:e.currencies_config]);return a({getConfig:(0,n.useCallback)((e=>null==l?void 0:l[e]),[l]),currencies_config:l},s)}},4551:(e,t,r)=>{r.d(t,{A:()=>i});var n=r(414646),o=r(811450);const i=()=>{const{client:e}=(0,n.A)(),{currency:t}=e,{getConfig:r}=(0,o.A)();return r(t)}},563442:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(286326),o=r(108340);const i=["data","mutate"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=()=>{var e;const t=(0,o.A)("cashier"),{data:r,mutate:s}=t,l=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,i),c="string"!=typeof(null==r?void 0:r.cashier)?null==r||null===(e=r.cashier)||void 0===e||null===(e=e.deposit)||void 0===e?void 0:e.address:void 0,u=(0,n.useCallback)((()=>s({payload:{cashier:"deposit",provider:"crypto",type:"api"}})),[s]);return(0,n.useEffect)((()=>{u()}),[u]),a(a({},l),{},{resend:u,data:c})}},787513:(e,t,r)=>{r.d(t,{A:()=>u});var n=r(286326),o=r(108340),i=r(414646);const s=["data","mutate"];function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u=()=>{var e;const{ui:t}=(0,i.A)(),{is_dark_mode_on:r}=t,a=(0,o.A)("cashier"),{data:c,mutate:u}=a,d=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(a,s),f=r?"on":"off",h=null===(e=new URL(window.location.href).searchParams.get("lang"))||void 0===e?void 0:e.toLowerCase();let p;if("string"==typeof(null==c?void 0:c.cashier)){const e=new URL(c.cashier);e.searchParams.set("DarkMode",f),h&&e.searchParams.set("Lang",h),p=e.toString()}const m=(0,n.useCallback)((()=>u({payload:{cashier:"deposit",provider:"doughflow"}})),[u]);return(0,n.useEffect)((()=>{m()}),[m]),l(l({},d),{},{resend:m,data:p})}}}]);
//# sourceMappingURL=core.one-time-deposit-modal.eebb511ba03a004c4fc5.js.map