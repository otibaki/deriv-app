"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6151],{307481:(e,a,i)=>{i.r(a),i.d(a,{default:()=>_});var l=i(286326),s=i(57886),t=i(33118),n=i(189137),o=i(391289),c=i(679955),d=i(414646),r=i(836870);const _=(0,c.observer)((()=>{const{ui:e,client:a}=(0,d.A)(),{logout:i,is_logged_in:c}=a,{is_update_email_modal_visible:_,toggleUpdateEmailModal:m}=e,g=a.new_email.system_email_change,u=a.verification_code.system_email_change,[h,x]=l.useState(!1),[p,f]=l.useState(null),j={change_email:"update",new_email:g,verification_code:u},w=()=>{o.WS.changeEmail(j).then((e=>{x(!0),e.error&&(f(e.error.message),i())}))};return l.useEffect((()=>{c?o.WS.wait("authorize").then((()=>{w()})):w()}),[]),(0,r.jsx)(s.Modal,{is_open:_,has_close_icon:!1,toggleModal:m,width:"440px",minHeight:"400px",children:h?(0,r.jsxs)("div",{className:"change-email-update",children:[!p&&(0,r.jsx)(s.Icon,{className:"change-email-update__modal-icon",icon:"IcEmailVerified",size:128}),(0,r.jsx)(s.Text,{className:"change-email-update__modal-title",weight:"bold",size:"s",children:p?(0,r.jsx)(t.Localize,{i18n_default_text:"Failed"}):(0,r.jsx)(t.Localize,{i18n_default_text:"Success!"})}),(0,r.jsx)(s.Text,{className:"change-email-update__modal-description",size:"xs",children:null!=p?p:(0,r.jsx)(t.Localize,{i18n_default_text:"Your email address has changed.<0/>Now, log in with your new email address.",components:[(0,r.jsx)("br",{},0)]})}),(0,r.jsx)(s.Modal.Footer,{className:"change-email-update__footer",children:(0,r.jsx)(s.Button,{onClick:()=>{m(!1),(0,n.removeActionParam)("system_email_change"),c?i().then((()=>{(0,n.redirectToLogin)(!1,(0,t.getLanguage)(),!1)})):(0,n.redirectToLogin)(!1,(0,t.getLanguage)(),!1)},has_effect:!0,text:(0,t.localize)("Log in"),primary:!0,large:!0})})]}):(0,r.jsx)(s.Loading,{is_fullscreen:!1})})}))}}]);
//# sourceMappingURL=core.update-email-modal.5e137ede9f1caf33f568.js.map