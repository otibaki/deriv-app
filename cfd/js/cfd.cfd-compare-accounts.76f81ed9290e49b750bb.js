"use strict";(self.webpackChunk_deriv_cfd=self.webpackChunk_deriv_cfd||[]).push([["cfd-compare-accounts"],{"./src/Containers/cfd-compare-accounts/index.tsx":(e,t,a)=>{a.r(t),a.d(t,{default:()=>I});var r=a("react"),n=a.n(r),c=a("react-router-dom"),o=a("classnames"),s=a.n(o),i=a("@deriv/components"),l=a("@deriv/shared"),m=a("@deriv/translations"),d=a("@deriv/stores"),u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},p="object"==typeof u&&u&&u.Object===Object&&u,f="object"==typeof self&&self&&self.Object===Object&&self;p||f||Function("return this")();var _=typeof window<"u"?r.useLayoutEffect:r.useEffect,g=typeof window>"u";function h(e,{defaultValue:t=!1,initializeWithValue:a=!0}={}){const n=e=>g?t:window.matchMedia(e).matches,[c,o]=(0,r.useState)((()=>a?n(e):t));function s(){o(n(e))}return _((()=>{const t=window.matchMedia(e);return s(),t.addListener?t.addListener(s):t.addEventListener("change",s),()=>{t.removeListener?t.removeListener(s):t.removeEventListener("change",s)}}),[e]),c}const b=()=>({isDesktop:h("(min-width: 1280px)"),isMobile:h("(max-width: 600px)"),isTablet:h("(min-width: 601px) and (max-width: 1279px)"),isTabletPortrait:h("(min-width: 601px) and (max-width: 1279px) and (orientation: portrait)"),isMobileOrTabletLandscape:h("(max-width: 1279px) and (orientation: landscape)")});var v=a("@deriv/hooks"),E=a("./src/Helpers/cfd-config.ts"),x=a("./src/Assets/svgs/trading-platform/index.tsx"),y=a("./src/Helpers/compare-accounts-config.ts");const N=function(e){var t=e.trading_platforms,a=e.is_eu_user,r=e.is_demo,c=b().isDesktop,o=a?"CFDs":(0,y.pt)(t),s=(0,y.b3)(t,o),l=t.platform===E.$_.DXTRADE||t.platform===E.$_.CTRADER?(0,y.fe)(t.platform):(0,y.fe)(o,t.product),d=t.platform===E.$_.DXTRADE||t.platform===E.$_.CTRADER?(0,y.mf)(t.platform,r):(0,y.mf)(s,r),u=n().createElement(i.Text,{as:"p",size:c?"xxs":"xxxs",align:"left"},(0,m.localize)("This account gives you direct market price access and tighter spreads."));return n().createElement(n().Fragment,null,n().createElement("div",{className:"compare-cfd-account-icon-title"},n().createElement(x.A,{icon:l,size:48}),n().createElement("div",{className:"compare-cfd-account-icon-title__separator"},n().createElement(i.Text,{as:"h1",weight:"bold",size:"xs",align:"center"},d),s===E.Yi.FINANCIAL_LABUAN&&n().createElement(i.Popover,{alignment:"bottom",className:"compare-cfd-account-labuan-tooltip",classNameBubble:"compare-cfd-account-labuan-tooltip--msg",icon:"info",disable_message_icon:!0,is_bubble_hover_enabled:!0,message:u,zIndex:9999}))),n().createElement("div",{className:"compare-cfd-account-underline"}))},A=function(e){var t,a,r=e.trading_platforms,c=e.is_demo,o=(0,d.useStore)().traders_hub.selected_region,l=(0,y.pt)(r),u=r.platform===E.$_.DXTRADE||r.platform===E.$_.CTRADER?l.concat("_",null!==(a=r.shortcode)&&void 0!==a?a:""):r.platform===E.$_.MT5&&"all"===l?"".concat(l,"_").concat(r.product,"_").concat(r.shortcode):l,p=(0,y.cE)(u,r),f=(0,m.localize)("Commissions apply");return n().createElement("div",{className:s()("compare-cfd-account-text-container",{"compare-cfd-account-text-container--demo":c})},n().createElement("div",{className:"compare-cfd-account-text-container__separator"},n().createElement(i.Text,{as:"h1",weight:"bold",size:"m",align:"center"},(0,m.localize)("Up to")," ",null!==(t=p.leverage)&&void 0!==t?t:""),n().createElement(i.Text,{as:"p",size:"xxxs",align:"center"},o===E.Zg.NON_EU?p.leverage_description:(0,m.localize)("Leverage"))),o===E.Zg.NON_EU&&n().createElement("div",{className:"compare-cfd-account-text-container__separator"},n().createElement(i.Text,{as:"h1",weight:"bold",size:"m",align:"center"},n().createElement("div",{className:"compare-cfd-account-spread"},p.spread,u===E.Yi.ALL_ZERO_SPREAD_BVI&&n().createElement(i.Popover,{alignment:"top",className:"compare-cfd-account-zerospread-tooltip",classNameBubble:"compare-cfd-account-zerospread-tooltip--msg",icon:"info",disable_message_icon:!0,is_bubble_hover_enabled:!0,message:f,zIndex:9999}))),n().createElement(i.Text,{as:"p",size:"xxxs",align:"center"},p.spread_description)))};var w=a("./src/Assets/svgs/trading-instruments/index.tsx");const T=function(e){var t=e.icon,a=e.text,r=e.highlighted,c=e.className,o=e.is_asterisk,s=b().isMobile;return n().createElement("div",{style:{opacity:r?"":"0.2"},"data-testid":"dt_instruments_icon_container",className:c},n().createElement(w.A,{icon:t,size:24,className:"trading-instruments__icon"}),n().createElement(i.Text,{as:"p",weight:s?"normal":"bolder",line_height:"xs",size:"xxs",align:"left",className:"trading-instruments__text"},a,o&&n().createElement(i.Text,{color:"loss-danger",size:"xxs"},"*")))};function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},z.apply(null,arguments)}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}const S=function(e){var t=e.trading_platforms,a=(0,d.useStore)().traders_hub,r=a.selected_region,c=a.is_eu_user,o=function(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?C(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,y.nt)(t,r));return n().createElement("div",{className:"compare-cfd-account-outline","data-testid":"dt_compare_cfd_account_outline__container"},c?n().createElement(n().Fragment,null,o.filter((function(e){return!1!==e.is_available})).map((function(e){return n().createElement(T,z({key:e.text},e,{className:"compare-cfd-account-instrument-icon"}))}))):o.map((function(e){return n().createElement(T,z({key:e.text},e,{className:"compare-cfd-account-instrument-icon"}))})))},k=function(e){var t=e.trading_platforms,a=(0,y.uD)(t.platform),r=(0,y.JW)(a);return n().createElement("div",{className:s()("compare-cfd-account-platform-label",{"compare-cfd-account-platform-label--other-cfds":a===y.Sc.other_cfds||a===y.Sc.ctrader,"compare-cfd-account-platform-label--derivx":a===y.Sc.derivx,"compare-cfd-account-platform-label--ctrader":a===y.Sc.ctrader})},n().createElement(i.Text,{as:"p",weight:"bold",size:"xxxs",align:"center",color:r},a))},D=function(e){var t=e.trading_platforms,a=e.is_eu_user,r=e.is_demo;return n().createElement("div",{className:"compare-cfd-account-main-container"},n().createElement("div",{className:"compare-cfd-account-card-container"},n().createElement(k,{trading_platforms:t}),t.product===E.Ax.GOLD&&n().createElement(i.Text,{className:"compare-cfd-account-card-container__banner",weight:"bold",size:"xs",color:"colored-background"},n().createElement(m.Localize,{i18n_default_text:"NEW"})),n().createElement(N,{trading_platforms:t,is_eu_user:a,is_demo:r}),n().createElement(A,{trading_platforms:t,is_demo:r}),n().createElement(S,{trading_platforms:t,is_demo:r})))};function L(e){return function(e){if(Array.isArray(e))return O(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?O(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}const I=(0,d.observer)((function(){var e=b().isDesktop,t=(0,v.useIsRtl)(),a=(0,c.useHistory)(),r=(0,d.useStore)(),o=r.client,u=r.traders_hub,p=o.trading_platform_available_accounts,f=u.is_demo,_=u.is_eu_user,g=u.available_dxtrade_accounts,h=u.available_ctrader_accounts,E=_?(0,y.iq)(p):(0,y.ao)(p),x=g.length>0,N=h.length>0,A=_&&E.length?L(E):[],w=L(_?A:E),T=[].concat(L((0,y.Sx)(w)),L((0,y.MX)(w)),L((0,y.lN)(w))),z=f&&T.length>0?T:w,C=x||N?z.length+1:z.length,S=function(){return n().createElement(m.Localize,{i18n_default_text:"Compare CFDs {{title}} accounts",values:{title:f?(0,m.localize)("demo"):""}})},k=n().createElement("div",{className:"compare-cfd-header"},n().createElement("div",{className:"compare-cfd-header-navigation",onClick:function(){a.push(l.routes.traders_hub)}},n().createElement(i.Icon,{icon:"IcArrowLeftBold"}),n().createElement(i.Text,{size:"xs",weight:"bold",color:"prominent"},n().createElement(m.Localize,{i18n_default_text:"Trader's hub"}))),n().createElement("h1",{className:"compare-cfd-header-title"},n().createElement(i.Text,{size:"m",weight:"bold",color:"prominent",align:"center"},S())));return e?n().createElement("div",{className:"compare-cfd-account"},n().createElement(i.PageOverlay,{header:k,is_from_app:l.routes.traders_hub}),n().createElement("div",{className:s()("compare-cfd-account-container",{"compare-cfd-account-container__card-count":C<4})},n().createElement("div",{className:"card-list"},n().createElement(i.CFDCompareAccountsCarousel,{isRtl:t},z.map((function(e){return n().createElement(D,{trading_platforms:e,key:e.market_type+e.shortcode+((null==e?void 0:e.product)||""),is_eu_user:_,is_demo:f})})),z.length>0&&N&&n().createElement(D,{trading_platforms:y.nA,is_eu_user:_,is_demo:f}),z.length>0&&x&&n().createElement(D,{trading_platforms:y.Gp,is_eu_user:_,is_demo:f}))))):n().createElement(i.PageOverlay,{header:S(),header_classname:"compare-cfd-header-title",is_from_app:!l.routes.traders_hub,onClickClose:function(){return a.push(l.routes.traders_hub)}},n().createElement("div",{className:s()("compare-cfd-account-container",{"compare-cfd-account-container__card-count--mobile":C<2})},n().createElement(i.CFDCompareAccountsCarousel,{isRtl:t},z.map((function(e){return n().createElement(D,{trading_platforms:e,key:e.market_type+e.shortcode,is_eu_user:_,is_demo:f})})),z.length>0&&N&&n().createElement(D,{trading_platforms:y.nA,is_eu_user:_,is_demo:f}),z.length>0&&x&&n().createElement(D,{trading_platforms:y.Gp,is_eu_user:_,is_demo:f}))))}))}}]);