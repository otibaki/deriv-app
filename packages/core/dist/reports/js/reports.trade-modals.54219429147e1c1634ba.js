"use strict";(self.webpackChunk_deriv_reports=self.webpackChunk_deriv_reports||[]).push([["trade-modals"],{"./src/Components/Modals/index.ts":(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var a=r("react"),o=r.n(a),n=r("@deriv/shared"),i=r("@deriv/components"),l=r("@deriv/translations"),c=r("mobx-react-lite"),s=r("../stores/src/useStore.ts");const d=(0,c.observer)((function(e){var t=e.is_loading,r=e.onCancel,a=e.onConfirm,c=(0,s.A)().ui,d=c.disableApp,u=c.enableApp,m=c.has_only_forward_starting_contracts;return o().createElement(i.Dialog,{className:"market-unavailable-modal",title:o().createElement(l.Localize,{i18n_default_text:"Weâ€™re working on it"}),confirm_button_text:(0,l.localize)("Stay on {{platform_name_trader}}",{platform_name_trader:(0,n.getPlatformSettings)("trader").name}),cancel_button_text:(0,l.localize)("Go to {{platform_name_smarttrader}}",{platform_name_smarttrader:(0,n.getPlatformSettings)("smarttrader").name}),onConfirm:a,onCancel:r,is_mobile_full_width:!1,is_visible:m,disableApp:d,enableApp:u,is_loading:t},o().createElement(l.Localize,{i18n_default_text:"This market is not yet available on {{platform_name_trader}}, but it is on {{platform_name_smarttrader}}.",values:{platform_name_trader:(0,n.getPlatformSettings)("trader").name,platform_name_smarttrader:(0,n.getPlatformSettings)("smarttrader").name}}))}));var u=function(e){switch(e){case"buy":return(0,l.localize)("Purchase Error");case"cancel":return(0,l.localize)("Deal Cancellation Error");case"contract_update":return(0,l.localize)("Contract Update Error");case"sell":return(0,l.localize)("Sell Error");default:return"Error"}};const m=function(e){var t=e.is_visible,r=e.toggleModal,a=e.is_appstore,c=e.is_logged_in;return o().createElement(i.Modal,{id:"dt_authorization_required_modal",is_open:t,small:!0,toggleModal:r,title:(0,l.localize)("Start trading with us")},o().createElement(i.Modal.Body,null,(0,l.localize)("Log in or create a free account to place a trade.")),o().createElement(i.Modal.Footer,null,o().createElement(i.Button,{has_effect:!0,text:(0,l.localize)("Log in"),onClick:function(){return(0,n.redirectToLogin)(c,(0,l.getLanguage)())},secondary:!0}),o().createElement(i.Button,{has_effect:!0,text:(0,l.localize)("Create free account"),onClick:function(){return(0,n.redirectToSignUp)({is_appstore:a})},primary:!0})))};var _=r("react-router-dom"),f=(0,c.observer)((function(e){var t=e.history,r=e.is_virtual,a=e.is_visible,c=e.message,d=e.toggleModal,u=(0,s.A)(),m=u.ui.is_mobile,_=u.client.has_wallet;return o().createElement(i.Modal,{id:"dt_insufficient_balance_modal",is_open:a,small:!0,is_vertical_centered:m,toggleModal:d,title:(0,l.localize)("Insufficient balance")},o().createElement(i.Modal.Body,null,c),o().createElement(i.Modal.Footer,null,o().createElement(i.Button,{has_effect:!0,text:r?(0,l.localize)("OK"):(0,l.localize)("Deposit now"),onClick:function(){var e;r?d():null==t||null===(e=t.push)||void 0===e||e.call(t,_?n.routes.wallets_deposit:n.routes.cashier_deposit)},primary:!0})))}));const g=(0,_.withRouter)(f),v=(0,c.observer)((function(e){var t=e.is_visible,r=e.onConfirm,a=(0,s.A)().ui.is_mobile;return o().createElement(i.Modal,{is_open:t,small:!0,is_vertical_centered:a,toggleModal:r,title:(0,l.localize)("Purchase Error")},o().createElement(i.Modal.Body,null,o().createElement(l.Localize,{i18n_default_text:"No further trading is allowed on this contract type for the current trading session. For more info, refer to our <0>terms and conditions</0>.",components:[o().createElement(i.StaticUrl,{key:0,className:"link",href:"tnc/trading-terms.pdf",is_document:!0})]})),o().createElement(i.Modal.Footer,null,o().createElement(i.Button,{has_effect:!0,text:(0,l.localize)("OK"),onClick:r,primary:!0})))})),p=(0,c.observer)((function(e){var t=e.is_visible,r=e.onConfirm,a=(0,_.useHistory)(),c=(0,s.A)().ui.is_mobile;return o().createElement(i.Modal,{is_open:t,is_vertical_centered:c,className:"account-verification-required-modal",toggleModal:r,title:(0,l.localize)("Account verification required"),width:"440px",height:c?"auto":"220px"},o().createElement(i.Modal.Body,{className:"account-verification-required-modal-text"},o().createElement(l.Localize,{i18n_default_text:"Please submit your proof of identity and proof of address to verify your account and continue trading."})),o().createElement("div",{className:"account-verification-required-modal-button"},o().createElement(i.Modal.Footer,null,o().createElement(i.Button,{has_effect:!0,text:(0,l.localize)("Submit Proof"),onClick:function(){return a.push(n.routes.proof_of_identity)},primary:!0}))))})),E=function(e){var t=e.is_virtual,r=e.is_visible,a=e.is_logged_in,n=e.onConfirm,c=e.services_error,s=c.code,d=c.message,_=c.type;if(!s||!d)return o().createElement(o().Fragment,null);switch(s){case"AuthorizationRequired":return o().createElement(m,{is_logged_in:a,is_visible:r,toggleModal:n});case"InsufficientBalance":return o().createElement(g,{is_virtual:t,is_visible:r,message:d,toggleModal:n});case"CompanyWideLimitExceeded":return o().createElement(v,{is_visible:r,onConfirm:n});case"PleaseAuthenticate":return o().createElement(p,{is_visible:r,onConfirm:n});default:return o().createElement(i.Modal,{is_open:r,small:!0,title:u(_),toggleModal:n},o().createElement(i.Modal.Body,null,d),o().createElement(i.Modal.Footer,null,o().createElement(i.Button,{has_effect:!0,text:(0,l.localize)("OK"),onClick:n,primary:!0})))}},b=function(e){var t=e.is_visible,r=e.onConfirm;return o().createElement(i.Modal,{small:!0,is_open:t,title:o().createElement(l.Localize,{i18n_default_text:"Pending verification"}),toggleModal:r,className:"account-verification-pending-modal"},o().createElement(i.Modal.Body,null,o().createElement(l.Localize,{i18n_default_text:"You cannot trade as your documents are still under review. We will notify you by email once your verification is approved."})),o().createElement(i.Modal.Footer,null,o().createElement(i.Button,{has_effect:!0,onClick:r,primary:!0,large:!0},o().createElement(l.Localize,{i18n_default_text:"OK"}))))},h=(0,c.observer)((function(){var e=(0,s.A)(),t=e.ui,r=e.client,a=e.common,i=r.is_virtual,l=r.is_logged_in,c=a.services_error,u=t.is_mf_verification_pending_modal_visible,m=t.is_services_error_visible,_=t.setHasOnlyForwardingContracts,f=t.setIsMFVericationPendingModal,g=t.toggleServicesErrorModal,v=function(){_(!1)};return o().createElement(o().Fragment,null,o().createElement(d,{onConfirm:function(){v()},onCancel:function(){window.open((0,n.getUrlSmartTrader)()),v()}}),o().createElement(E,{onConfirm:function(){g(!1)},services_error:c,is_visible:m,is_virtual:i,is_logged_in:l}),o().createElement(b,{is_visible:u,onConfirm:function(){return f(!1)}}))}))}}]);