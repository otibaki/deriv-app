/*! For license information please see bot.260.cee2720af5212be0565f.js.LICENSE.txt */
(self.webpackChunk_deriv_bot_web_ui=self.webpackChunk_deriv_bot_web_ui||[]).push([[260],{891:function(e){var t;"undefined"!=typeof self&&self,t=()=>(()=>{var e={768:(e,t,n)=>{"use strict";var r=n(604),o=n(572),i=o(r("String.prototype.indexOf"));e.exports=function(e,t){var n=r(e,!!t);return"function"==typeof n&&i(e,".prototype.")>-1?o(n):n}},572:(e,t,n)=>{"use strict";var r=n(268),o=n(604),i=n(392),s=n(556),a=o("%Function.prototype.apply%"),l=o("%Function.prototype.call%"),c=o("%Reflect.apply%",!0)||r.call(l,a),u=o("%Object.defineProperty%",!0),h=o("%Math.max%");if(u)try{u({},"a",{value:1})}catch(e){u=null}e.exports=function(e){if("function"!=typeof e)throw new s("a function is required");var t=c(r,l,arguments);return i(t,1+h(0,e.length-(arguments.length-1)),!0)};var p=function(){return c(r,a,arguments)};u?u(e.exports,"apply",{value:p}):e.exports.apply=p},456:(e,t,n)=>{"use strict";var r=n(188)(),o=n(604),i=r&&o("%Object.defineProperty%",!0);if(i)try{i({},"a",{value:1})}catch(e){i=!1}var s=n(668),a=n(556),l=n(872);e.exports=function(e,t,n){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new a("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new a("`loose`, if provided, must be a boolean");var r=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,u=arguments.length>6&&arguments[6],h=!!l&&l(e,t);if(i)i(e,t,{configurable:null===c&&h?h.configurable:!c,enumerable:null===r&&h?h.enumerable:!r,value:n,writable:null===o&&h?h.writable:!o});else{if(!u&&(r||o||c))throw new s("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=n}}},576:e=>{"use strict";e.exports=EvalError},772:e=>{"use strict";e.exports=Error},360:e=>{"use strict";e.exports=RangeError},380:e=>{"use strict";e.exports=ReferenceError},668:e=>{"use strict";e.exports=SyntaxError},556:e=>{"use strict";e.exports=TypeError},568:e=>{"use strict";e.exports=URIError},840:e=>{"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var o=0;o<t.length;o+=1)n[o+e.length]=t[o];return n};e.exports=function(e){var o=this;if("function"!=typeof o||"[object Function]"!==t.apply(o))throw new TypeError("Function.prototype.bind called on incompatible "+o);for(var i,s=function(e){for(var t=[],n=1,r=0;n<e.length;n+=1,r+=1)t[r]=e[n];return t}(arguments),a=n(0,o.length-s.length),l=[],c=0;c<a;c++)l[c]="$"+c;if(i=Function("binder","return function ("+function(e){for(var t="",n=0;n<e.length;n+=1)t+=e[n],n+1<e.length&&(t+=",");return t}(l)+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var t=o.apply(this,r(s,arguments));return Object(t)===t?t:this}return o.apply(e,r(s,arguments))})),o.prototype){var u=function(){};u.prototype=o.prototype,i.prototype=new u,u.prototype=null}return i}},268:(e,t,n)=>{"use strict";var r=n(840);e.exports=Function.prototype.bind||r},604:(e,t,n)=>{"use strict";var r,o=n(772),i=n(576),s=n(360),a=n(380),l=n(668),c=n(556),u=n(568),h=Function,p=function(e){try{return h('"use strict"; return ('+e+").constructor;")()}catch(e){}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch(e){d=null}var f=function(){throw new c},g=d?function(){try{return f}catch(e){try{return d(arguments,"callee").get}catch(e){return f}}}():f,m=n(308)(),y=n(608)(),v=Object.getPrototypeOf||(y?function(e){return e.__proto__}:null),b={},_="undefined"!=typeof Uint8Array&&v?v(Uint8Array):r,E={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":m&&v?v([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":b,"%AsyncGenerator%":b,"%AsyncGeneratorFunction%":b,"%AsyncIteratorPrototype%":b,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":i,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":h,"%GeneratorFunction%":b,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":m&&v?v(v([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&m&&v?v((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&m&&v?v((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":m&&v?v(""[Symbol.iterator]()):r,"%Symbol%":m?Symbol:r,"%SyntaxError%":l,"%ThrowTypeError%":g,"%TypedArray%":_,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":u,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(v)try{null.error}catch(e){var w=v(v(e));E["%Error.prototype%"]=w}var T=function e(t){var n;if("%AsyncFunction%"===t)n=p("async function () {}");else if("%GeneratorFunction%"===t)n=p("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=p("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&v&&(n=v(o.prototype))}return E[t]=n,n},k={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},S=n(268),C=n(176),O=S.call(Function.call,Array.prototype.concat),I=S.call(Function.apply,Array.prototype.splice),x=S.call(Function.call,String.prototype.replace),R=S.call(Function.call,String.prototype.slice),N=S.call(Function.call,RegExp.prototype.exec),A=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,$=/\\(\\)?/g,D=function(e,t){var n,r=e;if(C(k,r)&&(r="%"+(n=k[r])[0]+"%"),C(E,r)){var o=E[r];if(o===b&&(o=T(r)),void 0===o&&!t)throw new c("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new l("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new c('"allowMissing" argument must be a boolean');if(null===N(/^%?[^%]*%?$/,e))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=R(e,0,1),n=R(e,-1);if("%"===t&&"%"!==n)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new l("invalid intrinsic syntax, expected opening `%`");var r=[];return x(e,A,(function(e,t,n,o){r[r.length]=n?x(o,$,"$1"):t||e})),r}(e),r=n.length>0?n[0]:"",o=D("%"+r+"%",t),i=o.name,s=o.value,a=!1,u=o.alias;u&&(r=u[0],I(n,O([0,1],u)));for(var h=1,p=!0;h<n.length;h+=1){var f=n[h],g=R(f,0,1),m=R(f,-1);if(('"'===g||"'"===g||"`"===g||'"'===m||"'"===m||"`"===m)&&g!==m)throw new l("property names with quotes must have matching quotes");if("constructor"!==f&&p||(a=!0),C(E,i="%"+(r+="."+f)+"%"))s=E[i];else if(null!=s){if(!(f in s)){if(!t)throw new c("base intrinsic for "+e+" exists, but the property is not available.");return}if(d&&h+1>=n.length){var y=d(s,f);s=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:s[f]}else p=C(s,f),s=s[f];p&&!a&&(E[i]=s)}}return s}},872:(e,t,n)=>{"use strict";var r=n(604)("%Object.getOwnPropertyDescriptor%",!0);if(r)try{r([],"length")}catch(e){r=null}e.exports=r},188:(e,t,n)=>{"use strict";var r=n(604)("%Object.defineProperty%",!0),o=function(){if(r)try{return r({},"a",{value:1}),!0}catch(e){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==r([],"length",{value:1}).length}catch(e){return!0}},e.exports=o},608:e=>{"use strict";var t={foo:{}},n=Object;e.exports=function(){return{__proto__:t}.foo===t.foo&&!({__proto__:null}instanceof n)}},308:(e,t,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(968);e.exports=function(){return"function"==typeof r&&"function"==typeof Symbol&&"symbol"==typeof r("foo")&&"symbol"==typeof Symbol("bar")&&o()}},968:e=>{"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var r=Object.getOwnPropertySymbols(e);if(1!==r.length||r[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},176:(e,t,n)=>{"use strict";var r=Function.prototype.call,o=Object.prototype.hasOwnProperty,i=n(268);e.exports=i.call(r,o)},600:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},532:(e,t,n)=>{"use strict";var r=("undefined"!=typeof JSON?JSON:n(0)).stringify,o=n(600),i=n(56),s=n(572),a=n(768),l=a("Array.prototype.join"),c=a("Array.prototype.push"),u=function(e,t){for(var n="",r=0;r<e;r+=1)n+=t;return n},h=function(e,t,n){return n};e.exports=function(e){var t=arguments.length>1?arguments[1]:void 0,n=t&&t.space||"";"number"==typeof n&&(n=u(n," "));var a=!!t&&"boolean"==typeof t.cycles&&t.cycles,p=t&&t.replacer?s(t.replacer):h,d="function"==typeof t?t:t&&t.cmp,f=d&&function(e){var t=d.length>2&&function(t){return e[t]};return function(n,r){return d({key:n,value:e[n]},{key:r,value:e[r]},t?{__proto__:null,get:t}:void 0)}},g=[];return function e(t,s,h,d){var m=n?"\n"+u(d,n):"",y=n?": ":":";if(h&&h.toJSON&&"function"==typeof h.toJSON&&(h=h.toJSON()),void 0!==(h=p(t,s,h))){if("object"!=typeof h||null===h)return r(h);if(o(h)){for(var v=[],b=0;b<h.length;b++){var _=e(h,b,h[b],d+1)||r(null);c(v,m+n+_)}return"["+l(v,",")+m+"]"}if(-1!==g.indexOf(h)){if(a)return r("__cycle__");throw new TypeError("Converting circular structure to JSON")}c(g,h);var E=i(h).sort(f&&f(h));for(v=[],b=0;b<E.length;b++){var w=e(h,s=E[b],h[s],d+1);if(w){var T=r(s)+y+w;c(v,m+n+T)}}return g.splice(g.indexOf(h),1),"{"+l(v,",")+m+"}"}}({"":e},"",e,0)}},0:(e,t,n)=>{"use strict";t.parse=n(960),t.stringify=n(136)},960:e=>{"use strict";var t,n,r,o={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function i(e){throw{name:"SyntaxError",message:e,at:t,text:r}}function s(e){return e&&e!==n&&i("Expected '"+e+"' instead of '"+n+"'"),n=r.charAt(t),t+=1,n}function a(){var e,t="";for("-"===n&&(t="-",s("-"));n>="0"&&n<="9";)t+=n,s();if("."===n)for(t+=".";s()&&n>="0"&&n<="9";)t+=n;if("e"===n||"E"===n)for(t+=n,s(),"-"!==n&&"+"!==n||(t+=n,s());n>="0"&&n<="9";)t+=n,s();return e=Number(t),isFinite(e)||i("Bad number"),e}function l(){var e,t,r,a="";if('"'===n)for(;s();){if('"'===n)return s(),a;if("\\"===n)if(s(),"u"===n){for(r=0,t=0;t<4&&(e=parseInt(s(),16),isFinite(e));t+=1)r=16*r+e;a+=String.fromCharCode(r)}else{if("string"!=typeof o[n])break;a+=o[n]}else a+=n}i("Bad string")}function c(){for(;n&&n<=" ";)s()}function u(){switch(c(),n){case"{":return function(){var e,t={};if("{"===n){if(s("{"),c(),"}"===n)return s("}"),t;for(;n;){if(e=l(),c(),s(":"),Object.prototype.hasOwnProperty.call(t,e)&&i('Duplicate key "'+e+'"'),t[e]=u(),c(),"}"===n)return s("}"),t;s(","),c()}}i("Bad object")}();case"[":return function(){var e=[];if("["===n){if(s("["),c(),"]"===n)return s("]"),e;for(;n;){if(e.push(u()),c(),"]"===n)return s("]"),e;s(","),c()}}i("Bad array")}();case'"':return l();case"-":return a();default:return n>="0"&&n<="9"?a():function(){switch(n){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null;default:i("Unexpected '"+n+"'")}}()}}e.exports=function(e,o){var s;return r=e,t=0,n=" ",s=u(),c(),n&&i("Syntax error"),"function"==typeof o?function e(t,n){var r,i,s=t[n];if(s&&"object"==typeof s)for(r in u)Object.prototype.hasOwnProperty.call(s,r)&&(void 0===(i=e(s,r))?delete s[r]:s[r]=i);return o.call(t,n,s)}({"":s},""):s}},136:e=>{"use strict";var t,n,r,o=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function s(e){return o.lastIndex=0,o.test(e)?'"'+e.replace(o,(function(e){var t=i[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function a(e,o){var i,l,c,u,h,p=t,d=o[e];switch(d&&"object"==typeof d&&"function"==typeof d.toJSON&&(d=d.toJSON(e)),"function"==typeof r&&(d=r.call(o,e,d)),typeof d){case"string":return s(d);case"number":return isFinite(d)?String(d):"null";case"boolean":case"null":return String(d);case"object":if(!d)return"null";if(t+=n,h=[],"[object Array]"===Object.prototype.toString.apply(d)){for(u=d.length,i=0;i<u;i+=1)h[i]=a(i,d)||"null";return c=0===h.length?"[]":t?"[\n"+t+h.join(",\n"+t)+"\n"+p+"]":"["+h.join(",")+"]",t=p,c}if(r&&"object"==typeof r)for(u=r.length,i=0;i<u;i+=1)"string"==typeof(l=r[i])&&(c=a(l,d))&&h.push(s(l)+(t?": ":":")+c);else for(l in d)Object.prototype.hasOwnProperty.call(d,l)&&(c=a(l,d))&&h.push(s(l)+(t?": ":":")+c);return c=0===h.length?"{}":t?"{\n"+t+h.join(",\n"+t)+"\n"+p+"}":"{"+h.join(",")+"}",t=p,c}}e.exports=function(e,o,i){var s;if(t="",n="","number"==typeof i)for(s=0;s<i;s+=1)n+=" ";else"string"==typeof i&&(n=i);if(r=o,o&&"function"!=typeof o&&("object"!=typeof o||"number"!=typeof o.length))throw new Error("JSON.stringify");return a("",{"":e})}},816:(e,t,n)=>{"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,s=n(428),a=Object.prototype.propertyIsEnumerable,l=!a.call({toString:null},"toString"),c=a.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],h=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&o.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{h(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===i.call(e),r=s(e),a=t&&"[object String]"===i.call(e),p=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var f=c&&n;if(a&&e.length>0&&!o.call(e,0))for(var g=0;g<e.length;++g)p.push(String(g));if(r&&e.length>0)for(var m=0;m<e.length;++m)p.push(String(m));else for(var y in e)f&&"prototype"===y||!o.call(e,y)||p.push(String(y));if(l)for(var v=function(e){if("undefined"==typeof window||!d)return h(e);try{return h(e)}catch(e){return!1}}(e),b=0;b<u.length;++b)v&&"constructor"===u[b]||!o.call(e,u[b])||p.push(u[b]);return p}}e.exports=r},56:(e,t,n)=>{"use strict";var r=Array.prototype.slice,o=n(428),i=Object.keys,s=i?function(e){return i(e)}:n(816),a=Object.keys;s.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return o(e)?a(r.call(e)):a(e)})}else Object.keys=s;return Object.keys||s},e.exports=s},428:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var n=t.call(e),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),r}},392:(e,t,n)=>{"use strict";var r=n(604),o=n(456),i=n(188)(),s=n(872),a=n(556),l=r("%Math.floor%");e.exports=function(e,t){if("function"!=typeof e)throw new a("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||l(t)!==t)throw new a("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],r=!0,c=!0;if("length"in e&&s){var u=s(e,"length");u&&!u.configurable&&(r=!1),u&&!u.writable&&(c=!1)}return(r||c||!n)&&(i?o(e,"length",t,!0,!0):o(e,"length",t)),e}},636:(e,t,n)=>{var r=n(848).default;function o(){"use strict";e.exports=o=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},i=Object.prototype,s=i.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},l="function"==typeof Symbol?Symbol:{},c=l.iterator||"@@iterator",u=l.asyncIterator||"@@asyncIterator",h=l.toStringTag||"@@toStringTag";function p(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof _?t:_,i=Object.create(o.prototype),s=new $(r||[]);return a(i,"_invoke",{value:x(e,n,s)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var g="suspendedStart",m="suspendedYield",y="executing",v="completed",b={};function _(){}function E(){}function w(){}var T={};p(T,c,(function(){return this}));var k=Object.getPrototypeOf,S=k&&k(k(D([])));S&&S!==i&&s.call(S,c)&&(T=S);var C=w.prototype=_.prototype=Object.create(T);function O(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(o,i,a,l){var c=f(e[o],e,i);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==r(h)&&s.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,l)}),(function(e){n("throw",e,a,l)})):t.resolve(h).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,l)}))}l(c.arg)}var o;a(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}})}function x(e,n,r){var o=g;return function(i,s){if(o===y)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw s;return{value:t,done:!0}}for(r.method=i,r.arg=s;;){var a=r.delegate;if(a){var l=R(a,r);if(l){if(l===b)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===g)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var c=f(e,n,r);if("normal"===c.type){if(o=r.done?v:m,c.arg===b)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=v,r.method="throw",r.arg=c.arg)}}}function R(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,R(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,b;var s=i.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,b):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function $(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(s.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(r(e)+" is not iterable")}return E.prototype=w,a(C,"constructor",{value:w,configurable:!0}),a(w,"constructor",{value:E,configurable:!0}),E.displayName=p(w,h,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,h,"GeneratorFunction")),e.prototype=Object.create(C),e},n.awrap=function(e){return{__await:e}},O(I.prototype),p(I.prototype,u,(function(){return this})),n.AsyncIterator=I,n.async=function(e,t,r,o,i){void 0===i&&(i=Promise);var s=new I(d(e,t,r,o),i);return n.isGeneratorFunction(t)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},O(C),p(C,h,"Generator"),p(C,c,(function(){return this})),p(C,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=D,$.prototype={constructor:$,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var n in this)"t"===n.charAt(0)&&s.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,o){return a.type="throw",a.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var l=s.call(i,"catchLoc"),c=s.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),b}},n}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},848:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},248:(e,t,n)=>{var r=n(636)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};return(()=>{"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function o(e,t,n,r,o,i,s){try{var a=e[i](s),l=a.value}catch(e){return void n(e)}a.done?t(l):Promise.resolve(l).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function a(e){o(s,r,i,a,l,"next",e)}function l(e){o(s,r,i,a,l,"throw",e)}a(void 0)}))}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:String(n)}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,a(r.key),r)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return u(e)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}n.d(r,{default:()=>Pe});var g=n(248),m=n.n(g);function y(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var v=y((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function b(e){return"function"==typeof e}function _(e){return function(t){if(function(e){return b(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}var E=function(e,t){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},E(e,t)};function w(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function T(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}}function k(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function S(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function C(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function O(e){return this instanceof O?(this.v=e,this):new O(e)}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var I=y((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function x(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var R=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var s=k(i),a=s.next();!a.done;a=s.next())a.value.remove(this)}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else i.remove(this);var l=this.initialTeardown;if(b(l))try{l()}catch(e){o=e instanceof I?e.errors:[e]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var u=k(c),h=u.next();!h.done;h=u.next()){var p=h.value;try{$(p)}catch(e){o=null!=o?o:[],e instanceof I?o=C(C([],S(o)),S(e.errors)):o.push(e)}}}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}if(o)throw new I(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)$(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&x(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&x(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}(),N=R.EMPTY;function A(e){return e instanceof R||e&&"closed"in e&&b(e.remove)&&b(e.add)&&b(e.unsubscribe)}function $(e){b(e)?e():e.unsubscribe()}var D={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=D.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,C([e,t],S(n))):setTimeout.apply(void 0,C([e,t],S(n)))},clearTimeout:function(e){var t=D.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function M(e){D.setTimeout((function(){throw e}))}function P(){}var L=B("C",void 0,void 0);function B(e,t,n){return{kind:e,value:t,error:n}}function F(e){e()}var j=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,A(t)&&t.add(n)):n.destination=G,n}return w(t,e),t.create=function(e,t,n){return new H(e,t,n)},t.prototype.next=function(e){this.isStopped?W(function(e){return B("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?W(B("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?W(L,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(R);Function.prototype.bind;var U=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){V(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){V(e)}else V(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){V(e)}},e}(),H=function(e){function t(t,n,r){var o,i=e.call(this)||this;return o=b(t)||!t?{next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:t,i.destination=new U(o),i}return w(t,e),t}(j);function V(e){M(e)}function W(e,t){var n=null;n&&D.setTimeout((function(){return n(e,t)}))}var G={closed:!0,next:P,error:function(e){throw e},complete:P};function z(e,t,n,r,o){return new q(e,t,n,r,o)}var q=function(e){function t(t,n,r,o,i,s){var a=e.call(this,t)||this;return a.onFinalize=i,a.shouldUnsubscribe=s,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return w(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(j);function Y(e,t){return _((function(n,r){var o=0;n.subscribe(z(r,(function(n){return e.call(t,n,o++)&&r.next(n)})))}))}var X="function"==typeof Symbol&&Symbol.observable||"@@observable";function K(e){return e}var J=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,o=this,i=(r=e)&&r instanceof j||function(e){return e&&b(e.next)&&b(e.error)&&b(e.complete)}(r)&&A(r)?e:new H(e,t,n);return F((function(){var e=o,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?o._subscribe(i):o._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=Z(t))((function(t,r){var o=new H({next:function(t){try{e(t)}catch(e){r(e),o.unsubscribe()}},error:r,complete:t});n.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[X]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===(n=e).length?K:1===n.length?n[0]:function(e){return n.reduce((function(e,t){return t(e)}),e)})(this);var n},e.prototype.toPromise=function(e){var t=this;return new(e=Z(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function Z(e){var t;return null!==(t=null!=e?e:undefined)&&void 0!==t?t:Promise}function Q(){return new v}function ee(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Y((function(t,n){return e(t,n,r)})):K,_((function(e,t){var n=0;e.subscribe(z(t,(function(e){++n<=1&&(t.next(e),1<=n&&t.complete())})))})),n?function(e){return _((function(t,n){var r=!1;t.subscribe(z(n,(function(e){r=!0,n.next(e)}),(function(){r||n.next(e),n.complete()})))}))}(t):function(e){return void 0===e&&(e=Q),_((function(t,n){var r=!1;t.subscribe(z(n,(function(e){r=!0,n.next(e)}),(function(){return r?n.complete():n.error(e())})))}))}((function(){return new v})))}}new J((function(e){return e.complete()}));var te="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function ne(e){if(e instanceof J)return e;if(null!=e){if(function(e){return b(e[X])}(e))return i=e,new J((function(e){var t=i[X]();if(b(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}(e))return o=e,new J((function(e){for(var t=0;t<o.length&&!e.closed;t++)e.next(o[t]);e.complete()}));if(b(null==(r=e)?void 0:r.then))return n=e,new J((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,M)}));if(function(e){return Symbol.asyncIterator&&b(null==e?void 0:e[Symbol.asyncIterator])}(e))return re(e);if(function(e){return b(null==e?void 0:e[te])}(e))return t=e,new J((function(e){var n,r;try{for(var o=k(t),i=o.next();!i.done;i=o.next()){var s=i.value;if(e.next(s),e.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}e.complete()}));if(function(e){return b(null==e?void 0:e.getReader)}(e))return re(function(e){return function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof O?Promise.resolve(n.value.v).then(l,c):u(i[0][2],n)}catch(e){u(i[0][3],e)}var n}function l(e){a("next",e)}function c(e){a("throw",e)}function u(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,(function(){var t,n,r;return T(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,O(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,O(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,O(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e))}var t,n,r,o,i;throw function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}(e)}function re(e){return new J((function(t){(function(e,t){var n,r,o,i,s,a,l;return s=this,l=function(){var s,a;return T(this,(function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),n=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=k(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}(e),l.label=1;case 1:return[4,n.next()];case 2:if((r=l.sent()).done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),o={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{o(l.next(e))}catch(e){t(e)}}function r(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof a?o:new a((function(e){e(o)}))).then(n,r)}o((l=l.apply(s,[])).next())}))})(e,t).catch((function(e){return t.error(e)}))}))}var oe=y((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),ie=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return w(t,e),t.prototype.lift=function(e){var t=new se(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new oe},t.prototype.next=function(e){var t=this;F((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=k(t.currentObservers),i=o.next();!i.done;i=o.next())i.value.next(e)}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;F((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;F((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,o=n.isStopped,i=n.observers;return r||o?N:(this.currentObservers=null,i.push(e),new R((function(){t.currentObservers=null,x(i,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,o=t.isStopped;n?e.error(r):o&&e.complete()},t.prototype.asObservable=function(){var e=new J;return e.source=this,e},t.create=function(e,t){return new se(e,t)},t}(J),se=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return w(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:N},t}(ie);function ae(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new ie}:t,r=e.resetOnError,o=void 0===r||r,i=e.resetOnComplete,s=void 0===i||i,a=e.resetOnRefCountZero,l=void 0===a||a;return function(e){var t,r,i,a=0,c=!1,u=!1,h=function(){null==r||r.unsubscribe(),r=void 0},p=function(){h(),t=i=void 0,c=u=!1},d=function(){var e=t;p(),null==e||e.unsubscribe()};return _((function(e,f){a++,u||c||h();var g=i=null!=i?i:n();f.add((function(){0!=--a||u||c||(r=le(d,l))})),g.subscribe(f),!t&&a>0&&(t=new H({next:function(e){return g.next(e)},error:function(e){u=!0,h(),r=le(p,o,e),g.error(e)},complete:function(){c=!0,h(),r=le(p,s),g.complete()}}),ne(e).subscribe(t))}))(e)}}function le(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0!==t){if(!1!==t){var o=new H({next:function(){o.unsubscribe(),e()}});return ne(t.apply(void 0,C([],S(n)))).subscribe(o)}}else e()}function ce(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue=function(){function e(){s(this,e)}return c(e,[{key:"accountClosure",value:function(){var e={method:"account_closure",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_closure:{required:1,type:"numeric"},passthrough:{},reason:{required:1,type:"string"},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"accountSecurity",value:function(){var e={method:"account_security",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_security:{required:1,type:"numeric"},otp:{type:"string"},passthrough:{},req_id:{type:"numeric"},totp_action:{type:"string"}}};return this.processRequest(e)}},{key:"accountStatistics",value:function(){var e={method:"account_statistics",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_statistics:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"activeSymbols",value:function(){var e={method:"active_symbols",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{active_symbols:{required:1,type:"string"},landing_company:{type:"string"},passthrough:{},product_type:{type:"string"},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"affiliateAccountAdd",value:function(){var e={method:"affiliate_account_add",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{address_city:{required:1,type:"string"},address_line_1:{required:1,type:"string"},address_line_2:{type:"string"},address_postcode:{required:1,type:"string"},address_state:{required:1,type:"string"},affiliate_account_add:{required:1,type:"numeric"},country:{required:1,type:"string"},first_name:{required:1,type:"string"},last_name:{required:1,type:"string"},non_pep_declaration:{required:1,type:"numeric"},passthrough:{},password:{required:1,type:"string"},phone:{required:1,type:"string"},req_id:{type:"numeric"},tnc_accepted:{required:1,type:"numeric"},username:{required:1,type:"string"}}};return this.processRequest(e)}},{key:"apiToken",value:function(){var e={method:"api_token",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{api_token:{required:1,type:"numeric"},delete_token:{type:"string"},new_token:{type:"string"},new_token_scopes:{},passthrough:{},req_id:{type:"numeric"},valid_for_current_ip_only:{type:"numeric"}}};return this.processRequest(e)}},{key:"appDelete",value:function(){var e={method:"app_delete",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{app_delete:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"appGet",value:function(){var e={method:"app_get",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{app_get:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"appList",value:function(){var e={method:"app_list",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{app_list:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"appMarkupDetails",value:function(){var e={method:"app_markup_details",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{app_id:{type:"numeric"},app_markup_details:{required:1,type:"numeric"},client_loginid:{type:"string"},date_from:{required:1,type:"string"},date_to:{required:1,type:"string"},description:{type:"numeric"},limit:{type:"numeric"},offset:{type:"numeric"},passthrough:{},req_id:{type:"numeric"},sort:{type:"string"},sort_fields:{}}};return this.processRequest(e)}},{key:"appRegister",value:function(){var e={method:"app_register",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{app_markup_percentage:{type:"numeric"},app_register:{required:1,type:"numeric"},appstore:{type:"string"},github:{type:"string"},googleplay:{type:"string"},homepage:{type:"string"},name:{required:1,type:"string"},passthrough:{},redirect_uri:{type:"string"},req_id:{type:"numeric"},scopes:{required:1},verification_uri:{type:"string"}}};return this.processRequest(e)}},{key:"appUpdate",value:function(){var e={method:"app_update",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{app_markup_percentage:{type:"numeric"},app_update:{required:1,type:"numeric"},appstore:{type:"string"},github:{type:"string"},googleplay:{type:"string"},homepage:{type:"string"},name:{required:1,type:"string"},passthrough:{},redirect_uri:{type:"string"},req_id:{type:"numeric"},scopes:{required:1},verification_uri:{type:"string"}}};return this.processRequest(e)}},{key:"assetIndex",value:function(){var e={method:"asset_index",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{asset_index:{required:1,type:"numeric"},landing_company:{type:"string"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"authorize",value:function(){var e={method:"authorize",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{add_to_login_history:{type:"numeric"},authorize:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"balance",value:function(){var e={method:"balance",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account:{type:"string"},balance:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},subscribe:{type:"numeric"}}};return this.processRequest(e)}},{key:"buy",value:function(){var e={method:"buy",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{buy:{required:1,type:"string"},parameters:{amount:{type:"numeric"},app_markup_percentage:{type:"numeric"},barrier:{type:"string"},barrier2:{type:"string"},barrier_range:{type:"string"},basis:{type:"string"},cancellation:{type:"string"},contract_type:{required:1,type:"string"},currency:{required:1,type:"string"},date_expiry:{type:"numeric"},date_start:{type:"numeric"},duration:{type:"numeric"},duration_unit:{type:"string"},limit_order:{stop_loss:{type:"numeric"},take_profit:{type:"numeric"}},multiplier:{type:"numeric"},product_type:{type:"string"},selected_tick:{type:"numeric"},symbol:{required:1,type:"string"},trading_period_start:{type:"numeric"}},passthrough:{},price:{required:1,type:"numeric"},req_id:{type:"numeric"},subscribe:{type:"numeric"}}};return this.processRequest(e)}},{key:"buyContractForMultipleAccounts",value:function(){var e={method:"buy_contract_for_multiple_accounts",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{buy_contract_for_multiple_accounts:{required:1,type:"string"},parameters:{amount:{type:"numeric"},app_markup_percentage:{type:"numeric"},barrier:{type:"string"},barrier2:{type:"string"},basis:{type:"string"},contract_type:{required:1,type:"string"},currency:{required:1,type:"string"},date_expiry:{type:"numeric"},date_start:{type:"numeric"},duration:{type:"numeric"},duration_unit:{type:"string"},multiplier:{type:"numeric"},selected_tick:{type:"numeric"},symbol:{required:1,type:"string"}},passthrough:{},price:{required:1,type:"numeric"},req_id:{type:"numeric"},tokens:{required:1}}};return this.processRequest(e)}},{key:"cancel",value:function(){var e={method:"cancel",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{cancel:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"cashier",value:function(){var e={method:"cashier",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{address:{type:"string"},amount:{type:"numeric"},cashier:{required:1,type:"string"},dry_run:{type:"numeric"},passthrough:{},provider:{type:"string"},req_id:{type:"numeric"},type:{type:"string"},verification_code:{type:"string"}}};return this.processRequest(e)}},{key:"cashierPayments",value:function(){var e={method:"cashier_payments",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{cashier_payments:{required:1,type:"numeric"},passthrough:{},provider:{type:"string"},req_id:{type:"numeric"},subscribe:{type:"numeric"},transaction_type:{type:"string"}}};return this.processRequest(e)}},{key:"cashierWithdrawalCancel",value:function(){var e={method:"cashier_withdrawal_cancel",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{cashier_withdrawal_cancel:{required:1,type:"numeric"},id:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"changeEmail",value:function(){var e={method:"change_email",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{change_email:{required:1,type:"string"},new_email:{required:1,type:"string"},new_password:{type:"string"},passthrough:{},req_id:{type:"numeric"},verification_code:{required:1,type:"string"}}};return this.processRequest(e)}},{key:"changePassword",value:function(){var e={method:"change_password",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{change_password:{required:1,type:"numeric"},new_password:{required:1,type:"string"},old_password:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"contractUpdate",value:function(){var e={method:"contract_update",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{contract_id:{required:1,type:"numeric"},contract_update:{required:1,type:"numeric"},limit_order:{stop_loss:{},take_profit:{}},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"contractUpdateHistory",value:function(){var e={method:"contract_update_history",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{contract_id:{required:1,type:"numeric"},contract_update_history:{required:1,type:"numeric"},limit:{type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"contractsFor",value:function(){var e={method:"contracts_for",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{contracts_for:{required:1,type:"string"},currency:{type:"string"},landing_company:{type:"string"},passthrough:{},product_type:{type:"string"},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"copyStart",value:function(){var e={method:"copy_start",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{assets:{},copy_start:{required:1,type:"string"},max_trade_stake:{type:"numeric"},min_trade_stake:{type:"numeric"},passthrough:{},req_id:{type:"numeric"},trade_types:{}}};return this.processRequest(e)}},{key:"copyStop",value:function(){var e={method:"copy_stop",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{copy_stop:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"copytradingList",value:function(){var e={method:"copytrading_list",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{copytrading_list:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"copytradingStatistics",value:function(){var e={method:"copytrading_statistics",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{copytrading_statistics:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},trader_id:{required:1,type:"string"}}};return this.processRequest(e)}},{key:"cryptoConfig",value:function(){var e={method:"crypto_config",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{crypto_config:{required:1,type:"numeric"},currency_code:{type:"string"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"documentUpload",value:function(){var e={method:"document_upload",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{document_format:{required:1,type:"string"},document_id:{type:"string"},document_issuing_country:{type:"string"},document_type:{required:1,type:"string"},document_upload:{required:1,type:"numeric"},expected_checksum:{required:1,type:"string"},expiration_date:{type:"string"},file_size:{required:1,type:"numeric"},lifetime_valid:{type:"numeric"},page_type:{type:"string"},passthrough:{},proof_of_ownership:{details:{required:1},id:{required:1,type:"numeric"}},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"economicCalendar",value:function(){var e={method:"economic_calendar",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{currency:{type:"string"},economic_calendar:{required:1,type:"numeric"},end_date:{type:"numeric"},passthrough:{},req_id:{type:"numeric"},start_date:{type:"numeric"}}};return this.processRequest(e)}},{key:"exchangeRates",value:function(){var e={method:"exchange_rates",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{base_currency:{required:1,type:"string"},exchange_rates:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},subscribe:{type:"numeric"},target_currency:{type:"string"}}};return this.processRequest(e)}},{key:"forget",value:function(){var e={method:"forget",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{forget:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"forgetAll",value:function(){var e={method:"forget_all",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{forget_all:{required:1},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"getAccountStatus",value:function(){var e={method:"get_account_status",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{get_account_status:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"getAccountTypes",value:function(){var e={method:"get_account_types",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{get_account_types:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"getAvailableAccountsToTransfer",value:function(){var e={method:"get_available_accounts_to_transfer",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{get_available_accounts_to_transfer:{required:1,type:"numeric"},loginid:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"getFinancialAssessment",value:function(){var e={method:"get_financial_assessment",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{get_financial_assessment:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"getLimits",value:function(){var e={method:"get_limits",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{get_limits:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"getSelfExclusion",value:function(){var e={method:"get_self_exclusion",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{get_self_exclusion:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"getSettings",value:function(){var e={method:"get_settings",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{get_settings:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"identityVerificationDocumentAdd",value:function(){var e={method:"identity_verification_document_add",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{document_number:{required:1,type:"string"},document_type:{required:1,type:"string"},identity_verification_document_add:{required:1,type:"numeric"},issuing_country:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"landingCompany",value:function(){var e={method:"landing_company",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{landing_company:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"landingCompanyDetails",value:function(){var e={method:"landing_company_details",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{landing_company_details:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"linkWallet",value:function(){var e={method:"link_wallet",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{client_id:{required:1,type:"string"},link_wallet:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},wallet_id:{required:1,type:"string"}}};return this.processRequest(e)}},{key:"loginHistory",value:function(){var e={method:"login_history",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{limit:{type:"numeric"},login_history:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"logout",value:function(){var e={method:"logout",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{logout:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"mt5Deposit",value:function(){var e={method:"mt5_deposit",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{amount:{type:"numeric"},from_binary:{type:"string"},mt5_deposit:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},to_mt5:{required:1,type:"string"}}};return this.processRequest(e)}},{key:"mt5GetSettings",value:function(){var e={method:"mt5_get_settings",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{login:{required:1,type:"string"},mt5_get_settings:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"mt5LoginList",value:function(){var e={method:"mt5_login_list",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{mt5_login_list:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"mt5NewAccount",value:function(){var e={method:"mt5_new_account",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_type:{required:1,type:"string"},address:{type:"string"},city:{type:"string"},company:{type:"string"},country:{type:"string"},currency:{type:"string"},dry_run:{type:"numeric"},email:{required:1,type:"string"},investPassword:{type:"string"},leverage:{required:1,type:"numeric"},mainPassword:{required:1,type:"string"},mt5_account_category:{type:"string"},mt5_account_type:{type:"string"},mt5_new_account:{required:1,type:"numeric"},name:{required:1,type:"string"},passthrough:{},phone:{type:"string"},phonePassword:{type:"string"},req_id:{type:"numeric"},server:{},state:{type:"string"},zipCode:{type:"string"}}};return this.processRequest(e)}},{key:"mt5PasswordChange",value:function(){var e={method:"mt5_password_change",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{login:{required:1,type:"string"},mt5_password_change:{required:1,type:"numeric"},new_password:{required:1,type:"string"},old_password:{required:1,type:"string"},passthrough:{},password_type:{type:"string"},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"mt5PasswordCheck",value:function(){var e={method:"mt5_password_check",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{login:{required:1,type:"string"},mt5_password_check:{required:1,type:"numeric"},passthrough:{},password:{required:1,type:"string"},password_type:{type:"string"},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"mt5PasswordReset",value:function(){var e={method:"mt5_password_reset",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{login:{required:1,type:"string"},mt5_password_reset:{required:1,type:"numeric"},new_password:{required:1,type:"string"},passthrough:{},password_type:{type:"string"},req_id:{type:"numeric"},verification_code:{required:1,type:"string"}}};return this.processRequest(e)}},{key:"mt5Withdrawal",value:function(){var e={method:"mt5_withdrawal",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{amount:{required:1,type:"numeric"},from_mt5:{required:1,type:"string"},mt5_withdrawal:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},to_binary:{required:1,type:"string"}}};return this.processRequest(e)}},{key:"newAccountMaltainvest",value:function(){var e={method:"new_account_maltainvest",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{accept_risk:{required:1,type:"numeric"},account_opening_reason:{type:"string"},account_turnover:{type:"string"},address_city:{required:1,type:"string"},address_line_1:{required:1,type:"string"},address_line_2:{type:"string"},address_postcode:{type:"string"},address_state:{type:"string"},affiliate_token:{type:"string"},binary_options_trading_experience:{type:"string"},binary_options_trading_frequency:{type:"string"},cfd_trading_experience:{type:"string"},cfd_trading_frequency:{type:"string"},citizen:{type:"string"},client_type:{type:"string"},currency:{type:"string"},date_of_birth:{required:1,type:"string"},education_level:{required:1,type:"string"},employment_industry:{required:1,type:"string"},employment_status:{type:"string"},estimated_worth:{required:1,type:"string"},first_name:{required:1,type:"string"},forex_trading_experience:{type:"string"},forex_trading_frequency:{type:"string"},income_source:{required:1,type:"string"},last_name:{required:1,type:"string"},net_income:{required:1,type:"string"},new_account_maltainvest:{required:1,type:"numeric"},non_pep_declaration:{type:"numeric"},occupation:{required:1,type:"string"},other_instruments_trading_experience:{type:"string"},other_instruments_trading_frequency:{type:"string"},passthrough:{},phone:{},place_of_birth:{type:"string"},req_id:{type:"numeric"},residence:{required:1,type:"string"},salutation:{required:1,type:"string"},secret_answer:{type:"string"},secret_question:{type:"string"},source_of_wealth:{type:"string"},tax_identification_number:{required:1,type:"string"},tax_residence:{required:1,type:"string"}}};return this.processRequest(e)}},{key:"newAccountReal",value:function(){var e={method:"new_account_real",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_opening_reason:{type:"string"},account_turnover:{type:"string"},address_city:{type:"string"},address_line_1:{type:"string"},address_line_2:{type:"string"},address_postcode:{type:"string"},address_state:{type:"string"},affiliate_token:{type:"string"},citizen:{},client_type:{type:"string"},currency:{type:"string"},date_of_birth:{type:"string"},first_name:{type:"string"},last_name:{type:"string"},new_account_real:{required:1,type:"numeric"},non_pep_declaration:{type:"numeric"},passthrough:{},phone:{},place_of_birth:{type:"string"},req_id:{type:"numeric"},residence:{type:"string"},salutation:{type:"string"},secret_answer:{type:"string"},secret_question:{type:"string"},tax_identification_number:{type:"string"},tax_residence:{type:"string"}}};return this.processRequest(e)}},{key:"newAccountVirtual",value:function(){var e={method:"new_account_virtual",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{affiliate_token:{type:"string"},client_password:{type:"string"},date_first_contact:{type:"string"},email_consent:{type:"numeric"},gclid_url:{type:"string"},new_account_virtual:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},residence:{type:"string"},signup_device:{type:"string"},type:{type:"string"},utm_ad_id:{},utm_adgroup_id:{},utm_adrollclk_id:{},utm_campaign:{},utm_campaign_id:{},utm_content:{},utm_fbcl_id:{},utm_gl_client_id:{},utm_medium:{},utm_msclk_id:{},utm_source:{},utm_term:{},verification_code:{type:"string"}}};return this.processRequest(e)}},{key:"newAccountWallet",value:function(){var e={method:"new_account_wallet",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{address_city:{type:"string"},address_line_1:{type:"string"},address_line_2:{type:"string"},address_postcode:{type:"string"},address_state:{type:"string"},currency:{required:1,type:"string"},date_of_birth:{type:"string"},first_name:{type:"string"},last_name:{type:"string"},new_account_wallet:{required:1,type:"numeric"},non_pep_declaration:{type:"numeric"},passthrough:{},payment_method:{required:1,type:"string"},phone:{type:"string"},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"notificationEvent",value:function(){var e={method:"notification_event",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{args:{documents:{}},category:{required:1,type:"string"},event:{required:1,type:"string"},notification_event:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"oauthApps",value:function(){var e={method:"oauth_apps",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{oauth_apps:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"p2pAdvertCreate",value:function(){var e={method:"p2p_advert_create",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{amount:{required:1,type:"numeric"},contact_info:{type:"string"},description:{type:"string"},local_currency:{type:"string"},max_order_amount:{required:1,type:"numeric"},min_order_amount:{required:1,type:"numeric"},p2p_advert_create:{required:1,type:"numeric"},passthrough:{},payment_info:{type:"string"},payment_method:{type:"string"},payment_method_ids:{},payment_method_names:{},rate:{required:1,type:"numeric"},rate_type:{type:"string"},req_id:{type:"numeric"},type:{required:1,type:"string"}}};return this.processRequest(e)}},{key:"p2pAdvertInfo",value:function(){var e={method:"p2p_advert_info",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{id:{type:"string"},p2p_advert_info:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},subscribe:{type:"numeric"},use_client_limits:{type:"numeric"}}};return this.processRequest(e)}},{key:"p2pAdvertList",value:function(){var e={method:"p2p_advert_list",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{advertiser_id:{type:"string"},advertiser_name:{type:"string"},amount:{type:"numeric"},counterparty_type:{type:"string"},favourites_only:{type:"numeric"},limit:{type:"numeric"},local_currency:{type:"string"},offset:{type:"numeric"},p2p_advert_list:{required:1,type:"numeric"},passthrough:{},payment_method:{},req_id:{type:"numeric"},sort_by:{type:"string"},use_client_limits:{type:"numeric"}}};return this.processRequest(e)}},{key:"p2pAdvertUpdate",value:function(){var e={method:"p2p_advert_update",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{contact_info:{type:"string"},delete:{type:"numeric"},description:{type:"string"},id:{required:1,type:"string"},is_active:{type:"numeric"},local_currency:{type:"string"},max_order_amount:{type:"numeric"},min_order_amount:{type:"numeric"},p2p_advert_update:{required:1,type:"numeric"},passthrough:{},payment_info:{type:"string"},payment_method_ids:{},payment_method_names:{},rate:{type:"numeric"},rate_type:{type:"string"},remaining_amount:{type:"numeric"},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"p2pAdvertiserAdverts",value:function(){var e={method:"p2p_advertiser_adverts",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{limit:{type:"numeric"},offset:{type:"numeric"},p2p_advertiser_adverts:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"p2pAdvertiserCreate",value:function(){var e={method:"p2p_advertiser_create",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{contact_info:{type:"string"},default_advert_description:{type:"string"},name:{required:1,type:"string"},p2p_advertiser_create:{required:1,type:"numeric"},passthrough:{},payment_info:{type:"string"},req_id:{type:"numeric"},subscribe:{type:"numeric"}}};return this.processRequest(e)}},{key:"p2pAdvertiserInfo",value:function(){var e={method:"p2p_advertiser_info",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{id:{type:"string"},p2p_advertiser_info:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},subscribe:{type:"numeric"}}};return this.processRequest(e)}},{key:"p2pAdvertiserPaymentMethods",value:function(){var e={method:"p2p_advertiser_payment_methods",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{create:{},delete:{},p2p_advertiser_payment_methods:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},update:{}}};return this.processRequest(e)}},{key:"p2pAdvertiserRelations",value:function(){var e={method:"p2p_advertiser_relations",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{add_blocked:{},add_favourites:{},p2p_advertiser_relations:{required:1,type:"numeric"},passthrough:{},remove_blocked:{},remove_favourites:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"p2pAdvertiserUpdate",value:function(){var e={method:"p2p_advertiser_update",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{contact_info:{type:"string"},default_advert_description:{type:"string"},is_listed:{type:"numeric"},p2p_advertiser_update:{required:1,type:"numeric"},passthrough:{},payment_info:{type:"string"},req_id:{type:"numeric"},show_name:{type:"numeric"}}};return this.processRequest(e)}},{key:"p2pChatCreate",value:function(){var e={method:"p2p_chat_create",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{order_id:{required:1,type:"string"},p2p_chat_create:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"p2pOrderCancel",value:function(){var e={method:"p2p_order_cancel",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{id:{required:1,type:"string"},p2p_order_cancel:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"p2pOrderConfirm",value:function(){var e={method:"p2p_order_confirm",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{id:{required:1,type:"string"},p2p_order_confirm:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"p2pOrderCreate",value:function(){var e={method:"p2p_order_create",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{advert_id:{required:1,type:"string"},amount:{required:1,type:"numeric"},contact_info:{type:"string"},p2p_order_create:{required:1,type:"numeric"},passthrough:{},payment_info:{type:"string"},payment_method_ids:{},rate:{type:"numeric"},req_id:{type:"numeric"},subscribe:{type:"numeric"}}};return this.processRequest(e)}},{key:"p2pOrderDispute",value:function(){var e={method:"p2p_order_dispute",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{dispute_reason:{required:1,type:"string"},id:{required:1,type:"string"},p2p_order_dispute:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"p2pOrderInfo",value:function(){var e={method:"p2p_order_info",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{id:{required:1,type:"string"},p2p_order_info:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},subscribe:{type:"numeric"}}};return this.processRequest(e)}},{key:"p2pOrderList",value:function(){var e={method:"p2p_order_list",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{active:{type:"numeric"},advert_id:{type:"string"},limit:{type:"numeric"},offset:{type:"numeric"},p2p_order_list:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"},subscribe:{type:"numeric"}}};return this.processRequest(e)}},{key:"p2pOrderReview",value:function(){var e={method:"p2p_order_review",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{order_id:{required:1,type:"string"},p2p_order_review:{required:1,type:"numeric"},passthrough:{},rating:{required:1,type:"numeric"},recommended:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"p2pPaymentMethods",value:function(){var e={method:"p2p_payment_methods",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{p2p_payment_methods:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"p2pPing",value:function(){var e={method:"p2p_ping",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{p2p_ping:{required:1,type:"numeric"},passthrough:{},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"paymentMethods",value:function(){var e={method:"payment_methods",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{country:{type:"string"},passthrough:{},payment_methods:{required:1,type:"numeric"},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"paymentagentCreate",value:function(){var e={method:"paymentagent_create",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{affiliate_id:{type:"string"},code_of_conduct_approval:{required:1,type:"numeric"},commission_deposit:{required:1,type:"numeric"},commission_withdrawal:{required:1,type:"numeric"},email:{required:1,type:"string"},information:{required:1,type:"string"},passthrough:{},payment_agent_name:{required:1,type:"string"},paymentagent_create:{required:1,type:"numeric"},phone_numbers:{},req_id:{type:"numeric"},supported_payment_methods:{required:1},urls:{required:1}}};return this.processRequest(e)}},{key:"paymentagentDetails",value:function(){var e={method:"paymentagent_details",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},paymentagent_details:{required:1,type:"numeric"},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"paymentagentList",value:function(){var e={method:"paymentagent_list",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{currency:{type:"string"},passthrough:{},paymentagent_list:{required:1,type:"string"},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"paymentagentTransfer",value:function(){var e={method:"paymentagent_transfer",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{amount:{required:1,type:"numeric"},currency:{required:1,type:"string"},description:{type:"string"},dry_run:{type:"numeric"},passthrough:{},paymentagent_transfer:{required:1,type:"numeric"},req_id:{type:"numeric"},transfer_to:{required:1,type:"string"}}};return this.processRequest(e)}},{key:"paymentagentWithdraw",value:function(){var e={method:"paymentagent_withdraw",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{amount:{required:1,type:"numeric"},currency:{required:1,type:"string"},description:{type:"string"},dry_run:{type:"numeric"},passthrough:{},paymentagent_loginid:{required:1,type:"string"},paymentagent_withdraw:{required:1,type:"numeric"},req_id:{type:"numeric"},verification_code:{required:1,type:"string"}}};return this.processRequest(e)}},{key:"payoutCurrencies",value:function(){var e={method:"payout_currencies",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},payout_currencies:{required:1,type:"numeric"},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"ping",value:function(){var e={method:"ping",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},ping:{required:1,type:"numeric"},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"portfolio",value:function(){var e={method:"portfolio",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{contract_type:{},passthrough:{},portfolio:{required:1,type:"numeric"},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"profitTable",value:function(){var e={method:"profit_table",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{contract_type:{},date_from:{type:"string"},date_to:{type:"string"},description:{type:"numeric"},limit:{type:"numeric"},offset:{type:"numeric"},passthrough:{},profit_table:{required:1,type:"numeric"},req_id:{type:"numeric"},sort:{type:"string"}}};return this.processRequest(e)}},{key:"proposal",value:function(){var e={method:"proposal",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{amount:{type:"numeric"},barrier:{type:"string"},barrier2:{type:"string"},barrier_range:{type:"string"},basis:{type:"string"},cancellation:{type:"string"},contract_type:{required:1,type:"string"},currency:{required:1,type:"string"},date_expiry:{type:"numeric"},date_start:{type:"numeric"},duration:{type:"numeric"},duration_unit:{type:"string"},limit_order:{stop_loss:{type:"numeric"},take_profit:{type:"numeric"}},multiplier:{type:"numeric"},passthrough:{},product_type:{type:"string"},proposal:{required:1,type:"numeric"},req_id:{type:"numeric"},selected_tick:{type:"numeric"},subscribe:{type:"numeric"},symbol:{required:1,type:"string"},trading_period_start:{type:"numeric"}}};return this.processRequest(e)}},{key:"proposalOpenContract",value:function(){var e={method:"proposal_open_contract",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{contract_id:{type:"numeric"},passthrough:{},proposal_open_contract:{required:1,type:"numeric"},req_id:{type:"numeric"},subscribe:{type:"numeric"}}};return this.processRequest(e)}},{key:"realityCheck",value:function(){var e={method:"reality_check",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},reality_check:{required:1,type:"numeric"},req_id:{type:"numeric"}}};return this.processRequest(e)}},{key:"requestReport",value:function(){var e={method:"request_report",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{date_from:{required:1,type:"numeric"},date_to:{required:1,type:"numeric"},passthrough:{},report_type:{required:1,type:"string"},req_id:{type:"numeric"},request_report:{required:1,type:"numeric"}}};return this.processRequest(e)}},{key:"resetPassword",value:function(){var e={method:"reset_password",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{date_of_birth:{type:"string"},new_password:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"},reset_password:{required:1,type:"numeric"},verification_code:{required:1,type:"string"}}};return this.processRequest(e)}},{key:"residenceList",value:function(){var e={method:"residence_list",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:"numeric"},residence_list:{required:1,type:"numeric"}}};return this.processRequest(e)}},{key:"revokeOauthApp",value:function(){var e={method:"revoke_oauth_app",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:"numeric"},revoke_oauth_app:{required:1,type:"numeric"}}};return this.processRequest(e)}},{key:"sell",value:function(){var e={method:"sell",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},price:{required:1,type:"numeric"},req_id:{type:"numeric"},sell:{required:1,type:"numeric"}}};return this.processRequest(e)}},{key:"sellContractForMultipleAccounts",value:function(){var e={method:"sell_contract_for_multiple_accounts",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},price:{required:1,type:"numeric"},req_id:{type:"numeric"},sell_contract_for_multiple_accounts:{required:1,type:"numeric"},shortcode:{required:1,type:"string"},tokens:{required:1}}};return this.processRequest(e)}},{key:"sellExpired",value:function(){var e={method:"sell_expired",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:"numeric"},sell_expired:{required:1,type:"numeric"}}};return this.processRequest(e)}},{key:"serviceToken",value:function(){var e={method:"service_token",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{country:{type:"string"},passthrough:{},referrer:{type:"string"},req_id:{type:"numeric"},server:{type:"string"},service:{required:1},service_token:{required:1,type:"numeric"}}};return this.processRequest(e)}},{key:"setAccountCurrency",value:function(){var e={method:"set_account_currency",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:"numeric"},set_account_currency:{required:1,type:"string"}}};return this.processRequest(e)}},{key:"setFinancialAssessment",value:function(){var e={method:"set_financial_assessment",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_turnover:{type:"string"},binary_options_trading_experience:{type:"string"},binary_options_trading_frequency:{type:"string"},cfd_trading_experience:{type:"string"},cfd_trading_frequency:{type:"string"},education_level:{required:1,type:"string"},employment_industry:{required:1,type:"string"},employment_status:{type:"string"},estimated_worth:{required:1,type:"string"},forex_trading_experience:{type:"string"},forex_trading_frequency:{type:"string"},income_source:{required:1,type:"string"},net_income:{required:1,type:"string"},occupation:{required:1,type:"string"},other_instruments_trading_experience:{type:"string"},other_instruments_trading_frequency:{type:"string"},passthrough:{},req_id:{type:"numeric"},set_financial_assessment:{required:1,type:"numeric"},source_of_wealth:{type:"string"}}};return this.processRequest(e)}},{key:"setSelfExclusion",value:function(){var e={method:"set_self_exclusion",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{exclude_until:{},max_30day_deposit:{},max_30day_losses:{},max_30day_turnover:{},max_7day_deposit:{},max_7day_losses:{},max_7day_turnover:{},max_balance:{},max_deposit:{},max_losses:{},max_open_bets:{},max_turnover:{},passthrough:{},req_id:{type:"numeric"},session_duration_limit:{},set_self_exclusion:{required:1,type:"numeric"},timeout_until:{}}};return this.processRequest(e)}},{key:"setSettings",value:function(){var e={method:"set_settings",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_opening_reason:{type:"string"},address_city:{type:"string"},address_line_1:{type:"string"},address_line_2:{},address_postcode:{type:"string"},address_state:{type:"string"},allow_copiers:{type:"numeric"},citizen:{},date_of_birth:{type:"string"},email_consent:{type:"numeric"},feature_flag:{wallet:{type:"numeric"}},first_name:{type:"string"},last_name:{type:"string"},non_pep_declaration:{type:"numeric"},passthrough:{},phone:{},place_of_birth:{type:"string"},preferred_language:{},req_id:{type:"numeric"},request_professional_status:{type:"numeric"},residence:{},salutation:{type:"string"},secret_answer:{type:"string"},secret_question:{type:"string"},set_settings:{required:1,type:"numeric"},tax_identification_number:{type:"string"},tax_residence:{type:"string"}}};return this.processRequest(e)}},{key:"statement",value:function(){var e={method:"statement",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{action_type:{type:"string"},date_from:{type:"numeric"},date_to:{type:"numeric"},description:{type:"numeric"},limit:{type:"numeric"},offset:{type:"numeric"},passthrough:{},req_id:{type:"numeric"},statement:{required:1,type:"numeric"}}};return this.processRequest(e)}},{key:"statesList",value:function(){var e={method:"states_list",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:"numeric"},states_list:{required:1,type:"string"}}};return this.processRequest(e)}},{key:"ticks",value:function(){var e={method:"ticks",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:"numeric"},subscribe:{type:"numeric"},ticks:{required:1}}};return this.processRequest(e)}},{key:"ticksHistory",value:function(){var e={method:"ticks_history",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{adjust_start_time:{type:"numeric"},count:{type:"numeric"},end:{required:1,type:"string"},granularity:{type:"numeric"},passthrough:{},req_id:{type:"numeric"},start:{type:"numeric"},style:{type:"string"},subscribe:{type:"numeric"},ticks_history:{required:1,type:"string"}}};return this.processRequest(e)}},{key:"time",value:function(){var e={method:"time",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:"numeric"},time:{required:1,type:"numeric"}}};return this.processRequest(e)}},{key:"tncApproval",value:function(){var e={method:"tnc_approval",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{affiliate_coc_agreement:{type:"numeric"},passthrough:{},req_id:{type:"numeric"},tnc_approval:{required:1,type:"numeric"},ukgc_funds_protection:{type:"numeric"}}};return this.processRequest(e)}},{key:"topupVirtual",value:function(){var e={method:"topup_virtual",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:"numeric"},topup_virtual:{required:1,type:"numeric"}}};return this.processRequest(e)}},{key:"tradingDurations",value:function(){var e={method:"trading_durations",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{landing_company:{type:"string"},passthrough:{},req_id:{type:"numeric"},trading_durations:{required:1,type:"numeric"}}};return this.processRequest(e)}},{key:"tradingPlatformAccounts",value:function(){var e={method:"trading_platform_accounts",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},platform:{required:1,type:"string"},req_id:{type:"numeric"},trading_platform_accounts:{required:1,type:"numeric"}}};return this.processRequest(e)}},{key:"tradingPlatformDeposit",value:function(){var e={method:"trading_platform_deposit",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{amount:{type:"numeric"},from_account:{type:"string"},passthrough:{},platform:{required:1,type:"string"},req_id:{type:"numeric"},to_account:{required:1,type:"string"},trading_platform_deposit:{required:1,type:"numeric"}}};return this.processRequest(e)}},{key:"tradingPlatformInvestorPasswordChange",value:function(){var e={method:"trading_platform_investor_password_change",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_id:{required:1,type:"string"},new_password:{required:1,type:"string"},old_password:{required:1,type:"string"},passthrough:{},platform:{required:1,type:"string"},req_id:{type:"numeric"},trading_platform_investor_password_change:{required:1,type:"numeric"}}};return this.processRequest(e)}},{key:"tradingPlatformInvestorPasswordReset",value:function(){var e={method:"trading_platform_investor_password_reset",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_id:{required:1,type:"string"},new_password:{required:1,type:"string"},passthrough:{},platform:{required:1,type:"string"},req_id:{type:"numeric"},trading_platform_investor_password_reset:{required:1,type:"numeric"},verification_code:{required:1,type:"string"}}};return this.processRequest(e)}},{key:"tradingPlatformNewAccount",value:function(){var e={method:"trading_platform_new_account",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_type:{required:1,type:"string"},currency:{type:"string"},dry_run:{type:"numeric"},market_type:{required:1,type:"string"},passthrough:{},password:{required:1,type:"string"},platform:{required:1,type:"string"},req_id:{type:"numeric"},sub_account_type:{type:"string"},trading_platform_new_account:{required:1,type:"numeric"}}};return this.processRequest(e)}},{key:"tradingPlatformPasswordChange",value:function(){var e={method:"trading_platform_password_change",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{new_password:{required:1,type:"string"},old_password:{type:"string"},passthrough:{},platform:{required:1,type:"string"},req_id:{type:"numeric"},trading_platform_password_change:{required:1,type:"numeric"}}};return this.processRequest(e)}},{key:"tradingPlatformPasswordReset",value:function(){var e={method:"trading_platform_password_reset",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{new_password:{required:1,type:"string"},passthrough:{},platform:{required:1,type:"string"},req_id:{type:"numeric"},trading_platform_password_reset:{required:1,type:"numeric"},verification_code:{required:1,type:"string"}}};return this.processRequest(e)}},{key:"tradingPlatformProductListing",value:function(){var e={method:"trading_platform_product_listing",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{app_id:{},country_code:{required:1,type:"string"},passthrough:{},req_id:{type:"numeric"},trading_platform_product_listing:{required:1,type:"numeric"}}};return this.processRequest(e)}},{key:"tradingPlatformWithdrawal",value:function(){var e={method:"trading_platform_withdrawal",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{amount:{required:1,type:"numeric"},from_account:{required:1,type:"string"},passthrough:{},platform:{required:1,type:"string"},req_id:{type:"numeric"},to_account:{required:1,type:"string"},trading_platform_withdrawal:{required:1,type:"numeric"}}};return this.processRequest(e)}},{key:"tradingServers",value:function(){var e={method:"trading_servers",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_type:{type:"string"},environment:{type:"string"},market_type:{type:"string"},passthrough:{},platform:{type:"string"},req_id:{type:"numeric"},trading_servers:{required:1,type:"numeric"}}};return this.processRequest(e)}},{key:"tradingTimes",value:function(){var e={method:"trading_times",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:"numeric"},trading_times:{required:1,type:"string"}}};return this.processRequest(e)}},{key:"transaction",value:function(){var e={method:"transaction",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:"numeric"},subscribe:{required:1,type:"numeric"},transaction:{required:1,type:"numeric"}}};return this.processRequest(e)}},{key:"transferBetweenAccounts",value:function(){var e={method:"transfer_between_accounts",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{account_from:{type:"string"},account_to:{type:"string"},accounts:{type:"string"},amount:{type:"numeric"},currency:{type:"string"},passthrough:{},req_id:{type:"numeric"},transfer_between_accounts:{required:1,type:"numeric"}}};return this.processRequest(e)}},{key:"verifyEmail",value:function(){var e={method:"verify_email",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:"numeric"},type:{required:1,type:"string"},url_parameters:{affiliate_token:{type:"string"},date_first_contact:{type:"string"},gclid_url:{type:"string"},pa_amount:{type:"numeric"},pa_currency:{type:"string"},pa_loginid:{type:"string"},pa_remarks:{type:"string"},redirect_to:{type:"numeric"},signup_device:{type:"string"},utm_ad_id:{},utm_adgroup_id:{},utm_adrollclk_id:{},utm_campaign:{},utm_campaign_id:{},utm_content:{},utm_fbcl_id:{},utm_gl_client_id:{},utm_medium:{},utm_msclk_id:{},utm_source:{},utm_term:{}},verify_email:{required:1,type:"string"}}};return this.processRequest(e)}},{key:"websiteStatus",value:function(){var e={method:"website_status",needsMethodArg:"1",args:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},config:{passthrough:{},req_id:{type:"numeric"},subscribe:{type:"numeric"},website_status:{required:1,type:"numeric"}}};return this.processRequest(e)}},{key:"processRequest",value:function(e){var n=e.config,r=function(e){var t=e.config,n=e.args,r=e.method,o=e.needsMethodArg,i=n;return o&&!he(i)&&(i=ce({},r,i)),i[r]=i[r]||1,Object.keys(i).forEach((function(e){var n=i[e];e in t&&("string"===t[e].type?i[e]="".concat(n):"numeric"===t[e].type?i[e]=parseFloat(n):"boolean"===t[e].type&&(i[e]=+n))})),i}(e),o=function(e){var n=e.config,r=e.args;if(!he(r))return"Requires an object but a ".concat(t(r)," is passed.");var o=[],i=Object.keys(n).filter((function(e){return(n[e]||{}).required&&!(e in r)}));return i.length&&o.push("Required parameters missing: ".concat(i.join(", "))),Object.keys(r).forEach((function(e){var i=r[e];if(e in n){var s=n[e].type;s&&(pe[s](i)||o.push("".concat(s," value expected but found ").concat(t(i),": ").concat(e)))}})),o.length?o.join(" - "):""}({config:n,args:r});return o?Promise.reject(o):this.send(r)}}]),e}(),he=function(e){return e instanceof Object},pe={object:he,numeric:function(e){return!Number.isNaN(1*e)},string:function(e){return"string"==typeof e},boolean:function(e){return[!0,!1,0,1].includes(e)}};function de(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(de=function(){return!!e})()}function fe(e){var t="function"==typeof Map?new Map:void 0;return fe=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(de())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&d(o,n.prototype),o}(e,arguments,p(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)},fe(e)}function ge(e,t,n){return t=p(t),h(e,me()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n))}function me(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(me=function(){return!!e})()}function ye(e){return function(t){function n(t){var r;return s(this,n),(r=ge(this,n)).type=e,r.message=t,r}return f(n,t),c(n,[{key:"toString",value:function(){return"".concat(this.type,": ").concat(this.message)}}]),n}(fe(Error))}var ve=function(e){function t(){return s(this,t),ge(this,t,arguments)}return f(t,e),c(t)}(ye("APIError")),be=function(e){function t(){return s(this,t),ge(this,t,arguments)}return f(t,e),c(t)}(ye("ConstructionError")),_e=n(532),Ee=n.n(_e);function we(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):we(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete t.req_id,delete t.passthrough,delete t.subscribe,Ee()(t)}function ke(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ke=function(){return!!e})()}var Se=function(e){function t(e,n){var r;if(s(this,t),!e)throw new be("Cache object needs an API to work");return(r=function(e,t,n){return t=p(t),h(e,ke()?Reflect.construct(t,[],p(e).constructor):t.apply(e,n))}(this,t)).api=e,r.storage=n,r}var n,r,o,a,l;return f(t,e),c(t,[{key:"send",value:(l=i(m().mark((function e(t){var n;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.has(t);case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",this.get(t));case 4:return e.next=6,this.api.send(t);case 6:return n=e.sent,e.next=9,this.set(t,n);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return l.apply(this,arguments)})},{key:"has",value:(a=i(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.storage.has(Te(t)));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"get",value:(o=i(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.storage.get(Te(t)));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"getByMsgType",value:(r=i(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.storage.getByMsgType(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"set",value:(n=i(m().mark((function e(t,n){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.storage.set(Te(t),n));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})}]),t}(ue);function Ce(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ce=function(){return!!e})()}var Oe=function(e){function t(){var e,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return s(this,t),e=function(e,t,n){return t=p(t),h(e,Ce()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n))}(this,t,[function(e,t){n=e,r=t}]),o(n,r),e.resolveCallback=n,e.rejectCallback=r,e.state="pending",e}return f(t,e),c(t,[{key:"resolve",value:function(e){return this.resolveCallback(e),this.state="resolved",this}},{key:"reject",value:function(e){return this.rejectCallback(e),this.state="rejected",this}},{key:"isPending",value:function(){return"pending"===this.state}},{key:"isRejected",value:function(){return"rejected"===this.state}},{key:"isResolved",value:function(){return"resolved"===this.state}}],[{key:"wrap",value:function(e){if(e instanceof this)return e;var t=new this;return e.then(t.resolve.bind(t),t.reject.bind(t)),t}}]),t}(fe(Promise)),Ie=function(){function e(){s(this,e),this.store={by_msg_type:{}}}return c(e,[{key:"has",value:function(e){return e in this.store}},{key:"get",value:function(e){return this.store[e]}},{key:"getByMsgType",value:function(e){return this.store.by_msg_type[e]}},{key:"set",value:function(e,t){this.store.by_msg_type[t.msg_type]=t,this.store[e]=t}}]),e}();const xe=["balance","buy","cashier_payments","exchange_rates","p2p_advert_info","p2p_advertiser_create","p2p_advertiser_info","p2p_order_create","p2p_order_info","p2p_order_list","proposal","proposal_open_contract","ticks","ticks_history","transaction","website_status"];function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){ce(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ae=function(){function e(t){s(this,e),this.api=t,this.sources={},this.subs_id_to_key={},this.key_to_subs_id={},this.buy_key_to_contract_id={},this.subs_per_msg_type=[],this.streams_list=xe}return c(e,[{key:"subscribe",value:function(e){return this.sourceExists(e)?this.getSource(e):this.createNewSource(Ne(Ne({},e),{},{subscribe:1}))}},{key:"getSource",value:function(e){var t=$e(e);if(t in this.sources)return this.sources[t];if(e.proposal_open_contract&&e.contract_id){var n=Object.values(this.buy_key_to_contract_id).find((function(t){return t.contract_id===e.contract_id}));if(n)return this.sources[n.buy_key]}}},{key:"sourceExists",value:function(e){return this.getSource(e)}},{key:"createNewSource",value:function(e){var t,n=this,r=$e(e),o=this.api.sendAndGetSource(e).pipe((t=function(){r in n.key_to_subs_id&&n.forget(n.key_to_subs_id[r]).then((function(){}),(function(){}))},_((function(e,n){try{e.subscribe(n)}finally{n.add(t)}}))),ae());return this.sources[r]=o,this.saveSubsPerMsgType(e,r),o.pipe(ee()).toPromise().then((function(t){e.buy&&(n.buy_key_to_contract_id[r]={contract_id:t.buy.contract_id,buy_key:r}),n.saveSubsId(r,t)}),this.removeKeyOnError(r)),o}},{key:"forget",value:function(e){return this.completeSubsByIds(e),this.api.send({forget:e})}},{key:"forgetAll",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){(e.subs_per_msg_type[t]||[]).forEach((function(t){return e.completeSubsByKey(t)})),e.subs_per_msg_type[t]=[]})),this.api.send({forget_all:n})}},{key:"completeSubsByIds",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){var n=e.subs_id_to_key[t];delete e.subs_id_to_key[t],e.completeSubsByKey(n)}))}},{key:"saveSubsId",value:function(e,t){var n=t.subscription;if(!n)return this.completeSubsByKey(e);var r=n.id;r in this.subs_id_to_key||(this.subs_id_to_key[r]=e,this.key_to_subs_id[e]=r)}},{key:"saveSubsPerMsgType",value:function(e,t){var n=this.getMsgType(e);n?(this.subs_per_msg_type[n]=this.subs_per_msg_type[n]||[],this.subs_per_msg_type[n].push(t)):this.api.sanityErrors.next(new ve("Subscription type is not found in deriv-api"))}},{key:"removeKeyOnError",value:function(e){var t=this;return function(){return t.completeSubsByKey(e)}}},{key:"completeSubsByKey",value:function(e){if(e&&this.sources[e]){var t=this.sources[e];delete this.sources[e];var n=this.key_to_subs_id[e];delete this.subs_id_to_key[n],delete this.key_to_subs_id[e],delete this.buy_key_to_contract_id[e],t.complete()}}},{key:"getMsgType",value:function(e){return this.streams_list.find((function(t){return t in e}))}}]),e}();function $e(e){return Te(e)}function De(e,t,n){return t=p(t),h(e,Me()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n))}function Me(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Me=function(){return!!e})()}var Pe=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.storage,o=n.app_id,i=n.connection,a=n.cache,l=void 0===a?new Ie:a,c=n.endpoint,h=void 0===c?"ws.derivws.com":c,p=n.lang,d=void 0===p?"EN":p,f=n.brand,g=void 0===f?"":f,m=n.middleware,y=void 0===m?{}:m,v=n.excluded_request_block,b=void 0===v?["website_status","authorize"]:v;if(s(this,t),(e=De(this,t)).events=new ie,i)e.connection=i;else{if(!o)throw Error("An app_id is required to connect to the API");e.shouldReconnect=!0,e.connectionArgs={app_id:o,endpointUrl:Le(h),lang:d.toUpperCase(),brand:g.toLowerCase()},e.connect()}return e.lang=d,e.reqId=0,e.connected=new Oe,e.sanityErrors=new ie,e.middleware=y,e.pendingRequests={},e.expect_response_types={},e.subscription_manager=new Ae(u(e)),e.reconnect_timeout=!1,e.keep_alive_interval=!1,e.is_request_blocked=!1,e.excluded_request_block=b,r&&(e.storage=new Se(u(e),r)),e.cache=new Se(e.storage?e.storage:u(e),l),e.connectionHandlers(),e}var n,r,o,a;return f(t,e),c(t,[{key:"blockRequest",value:function(e){this.is_request_blocked=e}},{key:"connectionHandlers",value:function(){this.connection.onopen=this.openHandler.bind(this),this.connection.onclose=this.closeHandler.bind(this),this.connection.onmessage=this.messageHandler.bind(this),this.connection.onerror=this.errorHandler.bind(this)}},{key:"connect",value:function(){if(!this.connectionArgs)throw new be("Connection arguments are required to create a connection.");this.events.next({name:"connect"});var e=this.connectionArgs,t=e.endpointUrl,n=e.lang,r=e.app_id,o=e.brand;this.connection=new WebSocket("".concat(t.toString(),"websockets/v3?app_id=").concat(r,"&l=").concat(n,"&brand=").concat(o))}},{key:"disconnect",value:function(){this.shouldReconnect=!1,this.connection.close()}},{key:"isConnectionClosed",value:function(){return 2===this.connection.readyState||3===this.connection.readyState}},{key:"sendAndGetSource",value:function(e){var t=this,n=new ie;return e.req_id=e.req_id||++this.reqId,this.pendingRequests[e.req_id]=n,this.connected.then((function(){t.isConnectionClosed()||t.connection.send(JSON.stringify(e))})).catch((function(e){return n.error(e)})),n}},{key:"send",value:(a=i(m().mark((function e(){var t,n,r,o,i,s,a,l,c,u=this,h=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=h.length,n=new Array(t),r=0;r<t;r++)n[r]=h[r];if(o=Object.keys(n[0])[0],!this.is_request_blocked||this.excluded_request_block.includes(o)){e.next=4;break}return e.abrupt("return",new Promise((function(){})));case 4:if(!(i=this.callMiddleware("sendWillBeCalled",{args:n}))){e.next=7;break}return e.abrupt("return",i);case 7:if(s=n[0],a=this.callMiddleware("requestDataTransformer",s)||s,this.events.next({name:"send",data:a}),this.deleteFromExpectResponse(a),(l=this.sendAndGetSource(a).pipe(ee()).toPromise()).then((function(e){u.cache.set(a,e),u.storage&&u.storage.set(a,e)}),(function(){})),!(c=this.callMiddleware("sendIsCalled",{response_promise:l,args:n}))){e.next=16;break}return e.abrupt("return",c);case 16:return e.abrupt("return",l);case 17:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"callMiddleware",value:function(e,t){if(e in this.middleware)return this.middleware[e](t)}},{key:"subscribe",value:function(e){if(this.is_request_blocked)return new ie;var t=this.callMiddleware("requestDataTransformer",e)||e;return this.subscription_manager.subscribe(t)}},{key:"forget",value:(o=i(m().mark((function e(t){return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.subscription_manager.forget(t));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"forgetAll",value:(r=i(m().mark((function e(){var t,n=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(t=this.subscription_manager).forgetAll.apply(t,n));case 1:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"keepAlivePing",value:function(){this.ping({ping:1}),this.reconnect_timeout=setTimeout(this.reconnect.bind(this),5e3)}},{key:"pong",value:function(){this.reconnect_timeout&&(clearTimeout(this.reconnect_timeout),this.reconnect_timeout=!1)}},{key:"openHandler",value:function(){this.events.next({name:"open"}),this.shouldReconnect&&(this.keep_alive_interval=setInterval(this.keepAlivePing.bind(this),3e4)),1===this.connection.readyState?this.connected.resolve():setTimeout(this.openHandler.bind(this),50)}},{key:"messageHandler",value:function(e){if(e.data){var t=JSON.parse(e.data);this.reconnect_timeout&&"pong"===t.ping&&this.pong(),this.events.next({name:"message",data:t});var n=t.req_id;if(n in this.pendingRequests){var r=this.expect_response_types[t.msg_type];r&&r.isPending()&&r.resolve(t);var o=t.echo_req,i=o&&o.proposal_open_contract&&!o.contract_id;if(t.error&&!i)this.pendingRequests[n].error(t);else if(this.pendingRequests[n].isStopped&&t.subscription){var s=t.subscription.id;this.forget(s)}else this.pendingRequests[n].next(t)}else this.sanityErrors.next(new ve("Extra response"))}else this.sanityErrors.next(new ve("Something went wrong while receiving the response from API."))}},{key:"closeHandler",value:function(){this.events.next({name:"close"}),this.shouldReconnect&&(this.events.next({name:"reconnecting"}),this.reconnect())}},{key:"reconnect",value:function(){this.shouldReconnect&&(this.keep_alive_interval&&(clearInterval(this.keep_alive_interval),this.keep_alive_interval=!1),this.pong(),this.connect(),this.connectionHandlers())}},{key:"errorHandler",value:function(){this.sanityErrors.next(new ve("Something went wrong while receiving the response from API."))}},{key:"onClose",value:function(){return this.events.pipe(Y((function(e){return"close"===e.name})),ae())}},{key:"onOpen",value:function(){return this.events.pipe(Y((function(e){return"open"===e.name})),ae())}},{key:"onMessage",value:function(){return this.events.pipe(Y((function(e){return"message"===e.name})),ae())}},{key:"expectResponse",value:(n=i(m().mark((function e(){var t,n,r,o=this,i=arguments;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=i.length,n=new Array(t),r=0;r<t;r++)n[r]=i[r];if(n.forEach((function(e){var t;e in o.expect_response_types||(o.expect_response_types[e]=(t=o.cache.getByMsgType(e).then((function(t){return!t&&o.storage?o.storage.getByMsgType(e):t})),Oe.wrap(t.then((function(e){return e||new Oe})))))})),1!==n.length){e.next=4;break}return e.abrupt("return",this.expect_response_types[n[0]]);case 4:return e.abrupt("return",Promise.all(n.map((function(e){return o.expect_response_types[e]}))));case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"deleteFromExpectResponse",value:function(e){var t=Object.keys(this.expect_response_types).find((function(t){return t in e}));this.expect_response_types[t]&&!this.expect_response_types[t].isPending()&&delete this.expect_response_types[t]}}]),t}(ue);function Le(n){if("string"!=typeof n)throw new be("Endpoint must be a string, passed: ".concat(t(n)));var r,o;try{var i=function(e){if(Array.isArray(e))return e}(o=n.match(/((?:\w*:\/\/)*)(.*)/))||function(e){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,r,o,i,s=[],a=!0,l=!1;try{for(o=(t=t.call(e)).next;!(a=(n=o.call(t)).done)&&(s.push(n.value),3!==s.length);a=!0);}catch(e){l=!0,r=e}finally{try{if(!a&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(l)throw r}}return s}}(o)||function(t){if(t){if("string"==typeof t)return e(t,3);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,3):void 0}}(o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),s=(i[0],i[1]),a=i[2];r=new URL("".concat("ws://"===s?s:"wss://").concat(a))}catch(e){throw new be("Invalid URL: ".concat(n))}return r}})(),r.default})(),e.exports=t()},1107:function(module){var factory;factory=function(){return(()=>{var __webpack_modules__={"./node_modules/vm-browserify/index.js":(__unused_webpack_module,exports)=>{var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,r=n.eval,o=n.execScript;!r&&o&&(o.call(n,"null"),r=n.eval),forEach(Object_keys(e),(function(t){n[t]=e[t]})),forEach(globals,(function(t){e[t]&&(n[t]=e[t])}));var i=Object_keys(n),s=r.call(n,this.code);return forEach(Object_keys(n),(function(t){(t in e||-1===indexOf(i,t))&&(e[t]=n[t])})),forEach(globals,(function(t){t in e||defineProp(e,t,n[t])})),document.body.removeChild(t),s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return e&&forEach(Object_keys(t),(function(n){e[n]=t[n]})),n},forEach(Object_keys(Script.prototype),(function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}})),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),(function(n){t[n]=e[n]})),t}},"./original-repo/acorn.js":function(e,t){var n;n=function(e){"use strict";var t,n,r,o;e.version="0.4.1",e.parse=function(e,o){return n=String(e),r=n.length,s(o),ze(),function(e){y=v=a,t.locations&&(b=new Ge),_=w=null,E=[],Je();var n=e||ct(),r=!0;for(e||(n.body=[]);p!==R;){var o=Et();n.body.push(o),r&&pt(o)&&st(!0),r=!1}return ht(n,"Program")}(t.program)};var i=e.defaultOptions={ecmaVersion:5,strictSemicolons:!1,allowTrailingCommas:!0,forbidReserved:!1,locations:!1,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null};function s(e){for(var n in t=e||{},i)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=i[n]);o=t.sourceFile||null}var a,l,c,u,h,p,d,f,g,m,y,v,b,_,E,w,T=e.getLineInfo=function(e,t){for(var n=1,r=0;;){He.lastIndex=r;var o=He.exec(e);if(!(o&&o.index<t))break;++n,r=o.index+o[0].length}return{line:n,column:t-r}};function k(e,t){var r=T(n,e);t+=" ("+r.line+":"+r.column+")";var o=new SyntaxError(t);throw o.pos=e,o.loc=r,o.raisedAt=a,o}e.tokenize=function(e,o){n=String(e),r=n.length,s(o),ze();var i={};function y(e){return Je(e),i.start=l,i.end=c,i.startLoc=u,i.endLoc=h,i.type=p,i.value=d,i}return y.jumpTo=function(e,r){var o;if(a=e,t.locations)for(g=1,m=He.lastIndex=0;(o=He.exec(n))&&o.index<e;)++g,m=o.index+o[0].length;f=r,Ke()},y};var S=[],C={type:"num"},O={type:"regexp"},I={type:"string"},x={type:"name"},R={type:"eof"},N={keyword:"break"},A={keyword:"case",beforeExpr:!0},$={keyword:"catch"},D={keyword:"continue"},M={keyword:"debugger"},P={keyword:"default"},L={keyword:"do",isLoop:!0},B={keyword:"else",beforeExpr:!0},F={keyword:"finally"},j={keyword:"for",isLoop:!0},U={keyword:"function"},H={keyword:"if"},V={keyword:"return",beforeExpr:!0},W={keyword:"switch"},G={keyword:"throw",beforeExpr:!0},z={keyword:"try"},q={keyword:"var"},Y={keyword:"while",isLoop:!0},X={keyword:"with"},K={keyword:"new",beforeExpr:!0},J={keyword:"this"},Z={keyword:"null",atomValue:null},Q={keyword:"true",atomValue:!0},ee={keyword:"false",atomValue:!1},te={keyword:"in",binop:7,beforeExpr:!0},ne={break:N,case:A,catch:$,continue:D,debugger:M,default:P,do:L,else:B,finally:F,for:j,function:U,if:H,return:V,switch:W,throw:G,try:z,var:q,while:Y,with:X,null:Z,true:Q,false:ee,new:K,in:te,instanceof:{keyword:"instanceof",binop:7,beforeExpr:!0},this:J,typeof:{keyword:"typeof",prefix:!0,beforeExpr:!0},void:{keyword:"void",prefix:!0,beforeExpr:!0},delete:{keyword:"delete",prefix:!0,beforeExpr:!0}},re={type:"[",beforeExpr:!0},oe={type:"]"},ie={type:"{",beforeExpr:!0},se={type:"}"},ae={type:"(",beforeExpr:!0},le={type:")"},ce={type:",",beforeExpr:!0},ue={type:";",beforeExpr:!0},he={type:":",beforeExpr:!0},pe={type:"."},de={type:"?",beforeExpr:!0},fe={binop:10,beforeExpr:!0},ge={isAssign:!0,beforeExpr:!0},me={isAssign:!0,beforeExpr:!0},ye={postfix:!0,prefix:!0,isUpdate:!0},ve={prefix:!0,beforeExpr:!0},be={binop:1,beforeExpr:!0},_e={binop:2,beforeExpr:!0},Ee={binop:3,beforeExpr:!0},we={binop:4,beforeExpr:!0},Te={binop:5,beforeExpr:!0},ke={binop:6,beforeExpr:!0},Se={binop:7,beforeExpr:!0},Ce={binop:8,beforeExpr:!0},Oe={binop:9,prefix:!0,beforeExpr:!0},Ie={binop:10,beforeExpr:!0};for(var xe in e.tokTypes={bracketL:re,bracketR:oe,braceL:ie,braceR:se,parenL:ae,parenR:le,comma:ce,semi:ue,colon:he,dot:pe,question:de,slash:fe,eq:ge,name:x,eof:R,num:C,regexp:O,string:I},ne)e.tokTypes["_"+xe]=ne[xe];function Re(e){e=e.split(" ");var t="",n=[];e:for(var r=0;r<e.length;++r){for(var o=0;o<n.length;++o)if(n[o][0].length==e[r].length){n[o].push(e[r]);continue e}n.push([e[r]])}function i(e){if(1==e.length)return t+="return str === "+JSON.stringify(e[0])+";";t+="switch(str){";for(var n=0;n<e.length;++n)t+="case "+JSON.stringify(e[n])+":";t+="return true}return false;"}if(n.length>3){for(n.sort((function(e,t){return t.length-e.length})),t+="switch(str.length){",r=0;r<n.length;++r){var s=n[r];t+="case "+s[0].length+":",i(s)}t+="}"}else i(e);return new Function("str",t)}var Ne,Ae=Re("abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile"),$e=Re("class enum extends super const export import"),De=Re("implements interface let package private protected public static yield"),Me=Re("eval arguments"),Pe=Re("break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this"),Le=/[\u1680\u180e\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Be="------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------",Fe=new RegExp("["+Be+"]"),je=new RegExp("["+Be+"------------------------------------------------------------------------------------------------------------------------------------------]"),Ue=/[\n\r\u2028\u2029]/,He=/\r\n|[\n\r\u2028\u2029]/g,Ve=e.isIdentifierStart=function(e){return e<65?36===e:e<91||(e<97?95===e:e<123||e>=170&&Fe.test(String.fromCharCode(e)))},We=e.isIdentifierChar=function(e){return e<48?36===e:e<58||!(e<65)&&(e<91||(e<97?95===e:e<123||e>=170&&je.test(String.fromCharCode(e))))};function Ge(){this.line=g,this.column=a-m}function ze(){g=1,a=m=0,f=!0,Ke()}function qe(e,n){c=a,t.locations&&(h=new Ge),p=e,Ke(),d=n,f=e.beforeExpr}function Ye(){var e,r=t.onComment&&t.locations&&new Ge,o=a,i=n.indexOf("*/",a+=2);if(-1===i&&k(a-2,"Unterminated comment"),a=i+2,t.locations)for(He.lastIndex=o;(e=He.exec(n))&&e.index<a;)++g,m=e.index+e[0].length;t.onComment&&t.onComment(!0,n.slice(o+2,i),o,a,r,t.locations&&new Ge)}function Xe(){for(var e=a,o=t.onComment&&t.locations&&new Ge,i=n.charCodeAt(a+=2);a<r&&10!==i&&13!==i&&8232!==i&&8233!==i;)++a,i=n.charCodeAt(a);t.onComment&&t.onComment(!1,n.slice(e+2,a),e,a,o,t.locations&&new Ge)}function Ke(){for(;a<r;){var e=n.charCodeAt(a);if(32===e)++a;else if(13===e)++a,10===(o=n.charCodeAt(a))&&++a,t.locations&&(++g,m=a);else if(10===e||8232===e||8233===e)++a,t.locations&&(++g,m=a);else if(e>8&&e<14)++a;else if(47===e){var o;if(42===(o=n.charCodeAt(a+1)))Ye();else{if(47!==o)break;Xe()}}else if(160===e)++a;else{if(!(e>=5760&&Le.test(String.fromCharCode(e))))break;++a}}}function Je(e){if(e?a=l+1:l=a,t.locations&&(u=new Ge),e)return Qe();if(a>=r)return qe(R);var o=n.charCodeAt(a);if(Ve(o)||92===o)return ot();var i=function(e){switch(e){case 46:return function(){var e=n.charCodeAt(a+1);return e>=48&&e<=57?tt(!0):(++a,qe(pe))}();case 40:return++a,qe(ae);case 41:return++a,qe(le);case 59:return++a,qe(ue);case 44:return++a,qe(ce);case 91:return++a,qe(re);case 93:return++a,qe(oe);case 123:return++a,qe(ie);case 125:return++a,qe(se);case 58:return++a,qe(he);case 63:return++a,qe(de);case 48:var o=n.charCodeAt(a+1);if(120===o||88===o)return function(){a+=2;var e=et(16);return null==e&&k(l+2,"Expected hexadecimal number"),Ve(n.charCodeAt(a))&&k(a,"Identifier directly after number"),qe(C,e)}();case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return tt(!1);case 34:case 39:return function(e){a++;for(var o="";;){a>=r&&k(l,"Unterminated string constant");var i=n.charCodeAt(a);if(i===e)return++a,qe(I,o);if(92===i){i=n.charCodeAt(++a);var s=/^[0-7]+/.exec(n.slice(a,a+3));for(s&&(s=s[0]);s&&parseInt(s,8)>255;)s=s.slice(0,-1);if("0"===s&&(s=null),++a,s)w&&k(a-2,"Octal literal in strict mode"),o+=String.fromCharCode(parseInt(s,8)),a+=s.length-1;else switch(i){case 110:o+="\n";break;case 114:o+="\r";break;case 120:o+=String.fromCharCode(nt(2));break;case 117:o+=String.fromCharCode(nt(4));break;case 85:o+=String.fromCharCode(nt(8));break;case 116:o+="\t";break;case 98:o+="\b";break;case 118:o+="\v";break;case 102:o+="\f";break;case 48:o+="\0";break;case 13:10===n.charCodeAt(a)&&++a;case 10:t.locations&&(m=a,++g);break;default:o+=String.fromCharCode(i)}}else 13!==i&&10!==i&&8232!==i&&8233!==i||k(l,"Unterminated string constant"),o+=String.fromCharCode(i),++a}}(e);case 47:return function(){var e=n.charCodeAt(a+1);return f?(++a,Qe()):61===e?Ze(me,2):Ze(fe,1)}();case 37:case 42:return 61===n.charCodeAt(a+1)?Ze(me,2):Ze(Ie,1);case 124:case 38:return function(e){var t=n.charCodeAt(a+1);return t===e?Ze(124===e?be:_e,2):61===t?Ze(me,2):Ze(124===e?Ee:Te,1)}(e);case 94:return 61===n.charCodeAt(a+1)?Ze(me,2):Ze(we,1);case 43:case 45:return function(e){var t=n.charCodeAt(a+1);return t===e?45==t&&62==n.charCodeAt(a+2)&&Ue.test(n.slice(v,a))?(a+=3,Xe(),Ke(),Je()):Ze(ye,2):61===t?Ze(me,2):Ze(Oe,1)}(e);case 60:case 62:return function(e){var t=n.charCodeAt(a+1),r=1;return t===e?(r=62===e&&62===n.charCodeAt(a+2)?3:2,61===n.charCodeAt(a+r)?Ze(me,r+1):Ze(Ce,r)):33==t&&60==e&&45==n.charCodeAt(a+2)&&45==n.charCodeAt(a+3)?(a+=4,Xe(),Ke(),Je()):(61===t&&(r=61===n.charCodeAt(a+2)?3:2),Ze(Se,r))}(e);case 61:case 33:return function(e){return 61===n.charCodeAt(a+1)?Ze(ke,61===n.charCodeAt(a+2)?3:2):Ze(61===e?ge:ve,1)}(e);case 126:return Ze(ve,1)}return!1}(o);if(!1===i){var s=String.fromCharCode(o);if("\\"===s||Fe.test(s))return ot();k(a,"Unexpected character '"+s+"'")}return i}function Ze(e,t){var r=n.slice(a,a+t);a+=t,qe(e,r)}function Qe(){for(var e,t,o=a;;){a>=r&&k(o,"Unterminated regular expression");var i=n.charAt(a);if(Ue.test(i)&&k(o,"Unterminated regular expression"),e)e=!1;else{if("["===i)t=!0;else if("]"===i&&t)t=!1;else if("/"===i&&!t)break;e="\\"===i}++a}var s=n.slice(o,a);++a;var l=rt();return l&&!/^[gmsiy]*$/.test(l)&&k(o,"Invalid regexp flag"),qe(O,new RegExp(s,l))}function et(e,t){for(var r=a,o=0,i=0,s=null==t?1/0:t;i<s;++i){var l,c=n.charCodeAt(a);if((l=c>=97?c-97+10:c>=65?c-65+10:c>=48&&c<=57?c-48:1/0)>=e)break;++a,o=o*e+l}return a===r||null!=t&&a-r!==t?null:o}function tt(e){var t=a,r=!1,o=48===n.charCodeAt(a);e||null!==et(10)||k(t,"Invalid number"),46===n.charCodeAt(a)&&(++a,et(10),r=!0);var i=n.charCodeAt(a);69!==i&&101!==i||(43!==(i=n.charCodeAt(++a))&&45!==i||++a,null===et(10)&&k(t,"Invalid number"),r=!0),Ve(n.charCodeAt(a))&&k(a,"Identifier directly after number");var s,l=n.slice(t,a);return r?s=parseFloat(l):o&&1!==l.length?/[89]/.test(l)||w?k(t,"Invalid number"):s=parseInt(l,8):s=parseInt(l,10),qe(C,s)}function nt(e){var t=et(16,e);return null===t&&k(l,"Bad character escape sequence"),t}function rt(){Ne=!1;for(var e,t=!0,r=a;;){var o=n.charCodeAt(a);if(We(o))Ne&&(e+=n.charAt(a)),++a;else{if(92!==o)break;Ne||(e=n.slice(r,a)),Ne=!0,117!=n.charCodeAt(++a)&&k(a,"Expecting Unicode escape sequence \\uXXXX"),++a;var i=nt(4),s=String.fromCharCode(i);s||k(a-1,"Invalid Unicode escape"),(t?Ve(i):We(i))||k(a-4,"Invalid Unicode escape"),e+=s}t=!1}return Ne?e:n.slice(r,a)}function ot(){var e=rt(),n=x;return Ne||(Pe(e)?n=ne[e]:(t.forbidReserved&&(3===t.ecmaVersion?Ae:$e)(e)||w&&De(e))&&k(l,"The keyword '"+e+"' is reserved")),qe(n,e)}function it(){y=l,v=c,b=h,Je()}function st(e){if(w=e,a=v,t.locations)for(;a<m;)m=n.lastIndexOf("\n",m-2)+1,--g;Ke(),Je()}function at(){this.type=null,this.start=l,this.end=null}function lt(){this.start=u,this.end=null,null!==o&&(this.source=o)}function ct(){var e=new at;return t.locations&&(e.loc=new lt),t.directSourceFile&&(e.sourceFile=t.directSourceFile),t.ranges&&(e.range=[l,0]),e}function ut(e){var n=new at;return n.start=e.start,t.locations&&(n.loc=new lt,n.loc.start=e.loc.start),t.ranges&&(n.range=[e.range[0],0]),n}function ht(e,n){return e.type=n,e.end=v,t.locations&&(e.loc.end=b),t.ranges&&(e.range[1]=v),e}function pt(e){return t.ecmaVersion>=5&&"ExpressionStatement"===e.type&&"Literal"===e.expression.type&&"use strict"===e.expression.value}function dt(e){if(p===e)return it(),!0}function ft(){return!t.strictSemicolons&&(p===R||p===se||Ue.test(n.slice(v,l)))}function gt(){dt(ue)||ft()||yt()}function mt(e){p===e?it():yt()}function yt(){k(l,"Unexpected token")}function vt(e){"Identifier"!==e.type&&"MemberExpression"!==e.type&&k(e.start,"Assigning to rvalue"),w&&"Identifier"===e.type&&Me(e.name)&&k(e.start,"Assigning to "+e.name+" in strict mode")}var bt={kind:"loop"},_t={kind:"switch"};function Et(){(p===fe||p===me&&"/="==d)&&Je(!0);var e=p,t=ct();switch(e){case N:case D:it();var r=e===N;dt(ue)||ft()?t.label=null:p!==x?yt():(t.label=Pt(),gt());for(var o=0;o<E.length;++o){var i=E[o];if(null==t.label||i.name===t.label.name){if(null!=i.kind&&(r||"loop"===i.kind))break;if(t.label&&r)break}}return o===E.length&&k(t.start,"Unsyntactic "+e.keyword),ht(t,r?"BreakStatement":"ContinueStatement");case M:return it(),gt(),ht(t,"DebuggerStatement");case L:return it(),E.push(bt),t.body=Et(),E.pop(),mt(Y),t.test=wt(),gt(),ht(t,"DoWhileStatement");case j:if(it(),E.push(bt),mt(ae),p===ue)return kt(t,null);if(p===q){var s=ct();return it(),Ct(s,!0),ht(s,"VariableDeclaration"),1===s.declarations.length&&dt(te)?St(t,s):kt(t,s)}return s=Ot(!1,!0),dt(te)?(vt(s),St(t,s)):kt(t,s);case U:return it(),Dt(t,!0);case H:return it(),t.test=wt(),t.consequent=Et(),t.alternate=dt(B)?Et():null,ht(t,"IfStatement");case V:return _||k(l,"'return' outside of function"),it(),dt(ue)||ft()?t.argument=null:(t.argument=Ot(),gt()),ht(t,"ReturnStatement");case W:it(),t.discriminant=wt(),t.cases=[],mt(ie),E.push(_t);for(var a,c;p!=se;)if(p===A||p===P){var u=p===A;a&&ht(a,"SwitchCase"),t.cases.push(a=ct()),a.consequent=[],it(),u?a.test=Ot():(c&&k(y,"Multiple default clauses"),c=!0,a.test=null),mt(he)}else a||yt(),a.consequent.push(Et());return a&&ht(a,"SwitchCase"),it(),E.pop(),ht(t,"SwitchStatement");case G:return it(),Ue.test(n.slice(v,l))&&k(v,"Illegal newline after throw"),t.argument=Ot(),gt(),ht(t,"ThrowStatement");case z:if(it(),t.block=Tt(),t.handler=null,p===$){var h=ct();it(),mt(ae),h.param=Pt(),w&&Me(h.param.name)&&k(h.param.start,"Binding "+h.param.name+" in strict mode"),mt(le),h.guard=null,h.body=Tt(),t.handler=ht(h,"CatchClause")}return t.guardedHandlers=S,t.finalizer=dt(F)?Tt():null,t.handler||t.finalizer||k(t.start,"Missing catch or finally clause"),ht(t,"TryStatement");case q:return it(),Ct(t),gt(),ht(t,"VariableDeclaration");case Y:return it(),t.test=wt(),E.push(bt),t.body=Et(),E.pop(),ht(t,"WhileStatement");case X:return w&&k(l,"'with' in strict mode"),it(),t.object=wt(),t.body=Et(),ht(t,"WithStatement");case ie:return Tt();case ue:return it(),ht(t,"EmptyStatement");default:var f=d,g=Ot();if(e===x&&"Identifier"===g.type&&dt(he)){for(o=0;o<E.length;++o)E[o].name===f&&k(g.start,"Label '"+f+"' is already declared");var m=p.isLoop?"loop":p===W?"switch":null;return E.push({name:f,kind:m}),t.body=Et(),E.pop(),t.label=g,ht(t,"LabeledStatement")}return t.expression=g,gt(),ht(t,"ExpressionStatement")}}function wt(){mt(ae);var e=Ot();return mt(le),e}function Tt(e){var t,n=ct(),r=!0,o=!1;for(n.body=[],mt(ie);!dt(se);){var i=Et();n.body.push(i),r&&e&&pt(i)&&(t=o,st(o=!0)),r=!1}return o&&!t&&st(!1),ht(n,"BlockStatement")}function kt(e,t){return e.init=t,mt(ue),e.test=p===ue?null:Ot(),mt(ue),e.update=p===le?null:Ot(),mt(le),e.body=Et(),E.pop(),ht(e,"ForStatement")}function St(e,t){return e.left=t,e.right=Ot(),mt(le),e.body=Et(),E.pop(),ht(e,"ForInStatement")}function Ct(e,t){for(e.declarations=[],e.kind="var";;){var n=ct();if(n.id=Pt(),w&&Me(n.id.name)&&k(n.id.start,"Binding "+n.id.name+" in strict mode"),n.init=dt(ge)?Ot(!0,t):null,e.declarations.push(ht(n,"VariableDeclarator")),!dt(ce))break}return e}function Ot(e,t){var n=It(t);if(!e&&p===ce){var r=ut(n);for(r.expressions=[n];dt(ce);)r.expressions.push(It(t));return ht(r,"SequenceExpression")}return n}function It(e){var t=function(e){var t=function(e){return xt(Rt(),-1,e)}(e);if(dt(de)){var n=ut(t);return n.test=t,n.consequent=Ot(!0),mt(he),n.alternate=Ot(!0,e),ht(n,"ConditionalExpression")}return t}(e);if(p.isAssign){var n=ut(t);return n.operator=d,n.left=t,it(),n.right=It(e),vt(t),ht(n,"AssignmentExpression")}return t}function xt(e,t,n){var r=p.binop;if(null!=r&&(!n||p!==te)&&r>t){var o=ut(e);o.left=e,o.operator=d;var i=p;return it(),o.right=xt(Rt(),r,n),xt(ht(o,i===be||i===_e?"LogicalExpression":"BinaryExpression"),t,n)}return e}function Rt(){if(p.prefix){var e=ct(),t=p.isUpdate;return e.operator=d,e.prefix=!0,f=!0,it(),e.argument=Rt(),t?vt(e.argument):w&&"delete"===e.operator&&"Identifier"===e.argument.type&&k(e.start,"Deleting local variable in strict mode"),ht(e,t?"UpdateExpression":"UnaryExpression")}for(var n=Nt(At());p.postfix&&!ft();)(e=ut(n)).operator=d,e.prefix=!1,e.argument=n,vt(n),it(),n=ht(e,"UpdateExpression");return n}function Nt(e,t){var n;return dt(pe)?((n=ut(e)).object=e,n.property=Pt(!0),n.computed=!1,Nt(ht(n,"MemberExpression"),t)):dt(re)?((n=ut(e)).object=e,n.property=Ot(),n.computed=!0,mt(oe),Nt(ht(n,"MemberExpression"),t)):!t&&dt(ae)?((n=ut(e)).callee=e,n.arguments=Mt(le,!1),Nt(ht(n,"CallExpression"),t)):e}function At(){switch(p){case J:var e=ct();return it(),ht(e,"ThisExpression");case x:return Pt();case C:case I:case O:return(e=ct()).value=d,e.raw=n.slice(l,c),it(),ht(e,"Literal");case Z:case Q:case ee:return(e=ct()).value=p.atomValue,e.raw=p.keyword,it(),ht(e,"Literal");case ae:var r=u,o=l;it();var i=Ot();return i.start=o,i.end=c,t.locations&&(i.loc.start=r,i.loc.end=h),t.ranges&&(i.range=[o,c]),mt(le),i;case re:return e=ct(),it(),e.elements=Mt(oe,!0,!0),ht(e,"ArrayExpression");case ie:return function(){var e=ct(),n=!0,r=!1;for(e.properties=[],it();!dt(se);){if(n)n=!1;else if(mt(ce),t.allowTrailingCommas&&dt(se))break;var o,i={key:$t()},s=!1;if(dt(he)?(i.value=Ot(!0),o=i.kind="init"):t.ecmaVersion>=5&&"Identifier"===i.key.type&&("get"===i.key.name||"set"===i.key.name)?(s=r=!0,o=i.kind=i.key.name,i.key=$t(),p!==ae&&yt(),i.value=Dt(ct(),!1)):yt(),"Identifier"===i.key.type&&(w||r))for(var a=0;a<e.properties.length;++a){var l=e.properties[a];if(l.key.name===i.key.name){var c=o==l.kind||s&&"init"===l.kind||"init"===o&&("get"===l.kind||"set"===l.kind);c&&!w&&"init"===o&&"init"===l.kind&&(c=!1),c&&k(i.key.start,"Redefinition of property")}}e.properties.push(i)}return ht(e,"ObjectExpression")}();case U:return e=ct(),it(),Dt(e,!1);case K:return function(){var e=ct();return it(),e.callee=Nt(At(),!0),dt(ae)?e.arguments=Mt(le,!1):e.arguments=S,ht(e,"NewExpression")}();default:yt()}}function $t(){return p===C||p===I?At():Pt(!0)}function Dt(e,t){p===x?e.id=Pt():t?yt():e.id=null,e.params=[];var n=!0;for(mt(ae);!dt(le);)n?n=!1:mt(ce),e.params.push(Pt());var r=_,o=E;if(_=!0,E=[],e.body=Tt(!0),_=r,E=o,w||e.body.body.length&&pt(e.body.body[0]))for(var i=e.id?-1:0;i<e.params.length;++i){var s=i<0?e.id:e.params[i];if((De(s.name)||Me(s.name))&&k(s.start,"Defining '"+s.name+"' in strict mode"),i>=0)for(var a=0;a<i;++a)s.name===e.params[a].name&&k(s.start,"Argument name clash in strict mode")}return ht(e,t?"FunctionDeclaration":"FunctionExpression")}function Mt(e,n,r){for(var o=[],i=!0;!dt(e);){if(i)i=!1;else if(mt(ce),n&&t.allowTrailingCommas&&dt(e))break;r&&p===ce?o.push(null):o.push(Ot(!0))}return o}function Pt(e){var n=ct();return n.name=p===x?d:e&&!t.forbidReserved&&p.keyword||yt(),f=!1,it(),ht(n,"Identifier")}},n(t)},"./original-repo/interpreter.js":function(e,t,n){"use strict";var r=n("./original-repo/acorn.js"),o=function(e,t){"string"==typeof e&&(e=this.parse_(e,"code")),this.nodeConstructor=e.constructor;var n=new this.nodeConstructor({options:{}});for(var r in e)n[r]="body"===r?e[r].slice():e[r];this.ast=n,this.initFunc_=t,this.paused_=!1,this.polyfills_=[],this.functionCounter_=0,this.stepFunctions_=Object.create(null);var i,s,a=/^step([A-Z]\w*)$/;for(var l in this)"function"==typeof this[l]&&(i=l.match(a))&&(this.stepFunctions_[i[1]]=this[l].bind(this));this.globalScope=this.createScope(this.ast,null),this.globalObject=this.globalScope.object,this.ast=this.parse_(this.polyfills_.join("\n"),"polyfills"),this.polyfills_=void 0,o.stripLocations_(this.ast,void 0,void 0),(s=new o.State(this.ast,this.globalScope)).done=!1,this.stateStack=[s],this.run(),this.value=void 0,this.ast=n,(s=new o.State(this.ast,this.globalScope)).done=!1,this.stateStack.length=0,this.stateStack[0]=s,this.stateStack=this.stateStack};o.Completion={NORMAL:0,BREAK:1,CONTINUE:2,RETURN:3,THROW:4},o.PARSE_OPTIONS={locations:!0,ecmaVersion:5},o.READONLY_DESCRIPTOR={configurable:!0,enumerable:!0,writable:!1},o.NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!0},o.READONLY_NONENUMERABLE_DESCRIPTOR={configurable:!0,enumerable:!1,writable:!1},o.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR={configurable:!1,enumerable:!1,writable:!1},o.VARIABLE_DESCRIPTOR={configurable:!1,enumerable:!0,writable:!0},o.STEP_ERROR={STEP_ERROR:!0},o.SCOPE_REFERENCE={SCOPE_REFERENCE:!0},o.VALUE_IN_DESCRIPTOR={VALUE_IN_DESCRIPTOR:!0},o.REGEXP_TIMEOUT={REGEXP_TIMEOUT:!0},o.toStringCycles_=[],o.vm=null,o.nativeGlobal=self||this,o.WORKER_CODE=["onmessage = function(e) {","var result;","var data = e.data;","switch (data[0]) {","case 'split':","result = data[1].split(data[2], data[3]);","break;","case 'match':","result = data[1].match(data[2]);","break;","case 'search':","result = data[1].search(data[2]);","break;","case 'replace':","result = data[1].replace(data[2], data[3]);","break;","case 'exec':","var regexp = data[1];","regexp.lastIndex = data[2];","result = [regexp.exec(data[3]), data[1].lastIndex];","break;","default:","throw Error('Unknown RegExp operation: ' + data[0]);","}","postMessage(result);","};"],o.legalArrayLength=function(e){var t=e>>>0;return t===Number(e)?t:NaN},o.legalArrayIndex=function(e){var t=e>>>0;return String(t)===String(e)&&4294967295!==t?t:NaN},o.stripLocations_=function(e,t,n){for(var r in t?e.start=t:delete e.start,n?e.end=n:delete e.end,e)if("loc"!==r&&e.hasOwnProperty(r)){var i=e[r];i&&"object"==typeof i&&o.stripLocations_(i,t,n)}},o.prototype.REGEXP_MODE=2,o.prototype.REGEXP_THREAD_TIMEOUT=1e3,o.prototype.POLYFILL_TIMEOUT=1e3,o.prototype.getterStep_=!1,o.prototype.setterStep_=!1,o.prototype.appendCodeNumber_=0,o.prototype.parse_=function(e,t){var n={};for(var i in o.PARSE_OPTIONS)n[i]=o.PARSE_OPTIONS[i];return n.sourceFile=t,r.parse(e,n)},o.prototype.appendCode=function(e){var t=this.stateStack[0];if(!t||"Program"!==t.node.type)throw Error("Expecting original AST to start with a Program node.");if("string"==typeof e&&(e=this.parse_(e,"appendCode"+this.appendCodeNumber_++)),!e||"Program"!==e.type)throw Error("Expecting new AST to start with a Program node.");this.populateScope_(e,t.scope),Array.prototype.push.apply(t.node.body,e.body),t.done=!1},o.prototype.step=function(){var e=this.stateStack,t=Date.now();do{var n=e[e.length-1];if(!n)return!1;var r=n.node,i=r.type;if("Program"===i&&n.done)return!1;if(this.paused_)return!0;try{var s=this.stepFunctions_[i](e,n,r)}catch(e){if(e!==o.STEP_ERROR)throw e}if(s&&e.push(s),this.getterStep_)throw Error("Getter not supported in this context");if(this.setterStep_)throw Error("Setter not supported in this context")}while(!r.end&&t+this.POLYFILL_TIMEOUT>Date.now());return!0},o.prototype.run=function(){for(;!this.paused_&&this.step(););return this.paused_},o.prototype.initGlobal=function(e){this.setProperty(e,"NaN",NaN,o.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"Infinity",1/0,o.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"undefined",void 0,o.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"window",e,o.READONLY_DESCRIPTOR),this.setProperty(e,"this",e,o.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"self",e),this.OBJECT_PROTO=new o.Object(null),this.FUNCTION_PROTO=new o.Object(this.OBJECT_PROTO),this.initFunction(e),this.initObject(e),e.proto=this.OBJECT_PROTO,this.setProperty(e,"constructor",this.OBJECT,o.NONENUMERABLE_DESCRIPTOR),this.initArray(e),this.initString(e),this.initBoolean(e),this.initNumber(e),this.initDate(e),this.initRegExp(e),this.initError(e),this.initMath(e),this.initJSON(e);var t=this,n=this.createNativeFunction((function(e){throw EvalError("Can't happen")}),!1);n.eval=!0,this.setProperty(e,"eval",n,o.NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"parseInt",this.createNativeFunction(parseInt,!1),o.NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"parseFloat",this.createNativeFunction(parseFloat,!1),o.NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"isNaN",this.createNativeFunction(isNaN,!1),o.NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"isFinite",this.createNativeFunction(isFinite,!1),o.NONENUMERABLE_DESCRIPTOR);for(var r=[[escape,"escape"],[unescape,"unescape"],[decodeURI,"decodeURI"],[decodeURIComponent,"decodeURIComponent"],[encodeURI,"encodeURI"],[encodeURIComponent,"encodeURIComponent"]],i=0;i<r.length;i++){var s=function(e){return function(n){try{return e(n)}catch(e){t.throwException(t.URI_ERROR,e.message)}}}(r[i][0]);this.setProperty(e,r[i][1],this.createNativeFunction(s,!1),o.NONENUMERABLE_DESCRIPTOR)}this.OBJECT=this.OBJECT,this.OBJECT_PROTO=this.OBJECT_PROTO,this.FUNCTION=this.FUNCTION,this.FUNCTION_PROTO=this.FUNCTION_PROTO,this.ARRAY=this.ARRAY,this.ARRAY_PROTO=this.ARRAY_PROTO,this.REGEXP=this.REGEXP,this.REGEXP_PROTO=this.REGEXP_PROTO,this.DATE=this.DATE,this.DATE_PROTO=this.DATE_PROTO,this.initFunc_&&this.initFunc_(this,e)},o.prototype.functionCodeNumber_=0,o.prototype.initFunction=function(e){var t,n=this,r=/^[A-Za-z_$][\w$]*$/;t=function(e){if(arguments.length)var t=String(arguments[arguments.length-1]);else t="";var o=Array.prototype.slice.call(arguments,0,-1).join(",").trim();if(o){for(var i=o.split(/\s*,\s*/),s=0;s<i.length;s++){var a=i[s];r.test(a)||n.throwException(n.SYNTAX_ERROR,"Invalid function argument: "+a)}o=i.join(", ")}try{var l=this.parse_("(function("+o+") {"+t+"})","function"+this.functionCodeNumber_++)}catch(e){n.throwException(n.SYNTAX_ERROR,"Invalid code: "+e.message)}1!==l.body.length&&n.throwException(n.SYNTAX_ERROR,"Invalid code in function body.");var c=l.body[0].expression;return n.createFunction(c,n.globalScope,"anonymous")},this.FUNCTION=this.createNativeFunction(t,!0),this.setProperty(e,"Function",this.FUNCTION,o.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.FUNCTION,"prototype",this.FUNCTION_PROTO,o.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.FUNCTION_PROTO,"constructor",this.FUNCTION,o.NONENUMERABLE_DESCRIPTOR),this.FUNCTION_PROTO.nativeFunc=function(){},this.FUNCTION_PROTO.nativeFunc.id=this.functionCounter_++,this.FUNCTION_PROTO.illegalConstructor=!0,this.setProperty(this.FUNCTION_PROTO,"length",0,o.READONLY_NONENUMERABLE_DESCRIPTOR),this.FUNCTION_PROTO.class="Function",t=function(e,t){var r=n.stateStack[n.stateStack.length-1];r.func_=this,r.funcThis_=e,r.arguments_=[],null!=t&&(t instanceof o.Object?r.arguments_=n.arrayPseudoToNative(t):n.throwException(n.TYPE_ERROR,"CreateListFromArrayLike called on non-object")),r.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"apply",t),t=function(e){var t=n.stateStack[n.stateStack.length-1];t.func_=this,t.funcThis_=e,t.arguments_=[];for(var r=1;r<arguments.length;r++)t.arguments_.push(arguments[r]);t.doneExec_=!1},this.setNativeFunctionPrototype(this.FUNCTION,"call",t),this.polyfills_.push("Object.defineProperty(Function.prototype, 'bind',","{configurable: true, writable: true, value:","function bind(oThis) {","if (typeof this !== 'function') {","throw TypeError('What is trying to be bound is not callable');","}","var aArgs   = Array.prototype.slice.call(arguments, 1),","fToBind = this,","fNOP    = function() {},","fBound  = function() {","return fToBind.apply(this instanceof fNOP","? this",": oThis,","aArgs.concat(Array.prototype.slice.call(arguments)));","};","if (this.prototype) {","fNOP.prototype = this.prototype;","}","fBound.prototype = new fNOP();","return fBound;","}","});",""),t=function(){return String(this)},this.setNativeFunctionPrototype(this.FUNCTION,"toString",t),this.setProperty(this.FUNCTION,"toString",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),t=function(){return this.valueOf()},this.setNativeFunctionPrototype(this.FUNCTION,"valueOf",t),this.setProperty(this.FUNCTION,"valueOf",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR)},o.prototype.initObject=function(e){var t,n=this;t=function(e){if(null==e)return n.calledWithNew()?this:n.createObjectProto(n.OBJECT_PROTO);if(!(e instanceof o.Object)){var t=n.createObjectProto(n.getPrototype(e));return t.data=e,t}return e},this.OBJECT=this.createNativeFunction(t,!0),this.setProperty(this.OBJECT,"prototype",this.OBJECT_PROTO,o.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.OBJECT_PROTO,"constructor",this.OBJECT,o.NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"Object",this.OBJECT,o.NONENUMERABLE_DESCRIPTOR);var r=function(e){null==e&&n.throwException(n.TYPE_ERROR,"Cannot convert '"+e+"' to object")};t=function(e){r(e);var t=e instanceof o.Object?e.properties:e;return n.arrayNativeToPseudo(Object.getOwnPropertyNames(t))},this.setProperty(this.OBJECT,"getOwnPropertyNames",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),t=function(e){return r(e),e instanceof o.Object&&(e=e.properties),n.arrayNativeToPseudo(Object.keys(e))},this.setProperty(this.OBJECT,"keys",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),t=function(e){return null===e?n.createObjectProto(null):(e instanceof o.Object||n.throwException(n.TYPE_ERROR,"Object prototype may only be an Object or null"),n.createObjectProto(e))},this.setProperty(this.OBJECT,"create",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("(function() {","var create_ = Object.create;","Object.create = function create(proto, props) {","var obj = create_(proto);","props && Object.defineProperties(obj, props);","return obj;","};","})();",""),t=function(e,t,r){return t=String(t),e instanceof o.Object||n.throwException(n.TYPE_ERROR,"Object.defineProperty called on non-object"),r instanceof o.Object||n.throwException(n.TYPE_ERROR,"Property description must be an object"),!e.properties[t]&&e.preventExtensions&&n.throwException(n.TYPE_ERROR,"Can't define property '"+t+"', object is not extensible"),n.setProperty(e,t,o.VALUE_IN_DESCRIPTOR,r.properties),e},this.setProperty(this.OBJECT,"defineProperty",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("(function() {","var defineProperty_ = Object.defineProperty;","Object.defineProperty = function defineProperty(obj, prop, d1) {","var d2 = {};","if ('configurable' in d1) d2.configurable = d1.configurable;","if ('enumerable' in d1) d2.enumerable = d1.enumerable;","if ('writable' in d1) d2.writable = d1.writable;","if ('value' in d1) d2.value = d1.value;","if ('get' in d1) d2.get = d1.get;","if ('set' in d1) d2.set = d1.set;","return defineProperty_(obj, prop, d2);","};","})();","Object.defineProperty(Object, 'defineProperties',","{configurable: true, writable: true, value:","function defineProperties(obj, props) {","var keys = Object.keys(props);","for (var i = 0; i < keys.length; i++) {","Object.defineProperty(obj, keys[i], props[keys[i]]);","}","return obj;","}","});",""),t=function(e,t){if(e instanceof o.Object||n.throwException(n.TYPE_ERROR,"Object.getOwnPropertyDescriptor called on non-object"),(t=String(t))in e.properties){var r=Object.getOwnPropertyDescriptor(e.properties,t),i=e.getter[t],s=e.setter[t],a=n.createObjectProto(n.OBJECT_PROTO);return i||s?(n.setProperty(a,"get",i),n.setProperty(a,"set",s)):(n.setProperty(a,"value",r.value),n.setProperty(a,"writable",r.writable)),n.setProperty(a,"configurable",r.configurable),n.setProperty(a,"enumerable",r.enumerable),a}},this.setProperty(this.OBJECT,"getOwnPropertyDescriptor",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),t=function(e){return r(e),n.getPrototype(e)},this.setProperty(this.OBJECT,"getPrototypeOf",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),t=function(e){return Boolean(e)&&!e.preventExtensions},this.setProperty(this.OBJECT,"isExtensible",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),t=function(e){return e instanceof o.Object&&(e.preventExtensions=!0),e},this.setProperty(this.OBJECT,"preventExtensions",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),this.setNativeFunctionPrototype(this.OBJECT,"toString",o.Object.prototype.toString),this.setNativeFunctionPrototype(this.OBJECT,"toLocaleString",o.Object.prototype.toString),this.setNativeFunctionPrototype(this.OBJECT,"valueOf",o.Object.prototype.valueOf),t=function(e){return r(this),this instanceof o.Object?String(e)in this.properties:this.hasOwnProperty(e)},this.setNativeFunctionPrototype(this.OBJECT,"hasOwnProperty",t),t=function(e){return r(this),this instanceof o.Object?Object.prototype.propertyIsEnumerable.call(this.properties,e):this.propertyIsEnumerable(e)},this.setNativeFunctionPrototype(this.OBJECT,"propertyIsEnumerable",t),t=function(e){for(;;){if(!(e=n.getPrototype(e)))return!1;if(e===this)return!0}},this.setNativeFunctionPrototype(this.OBJECT,"isPrototypeOf",t)},o.prototype.initArray=function(e){var t,n=this;t=function(e){if(n.calledWithNew())var t=this;else t=n.createArray();var r=arguments[0];if(1===arguments.length&&"number"==typeof r)isNaN(o.legalArrayLength(r))&&n.throwException(n.RANGE_ERROR,"Invalid array length"),t.properties.length=r;else{for(var i=0;i<arguments.length;i++)t.properties[i]=arguments[i];t.properties.length=i}return t},this.ARRAY=this.createNativeFunction(t,!0),this.ARRAY_PROTO=this.ARRAY.properties.prototype,this.setProperty(e,"Array",this.ARRAY,o.NONENUMERABLE_DESCRIPTOR),t=function(e){return e&&"Array"===e.class},this.setProperty(this.ARRAY,"isArray",this.createNativeFunction(t,!1),o.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ARRAY_PROTO,"length",0,{configurable:!1,enumerable:!1,writable:!0}),this.ARRAY_PROTO.class="Array",this.polyfills_.push("Object.defineProperty(Array.prototype, 'pop',","{configurable: true, writable: true, value:","function pop() {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","if (!len || len < 0) {","o.length = 0;","return undefined;","}","len--;","var x = o[len];","delete o[len];","o.length = len;","return x;","}","});","Object.defineProperty(Array.prototype, 'push',","{configurable: true, writable: true, value:","function push(var_args) {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","for (var i = 0; i < arguments.length; i++) {","o[len] = arguments[i];","len++;","}","o.length = len;","return len;","}","});","Object.defineProperty(Array.prototype, 'shift',","{configurable: true, writable: true, value:","function shift() {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","if (!len || len < 0) {","o.length = 0;","return undefined;","}","var value = o[0];","for (var i = 0; i < len - 1; i++) {","o[i] = o[i + 1];","}","delete o[i];","o.length = len - 1;","return value;","}","});","Object.defineProperty(Array.prototype, 'unshift',","{configurable: true, writable: true, value:","function unshift(var_args) {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","if (!len || len < 0) {","len = 0;","}","for (var i = len - 1; i >= 0; i--) {","o[i + arguments.length] = o[i];","}","for (var i = 0; i < arguments.length; i++) {","o[i] = arguments[i];","}","return o.length = len + arguments.length;","}","});","Object.defineProperty(Array.prototype, 'reverse',","{configurable: true, writable: true, value:","function reverse() {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","if (!len || len < 2) {","return o;","}","for (var i = 0; i < len / 2 - 0.5; i++) {","var x = o[i];","o[i] = o[len - i - 1];","o[len - i - 1] = x;","}","return o;","}","});","Object.defineProperty(Array.prototype, 'indexOf',","{configurable: true, writable: true, value:","function indexOf(searchElement, fromIndex) {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","var n = fromIndex | 0;","if (!len || n >= len) {","return -1;","}","var i = Math.max(n >= 0 ? n : len - Math.abs(n), 0);","while (i < len) {","if (i in o && o[i] === searchElement) {","return i;","}","i++;","}","return -1;","}","});","Object.defineProperty(Array.prototype, 'lastIndexOf',","{configurable: true, writable: true, value:","function lastIndexOf(searchElement, fromIndex) {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","if (!len) {","return -1;","}","var n = len - 1;","if (arguments.length > 1) {","n = fromIndex | 0;","if (n) {","n = (n > 0 || -1) * Math.floor(Math.abs(n));","}","}","var i = n >= 0 ? Math.min(n, len - 1) : len - Math.abs(n);","while (i >= 0) {","if (i in o && o[i] === searchElement) {","return i;","}","i--;","}","return -1;","}","});","Object.defineProperty(Array.prototype, 'slice',","{configurable: true, writable: true, value:","function slice(start, end) {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","start |= 0;","start = (start >= 0) ? start : Math.max(0, len + start);","if (typeof end !== 'undefined') {","if (end !== Infinity) {","end |= 0;","}","if (end < 0) {","end = len + end;","} else {","end = Math.min(end, len);","}","} else {","end = len;","}","var size = end - start;","var cloned = [];","for (var i = 0; i < size; i++) {","cloned[i] = o[start + i];","}","return cloned;","}","});","Object.defineProperty(Array.prototype, 'splice',","{configurable: true, writable: true, value:","function splice(start, deleteCount, var_args) {","if (!this) throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","start |= 0;","if (start < 0) {","start = Math.max(len + start, 0);","} else {","start = Math.min(start, len);","}","if (arguments.length < 1) {","deleteCount = len - start;","} else {","deleteCount |= 0;","deleteCount = Math.max(0, Math.min(deleteCount, len - start));","}","var removed = [];","for (var i = start; i < start + deleteCount; i++) {","removed[removed.length++] = o[i];","o[i] = o[i + deleteCount];","}","for (var i = start + deleteCount; i < len - deleteCount; i++) {","o[i] = o[i + deleteCount];","}","for (var i = len - deleteCount; i < len; i++) {","delete o[i];","}","len -= deleteCount;","for (var i = len - 1; i >= start; i--) {","o[i + arguments.length - 2] = o[i];","}","len += arguments.length - 2;","for (var i = 2; i < arguments.length; i++) {","o[start + i - 2] = arguments[i];","}","o.length = len;","return removed;","}","});","Object.defineProperty(Array.prototype, 'concat',","{configurable: true, writable: true, value:","function concat(var_args) {","if (!this) throw TypeError();","var o = Object(this);","var cloned = [];","for (var i = -1; i < arguments.length; i++) {","var value = (i === -1) ? o : arguments[i];","if (Array.isArray(value)) {","cloned.push.apply(cloned, value);","} else {","cloned.push(value);","}","}","return cloned;","}","});","Object.defineProperty(Array.prototype, 'join',","{configurable: true, writable: true, value:","function join(opt_separator) {","if (!this) throw TypeError();","var o = Object(this);","var sep = typeof opt_separator === 'undefined' ?","',' : ('' + opt_separator);","var str = '';","for (var i = 0; i < o.length; i++) {","if (i && sep) {","str += sep;","}","str += o[i];","}","return str;","}","});","Object.defineProperty(Array.prototype, 'every',","{configurable: true, writable: true, value:","function every(callbackfn, thisArg) {","if (!this || typeof callbackfn !== 'function') throw TypeError();","var t, k;","var o = Object(this);","var len = o.length >>> 0;","if (arguments.length > 1) t = thisArg;","k = 0;","while (k < len) {","if (k in o && !callbackfn.call(t, o[k], k, o)) return false;","k++;","}","return true;","}","});","Object.defineProperty(Array.prototype, 'filter',","{configurable: true, writable: true, value:","function filter(fun, var_args) {","if (this === void 0 || this === null || typeof fun !== 'function') throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","var res = [];","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in o) {","var val = o[i];","if (fun.call(thisArg, val, i, o)) res.push(val);","}","}","return res;","}","});","Object.defineProperty(Array.prototype, 'forEach',","{configurable: true, writable: true, value:","function forEach(callback, thisArg) {","if (!this || typeof callback !== 'function') throw TypeError();","var t, k;","var o = Object(this);","var len = o.length >>> 0;","if (arguments.length > 1) t = thisArg;","k = 0;","while (k < len) {","if (k in o) callback.call(t, o[k], k, o);","k++;","}","}","});","Object.defineProperty(Array.prototype, 'map',","{configurable: true, writable: true, value:","function map(callback, thisArg) {","if (!this || typeof callback !== 'function') throw TypeError();","var t, a, k;","var o = Object(this);","var len = o.length >>> 0;","if (arguments.length > 1) t = thisArg;","a = new Array(len);","k = 0;","while (k < len) {","if (k in o) a[k] = callback.call(t, o[k], k, o);","k++;","}","return a;","}","});","Object.defineProperty(Array.prototype, 'reduce',","{configurable: true, writable: true, value:","function reduce(callback /*, initialValue*/) {","if (!this || typeof callback !== 'function') throw TypeError();","var o = Object(this), len = o.length >>> 0, k = 0, value;","if (arguments.length === 2) {","value = arguments[1];","} else {","while (k < len && !(k in o)) k++;","if (k >= len) {","throw TypeError('Reduce of empty array with no initial value');","}","value = o[k++];","}","for (; k < len; k++) {","if (k in o) value = callback(value, o[k], k, o);","}","return value;","}","});","Object.defineProperty(Array.prototype, 'reduceRight',","{configurable: true, writable: true, value:","function reduceRight(callback /*, initialValue*/) {","if (null === this || 'undefined' === typeof this || 'function' !== typeof callback) throw TypeError();","var o = Object(this), len = o.length >>> 0, k = len - 1, value;","if (arguments.length >= 2) {","value = arguments[1];","} else {","while (k >= 0 && !(k in o)) k--;","if (k < 0) {","throw TypeError('Reduce of empty array with no initial value');","}","value = o[k--];","}","for (; k >= 0; k--) {","if (k in o) value = callback(value, o[k], k, o);","}","return value;","}","});","Object.defineProperty(Array.prototype, 'some',","{configurable: true, writable: true, value:","function some(fun/*, thisArg*/) {","if (!this || typeof fun !== 'function') throw TypeError();","var o = Object(this);","var len = o.length >>> 0;","var thisArg = arguments.length >= 2 ? arguments[1] : void 0;","for (var i = 0; i < len; i++) {","if (i in o && fun.call(thisArg, o[i], i, o)) {","return true;","}","}","return false;","}","});","Object.defineProperty(Array.prototype, 'sort',","{configurable: true, writable: true, value:","function sort(opt_comp) {","if (!this) throw TypeError();","if (typeof opt_comp !== 'function') {","opt_comp = undefined;","}","for (var i = 0; i < this.length; i++) {","var changes = 0;","for (var j = 0; j < this.length - i - 1; j++) {","if (opt_comp ? (opt_comp(this[j], this[j + 1]) > 0) :","(String(this[j]) > String(this[j + 1]))) {","var swap = this[j];","this[j] = this[j + 1];","this[j + 1] = swap;","changes++;","}","}","if (!changes) break;","}","return this;","}","});","Object.defineProperty(Array.prototype, 'toLocaleString',","{configurable: true, writable: true, value:","function toLocaleString() {","if (!this) throw TypeError();","var o = Object(this);","var out = [];","for (var i = 0; i < o.length; i++) {","out[i] = (o[i] === null || o[i] === undefined) ? '' : o[i].toLocaleString();","}","return out.join(',');","}","});","")},o.prototype.initString=function(e){var t,n=this;t=function(e){return e=arguments.length?o.nativeGlobal.String(e):"",n.calledWithNew()?(this.data=e,this):e},this.STRING=this.createNativeFunction(t,!0),this.setProperty(e,"String",this.STRING,o.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.STRING,"fromCharCode",this.createNativeFunction(String.fromCharCode,!1),o.NONENUMERABLE_DESCRIPTOR);for(var r=["charAt","charCodeAt","concat","indexOf","lastIndexOf","slice","substr","substring","toLocaleLowerCase","toLocaleUpperCase","toLowerCase","toUpperCase","trim"],i=0;i<r.length;i++)this.setNativeFunctionPrototype(this.STRING,r[i],String.prototype[r[i]]);t=function(e,t,r){t=n.pseudoToNative(t),r=n.pseudoToNative(r);try{return String(this).localeCompare(e,t,r)}catch(e){n.throwException(n.ERROR,"localeCompare: "+e.message)}},this.setNativeFunctionPrototype(this.STRING,"localeCompare",t),t=function(e,t,r){var i=String(this);if(t=t?Number(t):void 0,n.isa(e,n.REGEXP)&&(e=e.data,n.maybeThrowRegExp(e,r),2===n.REGEXP_MODE))if(o.vm){var s={string:i,separator:e,limit:t};(c=n.vmCall("string.split(separator, limit)",s,e,r))!==o.REGEXP_TIMEOUT&&r(n.arrayNativeToPseudo(c))}else{var a=n.createWorker(),l=n.regExpTimeout(e,a,r);a.onmessage=function(e){clearTimeout(l),r(n.arrayNativeToPseudo(e.data))},a.postMessage(["split",i,e,t])}else{var c=i.split(e,t);r(n.arrayNativeToPseudo(c))}},this.setAsyncFunctionPrototype(this.STRING,"split",t),t=function(e,t){var r=String(this);if(e=n.isa(e,n.REGEXP)?e.data:new RegExp(e),n.maybeThrowRegExp(e,t),2!==n.REGEXP_MODE)i=r.match(e),t(i&&n.arrayNativeToPseudo(i));else if(o.vm){var i,s={string:r,regexp:e};(i=n.vmCall("string.match(regexp)",s,e,t))!==o.REGEXP_TIMEOUT&&t(i&&n.arrayNativeToPseudo(i))}else{var a=n.createWorker(),l=n.regExpTimeout(e,a,t);a.onmessage=function(e){clearTimeout(l),t(e.data&&n.arrayNativeToPseudo(e.data))},a.postMessage(["match",r,e])}},this.setAsyncFunctionPrototype(this.STRING,"match",t),t=function(e,t){var r=String(this);if(e=n.isa(e,n.REGEXP)?e.data:new RegExp(e),n.maybeThrowRegExp(e,t),2!==n.REGEXP_MODE)t(r.search(e));else if(o.vm){var i={string:r,regexp:e},s=n.vmCall("string.search(regexp)",i,e,t);s!==o.REGEXP_TIMEOUT&&t(s)}else{var a=n.createWorker(),l=n.regExpTimeout(e,a,t);a.onmessage=function(e){clearTimeout(l),t(e.data)},a.postMessage(["search",r,e])}},this.setAsyncFunctionPrototype(this.STRING,"search",t),t=function(e,t,r){var i=String(this);if(t=String(t),n.isa(e,n.REGEXP)&&(e=e.data,n.maybeThrowRegExp(e,r),2===n.REGEXP_MODE))if(o.vm){var s={string:i,substr:e,newSubstr:t},a=n.vmCall("string.replace(substr, newSubstr)",s,e,r);a!==o.REGEXP_TIMEOUT&&r(a)}else{var l=n.createWorker(),c=n.regExpTimeout(e,l,r);l.onmessage=function(e){clearTimeout(c),r(e.data)},l.postMessage(["replace",i,e,t])}else r(i.replace(e,t))},this.setAsyncFunctionPrototype(this.STRING,"replace",t),this.polyfills_.push("(function() {","var replace_ = String.prototype.replace;","String.prototype.replace = function replace(substr, newSubstr) {","if (typeof newSubstr !== 'function') {","return replace_.call(this, substr, newSubstr);","}","var str = this;","if (substr instanceof RegExp) {","var subs = [];","var m = substr.exec(str);","while (m) {","m.push(m.index, str);","var inject = newSubstr.apply(null, m);","subs.push([m.index, m[0].length, inject]);","m = substr.global ? substr.exec(str) : null;","}","for (var i = subs.length - 1; i >= 0; i--) {","str = str.substring(0, subs[i][0]) + subs[i][2] + str.substring(subs[i][0] + subs[i][1]);","}","} else {","var i = str.indexOf(substr);","if (i !== -1) {","var inject = newSubstr(str.substr(i, substr.length), i, str);","str = str.substring(0, i) + inject + str.substring(i + substr.length);","}","}","return str;","};","})();","")},o.prototype.initBoolean=function(e){var t,n=this;t=function(e){return e=o.nativeGlobal.Boolean(e),n.calledWithNew()?(this.data=e,this):e},this.BOOLEAN=this.createNativeFunction(t,!0),this.setProperty(e,"Boolean",this.BOOLEAN,o.NONENUMERABLE_DESCRIPTOR)},o.prototype.initNumber=function(e){var t,n=this;t=function(e){return e=arguments.length?o.nativeGlobal.Number(e):0,n.calledWithNew()?(this.data=e,this):e},this.NUMBER=this.createNativeFunction(t,!0),this.setProperty(e,"Number",this.NUMBER,o.NONENUMERABLE_DESCRIPTOR);for(var r=["MAX_VALUE","MIN_VALUE","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY"],i=0;i<r.length;i++)this.setProperty(this.NUMBER,r[i],Number[r[i]],o.NONCONFIGURABLE_READONLY_NONENUMERABLE_DESCRIPTOR);t=function(e){try{return Number(this).toExponential(e)}catch(e){n.throwException(n.ERROR,e.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toExponential",t),t=function(e){try{return Number(this).toFixed(e)}catch(e){n.throwException(n.ERROR,e.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toFixed",t),t=function(e){try{return Number(this).toPrecision(e)}catch(e){n.throwException(n.ERROR,e.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toPrecision",t),t=function(e){try{return Number(this).toString(e)}catch(e){n.throwException(n.ERROR,e.message)}},this.setNativeFunctionPrototype(this.NUMBER,"toString",t),t=function(e,t){return e=e?n.pseudoToNative(e):void 0,t=t?n.pseudoToNative(t):void 0,Number(this).toLocaleString(e,t)},this.setNativeFunctionPrototype(this.NUMBER,"toLocaleString",t)},o.prototype.initDate=function(e){var t,n=this;t=function(e,t){if(!n.calledWithNew())return o.nativeGlobal.Date();var r=[null].concat(Array.from(arguments));return this.data=new(Function.prototype.bind.apply(o.nativeGlobal.Date,r)),this},this.DATE=this.createNativeFunction(t,!0),this.DATE_PROTO=this.DATE.properties.prototype,this.setProperty(e,"Date",this.DATE,o.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.DATE,"now",this.createNativeFunction(Date.now,!1),o.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.DATE,"parse",this.createNativeFunction(Date.parse,!1),o.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.DATE,"UTC",this.createNativeFunction(Date.UTC,!1),o.NONENUMERABLE_DESCRIPTOR);for(var r=["getDate","getDay","getFullYear","getHours","getMilliseconds","getMinutes","getMonth","getSeconds","getTime","getTimezoneOffset","getUTCDate","getUTCDay","getUTCFullYear","getUTCHours","getUTCMilliseconds","getUTCMinutes","getUTCMonth","getUTCSeconds","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toISOString","toJSON","toGMTString","toLocaleDateString","toLocaleString","toLocaleTimeString","toTimeString","toUTCString"],i=0;i<r.length;i++)t=function(e){return function(t){var r=this.data;r instanceof Date||n.throwException(n.TYPE_ERROR,e+" not called on a Date");for(var o=[],i=0;i<arguments.length;i++)o[i]=n.pseudoToNative(arguments[i]);return r[e].apply(r,o)}}(r[i]),this.setNativeFunctionPrototype(this.DATE,r[i],t)},o.prototype.initRegExp=function(e){var t,n=this;t=function(e,t){if(n.calledWithNew())var r=this;else{if(void 0===t&&n.isa(e,n.REGEXP))return e;r=n.createObjectProto(n.REGEXP_PROTO)}return e=void 0===e?"":String(e),t=t?String(t):"",n.populateRegExp(r,new o.nativeGlobal.RegExp(e,t)),r},this.REGEXP=this.createNativeFunction(t,!0),this.REGEXP_PROTO=this.REGEXP.properties.prototype,this.setProperty(e,"RegExp",this.REGEXP,o.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"global",void 0,o.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"ignoreCase",void 0,o.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"multiline",void 0,o.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(this.REGEXP.properties.prototype,"source","(?:)",o.READONLY_NONENUMERABLE_DESCRIPTOR),this.polyfills_.push("Object.defineProperty(RegExp.prototype, 'test',","{configurable: true, writable: true, value:","function test(str) {","return !!this.exec(str);","}","});"),t=function(e,t){var r=this.data;if(e=String(e),r.lastIndex=Number(n.getProperty(this,"lastIndex")),n.maybeThrowRegExp(r,t),2!==n.REGEXP_MODE)i=r.exec(e),n.setProperty(this,"lastIndex",r.lastIndex),t(u(i));else if(o.vm){var i,s={string:e,regexp:r};(i=n.vmCall("regexp.exec(string)",s,r,t))!==o.REGEXP_TIMEOUT&&(n.setProperty(this,"lastIndex",r.lastIndex),t(u(i)))}else{var a=n.createWorker(),l=n.regExpTimeout(r,a,t),c=this;a.onmessage=function(e){clearTimeout(l),n.setProperty(c,"lastIndex",e.data[1]),t(u(e.data[0]))},a.postMessage(["exec",r,r.lastIndex,e])}function u(e){if(e){var t=n.arrayNativeToPseudo(e);return n.setProperty(t,"index",e.index),n.setProperty(t,"input",e.input),t}return null}},this.setAsyncFunctionPrototype(this.REGEXP,"exec",t)},o.prototype.initError=function(e){var t=this;this.ERROR=this.createNativeFunction((function(e){if(t.calledWithNew())var n=this;else n=t.createObject(t.ERROR);return t.populateError(n,e),n}),!0),this.setProperty(e,"Error",this.ERROR,o.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ERROR.properties.prototype,"message","",o.NONENUMERABLE_DESCRIPTOR),this.setProperty(this.ERROR.properties.prototype,"name","Error",o.NONENUMERABLE_DESCRIPTOR);var n=function(n){var r=t.createNativeFunction((function(e){if(t.calledWithNew())var n=this;else n=t.createObject(r);return t.populateError(n,e),n}),!0);return t.setProperty(r,"prototype",t.createObject(t.ERROR),o.NONENUMERABLE_DESCRIPTOR),t.setProperty(r.properties.prototype,"name",n,o.NONENUMERABLE_DESCRIPTOR),t.setProperty(e,n,r,o.NONENUMERABLE_DESCRIPTOR),r};this.EVAL_ERROR=n("EvalError"),this.RANGE_ERROR=n("RangeError"),this.REFERENCE_ERROR=n("ReferenceError"),this.SYNTAX_ERROR=n("SyntaxError"),this.TYPE_ERROR=n("TypeError"),this.URI_ERROR=n("URIError")},o.prototype.initMath=function(e){var t=this.createObjectProto(this.OBJECT_PROTO);this.setProperty(e,"Math",t,o.NONENUMERABLE_DESCRIPTOR);for(var n=["E","LN2","LN10","LOG2E","LOG10E","PI","SQRT1_2","SQRT2"],r=0;r<n.length;r++)this.setProperty(t,n[r],Math[n[r]],o.READONLY_NONENUMERABLE_DESCRIPTOR);var i=["abs","acos","asin","atan","atan2","ceil","cos","exp","floor","log","max","min","pow","random","round","sin","sqrt","tan"];for(r=0;r<i.length;r++)this.setProperty(t,i[r],this.createNativeFunction(Math[i[r]],!1),o.NONENUMERABLE_DESCRIPTOR)},o.prototype.initJSON=function(e){var t=this,n=t.createObjectProto(this.OBJECT_PROTO);this.setProperty(e,"JSON",n,o.NONENUMERABLE_DESCRIPTOR);var r=function(e){try{var n=JSON.parse(String(e))}catch(e){t.throwException(t.SYNTAX_ERROR,e.message)}return t.nativeToPseudo(n)};this.setProperty(n,"parse",this.createNativeFunction(r,!1)),r=function(e,n,r){n&&"Function"===n.class?t.throwException(t.TYPE_ERROR,"Function replacer on JSON.stringify not supported"):n=n&&"Array"===n.class?(n=t.arrayPseudoToNative(n)).filter((function(e){return"string"==typeof e||"number"==typeof e})):null,"string"!=typeof r&&"number"!=typeof r&&(r=void 0);var o=t.pseudoToNative(e);try{var i=JSON.stringify(o,n,r)}catch(e){t.throwException(t.TYPE_ERROR,e.message)}return i},this.setProperty(n,"stringify",this.createNativeFunction(r,!1))},o.prototype.isa=function(e,t){if(null==e||!t)return!1;var n=t.properties.prototype;if(e===n)return!0;for(e=this.getPrototype(e);e;){if(e===n)return!0;e=e.proto}return!1},o.prototype.populateRegExp=function(e,t){e.data=new RegExp(t.source,t.flags),this.setProperty(e,"lastIndex",t.lastIndex,o.NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"source",t.source,o.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"global",t.global,o.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"ignoreCase",t.ignoreCase,o.READONLY_NONENUMERABLE_DESCRIPTOR),this.setProperty(e,"multiline",t.multiline,o.READONLY_NONENUMERABLE_DESCRIPTOR)},o.prototype.populateError=function(e,t){t&&this.setProperty(e,"message",String(t),o.NONENUMERABLE_DESCRIPTOR);for(var n=[],r=this.stateStack.length-1;r>=0;r--){var i=this.stateStack[r],s=i.node;if("CallExpression"===s.type){var a=i.func_;a&&n.length&&(n[n.length-1].name=this.getProperty(a,"name"))}!s.loc||n.length&&"CallExpression"!==s.type||n.push({loc:s.loc})}var l=(u=String(this.getProperty(e,"name")))+": "+String(this.getProperty(e,"message"))+"\n";for(r=0;r<n.length;r++){var c=n[r].loc,u=n[r].name,h=c.source+":"+c.start.line+":"+c.start.column;l+=u?"  at "+u+" ("+h+")\n":"  at "+h+"\n"}this.setProperty(e,"stack",l.trim(),o.NONENUMERABLE_DESCRIPTOR)},o.prototype.createWorker=function(){var e=this.createWorker.blob_;return e||(e=new Blob([o.WORKER_CODE.join("\n")],{type:"application/javascript"}),this.createWorker.blob_=e),new Worker(URL.createObjectURL(e))},o.prototype.vmCall=function(e,t,n,r){var i={timeout:this.REGEXP_THREAD_TIMEOUT};try{return o.vm.runInNewContext(e,t,i)}catch(e){r(null),this.throwException(this.ERROR,"RegExp Timeout: "+n)}return o.REGEXP_TIMEOUT},o.prototype.maybeThrowRegExp=function(e,t){var r;if(0===this.REGEXP_MODE)r=!1;else if(1===this.REGEXP_MODE)r=!0;else if(o.vm)r=!0;else if("function"==typeof Worker&&"function"==typeof URL)r=!0;else{try{o.vm=n("./node_modules/vm-browserify/index.js")}catch(e){}r=!!o.vm}r||(t(null),this.throwException(this.ERROR,"Regular expressions not supported: "+e))},o.prototype.regExpTimeout=function(e,t,n){var r=this;return setTimeout((function(){t.terminate(),n(null);try{r.throwException(r.ERROR,"RegExp Timeout: "+e)}catch(e){}}),this.REGEXP_THREAD_TIMEOUT)},o.prototype.createObject=function(e){return this.createObjectProto(e&&e.properties.prototype)},o.prototype.createObjectProto=function(e){if("object"!=typeof e)throw Error("Non object prototype");var t=new o.Object(e);return this.isa(t,this.ERROR)&&(t.class="Error"),t},o.prototype.createArray=function(){var e=this.createObjectProto(this.ARRAY_PROTO);return this.setProperty(e,"length",0,{configurable:!1,enumerable:!1,writable:!0}),e.class="Array",e},o.prototype.createFunctionBase_=function(e,t){var n=this.createObjectProto(this.FUNCTION_PROTO);if(t){var r=this.createObjectProto(this.OBJECT_PROTO);this.setProperty(n,"prototype",r,o.NONENUMERABLE_DESCRIPTOR),this.setProperty(r,"constructor",n,o.NONENUMERABLE_DESCRIPTOR)}else n.illegalConstructor=!0;return this.setProperty(n,"length",e,o.READONLY_NONENUMERABLE_DESCRIPTOR),n.class="Function",n},o.prototype.createFunction=function(e,t,n){var r=this.createFunctionBase_(e.params.length,!0);r.parentScope=t,r.node=e;var i=e.id?String(e.id.name):n||"";return this.setProperty(r,"name",i,o.READONLY_NONENUMERABLE_DESCRIPTOR),r},o.prototype.createNativeFunction=function(e,t){var n=this.createFunctionBase_(e.length,t);return n.nativeFunc=e,e.id=this.functionCounter_++,this.setProperty(n,"name",e.name,o.READONLY_NONENUMERABLE_DESCRIPTOR),n},o.prototype.createAsyncFunction=function(e){var t=this.createFunctionBase_(e.length,!0);return t.asyncFunc=e,e.id=this.functionCounter_++,this.setProperty(t,"name",e.name,o.READONLY_NONENUMERABLE_DESCRIPTOR),t},o.prototype.nativeToPseudo=function(e){if(e instanceof o.Object)throw Error("Object is already pseudo");if("object"!=typeof e&&"function"!=typeof e||null===e)return e;if(e instanceof RegExp){var t=this.createObjectProto(this.REGEXP_PROTO);return this.populateRegExp(t,e),t}if(e instanceof Date){var n=this.createObjectProto(this.DATE_PROTO);return n.data=new Date(e.valueOf()),n}if("function"==typeof e){var r=this,i=Object.getOwnPropertyDescriptor(e,"prototype");return this.createNativeFunction((function(){var t=Array.prototype.slice.call(arguments).map((function(e){return r.pseudoToNative(e)})),n=e.apply(r,t);return r.nativeToPseudo(n)}),!!i)}if(Array.isArray(e)){for(var s=this.createArray(),a=0;a<e.length;a++)a in e&&this.setProperty(s,a,this.nativeToPseudo(e[a]));return s}var l=this.createObjectProto(this.OBJECT_PROTO);for(var c in e)this.setProperty(l,c,this.nativeToPseudo(e[c]));return l},o.prototype.pseudoToNative=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)return e;if(!(e instanceof o.Object))throw Error("Object is not pseudo");if(this.isa(e,this.REGEXP)){var n=new RegExp(e.data.source,e.data.flags);return n.lastIndex=e.data.lastIndex,n}if(this.isa(e,this.DATE))return new Date(e.data.valueOf());var r,i=t||{pseudo:[],native:[]};if(-1!==(a=i.pseudo.indexOf(e)))return i.native[a];if(i.pseudo.push(e),this.isa(e,this.ARRAY)){r=[],i.native.push(r);for(var s=this.getProperty(e,"length"),a=0;a<s;a++)this.hasProperty(e,a)&&(r[a]=this.pseudoToNative(this.getProperty(e,a),i))}else{var l;for(var c in r={},i.native.push(r),e.properties)l=this.pseudoToNative(e.properties[c],i),Object.defineProperty(r,c,{value:l,writable:!0,enumerable:!0,configurable:!0})}return i.pseudo.pop(),i.native.pop(),r},o.prototype.arrayNativeToPseudo=function(e){for(var t=this.createArray(),n=Object.getOwnPropertyNames(e),r=0;r<n.length;r++)this.setProperty(t,n[r],e[n[r]]);return t},o.prototype.arrayPseudoToNative=function(e){var t=[];for(var n in e.properties)t[n]=this.getProperty(e,n);return t.length=o.legalArrayLength(this.getProperty(e,"length"))||0,t},o.prototype.getPrototype=function(e){switch(typeof e){case"number":return this.NUMBER.properties.prototype;case"boolean":return this.BOOLEAN.properties.prototype;case"string":return this.STRING.properties.prototype}return e?e.proto:null},o.prototype.getProperty=function(e,t){if(this.getterStep_)throw Error("Getter not supported in that context");if(t=String(t),null==e&&this.throwException(this.TYPE_ERROR,"Cannot read property '"+t+"' of "+e),"object"==typeof e&&!(e instanceof o.Object))throw TypeError("Expecting native value or pseudo object");if("length"===t){if(this.isa(e,this.STRING))return String(e).length}else if(t.charCodeAt(0)<64&&this.isa(e,this.STRING)){var n=o.legalArrayIndex(t);if(!isNaN(n)&&n<String(e).length)return String(e)[n]}do{if(e.properties&&t in e.properties){var r=e.getter[t];return r?(this.getterStep_=!0,r):e.properties[t]}}while(e=this.getPrototype(e))},o.prototype.hasProperty=function(e,t){if(!(e instanceof o.Object))throw TypeError("Primitive data type has no properties");if("length"===(t=String(t))&&this.isa(e,this.STRING))return!0;if(this.isa(e,this.STRING)){var n=o.legalArrayIndex(t);if(!isNaN(n)&&n<String(e).length)return!0}do{if(e.properties&&t in e.properties)return!0}while(e=this.getPrototype(e));return!1},o.prototype.setProperty=function(e,t,n,r){if(this.setterStep_)throw Error("Setter not supported in that context");if(t=String(t),null==e&&this.throwException(this.TYPE_ERROR,"Cannot set property '"+t+"' of "+e),"object"==typeof e&&!(e instanceof o.Object))throw TypeError("Expecting native value or pseudo object");r&&("get"in r||"set"in r)&&("value"in r||"writable"in r)&&this.throwException(this.TYPE_ERROR,"Invalid property descriptor. Cannot both specify accessors and a value or writable attribute");var i=!this.stateStack||this.getScope().strict;if(e instanceof o.Object){if(this.isa(e,this.STRING)){var s=o.legalArrayIndex(t);if("length"===t||!isNaN(s)&&s<String(e).length)return void(i&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+t+"' of String '"+e.data+"'"))}if("Array"===e.class){var a,l=e.properties.length;if("length"===t){if(r){if(!("value"in r))return;n=r.value}if(n=o.legalArrayLength(n),isNaN(n)&&this.throwException(this.RANGE_ERROR,"Invalid array length"),n<l)for(a in e.properties)a=o.legalArrayIndex(a),!isNaN(a)&&n<=a&&delete e.properties[a]}else isNaN(a=o.legalArrayIndex(t))||(e.properties.length=Math.max(l,a+1))}if(!e.preventExtensions||t in e.properties)if(r){var c={};"get"in r&&r.get&&(e.getter[t]=r.get,c.get=this.setProperty.placeholderGet_),"set"in r&&r.set&&(e.setter[t]=r.set,c.set=this.setProperty.placeholderSet_),"configurable"in r&&(c.configurable=r.configurable),"enumerable"in r&&(c.enumerable=r.enumerable),"writable"in r&&(c.writable=r.writable,delete e.getter[t],delete e.setter[t]),"value"in r?(c.value=r.value,delete e.getter[t],delete e.setter[t]):n!==o.VALUE_IN_DESCRIPTOR&&(c.value=n,delete e.getter[t],delete e.setter[t]);try{Object.defineProperty(e.properties,t,c)}catch(e){this.throwException(this.TYPE_ERROR,"Cannot redefine property: "+t)}"get"in r&&!r.get&&delete e.getter[t],"set"in r&&!r.set&&delete e.setter[t]}else{if(n===o.VALUE_IN_DESCRIPTOR)throw ReferenceError("Value not specified.");for(var u=e;!(t in u.properties);)if(!(u=this.getPrototype(u))){u=e;break}if(u.setter&&u.setter[t])return this.setterStep_=!0,u.setter[t];if(u.getter&&u.getter[t])i&&this.throwException(this.TYPE_ERROR,"Cannot set property '"+t+"' of object '"+e+"' which only has a getter");else try{e.properties[t]=n}catch(n){i&&this.throwException(this.TYPE_ERROR,"Cannot assign to read only property '"+t+"' of object '"+e+"'")}}else i&&this.throwException(this.TYPE_ERROR,"Can't add property '"+t+"', object is not extensible")}else i&&this.throwException(this.TYPE_ERROR,"Can't create property '"+t+"' on '"+e+"'")},o.prototype.setProperty.placeholderGet_=function(){throw Error("Placeholder getter")},o.prototype.setProperty.placeholderSet_=function(){throw Error("Placeholder setter")},o.prototype.setNativeFunctionPrototype=function(e,t,n){this.setProperty(e.properties.prototype,t,this.createNativeFunction(n,!1),o.NONENUMERABLE_DESCRIPTOR)},o.prototype.setAsyncFunctionPrototype=function(e,t,n){this.setProperty(e.properties.prototype,t,this.createAsyncFunction(n),o.NONENUMERABLE_DESCRIPTOR)},o.prototype.getScope=function(){var e=this.stateStack[this.stateStack.length-1].scope;if(!e)throw Error("No scope found.");return e},o.prototype.createScope=function(e,t){var n=!1;if(t&&t.strict)n=!0;else{var r=e.body&&e.body[0];r&&r.expression&&"Literal"===r.expression.type&&"use strict"===r.expression.value&&(n=!0)}var i=this.createObjectProto(null),s=new o.Scope(t,n,i);return t||this.initGlobal(s.object),this.populateScope_(e,s),s},o.prototype.createSpecialScope=function(e,t){if(!e)throw Error("parentScope required");var n=t||this.createObjectProto(null);return new o.Scope(e,e.strict,n)},o.prototype.getValueFromScope=function(e){for(var t=this.getScope();t&&t!==this.globalScope;){if(e in t.object.properties)return t.object.properties[e];t=t.parentScope}if(t===this.globalScope&&this.hasProperty(t.object,e))return this.getProperty(t.object,e);var n=this.stateStack[this.stateStack.length-1].node;"UnaryExpression"===n.type&&"typeof"===n.operator||this.throwException(this.REFERENCE_ERROR,e+" is not defined")},o.prototype.setValueToScope=function(e,t){for(var n=this.getScope(),r=n.strict;n&&n!==this.globalScope;){if(e in n.object.properties)return void(n.object.properties[e]=t);n=n.parentScope}if(n===this.globalScope&&(!r||this.hasProperty(n.object,e)))return this.setProperty(n.object,e,t);this.throwException(this.REFERENCE_ERROR,e+" is not defined")},o.prototype.populateScope_=function(e,t){if("VariableDeclaration"===e.type)for(var n=0;n<e.declarations.length;n++)this.setProperty(t.object,e.declarations[n].id.name,void 0,o.VARIABLE_DESCRIPTOR);else{if("FunctionDeclaration"===e.type)return void this.setProperty(t.object,e.id.name,this.createFunction(e,t),o.VARIABLE_DESCRIPTOR);if("FunctionExpression"===e.type)return;if("ExpressionStatement"===e.type)return}var r=e.constructor;for(var i in e){var s=e[i];if(s&&"object"==typeof s)if(Array.isArray(s))for(n=0;n<s.length;n++)s[n]&&s[n].constructor===r&&this.populateScope_(s[n],t);else s.constructor===r&&this.populateScope_(s,t)}},o.prototype.calledWithNew=function(){return this.stateStack[this.stateStack.length-1].isConstructor},o.prototype.getValue=function(e){return e[0]===o.SCOPE_REFERENCE?this.getValueFromScope(e[1]):this.getProperty(e[0],e[1])},o.prototype.setValue=function(e,t){return e[0]===o.SCOPE_REFERENCE?this.setValueToScope(e[1],t):this.setProperty(e[0],e[1],t)},o.prototype.throwException=function(e,t){if(void 0===t)var n=e;else n=this.createObject(e),this.populateError(n,t);throw this.unwind(o.Completion.THROW,n,void 0),o.STEP_ERROR},o.prototype.unwind=function(e,t,n){if(e===o.Completion.NORMAL)throw TypeError("Should not unwind for NORMAL completions");e:for(var r=this.stateStack;r.length>0;r.pop()){var i=r[r.length-1];switch(i.node.type){case"TryStatement":return void(i.cv={type:e,value:t,label:n});case"CallExpression":case"NewExpression":if(e===o.Completion.RETURN)return void(i.value=t);if(e!==o.Completion.THROW)throw Error("Unsynatctic break/continue not rejected by Acorn");break;case"Program":i.done=!0;break e}if(e===o.Completion.BREAK){if(n?i.labels&&-1!==i.labels.indexOf(n):i.isLoop||i.isSwitch)return void r.pop()}else if(e===o.Completion.CONTINUE&&(n?i.labels&&-1!==i.labels.indexOf(n):i.isLoop))return}var s;if(this.isa(t,this.ERROR)){var a={EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError},l=String(this.getProperty(t,"name")),c=this.getProperty(t,"message").valueOf();(s=(a[l]||Error)(c)).stack=String(this.getProperty(t,"stack"))}else s=String(t);throw s},o.prototype.createGetter_=function(e,t){if(!this.getterStep_)throw Error("Unexpected call to createGetter");this.getterStep_=!1;var n=Array.isArray(t)?t[0]:t,r=new this.nodeConstructor({options:{}});r.type="CallExpression";var i=new o.State(r,this.stateStack[this.stateStack.length-1].scope);return i.doneCallee_=!0,i.funcThis_=n,i.func_=e,i.doneArgs_=!0,i.arguments_=[],i},o.prototype.createSetter_=function(e,t,n){if(!this.setterStep_)throw Error("Unexpected call to createSetter");this.setterStep_=!1;var r=Array.isArray(t)?t[0]:this.globalObject,i=new this.nodeConstructor({options:{}});i.type="CallExpression";var s=new o.State(i,this.stateStack[this.stateStack.length-1].scope);return s.doneCallee_=!0,s.funcThis_=r,s.func_=e,s.doneArgs_=!0,s.arguments_=[n],s},o.prototype.boxThis_=function(e){if(null==e)return this.globalObject;if(!(e instanceof o.Object)){var t=this.createObjectProto(this.getPrototype(e));return t.data=e,t}return e},o.Value,o.State=function(e,t){this.node=e,this.scope=t},o.Scope=function(e,t,n){this.parentScope=e,this.strict=t,this.object=n},o.Object=function(e){this.getter=Object.create(null),this.setter=Object.create(null),this.properties=Object.create(null),this.proto=e},o.Object.prototype.proto=null,o.Object.prototype.class="Object",o.Object.prototype.data=null,o.Object.prototype.toString=function(){if(!(this instanceof o.Object))return String(this);if("Array"===this.class){(s=o.toStringCycles_).push(this);try{var e=[],t=this.properties.length,n=!1;t>1024&&(t=1e3,n=!0);for(var r=0;r<t;r++){var i=this.properties[r];e[r]=i instanceof o.Object&&-1!==s.indexOf(i)?"...":i}n&&e.push("...")}finally{s.pop()}return e.join(",")}if("Error"===this.class){var s,a,l;if(-1!==(s=o.toStringCycles_).indexOf(this))return"[object Error]";var c=this;do{if("name"in c.properties){a=c.properties.name;break}}while(c=c.proto);c=this;do{if("message"in c.properties){l=c.properties.message;break}}while(c=c.proto);s.push(this);try{a=a&&String(a),l=l&&String(l)}finally{s.pop()}return l?a+": "+l:String(a)}return null!==this.data?String(this.data):"[object "+this.class+"]"},o.Object.prototype.valueOf=function(){return void 0===this.data||null===this.data||this.data instanceof RegExp?this:this.data instanceof Date?this.data.valueOf():this.data},o.prototype.stepArrayExpression=function(e,t,n){var r=n.elements,i=t.n_||0;for(t.array_?(this.setProperty(t.array_,i,t.value),i++):(t.array_=this.createArray(),t.array_.properties.length=r.length);i<r.length;){if(r[i])return t.n_=i,new o.State(r[i],t.scope);i++}e.pop(),e[e.length-1].value=t.array_},o.prototype.stepAssignmentExpression=function(e,t,n){if(!t.doneLeft_){t.doneLeft_=!0;var r=new o.State(n.left,t.scope);return r.components=!0,r}if(!t.doneRight_){if(t.leftReference_||(t.leftReference_=t.value),t.doneGetter_&&(t.leftValue_=t.value),!t.doneGetter_&&"="!==n.operator){var i=this.getValue(t.leftReference_);if(t.leftValue_=i,this.getterStep_){t.doneGetter_=!0;var s=i;return this.createGetter_(s,t.leftReference_)}}return t.doneRight_=!0,"="===n.operator&&"Identifier"===n.left.type&&(t.destinationName=n.left.name),new o.State(n.right,t.scope)}if(t.doneSetter_)return e.pop(),void(e[e.length-1].value=t.setterValue_);var a=t.leftValue_,l=t.value;switch(n.operator){case"=":a=l;break;case"+=":a+=l;break;case"-=":a-=l;break;case"*=":a*=l;break;case"/=":a/=l;break;case"%=":a%=l;break;case"<<=":a<<=l;break;case">>=":a>>=l;break;case">>>=":a>>>=l;break;case"&=":a&=l;break;case"^=":a^=l;break;case"|=":a|=l;break;default:throw SyntaxError("Unknown assignment expression: "+n.operator)}var c=this.setValue(t.leftReference_,a);if(c)return t.doneSetter_=!0,t.setterValue_=a,this.createSetter_(c,t.leftReference_,a);e.pop(),e[e.length-1].value=a},o.prototype.stepBinaryExpression=function(e,t,n){if(!t.doneLeft_)return t.doneLeft_=!0,new o.State(n.left,t.scope);if(!t.doneRight_)return t.doneRight_=!0,t.leftValue_=t.value,new o.State(n.right,t.scope);e.pop();var r,i=t.leftValue_,s=t.value;switch(n.operator){case"==":r=i==s;break;case"!=":r=i!=s;break;case"===":r=i===s;break;case"!==":r=i!==s;break;case">":r=i>s;break;case">=":r=i>=s;break;case"<":r=i<s;break;case"<=":r=i<=s;break;case"+":r=i+s;break;case"-":r=i-s;break;case"*":r=i*s;break;case"/":r=i/s;break;case"%":r=i%s;break;case"&":r=i&s;break;case"|":r=i|s;break;case"^":r=i^s;break;case"<<":r=i<<s;break;case">>":r=i>>s;break;case">>>":r=i>>>s;break;case"in":s instanceof o.Object||this.throwException(this.TYPE_ERROR,"'in' expects an object, not '"+s+"'"),r=this.hasProperty(s,i);break;case"instanceof":this.isa(s,this.FUNCTION)||this.throwException(this.TYPE_ERROR,"Right-hand side of instanceof is not an object"),r=i instanceof o.Object&&this.isa(i,s);break;default:throw SyntaxError("Unknown binary operator: "+n.operator)}e[e.length-1].value=r},o.prototype.stepBlockStatement=function(e,t,n){var r=t.n_||0,i=n.body[r];if(i)return t.n_=r+1,new o.State(i,t.scope);e.pop()},o.prototype.stepBreakStatement=function(e,t,n){var r=n.label&&n.label.name;this.unwind(o.Completion.BREAK,void 0,r)},o.prototype.evalCodeNumber_=0,o.prototype.stepCallExpression=function(e,t,n){if(!t.doneCallee_){t.doneCallee_=1;var r=new o.State(n.callee,t.scope);return r.components=!0,r}if(1===t.doneCallee_){t.doneCallee_=2;var i=t.value;if(Array.isArray(i)){if(t.func_=this.getValue(i),i[0]===o.SCOPE_REFERENCE?t.directEval_="eval"===i[1]:t.funcThis_=i[0],i=t.func_,this.getterStep_)return t.doneCallee_=1,this.createGetter_(i,t.value)}else t.func_=i;t.arguments_=[],t.n_=0}if(i=t.func_,!t.doneArgs_){if(0!==t.n_&&t.arguments_.push(t.value),n.arguments[t.n_])return new o.State(n.arguments[t.n_++],t.scope);if("NewExpression"===n.type){if(i instanceof o.Object&&!i.illegalConstructor||this.throwException(this.TYPE_ERROR,i+" is not a constructor"),i===this.ARRAY)t.funcThis_=this.createArray();else{var s=i.properties.prototype;"object"==typeof s&&null!==s||(s=this.OBJECT_PROTO),t.funcThis_=this.createObjectProto(s)}t.isConstructor=!0}t.doneArgs_=!0}if(t.doneExec_)e.pop(),t.isConstructor&&"object"!=typeof t.value?e[e.length-1].value=t.funcThis_:e[e.length-1].value=t.value;else{t.doneExec_=!0,i instanceof o.Object||this.throwException(this.TYPE_ERROR,i+" is not a function");var a=i.node;if(a){for(var l=this.createScope(a.body,i.parentScope),c=0;c<a.params.length;c++){var u=a.params[c].name,h=t.arguments_.length>c?t.arguments_[c]:void 0;this.setProperty(l.object,u,h)}var p=this.createArray();for(c=0;c<t.arguments_.length;c++)this.setProperty(p,c,t.arguments_[c]);this.setProperty(l.object,"arguments",p);var d=a.id&&a.id.name;return d&&this.setProperty(l.object,d,i),l.strict||(t.funcThis_=this.boxThis_(t.funcThis_)),this.setProperty(l.object,"this",t.funcThis_,o.READONLY_DESCRIPTOR),t.value=void 0,new o.State(a.body,l)}if(i.eval){var f=t.arguments_[0];if("string"==typeof f){try{var g=this.parse_(String(f),"eval"+this.evalCodeNumber_++)}catch(e){this.throwException(this.SYNTAX_ERROR,"Invalid code: "+e.message)}var m=new this.nodeConstructor({options:{}});return m.type="EvalProgram_",m.body=g.body,o.stripLocations_(m,n.start,n.end),(l=t.directEval_?t.scope:this.globalScope).strict?l=this.createScope(g,l):this.populateScope_(g,l),this.value=void 0,new o.State(m,l)}t.value=f}else if(i.nativeFunc)t.scope.strict||(t.funcThis_=this.boxThis_(t.funcThis_)),t.value=i.nativeFunc.apply(t.funcThis_,t.arguments_);else{if(i.asyncFunc){var y=this,v=i.asyncFunc.length-1,b=t.arguments_.concat(new Array(v)).slice(0,v);return b.push((function(e){t.value=e,y.paused_=!1})),this.paused_=!0,t.scope.strict||(t.funcThis_=this.boxThis_(t.funcThis_)),void i.asyncFunc.apply(t.funcThis_,b)}this.throwException(this.TYPE_ERROR,i.class+" is not callable")}}},o.prototype.stepCatchClause=function(e,t,n){if(!t.done_){t.done_=!0;var r=this.createSpecialScope(t.scope);return this.setProperty(r.object,n.param.name,t.throwValue),new o.State(n.body,r)}e.pop()},o.prototype.stepConditionalExpression=function(e,t,n){var r=t.mode_||0;if(0===r)return t.mode_=1,new o.State(n.test,t.scope);if(1===r){t.mode_=2;var i=Boolean(t.value);if(i&&n.consequent)return new o.State(n.consequent,t.scope);if(!i&&n.alternate)return new o.State(n.alternate,t.scope);this.value=void 0}e.pop(),"ConditionalExpression"===n.type&&(e[e.length-1].value=t.value)},o.prototype.stepContinueStatement=function(e,t,n){var r=n.label&&n.label.name;this.unwind(o.Completion.CONTINUE,void 0,r)},o.prototype.stepDebuggerStatement=function(e,t,n){e.pop()},o.prototype.stepDoWhileStatement=function(e,t,n){if("DoWhileStatement"===n.type&&void 0===t.test_&&(t.value=!0,t.test_=!0),!t.test_)return t.test_=!0,new o.State(n.test,t.scope);if(t.value){if(n.body)return t.test_=!1,t.isLoop=!0,new o.State(n.body,t.scope)}else e.pop()},o.prototype.stepEmptyStatement=function(e,t,n){e.pop()},o.prototype.stepEvalProgram_=function(e,t,n){var r=t.n_||0,i=n.body[r];if(i)return t.n_=r+1,new o.State(i,t.scope);e.pop(),e[e.length-1].value=this.value},o.prototype.stepExpressionStatement=function(e,t,n){if(!t.done_)return t.done_=!0,new o.State(n.expression,t.scope);e.pop(),this.value=t.value},o.prototype.stepForInStatement=function(e,t,n){if(!t.doneInit_&&(t.doneInit_=!0,n.left.declarations&&n.left.declarations[0].init))return t.scope.strict&&this.throwException(this.SYNTAX_ERROR,"for-in loop variable declaration may not have an initializer."),new o.State(n.left,t.scope);if(!t.doneObject_)return t.doneObject_=!0,t.variable_||(t.variable_=t.value),new o.State(n.right,t.scope);if(t.isLoop||(t.isLoop=!0,t.object_=t.value,t.visited_=Object.create(null)),void 0===t.name_)e:for(;;){if(t.object_ instanceof o.Object){for(t.props_||(t.props_=Object.getOwnPropertyNames(t.object_.properties));void 0!==(r=t.props_.shift());)if(Object.prototype.hasOwnProperty.call(t.object_.properties,r)&&!t.visited_[r]&&(t.visited_[r]=!0,Object.prototype.propertyIsEnumerable.call(t.object_.properties,r))){t.name_=r;break e}}else if(null!==t.object_&&void 0!==t.object_)for(t.props_||(t.props_=Object.getOwnPropertyNames(t.object_));;){var r;if(void 0===(r=t.props_.shift()))break;if(t.visited_[r]=!0,Object.prototype.propertyIsEnumerable.call(t.object_,r)){t.name_=r;break e}}if(t.object_=this.getPrototype(t.object_),t.props_=null,null===t.object_)return void e.pop()}if(!t.doneVariable_){t.doneVariable_=!0;var i=n.left;if("VariableDeclaration"!==i.type){t.variable_=null;var s=new o.State(i,t.scope);return s.components=!0,s}t.variable_=[o.SCOPE_REFERENCE,i.declarations[0].id.name]}if(t.variable_||(t.variable_=t.value),!t.doneSetter_){t.doneSetter_=!0;var a=t.name_,l=this.setValue(t.variable_,a);if(l)return this.createSetter_(l,t.variable_,a)}return t.name_=void 0,t.doneVariable_=!1,t.doneSetter_=!1,n.body?new o.State(n.body,t.scope):void 0},o.prototype.stepForStatement=function(e,t,n){var r=t.mode_||0;if(0===r){if(t.mode_=1,n.init)return new o.State(n.init,t.scope)}else if(1===r){if(t.mode_=2,n.test)return new o.State(n.test,t.scope)}else if(2===r){if(t.mode_=3,!n.test||t.value)return t.isLoop=!0,new o.State(n.body,t.scope);e.pop()}else if(3===r&&(t.mode_=1,n.update))return new o.State(n.update,t.scope)},o.prototype.stepFunctionDeclaration=function(e,t,n){e.pop()},o.prototype.stepFunctionExpression=function(e,t,n){e.pop(),(t=e[e.length-1]).value=this.createFunction(n,t.scope,t.destinationName)},o.prototype.stepIdentifier=function(e,t,n){if(e.pop(),t.components)e[e.length-1].value=[o.SCOPE_REFERENCE,n.name];else{var r=this.getValueFromScope(n.name);if(this.getterStep_){var i=r;return this.createGetter_(i,this.globalObject)}e[e.length-1].value=r}},o.prototype.stepIfStatement=o.prototype.stepConditionalExpression,o.prototype.stepLabeledStatement=function(e,t,n){e.pop();var r=t.labels||[];r.push(n.label.name);var i=new o.State(n.body,t.scope);return i.labels=r,i},o.prototype.stepLiteral=function(e,t,n){e.pop();var r=n.value;if(r instanceof RegExp){var o=this.createObjectProto(this.REGEXP_PROTO);this.populateRegExp(o,r),r=o}e[e.length-1].value=r},o.prototype.stepLogicalExpression=function(e,t,n){if("&&"!==n.operator&&"||"!==n.operator)throw SyntaxError("Unknown logical operator: "+n.operator);if(!t.doneLeft_)return t.doneLeft_=!0,new o.State(n.left,t.scope);if(t.doneRight_)e.pop(),e[e.length-1].value=t.value;else{if(!("&&"===n.operator&&!t.value||"||"===n.operator&&t.value))return t.doneRight_=!0,new o.State(n.right,t.scope);e.pop(),e[e.length-1].value=t.value}},o.prototype.stepMemberExpression=function(e,t,n){if(!t.doneObject_)return t.doneObject_=!0,new o.State(n.object,t.scope);var r;if(n.computed){if(!t.doneProperty_)return t.object_=t.value,t.doneProperty_=!0,new o.State(n.property,t.scope);r=t.value}else t.object_=t.value,r=n.property.name;if(e.pop(),t.components)e[e.length-1].value=[t.object_,r];else{var i=this.getProperty(t.object_,r);if(this.getterStep_){var s=i;return this.createGetter_(s,t.object_)}e[e.length-1].value=i}},o.prototype.stepNewExpression=o.prototype.stepCallExpression,o.prototype.stepObjectExpression=function(e,t,n){var r=t.n_||0,i=n.properties[r];if(t.object_){var s=t.destinationName;t.properties_[s]||(t.properties_[s]={}),t.properties_[s][i.kind]=t.value,t.n_=++r,i=n.properties[r]}else t.object_=this.createObjectProto(this.OBJECT_PROTO),t.properties_=Object.create(null);if(i){if("Identifier"===(a=i.key).type)s=a.name;else{if("Literal"!==a.type)throw SyntaxError("Unknown object structure: "+a.type);s=a.value}return t.destinationName=s,new o.State(i.value,t.scope)}for(var a in t.properties_){var l=t.properties_[a];if("get"in l||"set"in l){var c={configurable:!0,enumerable:!0,get:l.get,set:l.set};this.setProperty(t.object_,a,o.VALUE_IN_DESCRIPTOR,c)}else this.setProperty(t.object_,a,l.init)}e.pop(),e[e.length-1].value=t.object_},o.prototype.stepProgram=function(e,t,n){var r=n.body.shift();if(r)return t.done=!1,new o.State(r,t.scope);t.done=!0},o.prototype.stepReturnStatement=function(e,t,n){if(n.argument&&!t.done_)return t.done_=!0,new o.State(n.argument,t.scope);this.unwind(o.Completion.RETURN,t.value,void 0)},o.prototype.stepSequenceExpression=function(e,t,n){var r=t.n_||0,i=n.expressions[r];if(i)return t.n_=r+1,new o.State(i,t.scope);e.pop(),e[e.length-1].value=t.value},o.prototype.stepSwitchStatement=function(e,t,n){if(!t.test_)return t.test_=1,new o.State(n.discriminant,t.scope);for(1===t.test_&&(t.test_=2,t.switchValue_=t.value,t.defaultCase_=-1);;){var r=t.index_||0,i=n.cases[r];if(t.matched_||!i||i.test)if(i||t.matched_||-1===t.defaultCase_){if(!i)return void e.pop();if(!t.matched_&&!t.tested_&&i.test)return t.tested_=!0,new o.State(i.test,t.scope);if(t.matched_||t.value===t.switchValue_){t.matched_=!0;var s=t.n_||0;if(i.consequent[s])return t.isSwitch=!0,t.n_=s+1,new o.State(i.consequent[s],t.scope)}t.tested_=!1,t.n_=0,t.index_=r+1}else t.matched_=!0,t.index_=t.defaultCase_;else t.defaultCase_=r,t.index_=r+1}},o.prototype.stepThisExpression=function(e,t,n){e.pop(),e[e.length-1].value=this.getValueFromScope("this")},o.prototype.stepThrowStatement=function(e,t,n){if(!t.done_)return t.done_=!0,new o.State(n.argument,t.scope);this.throwException(t.value)},o.prototype.stepTryStatement=function(e,t,n){if(!t.doneBlock_)return t.doneBlock_=!0,new o.State(n.block,t.scope);if(t.cv&&t.cv.type===o.Completion.THROW&&!t.doneHandler_&&n.handler){t.doneHandler_=!0;var r=new o.State(n.handler,t.scope);return r.throwValue=t.cv.value,t.cv=void 0,r}if(!t.doneFinalizer_&&n.finalizer)return t.doneFinalizer_=!0,new o.State(n.finalizer,t.scope);e.pop(),t.cv&&this.unwind(t.cv.type,t.cv.value,t.cv.label)},o.prototype.stepUnaryExpression=function(e,t,n){if(!t.done_){t.done_=!0;var r=new o.State(n.argument,t.scope);return r.components="delete"===n.operator,r}e.pop();var i=t.value;if("-"===n.operator)i=-i;else if("+"===n.operator)i=+i;else if("!"===n.operator)i=!i;else if("~"===n.operator)i=~i;else if("delete"===n.operator){var s=!0;if(Array.isArray(i)){var a=i[0];a===o.SCOPE_REFERENCE&&(a=t.scope);var l=String(i[1]);try{delete a.properties[l]}catch(e){t.scope.strict?this.throwException(this.TYPE_ERROR,"Cannot delete property '"+l+"' of '"+a+"'"):s=!1}}i=s}else if("typeof"===n.operator)i=i&&"Function"===i.class?"function":typeof i;else{if("void"!==n.operator)throw SyntaxError("Unknown unary operator: "+n.operator);i=void 0}e[e.length-1].value=i},o.prototype.stepUpdateExpression=function(e,t,n){if(!t.doneLeft_){t.doneLeft_=!0;var r=new o.State(n.argument,t.scope);return r.components=!0,r}if(t.leftSide_||(t.leftSide_=t.value),t.doneGetter_&&(t.leftValue_=t.value),!t.doneGetter_){var i=this.getValue(t.leftSide_);if(t.leftValue_=i,this.getterStep_){t.doneGetter_=!0;var s=i;return this.createGetter_(s,t.leftSide_)}}if(t.doneSetter_)return e.pop(),void(e[e.length-1].value=t.setterValue_);var a;if(i=Number(t.leftValue_),"++"===n.operator)a=i+1;else{if("--"!==n.operator)throw SyntaxError("Unknown update expression: "+n.operator);a=i-1}var l=n.prefix?a:i,c=this.setValue(t.leftSide_,a);if(c)return t.doneSetter_=!0,t.setterValue_=l,this.createSetter_(c,t.leftSide_,a);e.pop(),e[e.length-1].value=l},o.prototype.stepVariableDeclaration=function(e,t,n){var r=n.declarations,i=t.n_||0,s=r[i];for(t.init_&&s&&(this.setValueToScope(s.id.name,t.value),t.init_=!1,s=r[++i]);s;){if(s.init)return t.n_=i,t.init_=!0,t.destinationName=s.id.name,new o.State(s.init,t.scope);s=r[++i]}e.pop()},o.prototype.stepWithStatement=function(e,t,n){if(!t.doneObject_)return t.doneObject_=!0,new o.State(n.object,t.scope);if(!t.doneBody_){t.doneBody_=!0;var r=this.createSpecialScope(t.scope,t.value);return new o.State(n.body,r)}e.pop()},o.prototype.stepWhileStatement=o.prototype.stepDoWhileStatement,this.Interpreter=o,o.prototype.step=o.prototype.step,o.prototype.run=o.prototype.run,o.prototype.appendCode=o.prototype.appendCode,o.prototype.createObject=o.prototype.createObject,o.prototype.createObjectProto=o.prototype.createObjectProto,o.prototype.createAsyncFunction=o.prototype.createAsyncFunction,o.prototype.createNativeFunction=o.prototype.createNativeFunction,o.prototype.getProperty=o.prototype.getProperty,o.prototype.setProperty=o.prototype.setProperty,o.prototype.nativeToPseudo=o.prototype.nativeToPseudo,o.prototype.pseudoToNative=o.prototype.pseudoToNative}},__webpack_module_cache__={};function __nested_webpack_require_224573__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__nested_webpack_require_224573__),n.exports}__nested_webpack_require_224573__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __nested_webpack_require_224573__.d(t,{a:t}),t},__nested_webpack_require_224573__.d=(e,t)=>{for(var n in t)__nested_webpack_require_224573__.o(t,n)&&!__nested_webpack_require_224573__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__nested_webpack_require_224573__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__nested_webpack_require_224573__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __nested_webpack_exports__={};return(()=>{"use strict";__nested_webpack_require_224573__.r(__nested_webpack_exports__),__nested_webpack_require_224573__.d(__nested_webpack_exports__,{default:()=>e});const e=__nested_webpack_require_224573__("./original-repo/interpreter.js").Interpreter})(),__nested_webpack_exports__=__nested_webpack_exports__.default,__nested_webpack_exports__})()},module.exports=factory()},249:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9155);const o=(0,r.forwardRef)((({title:e,titleId:t,...n},o)=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:11,height:18,viewBox:"0 0 11 18",role:"img",ref:o,"aria-labelledby":t,...n},e?r.createElement("title",{id:t},e):null,r.createElement("g",null,r.createElement("path",{d:"M10.516 5.984a.723.723 0 0 1 0 1.055l-6 6a.723.723 0 0 1-1.055 0l-3-3a.723.723 0 0 1 0-1.055.723.723 0 0 1 1.055 0L4 11.445l5.46-5.46a.723.723 0 0 1 1.056 0"})),r.createElement("defs",null,r.createElement("clipPath",{id:"cc3335bc220f932df89e6d0a70205c55__a"},r.createElement("path",{d:"M0 0h11v18H0z"}))))))},3927:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(9155);const o=(0,r.forwardRef)((({title:e,titleId:t,...n},o)=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:18,viewBox:"0 0 12 18",role:"img",ref:o,"aria-labelledby":t,...n},e?r.createElement("title",{id:t},e):null,r.createElement("g",null,r.createElement("path",{d:"M6 4.625c-1.758 0-3.352.938-4.242 2.438a4.89 4.89 0 0 0 0 4.875A4.88 4.88 0 0 0 6 14.375a4.87 4.87 0 0 0 4.219-2.437 4.89 4.89 0 0 0 0-4.876C9.329 5.563 7.734 4.626 6 4.626M6 15.5a5.97 5.97 0 0 1-5.203-3 5.97 5.97 0 0 1 0-6A6.01 6.01 0 0 1 6 3.5a6 6 0 0 1 5.18 3 5.97 5.97 0 0 1 0 6 5.96 5.96 0 0 1-5.18 3m-.937-4.125h.562v-1.5h-.562a.54.54 0 0 1-.563-.562c0-.305.234-.563.563-.563h1.125a.57.57 0 0 1 .562.563v2.062h.188a.57.57 0 0 1 .562.563.555.555 0 0 1-.562.562H5.063a.54.54 0 0 1-.563-.562c0-.305.234-.563.563-.563M6 8a.74.74 0 0 1-.75-.75c0-.398.328-.75.75-.75.398 0 .75.352.75.75 0 .422-.352.75-.75.75"})),r.createElement("defs",null,r.createElement("clipPath",{id:"e6e894fc363558d81053dbfb480ad48c__a"},r.createElement("path",{d:"M0 0h12v18H0z"}))))))},2241:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9155),o=n(3554);const i=(0,r.forwardRef)((({iconSize:e="md",title:t,titleId:n,...i},s)=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",...o.L[e],role:"img",ref:s,"aria-labelledby":n,...i},t?r.createElement("title",{id:n},t):null,r.createElement("g",{fillRule:"evenodd",clipRule:"evenodd"},r.createElement("path",{d:"M6.765 5.076A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .765.424l4-2.5a.5.5 0 0 0 0-.848zM9.557 8 7 9.598V6.402z"}),r.createElement("path",{d:"M0 1a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v1a1 1 0 0 1-1 1v9.5a1.5 1.5 0 0 1-1.5 1.5h-2.191l.638 1.276a.5.5 0 1 1-.894.448L10.19 14H5.809l-.862 1.724a.5.5 0 1 1-.894-.448L4.69 14H2.5A1.5 1.5 0 0 1 1 12.5V3a1 1 0 0 1-1-1zm13.5 12h-11a.5.5 0 0 1-.5-.5V3h12v9.5a.5.5 0 0 1-.5.5M15 1H1v1h14z"})),r.createElement("defs",null,r.createElement("clipPath",{id:"b537ef950a4ece6b9c0d012fec34fc96__a"},r.createElement("path",{d:"M0 0h16v16H0z"}))))))},6902:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(9155),o=n(3554);const i=(0,r.forwardRef)((({iconSize:e="md",title:t,titleId:n,...i},s)=>r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",...o.L[e],role:"img",ref:s,"aria-labelledby":n,...i},t?r.createElement("title",{id:n},t):null,r.createElement("path",{d:"M22.25 8.258a.319.319 0 0 0-.547-.235L20.766 9c-1.641 1.719-3.75 2.93-6.016 3.438v6.914a11.73 11.73 0 0 1 6.016 3.437l.937.977c.195.195.547.039.547-.235zM13.5 19.156v-6.523c-.234.039-.469.039-.703.078l-1.172.039H8.5c-.703 0-1.25.586-1.25 1.25v3.75c0 .703.547 1.25 1.25 1.25h3.125l1.172.078c.234 0 .469.04.703.078m7.305-11.992c.937-1.016 2.695-.351 2.695 1.094V23.53c0 1.407-1.758 2.11-2.695 1.094l-.938-.977c-1.719-1.796-3.945-2.93-6.367-3.242v3.907c0 1.21-.977 2.187-2.187 2.187h-.626A2.184 2.184 0 0 1 8.5 24.313V20.25a2.47 2.47 0 0 1-2.5-2.5V14c0-1.367 1.094-2.5 2.5-2.5h3.086l1.133-.04a10.6 10.6 0 0 0 7.148-3.32zM9.75 20.25v4.063c0 .546.39.937.938.937h.624c.508 0 .938-.39.938-.937v-4.024l-.664-.039zM25.375 14c.313 0 .625.313.625.625v2.5a.64.64 0 0 1-.625.625.617.617 0 0 1-.625-.625v-2.5c0-.312.273-.625.625-.625"}))))},3554:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r={xs:{width:16,height:16},sm:{width:24,height:24},md:{width:32,height:32},lg:{width:48,height:48},xl:{width:64,height:64},"2xl":{width:96,height:96}}},6974:function(e,t,n){var r,o,i;o=[n(8996)],void 0===(i="function"==typeof(r=function(e){return e})?r.apply(t,o):r)||(e.exports=i)},8996:function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(){var e,t,r,o,i,s,a,l,c,u,h,p,d,f,g,m,y,v,b,_,E,w,T,k,S,C,O,I,x,R,N,A,$,D,M,P,L,B,F,j,U,H,V,W,G,z,q,Y,X,K,J,Z,Q,ee,te,ne,re,oe,ie,se,ae,le,ce,ue,he,pe,de,fe,ge,me,ye,ve,be,_e,Ee,we,Te,ke,Se,Ce,Oe,Ie,xe,Re,Ne,Ae,$e,De,Me,Pe,Le,Be,Fe,je,Ue,He,Ve,We,Ge,ze,qe,Ye,Xe,Ke,Je,Ze,Qe,et,tt,nt,rt,ot,it,st,at,lt,ct,ut,ht,pt,dt,ft,gt,mt,yt,vt,bt,_t,Et,wt,Tt,kt,St,Ct,Ot,It,xt,Rt,Nt,At,$t,Dt,Mt,Pt,Lt,Bt,Ft,jt,Ut,Ht,Vt,Wt,Gt,zt,qt,Yt,Xt,Kt,Jt,Zt,Qt,en,tn,nn,rn,on,sn,an,ln,cn,un,hn,pn,dn,fn,gn,mn,yn,vn,bn,_n,En,wn,Tn,kn,Sn,Cn,On,In,xn,Rn,Nn,An,$n,Dn,Mn,Pn,Ln,Bn,Fn,jn,Un,Hn,Vn,Wn,Gn,zn,qn,Yn,Xn,Kn,Jn,Zn,Qn,er,tr,nr,rr,or,ir,sr,ar,lr,cr,ur,hr,pr,dr,fr,gr,mr,yr,vr,br,_r,Er,wr,Tr,kr,Sr,Cr,Or,Ir,xr,Rr,Nr,Ar,$r,Dr,Mr,Pr,Lr,Br,Fr,jr,Ur,Hr,Vr,Wr,Gr,zr,qr,Yr,Xr,Kr,Jr,Zr,Qr,eo,to,no,ro,oo,io,so,ao,lo,co,uo,ho,po,fo,go,mo,yo,vo,bo,_o,Eo,wo,To,ko,So,Co,Oo,Io,xo,Ro,No,Ao,$o,Do,Mo,Po,Lo,Bo,Fo,jo,Uo,Ho,Vo,Wo,Go,zo,qo,Yo,Xo,Ko,Jo,Zo,Qo,ei,ti,ni,ri,oi,ii,si,ai,li,ci,ui,hi,pi,di,fi,gi,mi,yi,vi,bi,_i,Ei,wi,Ti,ki,Si,Ci,Oi,Ii,xi,Ri,Ni,Ai,$i,Di,Mi,Pi,Li,Bi,Fi,ji,Ui,Hi,Vi,Wi,Gi,zi,qi,Yi,Xi,Ki,Ji,Zi,Qi,es,ts,ns,rs,os,is,ss,as,ls,cs,us,hs,ps,ds,fs,gs,ms,ys,vs,bs,_s,Es,ws,Ts,ks,Ss,Cs,Os,Is,xs,Rs,Ns,As,$s,Ds,Ms={};e=function(e,n,r,o){if(!(e instanceof js)&&"string"!=typeof e||""===`${e}`.trim())throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e=`${e}`.toLowerCase(),"string"!=typeof n||""===n.trim())throw Error('Invalid name "'+n+'". The name must be a non-empty string.');const i=n.toLowerCase();if(!r)throw Error("Can not register a null value");let s=Ps[e],a=Bs[e];if(s||(s=Ps[e]=Object.create(null),a=Bs[e]=Object.create(null)),t(e,r),!o&&s[i])throw Error('Name "'+i+'" with type "'+e+'" already registered.');s[i]=r,a[i]=n},t=function(e,t){if(e===String(js.FIELD)&&"function"!=typeof t.fromJson)throw Error('Type "'+e+'" must have a fromJson function')},r=function(e,t){e=`${e}`.toLowerCase(),t=t.toLowerCase();const n=Ps[e];n&&n[t]?(delete Ps[e][t],delete Bs[e][t]):console.warn("Unable to unregister ["+t+"]["+e+"] from the registry.")},o=function(e,t,n){e=`${e}`.toLowerCase(),t=t.toLowerCase();const r=Ps[e];if(!r||!r[t]){if(t="Unable to find ["+t+"]["+e+"] in the registry.",n)throw Error(t+" You must require or register a "+e+" plugin.");return console.warn(t),null}return r[t]},i=function(e,t){return e=`${e}`.toLowerCase(),t=t.toLowerCase(),!!(e=Ps[e])&&!!e[t]},s=function(e,t,n){return o(e,t,n)},a=function(e,t,n){return o(e,t,n)},l=function(e,t,n){e=`${e}`.toLowerCase();var r=Ps[e];if(!r){if(r=`Unable to find [${e}] in the registry.`,n)throw Error(`${r} You must require or register a ${e} plugin.`);return console.warn(r),null}if(!t)return r;e=Bs[e],n=Object.create(null);for(const t of Object.keys(r))n[e[t]]=r[t];return n},c=function(e,t,n){return"function"==typeof(t=t.plugins[String(e)]||Fs)?t:s(e,t,n)},u=function(e){return Gs[e]||null},h=function(){const e=[];for(const t in Gs)e.push(Gs[t]);return e},p=function(e){Gs[e.id]=e},d=function(e){delete Gs[e.id]},f=function(){return Hs},g=function(e){Hs=e},m=function(){return zs},y=function(e){zs=e},v=function(){return Vs},b=function(e){Vs=e},_=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;const t=e.getParentSvg(),n=e.getCachedParentSvgSize();var r=t.parentElement;if(r instanceof HTMLElement){var o=r.offsetWidth;r=r.offsetHeight,n.width!==o&&(t.setAttribute("width",o+"px"),e.setCachedParentSvgSize(o,null)),n.height!==r&&(t.setAttribute("height",r+"px"),e.setCachedParentSvgSize(null,r)),e.resize()}},E=function(e,t){const n=Object.create(null),r=e.getDescendants(!0);t&&(e=e.getNextBlock())&&(e=r.indexOf(e),r.splice(e,r.length-e));for(let e,t=0;e=r[t];t++)n[e.type]?n[e.type]++:n[e.type]=1;return n},w=function(e){return function(){this.jsonInit(e)}},T=function(e){Ys.defineBlocksWithJsonArrayInternal(e)},k=function(e){Ms.defineBlocks$$module$build$src$core$common(Ms.createBlockDefinitionsFromJsonArray$$module$build$src$core$common(e))},Ms.createBlockDefinitionsFromJsonArray$$module$build$src$core$common=function(e){const t={};for(let n=0;n<e.length;n++){const r=e[n];if(!r){console.warn(`Block definition #${n} in JSON array is ${r}. Skipping`);continue}const o=r.type;o?t[o]={init:w(r)}:console.warn(`Block definition #${n} in JSON array is missing a type attribute. Skipping.`)}return t},Ms.defineBlocks$$module$build$src$core$common=function(e){for(const t of Object.keys(e)){const n=e[t];t in Ws&&console.warn(`Block definiton "${t}" overwrites previous definition.`),Ws[t]=n}},S=function(){return"blockly-"+(ka++).toString(36)},C=function(){return Ta.genUid()},O=function(e){Js=e},I=function(){return Js},x=function(e){_a.fireInternal(e)},R=function(e){if(D()){if(!ba.length)try{requestAnimationFrame((()=>{setTimeout(N,0)}))}catch(e){setTimeout(N,0)}ba.push(e)}},N=function(){var e=A(ba,!0);ba.length=0;for(let n,r=0;n=e[r];r++)if(n.workspaceId){var t=u(n.workspaceId);t&&t.fireChangeListener(n)}e=new Set(e.map((e=>e.workspaceId)));for(const n of e){if(!n)continue;if(!(e=u(n)))continue;let r;for(t=(e=e.getUndoStack()).length;0<t;t--){const n=e[t-1];if(""===n.group)break;if(void 0===r)r=n.group;else if(n.group!==r)break}r&&t!=e.length-1&&(t=e.splice(t,e.length-t),t=A(t,!0),e.push(...t))}},A=function(e,t){e=e.slice(),t||e.reverse();const n=[],r=Object.create(null);for(let t,s=0;t=e[s];s++)if(!t.isNull()){var o=[t.isUiEvent?ra:t.type,t.blockId,t.workspaceId].join(" "),i=r[o];const e=i?i.event:null;i?t.type===Ms.MOVE$$module$build$src$core$events$utils&&i.index===s-1?(o=t,e.newParentId=o.newParentId,e.newInputName=o.newInputName,e.newCoordinate=o.newCoordinate,o.reason&&(e.reason?(o=new Set(o.reason.concat(e.reason)),e.reason=Array.from(o)):e.reason=o.reason),i.index=s):t.type===Ms.CHANGE$$module$build$src$core$events$utils&&t.element===e.element&&t.name===e.name?e.newValue=t.newValue:t.type===pa?(i=t,e.viewTop=i.viewTop,e.viewLeft=i.viewLeft,e.scale=i.scale,e.oldScale=i.oldScale):t.type===sa&&e.type===la||(r[o]={event:t,index:s},n.push(t)):(r[o]={event:t,index:s},n.push(t))}e=n.filter((function(e){return!e.isNull()})),t||e.reverse();for(let t,n=1;t=e[n];n++)t.type===Ms.CHANGE$$module$build$src$core$events$utils&&"mutation"===t.element&&e.unshift(e.splice(n,1)[0]);return e},$=function(){for(let e,t=0;e=ba[t];t++)e.recordUndo=!1},Ms.disable$$module$build$src$core$events$utils=function(){Zs++},Ms.enable$$module$build$src$core$events$utils=function(){Zs--},D=function(){return 0===Zs},Ms.getGroup$$module$build$src$core$events$utils=function(){return Ks},Ms.setGroup$$module$build$src$core$events$utils=function(e){_a.setGroupInternal(e)},M=function(e){Ks="boolean"==typeof e?e?C():"":e},P=function(e){const t=[];e=e.getDescendants(!1);for(let n,r=0;n=e[r];r++)t[r]=n.id;return t},L=function(e,t){const n=B(e.type);if(!n)throw Error("Unknown event type.");return n.fromJson(e,t)},B=function(e){const t=s(js.EVENT,e);if(!t)throw Error(`Event type ${e} not found in registry.`);return t},F=function(e){if((e.type===Ms.MOVE$$module$build$src$core$events$utils||e.type===Ms.CREATE$$module$build$src$core$events$utils)&&e.workspaceId){var t=u(e.workspaceId);if(!e.blockId)throw Error("Encountered a blockEvent without a proper blockId");if(e=t.getBlockById(e.blockId)){const n=Js;try{Js=!1;const n=e.getParent();if(n&&n.isEnabled()){const t=e.getDescendants(!1);for(let e,n=0;e=t[n];n++)e.setEnabled(!0)}else if((e.outputConnection||e.previousConnection)&&!t.isDragging())do{e.setEnabled(!1),e=e.getNextBlock()}while(e)}finally{Js=n}}}},j=function(e,t){U(),za=setTimeout((function(){t&&t.handleRightClick(e)}),Ha)},U=function(){za&&(clearTimeout(za),za=0)},H=function(){Wa=null},V=function(e){return!e.type.startsWith("pointer")||e instanceof PointerEvent&&G(e)},W=function(e){return`${e.pointerId}`},G=function(e){const t=W(e);return Wa?Wa===t:"pointerdown"===e.type&&(Wa=t,!0)},z=function(e,t,n,r,o){function i(e){(o||V(e))&&(n?r.call(n,e):r(e))}const s=[];if(t in Ga)for(let n=0;n<Ga[t].length;n++){const r=Ga[t][n];e.addEventListener(r,i,!1),s.push([e,r,i])}else e.addEventListener(t,i,!1),s.push([e,t,i]);return s},q=function(e,t,n,r){function o(e){n?r.call(n,e):r(e)}const i=[];if(t in Ga)for(let n=0;n<Ga[t].length;n++){const r=Ga[t][n];e.addEventListener(r,o,!1),i.push([e,r,o])}else e.addEventListener(t,o,!1),i.push([e,t,o]);return i},Y=function(e){const t=e[e.length-1][2];for(;e.length;){const[t,n,r]=e.pop();t.removeEventListener(n,r,!1)}return t},X=function(e){if(e.target instanceof HTMLElement){if(e.target.isContentEditable||"true"===e.target.getAttribute("data-is-text-input"))return!0;if(e.target instanceof HTMLInputElement)return"text"===(e=e.target).type||"number"===e.type||"email"===e.type||"password"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type;if(e.target instanceof HTMLTextAreaElement)return!0}return!1},K=function(e){return!(!e.ctrlKey||!Qa)||2===e.button},J=function(e,t,n){const r=t.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,n||(n=t.getScreenCTM().inverse()),r.matrixTransform(n)},Z=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*nl,y:e.deltaY*nl};case 2:return{x:e.deltaX*rl,y:e.deltaY*rl}}},Q=function(e,t){return-1!==(t=e.indexOf(t))&&(e.splice(t,1),!0)},ee=function(e){if(ll)throw Error("CSS already injected");cl+="\n"+e},te=function(e,t){ll||(ll=!0,e&&(e=t.replace(/[\\/]$/,""),t=cl.replace(/<<<PATH>>>/g,e),cl="",(e=document.createElement("style")).id="blockly-common-style",t=document.createTextNode(t),e.appendChild(t),document.head.insertBefore(e,document.head.firstChild)))},ne=function(e,t,n,r){e=e+" was deprecated in "+t+" and will be deleted in "+n+".",r&&(e+="\nUse "+r+" instead."),pl.has(e)||(pl.add(e),console.warn(e))},re=function(e,t,n){e=document.createElementNS(gl,`${e}`);for(const n in t)e.setAttribute(n,`${t[n]}`);return n&&n.appendChild(e),e},oe=function(e,t){return!(t=t.split(" ")).every((t=>e.classList.contains(t)))&&(e.classList.add(...t),!0)},ie=function(e,t){e.classList.remove(...t.split(" "))},se=function(e,t){return!(t=t.split(" ")).every((t=>!e.classList.contains(t)))&&(e.classList.remove(...t),!0)},ae=function(e,t){return e.classList.contains(t)},le=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},ce=function(e,t){const n=t.nextSibling;if(!(t=t.parentNode))throw Error("Reference node has no parent.");n?t.insertBefore(e,n):t.appendChild(e)},ue=function(e,t){return ne("Blockly.utils.dom.containsNode","version 10","version 11",'Use native "contains" DOM method'),e.contains(t)},he=function(e,t){e.style.transform=t,e.style["-webkit-transform"]=t},pe=function(){bl++,vl||(vl=Object.create(null))},de=function(){--bl||(vl=null)},fe=function(e){const t=e.textContent+"\n"+e.className.baseVal;let n;if(vl&&(n=vl[t]))return n;try{n=e.getComputedTextLength()}catch(t){return 8*e.textContent.length}return vl&&(vl[t]=n),n},ge=function(e,t,n,r){return me(e,t+"pt",n,r)},me=function(e,t,n,r){const o=e.textContent;var i;return e=o+"\n"+e.className.baseVal,vl&&(i=vl[e])||(_l||((i=document.createElement("canvas")).className="blocklyComputeCanvas",document.body.appendChild(i),_l=i.getContext("2d")),_l.font=n+" "+t+" "+r,i=o?_l.measureText(o).width:0,vl&&(vl[e]=i)),i},ye=function(e,t,n,r){const o=document.createElement("span");o.style.font=n+" "+t+" "+r,o.textContent=e,(e=document.createElement("div")).style.width="1px",e.style.height="0",(t=document.createElement("div")).style.display="flex",t.style.position="fixed",t.style.top="0",t.style.left="0",t.appendChild(o),t.appendChild(e),document.body.appendChild(t),n={height:0,baseline:0};try{t.style.alignItems="baseline",n.baseline=e.offsetTop-o.offsetTop,t.style.alignItems="flex-end",n.height=e.offsetTop-o.offsetTop}finally{document.body.removeChild(t)}return n},ve=function(e){return Sl.getSizeInternal(e)},be=function(e){if("none"!==Ee(e,"display"))return _e(e);const t=e.style,n=t.display,r=t.visibility,o=t.position;t.visibility="hidden",t.position="absolute",t.display="inline";const i=e.offsetWidth;return e=e.offsetHeight,t.display=n,t.position=o,t.visibility=r,new kl(i,e)},_e=function(e){return new kl(e.offsetWidth,e.offsetHeight)},Ee=function(e,t){return(e=window.getComputedStyle(e))[t]||e.getPropertyValue(t)},we=function(e){const t=new hl(0,0);e=e.getBoundingClientRect();var n=document.documentElement;return n=new hl(window.pageXOffset||n.scrollLeft,window.pageYOffset||n.scrollTop),t.x=e.left+n.x,t.y=e.top+n.y,t},Te=function(){const e=document.body,t=document.documentElement;return new hl(e.scrollLeft||t.scrollLeft,e.scrollTop||t.scrollTop)},ke=function(e){const t=parseFloat(Ee(e,"borderLeftWidth")),n=parseFloat(Ee(e,"borderRightWidth")),r=parseFloat(Ee(e,"borderTopWidth"));return e=parseFloat(Ee(e,"borderBottomWidth")),new Tl(r,e,t,n)},Se=function(e,t,n){e=Ce(e,t,n),t.scrollLeft=e.x,t.scrollTop=e.y},Ce=function(e,t,n){var r=we(e),o=we(t),i=ke(t);const s=r.x-o.x-i.left;return r=r.y-o.y-i.top,o=_e(e),e=t.clientWidth-o.width,o=t.clientHeight-o.height,i=t.scrollLeft,t=t.scrollTop,n?(i+=s-e/2,t+=r-o/2):(i+=Math.min(s,Math.max(s-e,0)),t+=Math.min(r,Math.max(r-o,0))),new hl(i,t)},Oe=function(e){const t=new hl(0,0);var n=e.x&&e.getAttribute("x");const r=e.y&&e.getAttribute("y");return n&&(t.x=parseInt(n)),r&&(t.y=parseInt(r)),(n=(n=e.getAttribute("transform"))&&n.match(Ol))&&(t.x+=Number(n[1]),n[3]&&(t.y+=Number(n[3]))),(e=e.getAttribute("style"))&&-1<e.indexOf("translate")&&(e=e.match(Il))&&(t.x+=Number(e[1]),e[3]&&(t.y+=Number(e[3]))),t},Ie=function(e){let t=0,n=0;for(;e;){const r=Oe(e);if(t+=r.x,n+=r.y,-1!==(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;e=e.parentNode}return new hl(t,n)},xe=function(){const e=Te();return new Tl(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},Re=function(){const e=document.documentElement,t=window;return new hl(t.pageXOffset||e.scrollLeft,t.pageYOffset||e.scrollTop)},Ne=function(e,t){var n=t.x;t=t.y;const r=e.getInjectionDiv().getBoundingClientRect();return n=new hl(n-r.left,t-r.top),t=e.getOriginOffsetInPixels(),hl.difference(n,t).scale(1/e.scale)},Ae=function(e,t){var n=t.scale(e.scale);t=n.x,n=n.y;const r=e.getInjectionDiv().getBoundingClientRect();return e=e.getOriginOffsetInPixels(),new hl(t+r.left+e.x,n+r.top+e.y)},$e=function(e){({document:$l=$l,DOMParser:Dl=Dl,XMLSerializer:Ml=Ml}=e),Nl=new Dl,Al=new Ml},Ms.createElement$$module$build$src$core$utils$xml=function(e){return $l.createElementNS(Pl,e)},Ms.createTextNode$$module$build$src$core$utils$xml=function(e){return $l.createTextNode(e)},Ms.textToDom$$module$build$src$core$utils$xml=function(e){let t=Nl.parseFromString(e,"text/xml");if(t&&t.documentElement&&!t.getElementsByTagName("parsererror").length)return t.documentElement;if((t=Nl.parseFromString(e,"text/html"))&&t.body.firstChild&&"xml"===t.body.firstChild.nodeName.toLowerCase())return t.body.firstChild;throw Error(`DOMParser was unable to parse: ${e}`)},De=function(e){return Me(Al.serializeToString(e))},Me=function(e){return e.replace(Ll,(e=>`&#${e.charCodeAt(0)};`))},Pe=function(e){return e?((e instanceof Element||"string"==typeof e)&&(e=Ge(e),e=He(e)),Le(e),e):null},Le=function(e){const t=e.kind;if(e=e.contents,t&&t!==Ul&&t!==jl)throw Error("Invalid toolbox kind "+t+". Please supply either "+Ul+" or "+jl);if(!e)throw Error("Toolbox must have a contents attribute.")},Be=function(e){return e?e.contents?e.contents:Array.isArray(e)&&0<e.length&&!e[0].nodeType?e:Ve(e):[]},Fe=function(e){return Gl.hasCategoriesInternal(e)},je=function(e){if(!e)return!1;const t=e.kind;return t?t===jl:!!e.contents.filter((function(e){return"CATEGORY"===e.kind.toUpperCase()})).length},Ue=function(e){return!(!e||!e.contents||!e.contents.filter((function(e){return"CATEGORY"===e.kind.toUpperCase()})).length)},He=function(e){const t={contents:Ve(e)};return e instanceof Node&&We(e,t),t},Ve=function(e){const t=[];let n=e.childNodes;n||(n=e);for(let r,o=0;r=n[o];o++){if(!r.tagName)continue;e={};const n=r.tagName.toUpperCase();e.kind=n,"BLOCK"===n?e.blockxml=r:r.childNodes&&0<r.childNodes.length&&(e.contents=Ve(r)),We(r,e),t.push(e)}return t},We=function(e,t){for(let n=0;n<e.attributes.length;n++){const r=e.attributes[n];-1<r.nodeName.indexOf("css-")?(t.cssconfig=t.cssconfig||{},t.cssconfig[r.nodeName.replace("css-","")]=r.value):t[r.nodeName]=r.value}},Ge=function(e){let t=null;if(e)if("string"==typeof e){if(t=Ms.textToDom$$module$build$src$core$utils$xml(e),"xml"!==t.nodeName.toLowerCase())throw TypeError("Toolbox should be an <xml> document.")}else e instanceof Element&&(t=e);return t},ze=function(e,t,n,r,o,i){const s=i.scrollbar&&i.scrollbar.canScrollVertically();return e.horizontal===Vl.LEFT?(n=o.absoluteMetrics.left+n,s&&i.RTL&&(n+=Rl.scrollbarThickness)):(n=o.absoluteMetrics.left+o.viewMetrics.width-t.width-n,s&&!i.RTL&&(n-=Rl.scrollbarThickness)),e.vertical===Hl.TOP?e=o.absoluteMetrics.top+r:(e=o.absoluteMetrics.top+o.viewMetrics.height-t.height-r,i.scrollbar&&i.scrollbar.canScrollHorizontally()&&(e-=Rl.scrollbarThickness)),new Tl(e,e+t.height,n,n+t.width)},qe=function(e,t){return{horizontal:t.toolboxMetrics.position===Fl.LEFT||e.horizontalLayout&&!e.RTL?Vl.RIGHT:Vl.LEFT,vertical:t.toolboxMetrics.position===Fl.BOTTOM?Hl.TOP:Hl.BOTTOM}},Ye=function(e,t,n,r){const o=e.left,i=e.right-e.left,s=e.bottom-e.top;for(let a=0;a<r.length;a++){const l=r[a];e.intersects(l)&&(e=n===Wl.UP?l.top-s-t:l.bottom+t,e=new Tl(e,e+s,o,o+i),a=-1)}return e},Xe=function(e,t){tc(e,t)},Ke=function(e){tc=e},Je=function(e,t){oc.confirmInternal(e,t)},Ze=function(e,t){nc(e,t)},Qe=function(e){nc=e},et=function(e,t,n){rc(e,t,n)},tt=function(e){rc=e},nt=function(e){return void 0!==e.getVariableModel},rt=function(e){return void 0!==e.getProcedureDef},ot=function(e){return void 0!==e.getProcedureCall&&void 0!==e.renameProcedure},Ms.allUsedVarModels$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let n=0;n<e.length;n++){const r=e[n].getVarModels();if(r)for(let e=0;e<r.length;e++){const n=r[e];n.getId()&&t.add(n)}}return Array.from(t.values())},Ms.allDeveloperVariables$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);const t=new Set;for(let r,o=0;r=e[o];o++){var n=r.getDeveloperVariables;if(n){n=n();for(let e=0;e<n.length;e++)t.add(n[e])}}return Array.from(t.values())},it=function(e){let t=[];const n=document.createElement("button");return n.setAttribute("text","%{BKY_NEW_VARIABLE}"),n.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",(function(e){ut(e.getTargetWorkspace())})),t.push(n),e=st(e),t.concat(e)},st=function(e){const t=[];if(0<(e=e.getVariablesOfType("")).length){var n=e[e.length-1];if(Ws.variables_set){var r=Ms.createElement$$module$build$src$core$utils$xml("block");r.setAttribute("type","variables_set"),r.setAttribute("gap",Ws.math_change?"8":"24"),r.appendChild(yt(n)),t.push(r)}if(Ws.math_change&&((r=Ms.createElement$$module$build$src$core$utils$xml("block")).setAttribute("type","math_change"),r.setAttribute("gap",Ws.variables_get?"20":"8"),r.appendChild(yt(n)),n=Ms.textToDom$$module$build$src$core$utils$xml('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),r.appendChild(n),t.push(r)),Ws.variables_get){e.sort(cc.compareByName);for(let r,o=0;r=e[o];o++)(n=Ms.createElement$$module$build$src$core$utils$xml("block")).setAttribute("type","variables_get"),n.setAttribute("gap","8"),n.appendChild(yt(r)),t.push(n)}}return t},at=function(e){return pc.generateUniqueNameInternal(e)},lt=function(e){return ct(hc.charAt(0),e.getAllVariableNames())},ct=function(e,t){if(!t.length)return e;const n=hc;let r="",o=n.indexOf(e);for(;;){let i=!1;for(let n=0;n<t.length;n++)if(t[n].toLowerCase()===e){i=!0;break}if(!i)break;o++,o===n.length&&(o=0,r=`${Number(r)+1}`),e=n.charAt(o)+r}return e},ut=function(e,t,n){const r=n||"";!function n(o){ht(Ms.Msg$$module$build$src$core$msg.NEW_VARIABLE_TITLE,o,(function(o){if(o){var i=dt(o,e);if(i){if(i.type===r)var s=Ms.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS.replace("%1",i.name);else s=(s=Ms.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE).replace("%1",i.name).replace("%2",i.type);Xe(s,(function(){n(o)}))}else e.createVariable(o,r),t&&t(o)}else t&&t(null)}))}("")},Ms.renameVariable$$module$build$src$core$variables=function(e,t,n){!function r(o){const i=Ms.Msg$$module$build$src$core$msg.RENAME_VARIABLE_TITLE.replace("%1",t.name);ht(i,o,(function(o){if(o){var i=pt(o,t.type,e),s=ft(t.name,o,e);if(i||s){var a="";i?a=Ms.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",i.name).replace("%2",i.type):s&&(a=Ms.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER.replace("%1",o).replace("%2",s)),Xe(a,(function(){r(o)}))}else e.renameVariableById(t.getId(),o),n&&n(o)}else n&&n(null)}))}("")},ht=function(e,t,n){et(e,t,(function(e){e&&((e=e.replace(/[\s\xa0]+/g," ").trim())===Ms.Msg$$module$build$src$core$msg.RENAME_VARIABLE||e===Ms.Msg$$module$build$src$core$msg.NEW_VARIABLE)&&(e=null),n(e)}))},pt=function(e,t,n){n=n.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let r,o=0;r=n[o];o++)if(r.name.toLowerCase()===e&&r.type!==t)return r;return null},dt=function(e,t){t=t.getVariableMap().getAllVariables(),e=e.toLowerCase();for(let n,r=0;n=t[r];r++)if(n.name.toLowerCase()===e)return n;return null},ft=function(e,t,n){return n.getProcedureMap().getProcedures().length?gt(e,t,n):mt(e,t,n)},gt=function(e,t,n){e=e.toLowerCase(),t=t.toLowerCase(),n=n.getProcedureMap().getProcedures();for(const o of n){var r=o.getParameters().filter(nt).map((e=>e.getVariableModel().name));if(r&&(n=r.some((t=>t.toLowerCase()===e)),r=r.some((e=>e.toLowerCase()===t)),n&&r))return o.getName()}return null},mt=function(e,t,n){e=e.toLowerCase(),t=t.toLowerCase(),n=n.getAllBlocks(!1);for(const o of n){if(!rt(o))continue;var r=(n=o.getProcedureDef())[1];const i=r.some((t=>t.toLowerCase()===e));if(r=r.some((e=>e.toLowerCase()===t)),i&&r)return n[0]}return null},yt=function(e){const t=Ms.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name","VAR"),t.setAttribute("id",e.getId()),t.setAttribute("variabletype",e.type),e=Ms.createTextNode$$module$build$src$core$utils$xml(e.name),t.appendChild(e),t},Ms.getOrCreateVariablePackage$$module$build$src$core$variables=function(e,t,n,r){let o=Ms.getVariable$$module$build$src$core$variables(e,t,n,r);return o||(o=vt(e,t,n,r)),o},Ms.getVariable$$module$build$src$core$variables=function(e,t,n,r){const o=e.getPotentialVariableMap();let i=null;if(t&&(i=e.getVariableById(t),!i&&o&&(i=o.getVariableById(t)),i))return i;if(n){if(void 0===r)throw Error("Tried to look up a variable by name without a type");i=e.getVariable(n,r),!i&&o&&(i=o.getVariable(n,r))}return i},vt=function(e,t,n,r){const o=e.getPotentialVariableMap();return n||(n=at(e.isFlyout?e.targetWorkspace:e)),o?o.createVariable(n,r,t):e.createVariable(n,r,t)},bt=function(e,t){e=e.getAllVariables();const n=[];if(t.length!==e.length)for(let r=0;r<e.length;r++){const o=e[r];-1===t.indexOf(o)&&n.push(o)}return n},_t=function(t,n){e(js.PASTER,t,n)},Et=function(e){r(js.PASTER,e)},wt=function(e){return Ct(e),St()?(Ot(),Promise.resolve()):(Ec||(Ec=new Promise((e=>{wc=e,Tc=window.requestAnimationFrame((()=>{Ot(),e()}))}))),Ec)},Tt=function(){return Ec||Promise.resolve()},kt=function(e){e||window.cancelAnimationFrame(Tc),Ot(e),!e&&wc&&wc()},St=function(){return Ya},Ct=function(e){_c.add(e);const t=e.getParent();t?Ct(t):bc.add(e)},Ot=function(e){const t=e?new Set([e]):new Set([...bc].map((e=>e.workspace))),n=[...bc].filter(xt).filter((e=>t.has(e.workspace)));for(var r of n)Rt(r);for(const e of t)e.resizeContents();for(const e of n)r=e.getRelativeToSurfaceXY(),e.updateComponentLocations(r);for(const e of n)It(e);e||(Ec=null)},It=function(e){bc.delete(e),_c.delete(e);for(const t of e.getChildren(!1))It(t)},xt=function(e){return!e.isDisposed()&&!e.getParent()},Rt=function(e){if(_c.has(e)){for(const t of e.getChildren(!1))Rt(t);e.renderEfficiently()}},Nt=function(e,t){const n=Ms.createElement$$module$build$src$core$utils$xml("xml");var r=At(Ms.allUsedVarModels$$module$build$src$core$variables(e));r.hasChildNodes()&&n.appendChild(r),r=e.getTopComments(!0);for(let e=0;e<r.length;e++)n.appendChild(r[e].toXmlWithXY(t));for(e=e.getTopBlocks(!0),r=0;r<e.length;r++)n.appendChild($t(e[r],t));return n},At=function(e){const t=Ms.createElement$$module$build$src$core$utils$xml("variables");for(let n=0;n<e.length;n++){const r=e[n],o=Ms.createElement$$module$build$src$core$utils$xml("variable");o.appendChild(Ms.createTextNode$$module$build$src$core$utils$xml(r.name)),r.type&&o.setAttribute("type",r.type),o.id=r.getId(),t.appendChild(o)}return t},$t=function(e,t){if(e.isInsertionMarker()&&!(e=e.getChildren(!1)[0]))return new DocumentFragment;let n=0;if(e.workspace.RTL&&(n=e.workspace.getWidth()),t=Pt(e,t),tn(t)){const r=e.getRelativeToSurfaceXY();t.setAttribute("x",String(Math.round(e.workspace.RTL?n-r.x:r.x))),t.setAttribute("y",String(Math.round(r.y)))}return t},Dt=function(e){if(e.isSerializable()){const t=Ms.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name",e.name||""),e.toXml(t)}return null},Mt=function(e,t){for(let n=0;n<e.inputList.length;n++){const r=e.inputList[n];for(let e=0;e<r.fieldRow.length;e++){const n=Dt(r.fieldRow[e]);n&&t.appendChild(n)}}},Pt=function(e,t){if(e.isInsertionMarker())return(t=e.getChildren(!1)[0])?Pt(t):new DocumentFragment;const n=Ms.createElement$$module$build$src$core$utils$xml(e.isShadow()?"shadow":"block");if(n.setAttribute("type",e.type),t||(n.id=e.id),e.mutationToDom){var r=e.mutationToDom();r&&(r.hasChildNodes()||r.hasAttributes())&&n.appendChild(r)}if(Mt(e,n),r=e.getCommentText()){var o=e.getIcon(Zl.COMMENT),i=o.getBubbleSize();o=o.bubbleIsVisible();var s=Ms.createElement$$module$build$src$core$utils$xml("comment");s.appendChild(Ms.createTextNode$$module$build$src$core$utils$xml(r)),s.setAttribute("pinned",`${o}`),s.setAttribute("h",String(i.height)),s.setAttribute("w",String(i.width)),n.appendChild(s)}for(e.data&&((r=Ms.createElement$$module$build$src$core$utils$xml("data")).appendChild(Ms.createTextNode$$module$build$src$core$utils$xml(e.data)),n.appendChild(r)),r=0;r<e.inputList.length;r++){var a=void 0;if(o=!0,(i=e.inputList[r]).type!==Ms.inputTypes$$module$build$src$core$inputs$input_types.DUMMY&&i.type!==Ms.inputTypes$$module$build$src$core$inputs$input_types.END_ROW){s=i.connection.targetBlock(),i.type===Ms.inputTypes$$module$build$src$core$inputs$input_types.VALUE?a=Ms.createElement$$module$build$src$core$utils$xml("value"):i.type===Ms.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT&&(a=Ms.createElement$$module$build$src$core$utils$xml("statement"));const e=i.connection.getShadowDom();!e||s&&s.isShadow()||a.appendChild(Lt(e,t)),s&&(s=Pt(s,t)).nodeType===fl.ELEMENT_NODE&&(a.appendChild(s),o=!1),a.setAttribute("name",i.name),o||n.appendChild(a)}}let l;return void 0!==e.inputsInline&&e.inputsInline!==e.inputsInlineDefault&&n.setAttribute("inline",String(e.inputsInline)),e.isCollapsed()&&n.setAttribute("collapsed","true"),e.isEnabled()||n.setAttribute("disabled","true"),e.isDeletable()||e.isShadow()||n.setAttribute("deletable","false"),e.isMovable()||e.isShadow()||n.setAttribute("movable","false"),e.isEditable()||n.setAttribute("editable","false"),(a=e.getNextBlock())&&(r=Pt(a,t)).nodeType===fl.ELEMENT_NODE&&(l=Ms.createElement$$module$build$src$core$utils$xml("next"),l.appendChild(r),n.appendChild(l)),!(e=e.nextConnection&&e.nextConnection.getShadowDom())||a&&a.isShadow()||l.appendChild(Lt(e,t)),n},Lt=function(e,t){let n,r=e=e.cloneNode(!0);for(;r;)if(t&&"shadow"===r.nodeName&&r.removeAttribute("id"),r.firstChild)r=r.firstChild;else{for(;r&&!r.nextSibling;){let e;n=r,r=r.parentNode,n.nodeType===fl.TEXT_NODE&&""===n.data.trim()&&(null==(e=r)?void 0:e.firstChild)!==n&&le(n)}r&&(n=r,r=r.nextSibling,n.nodeType===fl.TEXT_NODE&&""===n.data.trim()&&le(n))}return e},Bt=function(e){return De(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},Ft=function(e){e=Bt(e).split("<");let t="";for(let n=1;n<e.length;n++){const r=e[n];"/"===r[0]&&(t=t.substring(2)),e[n]=t+"<"+r,"/"!==r[0]&&"/>"!==r.slice(-2)&&(t+="  ")}return(e=(e=e.join("\n")).replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>")).replace(/^\n/,"")},jt=function(e,t){return t.setResizesEnabled(!1),t.clear(),e=Ms.domToWorkspace$$module$build$src$core$xml(e,t),t.setResizesEnabled(!0),e},Ms.domToWorkspace$$module$build$src$core$xml=function(e,t){let n=0;t.RTL&&(n=t.getWidth());const r=[];pe();const o=Ms.getGroup$$module$build$src$core$events$utils();o||Ms.setGroup$$module$build$src$core$events$utils(!0),t.setResizesEnabled&&t.setResizesEnabled(!1);let i=!0;try{for(let o,s=0;o=e.childNodes[s];s++){const e=o.nodeName.toLowerCase(),s=o;if("block"===e||"shadow"===e&&!I()){const e=Ht(s,t);let o;r.push(e.id);const a=parseInt(null!=(o=s.getAttribute("x"))?o:"10",10);let l;const c=parseInt(null!=(l=s.getAttribute("y"))?l:"10",10);isNaN(a)||isNaN(c)||e.moveBy(t.RTL?n-a:a,c,["create"]),i=!1}else{if("shadow"===e)throw TypeError("Shadow block cannot be a top-level block.");if("comment"===e)t.rendered?vc.fromXmlRendered(s,t,n):fc.fromXml(s,t);else if("variables"===e){if(!i)throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");Vt(s,t),i=!1}}}}finally{Ms.setGroup$$module$build$src$core$events$utils(o),t.setResizesEnabled&&t.setResizesEnabled(!0),t.rendered&&kt(),de()}return x(new(B(ya))(t)),r},Ut=function(e,t){if(!t.getBlocksBoundingBox)return Ms.domToWorkspace$$module$build$src$core$xml(e,t);var n=t.getBlocksBoundingBox();if(e=Ms.domToWorkspace$$module$build$src$core$xml(e,t),n&&n.top!==n.bottom){var r=n.bottom;n=t.RTL?n.right:n.left;var o=1/0;let i=-1/0,s=1/0;for(let n=0;n<e.length;n++){const r=t.getBlockById(e[n]).getRelativeToSurfaceXY();r.y<s&&(s=r.y),r.x<o&&(o=r.x),r.x>i&&(i=r.x)}for(r=r-s+10,n=t.RTL?n-i:n-o,o=0;o<e.length;o++)t.getBlockById(e[o]).moveBy(n,r,["create"])}return e},Ms.domToBlock$$module$build$src$core$xml=function(e,t){return e=Ht(e,t),t.rendered&&kt(),e},Ht=function(e,t){Ms.disable$$module$build$src$core$events$utils();var n=t.getAllVariables();let r;try{if(r=Zt(e,t),t.rendered){const e=r,n=r.getDescendants(!1);e.setConnectionTracking(!1);for(let e=n.length-1;0<=e;e--)n[e].initSvg();for(let e=n.length-1;0<=e;e--)n[e].queueRender();setTimeout((function(){e.disposed||e.setConnectionTracking(!0)}),1),t.resizeContents()}else{const e=r.getDescendants(!1);for(let t=e.length-1;0<=t;t--)e[t].initModel()}}finally{Ms.enable$$module$build$src$core$events$utils()}if(D()){for(e=bt(t,n),t=0;t<e.length;t++)n=e[t],x(new(B(ea))(n));x(new(B(Ms.CREATE$$module$build$src$core$events$utils))(r))}return r},Vt=function(e,t){for(let r=0;r<e.children.length;r++){var n=e.children[r];const o=n.getAttribute("type"),i=n.getAttribute("id");if(!(n=n.textContent))break;t.createVariable(n,o,i)}},Wt=function(e){const t={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(let n=0;n<e.children.length;n++){const r=e.children[n];if(r.nodeType!==fl.TEXT_NODE)switch(r.nodeName.toLowerCase()){case"mutation":t.mutation.push(r);break;case"comment":t.comment.push(r);break;case"data":t.data.push(r);break;case"title":case"field":t.field.push(r);break;case"value":case"statement":t.input.push(r);break;case"next":t.next.push(r);break;default:console.warn("Ignoring unknown tag: "+r.nodeName)}}return t},Gt=function(e,t){let n=!1;for(let r=0;r<e.length;r++){const o=e[r];t.domToMutation&&(t.domToMutation(o),t.initSvg&&(n=!0))}return n},zt=function(e,t){for(let r=0;r<e.length;r++){var n=e[r];const o=n.textContent,i="true"===n.getAttribute("pinned");let s;const a=parseInt(null!=(s=n.getAttribute("w"))?s:"50",10);let l;n=parseInt(null!=(l=n.getAttribute("h"))?l:"50",10),t.setCommentText(o);const c=t.getIcon(Zl.COMMENT);isNaN(a)||isNaN(n)||c.setBubbleSize(new kl(a,n)),c.setBubbleVisible(i),setTimeout((()=>c.setBubbleVisible(i)),1)}},qt=function(e,t){for(let n=0;n<e.length;n++)t.data=e[n].textContent},Yt=function(e,t){for(let n=0;n<e.length;n++){const r=e[n],o=r.getAttribute("name");o?Qt(t,o,r):console.warn(`Ignoring unnamed field in block ${t.type}`)}},Xt=function(e){let t=null,n=null;for(let r=0;r<e.childNodes.length;r++){const o=e.childNodes[r];tn(o)&&("block"===o.nodeName.toLowerCase()?t=o:"shadow"===o.nodeName.toLowerCase()&&(n=o))}return{childBlockElement:t,childShadowElement:n}},Kt=function(e,t,n,r){for(let i=0;i<e.length;i++){var o=e[i];const s=o.getAttribute("name"),a=s?n.getInput(s):null;if(!a){console.warn("Ignoring non-existent input "+s+" in block "+r);break}if((o=Xt(o)).childBlockElement){if(!a.connection)throw TypeError("Input connection does not exist.");Zt(o.childBlockElement,t,a.connection,!1)}if(o.childShadowElement){let e;null==(e=a.connection)||e.setShadowDom(o.childShadowElement)}}},Jt=function(e,t,n){for(let r=0;r<e.length;r++){const o=Xt(e[r]);if(o.childBlockElement){if(!n.nextConnection)throw TypeError("Next statement does not exist.");if(n.nextConnection.isConnected())throw TypeError("Next statement is already connected.");Zt(o.childBlockElement,t,n.nextConnection,!0)}o.childShadowElement&&n.nextConnection&&n.nextConnection.setShadowDom(o.childShadowElement)}},Zt=function(e,t,n,r){var o;const i=e.getAttribute("type");if(!i)throw TypeError("Block type unspecified: "+e.outerHTML);var s=null!=(o=e.getAttribute("id"))?o:void 0;o=t.newBlock(i,s),s=Wt(e);const a=Gt(s.mutation,o);if(zt(s.comment,o),qt(s.data,o),n)if(r){if(!o.previousConnection)throw TypeError("Next block does not have previous statement.");n.connect(o.previousConnection)}else if(o.outputConnection)n.connect(o.outputConnection);else{if(!o.previousConnection)throw TypeError("Child block does not have output or previous statement.");n.connect(o.previousConnection)}if(Yt(s.field,o),Kt(s.input,t,o,i),Jt(s.next,t,o),a&&o.initSvg(),(t=e.getAttribute("inline"))&&o.setInputsInline("true"===t),(t=e.getAttribute("disabled"))&&o.setEnabled("true"!==t&&"disabled"!==t),(t=e.getAttribute("deletable"))&&o.setDeletable("true"===t),(t=e.getAttribute("movable"))&&o.setMovable("true"===t),(t=e.getAttribute("editable"))&&o.setEditable("true"===t),(t=e.getAttribute("collapsed"))&&o.setCollapsed("true"===t),"shadow"===e.nodeName.toLowerCase()){for(e=o.getChildren(!1),t=0;t<e.length;t++)if(!e[t].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");o.setShadow(!0)}return o},Qt=function(e,t,n){const r=e.getField(t);r?r.fromXml(n):console.warn("Ignoring non-existent field "+t+" in block "+e.type)},en=function(e){for(let t=0;t<e.childNodes.length;t++){const n=e.childNodes[t];if("next"===n.nodeName.toLowerCase()){e.removeChild(n);break}}},tn=function(e){return e.nodeType===fl.ELEMENT_NODE},nn=function(e){return void 0!==e.saveState&&void 0!==e.loadState},rn=function(t,n){e(js.SERIALIZER,t,n)},on=function(e){r(js.SERIALIZER,e)},sn=function(e,{addCoordinates:t=!1,addInputBlocks:n=!0,addNextBlocks:r=!0,doFullSerialization:o=!0,saveIds:i=!0}={}){if(e.isInsertionMarker())return null;const s={type:e.type,id:i?e.id:void 0};return t&&ln(e,s),an(e,s),cn(e,s,o),un(e,s,o),hn(e,s,o),n&&pn(e,s,o,i),r&&dn(e,s,o,i),s},an=function(e,t){e.isCollapsed()&&(t.collapsed=!0),e.isEnabled()||(t.enabled=!1),e.isOwnDeletable()||(t.deletable=!1),e.isOwnMovable()||(t.movable=!1),e.isOwnEditable()||(t.editable=!1),void 0!==e.inputsInline&&e.inputsInline!==e.inputsInlineDefault&&(t.inline=e.inputsInline),e.data&&(t.data=e.data)},ln=function(e,t){const n=e.workspace;e=e.getRelativeToSurfaceXY(),t.x=Math.round(n.RTL?n.getWidth()-e.x:e.x),t.y=Math.round(e.y)},cn=function(e,t,n){e.saveExtraState?null!==(e=e.saveExtraState(n))&&(t.extraState=e):e.mutationToDom&&null!==(e=e.mutationToDom())&&(t.extraState=Bt(e).replace(' xmlns="https://developers.google.com/blockly/xml"',""))},un=function(e,t,n){const r=Object.create(null);for(const t of e.getIcons())nn(t)&&(e=t.saveState(n))&&(r[t.getType().toString()]=e);Object.keys(r).length&&(t.icons=r)},hn=function(e,t,n){const r=Object.create(null);for(let t=0;t<e.inputList.length;t++){const o=e.inputList[t];for(let e=0;e<o.fieldRow.length;e++){const t=o.fieldRow[e];t.isSerializable()&&(r[t.name]=t.saveState(n))}}Object.keys(r).length&&(t.fields=r)},pn=function(e,t,n,r){const o=Object.create(null);for(let t=0;t<e.inputList.length;t++){const i=e.inputList[t];if(!i.connection)continue;const s=fn(i.connection,n,r);s&&(o[i.name]=s)}Object.keys(o).length&&(t.inputs=o)},dn=function(e,t,n,r){e.nextConnection&&(e=fn(e.nextConnection,n,r))&&(t.next=e)},fn=function(e,t,n){const r=e.getShadowState(!0);if(e=e.targetBlock(),!r&&!e)return null;const o=Object.create(null);return r&&(o.shadow=r),e&&!e.isShadow()&&(o.block=sn(e,{doFullSerialization:t,saveIds:n})),o},gn=function(e,t,{recordUndo:n=!1}={}){return e=mn(e,t,{recordUndo:n}),t.rendered&&kt(),e},mn=function(e,t,{parentConnection:n,isShadow:r=!1,recordUndo:o=!1}={}){const i=I();let s;O(o),(o=Ms.getGroup$$module$build$src$core$events$utils())||Ms.setGroup$$module$build$src$core$events$utils(!0),Ms.disable$$module$build$src$core$events$utils();try{s=yn(e,t,{parentConnection:n,isShadow:r})}finally{Ms.enable$$module$build$src$core$events$utils()}if(D()&&x(new(B(Ms.CREATE$$module$build$src$core$events$utils))(s)),Ms.setGroup$$module$build$src$core$events$utils(o),O(i),t.rendered){const e=s;setTimeout((()=>{e.disposed||e.setConnectionTracking(!0)}),1)}return s},yn=function(e,t,{parentConnection:n,isShadow:r=!1}={}){if(!e.type)throw new Oc(e);const o=t.newBlock(e.type,e.id);return o.setShadow(r),vn(o,e),bn(o,e),_n(o,e),En(n,o,e),wn(o,e),Tn(o,e),kn(o,e),Sn(o,e),On(o,t.rendered),o},vn=function(e,t){let n=void 0===t.x?0:t.x;t=void 0===t.y?0:t.y;const r=e.workspace;n=r.RTL?r.getWidth()-n:n,e.moveBy(n,t)},bn=function(e,t){t.collapsed&&e.setCollapsed(!0),!1===t.deletable&&e.setDeletable(!1),!1===t.movable&&e.setMovable(!1),!1===t.editable&&e.setEditable(!1),!1===t.enabled&&e.setEnabled(!1),void 0!==t.inline&&e.setInputsInline(t.inline),void 0!==t.data&&(e.data=t.data)},_n=function(e,t){t.extraState&&(e.loadExtraState?e.loadExtraState(t.extraState):e.domToMutation&&e.domToMutation(Ms.textToDom$$module$build$src$core$utils$xml(t.extraState)))},En=function(e,t,n){if(e){if(e.getSourceBlock().isShadow()&&!t.isShadow())throw new Rc(n);if(e.type===Ms.inputTypes$$module$build$src$core$inputs$input_types.VALUE){var r=t.outputConnection;if(!r)throw new Ic("output",t,n)}else if(!(r=t.previousConnection))throw new Ic("previous",t,n);if(!e.connect(r)){const o=t.workspace.connectionChecker;throw new xc(o.getErrorMessage(o.canConnectWithReason(r,e,!1),r,e),e.type===Ms.inputTypes$$module$build$src$core$inputs$input_types.VALUE?"output connection":"previous connection",t,n)}}},wn=function(e,t){if(t.icons){var n=Object.keys(t.icons);for(const o of n){n=t.icons[o];var r=e.getIcon(o);if(!r){if(!(r=s(js.ICON,o,!1)))throw new Nc(o,e,t);r=new r(e),e.addIcon(r)}nn(r)&&r.loadState(n)}}},Tn=function(e,t){if(t.fields){var n=Object.keys(t.fields);for(let r=0;r<n.length;r++){const o=n[r],i=t.fields[o],s=e.getField(o);s?s.loadState(i):console.warn(`Ignoring non-existant field ${o} in block ${e.type}`)}}},kn=function(e,t){if(t.inputs){var n=Object.keys(t.inputs);for(let r=0;r<n.length;r++){const o=n[r],i=e.getInput(o);if(!i||!i.connection)throw new Ic(o,e,t);Cn(i.connection,t.inputs[o])}}},Sn=function(e,t){if(t.next){if(!e.nextConnection)throw new Ic("next",e,t);Cn(e.nextConnection,t.next)}},Cn=function(e,t){t.shadow&&e.setShadowState(t.shadow),t.block&&yn(t.block,e.getSourceBlock().workspace,{parentConnection:e})},On=function(e,t){if(t){e.setConnectionTracking(!1),e.initSvg(),e.queueRender();for(const t of e.getIcons())t.onLocationChange(e.getRelativeToSurfaceXY())}else e.initModel()},In=function(e){const t=e.workspace,n=Ms.config$$module$build$src$core$config.snapRadius,r=e.getRelativeToSurfaceXY(),o=new hl(0,0),i=t.getAllBlocks(!1).filter((t=>t.id!=e.id)).map((e=>e.getRelativeToSurfaceXY()));for(;xn(hl.sum(r,o),i)||Rn(e,o,n);)t.RTL?o.translate(-n,2*n):o.translate(n,2*n);e.moveTo(hl.sum(r,o))},xn=function(e,t){return t.some((t=>1>=Math.abs(t.x-e.x)&&1>=Math.abs(t.y-e.y)))},Rn=function(e,t,n){return e.getConnections_(!1).some((e=>!!e.closest(n,t).connection))},Nn=function(e){return ne("Blockly.clipboard.copy","v11","v12","myCopyable.toCopyData()"),Yc.copyInternal(e)},An=function(e){const t=e.toCopyData();let n;return zc=t,qc=null!=(n=e.workspace)?n:null,t},$n=function(e,t,n){return e&&t?Dn(e,t,n):zc&&qc?Dn(zc,qc):null},Dn=function(e,t,n){let r,o,i;return t=null!=(r=t.getRootWorkspace())?r:t,null!=(i=null==(o=a(js.PASTER,e.paster,!1))?void 0:o.paste(e,t,n))?i:null},Mn=function(e){return ne("Blockly.clipboard.duplicate","v11","v12","Blockly.clipboard.paste(myCopyable.toCopyData(), myWorkspace)"),Yc.duplicateInternal(e)},Pn=function(e){const t=e.toCopyData();return t?$n(t,e.workspace):null},Ln=function(e,t){e.setAttribute(Qc,t)},Bn=function(e,t,n){Array.isArray(n)&&(n=n.join(" ")),e.setAttribute(Zc+t,`${n}`)},Fn=function(){return tu},jn=function(e){if(tu=e,null===e){let e;null==(e=document.querySelector("."+su))||e.remove()}},Un=function(){document.querySelector("."+su)||((tu=document.createElement("div")).className=su,(v()||document.body).appendChild(tu))},Hn=function(e,t,n){Vn(),ou=e,iu=n,(e=tu)&&(e.style.direction=t?"rtl":"ltr",e.style.display="block",t=f(),au=t.getRenderer().getClassName(),lu=t.getTheme().getClassName(),au&&oe(e,au),lu&&oe(e,lu))},Vn=function(){if(Wn()){ou=null;var e=tu;e&&(e.style.display="none",e.style.left="",e.style.top="",iu&&iu(),iu=null,e.textContent="",au&&(se(e,au),au=""),lu&&(se(e,lu),lu=""),f().markFocused())}},Wn=function(){return!!ou},Gn=function(e){ou===e&&Vn()},zn=function(e,t,n){tu.style.left=e+"px",tu.style.top=t+"px",tu.style.height=n+"px"},qn=function(e,t,n,r){const o=Xn(e,t,n);e=Yn(e,t,n,r),0>o?zn(e,0,n.height+o):zn(e,o,n.height)},Yn=function(e,t,n,r){return r?Math.min(Math.max(t.right-n.width,e.left),e.right-n.width):Math.max(Math.min(t.left,e.right-n.width),e.left)},Xn=function(e,t,n){return t.bottom+n.height>=e.bottom?t.top-n.height:t.bottom},Kn=function(e){return!(null==e||!e.repositionForWindowResize)},Jn=function(){Kn(ou)&&ou.repositionForWindowResize()||Vn()},Zn=function(){return uu},Qn=function(e){uu=e},er=function(e,t,n){if(Hn(hu,n,sr),t.length){var r=tr(t,n);pu=r,nr(r,e,n),setTimeout((function(){r.focus()}),1),uu=null}else ir()},tr=function(e,t){const n=new nu;n.setRole(Kc.MENU);for(let r=0;r<e.length;r++){const o=e[r],i=new ru(o.text);i.setRightToLeft(t),i.setRole(Kc.MENUITEM),n.addChild(i),i.setEnabled(o.enabled),o.enabled&&i.onAction((function(){ir(),requestAnimationFrame((()=>{setTimeout((()=>{o.callback(o.scope)}),0)}))}),{})}return n},nr=function(e,t,n){const r=xe();t=new Tl(t.clientY+r.top,t.clientY+r.top,t.clientX+r.left,t.clientX+r.left),rr(e);const o=e.getSize();n&&(t.left+=o.width,t.right+=o.width,r.left+=o.width,r.right+=o.width),qn(r,t,o,n),e.focus()},rr=function(e){var t=Fn();if(!t)throw Error("Attempting to create a context menu when widget div is null");t=e.render(t),oe(t,"blocklyContextMenu"),z(t,"contextmenu",null,or),e.focus()},or=function(e){e.preventDefault(),e.stopPropagation()},ir=function(){Gn(hu),uu=null},sr=function(){pu&&(pu.dispose(),pu=null)},Ms.callbackFactory$$module$build$src$core$contextmenu=function(e,t){return()=>{let n;Ms.disable$$module$build$src$core$events$utils();try{n=t instanceof Element?Ht(t,e.workspace):mn(t,e.workspace);const r=e.getRelativeToSurfaceXY();r.x=e.RTL?r.x-Ms.config$$module$build$src$core$config.snapRadius:r.x+Ms.config$$module$build$src$core$config.snapRadius,r.y+=2*Ms.config$$module$build$src$core$config.snapRadius,n.moveBy(r.x,r.y)}finally{Ms.enable$$module$build$src$core$events$utils()}return D()&&!n.isShadow()&&x(new(B(Ms.CREATE$$module$build$src$core$events$utils))(n)),n.select(),n}},ar=function(e){return{text:Ms.Msg$$module$build$src$core$msg.REMOVE_COMMENT,enabled:!0,callback:function(){Ms.setGroup$$module$build$src$core$events$utils(!0),e.dispose(),Ms.setGroup$$module$build$src$core$events$utils(!1)}}},lr=function(e){return{text:Ms.Msg$$module$build$src$core$msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){const t=e.toCopyData();t&&$n(t,e.workspace)}}},cr=function(e,t){const n={enabled:!0};return n.text=Ms.Msg$$module$build$src$core$msg.ADD_COMMENT,n.callback=function(){const n=new vc(e,Ms.Msg$$module$build$src$core$msg.WORKSPACE_COMMENT_DEFAULT_TEXT,vc.DEFAULT_SIZE,vc.DEFAULT_SIZE);var r=e.getInjectionDiv().getBoundingClientRect();r=new hl(t.clientX-r.left,t.clientY-r.top);const o=e.getOriginOffsetInPixels();(r=hl.difference(r,o)).scale(1/e.scale),n.moveBy(r.x,r.y),e.rendered&&(n.initSvg(),n.render(),n.select())},n},ur=function(e){return e*Math.PI/180},hr=function(e){return 180*e/Math.PI},pr=function(e,t,n){if(n<e){const t=n;n=e,e=t}return Math.max(e,Math.min(t,n))},dr=function(){document.querySelector(".blocklyDropDownDiv")||((vu=document.createElement("div")).className="blocklyDropDownDiv",(v()||document.body).appendChild(vu),(bu=document.createElement("div")).className="blocklyDropDownContent",vu.appendChild(bu),(_u=document.createElement("div")).className="blocklyDropDownArrow",vu.appendChild(_u),vu.style.opacity="0",vu.style.transition="transform "+Su+"s, opacity "+Su+"s",vu.addEventListener("focusin",(function(){oe(vu,"blocklyFocused")})),vu.addEventListener("focusout",(function(){se(vu,"blocklyFocused")})))},fr=function(e){Ru=e},gr=function(){return Nu},mr=function(){return bu},yr=function(){bu.textContent="",bu.style.width=""},vr=function(e,t){vu.style.backgroundColor=e,vu.style.borderColor=t},br=function(e,t,n,r){return Tr(Er(t),e,n,r)},_r=function(e,t,n){return Au=!0,Tr(wr(e),e,t,n)},Er=function(e){var t=e.getSvgRoot();const n=e.workspace.scale,r=e.height*n;return e=e.width*n,t=we(t),new Tl(t.y,t.y+r,t.x,t.x+e)},wr=function(e){return e=e.getScaledBBox(),new Tl(e.top,e.bottom,e.left,e.right)},Tr=function(e,t,n,r){const o=e.left+(e.right-e.left)/2,i=e.bottom;e=e.top,r&&(e+=r);let s=(r=t.getSourceBlock()).workspace;for(;s.options.parentWorkspace;)s=s.options.parentWorkspace;return fr(s.getParentSvg().parentNode),kr(t,r.RTL,o,i,o,e,n)},kr=function(e,t,n,r,o,i,s){return Nu=e,Ou=s||null,vu.style.direction=t?"rtl":"ltr",e=f(),Iu=e.getRenderer().getClassName(),xu=e.getTheme().getClassName(),Iu&&oe(vu,Iu),xu&&oe(vu,xu),$r(n,r,o,i)},Sr=function(e,t,n,r){return{initialX:(e=Ir(e,n.left,n.right,r.width)).divX,initialY:t,finalX:e.divX,finalY:t+ku,arrowX:e.arrowX,arrowY:-(Eu/2+wu),arrowAtTop:!0,arrowVisible:!0}},Cr=function(e,t,n,r){return{initialX:(e=Ir(e,n.left,n.right,r.width)).divX,initialY:t-r.height,finalX:e.divX,finalY:t-r.height-ku,arrowX:e.arrowX,arrowY:r.height-2*wu-Eu/2,arrowAtTop:!1,arrowVisible:!0}},Or=function(e,t,n){return{initialX:(e=Ir(e,t.left,t.right,n.width)).divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},Ir=function(e,t,n,r){return t=pr(t,e-r/2,n-r),{arrowX:e=pr(n=Tu,e=e-Eu/2-t,r-n-Eu),divX:t}},xr=function(){return!!Nu},Rr=function(e,t){return Nu===e&&(t?Ar():Nr(),!0)},Nr=function(){vu.style.transform="translate(0, 0)",vu.style.opacity="0",Cu=setTimeout((function(){Ar()}),1e3*Su),Ou&&(Ou(),Ou=null)},Ar=function(){xr()&&(Cu&&clearTimeout(Cu),vu.style.transform="",vu.style.left="",vu.style.top="",vu.style.opacity="0",vu.style.display="none",vu.style.backgroundColor="",vu.style.borderColor="",Ou&&(Ou(),Ou=null),yr(),Nu=null,Iu&&(se(vu,Iu),Iu=""),xu&&(se(vu,xu),xu=""),f().markFocused())},$r=function(e,t,n,r){(e=$u.getPositionMetrics(e,t,n,r)).arrowVisible?(_u.style.display="",_u.style.transform="translate("+e.arrowX+"px,"+e.arrowY+"px) rotate(45deg)",_u.setAttribute("class",e.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):_u.style.display="none",t=Math.floor(e.initialX),n=Math.floor(e.initialY),r=Math.floor(e.finalX);const o=Math.floor(e.finalY);return vu.style.left=t+"px",vu.style.top=n+"px",vu.style.display="block",vu.style.opacity="1",vu.style.transform="translate("+(r-t)+"px,"+(o-n)+"px)",!!e.arrowAtTop},Dr=function(){if(Nu){var e=Nu.getSourceBlock();const t=(e=Au?wr(Nu):Er(e)).left+(e.right-e.left)/2;$r(t,e.bottom,t,e.top)}else Nr()},Mr=function(e){if(!(100<e.getDescendants(!1).length)){var t=e.workspace,n=e.getSvgRoot();t.getAudioManager().play("delete");var r=t.getSvgXY(n);(n=n.cloneNode(!0)).setAttribute("transform","translate("+r.x+","+r.y+")"),t.getParentSvg().appendChild(n),Pr(n,{x:r.x,y:r.y,width:e.width,height:e.height},t.RTL,new Date,t.scale)}},Pr=function(e,t,n,r,o){const i=((new Date).getTime()-r.getTime())/150;1<i?le(e):(e.setAttribute("transform","translate("+(t.x+(n?-1:1)*t.width*o/2*i)+","+(t.y+t.height*o*i)+") scale("+(1-i)*o+")"),setTimeout(Pr,10,e,t,n,r,o))},Lr=function(e){var t=e.workspace;const n=t.scale;if(t.getAudioManager().play("click"),!(1>n)){var r=t.getSvgXY(e.getSvgRoot());e.outputConnection?(r.x+=(e.RTL?3:-3)*n,r.y+=13*n):e.previousConnection&&(r.x+=(e.RTL?-23:23)*n,r.y+=3*n);var o=re(wl.CIRCLE,{cx:r.x,cy:r.y,r:0,fill:"none",stroke:"#888","stroke-width":10},t.getParentSvg());e=re(wl.ANIMATE,{id:"animationCircle",begin:"indefinite",attributeName:"r",dur:"150ms",from:0,to:25*n},o),t=re(wl.ANIMATE,{id:"animationOpacity",begin:"indefinite",attributeName:"opacity",dur:"150ms",from:1,to:0},o),e.beginElement(),t.beginElement(),setTimeout((()=>{le(o)}),150)}},Br=function(e){if(jr(),e.workspace.getAudioManager().play("disconnect"),!(1>e.workspace.scale)){var t=e.getHeightWidth().height;t=Math.atan(10/t)/Math.PI*180,e.RTL||(t*=-1),Pu=e,Fr(e,t,new Date)}},Fr=function(e,t,n){const r=((new Date).getTime()-n.getTime())/200;let o="";1>=r&&(o=`skewX(${Math.round(Math.sin(r*Math.PI*3)*(1-r)*t)})`,Mu=setTimeout(Fr,10,e,t,n)),e.getSvgRoot().setAttribute("transform",`${e.getTranslation()} ${o}`)},jr=function(){Pu&&(Mu&&(clearTimeout(Mu),Mu=null),Pu.getSvgRoot().setAttribute("transform",Pu.getTranslation()),Pu=null)},Ur=function(e,t){return ne("Blockly.utils.string.startsWith()","April 2022","April 2023","Use built-in string.startsWith"),e.startsWith(t)},Hr=function(e){return e.length?e.reduce((function(e,t){return e.length<t.length?e:t})).length:0},Vr=function(e,t){if(!e.length)return 0;if(1===e.length)return e[0].length;let n,r=0;for(t=t||Hr(e),n=0;n<t;n++){for(var o=e[0][n],i=1;i<e.length;i++)if(o!==e[i][n])return r;" "===o&&(r=n+1)}for(o=1;o<e.length;o++)if((i=e[o][n])&&" "!==i)return r;return t},Wr=function(e,t){if(!e.length)return 0;if(1===e.length)return e[0].length;let n,r=0;for(t=t||Hr(e),n=0;n<t;n++){for(var o=e[0].substr(-n-1,1),i=1;i<e.length;i++)if(o!==e[i].substr(-n-1,1))return r;" "===o&&(r=n+1)}for(o=1;o<e.length;o++)if((i=e[o].charAt(e[o].length-n-1))&&" "!==i)return r;return t},Ms.wrap$$module$build$src$core$utils$string=function(e,t){e=e.split("\n");for(let n=0;n<e.length;n++)e[n]=Gr(e[n],t);return e.join("\n")},Gr=function(e,t){if(e.length<=t)return e;const n=e.trim().split(/\s+/);for(var r=0;r<n.length;r++)n[r].length>t&&(t=n[r].length);var o=-1/0;let i,s=1;do{r=o,i=e,e=[],o=n.length/s;let a=1;for(let t=0;t<n.length-1;t++)a<(t+1.5)/o?(a++,e[t]=!0):e[t]=!1;e=qr(n,e,t),o=zr(n,e,t),e=Yr(n,e),s++}while(o>r);return i},zr=function(e,t,n){const r=[0],o=[];for(var i=0;i<e.length;i++)r[r.length-1]+=e[i].length,!0===t[i]?(r.push(0),o.push(e[i].charAt(e[i].length-1))):!1===t[i]&&r[r.length-1]++;for(e=Math.max(...r),t=0,i=0;i<r.length;i++)t-=2*Math.pow(Math.abs(n-r[i]),1.5),t-=Math.pow(e-r[i],1.5),-1!==".?!".indexOf(o[i])?t+=n/3:-1!==",;)]}".indexOf(o[i])&&(t+=n/4);return 1<r.length&&r[r.length-1]<=r[r.length-2]&&(t+=.5),t},qr=function(e,t,n){let r,o=zr(e,t,n);for(let i=0;i<t.length-1;i++){if(t[i]===t[i+1])continue;const s=[].concat(t);s[i]=!s[i],s[i+1]=!s[i+1];const a=zr(e,s,n);a>o&&(o=a,r=s)}return r?qr(e,r,n):t},Yr=function(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e[r]),void 0!==t[r]&&n.push(t[r]?"\n":" ");return n.join("")},Ms.isNumber$$module$build$src$core$utils$string=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},Xr=function(e){Wu=e},Kr=function(){return Wu},Jr=function(){return Gu},Zr=function(){return ih},Qr=function(e){if(e=eo(e)){for(e=e.tooltip;"function"==typeof e;)e=e();if("string"!=typeof e)throw Error("Tooltip function must return a string.");return e}return""},eo=function(e){for(;e&&e.tooltip;){if("string"==typeof e.tooltip||"function"==typeof e.tooltip)return e;e=e.tooltip}return null},to=function(){document.querySelector(".blocklyTooltipDiv")||((ih=document.createElement("div")).className="blocklyTooltipDiv",(v()||document.body).appendChild(ih))},no=function(e){e.mouseOverWrapper_=q(e,"pointerover",null,oo),e.mouseOutWrapper_=q(e,"pointerout",null,io),e.addEventListener("pointermove",so,!1)},ro=function(e){e&&(Y(e.mouseOverWrapper_),Y(e.mouseOutWrapper_),e.removeEventListener("pointermove",so))},oo=function(e){zu||(e=eo(e.currentTarget),Zu!==e&&(lo(),Qu=null,Zu=e),clearTimeout(Yu))},io=function(e){zu||(Yu=setTimeout((function(){Qu=Zu=null,lo()}),1),clearTimeout(Xu),Xu=0)},so=function(e){if(Zu&&Zu.tooltip&&!zu)if(Gu){const t=Ku-e.pageX;e=Ju-e.pageY,Math.sqrt(t*t+e*e)>nh&&lo()}else Qu!==Zu&&(clearTimeout(Xu),Ku=e.pageX,Ju=e.pageY,Xu=setTimeout(go,rh))},ao=function(){Qu=Zu=null,lo()},lo=function(){Gu&&(Gu=!1,ih&&(ih.style.display="none")),Xu&&(clearTimeout(Xu),Xu=0)},co=function(){lo(),zu=!0},uo=function(){zu=!1},ho=function(){ih&&Zu&&("function"==typeof Wu?Wu(ih,Zu):po())},po=function(){var e=Qr(Zu);e=(e=Ms.wrap$$module$build$src$core$utils$string(e,qu)).split("\n");for(let t=0;t<e.length;t++){const n=document.createElement("div");n.appendChild(document.createTextNode(e[t])),ih.appendChild(n)}},fo=function(e){const t=document.documentElement.clientWidth,n=document.documentElement.clientHeight;let r=Ku;r=e?r-(eh+ih.offsetWidth):r+eh;let o=Ju+th;return o+ih.offsetHeight>n+window.scrollY&&(o-=ih.offsetHeight+2*th),e?r=Math.max(oh-window.scrollX,r):r+ih.offsetWidth>t+window.scrollX-2*oh&&(r=t-ih.offsetWidth-2*oh),{x:r,y:o}},go=function(){if(!zu&&(Qu=Zu,ih)){ih.textContent="",ho();var e=Zu.RTL;ih.style.direction=e?"rtl":"ltr",ih.style.display="block",Gu=!0;var{x:t,y:n}=fo(e);ih.style.left=t+"px",ih.style.top=n+"px"}},mo=function(e,t){for(const n in t)e[n]=null!==t[n]&&"object"==typeof t[n]?mo(e[n]||Object.create(null),t[n]):t[n];return e},yo=function(e){return void 0!==e.bubbleIsVisible&&void 0!==e.setBubbleVisible},vo=function(){return mh},bo=function(e){mh=e},_o=function(){return yh},Eo=function(e){yh=e},wo=function(e){e=`${e}`.toLowerCase().trim();var t=vh[e];if(t)return t;if(t="#"===(t="0x"===e.substring(0,2)?"#"+e.substring(2):e)[0]?t:"#"+t,/^#[0-9a-f]{6}$/.test(t))return t;if(/^#[0-9a-f]{3}$/.test(t))return["#",t[1],t[1],t[2],t[2],t[3],t[3]].join("");var n=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return n&&(e=Number(n[1]),t=Number(n[2]),n=Number(n[3]),0<=e&&256>e&&0<=t&&256>t&&0<=n&&256>n)?To(e,t,n):null},To=function(e,t,n){return t=e<<16|t<<8|n,16>e?"#"+(16777216|t).toString(16).substr(1):"#"+t.toString(16)},ko=function(e){return(e=wo(e))?[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e]:[0,0,0]},So=function(e,t,n){let r=0,o=0,i=0;if(0===t)i=o=r=n;else{const s=Math.floor(e/60),a=e/60-s;e=n*(1-t);const l=n*(1-t*a);switch(t=n*(1-t*(1-a)),s){case 1:r=l,o=n,i=e;break;case 2:r=e,o=n,i=t;break;case 3:r=e,o=l,i=n;break;case 4:r=t,o=e,i=n;break;case 5:r=n,o=e,i=l;break;case 6:case 0:r=n,o=t,i=e}}return To(Math.floor(r),Math.floor(o),Math.floor(i))},Co=function(e,t,n){return(e=wo(e))&&(t=wo(t))?(e=ko(e),t=ko(t),To(Math.round(t[0]+n*(e[0]-t[0])),Math.round(t[1]+n*(e[1]-t[1])),Math.round(t[2]+n*(e[2]-t[2])))):null},Oo=function(e){return So(e,mh,255*yh)},Io=function(e,t,n){const r=[];var o=e.split("");o.push("");var i=0;e=[];let s=null;for(let c=0;c<o.length;c++){var a=o[c];if(0===i)if("%"===a)(i=e.join(""))&&r.push(i),e.length=0,i=1;else if(n&&"\n"===a){const t=e.join("");t&&r.push(t),e.length=0,r.push(a)}else e.push(a);else if(1===i)"%"===a?(e.push(a),i=0):t&&"0"<=a&&"9">=a?(i=2,s=a,(a=e.join(""))&&r.push(a),e.length=0):"{"===a?i=3:(e.push("%",a),i=0);else if(2===i)if("0"<=a&&"9">=a)s+=a;else{var l=void 0;r.push(parseInt(null!=(l=s)?l:"",10)),c--,i=0}else 3===i&&(""===a?(e.splice(0,0,"%{"),c--,i=0):"}"!==a?e.push(a):(i=e.join(""),/[A-Z]\w*/i.test(i)&&(a=(a=i.toUpperCase()).startsWith("BKY_")?a.substring(4):null)&&a in Ms.Msg$$module$build$src$core$msg?"string"==typeof(i=Ms.Msg$$module$build$src$core$msg[a])?Array.prototype.push.apply(r,Io(i,t,n)):t?r.push(`${i}`):r.push(i):r.push("%{"+i+"}"),i=e.length=0))}for((t=e.join(""))&&r.push(t),l=[],e.length=0,o=0;o<r.length;o++)"string"!=typeof r[o]||n&&"\n"===r[o]?((t=e.join(""))&&l.push(t),e.length=0,l.push(r[o])):e.push(r[o]);return(t=e.join(""))&&l.push(t),e.length=0,l},xo=function(e){return Io(e,!0,!0)},Ro=function(e){return"string"!=typeof e?e:(e=Io(e,!1,!1)).length?String(e[0]):""},No=function(e){let t=!0;const n=Ms.Msg$$module$build$src$core$msg,r=e.match(/%{BKY_[A-Z]\w*}/gi);if(r)for(let o=0;o<r.length;o++)void 0===n[r[o].toUpperCase().slice(6,-1)]&&(console.warn("No message string for "+r[o]+" in "+e),t=!1);return t},Ao=function(e){const t="string"==typeof e?Ro(e):e;var n=Number(t);if(!isNaN(n)&&0<=n&&360>=n)return{hue:n,hex:So(n,vo(),255*_o())};if(n=wo(t))return{hue:null,hex:n};throw n='Invalid colour: "'+t+'"',e!==t&&(n+=' (from "'+e+'")'),Error(n)},$o=function(e){return void 0!==e.getProcedureModel&&void 0!==e.doProcedureUpdate&&void 0!==e.isProcedureDef},Do=function(e){return void 0!==e.startPublishing&&void 0!==e.stopPublishing},Mo=function(t,n){e(js.FIELD,t,n)},Po=function(e){r(js.FIELD,e)},Ms.fromJson$$module$build$src$core$field_registry=function(e){return Ch.fromJsonInternal(e)},Lo=function(e){const t=a(js.FIELD,e.type);if(t){if("function"!=typeof t.fromJson)throw new TypeError("returned Field was not a IRegistrableField");return t.fromJson(e)}return console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null},Bo=function(e){let t=!1;const n=e.map((([e,n])=>"string"==typeof e?[Ro(e),n]:(t=!0,[null!==e.alt?Object.assign({},e,{alt:Ro(e.alt)}):Object.assign({},e),n])));if(t||2>e.length)return{options:n};var r=n.map((([e])=>e)),o=Hr(r);e=Vr(r,o);const i=Wr(r,o);return!e&&!i||o<=e+i?{options:n}:(o=e?r[0].substring(0,e-1):void 0,r=i?r[0].substr(1-i):void 0,{options:Fo(n,e,i),prefix:o,suffix:r})},Fo=function(e,t,n){return e.map((([e,r])=>[e.substring(t,e.length-n),r]))},jo=function(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");let t=!1;for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)?"string"!=typeof r[1]?(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option id must be a string. Found "+r[1]+" in: ",r)):r[0]&&"string"!=typeof r[0]&&"string"!=typeof r[0].src&&(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option must have a string label or image description. Found"+r[0]+" in: ",r)):(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option must be an array. Found: ",r))}if(t)throw TypeError("Found invalid FieldDropdown options.")},Ms.register$$module$build$src$core$extensions=function(e,t){if("string"!=typeof e||""===e.trim())throw Error('Error: Invalid extension name "'+e+'"');if($h[e])throw Error('Error: Extension "'+e+'" is already registered.');if("function"!=typeof t)throw Error('Error: Extension "'+e+'" must be a function');$h[e]=t},Ms.registerMixin$$module$build$src$core$extensions=function(e,t){if(!t||"object"!=typeof t)throw Error('Error: Mixin "'+e+'" must be a object');Ms.register$$module$build$src$core$extensions(e,(function(){this.mixin(t)}))},Ms.registerMutator$$module$build$src$core$extensions=function(e,t,n,r){const o='Error when registering mutator "'+e+'": ';Xo(o,t);const i=qo(t,o);if(n&&"function"!=typeof n)throw Error(o+'Extension "'+e+'" is not a function');Ms.register$$module$build$src$core$extensions(e,(function(){i&&this.setMutator(new Ms.MutatorIcon$$module$build$src$core$icons$mutator_icon(r||[],this)),this.mixin(t),n&&n.apply(this)}))},Uo=function(e){Ho(e)?delete $h[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},Ho=function(e){return!!$h[e]},Vo=function(e,t,n){const r=$h[e];if("function"!=typeof r)throw Error('Error: Extension "'+e+'" not found.');let o;if(n?Wo(e,t):o=Ko(t),r.apply(t),n)Xo('Error after applying mutator "'+e+'": ',t);else if(!Jo(o,t))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},Wo=function(e,t){if(Ko(t).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+t.id)},Go=function(e,t){return Yo(e.mutationToDom,e.domToMutation,t+" mutationToDom/domToMutation")},zo=function(e,t){return Yo(e.saveExtraState,e.loadExtraState,t+" saveExtraState/loadExtraState")},qo=function(e,t){return Yo(e.compose,e.decompose,t+" compose/decompose")},Yo=function(e,t,n){if(e&&t){if("function"!=typeof e||"function"!=typeof t)throw Error(n+" must be a function");return!0}if(!e&&!t)return!1;throw Error(n+"Must have both or neither functions")},Xo=function(e,t){const n=Go(t,e),r=zo(t,e);if(!n&&!r)throw Error(e+"Mutations must contain either XML hooks, or JSON hooks, or both");qo(t,e)},Ko=function(e){const t=[];return void 0!==e.domToMutation&&t.push(e.domToMutation),void 0!==e.mutationToDom&&t.push(e.mutationToDom),void 0!==e.saveExtraState&&t.push(e.saveExtraState),void 0!==e.loadExtraState&&t.push(e.loadExtraState),void 0!==e.compose&&t.push(e.compose),void 0!==e.decompose&&t.push(e.decompose),t},Jo=function(e,t){if((t=Ko(t)).length!==e.length)return!1;for(let n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0},Zo=function(e){if("object"!=typeof document)throw Error("runAfterPageLoad() requires browser document.");if("complete"===document.readyState)e();else{const t=setInterval((function(){"complete"===document.readyState&&(clearInterval(t),e())}),10)}},Ms.buildTooltipForDropdown$$module$build$src$core$extensions=function(e,t){const n=[];return function(){-1===n.indexOf(this.type)&&(Qo(this,e,t),n.push(this.type)),this.setTooltip(function(){const n=String(this.getFieldValue(e));return Ro(t[n])}.bind(this))}},Qo=function(e,t,n){var r=e.getField(t);if(r instanceof Ih&&!r.isOptionListDynamic()){r=r.getOptions();for(const[,o]of r)void 0===n[o]&&console.warn(`No tooltip mapping for value ${o} of field ${t} of block type ${e.type}.`)}},Ms.buildTooltipWithFieldText$$module$build$src$core$extensions=function(e,t){return function(){this.setTooltip(function(){const n=this.getField(t);return Ro(e).replace("%1",n?n.getText():"")}.bind(this))}},ei=function(){const e=this.tooltip;this.setTooltip(function(){const t=this.getParent();return t&&t.getInputsInline()&&t.tooltip||e}.bind(this))},ti=function(e,t){return" "+e+","+t+" "},ni=function(e,t){return" "+e+t.join("")},ri=function(e,t){return" M "+e+","+t+" "},oi=function(e,t){return" m "+e+","+t+" "},ii=function(e,t){return" l "+e+","+t+" "},si=function(e){return" l"+e.join("")},ai=function(e,t){return" "+e+" "+t+" "},li=function(e,t,n,r){return e+" "+n+" "+n+" "+t+r},ci=function(t,n){e(js.ICON,t.toString(),n)},ui=function(e){r(js.ICON,e)},hi=function(e){const t=e.getProcedureMap().getProcedures().filter((e=>!e.getReturnTypes())).map((e=>[e.getName(),e.getParameters().map((e=>e.getName())),!1]));e.getBlocksByType("procedures_defnoreturn",!1).forEach((e=>{!$o(e)&&rt(e)&&t.push(e.getProcedureDef())}));const n=e.getProcedureMap().getProcedures().filter((e=>!!e.getReturnTypes())).map((e=>[e.getName(),e.getParameters().map((e=>e.getName())),!0]));return e.getBlocksByType("procedures_defreturn",!1).forEach((e=>{!$o(e)&&rt(e)&&n.push(e.getProcedureDef())})),t.sort(pi),n.sort(pi),[t,n]},pi=function(e,t){return e[0].localeCompare(t[0],void 0,{sensitivity:"base"})},Ms.findLegalName$$module$build$src$core$procedures=function(e,t){if(t.isInFlyout)return e;for(e=e||Ms.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed";!di(e,t.workspace,t);){const t=e.match(/^(.*?)(\d+)$/);e=t?t[1]+(parseInt(t[2])+1):e+"2"}return e},di=function(e,t,n){return!fi(e,t,n)},fi=function(e,t,n){for(const r of t.getAllBlocks(!1))if(r!==n&&rt(r)&&Ms.Names$$module$build$src$core$names.equals(r.getProcedureDef()[0],e))return!0;n=n&&$o(n)?null==n?void 0:n.getProcedureModel():void 0;for(const r of t.getProcedureMap().getProcedures())if(r!==n&&Ms.Names$$module$build$src$core$names.equals(r.getName(),e))return!0;return!1},Ms.rename$$module$build$src$core$procedures=function(e){var t=this.getSourceBlock();if(!t)throw new wh;e=e.trim();const n=Ms.findLegalName$$module$build$src$core$procedures(e,t);$o(t)&&!t.isInsertionMarker()&&t.getProcedureModel().setName(n);const r=this.getValue();if(r!==e&&r!==n)for(e=t.workspace.getAllBlocks(!1),t=0;t<e.length;t++){const o=e[t];o.renameProcedure&&o.renameProcedure(r,n)}return n},gi=function(e){function t(e,t){for(let o=0;o<e.length;o++){var r=e[o][0];const i=e[o][1],s=Ms.createElement$$module$build$src$core$utils$xml("block");s.setAttribute("type",t),s.setAttribute("gap","16");const a=Ms.createElement$$module$build$src$core$utils$xml("mutation");for(a.setAttribute("name",r),s.appendChild(a),r=0;r<i.length;r++){const e=Ms.createElement$$module$build$src$core$utils$xml("arg");e.setAttribute("name",i[r]),a.appendChild(e)}n.push(s)}}const n=[];if(Ws.procedures_defnoreturn){var r=Ms.createElement$$module$build$src$core$utils$xml("block");r.setAttribute("type","procedures_defnoreturn"),r.setAttribute("gap","16");var o=Ms.createElement$$module$build$src$core$utils$xml("field");o.setAttribute("name","NAME"),o.appendChild(Ms.createTextNode$$module$build$src$core$utils$xml(Ms.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE)),r.appendChild(o),n.push(r)}return Ws.procedures_defreturn&&((r=Ms.createElement$$module$build$src$core$utils$xml("block")).setAttribute("type","procedures_defreturn"),r.setAttribute("gap","16"),(o=Ms.createElement$$module$build$src$core$utils$xml("field")).setAttribute("name","NAME"),o.appendChild(Ms.createTextNode$$module$build$src$core$utils$xml(Ms.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE)),r.appendChild(o),n.push(r)),Ws.procedures_ifreturn&&((r=Ms.createElement$$module$build$src$core$utils$xml("block")).setAttribute("type","procedures_ifreturn"),r.setAttribute("gap","16"),n.push(r)),n.length&&n[n.length-1].setAttribute("gap","24"),t((e=hi(e))[0],"procedures_callnoreturn"),t(e[1],"procedures_callreturn"),n},mi=function(e){var t=[],n=e.getBlocksByType("procedures_mutatorarg",!1);for(let e,r=0;e=n[r];r++)t.push(e.getFieldValue("NAME"));n=Ms.createElement$$module$build$src$core$utils$xml("xml");const r=Ms.createElement$$module$build$src$core$utils$xml("block");r.setAttribute("type","procedures_mutatorarg");const o=Ms.createElement$$module$build$src$core$utils$xml("field");o.setAttribute("name","NAME"),t=ct(Ms.DEFAULT_ARG$$module$build$src$core$procedures,t),t=Ms.createTextNode$$module$build$src$core$utils$xml(t),o.appendChild(t),r.appendChild(o),n.appendChild(r),e.updateToolbox(n)},yi=function(e){if(e.type===la&&"mutator"===e.bubbleType&&e.isOpen&&e.blockId){var t=(e=u(e.workspaceId).getBlockById(e.blockId)).type;"procedures_defnoreturn"!==t&&"procedures_defreturn"!==t||(e=e.getIcon(Ms.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE).getWorkspace(),mi(e),e.addChangeListener(vi))}},vi=function(e){e.type!==Ms.CREATE$$module$build$src$core$events$utils&&e.type!==Ms.DELETE$$module$build$src$core$events$utils&&e.type!==Ms.CHANGE$$module$build$src$core$events$utils&&e.type!==Qs||(e=u(e.workspaceId),mi(e))},bi=function(e,t){return t.getAllBlocks(!1).filter((t=>_i(t,e)||ot(t)&&Ms.Names$$module$build$src$core$names.equals(t.getProcedureCall(),e)))},_i=function(e,t){return $o(e)&&!e.isProcedureDef()&&e.getProcedureModel()&&Ms.Names$$module$build$src$core$names.equals(e.getProcedureModel().getName(),t)},Ms.mutateCallers$$module$build$src$core$procedures=function(e){const t=I();var n=e.getProcedureDef()[0];const r=e.mutationToDom(!0);e=bi(n,e.workspace);for(let i,s=0;i=e[s];s++){n=(n=i.mutationToDom())&&De(n),i.domToMutation&&i.domToMutation(r);var o=i.mutationToDom();n!==(o=o&&De(o))&&(O(!1),x(new(B(Ms.CHANGE$$module$build$src$core$events$utils))(i,"mutation",null,n,o)),O(t))}},Ms.getDefinition$$module$build$src$core$procedures=function(e,t){for(const n of t.getAllBlocks(!1))if($o(n)&&n.isProcedureDef()&&Ms.Names$$module$build$src$core$names.equals(n.getProcedureModel().getName(),e)||rt(n)&&Ms.Names$$module$build$src$core$names.equals(n.getProcedureDef()[0],e))return n;return null},Ei=function(e){return e.isDynamic},wi=function(e){return void 0!==e.pathDown&&void 0!==e.pathUp},Ti=function(e){return void 0!==e.pathLeft&&void 0!==e.pathRight},ki=function(e){let t=e.outputConnection;return(!t||e.previousConnection&&e.previousConnection.isConnected())&&(t=e.previousConnection),t},Si=function(e,t){if(!e||!t)throw Error("Cannot connect null connections.");e.targetConnection=t,t.targetConnection=e},Ci=function(e,t){let n=null;const r=null==(t=t.outputConnection)?void 0:t.getConnectionChecker();for(let o,i=0;o=e.inputList[i];i++){const e=o.connection;let i;if(e&&null!=(i=r)&&i.canConnect(t,e,!1)){if(n)return null;n=e}}return n},Oi=function(e,t){let n;for(;n=Ci(e,t);)if(!(e=n.targetBlock())||e.isShadow())return n;return null},Ii=function(t,n){e(js.RENDERER,t,n)},xi=function(e){r(js.RENDERER,e)},Ri=function(e,t,n){return(e=new(s(js.RENDERER,e))(e)).init(t,n),e},Ni=function(e){ut(e.getTargetWorkspace(),void 0,"String")},Ai=function(e){ut(e.getTargetWorkspace(),void 0,"Number")},$i=function(e){ut(e.getTargetWorkspace(),void 0,"Colour")},Di=function(e){let t=[],n=document.createElement("button");return n.setAttribute("text",Ms.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),t.push(n),n=document.createElement("button"),n.setAttribute("text",Ms.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),t.push(n),n=document.createElement("button"),n.setAttribute("text",Ms.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),t.push(n),e.registerButtonCallback("CREATE_VARIABLE_STRING",Ni),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",Ai),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",$i),e=Mi(e),t.concat(e)},Mi=function(e){const t=[];if(0<(e=e.getAllVariables()).length){if(Ws.variables_set_dynamic){var n=e[e.length-1];const r=Ms.createElement$$module$build$src$core$utils$xml("block");r.setAttribute("type","variables_set_dynamic"),r.setAttribute("gap","24"),r.appendChild(yt(n)),t.push(r)}if(Ws.variables_get_dynamic){e.sort(cc.compareByName);for(let r,o=0;r=e[o];o++)(n=Ms.createElement$$module$build$src$core$utils$xml("block")).setAttribute("type","variables_get_dynamic"),n.setAttribute("gap","8"),n.appendChild(yt(r)),t.push(n)}}return t},Pi=function(e){e.resizeContents()},Li=function(e){return void 0!==e.toCopyData},Bi=function(){Od.registry.register({name:cd.ESCAPE,preconditionFn:e=>!e.options.readOnly,callback:e=>(e.hideChaff(),!0),keyCodes:[Mh.ESC]})},Fi=function(){Od.registry.register({name:cd.DELETE,preconditionFn(e){const t=m();return!e.options.readOnly&&null!=t&&t.isDeletable()},callback:(e,t)=>(t.preventDefault(),!lh.inProgress()&&(m().checkAndDelete(),!0)),keyCodes:[Mh.DELETE,Mh.BACKSPACE]})},ji=function(){const e=Od.registry.createSerializedKey(Mh.C,[Mh.CTRL]),t=Od.registry.createSerializedKey(Mh.C,[Mh.ALT]),n=Od.registry.createSerializedKey(Mh.C,[Mh.META]);Od.registry.register({name:cd.COPY,preconditionFn(e){const t=m();return!e.options.readOnly&&!lh.inProgress()&&null!=t&&t.isDeletable()&&t.isMovable()&&Li(t)},callback:(e,t)=>(t.preventDefault(),e.hideChaff(),!(!(t=m())||!Li(t)||(Id=t.toCopyData(),xd=e,!Id))),keyCodes:[e,t,n]})},Ui=function(){const e=Od.registry.createSerializedKey(Mh.X,[Mh.CTRL]),t=Od.registry.createSerializedKey(Mh.X,[Mh.ALT]),n=Od.registry.createSerializedKey(Mh.X,[Mh.META]);Od.registry.register({name:cd.CUT,preconditionFn(e){const t=m();return!e.options.readOnly&&!lh.inProgress()&&null!=t&&t instanceof ld&&t.isDeletable()&&t.isMovable()&&!t.workspace.isFlyout},callback(e){const t=m();return!(!t||!Li(t)||(Id=t.toCopyData(),xd=e,t.checkAndDelete(),0))},keyCodes:[e,t,n]})},Hi=function(){const e=Od.registry.createSerializedKey(Mh.V,[Mh.CTRL]),t=Od.registry.createSerializedKey(Mh.V,[Mh.ALT]),n=Od.registry.createSerializedKey(Mh.V,[Mh.META]);Od.registry.register({name:cd.PASTE,preconditionFn:e=>!e.options.readOnly&&!lh.inProgress(),callback:()=>!(!Id||!xd||!$n(Id,xd)),keyCodes:[e,t,n]})},Vi=function(){const e=Od.registry.createSerializedKey(Mh.Z,[Mh.CTRL]),t=Od.registry.createSerializedKey(Mh.Z,[Mh.ALT]),n=Od.registry.createSerializedKey(Mh.Z,[Mh.META]);Od.registry.register({name:cd.UNDO,preconditionFn:e=>!e.options.readOnly&&!lh.inProgress(),callback:e=>(e.hideChaff(),e.undo(!1),!0),keyCodes:[e,t,n]})},Wi=function(){const e=Od.registry.createSerializedKey(Mh.Z,[Mh.SHIFT,Mh.CTRL]),t=Od.registry.createSerializedKey(Mh.Z,[Mh.SHIFT,Mh.ALT]),n=Od.registry.createSerializedKey(Mh.Z,[Mh.SHIFT,Mh.META]),r=Od.registry.createSerializedKey(Mh.Y,[Mh.CTRL]);Od.registry.register({name:cd.REDO,preconditionFn:e=>!lh.inProgress()&&!e.options.readOnly,callback:e=>(e.hideChaff(),e.undo(!0),!0),keyCodes:[e,t,n,r]})},Gi=function(){Bi(),Fi(),ji(),Ui(),Hi(),Vi(),Wi()},zi=function(e){const t={id:e.getId(),name:e.getName(),returnTypes:e.getReturnTypes()};return e.getParameters().length?(t.parameters=e.getParameters().map((e=>qi(e))),t):t},qi=function(e){const t={id:e.getId(),name:e.getName()};return e.getTypes().length?(t.types=e.getTypes(),t):t},Yi=function(e,t,n,r){if(e=new e(r,n.name,n.id).setReturnTypes(n.returnTypes),!n.parameters)return e;for(const[o,i]of n.parameters.entries())e.insertParameter(Xi(t,i,r),o);return e},Xi=function(e,t,n){return e=new e(n,t.name,t.id),t.types&&e.setTypes(t.types),e},Ki=function(e){const t=Object.create(null),n=l(js.SERIALIZER,!0);for(const r in n){let o;const i=null==(o=n[r])?void 0:o.save(e);i&&(t[r]=i)}return t},Ji=function(e,t,{recordUndo:n=!1}={}){var r=l(js.SERIALIZER,!0);if(r){r=Object.entries(r).sort(((e,t)=>t[1].priority-e[1].priority));var o=I();O(n),(n=Ms.getGroup$$module$build$src$core$events$utils())||Ms.setGroup$$module$build$src$core$events$utils(!0),pe(),t instanceof Kp&&t.setResizesEnabled(!1);for(const[,e]of r.reverse()){let n;null==(n=e)||n.clear(t)}for(let[n,o]of r.reverse())if(e[n]){let r;null==(r=o)||r.load(e[n],t)}t instanceof Kp&&t.setResizesEnabled(!0),de(),x(new(B(ya))(t)),Ms.setGroup$$module$build$src$core$events$utils(n),O(o)}},Zi=function(e,t,n){const r=n.getBoundingRectangle(),o=r.right-r.left,i=pr(t.top,r.top,t.top+t.height-(r.bottom-r.top))-r.top;let s=t.left;return t=t.left+t.width-o,e.RTL?s=Math.min(t,s):t=Math.max(s,t),!(!(e=pr(s,r.left,t)-r.left)&&!i||(n.moveBy(e,i,["inbounds"]),0))},Qi=function(e){return t=>{var n,r=e.getMetricsManager();if(r.hasFixedEdges()&&!e.isDragging())if(-1!==va.indexOf(null!=(n=t.type)?n:"")){n=r.getScrollMetrics(!0);const o=es(e,t);o&&(r=Ms.getGroup$$module$build$src$core$events$utils()||!1,Ms.setGroup$$module$build$src$core$events$utils(t.group),Zi(e,n,o)&&!t.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),Ms.setGroup$$module$build$src$core$events$utils(r))}else t.type===pa&&t.scale&&t.oldScale&&t.scale>t.oldScale&&ts(e)}},es=function(e,t){let n=null;switch(t.type){case Ms.CREATE$$module$build$src$core$events$utils:case Ms.MOVE$$module$build$src$core$events$utils:(n=e.getBlockById(t.blockId))&&(n=n.getRootBlock());break;case da:case ma:n=e.getCommentById(t.commentId)}return n},ts=function(e){var t=e.getMetricsManager();if(t.hasFixedEdges()&&!e.isDragging()){t=t.getScrollMetrics(!0);var n=e.getTopBoundedElements();for(let r,o=0;r=n[o];o++)Zi(e,t,r)}},ns=function(e,t){const n=[];for(const r of e.getIcons())yo(r)&&!r.bubbleIsVisible()||(n.push({location:t,icon:r}),r.onLocationChange(t));for(const r of e.getChildren(!1))n.push(...ns(r,hl.sum(t,r.relativeCoords)));return n},rs=function(){fu.registry.register({displayText:()=>Ms.Msg$$module$build$src$core$msg.UNDO,preconditionFn:e=>0<e.workspace.getUndoStack().length?"enabled":"disabled",callback(e){e.workspace.undo(!1)},scopeType:fu.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},os=function(){fu.registry.register({displayText:()=>Ms.Msg$$module$build$src$core$msg.REDO,preconditionFn:e=>0<e.workspace.getRedoStack().length?"enabled":"disabled",callback(e){e.workspace.undo(!0)},scopeType:fu.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},is=function(){fu.registry.register({displayText:()=>Ms.Msg$$module$build$src$core$msg.CLEAN_UP,preconditionFn:e=>e.workspace.isMovable()?1<e.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden",callback(e){e.workspace.cleanUp()},scopeType:fu.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},ss=function(e,t){function n(t){o--,t.setCollapsed(e),0===o&&Ms.setGroup$$module$build$src$core$events$utils(!1)}let r=0,o=0;Ms.setGroup$$module$build$src$core$events$utils(!0);for(let e=0;e<t.length;e++){let i=t[e];for(;i;)o++,setTimeout(n.bind(null,i),r),i=i.getNextBlock(),r+=10}},as=function(){fu.registry.register({displayText:()=>Ms.Msg$$module$build$src$core$msg.COLLAPSE_ALL,preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let n=e[t];for(;n;){if(!n.isCollapsed())return"enabled";n=n.getNextBlock()}}return"disabled"}return"hidden"},callback(e){ss(!0,e.workspace.getTopBlocks(!0))},scopeType:fu.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},ls=function(){fu.registry.register({displayText:()=>Ms.Msg$$module$build$src$core$msg.EXPAND_ALL,preconditionFn(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(let t=0;t<e.length;t++){let n=e[t];for(;n;){if(n.isCollapsed())return"enabled";n=n.getNextBlock()}}return"disabled"}return"hidden"},callback(e){ss(!1,e.workspace.getTopBlocks(!0))},scopeType:fu.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},cs=function(e,t){if(e.isDeletable())Array.prototype.push.apply(t,e.getDescendants(!1));else{e=e.getChildren(!1);for(let n=0;n<e.length;n++)cs(e[n],t)}},us=function(e){const t=[];e=e.getTopBlocks(!0);for(let n=0;n<e.length;n++)cs(e[n],t);return t},hs=function(e,t){t?Ms.setGroup$$module$build$src$core$events$utils(t):(Ms.setGroup$$module$build$src$core$events$utils(!0),t=Ms.getGroup$$module$build$src$core$events$utils());const n=e.shift();n&&(n.isDeadOrDying()?hs(e,t):(n.dispose(!1,!0),setTimeout(hs,10,e,t))),Ms.setGroup$$module$build$src$core$events$utils(!1)},ps=function(){fu.registry.register({displayText:e=>e.workspace?1===(e=us(e.workspace).length)?Ms.Msg$$module$build$src$core$msg.DELETE_BLOCK:Ms.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`):"",preconditionFn:e=>e.workspace&&0<us(e.workspace).length?"enabled":"disabled",callback(e){if(e.workspace){e.workspace.cancelCurrentGesture();var t=us(e.workspace);2>t.length?hs(t):Je(Ms.Msg$$module$build$src$core$msg.DELETE_ALL_BLOCKS.replace("%1",String(t.length)),(function(e){e&&hs(t)}))}},scopeType:fu.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},ds=function(){rs(),os(),is(),as(),ls(),ps()},fs=function(){fu.registry.register({displayText:()=>Ms.Msg$$module$build$src$core$msg.DUPLICATE_BLOCK,preconditionFn:e=>!(e=e.block).isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden",callback(e){if(e.block){var t=e.block.toCopyData();t&&$n(t,e.block.workspace)}},scopeType:fu.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},gs=function(){fu.registry.register({displayText:e=>e.block.hasIcon(Hh.TYPE)?Ms.Msg$$module$build$src$core$msg.REMOVE_COMMENT:Ms.Msg$$module$build$src$core$msg.ADD_COMMENT,preconditionFn:e=>!(e=e.block).isInFlyout&&e.workspace.options.comments&&!e.isCollapsed()&&e.isEditable()?"enabled":"hidden",callback(e){(e=e.block).hasIcon(Hh.TYPE)?e.setCommentText(null):e.setCommentText("")},scopeType:fu.ScopeType.BLOCK,id:"blockComment",weight:2})},ms=function(){fu.registry.register({displayText:e=>e.block.getInputsInline()?Ms.Msg$$module$build$src$core$msg.EXTERNAL_INPUTS:Ms.Msg$$module$build$src$core$msg.INLINE_INPUTS,preconditionFn(e){if(!(e=e.block).isInFlyout&&e.isMovable()&&!e.isCollapsed())for(let t=1;t<e.inputList.length;t++)if(!(e.inputList[t-1]instanceof lf||e.inputList[t]instanceof lf))return"enabled";return"hidden"},callback(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:fu.ScopeType.BLOCK,id:"blockInline",weight:3})},ys=function(){fu.registry.register({displayText:e=>e.block.isCollapsed()?Ms.Msg$$module$build$src$core$msg.EXPAND_BLOCK:Ms.Msg$$module$build$src$core$msg.COLLAPSE_BLOCK,preconditionFn:e=>!(e=e.block).isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden",callback(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:fu.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},vs=function(){fu.registry.register({displayText:e=>e.block.isEnabled()?Ms.Msg$$module$build$src$core$msg.DISABLE_BLOCK:Ms.Msg$$module$build$src$core$msg.ENABLE_BLOCK,preconditionFn:e=>!(e=e.block).isInFlyout&&e.workspace.options.disable&&e.isEditable()?e.getInheritedDisabled()?"disabled":"enabled":"hidden",callback(e){e=e.block;const t=Ms.getGroup$$module$build$src$core$events$utils();t||Ms.setGroup$$module$build$src$core$events$utils(!0),e.setEnabled(!e.isEnabled()),Ms.setGroup$$module$build$src$core$events$utils(t)},scopeType:fu.ScopeType.BLOCK,id:"blockDisable",weight:5})},bs=function(){fu.registry.register({displayText(e){var t=e.block;return e=t.getDescendants(!1).length,(t=t.getNextBlock())&&(e-=t.getDescendants(!1).length),1===e?Ms.Msg$$module$build$src$core$msg.DELETE_BLOCK:Ms.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${e}`)},preconditionFn:e=>!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden",callback(e){e.block&&e.block.checkAndDelete()},scopeType:fu.ScopeType.BLOCK,id:"blockDelete",weight:6})},_s=function(){fu.registry.register({displayText:()=>Ms.Msg$$module$build$src$core$msg.HELP,preconditionFn:e=>("function"==typeof(e=e.block).helpUrl?e.helpUrl():e.helpUrl)?"enabled":"hidden",callback(e){e.block.showHelp()},scopeType:fu.ScopeType.BLOCK,id:"blockHelp",weight:7})},Es=function(){fs(),gs(),ms(),ys(),vs(),bs(),_s()},ws=function(){ds(),Es()},Ts=function(e,t){var n=null;let r;if(n="string"==typeof e?document.getElementById(e)||document.querySelector(e):e,!document.contains(n)&&document!==(null==(r=n)?void 0:r.ownerDocument))throw Error("Error: container is not in current document");e=new fh(t||{}),(t=document.createElement("div")).className="injectionDiv",t.tabIndex=0,Bn(t,Jc.LABEL,Ms.Msg$$module$build$src$core$msg.WORKSPACE_ARIA_LABEL),n.appendChild(t),n=ks(t,e);const o=Ss(t,n,e);return Cs(o),g(o),_(o),t.addEventListener("focusin",(function(){g(o)})),o},ks=function(e,t){e.setAttribute("dir","LTR"),te(t.hasCss,t.pathToMedia),e=re(wl.SVG,{xmlns:gl,"xmlns:html":ml,"xmlns:xlink":yl,version:"1.1",class:"blocklySvg",tabindex:"0"},e);const n=re(wl.DEFS,{},e),r=String(Math.random()).substring(2);return t.gridPattern=ch.createDom(r,t.gridOptions,n),e},Ss=function(e,t,n){n.parentWorkspace=null;const r=(n=new Kp(n)).options;n.scale=r.zoomOptions.startScale,t.appendChild(n.createDom("blocklyMainBackground",e));var o=n.getRenderer().getClassName();return o&&oe(e,o),(o=n.getTheme().getClassName())&&oe(e,o),!r.hasCategories&&r.languageTree&&(e=n.addFlyout(wl.SVG),ce(e,t)),r.hasTrashcan&&n.addTrashcan(),r.zoomOptions&&r.zoomOptions.controls&&n.addZoomControls(),n.getThemeManager().subscribe(t,"workspaceBackgroundColour","background-color"),n.translate(0,0),n.addChangeListener(Qi(n)),_(n),Un(),dr(),to(),n},Cs=function(e){const t=e.options;var n=e.getParentSvg();if(z(n.parentNode,"contextmenu",null,(function(e){X(e)||e.preventDefault()})),n=z(window,"resize",null,(function(){lo(),e.hideComponents(!0),Dr(),Jn(),_(e),ts(e)})),e.setResizeHandlerWrapper(n),Is(),t.languageTree){n=e.getToolbox();const r=e.getFlyout(!0);n?n.init():r&&(r.init(e),r.show(t.languageTree),"function"==typeof r.scrollToStart&&r.scrollToStart())}t.hasTrashcan&&e.trashcan.init(),t.zoomOptions&&t.zoomOptions.controls&&e.zoomControls_.init(),t.moveOptions&&t.moveOptions.scrollbars?(e.scrollbar=new Pd(e,!0===t.moveOptions.scrollbars||!!t.moveOptions.scrollbars.horizontal,!0===t.moveOptions.scrollbars||!!t.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),t.hasSounds&&xs(t.pathToMedia,e)},Os=function(e){const t=f();t&&!(X(e)||t.rendered&&!t.isVisible())&&Od.registry.onKeyDown(t,e)},Is=function(){Af||(z(document,"scroll",null,(function(){const e=h();for(let t,n=0;t=e[n];n++)t instanceof Kp&&t.updateInverseScreenCTM()})),z(document,"keydown",null,Os),q(document,"touchend",null,U),q(document,"touchcancel",null,U),Ja&&z(window,"orientationchange",document,(function(){_(f())}))),Af=!0},xs=function(e,t){function n(){for(;o.length;){const e=o.pop();e&&Y(e)}r.preload()}const r=t.getAudioManager();r.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),r.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),r.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");const o=[];o.push(z(document,"pointermove",null,n,!0)),o.push(z(document,"touchstart",null,n,!0))},Rs=function(e){return void 0!==e.getType&&void 0!==e.initView&&void 0!==e.dispose&&void 0!==e.getWeight&&void 0!==e.getSize&&void 0!==e.applyColour&&void 0!==e.hideForInsertionMarker&&void 0!==e.updateEditable&&void 0!==e.updateCollapsed&&void 0!==e.isShownWhenCollapsed&&void 0!==e.setOffsetInBlock&&void 0!==e.onLocationChange&&void 0!==e.onClick},Ns=function(e){return void 0!==e.paste},As=function(e){return e.isSelectable()},$s=function(e){f().hideChaff(e)},(Ds=Ds||{}).scope={},Ds.ASSUME_ES5=!1,Ds.ASSUME_NO_NATIVE_MAP=!1,Ds.ASSUME_NO_NATIVE_SET=!1,Ds.SIMPLE_FROUND_POLYFILL=!1,Ds.ISOLATE_POLYFILLS=!1,Ds.FORCE_POLYFILL_PROMISE=!1,Ds.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,Ds.defineProperty=Ds.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},Ds.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")},Ds.global=Ds.getGlobal(this),Ds.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x"),Ds.TRUST_ES6_POLYFILLS=!Ds.ISOLATE_POLYFILLS||Ds.IS_SYMBOL_NATIVE,Ds.polyfills={},Ds.propertyToPolyfillSymbol={},Ds.POLYFILL_PREFIX="$jscp$",Ds.polyfill=function(e,t,n,r){t&&(Ds.ISOLATE_POLYFILLS?Ds.polyfillIsolated(e,t,n,r):Ds.polyfillUnisolated(e,t,n,r))},Ds.polyfillUnisolated=function(e,t,n,r){for(n=Ds.global,e=e.split("."),r=0;r<e.length-1;r++){var o=e[r];if(!(o in n))return;n=n[o]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&Ds.defineProperty(n,e,{configurable:!0,writable:!0,value:t})},Ds.polyfillIsolated=function(e,t,n,r){var o=e.split(".");e=1===o.length,r=o[0],r=!e&&r in Ds.polyfills?Ds.polyfills:Ds.global;for(var i=0;i<o.length-1;i++){var s=o[i];if(!(s in r))return;r=r[s]}o=o[o.length-1],null!=(t=t(n=Ds.IS_SYMBOL_NATIVE&&"es6"===n?r[o]:null))&&(e?Ds.defineProperty(Ds.polyfills,o,{configurable:!0,writable:!0,value:t}):t!==n&&(void 0===Ds.propertyToPolyfillSymbol[o]&&(n=1e9*Math.random()>>>0,Ds.propertyToPolyfillSymbol[o]=Ds.IS_SYMBOL_NATIVE?Ds.global.Symbol(o):Ds.POLYFILL_PREFIX+n+"$"+o),Ds.defineProperty(r,Ds.propertyToPolyfillSymbol[o],{configurable:!0,writable:!0,value:t})))},Ds.polyfill("globalThis",(function(e){return e||Ds.global}),"es_2020","es3"),Ds.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},Ds.arrayIterator=function(e){return{next:Ds.arrayIteratorImpl(e)}},Ds.initSymbol=function(){},Ds.iteratorPrototype=function(e){return(e={next:e})[Symbol.iterator]=function(){return this},e},Ds.iteratorFromArray=function(e,t){e instanceof String&&(e+="");var n=0,r=!1,o={next:function(){if(!r&&n<e.length){var o=n++;return{value:t(o,e[o]),done:!1}}return r=!0,{done:!0,value:void 0}}};return o[Symbol.iterator]=function(){return o},o},Ds.polyfill("Array.prototype.values",(function(e){return e||function(){return Ds.iteratorFromArray(this,(function(e,t){return t}))}}),"es8","es3"),Ds.polyfill("Array.prototype.flat",(function(e){return e||function(e){e=void 0===e?1:e;var t=[];return Array.prototype.forEach.call(this,(function(n){Array.isArray(n)&&0<e?(n=Array.prototype.flat.call(n,e-1),t.push.apply(t,n)):t.push(n)})),t}}),"es9","es5"),Ds.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Ds.polyfill("Object.entries",(function(e){return e||function(e){var t,n=[];for(t in e)Ds.owns(e,t)&&n.push([t,e[t]]);return n}}),"es8","es3"),Ds.polyfill("Object.values",(function(e){return e||function(e){var t,n=[];for(t in e)Ds.owns(e,t)&&n.push(e[t]);return n}}),"es8","es3");var Ps=Object.create(null),Ls={typeMap:Ps},Bs=Object.create(null),Fs="default",js=class{constructor(e){this.name=e}toString(){return this.name}};js.CONNECTION_CHECKER=new js("connectionChecker"),js.CONNECTION_PREVIEWER=new js("connectionPreviewer"),js.CURSOR=new js("cursor"),js.EVENT=new js("event"),js.FIELD=new js("field"),js.INPUT=new js("input"),js.RENDERER=new js("renderer"),js.TOOLBOX=new js("toolbox"),js.THEME=new js("theme"),js.TOOLBOX_ITEM=new js("toolboxItem"),js.FLYOUTS_VERTICAL_TOOLBOX=new js("flyoutsVerticalToolbox"),js.FLYOUTS_HORIZONTAL_TOOLBOX=new js("flyoutsHorizontalToolbox"),js.METRICS_MANAGER=new js("metricsManager"),js.BLOCK_DRAGGER=new js("blockDragger"),js.SERIALIZER=new js("serializer"),js.ICON=new js("icon"),js.PASTER=new js("paster");var Us={DEFAULT:Fs,TEST_ONLY:Ls};Us.Type=js,Us.getAllItems=l,Us.getClass=s,Us.getClassFromOptions=c,Us.getObject=a,Us.hasItem=i,Us.register=e,Us.unregister=r;var Hs,Vs,Ws=Object.create(null),Gs=Object.create(null),zs=null,qs=[],Ys={defineBlocksWithJsonArrayInternal:k},Xs={TEST_ONLY:Ys};Xs.createBlockDefinitionsFromJsonArray=Ms.createBlockDefinitionsFromJsonArray$$module$build$src$core$common,Xs.defineBlocks=Ms.defineBlocks$$module$build$src$core$common,Xs.defineBlocksWithJsonArray=T,Xs.draggingConnections=qs,Xs.getAllWorkspaces=h,Xs.getBlockTypeCounts=E,Xs.getMainWorkspace=f,Xs.getParentContainer=v,Xs.getSelected=m,Xs.getWorkspaceById=u,Xs.registerWorkspace=p,Xs.setMainWorkspace=g,Xs.setParentContainer=b,Xs.setSelected=y,Xs.svgResize=_,Xs.unregisterWorkpace=d;var Ks,Js,Zs,Qs,ea,ta,na,ra,oa,ia,sa,aa,la,ca,ua,ha,pa,da,fa,ga,ma,ya,va,ba,_a,Ea,wa="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Ta={genUid:()=>{const e=[];for(let t=0;20>t;t++)e[t]=wa.charAt(88*Math.random());return e.join("")}},ka=0,Sa={TEST_ONLY:Ta};Sa.genUid=C,Sa.getNextUniqueId=S,Ks="",Js=!0,Zs=0,Ms.CREATE$$module$build$src$core$events$utils="create",Ms.CREATE$$module$build$src$core$events$utils,Ms.DELETE$$module$build$src$core$events$utils="delete",Ms.DELETE$$module$build$src$core$events$utils,Ms.CHANGE$$module$build$src$core$events$utils="change",Ms.CHANGE$$module$build$src$core$events$utils,Qs="block_field_intermediate_change",Ms.MOVE$$module$build$src$core$events$utils="move",Ms.MOVE$$module$build$src$core$events$utils,ea="var_create",ta="var_delete",na="var_rename",ra="ui",oa="drag",ia="selected",sa="click",aa="marker_move",la="bubble_open",ca="trashcan_open",ua="toolbox_item_select",ha="theme_change",pa="viewport_change",da="comment_create",fa="comment_delete",ga="comment_change",ma="comment_move",ya="finished_loading",va=[Ms.CREATE$$module$build$src$core$events$utils,Ms.MOVE$$module$build$src$core$events$utils,da,ma],_a={FIRE_QUEUE:ba=[],fireNow:N,fireInternal:R,setGroupInternal:M},(Ea={BLOCK_CHANGE:Ms.CHANGE$$module$build$src$core$events$utils,BLOCK_CREATE:Ms.CREATE$$module$build$src$core$events$utils,BLOCK_DELETE:Ms.DELETE$$module$build$src$core$events$utils,BLOCK_DRAG:oa,BLOCK_FIELD_INTERMEDIATE_CHANGE:Qs,BLOCK_MOVE:Ms.MOVE$$module$build$src$core$events$utils,BUBBLE_OPEN:la,BUMP_EVENTS:va,CHANGE:Ms.CHANGE$$module$build$src$core$events$utils,CLICK:sa,COMMENT_CHANGE:ga,COMMENT_CREATE:da,COMMENT_DELETE:fa,COMMENT_MOVE:ma,CREATE:Ms.CREATE$$module$build$src$core$events$utils,DELETE:Ms.DELETE$$module$build$src$core$events$utils,FINISHED_LOADING:ya,MARKER_MOVE:aa,MOVE:Ms.MOVE$$module$build$src$core$events$utils,SELECTED:ia,TEST_ONLY:_a,THEME_CHANGE:ha,TOOLBOX_ITEM_SELECT:ua,TRASHCAN_OPEN:ca,UI:ra,VAR_CREATE:ea,VAR_DELETE:ta,VAR_RENAME:na,VIEWPORT_CHANGE:pa}).clearPendingUndo=$,Ea.disable=Ms.disable$$module$build$src$core$events$utils,Ea.disableOrphans=F,Ea.enable=Ms.enable$$module$build$src$core$events$utils,Ea.filter=A,Ea.fire=x,Ea.fromJson=L,Ea.get=B,Ea.getDescendantIds=P,Ea.getGroup=Ms.getGroup$$module$build$src$core$events$utils,Ea.getRecordUndo=I,Ea.isEnabled=D,Ea.setGroup=Ms.setGroup$$module$build$src$core$events$utils,Ea.setRecordUndo=O;var Ca,Oa,Ia=class{constructor(){this.workspaceId=void 0,this.isUiEvent=!1,this.type="",this.group=Ms.getGroup$$module$build$src$core$events$utils(),this.recordUndo=I()}toJson(){return{type:this.type,group:this.group}}static fromJson(e,t,n){return n.isBlank=!1,n.group=e.group||"",n.workspaceId=t.id,n}isNull(){return!1}run(e){}getEventWorkspace_(){let e;if(this.workspaceId&&(e=u(this.workspaceId)),!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e}},xa=class extends Ia{constructor(e){super(),this.recordUndo=!1,this.isUiEvent=!0,this.isBlank=void 0===e,this.workspaceId=e||""}},Ra=class extends xa{constructor(e,t,n){null===(t=e?e.workspace.id:t)&&(t=void 0),super(t),this.type=sa,this.blockId=e?e.id:void 0,this.targetType=n}toJson(){const e=super.toJson();if(!this.targetType)throw Error("The click target type is undefined. Either pass a block to the constructor, or call fromJson");return e.targetType=this.targetType,e.blockId=this.blockId,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Ra)).targetType=e.targetType,t.blockId=e.blockId,t}};(Oa=Ca||(Ca={})).BLOCK="block",Oa.WORKSPACE="workspace",Oa.ZOOM_CONTROLS="zoom_controls",e(js.EVENT,sa,Ra);var Na={};Na.Click=Ra,Na.ClickTarget=Ca;var Aa,$a,Da,Ma,Pa,La,Ba,Fa,ja,Ua,Ha=750,Va="ontouchstart"in globalThis||!!(globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),Wa=null,Ga={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]},za=0,qa={TOUCH_ENABLED:Va,TOUCH_MAP:Ga};qa.checkTouchIdentifier=G,qa.clearTouchIdentifier=H,qa.getTouchIdentifierFromEvent=W,qa.longStart=j,qa.longStop=U,qa.shouldHandleEvent=V,function(e){function t(e){return-1!==n.indexOf(e.toUpperCase())}const n=(Aa=e).toUpperCase();$a=t("JavaFX"),Da=t("WebKit"),Ma=t("Gecko")&&!Da,Pa=t("Android"),e=globalThis.navigator&&globalThis.navigator.maxTouchPoints,La=t("iPad")||t("Macintosh")&&0<e,Ba=t("iPhone")&&!La,Fa=t("Macintosh"),ja=La||Pa&&!t("Mobile")||t("Silk"),Ua=!ja&&(Ba||Pa)}(globalThis.navigator&&globalThis.navigator.userAgent||"");var Ya=$a,Xa=Ma,Ka=Pa,Ja=La,Za=Ba,Qa=Fa,el=Ua,tl={ANDROID:Ka,GECKO:Xa,IPAD:Ja,IPHONE:Za,JavaFx:Ya,MAC:Qa,MOBILE:el,raw:Aa},nl=40,rl=125,ol={};ol.bind=q,ol.conditionalBind=z,ol.getScrollDeltaPixels=Z,ol.isRightButton=K,ol.isTargetInput=X,ol.mouseToSvg=J,ol.unbind=Y;var il={};il.removeElem=Q;var sl=class{constructor(e){this.name_=e}toString(){return this.name_}};sl.POSITIONABLE=new sl("positionable"),sl.DRAG_TARGET=new sl("drag_target"),sl.DELETE_AREA=new sl("delete_area"),sl.AUTOHIDEABLE=new sl("autohideable");var al=class{constructor(){this.componentData=new Map,this.capabilityToComponentIds=new Map}addComponent(e,t){const n=e.component.id;var r;if(!t&&this.componentData.has(n))throw Error('Plugin "'+n+'" with capabilities "'+(null==(r=this.componentData.get(n))?void 0:r.capabilities)+'" already added.');for(this.componentData.set(n,e),t=[],r=0;r<e.capabilities.length;r++){const o=String(e.capabilities[r]).toLowerCase();if(t.push(o),this.capabilityToComponentIds.has(o)){let e;null==(e=this.capabilityToComponentIds.get(o))||e.push(n)}else this.capabilityToComponentIds.set(o,[n])}this.componentData.get(n).capabilities=t}removeComponent(e){const t=this.componentData.get(e);if(t){for(let n=0;n<t.capabilities.length;n++){const r=String(t.capabilities[n]).toLowerCase();Q(this.capabilityToComponentIds.get(r),e)}this.componentData.delete(e)}}addCapability(e,t){if(!this.getComponent(e))throw Error('Cannot add capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');var n,r;this.hasCapability(e,t)?console.warn('Plugin "'+e+'already has capability "'+t+'"'):(t=`${t}`.toLowerCase(),null==(n=this.componentData.get(e))||n.capabilities.push(t),null==(r=this.capabilityToComponentIds.get(t))||r.push(e))}removeCapability(e,t){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,t)?(t=`${t}`.toLowerCase(),Q(this.componentData.get(e).capabilities,t),Q(this.capabilityToComponentIds.get(t),e)):console.warn('Plugin "'+e+"doesn't have capability \""+t+'" to remove')}hasCapability(e,t){return t=`${t}`.toLowerCase(),this.componentData.has(e)&&-1!==this.componentData.get(e).capabilities.indexOf(t)}getComponent(e){let t;return null==(t=this.componentData.get(e))?void 0:t.component}getComponents(e,t){if(e=`${e}`.toLowerCase(),!(e=this.capabilityToComponentIds.get(e)))return[];const n=[];if(t){const t=[];e.forEach((e=>{t.push(this.componentData.get(e))})),t.sort((function(e,t){return e.weight-t.weight})),t.forEach((function(e){n.push(e.component)}))}else e.forEach((e=>{n.push(this.componentData.get(e).component)}));return n}};al.Capability=sl;var ll=!1,cl='\n.blocklySvg {\n  background-color: #fff;\n  outline: none;\n  overflow: hidden;  /* IE overflows by default. */\n  position: absolute;\n  display: block;\n}\n\n.blocklyWidgetDiv {\n  display: none;\n  position: absolute;\n  z-index: 99999;  /* big value for bootstrap3 compatibility */\n}\n\n.injectionDiv {\n  height: 100%;\n  position: relative;\n  overflow: hidden;  /* So blocks in drag surface disappear at edges */\n  touch-action: none;\n}\n\n.blocklyNonSelectable {\n  user-select: none;\n  -ms-user-select: none;\n  -webkit-user-select: none;\n}\n\n.blocklyBlockCanvas.blocklyCanvasTransitioning,\n.blocklyBubbleCanvas.blocklyCanvasTransitioning {\n  transition: transform .5s;\n}\n\n.blocklyTooltipDiv {\n  background-color: #ffffc7;\n  border: 1px solid #ddc;\n  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);\n  color: #000;\n  display: none;\n  font: 9pt sans-serif;\n  opacity: .9;\n  padding: 2px;\n  position: absolute;\n  z-index: 100000;  /* big value for bootstrap3 compatibility */\n}\n\n.blocklyDropDownDiv {\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1000;\n  display: none;\n  border: 1px solid;\n  border-color: #dadce0;\n  background-color: #fff;\n  border-radius: 2px;\n  padding: 4px;\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownDiv.blocklyFocused {\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownContent {\n  max-height: 300px;  /* @todo: spec for maximum height. */\n  overflow: auto;\n  overflow-x: hidden;\n  position: relative;\n}\n\n.blocklyDropDownArrow {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 16px;\n  height: 16px;\n  z-index: -1;\n  background-color: inherit;\n  border-color: inherit;\n}\n\n.blocklyDropDownButton {\n  display: inline-block;\n  float: left;\n  padding: 0;\n  margin: 4px;\n  border-radius: 4px;\n  outline: none;\n  border: 1px solid;\n  transition: box-shadow .1s;\n  cursor: pointer;\n}\n\n.blocklyArrowTop {\n  border-top: 1px solid;\n  border-left: 1px solid;\n  border-top-left-radius: 4px;\n  border-color: inherit;\n}\n\n.blocklyArrowBottom {\n  border-bottom: 1px solid;\n  border-right: 1px solid;\n  border-bottom-right-radius: 4px;\n  border-color: inherit;\n}\n\n.blocklyResizeSE {\n  cursor: se-resize;\n  fill: #aaa;\n}\n\n.blocklyResizeSW {\n  cursor: sw-resize;\n  fill: #aaa;\n}\n\n.blocklyResizeLine {\n  stroke: #515A5A;\n  stroke-width: 1;\n}\n\n.blocklyHighlightedConnectionPath {\n  fill: none;\n  stroke: #fc3;\n  stroke-width: 4px;\n}\n\n.blocklyPathLight {\n  fill: none;\n  stroke-linecap: round;\n  stroke-width: 1;\n}\n\n.blocklySelected>.blocklyPathLight {\n  display: none;\n}\n\n.blocklyDraggable {\n  cursor: grab;\n  cursor: -webkit-grab;\n}\n\n.blocklyDragging {\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n  /* Changes cursor on mouse down. Not effective in Firefox because of\n     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */\n.blocklyDraggable:active {\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n.blocklyDragging.blocklyDraggingDelete {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyDragging>.blocklyPath,\n.blocklyDragging>.blocklyPathLight {\n  fill-opacity: .8;\n  stroke-opacity: .8;\n}\n\n.blocklyDragging>.blocklyPathDark {\n  display: none;\n}\n\n.blocklyDisabled>.blocklyPath {\n  fill-opacity: .5;\n  stroke-opacity: .5;\n}\n\n.blocklyDisabled>.blocklyPathLight,\n.blocklyDisabled>.blocklyPathDark {\n  display: none;\n}\n\n.blocklyInsertionMarker>.blocklyPath,\n.blocklyInsertionMarker>.blocklyPathLight,\n.blocklyInsertionMarker>.blocklyPathDark {\n  fill-opacity: .2;\n  stroke: none;\n}\n\n.blocklyMultilineText {\n  font-family: monospace;\n}\n\n.blocklyNonEditableText>text {\n  pointer-events: none;\n}\n\n.blocklyFlyout {\n  position: absolute;\n  z-index: 20;\n}\n\n.blocklyText text {\n  cursor: default;\n}\n\n/*\n  Don\'t allow users to select text.  It gets annoying when trying to\n  drag a block and selected text moves instead.\n*/\n.blocklySvg text {\n  user-select: none;\n  -ms-user-select: none;\n  -webkit-user-select: none;\n  cursor: inherit;\n}\n\n.blocklyHidden {\n  display: none;\n}\n\n.blocklyFieldDropdown:not(.blocklyHidden) {\n  display: block;\n}\n\n.blocklyIconGroup {\n  cursor: default;\n}\n\n.blocklyIconGroup:not(:hover),\n.blocklyIconGroupReadonly {\n  opacity: .6;\n}\n\n.blocklyIconShape {\n  fill: #00f;\n  stroke: #fff;\n  stroke-width: 1px;\n}\n\n.blocklyIconSymbol {\n  fill: #fff;\n}\n\n.blocklyMinimalBody {\n  margin: 0;\n  padding: 0;\n}\n\n.blocklyHtmlInput {\n  border: none;\n  border-radius: 4px;\n  height: 100%;\n  margin: 0;\n  outline: none;\n  padding: 0;\n  width: 100%;\n  text-align: center;\n  display: block;\n  box-sizing: border-box;\n}\n\n/* Remove the increase and decrease arrows on the field number editor */\ninput.blocklyHtmlInput[type=number]::-webkit-inner-spin-button,\ninput.blocklyHtmlInput[type=number]::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\ninput[type=number] {\n  -moz-appearance: textfield;\n}\n\n.blocklyMainBackground {\n  stroke-width: 1;\n  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */\n}\n\n.blocklyMutatorBackground {\n  fill: #fff;\n  stroke: #ddd;\n  stroke-width: 1;\n}\n\n.blocklyFlyoutBackground {\n  fill: #ddd;\n  fill-opacity: .8;\n}\n\n.blocklyMainWorkspaceScrollbar {\n  z-index: 20;\n}\n\n.blocklyFlyoutScrollbar {\n  z-index: 30;\n}\n\n.blocklyScrollbarHorizontal,\n.blocklyScrollbarVertical {\n  position: absolute;\n  outline: none;\n}\n\n.blocklyScrollbarBackground {\n  opacity: 0;\n}\n\n.blocklyScrollbarHandle {\n  fill: #ccc;\n}\n\n.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\n.blocklyScrollbarHandle:hover {\n  fill: #bbb;\n}\n\n/* Darken flyout scrollbars due to being on a grey background. */\n/* By contrast, workspace scrollbars are on a white background. */\n.blocklyFlyout .blocklyScrollbarHandle {\n  fill: #bbb;\n}\n\n.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\n.blocklyFlyout .blocklyScrollbarHandle:hover {\n  fill: #aaa;\n}\n\n.blocklyInvalidInput {\n  background: #faa;\n}\n\n.blocklyVerticalMarker {\n  stroke-width: 3px;\n  fill: rgba(255,255,255,.5);\n  pointer-events: none;\n}\n\n.blocklyComputeCanvas {\n  position: absolute;\n  width: 0;\n  height: 0;\n}\n\n.blocklyNoPointerEvents {\n  pointer-events: none;\n}\n\n.blocklyContextMenu {\n  border-radius: 4px;\n  max-height: 100%;\n}\n\n.blocklyDropdownMenu {\n  border-radius: 2px;\n  padding: 0 !important;\n}\n\n.blocklyDropdownMenu .blocklyMenuItem {\n  /* 28px on the left for icon or checkbox. */\n  padding-left: 28px;\n}\n\n/* BiDi override for the resting state. */\n.blocklyDropdownMenu .blocklyMenuItemRtl {\n  /* Flip left/right padding for BiDi. */\n  padding-left: 5px;\n  padding-right: 28px;\n}\n\n.blocklyWidgetDiv .blocklyMenu {\n  background: #fff;\n  border: 1px solid transparent;\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\n  font: normal 13px Arial, sans-serif;\n  margin: 0;\n  outline: none;\n  padding: 4px 0;\n  position: absolute;\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-height: 100%;\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\n}\n\n.blocklyWidgetDiv .blocklyMenu.blocklyFocused {\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownDiv .blocklyMenu {\n  background: inherit;  /* Compatibility with gapi, reset from goog-menu */\n  border: inherit;  /* Compatibility with gapi, reset from goog-menu */\n  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;\n  outline: none;\n  position: relative;  /* Compatibility with gapi, reset from goog-menu */\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\n}\n\n/* State: resting. */\n.blocklyMenuItem {\n  border: none;\n  color: #000;\n  cursor: pointer;\n  list-style: none;\n  margin: 0;\n  /* 7em on the right for shortcut. */\n  min-width: 7em;\n  padding: 6px 15px;\n  white-space: nowrap;\n}\n\n/* State: disabled. */\n.blocklyMenuItemDisabled {\n  color: #ccc;\n  cursor: inherit;\n}\n\n/* State: hover. */\n.blocklyMenuItemHighlight {\n  background-color: rgba(0,0,0,.1);\n}\n\n/* State: selected/checked. */\n.blocklyMenuItemCheckbox {\n  height: 16px;\n  position: absolute;\n  width: 16px;\n}\n\n.blocklyMenuItemSelected .blocklyMenuItemCheckbox {\n  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;\n  float: left;\n  margin-left: -24px;\n  position: static;  /* Scroll with the menu. */\n}\n\n.blocklyMenuItemRtl .blocklyMenuItemCheckbox {\n  float: right;\n  margin-right: -24px;\n}\n\n.blocklyBlockDragSurface {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: visible !important;\n  z-index: 80;\n  pointer-events: none;\n}\n',ul={};ul.inject=te,ul.register=ee;var hl=class{constructor(e,t){this.x=e,this.y=t}clone(){return new hl(this.x,this.y)}scale(e){return this.x*=e,this.y*=e,this}translate(e,t){return this.x+=e,this.y+=t,this}static equals(e,t){return e===t||!(!e||!t)&&e.x===t.x&&e.y===t.y}static distance(e,t){const n=e.x-t.x;return e=e.y-t.y,Math.sqrt(n*n+e*e)}static magnitude(e){return Math.sqrt(e.x*e.x+e.y*e.y)}static difference(e,t){return new hl(e.x-t.x,e.y-t.y)}static sum(e,t){return new hl(e.x+t.x,e.y+t.y)}},pl=new Set,dl={};dl.warn=ne;var fl,gl="http://www.w3.org/2000/svg",ml="http://www.w3.org/1999/xhtml",yl="http://www.w3.org/1999/xlink";!function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE"}(fl||(fl={}));var vl=null,bl=0,_l=null,El={HTML_NS:ml};El.NodeType=fl,El.SVG_NS=gl,El.XLINK_NS=yl,El.addClass=oe,El.containsNode=ue,El.createSvgElement=re,El.getFastTextWidth=ge,El.getFastTextWidthWithSizeString=me,El.getTextWidth=fe,El.hasClass=ae,El.insertAfter=ce,El.measureFontMetrics=ye,El.removeClass=se,El.removeClasses=ie,El.removeNode=le,El.setCssTransform=he,El.startTextWidthCache=pe,El.stopTextWidthCache=de;var wl=class{constructor(e){this.tagName=e}toString(){return this.tagName}};wl.ANIMATE=new wl("animate"),wl.CIRCLE=new wl("circle"),wl.CLIPPATH=new wl("clipPath"),wl.DEFS=new wl("defs"),wl.FECOMPOSITE=new wl("feComposite"),wl.FECOMPONENTTRANSFER=new wl("feComponentTransfer"),wl.FEFLOOD=new wl("feFlood"),wl.FEFUNCA=new wl("feFuncA"),wl.FEGAUSSIANBLUR=new wl("feGaussianBlur"),wl.FEPOINTLIGHT=new wl("fePointLight"),wl.FESPECULARLIGHTING=new wl("feSpecularLighting"),wl.FILTER=new wl("filter"),wl.FOREIGNOBJECT=new wl("foreignObject"),wl.G=new wl("g"),wl.IMAGE=new wl("image"),wl.LINE=new wl("line"),wl.PATH=new wl("path"),wl.PATTERN=new wl("pattern"),wl.POLYGON=new wl("polygon"),wl.RECT=new wl("rect"),wl.SVG=new wl("svg"),wl.TEXT=new wl("text"),wl.TSPAN=new wl("tspan");var Tl=class{constructor(e,t,n,r){this.top=e,this.bottom=t,this.left=n,this.right=r}getHeight(){return this.bottom-this.top}getWidth(){return this.right-this.left}contains(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom}intersects(e){return!(this.left>e.right||this.right<e.left||this.top>e.bottom||this.bottom<e.top)}},kl=class{constructor(e,t){this.width=e,this.height=t}static equals(e,t){return e===t||!(!e||!t)&&e.width===t.width&&e.height===t.height}},Sl={getSizeInternal:be},Cl={TEST_ONLY:Sl};Cl.getBorderBox=ke,Cl.getComputedStyle=Ee,Cl.getContainerOffsetToScrollInto=Ce,Cl.getPageOffset=we,Cl.getSize=ve,Cl.getViewportPageOffset=Te,Cl.scrollIntoContainerView=Se;var Ol=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,Il=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,xl={TEST_ONLY:{XY_REGEX:Ol,XY_STYLE_REGEX:Il}};xl.getDocumentScroll=Re,xl.getInjectionDivXY=Ie,xl.getRelativeXY=Oe,xl.getViewportBBox=xe,xl.screenToWsCoordinates=Ne,xl.wsToScreenCoordinates=Ae;var Rl=class{constructor(e,t,n,r,o){this.workspace=e,this.horizontal=t,this.oldHostMetrics=null,this.ratio=1,this.origin=new hl(0,0),this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0,this.containerVisible=this.isHandleVisible=!0,this.position=new hl(0,0),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.pair=n||!1,this.margin=void 0!==o?o:Rl.DEFAULT_SCROLLBAR_MARGIN,e="blocklyScrollbar"+(this.horizontal?"Horizontal":"Vertical"),r&&(e+=" "+r),this.outerSvg=re(wl.SVG,{class:e}),r=re(wl.G,{},this.outerSvg),this.svgBackground=re(wl.RECT,{class:"blocklyScrollbarBackground"},r),e=Math.floor((Rl.scrollbarThickness-5)/2),this.svgHandle=re(wl.RECT,{class:"blocklyScrollbarHandle",rx:e,ry:e},r),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarColour","fill"),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarOpacity","fill-opacity"),ce(this.outerSvg,this.workspace.getParentSvg()),this.setInitialThickness(),t?(this.lengthAttribute_="width",this.positionAttribute_="x"):(this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=z(this.svgBackground,"pointerdown",this,this.onMouseDownBar),this.onMouseDownHandleWrapper_=z(this.svgHandle,"pointerdown",this,this.onMouseDownHandle)}setInitialThickness(){const e=Rl.scrollbarThickness;this.horizontal?(this.svgBackground.setAttribute("height",String(e)),this.outerSvg.setAttribute("height",String(e)),this.svgHandle.setAttribute("height",String(e-5)),this.svgHandle.setAttribute("y","2.5")):(this.svgBackground.setAttribute("width",String(e)),this.outerSvg.setAttribute("width",String(e)),this.svgHandle.setAttribute("width",String(e-5)),this.svgHandle.setAttribute("x","2.5"))}dispose(){this.cleanUp(),Y(this.onMouseDownBarWrapper_),Y(this.onMouseDownHandleWrapper_),le(this.outerSvg),this.workspace.getThemeManager().unsubscribe(this.svgHandle)}constrainHandleLength(e){return 0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength)}setHandleLength(e){this.handleLength=e,this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}constrainHandlePosition(e){return 0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength-this.handleLength)}setHandlePosition(e){this.handlePosition=e,this.svgHandle.setAttribute(this.positionAttribute_,String(this.handlePosition))}setScrollbarLength(e){this.scrollbarLength=e,this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength)),this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}setPosition(e,t){this.position.x=e,this.position.y=t,he(this.outerSvg,"translate("+(this.position.x+this.origin.x)+"px,"+(this.position.y+this.origin.y)+"px)")}resize(e){(e||(e=this.workspace.getMetrics()))&&(this.oldHostMetrics&&Rl.metricsAreEquivalent(e,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(e):this.resizeVertical(e),this.oldHostMetrics=e,this.updateMetrics()))}requiresViewResize(e){return!this.oldHostMetrics||this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics.absoluteTop!==e.absoluteTop}resizeHorizontal(e){this.requiresViewResize(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)}resizeViewHorizontal(e){var t=e.viewWidth-2*this.margin;this.pair&&(t-=Rl.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),t=e.absoluteLeft+this.margin,this.pair&&this.workspace.RTL&&(t+=Rl.scrollbarThickness),this.setPosition(t,e.absoluteTop+e.viewHeight-Rl.scrollbarThickness-this.margin),this.resizeContentHorizontal(e)}resizeContentHorizontal(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewWidth/e.scrollWidth;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollWidth-e.viewWidth;var n=this.scrollbarLength-this.handleLength;e=(e.viewLeft-e.scrollLeft)/t*n,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=n/t}}resizeVertical(e){this.requiresViewResize(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)}resizeViewVertical(e){let t=e.viewHeight-2*this.margin;this.pair&&(t-=Rl.scrollbarThickness),this.setScrollbarLength(Math.max(0,t)),this.setPosition(this.workspace.RTL?e.absoluteLeft+this.margin:e.absoluteLeft+e.viewWidth-Rl.scrollbarThickness-this.margin,e.absoluteTop+this.margin),this.resizeContentVertical(e)}resizeContentVertical(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewHeight/e.scrollHeight;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollHeight-e.viewHeight;var n=this.scrollbarLength-this.handleLength;e=(e.viewTop-e.scrollTop)/t*n,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=n/t}}isVisible(){return this.isHandleVisible}setContainerVisible(e){const t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay_()}setVisible(e){if(this.pair)throw Error("Unable to toggle visibility of paired scrollbars.");this.setVisibleInternal(e)}setVisibleInternal(e){const t=e!==this.isVisible();this.isHandleVisible=e,t&&this.updateDisplay_()}updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute("display","block"):this.outerSvg.setAttribute("display","none")}onMouseDownBar(e){if(this.workspace.markFocused(),H(),this.cleanUp(),K(e))e.stopPropagation();else{var t=J(e,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());t=this.horizontal?t.x:t.y;var n=Ie(this.svgHandle);n=this.horizontal?n.x:n.y;var r=this.handlePosition,o=.95*this.handleLength;t<=n?r-=o:t>=n+this.handleLength&&(r+=o),this.setHandlePosition(this.constrainHandlePosition(r)),this.updateMetrics(),e.stopPropagation(),e.preventDefault()}}onMouseDownHandle(e){this.workspace.markFocused(),this.cleanUp(),K(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition,this.startDragMouse=this.horizontal?e.clientX:e.clientY,this.onMouseUpWrapper_=z(document,"pointerup",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=z(document,"pointermove",this,this.onMouseMoveHandle),e.stopPropagation(),e.preventDefault())}onMouseMoveHandle(e){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?e.clientX:e.clientY)-this.startDragMouse))),this.updateMetrics()}onMouseUpHandle(){H(),this.cleanUp()}cleanUp(){this.workspace.hideChaff(!0),this.onMouseUpWrapper_&&(Y(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(Y(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}getRatio_(){let e=this.handlePosition/(this.scrollbarLength-this.handleLength);return isNaN(e)&&(e=0),e}updateMetrics(){const e=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:e}):this.workspace.setMetrics({y:e})}set(e,t){this.setHandlePosition(this.constrainHandlePosition(e*this.ratio)),(t||void 0===t)&&this.updateMetrics()}setOrigin(e,t){this.origin=new hl(e,t)}static metricsAreEquivalent(e,t){return e.viewWidth===t.viewWidth&&e.viewHeight===t.viewHeight&&e.viewLeft===t.viewLeft&&e.viewTop===t.viewTop&&e.absoluteTop===t.absoluteTop&&e.absoluteLeft===t.absoluteLeft&&e.scrollWidth===t.scrollWidth&&e.scrollHeight===t.scrollHeight&&e.scrollLeft===t.scrollLeft&&e.scrollTop===t.scrollTop}};Rl.scrollbarThickness=Va?25:15,Rl.DEFAULT_SCROLLBAR_MARGIN=.5;var Nl={parseFromString:function(){throw Error("DOMParser was not found in the global scope and was not properly injected using injectDependencies")}},Al={serializeToString:function(){throw Error("XMLSerializer was not foundin the global scope and was not properly injected using injectDependencies")}},{document:$l,DOMParser:Dl,XMLSerializer:Ml}=globalThis;Dl&&(Nl=new Dl),Ml&&(Al=new Ml);var Pl="https://developers.google.com/blockly/xml",Ll=/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,Bl={NAME_SPACE:Pl};Bl.createElement=Ms.createElement$$module$build$src$core$utils$xml,Bl.createTextNode=Ms.createTextNode$$module$build$src$core$utils$xml,Bl.domToText=De,Bl.injectDependencies=$e,Bl.textToDom=Ms.textToDom$$module$build$src$core$utils$xml;var Fl,jl="categoryToolbox",Ul="flyoutToolbox";!function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"}(Fl||(Fl={}));var Hl,Vl,Wl,Gl={hasCategoriesInternal:je},zl={};zl.Position=Fl,zl.TEST_ONLY=Gl,zl.convertFlyoutDefToJsonArray=Be,zl.convertToolboxDefToJson=Pe,zl.hasCategories=Fe,zl.isCategoryCollapsible=Ue,zl.parseToolboxTree=Ge,function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM"}(Hl||(Hl={})),function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(Vl||(Vl={})),function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"}(Wl||(Wl={}));var ql={};ql.bumpDirection=Wl,ql.bumpPositionRect=Ye,ql.getCornerOppositeToolbox=qe,ql.getStartPositionRect=ze,ql.horizontalPosition=Vl,ql.verticalPosition=Hl;var Yl=96,Xl=124,Kl="sprites.png",Jl=class{constructor(e){this.workspace=e,this.id="zoomControls",this.boundEvents=[],this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=null,this.HEIGHT=this.WIDTH=32,this.SMALL_SPACING=2,this.LARGE_SPACING=11,this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20,this.svgGroup=null,this.top=this.left=0,this.initialized=!1}createDom(){this.svgGroup=re(wl.G,{});const e=String(Math.random()).substring(2);return this.createZoomOutSvg(e),this.createZoomInSvg(e),this.workspace.isMovable()&&this.createZoomResetSvg(e),this.svgGroup}init(){this.workspace.getComponentManager().addComponent({component:this,weight:2,capabilities:[al.Capability.POSITIONABLE]}),this.initialized=!0}dispose(){this.workspace.getComponentManager().removeComponent("zoomControls"),this.svgGroup&&le(this.svgGroup);for(const e of this.boundEvents)Y(e);this.boundEvents.length=0}getBoundingRectangle(){let e=this.SMALL_SPACING+2*this.HEIGHT;return this.zoomResetGroup&&(e+=this.LARGE_SPACING+this.HEIGHT),new Tl(this.top,this.top+e,this.left,this.left+this.WIDTH)}position(e,t){if(this.initialized){var n,r=qe(this.workspace,e),o=this.SMALL_SPACING+2*this.HEIGHT;if(this.zoomResetGroup&&(o+=this.LARGE_SPACING+this.HEIGHT),e=ze(r,new kl(this.WIDTH,o),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,e,this.workspace),r=r.vertical,t=Ye(e,this.MARGIN_VERTICAL,r===Hl.TOP?Wl.DOWN:Wl.UP,t),r===Hl.TOP){var i,s=this.SMALL_SPACING+this.HEIGHT;null==(i=this.zoomInGroup)||i.setAttribute("transform","translate(0, "+s+")"),this.zoomResetGroup&&this.zoomResetGroup.setAttribute("transform","translate(0, "+(s+this.LARGE_SPACING+this.HEIGHT)+")")}else{let e;i=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0,null==(e=this.zoomInGroup)||e.setAttribute("transform","translate(0, "+i+")"),i=i+this.SMALL_SPACING+this.HEIGHT,null==(s=this.zoomOutGroup)||s.setAttribute("transform","translate(0, "+i+")")}this.top=t.top,this.left=t.left,null==(n=this.svgGroup)||n.setAttribute("transform","translate("+this.left+","+this.top+")")}}createZoomOutSvg(e){this.zoomOutGroup=re(wl.G,{class:"blocklyZoom blocklyZoomOut"},this.svgGroup);const t=re(wl.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup);re(wl.RECT,{width:32,height:32},t),re(wl.IMAGE,{width:Yl,height:Xl,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup).setAttributeNS(yl,"xlink:href",this.workspace.options.pathToMedia+Kl),this.boundEvents.push(z(this.zoomOutGroup,"pointerdown",null,this.zoom.bind(this,-1)))}createZoomInSvg(e){this.zoomInGroup=re(wl.G,{class:"blocklyZoom blocklyZoomIn"},this.svgGroup);const t=re(wl.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup);re(wl.RECT,{width:32,height:32},t),re(wl.IMAGE,{width:Yl,height:Xl,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup).setAttributeNS(yl,"xlink:href",this.workspace.options.pathToMedia+Kl),this.boundEvents.push(z(this.zoomInGroup,"pointerdown",null,this.zoom.bind(this,1)))}zoom(e,t){this.workspace.markFocused(),this.workspace.zoomCenter(e),this.fireZoomEvent(),H(),t.stopPropagation(),t.preventDefault()}createZoomResetSvg(e){this.zoomResetGroup=re(wl.G,{class:"blocklyZoom blocklyZoomReset"},this.svgGroup);const t=re(wl.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup);re(wl.RECT,{width:32,height:32},t),re(wl.IMAGE,{width:Yl,height:Xl,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup).setAttributeNS(yl,"xlink:href",this.workspace.options.pathToMedia+Kl),this.boundEvents.push(z(this.zoomResetGroup,"pointerdown",null,this.resetZoom.bind(this)))}resetZoom(e){this.workspace.markFocused();const t=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);this.workspace.beginCanvasTransition(),this.workspace.zoomCenter(t),this.workspace.scrollCenter(),setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500),this.fireZoomEvent(),H(),e.stopPropagation(),e.preventDefault()}fireZoomEvent(){const e=new(B(sa))(null,this.workspace.id,"zoom_controls");x(e)}};ee("\n.blocklyZoom>image, .blocklyZoom>svg>image {\n  opacity: .4;\n}\n\n.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {\n  opacity: .6;\n}\n\n.blocklyZoom>image:active, .blocklyZoom>svg>image:active {\n  opacity: .8;\n}\n");var Zl=class{constructor(e){this.name=e}toString(){return this.name}equals(e){return this.name===e.toString()}};Zl.MUTATOR=new Zl("mutator"),Zl.WARNING=new Zl("warning"),Zl.COMMENT=new Zl("comment"),function(e){e[e.VALUE=1]="VALUE",e[e.STATEMENT=3]="STATEMENT",e[e.DUMMY=5]="DUMMY",e[e.CUSTOM=6]="CUSTOM",e[e.END_ROW=7]="END_ROW"}(Ms.inputTypes$$module$build$src$core$inputs$input_types||(Ms.inputTypes$$module$build$src$core$inputs$input_types={})),Ms.inputTypes$$module$build$src$core$inputs$input_types;var Ql,ec,tc=function(e,t){window.alert(e),t&&t()},nc=function(e,t){t(window.confirm(e))},rc=function(e,t,n){n(window.prompt(e,t))},oc={confirmInternal:Ze},ic={TEST_ONLY:oc};ic.alert=Xe,ic.confirm=Je,ic.prompt=et,ic.setAlert=Ke,ic.setConfirm=Qe,ic.setPrompt=tt,Ms.Msg$$module$build$src$core$msg=Object.create(null),Ql=function(e){Object.keys(e).forEach((function(t){Ms.Msg$$module$build$src$core$msg[t]=e[t]}))},ec={Msg:Ms.Msg$$module$build$src$core$msg,setLocale:Ql};var sc={};sc.isLegacyProcedureCallBlock=ot,sc.isLegacyProcedureDefBlock=rt;var ac=class extends Ia{constructor(e){super(),this.isBlank=void 0===e,e&&(this.varId=e.getId(),this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");return e.varId=this.varId,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new ac)).varId=e.varId,t}},lc=class extends ac{constructor(e){super(e),this.type=ea,e&&(this.varType=e.type,this.varName=e.name)}toJson(){const e=super.toJson();if(void 0===this.varType)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new lc)).varType=e.varType,t.varName=e.varName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?t.createVariable(this.varName,this.varType,this.varId):t.deleteVariableById(this.varId)}};e(js.EVENT,ea,lc);var cc=class{constructor(e,t,n,r){this.workspace=e,this.name=t,this.type=n||"",this.id_=r||C()}getId(){return this.id_}static compareByName(e,t){return e.name.localeCompare(t.name,void 0,{sensitivity:"base"})}},uc="VARIABLE",hc="ijkmnopqrstuvwxyzabcdefgh",pc={generateUniqueNameInternal:lt},dc={CATEGORY_NAME:uc,TEST_ONLY:pc,VAR_LETTER_OPTIONS:hc};dc.allDeveloperVariables=Ms.allDeveloperVariables$$module$build$src$core$variables,dc.allUsedVarModels=Ms.allUsedVarModels$$module$build$src$core$variables,dc.createVariableButtonHandler=ut,dc.flyoutCategory=it,dc.flyoutCategoryBlocks=st,dc.generateUniqueName=at,dc.generateUniqueNameFromOptions=ct,dc.generateVariableFieldDom=yt,dc.getAddedVariables=bt,dc.getOrCreateVariablePackage=Ms.getOrCreateVariablePackage$$module$build$src$core$variables,dc.getVariable=Ms.getVariable$$module$build$src$core$variables,dc.nameUsedWithAnyType=dt,dc.nameUsedWithConflictingParam=ft,dc.promptName=ht,dc.renameVariable=Ms.renameVariable$$module$build$src$core$variables;var fc=class{constructor(e,t,n,r,o){this.workspace=e,this.editable=this.movable=this.deletable=!0,this.disposed_=!1,this.isComment=!0,this.id=o&&!e.getCommentById(o)?o:C(),e.addTopComment(this),this.xy_=new hl(0,0),this.height_=n,this.width_=r,this.RTL=e.RTL,this.content_=t,fc.fireCreateEvent(this)}dispose(){this.disposed_||(D()&&x(new(B(fa))(this)),this.workspace.removeTopComment(this),this.disposed_=!0)}getHeight(){return this.height_}setHeight(e){this.height_=e}getWidth(){return this.width_}setWidth(e){this.width_=e}getRelativeToSurfaceXY(){return new hl(this.xy_.x,this.xy_.y)}moveBy(e,t){const n=new(B(ma))(this);this.xy_.translate(e,t),n.recordNew(),x(n)}isDeletable(){return this.deletable&&!(this.workspace&&this.workspace.options.readOnly)}setDeletable(e){this.deletable=e}isMovable(){return this.movable&&!(this.workspace&&this.workspace.options.readOnly)}setMovable(e){this.movable=e}isEditable(){return this.editable&&!(this.workspace&&this.workspace.options.readOnly)}setEditable(e){this.editable=e}getContent(){return this.content_}setContent(e){this.content_!==e&&(x(new(B(ga))(this,this.content_,e)),this.content_=e)}toXmlWithXY(e){return(e=this.toXml(e)).setAttribute("x",String(Math.round(this.xy_.x))),e.setAttribute("y",String(Math.round(this.xy_.y))),e.setAttribute("h",String(this.height_)),e.setAttribute("w",String(this.width_)),e}toXml(e){const t=Ms.createElement$$module$build$src$core$utils$xml("comment");return e||(t.id=this.id),t.textContent=this.getContent(),t}static fireCreateEvent(e){if(D()){const t=Ms.getGroup$$module$build$src$core$events$utils();t||Ms.setGroup$$module$build$src$core$events$utils(!0);try{x(new(B(da))(e))}finally{Ms.setGroup$$module$build$src$core$events$utils(t)}}}static fromXml(e,t){var n=fc.parseAttributes(e);return t=new fc(t,n.content,n.h,n.w,n.id),n=e.getAttribute("x"),e=e.getAttribute("y"),n=n?parseInt(n,10):NaN,e=e?parseInt(e,10):NaN,isNaN(n)||isNaN(e)||t.moveBy(n,e),fc.fireCreateEvent(t),t}static parseAttributes(e){const t=e.getAttribute("h"),n=e.getAttribute("w"),r=e.getAttribute("x"),o=e.getAttribute("y"),i=e.getAttribute("id");if(!i)throw Error("No ID present in XML comment definition.");let s;return{id:i,h:t?parseInt(t):100,w:n?parseInt(n):100,x:r?parseInt(r):NaN,y:o?parseInt(o):NaN,content:null!=(s=e.textContent)?s:""}}},gc=class extends xa{constructor(e,t,n){super(n),this.type=ia,this.oldElementId=null!=e?e:void 0,this.newElementId=null!=t?t:void 0}toJson(){const e=super.toJson();return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new gc)).oldElementId=e.oldElementId,t.newElementId=e.newElementId,t}};e(js.EVENT,ia,gc);var mc={};mc.register=_t,mc.unregister=Et;var yc=class{paste(e,t,n){const r=e.commentState;if(n)r.setAttribute("x",`${n.x}`),r.setAttribute("y",`${n.y}`);else{var o;let e;n=parseInt(null!=(o=r.getAttribute("x"))?o:"0")+50,o=parseInt(null!=(e=r.getAttribute("y"))?e:"0")+50,r.setAttribute("x",`${n}`),r.setAttribute("y",`${o}`)}return vc.fromXmlRendered(e.commentState,t)}};yc.TYPE="workspace-comment",_t(yc.TYPE,new yc);var vc=class extends fc{constructor(e,t,n,r,o){super(e,t,n,r,o),this.onMouseMoveWrapper=this.onMouseUpWrapper=null,this.eventsInit=!1,this.deleteIconBorder=this.deleteGroup=this.resizeGroup=this.foreignObject=this.svgHandleTarget=this.svgRectTarget=this.textarea=null,this.rendered=this.autoLayout=this.focused=!1,this.svgGroup=re(wl.G,{class:"blocklyComment"}),this.workspace=e,this.svgRect_=re(wl.RECT,{class:"blocklyCommentRect",x:0,y:0,rx:3,ry:3}),this.svgGroup.appendChild(this.svgRect_),this.render()}dispose(){this.disposed_||(m()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),D()&&x(new(B(fa))(this)),le(this.svgGroup),Ms.disable$$module$build$src$core$events$utils(),super.dispose(),Ms.enable$$module$build$src$core$events$utils())}initSvg(e){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");this.workspace.options.readOnly||this.eventsInit||(z(this.svgRectTarget,"pointerdown",this,this.pathMouseDown),z(this.svgHandleTarget,"pointerdown",this,this.pathMouseDown)),this.eventsInit=!0,this.updateMovable(),this.getSvgRoot().parentNode||this.workspace.getBubbleCanvas().appendChild(this.getSvgRoot()),!e&&this.textarea&&this.textarea.select()}pathMouseDown(e){const t=this.workspace.getGesture(e);t&&t.handleBubbleStart(e,this)}showContextMenu(e){throw Error("The implementation of showContextMenu should be monkey-patched in by blockly.ts")}select(){if(m()!==this){var e=null;if(m()){e=m().id,Ms.disable$$module$build$src$core$events$utils();try{m().unselect()}finally{Ms.enable$$module$build$src$core$events$utils()}}e=new(B(ia))(e,this.id,this.workspace.id),x(e),y(this),this.addSelect()}}unselect(){if(m()===this){var e=new(B(ia))(this.id,null,this.workspace.id);x(e),y(null),this.removeSelect(),this.blurFocus()}}addSelect(){oe(this.svgGroup,"blocklySelected"),this.setFocus()}removeSelect(){oe(this.svgGroup,"blocklySelected"),this.blurFocus()}addFocus(){oe(this.svgGroup,"blocklyFocused")}removeFocus(){se(this.svgGroup,"blocklyFocused")}getRelativeToSurfaceXY(){const e=this.workspace.getLayerManager();if(!e)throw Error("Cannot calculate position because the workspace has not been appended");let t=0,n=0,r=this.getSvgRoot();if(r)do{const e=Oe(r);t+=e.x,n+=e.y,r=r.parentNode}while(r&&!e.hasLayer(r)&&null!==r);return this.xy_=new hl(t,n)}moveBy(e,t){const n=new(B(ma))(this),r=this.getRelativeToSurfaceXY();this.translate(r.x+e,r.y+t),this.xy_=new hl(r.x+e,r.y+t),n.recordNew(),x(n),this.workspace.resizeContents()}translate(e,t){this.xy_=new hl(e,t),this.getSvgRoot().setAttribute("transform","translate("+e+","+t+")")}moveDuringDrag(e){e=`translate(${e.x}, ${e.y})`,this.getSvgRoot().setAttribute("transform",e)}moveTo(e,t){this.translate(e,t)}clearTransformAttributes(){this.getSvgRoot().removeAttribute("transform")}getBoundingRectangle(){var e=this.getRelativeToSurfaceXY();const t=this.getHeightWidth(),n=e.y,r=e.y+t.height;let o;return this.RTL?(o=e.x-t.width,e=e.x):(o=e.x,e=e.x+t.width),new Tl(n,r,o,e)}updateMovable(){this.isMovable()?oe(this.svgGroup,"blocklyDraggable"):se(this.svgGroup,"blocklyDraggable")}setMovable(e){super.setMovable(e),this.updateMovable()}setEditable(e){super.setEditable(e),this.textarea&&(this.textarea.readOnly=!e)}setDragging(e){e?oe(this.getSvgRoot(),"blocklyDragging"):se(this.getSvgRoot(),"blocklyDragging")}getSvgRoot(){return this.svgGroup}getContent(){return this.textarea?this.textarea.value:this.content_}setContent(e){super.setContent(e),this.textarea&&(this.textarea.value=e)}setDeleteStyle(e){e?oe(this.svgGroup,"blocklyDraggingDelete"):se(this.svgGroup,"blocklyDraggingDelete")}setAutoLayout(e){}toXmlWithXY(e){let t=0;this.workspace.RTL&&(t=this.workspace.getWidth()),e=this.toXml(e);const n=this.getRelativeToSurfaceXY();return e.setAttribute("x",String(Math.round(this.workspace.RTL?t-n.x:n.x))),e.setAttribute("y",String(Math.round(n.y))),e.setAttribute("h",String(this.getHeight())),e.setAttribute("w",String(this.getWidth())),e}toCopyData(){return{paster:yc.TYPE,commentState:this.toXmlWithXY()}}getHeightWidth(){return{width:this.getWidth(),height:this.getHeight()}}render(){if(!this.rendered){var e=this.getHeightWidth(),t=this.createEditor();this.svgGroup.appendChild(t),this.svgHandleTarget=re(wl.RECT,{class:"blocklyCommentHandleTarget",x:0,y:0}),this.svgGroup.appendChild(this.svgHandleTarget),this.svgRectTarget=re(wl.RECT,{class:"blocklyCommentTarget",x:0,y:0,rx:3,ry:3}),this.svgGroup.appendChild(this.svgRectTarget),this.addResizeDom(),this.isDeletable()&&this.addDeleteDom(),this.setSize(e.width,e.height),this.textarea.value=this.content_,this.rendered=!0,this.resizeGroup&&z(this.resizeGroup,"pointerdown",this,this.resizeMouseDown),this.isDeletable()&&(z(this.deleteGroup,"pointerdown",this,this.deleteMouseDown),z(this.deleteGroup,"pointerout",this,this.deleteMouseOut),z(this.deleteGroup,"pointerup",this,this.deleteMouseUp))}}createEditor(){this.foreignObject=re(wl.FOREIGNOBJECT,{x:0,y:vc.TOP_OFFSET,class:"blocklyCommentForeignObject"});const e=document.createElementNS(ml,"body");e.setAttribute("xmlns",ml),e.className="blocklyMinimalBody";const t=document.createElementNS(ml,"textarea");return t.className="blocklyCommentTextarea",t.setAttribute("dir",this.RTL?"RTL":"LTR"),t.readOnly=!this.isEditable(),e.appendChild(t),this.textarea=t,this.foreignObject.appendChild(e),z(t,"wheel",this,(function(e){e.stopPropagation()})),z(t,"change",this,(function(e){this.setContent(t.value)})),this.foreignObject}addResizeDom(){this.resizeGroup=re(wl.G,{class:this.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.svgGroup),re(wl.POLYGON,{points:"0,8 8,8 8,0"},this.resizeGroup),re(wl.LINE,{class:"blocklyResizeLine",x1:8/3,y1:7,x2:7,y2:8/3},this.resizeGroup),re(wl.LINE,{class:"blocklyResizeLine",x1:16/3,y1:7,x2:7,y2:16/3},this.resizeGroup)}addDeleteDom(){this.deleteGroup=re(wl.G,{class:"blocklyCommentDeleteIcon"},this.svgGroup),this.deleteIconBorder=re(wl.CIRCLE,{class:"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.deleteGroup),re(wl.LINE,{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.deleteGroup),re(wl.LINE,{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},this.deleteGroup)}resizeMouseDown(e){this.unbindDragEvents(),K(e)||(this.workspace.startDrag(e,new hl(this.workspace.RTL?-this.width_:this.width_,this.height_)),this.onMouseUpWrapper=z(document,"pointerup",this,this.resizeMouseUp),this.onMouseMoveWrapper=z(document,"pointermove",this,this.resizeMouseMove),this.workspace.hideChaff()),e.stopPropagation()}deleteMouseDown(e){this.deleteIconBorder&&oe(this.deleteIconBorder,"blocklyDeleteIconHighlighted"),e.stopPropagation()}deleteMouseOut(e){this.deleteIconBorder&&se(this.deleteIconBorder,"blocklyDeleteIconHighlighted")}deleteMouseUp(e){this.dispose(),e.stopPropagation()}unbindDragEvents(){this.onMouseUpWrapper&&(Y(this.onMouseUpWrapper),this.onMouseUpWrapper=null),this.onMouseMoveWrapper&&(Y(this.onMouseMoveWrapper),this.onMouseMoveWrapper=null)}resizeMouseUp(e){H(),this.unbindDragEvents()}resizeMouseMove(e){this.autoLayout=!1,e=this.workspace.moveDrag(e),this.setSize(this.RTL?-e.x:e.x,e.y)}resizeComment(){const e=this.getHeightWidth(),t=vc.TOP_OFFSET;let n,r;if(null==(n=this.foreignObject)||n.setAttribute("width",String(e.width)),null==(r=this.foreignObject)||r.setAttribute("height",String(e.height-t)),this.RTL){let t;null==(t=this.foreignObject)||t.setAttribute("x",String(-e.width))}this.textarea&&(this.textarea.style.width=e.width-4+"px",this.textarea.style.height=e.height-4-t+"px")}setSize(e,t){let n,r,o,i;if(e=Math.max(e,45),t=Math.max(t,20+vc.TOP_OFFSET),this.width_=e,this.height_=t,this.svgRect_.setAttribute("width",`${e}`),this.svgRect_.setAttribute("height",`${t}`),null==(n=this.svgRectTarget)||n.setAttribute("width",`${e}`),null==(r=this.svgRectTarget)||r.setAttribute("height",`${t}`),null==(o=this.svgHandleTarget)||o.setAttribute("width",`${e}`),null==(i=this.svgHandleTarget)||i.setAttribute("height",String(vc.TOP_OFFSET)),this.RTL){let e;this.svgRect_.setAttribute("transform","scale(-1 1)"),null==(e=this.svgRectTarget)||e.setAttribute("transform","scale(-1 1)")}if(this.resizeGroup)if(this.RTL){let n;this.resizeGroup.setAttribute("transform","translate("+(8-e)+","+(t-8)+") scale(-1 1)"),null==(n=this.deleteGroup)||n.setAttribute("transform","translate("+(8-e)+","+"-8) scale(-1 1)")}else{let n;this.resizeGroup.setAttribute("transform","translate("+(e-8)+","+(t-8)+")"),null==(n=this.deleteGroup)||n.setAttribute("transform","translate("+(e-8)+","+"-8)")}this.resizeComment()}setFocus(){this.focused=!0,setTimeout((()=>{this.disposed_||(this.textarea.focus(),this.addFocus(),this.svgRectTarget&&oe(this.svgRectTarget,"blocklyCommentTargetFocused"),this.svgHandleTarget&&oe(this.svgHandleTarget,"blocklyCommentHandleTargetFocused"))}),0)}blurFocus(){this.focused=!1,setTimeout((()=>{this.disposed_||(this.textarea.blur(),this.removeFocus(),this.svgRectTarget&&se(this.svgRectTarget,"blocklyCommentTargetFocused"),this.svgHandleTarget&&se(this.svgHandleTarget,"blocklyCommentHandleTargetFocused"))}),0)}static fromXmlRendered(e,t,n){let r;Ms.disable$$module$build$src$core$events$utils();try{const o=fc.parseAttributes(e);if(r=new vc(t,o.content,o.h,o.w,o.id),t.rendered&&(r.initSvg(!0),r.render()),!isNaN(o.x)&&!isNaN(o.y))if(t.RTL){const e=n||t.getWidth();r.moveBy(e-o.x,o.y)}else r.moveBy(o.x,o.y)}finally{Ms.enable$$module$build$src$core$events$utils()}return fc.fireCreateEvent(r),r}};vc.DEFAULT_SIZE=100,vc.TOP_OFFSET=10,ee("\n.blocklyCommentForeignObject {\n  position: relative;\n  z-index: 0;\n}\n\n.blocklyCommentRect {\n  fill: #E7DE8E;\n  stroke: #bcA903;\n  stroke-width: 1px;\n}\n\n.blocklyCommentTarget {\n  fill: transparent;\n  stroke: #bcA903;\n}\n\n.blocklyCommentTargetFocused {\n  fill: none;\n}\n\n.blocklyCommentHandleTarget {\n  fill: none;\n}\n\n.blocklyCommentHandleTargetFocused {\n  fill: transparent;\n}\n\n.blocklyFocused>.blocklyCommentRect {\n  fill: #B9B272;\n  stroke: #B9B272;\n}\n\n.blocklySelected>.blocklyCommentTarget {\n  stroke: #fc3;\n  stroke-width: 3px;\n}\n\n.blocklyCommentDeleteIcon {\n  cursor: pointer;\n  fill: #000;\n  display: none;\n}\n\n.blocklySelected > .blocklyCommentDeleteIcon {\n  display: block;\n}\n\n.blocklyDeleteIconShape {\n  fill: #000;\n  stroke: #000;\n  stroke-width: 1px;\n}\n\n.blocklyDeleteIconShape.blocklyDeleteIconHighlighted {\n  stroke: #fc3;\n}\n");var bc=new Set,_c=new WeakSet,Ec=null,wc=null,Tc=0,kc={};kc.finishQueuedRenders=Tt,kc.queueRender=wt,kc.triggerQueuedRenders=kt;var Sc={};Sc.appendDomToWorkspace=Ut,Sc.blockToDom=Pt,Sc.blockToDomWithXY=$t,Sc.clearWorkspaceAndLoadFromXml=jt,Sc.deleteNext=en,Sc.domToBlock=Ms.domToBlock$$module$build$src$core$xml,Sc.domToBlockInternal=Ht,Sc.domToPrettyText=Ft,Sc.domToText=Bt,Sc.domToVariables=Vt,Sc.domToWorkspace=Ms.domToWorkspace$$module$build$src$core$xml,Sc.variablesToDom=At,Sc.workspaceToDom=Nt;var Cc=class extends Error{},Oc=class extends Cc{constructor(e){super("Expected to find a 'type' property, defining the block type"),this.state=e}},Ic=class extends Cc{constructor(e,t,n){super(`The block ${t.toDevString()} is missing a(n) ${e}\nconnection`),this.block=t,this.state=n}},xc=class extends Cc{constructor(e,t,n,r){super(`The block ${n.toDevString()} could not connect its\n${t} to its parent, because: ${e}`),this.childBlock=n,this.childState=r}},Rc=class extends Cc{constructor(e){super("Encountered a real block which is defined as a child of a shadow\nblock. It is an invariant of Blockly that shadow blocks only have shadow\nchildren"),this.state=e}},Nc=class extends Cc{constructor(e,t,n){super(`Cannot add an icon of type '${e}' to the block ${t.toDevString()}, because there is no icon registered with type '${e}'. Make sure that all of your icons have been registered.`),this.block=t,this.state=n}},Ac={};Ac.BadConnectionCheck=xc,Ac.DeserializationError=Cc,Ac.MissingBlockType=Oc,Ac.MissingConnection=Ic,Ac.RealChildOfShadow=Rc,Ac.UnregisteredIcon=Nc;var $c={BLOCKS:50,PROCEDURES:75,VARIABLES:100},Dc={};Dc.register=rn,Dc.unregister=on;var Mc=class{constructor(){this.priority=50}save(e){const t=[];for(const n of e.getTopBlocks(!1))(e=sn(n,{addCoordinates:!0,doFullSerialization:!1}))&&t.push(e);return t.length?{languageVersion:0,blocks:t}:null}load(e,t){e=e.blocks;for(const n of e)gn(n,t,{recordUndo:I()})}clear(e){for(const t of e.getTopBlocks(!1))t.dispose(!1)}};rn("blocks",new Mc);var Pc={};Pc.BlockSerializer=Mc,Pc.append=gn,Pc.appendInternal=mn,Pc.save=sn;var Lc=class extends Ia{constructor(e){super(),this.isBlank=!e,e&&(this.blockId=e.id,this.workspaceId=e.workspace.id)}toJson(){const e=super.toJson();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.blockId=this.blockId,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Lc)).blockId=e.blockId,t}},Bc=class extends Lc{constructor(e){super(e),this.type=Ms.CREATE$$module$build$src$core$events$utils,e&&(e.isShadow()&&(this.recordUndo=!1),this.xml=$t(e),this.ids=P(e),this.json=sn(e,{addCoordinates:!0}))}toJson(){const e=super.toJson();if(!this.xml)throw Error("The block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=Bt(this.xml),e.ids=this.ids,e.json=this.json,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Bc)).xml=Ms.textToDom$$module$build$src$core$utils$xml(e.xml),t.ids=e.ids,t.json=e.json,void 0!==e.recordUndo&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!Fc(t,this.ids))if(e)gn(this.json,t);else for(e=0;e<this.ids.length;e++){const n=this.ids[e],r=t.getBlockById(n);r?r.dispose(!1):n===this.blockId&&console.warn("Can't uncreate non-existent block: "+n)}}},Fc=function(e,t){return t.map((t=>e.getBlockById(t))).filter((e=>e&&e.isShadow())).length===t.length};e(js.EVENT,Ms.CREATE$$module$build$src$core$events$utils,Bc);var jc=class extends xa{constructor(e,t){super(t),this.type=ha,this.themeName=e}toJson(){const e=super.toJson();if(!this.themeName)throw Error("The theme name is undefined. Either pass a theme name to the constructor, or call fromJson");return e.themeName=this.themeName,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new jc)).themeName=e.themeName,t}};e(js.EVENT,ha,jc);var Uc,Hc=class extends xa{constructor(e,t,n,r,o){super(r),this.type=pa,this.viewTop=e,this.viewLeft=t,this.scale=n,this.oldScale=o}toJson(){const e=super.toJson();if(void 0===this.viewTop)throw Error("The view top is undefined. Either pass a value to the constructor, or call fromJson");if(void 0===this.viewLeft)throw Error("The view left is undefined. Either pass a value to the constructor, or call fromJson");if(void 0===this.scale)throw Error("The scale is undefined. Either pass a value to the constructor, or call fromJson");if(void 0===this.oldScale)throw Error("The old scale is undefined. Either pass a value to the constructor, or call fromJson");return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Hc)).viewTop=e.viewTop,t.viewLeft=e.viewLeft,t.scale=e.scale,t.oldScale=e.oldScale,t}};e(js.EVENT,pa,Hc),Ms.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:28,connectingSnapRadius:28,currentConnectionPreference:8,bumpDelay:250},Ms.config$$module$build$src$core$config,function(e){e[e.INPUT_VALUE=1]="INPUT_VALUE",e[e.OUTPUT_VALUE=2]="OUTPUT_VALUE",e[e.NEXT_STATEMENT=3]="NEXT_STATEMENT",e[e.PREVIOUS_STATEMENT=4]="PREVIOUS_STATEMENT"}(Uc||(Uc={}));var Vc=class{constructor(e){this.connectionChecker=e,this.connections=[]}addConnection(e,t){t=this.calculateIndexForYPos(t),this.connections.splice(t,0,e)}findIndexOfConnection(e,t){if(!this.connections.length)return-1;const n=this.calculateIndexForYPos(t);if(n>=this.connections.length)return-1;t=e.y;let r=n;for(;0<=r&&this.connections[r].y===t;){if(this.connections[r]===e)return r;r--}for(r=n;r<this.connections.length&&this.connections[r].y===t;){if(this.connections[r]===e)return r;r++}return-1}calculateIndexForYPos(e){if(!this.connections.length)return 0;let t=0,n=this.connections.length;for(;t<n;){const r=Math.floor((t+n)/2);if(this.connections[r].y<e)t=r+1;else{if(!(this.connections[r].y>e)){t=r;break}n=r}}return t}removeConnection(e,t){if(-1===(e=this.findIndexOfConnection(e,t)))throw Error("Unable to find connection in connectionDB.");this.connections.splice(e,1)}getNeighbours(e,t){function n(e){const n=o-r[e].x,s=i-r[e].y;return Math.sqrt(n*n+s*s)<=t&&l.push(r[e]),s<t}const r=this.connections,o=e.x,i=e.y;e=0;let s=r.length-2,a=s;for(;e<a;)r[a].y<i?e=a:s=a,a=Math.floor((e+s)/2);const l=[];if(s=e=a,r.length){for(;0<=e&&n(e);)e--;do{s++}while(s<r.length&&n(s))}return l}isInYRange(e,t,n){return Math.abs(this.connections[e].y-t)<=n}searchForClosest(e,t,n){if(!this.connections.length)return{connection:null,radius:t};const r=e.y,o=e.x;e.x=o+n.x,e.y=r+n.y;var i=this.calculateIndexForYPos(e.y);n=null;let s,a=t,l=i-1;for(;0<=l&&this.isInYRange(l,e.y,t);)s=this.connections[l],this.connectionChecker.canConnect(e,s,!0,a)&&(n=s,a=s.distanceFrom(e)),l--;for(;i<this.connections.length&&this.isInYRange(i,e.y,t);)s=this.connections[i],this.connectionChecker.canConnect(e,s,!0,a)&&(n=s,a=s.distanceFrom(e)),i++;return e.x=o,e.y=r,{connection:n,radius:a}}static init(e){const t=[];return t[Uc.INPUT_VALUE]=new Vc(e),t[Uc.OUTPUT_VALUE]=new Vc(e),t[Uc.NEXT_STATEMENT]=new Vc(e),t[Uc.PREVIOUS_STATEMENT]=new Vc(e),t}},Wc=class{paste(e,t,n){if(!t.isCapacityAvailable(e.typeCounts))return null;let r;n&&(e.blockState.x=n.x,e.blockState.y=n.y),Ms.disable$$module$build$src$core$events$utils();try{r=gn(e.blockState,t),In(r)}finally{Ms.enable$$module$build$src$core$events$utils()}return r?(D()&&!r.isShadow()&&x(new(B(Ms.CREATE$$module$build$src$core$events$utils))(r)),r.select(),r):r}};Wc.TYPE="block",_t(Wc.TYPE,new Wc);var Gc={};Gc.BlockPaster=Wc,Gc.moveBlockToNotConflict=In;var zc=null,qc=null,Yc={duplicateInternal:Pn,copyInternal:An},Xc={};Xc.BlockPaster=Wc,Xc.TEST_ONLY=Yc,Xc.copy=Nn,Xc.duplicate=Mn,Xc.paste=$n,Xc.registry=mc;var Kc,Jc,Zc="aria-",Qc="role";(function(e){e.GRID="grid",e.GRIDCELL="gridcell",e.GROUP="group",e.LISTBOX="listbox",e.MENU="menu",e.MENUITEM="menuitem",e.MENUITEMCHECKBOX="menuitemcheckbox",e.OPTION="option",e.PRESENTATION="presentation",e.ROW="row",e.TREE="tree",e.TREEITEM="treeitem"})(Kc||(Kc={})),function(e){e.ACTIVEDESCENDANT="activedescendant",e.COLCOUNT="colcount",e.DISABLED="disabled",e.EXPANDED="expanded",e.INVALID="invalid",e.LABEL="label",e.LABELLEDBY="labelledby",e.LEVEL="level",e.ORIENTATION="orientation",e.POSINSET="posinset",e.ROWCOUNT="rowcount",e.SELECTED="selected",e.SETSIZE="setsize",e.VALUEMAX="valuemax",e.VALUEMIN="valuemin"}(Jc||(Jc={}));var eu={};eu.Role=Kc,eu.State=Jc,eu.setRole=Ln,eu.setState=Bn;var tu,nu=class{constructor(){this.menuItems=[],this.roleName=this.element=this.onKeyDownHandler=this.mouseLeaveHandler=this.mouseEnterHandler=this.clickHandler=this.mouseOverHandler=this.highlightedItem=this.openingCoords=null}addChild(e){this.menuItems.push(e)}render(e){const t=document.createElement("div");t.className="blocklyMenu goog-menu blocklyNonSelectable",t.tabIndex=0,this.roleName&&Ln(t,this.roleName),this.element=t;for(let e,n=0;e=this.menuItems[n];n++)t.appendChild(e.createDom());return this.mouseOverHandler=z(t,"pointerover",this,this.handleMouseOver,!0),this.clickHandler=z(t,"pointerup",this,this.handleClick,!0),this.mouseEnterHandler=z(t,"pointerenter",this,this.handleMouseEnter,!0),this.mouseLeaveHandler=z(t,"pointerleave",this,this.handleMouseLeave,!0),this.onKeyDownHandler=z(t,"keydown",this,this.handleKeyEvent),e.appendChild(t),t}getElement(){return this.element}focus(){const e=this.getElement();e&&(e.focus({preventScroll:!0}),oe(e,"blocklyFocused"))}blur(){const e=this.getElement();e&&(e.blur(),se(e,"blocklyFocused"))}setRole(e){this.roleName=e}dispose(){this.mouseOverHandler&&(Y(this.mouseOverHandler),this.mouseOverHandler=null),this.clickHandler&&(Y(this.clickHandler),this.clickHandler=null),this.mouseEnterHandler&&(Y(this.mouseEnterHandler),this.mouseEnterHandler=null),this.mouseLeaveHandler&&(Y(this.mouseLeaveHandler),this.mouseLeaveHandler=null),this.onKeyDownHandler&&(Y(this.onKeyDownHandler),this.onKeyDownHandler=null);for(let e,t=0;e=this.menuItems[t];t++)e.dispose();this.element=null}getMenuItem(e){const t=this.getElement();for(;e&&e!==t;){if(e.classList.contains("blocklyMenuItem"))for(let t,n=0;t=this.menuItems[n];n++)if(t.getElement()===e)return t;e=e.parentElement}return null}setHighlighted(e){var t=this.highlightedItem;t&&(t.setHighlighted(!1),this.highlightedItem=null),e&&(e.setHighlighted(!0),this.highlightedItem=e,t=this.getElement(),Se(e.getElement(),t),Bn(t,Jc.ACTIVEDESCENDANT,e.getId()))}highlightNext(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e,1)}highlightPrevious(){const e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(0>e?this.menuItems.length:e,-1)}highlightFirst(){this.highlightHelper(-1,1)}highlightLast(){this.highlightHelper(this.menuItems.length,-1)}highlightHelper(e,t){let n;for(e+=t;n=this.menuItems[e];){if(n.isEnabled()){this.setHighlighted(n);break}e+=t}}handleMouseOver(e){(e=this.getMenuItem(e.target))&&(e.isEnabled()?this.highlightedItem!==e&&this.setHighlighted(e):this.setHighlighted(null))}handleClick(e){const t=this.openingCoords;if(this.openingCoords=null,t&&"number"==typeof e.clientX){const n=new hl(e.clientX,e.clientY);if(1>hl.distance(t,n))return}(e=this.getMenuItem(e.target))&&e.performAction()}handleMouseEnter(e){this.focus()}handleMouseLeave(e){this.getElement()&&(this.blur(),this.setHighlighted(null))}handleKeyEvent(e){if(this.menuItems.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var t=this.highlightedItem;switch(e.key){case"Enter":case" ":t&&t.performAction();break;case"ArrowUp":this.highlightPrevious();break;case"ArrowDown":this.highlightNext();break;case"PageUp":case"Home":this.highlightFirst();break;case"PageDown":case"End":this.highlightLast();break;default:return}e.preventDefault(),e.stopPropagation()}}getSize(){const e=this.getElement(),t=ve(e);return t.height=e.scrollHeight,t}},ru=class{constructor(e,t){this.content=e,this.opt_value=t,this.enabled=!0,this.element=null,this.rightToLeft=!1,this.roleName=null,this.highlight=this.checked=this.checkable=!1,this.actionHandler=null}createDom(){const e=document.createElement("div");e.id=S(),this.element=e,e.className="blocklyMenuItem goog-menuitem "+(this.enabled?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft?"blocklyMenuItemRtl goog-menuitem-rtl ":"");const t=document.createElement("div");if(t.className="blocklyMenuItemContent goog-menuitem-content",this.checkable){var n=document.createElement("div");n.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",t.appendChild(n)}return n=this.content,"string"==typeof this.content&&(n=document.createTextNode(this.content)),t.appendChild(n),e.appendChild(t),this.roleName&&Ln(e,this.roleName),Bn(e,Jc.SELECTED,this.checkable&&this.checked||!1),Bn(e,Jc.DISABLED,!this.enabled),e}dispose(){this.element=null}getElement(){return this.element}getId(){return this.element.id}getValue(){let e;return null!=(e=this.opt_value)?e:null}setRightToLeft(e){this.rightToLeft=e}setRole(e){this.roleName=e}setCheckable(e){this.checkable=e}setChecked(e){this.checked=e}setHighlighted(e){this.highlight=e;const t=this.getElement();t&&this.isEnabled()&&(e?(oe(t,"blocklyMenuItemHighlight"),oe(t,"goog-menuitem-highlight")):(se(t,"blocklyMenuItemHighlight"),se(t,"goog-menuitem-highlight")))}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}performAction(){this.isEnabled()&&this.actionHandler&&this.actionHandler(this)}onAction(e,t){this.actionHandler=e.bind(t)}},ou=null,iu=null,su="blocklyWidgetDiv",au="",lu="",cu={};cu.createDom=Un,cu.getDiv=Fn,cu.hide=Vn,cu.hideIfOwner=Gn,cu.isVisible=Wn,cu.positionWithAnchor=qn,cu.repositionForWindowResize=Jn,cu.show=Hn,cu.testOnly_setDiv=jn;var uu=null,hu={},pu=null,du={};du.callbackFactory=Ms.callbackFactory$$module$build$src$core$contextmenu,du.commentDeleteOption=ar,du.commentDuplicateOption=lr,du.dispose=sr,du.getCurrentBlock=Zn,du.hide=ir,du.setCurrentBlock=Qn,du.show=er,du.workspaceCommentOption=cr;var fu=class{constructor(){this.registry_=new Map,this.reset()}reset(){this.registry_.clear()}register(e){if(this.registry_.has(e.id))throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registry_.set(e.id,e)}unregister(e){if(!this.registry_.has(e))throw Error('Menu item with ID "'+e+'" not found.');this.registry_.delete(e)}getItem(e){let t;return null!=(t=this.registry_.get(e))?t:null}getContextMenuOptions(e,t){const n=[];for(const o of this.registry_.values())if(e===o.scopeType){var r=o.preconditionFn(t);"hidden"!==r&&(r={text:"function"==typeof o.displayText?o.displayText(t):o.displayText,enabled:"enabled"===r,callback:o.callback,scope:t,weight:o.weight},n.push(r))}return n.sort((function(e,t){return e.weight-t.weight})),n}};!function(e){var t=e.ScopeType||(e.ScopeType={});t.BLOCK="block",t.WORKSPACE="workspace",e.registry=new e}(fu||(fu={}));var gu=fu.ScopeType,mu={};mu.ContextMenuRegistry=fu,mu.ScopeType=gu;var yu={};yu.clamp=pr,yu.toDegrees=hr,yu.toRadians=ur;var vu,bu,_u,Eu=16,wu=1,Tu=12,ku=16,Su=.25,Cu=null,Ou=null,Iu="",xu="",Ru=null,Nu=null,Au=null,$u={getBoundsInfo:function(){const e=we(Ru),t=ve(Ru);return{left:e.x,right:e.x+t.width,top:e.y,bottom:e.y+t.height,width:t.width,height:t.height}},getPositionMetrics:function(e,t,n,r){const o=$u.getBoundsInfo(),i=ve(vu);return t+i.height<o.bottom?Sr(e,t,o,i):r-i.height>o.top?Cr(n,r,o,i):t+i.height<document.documentElement.clientHeight?Sr(e,t,o,i):r-i.height>document.documentElement.clientTop?Cr(n,r,o,i):Or(e,o,i)}},Du={ANIMATION_TIME:Su,ARROW_HORIZONTAL_PADDING:Tu,ARROW_SIZE:Eu,BORDER_SIZE:wu,PADDING_Y:ku,TEST_ONLY:$u};Du.clearContent=yr,Du.createDom=dr,Du.getContentDiv=mr,Du.getOwner=gr,Du.getPositionX=Ir,Du.hide=Nr,Du.hideIfOwner=Rr,Du.hideWithoutAnimation=Ar,Du.isVisible=xr,Du.repositionForWindowResize=Dr,Du.setBoundsElement=fr,Du.setColour=vr,Du.show=kr,Du.showPositionedByBlock=br,Du.showPositionedByField=_r;var Mu=null,Pu=null,Lu={};Lu.connectionUiEffect=Lr,Lu.disconnectUiEffect=Br,Lu.disconnectUiStop=jr,Lu.disposeUiEffect=Mr;var Bu=class{constructor(e,t){this.bubble=e,this.workspace=t,this.dragTarget_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.bubble.getRelativeToSurfaceXY()}startBubbleDrag(){let e;Ms.getGroup$$module$build$src$core$events$utils()||Ms.setGroup$$module$build$src$core$events$utils(!0),this.workspace.setResizesEnabled(!1),this.bubble.setAutoLayout&&this.bubble.setAutoLayout(!1),null==(e=this.workspace.getLayerManager())||e.moveToDragLayer(this.bubble),this.bubble.setDragging&&this.bubble.setDragging(!0)}dragBubble(e,t){t=this.pixelsToWorkspaceUnits_(t),t=hl.sum(this.startXY_,t),this.bubble.moveDuringDrag(t),t=this.dragTarget_,this.dragTarget_=this.workspace.getDragTarget(e),e=this.wouldDeleteBubble_,this.wouldDeleteBubble_=this.shouldDelete_(this.dragTarget_),e!==this.wouldDeleteBubble_&&this.updateCursorDuringBubbleDrag_(),this.dragTarget_!==t&&(t&&t.onDragExit(this.bubble),this.dragTarget_&&this.dragTarget_.onDragEnter(this.bubble)),this.dragTarget_&&this.dragTarget_.onDragOver(this.bubble)}shouldDelete_(e){return!(!e||!this.workspace.getComponentManager().hasCapability(e.id,al.Capability.DELETE_AREA))&&e.wouldDelete(this.bubble,!1)}updateCursorDuringBubbleDrag_(){this.bubble.setDeleteStyle(this.wouldDeleteBubble_)}endBubbleDrag(e,t){if(this.dragBubble(e,t),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.bubble)?e=this.startXY_:(e=this.pixelsToWorkspaceUnits_(t),e=hl.sum(this.startXY_,e)),this.bubble.moveTo(e.x,e.y),this.dragTarget_&&this.dragTarget_.onDrop(this.bubble),this.wouldDeleteBubble_)this.fireMoveEvent_(),this.bubble.dispose();else{if(this.bubble.setDragging){let e;this.bubble.setDragging(!1),null==(e=this.workspace.getLayerManager())||e.moveOffDragLayer(this.bubble,100)}this.fireMoveEvent_()}this.workspace.setResizesEnabled(!0),Ms.setGroup$$module$build$src$core$events$utils(!1)}fireMoveEvent_(){if(this.bubble instanceof vc){const e=new(B(ma))(this.bubble);e.setOldCoordinate(this.startXY_),e.recordNew(),x(e)}}pixelsToWorkspaceUnits_(e){return e=new hl(e.x/this.workspace.scale,e.y/this.workspace.scale),this.workspace.isMutator&&e.scale(1/this.workspace.options.parentWorkspace.scale),e}},Fu=!0,ju=[];ju[Uc.INPUT_VALUE]=Uc.OUTPUT_VALUE,ju[Uc.OUTPUT_VALUE]=Uc.INPUT_VALUE,ju[Uc.NEXT_STATEMENT]=Uc.PREVIOUS_STATEMENT,ju[Uc.PREVIOUS_STATEMENT]=Uc.NEXT_STATEMENT;var Uu="RENAME_VARIABLE_ID",Hu="DELETE_VARIABLE_ID",Vu={};Vu.commonWordPrefix=Vr,Vu.commonWordSuffix=Wr,Vu.isNumber=Ms.isNumber$$module$build$src$core$utils$string,Vu.shortestStringLength=Hr,Vu.startsWith=Ur,Vu.wrap=Ms.wrap$$module$build$src$core$utils$string;var Wu=void 0,Gu=!1,zu=!1,qu=50,Yu=0,Xu=0,Ku=0,Ju=0,Zu=null,Qu=null,eh=0,th=10,nh=10,rh=750,oh=5,ih=null,sh={HOVER_MS:rh,LIMIT:qu,MARGINS:oh,OFFSET_X:eh,OFFSET_Y:th,RADIUS_OK:nh};sh.bindMouseEvents=no,sh.block=co,sh.createDom=to,sh.dispose=ao,sh.getCustomTooltip=Kr,sh.getDiv=Zr,sh.getTooltipOfObject=Qr,sh.hide=lo,sh.isVisible=Jr,sh.setCustomTooltip=Xr,sh.unbindMouseEvents=ro,sh.unblock=uo;var ah=class{constructor(e){this.workspace=e,this.horizontalScrollEnabled_=this.workspace.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace.isMovableVertically(),this.startScrollXY_=new hl(e.scrollX,e.scrollY)}dispose(){this.workspace=null}startDrag(){m()&&m().unselect()}endDrag(e){this.drag(e)}drag(e){if(e=hl.sum(this.startScrollXY_,e),this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace.scroll(e.x,e.y);else if(this.horizontalScrollEnabled_)this.workspace.scroll(e.x,this.workspace.scrollY);else{if(!this.verticalScrollEnabled_)throw new TypeError("Invalid state.");this.workspace.scroll(this.workspace.scrollX,e.y)}}},lh=class{constructor(e,t){this.creatorWorkspace=t,this.mouseDownXY=new hl(0,0),this.startWorkspace_=this.targetBlock=this.startBlock=this.startIcon=this.startField=this.startBubble=null,this.hasExceededDragRadius=!1,this.boundEvents=[],this.flyout=this.workspaceDragger=this.blockDragger=this.bubbleDragger=null,this.isMultiTouch_=this.isEnding_=this.gestureHasStarted=this.calledUpdateIsDragging=!1,this.cachedPoints=new Map,this.startDistance=this.previousScale=0,this.currentDropdownOwner=this.isPinchZoomEnabled=null,this.mostRecentEvent=e,this.currentDragDeltaXY=new hl(0,0),this.healStack=!1}dispose(){H(),uo(),this.creatorWorkspace.clearGesture();for(const e of this.boundEvents)Y(e);this.boundEvents.length=0,this.blockDragger&&this.blockDragger.dispose(),this.workspaceDragger&&this.workspaceDragger.dispose()}updateFromEvent(e){const t=new hl(e.clientX,e.clientY);this.updateDragDelta(t)&&(this.updateIsDragging(),U()),this.mostRecentEvent=e}updateDragDelta(e){return this.currentDragDeltaXY=hl.difference(e,this.mouseDownXY),!this.hasExceededDragRadius&&(this.hasExceededDragRadius=hl.magnitude(this.currentDragDeltaXY)>(this.flyout?Ms.config$$module$build$src$core$config.flyoutDragRadius:Ms.config$$module$build$src$core$config.dragRadius))}updateIsDraggingFromFlyout(){let e;if(!this.targetBlock||null==(e=this.flyout)||!e.isBlockCreatable(this.targetBlock))return!1;if(!this.flyout.targetWorkspace)throw Error("Cannot update dragging from the flyout because the ' +\n          'flyout's target workspace is undefined");return!(this.flyout.isScrollable()&&!this.flyout.isDragTowardWorkspace(this.currentDragDeltaXY)||(this.startWorkspace_=this.flyout.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),Ms.getGroup$$module$build$src$core$events$utils()||Ms.setGroup$$module$build$src$core$events$utils(!0),this.startBlock=null,this.targetBlock=this.flyout.createBlock(this.targetBlock),this.targetBlock.select(),0))}updateIsDraggingBubble(){return!!this.startBubble&&(this.startDraggingBubble(),!0)}updateIsDraggingBlock(){if(!this.targetBlock)return!1;if(this.flyout){if(this.updateIsDraggingFromFlyout())return this.startDraggingBlock(),!0}else if(this.targetBlock.isMovable())return this.startDraggingBlock(),!0;return!1}updateIsDraggingWorkspace(){if(!this.startWorkspace_)throw Error("Cannot update dragging the workspace because the start workspace is undefined");(this.flyout?this.flyout.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger=new ah(this.startWorkspace_),this.workspaceDragger.startDrag())}updateIsDragging(){if(this.calledUpdateIsDragging)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging=!0,this.updateIsDraggingBubble()||this.updateIsDraggingBlock()||this.updateIsDraggingWorkspace()}startDraggingBlock(){this.blockDragger=new(c(js.BLOCK_DRAGGER,this.creatorWorkspace.options,!0))(this.targetBlock,this.startWorkspace_),this.blockDragger.startDrag(this.currentDragDeltaXY,this.healStack),this.blockDragger.drag(this.mostRecentEvent,this.currentDragDeltaXY)}startDraggingBubble(){if(!this.startBubble)throw Error("Cannot update dragging the bubble because the start bubble is undefined");if(!this.startWorkspace_)throw Error("Cannot update dragging the bubble because the start workspace is undefined");this.bubbleDragger=new Bu(this.startBubble,this.startWorkspace_),this.bubbleDragger.startBubbleDrag(),this.bubbleDragger.dragBubble(this.mostRecentEvent,this.currentDragDeltaXY)}doStart(e){if(!this.startWorkspace_)throw Error("Cannot start the touch gesture becauase the start workspace is undefined");this.isPinchZoomEnabled=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,X(e)?this.cancel():(this.gestureHasStarted=!0,jr(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.currentDropdownOwner=gr(),this.startWorkspace_.hideChaff(!!this.flyout),this.startWorkspace_.markFocused(),this.mostRecentEvent=e,co(),this.targetBlock&&this.targetBlock.select(),K(e)?this.handleRightClick(e):("pointerdown"===e.type.toLowerCase()&&"mouse"!==e.pointerType&&j(e,this),this.mouseDownXY=new hl(e.clientX,e.clientY),this.healStack=e.altKey||e.ctrlKey||e.metaKey,this.bindMouseEvents(e),this.isEnding_||this.handleTouchStart(e)))}bindMouseEvents(e){this.boundEvents.push(z(document,"pointerdown",null,this.handleStart.bind(this),!0)),this.boundEvents.push(z(document,"pointermove",null,this.handleMove.bind(this),!0)),this.boundEvents.push(z(document,"pointerup",null,this.handleUp.bind(this),!0)),e.preventDefault(),e.stopPropagation()}handleStart(e){this.isDragging()||(this.handleTouchStart(e),this.isMultiTouch()&&U())}handleMove(e){this.isDragging()&&V(e)||!this.isMultiTouch()?(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.blockDragger?this.blockDragger.drag(this.mostRecentEvent,this.currentDragDeltaXY):this.bubbleDragger&&this.bubbleDragger.dragBubble(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation()):this.isMultiTouch()&&(this.handleTouchMove(e),U())}handleUp(e){if(this.isDragging()||this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()){if(!V(e))return;if(this.updateFromEvent(e),U(),this.isEnding_)return void console.log("Trying to end a gesture recursively.");this.isEnding_=!0,this.bubbleDragger?this.bubbleDragger.endBubbleDrag(e,this.currentDragDeltaXY):this.blockDragger?this.blockDragger.endDrag(e,this.currentDragDeltaXY):this.workspaceDragger?this.workspaceDragger.endDrag(this.currentDragDeltaXY):this.isBubbleClick()?this.doBubbleClick():this.isFieldClick()?this.doFieldClick():this.isIconClick()?this.doIconClick():this.isBlockClick()?this.doBlockClick():this.isWorkspaceClick()&&this.doWorkspaceClick(e)}e.preventDefault(),e.stopPropagation(),this.dispose()}handleTouchStart(e){var t=W(e);this.cachedPoints.set(t,this.getTouchPoint(e));var n=Array.from(this.cachedPoints.keys());2===n.length&&(t=this.cachedPoints.get(n[0]),n=this.cachedPoints.get(n[1]),this.startDistance=hl.distance(t,n),this.isMultiTouch_=!0,e.preventDefault())}handleTouchMove(e){const t=W(e);this.cachedPoints.set(t,this.getTouchPoint(e)),this.isPinchZoomEnabled&&2===this.cachedPoints.size?this.handlePinch(e):this.handleMove(e)}handlePinch(e){var t=Array.from(this.cachedPoints.keys()),n=this.cachedPoints.get(t[0]);if(t=this.cachedPoints.get(t[1]),n=hl.distance(n,t)/this.startDistance,0<this.previousScale&&1/0>this.previousScale){if(t=0<(t=n-this.previousScale)?5*t:6*t,!this.startWorkspace_)throw Error("Cannot handle a pinch because the start workspace is undefined");const r=this.startWorkspace_,o=J(e,r.getParentSvg(),r.getInverseScreenCTM());r.zoom(o.x,o.y,t)}this.previousScale=n,e.preventDefault()}handleTouchEnd(e){e=W(e),this.cachedPoints.has(e)&&this.cachedPoints.delete(e),2>this.cachedPoints.size&&(this.cachedPoints.clear(),this.previousScale=0)}getTouchPoint(e){return this.startWorkspace_?new hl(e.pageX,e.pageY):null}isMultiTouch(){return this.isMultiTouch_}cancel(){this.isEnding_||(U(),this.bubbleDragger?this.bubbleDragger.endBubbleDrag(this.mostRecentEvent,this.currentDragDeltaXY):this.blockDragger?this.blockDragger.endDrag(this.mostRecentEvent,this.currentDragDeltaXY):this.workspaceDragger&&this.workspaceDragger.endDrag(this.currentDragDeltaXY),this.dispose())}handleRightClick(e){this.targetBlock?(this.bringBlockToFront(),this.targetBlock.workspace.hideChaff(!!this.flyout),this.targetBlock.showContextMenu(e)):this.startBubble?this.startBubble.showContextMenu(e):this.startWorkspace_&&!this.flyout&&(this.startWorkspace_.hideChaff(),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),this.dispose()}handleWsStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace(t),this.mostRecentEvent=e,this.doStart(e)}fireWorkspaceClick(e){x(new(B(sa))(null,e.id,"workspace"))}handleFlyoutStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout(t),this.handleWsStart(e,t.getWorkspace())}handleBlockStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(t),this.mostRecentEvent=e}handleBubbleStart(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(t),this.mostRecentEvent=e}doBubbleClick(){this.startBubble instanceof vc&&(this.startBubble.setFocus(),this.startBubble.select())}doFieldClick(){if(!this.startField)throw Error("Cannot do a field click because the start field is undefined");this.currentDropdownOwner!==this.startField&&this.startField.showEditor(this.mostRecentEvent),this.bringBlockToFront()}doIconClick(){if(!this.startIcon)throw Error("Cannot do an icon click because the start icon is undefined");this.bringBlockToFront(),this.startIcon.onClick()}doBlockClick(){if(this.flyout&&this.flyout.autoClose){if(!this.targetBlock)throw Error("Cannot do a block click because the target block is undefined");this.targetBlock.isEnabled()&&(Ms.getGroup$$module$build$src$core$events$utils()||Ms.setGroup$$module$build$src$core$events$utils(!0),this.flyout.createBlock(this.targetBlock).scheduleSnapAndBump())}else{if(!this.startWorkspace_)throw Error("Cannot do a block click because the start workspace is undefined");const e=new(B(sa))(this.startBlock,this.startWorkspace_.id,"block");x(e)}this.bringBlockToFront(),Ms.setGroup$$module$build$src$core$events$utils(!1)}doWorkspaceClick(e){e=this.creatorWorkspace,m()&&m().unselect(),this.fireWorkspaceClick(this.startWorkspace_||e)}bringBlockToFront(){this.targetBlock&&!this.flyout&&this.targetBlock.bringToFront()}setStartField(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField||(this.startField=e)}setStartIcon(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartIcon, but the gesture had already been started.");this.startIcon||(this.startIcon=e)}setStartBubble(e){this.startBubble||(this.startBubble=e)}setStartBlock(e){this.startBlock||this.startBubble||(this.startBlock=e,e.isInFlyout&&e!==e.getRootBlock()?this.setTargetBlock(e.getRootBlock()):this.setTargetBlock(e))}setTargetBlock(e){e.isShadow()?this.setTargetBlock(e.getParent()):this.targetBlock=e}setStartWorkspace(e){this.startWorkspace_||(this.startWorkspace_=e)}setStartFlyout(e){this.flyout||(this.flyout=e)}isBubbleClick(){return!!this.startBubble&&!this.hasExceededDragRadius}isBlockClick(){return!(!this.startBlock||this.hasExceededDragRadius||this.isFieldClick()||this.isIconClick())}isFieldClick(){return!!this.startField&&this.startField.isClickable()&&!this.hasExceededDragRadius&&(!this.flyout||this.startField.isClickableInFlyout(this.flyout.autoClose))}isIconClick(){if(!this.startIcon)return!1;const e=!this.flyout||!this.startIcon.isClickableInFlyout||this.startIcon.isClickableInFlyout(this.flyout.autoClose);return!this.hasExceededDragRadius&&e}isWorkspaceClick(){return!(this.startBlock||this.startBubble||this.startField||this.hasExceededDragRadius)}isDragging(){return!!this.workspaceDragger||!!this.blockDragger||!!this.bubbleDragger}hasStarted(){return this.gestureHasStarted}getInsertionMarkers(){return this.blockDragger?this.blockDragger.getInsertionMarkers():[]}getCurrentDragger(){let e,t;return null!=(t=null!=(e=this.blockDragger)?e:this.workspaceDragger)?t:this.bubbleDragger}static inProgress(){const e=h();for(let t,n=0;t=e[n];n++)if(t.currentGesture_)return!0;return!1}},ch=class{constructor(e,t){let n,r,o;this.pattern=e,this.scale=1,this.spacing=null!=(n=t.spacing)?n:0,this.length=null!=(r=t.length)?r:1,this.line2=(this.line1=e.firstChild)&&this.line1.nextSibling,this.snapToGrid=null!=(o=t.snap)&&o}setSpacing(e){this.spacing=e,this.update(this.scale)}setLength(e){this.length=e,this.update(this.scale)}setSnapToGrid(e){this.snapToGrid=e}shouldSnap(){return this.snapToGrid}getSpacing(){return this.spacing}getPatternId(){return this.pattern.id}update(e){this.scale=e;var t=this.spacing*e;this.pattern.setAttribute("width",`${t}`),this.pattern.setAttribute("height",`${t}`);let n=(t=Math.floor(this.spacing/2)+.5)-this.length/2,r=t+this.length/2;t*=e,n*=e,r*=e,this.setLineAttributes(this.line1,e,n,r,t,t),this.setLineAttributes(this.line2,e,t,t,n,r)}setLineAttributes(e,t,n,r,o,i){e&&(e.setAttribute("stroke-width",`${t}`),e.setAttribute("x1",`${n}`),e.setAttribute("y1",`${o}`),e.setAttribute("x2",`${r}`),e.setAttribute("y2",`${i}`))}moveTo(e,t){this.pattern.setAttribute("x",`${e}`),this.pattern.setAttribute("y",`${t}`)}static createDom(e,t,n){let r,o;if(e=re(wl.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},n),0<(null!=(r=t.length)?r:1)&&0<(null!=(o=t.spacing)?o:0)){let n;re(wl.LINE,{stroke:t.colour},e),null!=(n=t.length)&&n&&re(wl.LINE,{stroke:t.colour},e)}else re(wl.LINE,{},e);return e}},uh=class{constructor(e){this.workspace=e,this.cursorSvg_=this.cursor_=null,this.markers=new Map,this.markerSvg_=null}registerMarker(e,t){this.markers.has(e)&&this.unregisterMarker(e),t.setDrawer(this.workspace.getRenderer().makeMarkerDrawer(this.workspace,t)),this.setMarkerSvg(t.getDrawer().createDom()),this.markers.set(e,t)}unregisterMarker(e){const t=this.markers.get(e);if(!t)throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.");t.dispose(),this.markers.delete(e)}getCursor(){return this.cursor_}getMarker(e){return this.markers.get(e)||null}setCursor(e){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=e)&&(e=this.workspace.getRenderer().makeMarkerDrawer(this.workspace,this.cursor_),this.cursor_.setDrawer(e),this.setCursorSvg(this.cursor_.getDrawer().createDom()))}setCursorSvg(e){e?(this.workspace.getBlockCanvas().appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null}setMarkerSvg(e){e?this.workspace.getBlockCanvas()&&(this.cursorSvg_?this.workspace.getBlockCanvas().insertBefore(e,this.cursorSvg_):this.workspace.getBlockCanvas().appendChild(e)):this.markerSvg_=null}updateMarkers(){this.workspace.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace.getCursor().draw()}dispose(){const e=Object.keys(this.markers);for(let t,n=0;t=e[n];n++)this.unregisterMarker(t);this.markers.clear(),this.cursor_&&(this.cursor_.dispose(),this.cursor_=null)}};uh.LOCAL_MARKER="local_marker_1";var hh={};hh.deepMerge=mo;var ph=class{constructor(t,n,r,o){this.name=t,this.startHats=!1,this.blockStyles=n||Object.create(null),this.categoryStyles=r||Object.create(null),this.componentStyles=o||Object.create(null),this.fontStyle=Object.create(null),e(js.THEME,t,this,!0)}getClassName(){return this.name+"-theme"}setBlockStyle(e,t){this.blockStyles[e]=t}setCategoryStyle(e,t){this.categoryStyles[e]=t}getComponentStyle(e){if(!(e=this.componentStyles[e]))return null;if("string"==typeof e){const t=this.getComponentStyle(e);if(t)return t}return`${e}`}setComponentStyle(e,t){this.componentStyles[e]=t}setFontStyle(e){this.fontStyle=e}setStartHats(e){this.startHats=e}static defineTheme(e,t){e=e.toLowerCase();const n=new ph(e);let r=t.base;if(r){if("string"==typeof r){let e;r=null!=(e=a(js.THEME,r))?e:void 0}r instanceof ph&&(mo(n,r),n.name=e)}return mo(n.blockStyles,t.blockStyles),mo(n.categoryStyles,t.categoryStyles),mo(n.componentStyles,t.componentStyles),mo(n.fontStyle,t.fontStyle),null!==t.startHats&&(n.startHats=t.startHats),n}},dh=new ph("classic",{colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},{colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}}),fh=class{constructor(e){this.gridPattern=null,this.getMetrics=this.setMetrics=void 0;let t=null,n=!1;var r=!1,o=!1,i=!1,s=!1,a=!1;const l=!!e.readOnly;var c;l||(t=Pe(null!=(c=e.toolbox)?c:null),n=Fe(t),r=void 0===(r=e.trashcan)?n:r,o=void 0===(o=e.collapse)?n:o,i=void 0===(i=e.comments)?n:i,s=void 0===(s=e.disable)?n:s,a=void 0===(a=e.sounds)||a),c=e.maxTrashcanContents,r?void 0===c&&(c=32):c=0;const u=!!e.rtl;let h=e.horizontalLayout;void 0===h&&(h=!1);var p="end"!==e.toolboxPosition;p=h?p?Fl.TOP:Fl.BOTTOM:p===u?Fl.RIGHT:Fl.LEFT;let d=e.css;void 0===d&&(d=!0);let f="https://blockly-demo.appspot.com/static/media/";e.media?f=e.media.endsWith("/")?e.media:e.media+"/":"path"in e&&(ne("path","Nov 2014","Jul 2023","media"),f=e.path+"media/");const g=e.oneBasedIndex,m=e.renderer||"geras",y=e.plugins||{};let v,b,_,E=e.modalInputs;void 0===E&&(E=!0),this.RTL=u,this.oneBasedIndex=void 0===g||g,this.collapse=o,this.comments=i,this.disable=s,this.readOnly=l,this.maxBlocks=e.maxBlocks||1/0,this.maxInstances=null!=(v=e.maxInstances)?v:null,this.modalInputs=E,this.pathToMedia=f,this.hasCategories=n,this.moveOptions=fh.parseMoveOptions_(e,n),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=r,this.maxTrashcanContents=c,this.hasSounds=a,this.hasCss=d,this.horizontalLayout=h,this.languageTree=t,this.gridOptions=fh.parseGridOptions_(e),this.zoomOptions=fh.parseZoomOptions_(e),this.toolboxPosition=p,this.theme=fh.parseThemeOptions_(e),this.renderer=m,this.rendererOverrides=null!=(b=e.rendererOverrides)?b:null,this.parentWorkspace=null!=(_=e.parentWorkspace)?_:null,this.plugins=y}static parseMoveOptions_(e,t){const n=e.move||{},r={};return void 0===n.scrollbars&&void 0===e.scrollbars?r.scrollbars=t:"object"==typeof n.scrollbars?(r.scrollbars={horizontal:!!n.scrollbars.horizontal,vertical:!!n.scrollbars.vertical},r.scrollbars.horizontal&&r.scrollbars.vertical?r.scrollbars=!0:r.scrollbars.horizontal||r.scrollbars.vertical||(r.scrollbars=!1)):r.scrollbars=!!n.scrollbars||!!e.scrollbars,r.wheel=r.scrollbars&&void 0!==n.wheel?!!n.wheel:"object"==typeof r.scrollbars,r.drag=!(!r.scrollbars||void 0!==n.drag&&!n.drag),r}static parseZoomOptions_(e){e=e.zoom||{};const t={};return t.controls=void 0!==e.controls&&!!e.controls,t.wheel=void 0!==e.wheel&&!!e.wheel,t.startScale=void 0===e.startScale?1:Number(e.startScale),t.maxScale=void 0===e.maxScale?3:Number(e.maxScale),t.minScale=void 0===e.minScale?.3:Number(e.minScale),t.scaleSpeed=void 0===e.scaleSpeed?1.2:Number(e.scaleSpeed),t.pinch=void 0===e.pinch?t.wheel||t.controls:!!e.pinch,t}static parseGridOptions_(e){e=e.grid||{};const t={};return t.spacing=Number(e.spacing)||0,t.colour=e.colour||"#888",t.length=void 0===e.length?1:Number(e.length),t.snap=0<t.spacing&&!!e.snap,t}static parseThemeOptions_(e){return"string"==typeof(e=e.theme||dh)?a(js.THEME,e):e instanceof ph?e:ph.defineTheme(e.name||"builtin"+S(),e)}},gh=class extends Lc{constructor(e,t,n,r,o){super(e),this.type=Ms.CHANGE$$module$build$src$core$events$utils,e&&(this.element=t,this.name=n||void 0,this.oldValue=r,this.newValue=o)}toJson(){const e=super.toJson();if(!this.element)throw Error("The changed element is undefined. Either pass an element to the constructor, or call fromJson");return e.element=this.element,e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new gh)).element=e.element,t.name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,t}isNull(){return this.oldValue===this.newValue}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(!(t=t.getBlockById(this.blockId)))throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");var n=t.getIcon(Zl.MUTATOR);switch(n&&yo(n)&&n.bubbleIsVisible()&&n.setBubbleVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":t.setCommentText(e||null);break;case"collapsed":t.setCollapsed(!!e);break;case"disabled":t.setEnabled(!e);break;case"inline":t.setInputsInline(!!e);break;case"mutation":n=gh.getExtraBlockState_(t),t.loadExtraState?t.loadExtraState(JSON.parse(e||"{}")):t.domToMutation&&t.domToMutation(Ms.textToDom$$module$build$src$core$utils$xml(e||"<mutation/>")),x(new gh(t,"mutation",null,n,e));break;default:console.warn("Unknown change type: "+this.element)}}static getExtraBlockState_(e){return e.saveExtraState?(e=e.saveExtraState(!0))?JSON.stringify(e):"":e.mutationToDom&&(e=e.mutationToDom())?Bt(e):""}};e(js.EVENT,Ms.CHANGE$$module$build$src$core$events$utils,gh);var mh=.45,yh=.65,vh={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},bh={};bh.blend=Co,bh.getHsvSaturation=vo,bh.getHsvValue=_o,bh.hexToRgb=ko,bh.hsvToHex=So,bh.hueToHex=Oo,bh.names=vh,bh.parse=wo,bh.rgbToHex=To,bh.setHsvSaturation=bo,bh.setHsvValue=Eo;var _h={};_h.checkMessageReferences=No,_h.parseBlockColour=Ao,_h.replaceMessageReferences=Ro,_h.tokenizeInterpolation=xo;var Eh=class{constructor(e,t,n){this.DEFAULT_VALUE=null,this.name=void 0,this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=this.tooltip_=this.validator_=null,this.disposed=!1,this.maxDisplayLength=50,this.sourceBlock_=null,this.enabled_=this.visible_=this.isDirty_=!0,this.suffixField=this.prefixField=this.clickTarget_=null,this.EDITABLE=!0,this.SERIALIZABLE=!1,this.CURSOR="",this.value_="DEFAULT_VALUE"in new.target.prototype?new.target.prototype.DEFAULT_VALUE:this.DEFAULT_VALUE,this.size_=new kl(0,0),e!==Eh.SKIP_SETUP&&(n&&this.configure_(n),this.setValue(e),t&&this.setValidator(t))}configure_(e){e.tooltip&&this.setTooltip(Ro(e.tooltip))}setSourceBlock(e){if(this.sourceBlock_)throw Error("Field already bound to a block");this.sourceBlock_=e}getConstants(){return!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_}getSourceBlock(){return this.sourceBlock_}init(){this.fieldGroup_||(this.fieldGroup_=re(wl.G,{}),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())}initView(){this.createBorderRect_(),this.createTextElement_()}initModel(){}isFullBlockField(){return!this.borderRect_}createBorderRect_(){this.borderRect_=re(wl.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)}createTextElement_(){this.textElement_=re(wl.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}bindEvents_(){const e=this.getClickTarget_();if(!e)throw Error("A click target has not been set.");no(e),this.mouseDownWrapper_=z(e,"pointerdown",this,this.onMouseDown_)}fromXml(e){this.setValue(e.textContent)}toXml(e){return e.textContent=this.getValue(),e}saveState(e){return null!==(e=this.saveLegacyState(Eh))?e:this.getValue()}loadState(e){this.loadLegacyState(Eh,e)||this.setValue(e)}saveLegacyState(e){return e.prototype.saveState===this.saveState&&e.prototype.toXml!==this.toXml?((e=Ms.createElement$$module$build$src$core$utils$xml("field")).setAttribute("name",this.name||""),De(this.toXml(e)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null}loadLegacyState(e,t){return e.prototype.loadState===this.loadState&&e.prototype.fromXml!==this.fromXml&&(this.fromXml(Ms.textToDom$$module$build$src$core$utils$xml(t)),!0)}dispose(){let e;Rr(this),Gn(this),null!=(e=this.getSourceBlock())&&e.isDeadOrDying()||le(this.fieldGroup_),this.disposed=!0}updateEditable(){const e=this.fieldGroup_,t=this.getSourceBlock();this.EDITABLE&&e&&t&&(this.enabled_&&t.isEditable()?(oe(e,"blocklyEditableText"),se(e,"blocklyNonEditableText"),e.style.cursor=this.CURSOR):(oe(e,"blocklyNonEditableText"),se(e,"blocklyEditableText"),e.style.cursor=""))}setEnabled(e){this.enabled_=e,this.updateEditable()}isEnabled(){return this.enabled_}isClickable(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==Eh.prototype.showEditor_}isClickableInFlyout(e){return!e}isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}isSerializable(){let e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e}isVisible(){return this.visible_}setVisible(e){if(this.visible_!==e){this.visible_=e;var t=this.fieldGroup_;t&&(t.style.display=e?"block":"none")}}setValidator(e){this.validator_=e}getValidator(){return this.validator_}getSvgRoot(){return this.fieldGroup_}getBorderRect(){if(!this.borderRect_)throw Error(`The border rectangle is ${this.borderRect_}.`);return this.borderRect_}getTextElement(){if(!this.textElement_)throw Error(`The text element is ${this.textElement_}.`);return this.textElement_}getTextContent(){if(!this.textContent_)throw Error(`The text content is ${this.textContent_}.`);return this.textContent_}applyColour(){}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()}showEditor(e){this.isClickable()&&this.showEditor_(e)}showEditor_(e){}repositionForWindowResize(){return!1}updateSize_(e){const t=this.getConstants();let n=2*(e=void 0!==e?e:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING),r=t.FIELD_TEXT_HEIGHT,o=0;this.textElement_&&(o=ge(this.textElement_,t.FIELD_TEXT_FONTSIZE,t.FIELD_TEXT_FONTWEIGHT,t.FIELD_TEXT_FONTFAMILY),n+=o),this.isFullBlockField()||(r=Math.max(r,t.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=r,this.size_.width=n,this.positionTextElement_(e,o),this.positionBorderRect_()}positionTextElement_(e,t){if(this.textElement_){var n,r=this.getConstants(),o=this.size_.height/2;this.textElement_.setAttribute("x",String(null!=(n=this.getSourceBlock())&&n.RTL?this.size_.width-t-e:e)),this.textElement_.setAttribute("y",String(r.FIELD_TEXT_BASELINE_CENTER?o:o-r.FIELD_TEXT_HEIGHT/2+r.FIELD_TEXT_BASELINE))}}positionBorderRect_(){this.borderRect_&&(this.borderRect_.setAttribute("width",String(this.size_.width)),this.borderRect_.setAttribute("height",String(this.size_.height)),this.borderRect_.setAttribute("rx",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)),this.borderRect_.setAttribute("ry",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)))}getSize(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0===this.size_.width&&(this.render_(),0!==this.size_.width&&console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead.")),this.size_):new kl(0,0)}getScaledBBox(){let e;var t=this.getSourceBlock();if(!t)throw new wh;if(this.isFullBlockField()){var n=this.sourceBlock_.getHeightWidth();const r=t.workspace.scale;e=this.getAbsoluteXY_(),t=(n.width+1)*r,n=(n.height+1)*r,Xa?(e.x+=1.5*r,e.y+=1.5*r):(e.x-=.5*r,e.y-=.5*r)}else n=this.borderRect_.getBoundingClientRect(),e=we(this.borderRect_),t=n.width,n=n.height;return new Tl(e.y,e.y+n,e.x,e.x+t)}onLocationChange(e){}getDisplayText_(){let e=this.getText();return e?(e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+""),e=e.replace(/\s/g,Eh.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(e+=""),e):Eh.NBSP}getText(){const e=this.getText_();return String(null!==e?e:this.getValue())}getText_(){return null}markDirty(){this.isDirty_=!0,this.constants_=null}forceRerender(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.queueRender(),this.sourceBlock_.bumpNeighbours())}setValue(e,t=!0){if(null!==e){var n,r=this.doClassValidation_(e);(e=this.processValidation_(e,r))instanceof Error||(r=null==(n=this.getValidator())?void 0:n.call(this,e),(n=this.processValidation_(e,r))instanceof Error||(e=this.sourceBlock_)&&e.disposed||((r=this.getValue())===n?this.doValueUpdate_(n):(this.doValueUpdate_(n),t&&e&&D()&&x(new(B(Ms.CHANGE$$module$build$src$core$events$utils))(e,"field",this.name||null,r,n)),this.isDirty_&&this.forceRerender())))}}processValidation_(e,t){return null===t?(this.doValueInvalid_(e),this.isDirty_&&this.forceRerender(),Error()):void 0===t?e:t}getValue(){return this.value_}doClassValidation_(e){return null==e?null:e}doValueUpdate_(e){this.value_=e,this.isDirty_=!0}doValueInvalid_(e){}onMouseDown_(e){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)}setTooltip(e){e||""===e||(e=this.sourceBlock_);const t=this.getClickTarget_();t?t.tooltip=e:this.tooltip_=e}getTooltip(){const e=this.getClickTarget_();return Qr(e||{tooltip:this.tooltip_})}getClickTarget_(){return this.clickTarget_||this.getSvgRoot()}getAbsoluteXY_(){return we(this.getClickTarget_())}referencesVariables(){return!1}refreshVariableName(){}getParentInput(){let e=null;const t=this.getSourceBlock();if(!t)throw new wh;const n=t.inputList;for(let r=0;r<t.inputList.length;r++){const t=n[r],o=t.fieldRow;for(let n=0;n<o.length;n++)if(o[n]===this){e=t;break}}return e}getFlipRtl(){return!1}isTabNavigable(){return!1}onShortcut(e){return!1}setCursorSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.cursorSvg_=e}else this.cursorSvg_=null}setMarkerSvg(e){if(e){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(e),this.markerSvg_=e}else this.markerSvg_=null}updateMarkers_(){var e=this.getSourceBlock();if(!e)throw new wh;(e=e.workspace).keyboardAccessibilityMode&&this.cursorSvg_&&e.getCursor().draw(),e.keyboardAccessibilityMode&&this.markerSvg_&&e.getMarker(uh.LOCAL_MARKER).draw()}};Eh.NBSP="",Eh.SKIP_SETUP=Symbol("SKIP_SETUP");var wh=class extends Error{constructor(){super("The field has not yet been attached to its input. Call appendField to attach it.")}},Th={};Th.Field=Eh,Th.UnattachedFieldError=wh,Ms.Names$$module$build$src$core$names=class{constructor(e,t){this.db=new Map,this.dbReverse=new Set,this.variableMap=null,this.variablePrefix=t||"",this.reservedWords=new Set(e?e.split(","):[])}reset(){this.db.clear(),this.dbReverse.clear(),this.variableMap=null}setVariableMap(e){this.variableMap=e}getNameForUserVariable(e){return this.variableMap?(e=this.variableMap.getVariableById(e))?e.name:null:(console.warn("Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),null)}populateVariables(e){e=Ms.allUsedVarModels$$module$build$src$core$variables(e);for(let t=0;t<e.length;t++)this.getName(e[t].getId(),Ms.NameType$$module$build$src$core$names.VARIABLE)}populateProcedures(e){throw Error("The implementation of populateProcedures should be monkey-patched in by blockly.ts")}getName(e,t){let n=e;t===Ms.NameType$$module$build$src$core$names.VARIABLE&&(e=this.getNameForUserVariable(e))&&(n=e),e=n.toLowerCase();const r=t===Ms.NameType$$module$build$src$core$names.VARIABLE||t===Ms.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"";this.db.has(t)||this.db.set(t,new Map);const o=this.db.get(t);return o.has(e)?r+o.get(e):(t=this.getDistinctName(n,t),o.set(e,t.substr(r.length)),t)}getUserNames(e){let t;return(e=null==(t=this.db.get(e))?void 0:t.keys())?Array.from(e):[]}getDistinctName(e,t){e=this.safeName(e);let n,r,o,i=null;for(;this.dbReverse.has(e+(null!=(n=i)?n:""))||this.reservedWords.has(e+(null!=(r=i)?r:""));)i=i?i+1:2;return e+=null!=(o=i)?o:"",this.dbReverse.add(e),(t===Ms.NameType$$module$build$src$core$names.VARIABLE||t===Ms.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"")+e}safeName(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!=="0123456789".indexOf(e[0])&&(e="my_"+e)):e=Ms.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed",e}static equals(e,t){return e.toLowerCase()===t.toLowerCase()}},function(e){(e=e.NameType||(e.NameType={})).DEVELOPER_VARIABLE="DEVELOPER_VARIABLE",e.VARIABLE="VARIABLE",e.PROCEDURE="PROCEDURE"}(Ms.Names$$module$build$src$core$names||(Ms.Names$$module$build$src$core$names={})),Ms.NameType$$module$build$src$core$names=Ms.Names$$module$build$src$core$names.NameType,Ms.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE=Ms.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE,{NameType:Ms.NameType$$module$build$src$core$names}.Names=Ms.Names$$module$build$src$core$names;var kh=class extends Map{constructor(){super()}set(e,t){return this.get(e)===t||(super.set(e,t),Do(t)&&t.startPublishing()),this}delete(e){const t=this.get(e);return(e=super.delete(e))?(Do(t)&&t.stopPublishing(),e):e}clear(){if(this.size)for(const e of this.keys())this.delete(e)}add(e){return this.set(e.getId(),e)}getProcedures(){return[...this.values()]}},Sh=class{constructor(e){this.sourceBlock=e,this.offsetInBlock=new hl(0,0),this.workspaceLocation=new hl(0,0),this.svgRoot=null,this.tooltip=e}getType(){throw Error("Icons must implement getType")}initView(e){if(!this.svgRoot){var t=this.sourceBlock;this.svgRoot=re(wl.G,{class:"blocklyIconGroup"}),t.getSvgRoot().appendChild(this.svgRoot),this.updateSvgRootOffset(),z(this.svgRoot,"pointerdown",this,e),this.svgRoot.tooltip=this,no(this.svgRoot)}}dispose(){ro(this.svgRoot),le(this.svgRoot)}getWeight(){return-1}getSize(){return new kl(0,0)}setTooltip(e){this.tooltip=null!=e?e:this.sourceBlock}getTooltip(){return this.tooltip}applyColour(){}updateEditable(){}updateCollapsed(){this.svgRoot&&(this.sourceBlock.isCollapsed()?this.svgRoot.style.display="none":this.svgRoot.style.display="block",yo(this)&&this.setBubbleVisible(!1))}hideForInsertionMarker(){this.svgRoot&&(this.svgRoot.style.display="none")}isShownWhenCollapsed(){return!1}setOffsetInBlock(e){this.offsetInBlock=e,this.updateSvgRootOffset()}updateSvgRootOffset(){let e;null==(e=this.svgRoot)||e.setAttribute("transform",`translate(${this.offsetInBlock.x}, ${this.offsetInBlock.y})`)}onLocationChange(e){this.workspaceLocation=hl.sum(e,this.offsetInBlock)}onClick(){}isClickableInFlyout(e){return!0}setVisible(e){ne("setVisible","v10","v11","setBubbleVisible"),yo(this)&&this.setBubbleVisible(e)}},Ch={fromJsonInternal:Lo},Oh={TEST_ONLY:Ch};Oh.fromJson=Ms.fromJson$$module$build$src$core$field_registry,Oh.register=Mo,Oh.unregister=Po;var Ih=class extends Eh{constructor(e,t,n){super(Eh.SKIP_SETUP),this.svgArrow=this.arrow=this.imageElement=this.menu_=this.selectedMenuItem=null,this.SERIALIZABLE=!0,this.CURSOR="default",this.clickTarget_=this.suffixField=this.prefixField=this.generatedOptions=null,e!==Eh.SKIP_SETUP&&(Array.isArray(e)?(jo(e),e=Bo(e),this.menuGenerator_=e.options,this.prefixField=e.prefix||null,this.suffixField=e.suffix||null):this.menuGenerator_=e,this.selectedOption=this.getOptions(!1)[0],n&&this.configure_(n),this.setValue(this.selectedOption[1]),t&&this.setValidator(t))}fromXml(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)}loadState(e){this.loadLegacyState(Ih,e)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e))}initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement=re(wl.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&oe(this.borderRect_,"blocklyDropdownRect")}shouldAddBorderRect_(){let e;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!(null!=(e=this.getSourceBlock())&&e.isShadow())}createTextArrow_(){let e,t;this.arrow=re(wl.TSPAN,{},this.textElement_),this.arrow.appendChild(document.createTextNode(null!=(e=this.getSourceBlock())&&e.RTL?Ih.ARROW_CHAR+" ":" "+Ih.ARROW_CHAR)),null!=(t=this.getSourceBlock())&&t.RTL?this.getTextElement().insertBefore(this.arrow,this.textContent_):this.getTextElement().appendChild(this.arrow)}createSVGArrow_(){this.svgArrow=re(wl.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow.setAttributeNS(yl,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}showEditor_(e){var t=this.getSourceBlock();if(!t)throw new wh;this.dropdownCreate(),this.menu_.openingCoords=e&&"number"==typeof e.clientX?new hl(e.clientX,e.clientY):null,yr(),e=this.menu_.render(mr()),oe(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(t=t.getColour(),vr(t,this.sourceBlock_.style.colourTertiary)),_r(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem&&(this.menu_.setHighlighted(this.selectedMenuItem),Se(this.selectedMenuItem.getElement(),mr(),!0)),this.applyColour()}dropdownCreate(){const e=this.getSourceBlock();if(!e)throw new wh;const t=new nu;t.setRole(Kc.LISTBOX),this.menu_=t;const n=this.getOptions(!1);this.selectedMenuItem=null;for(let o=0;o<n.length;o++){const[i,s]=n[o];if("object"==typeof i){var r=new Image(i.width,i.height);r.src=i.src,r.alt=i.alt||""}else r=i;(r=new ru(r,s)).setRole(Kc.OPTION),r.setRightToLeft(e.RTL),r.setCheckable(!0),t.addChild(r),r.setChecked(s===this.value_),s===this.value_&&(this.selectedMenuItem=r),r.onAction(this.handleMenuActionEvent,this)}}dropdownDispose_(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem=this.menu_=null,this.applyColour()}handleMenuActionEvent(e){Rr(this,!0),this.onItemSelected_(this.menu_,e)}onItemSelected_(e,t){this.setValue(t.getValue())}isOptionListDynamic(){return"function"==typeof this.menuGenerator_}getOptions(e){if(!this.menuGenerator_)throw TypeError("A menu generator was never defined.");return Array.isArray(this.menuGenerator_)?this.menuGenerator_:(e&&this.generatedOptions||(this.generatedOptions=this.menuGenerator_(),jo(this.generatedOptions)),this.generatedOptions)}doClassValidation_(e){return this.getOptions(!0).some((t=>t[1]===e))?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)}doValueUpdate_(e){super.doValueUpdate_(e),e=this.getOptions(!0);for(let t,n=0;t=e[n];n++)t[1]===this.value_&&(this.selectedOption=t)}applyColour(){const e=this.sourceBlock_.style;this.borderRect_&&(this.borderRect_.setAttribute("stroke",e.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",e.colourTertiary):this.borderRect_.setAttribute("fill","transparent")),this.sourceBlock_&&this.arrow&&(this.sourceBlock_.isShadow()?this.arrow.style.fill=e.colourSecondary:this.arrow.style.fill=e.colourPrimary)}render_(){this.getTextContent().nodeValue="",this.imageElement.style.display="none";const e=this.selectedOption&&this.selectedOption[0];e&&"object"==typeof e?this.renderSelectedImage(e):this.renderSelectedText(),this.positionBorderRect_()}renderSelectedImage(e){const t=this.getSourceBlock();if(!t)throw new wh;this.imageElement.style.display="",this.imageElement.setAttributeNS(yl,"xlink:href",e.src),this.imageElement.setAttribute("height",String(e.height)),this.imageElement.setAttribute("width",String(e.width));const n=Number(e.height);e=Number(e.width);var r=!!this.borderRect_;const o=Math.max(r?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,n+xh);let i;r=r?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,i=this.svgArrow?this.positionSVGArrow(e+r,o/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):ge(this.arrow,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY),this.size_.width=e+i+2*r,this.size_.height=o;let s=0;t.RTL?this.imageElement.setAttribute("x",`${r+i}`):(s=e+i,this.getTextElement().setAttribute("text-anchor","end"),this.imageElement.setAttribute("x",`${r}`)),this.imageElement.setAttribute("y",String(o/2-n/2)),this.positionTextElement_(s+r,e+i)}renderSelectedText(){this.getTextContent().nodeValue=this.getDisplayText_();var e=this.getTextElement();oe(e,"blocklyDropdownText"),e.setAttribute("text-anchor","start");var t=!!this.borderRect_;e=Math.max(t?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);const n=ge(this.getTextElement(),this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);t=t?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let r=0;this.svgArrow&&(r=this.positionSVGArrow(n+t,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=n+r+2*t,this.size_.height=e,this.positionTextElement_(t,n)}positionSVGArrow(e,t){if(!this.svgArrow)return 0;const n=this.getSourceBlock();if(!n)throw new wh;const r=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,o=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,i=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow.setAttribute("transform","translate("+(n.RTL?r:e+o)+","+t+")"),i+o}getText_(){if(!this.selectedOption)return null;const e=this.selectedOption[0];return"object"==typeof e?e.alt:e}static fromJson(e){if(!e.options)throw Error("options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.");return new this(e.options,void 0,e)}};Ih.CHECKMARK_OVERHANG=25,Ih.MAX_MENU_HEIGHT_VH=.45,Ih.ARROW_CHAR="";var xh=10;Mo("field_dropdown",Ih);var Rh,Nh=class{constructor(e,t,n){this.workspace=e,this.anchor=t,this.ownerRect=n,this.size=new kl(0,0),this.colour="#ffffff",this.disposed=!1,this.relativeLeft=this.relativeTop=0,this.svgRoot=re(wl.G,{},e.getBubbleCanvas()),e=re(wl.G,{filter:`url(#${this.workspace.getRenderer().getConstants().embossFilterId})`},this.svgRoot),this.tail=re(wl.PATH,{},e),this.background=re(wl.RECT,{class:"blocklyDraggable",x:0,y:0,rx:Rh.BORDER_WIDTH,ry:Rh.BORDER_WIDTH},e),this.contentContainer=re(wl.G,{},this.svgRoot),z(this.background,"pointerdown",this,this.onMouseDown)}dispose(){le(this.svgRoot),this.disposed=!0}setAnchorLocation(e,t=!1){this.anchor=e,t?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}setPositionRelativeToAnchor(e,t){this.relativeLeft=e,this.relativeTop=t,this.positionRelativeToAnchor(),this.renderTail()}getSize(){return this.size}setSize(e,t=!1){e.width=Math.max(e.width,Rh.MIN_SIZE),e.height=Math.max(e.height,Rh.MIN_SIZE),this.size=e,this.background.setAttribute("width",`${e.width}`),this.background.setAttribute("height",`${e.height}`),t?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}getColour(){return this.colour}setColour(e){this.colour=e,this.tail.setAttribute("fill",e),this.background.setAttribute("fill",e)}onMouseDown(e){let t;null==(t=this.workspace.getGesture(e))||t.handleBubbleStart(e,this)}positionRelativeToAnchor(){let e=this.anchor.x;e=this.workspace.RTL?e-(this.relativeLeft+this.size.width):e+this.relativeLeft,this.moveTo(e,this.relativeTop+this.anchor.y)}moveTo(e,t){this.svgRoot.setAttribute("transform",`translate(${e}, ${t})`)}positionByRect(e=new Tl(0,0,0,0)){var t=this.workspace.getMetricsManager().getViewMetrics(!0),n=this.getOptimalRelativeLeft(t),r=this.getOptimalRelativeTop(t);const o={x:n,y:-this.size.height-this.workspace.getRenderer().getConstants().MIN_BLOCK_HEIGHT},i={x:-this.size.width-30,y:r};r={x:e.getWidth(),y:r};var s={x:n,y:e.getHeight()};n=e.getWidth()<e.getHeight()?r:s,e=e.getWidth()<e.getHeight()?s:r,r=this.getOverlap(o,t),s=this.getOverlap(i,t);const a=this.getOverlap(n,t);t=this.getOverlap(e,t),r===(t=Math.max(r,s,a,t))?(this.relativeLeft=o.x,this.relativeTop=o.y):s===t?(this.relativeLeft=i.x,this.relativeTop=i.y):a===t?(this.relativeLeft=n.x,this.relativeTop=n.y):(this.relativeLeft=e.x,this.relativeTop=e.y),this.positionRelativeToAnchor()}getOverlap(e,t){var n=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x+this.anchor.x;return e=e.y+this.anchor.y,Math.max(0,Math.min(1,(Math.min(n+this.size.width,t.left+t.width)-Math.max(n,t.left))*(Math.min(e+this.size.height,t.top+t.height)-Math.max(e,t.top))/(this.size.width*this.size.height)))}getOptimalRelativeLeft(e){let t=-this.size.width/4;if(this.size.width>e.width)return t;if(e=this.getWorkspaceViewRect(e),this.workspace.RTL){var n=this.anchor.x-t;n-this.size.width<e.left?t=-(e.left-this.anchor.x+this.size.width):n>e.right&&(t=-(e.right-this.anchor.x))}else{const r=(n=t+this.anchor.x)+this.size.width;n<e.left?t=e.left-this.anchor.x:r>e.right&&(t=e.right-this.anchor.x-this.size.width)}return t}getOptimalRelativeTop(e){let t=-this.size.height/4;if(this.size.height>e.height)return t;const n=this.anchor.y+t,r=n+this.size.height;return n<(e=this.getWorkspaceViewRect(e)).top?t=e.top-this.anchor.y:r>e.bottom&&(t=e.bottom-this.anchor.y-this.size.height),t}getWorkspaceViewRect(e){const t=e.top;let n=e.top+e.height,r=e.left;return e=e.left+e.width,n-=this.getScrollbarThickness(),this.workspace.RTL?r-=this.getScrollbarThickness():e-=this.getScrollbarThickness(),new Tl(t,n,r,e)}getScrollbarThickness(){return Rl.scrollbarThickness/this.workspace.scale}renderTail(){const e=[];var t=this.size.width/2,n=this.size.height/2,r=-this.relativeLeft,o=-this.relativeTop;if(t===r&&n===o)e.push("M "+t+","+n);else{o-=n,r-=t,this.workspace.RTL&&(r*=-1);var i=Math.sqrt(o*o+r*r),s=Math.acos(r/i);0>o&&(s=2*Math.PI-s);var a=s+Math.PI/2;a>2*Math.PI&&(a-=2*Math.PI);var l=Math.sin(a);const c=Math.cos(a);let u=(this.size.width+this.size.height)/Rh.TAIL_THICKNESS;u=Math.min(u,this.size.width,this.size.height)/4,r=t+(a=1-Rh.ANCHOR_RADIUS/i)*r,o=n+a*o,a=t+u*c;const h=n+u*l;t-=u*c,n-=u*l,(l=s+(l=ur(this.workspace.RTL?-Rh.TAIL_ANGLE:Rh.TAIL_ANGLE)))>2*Math.PI&&(l-=2*Math.PI),s=Math.sin(l)*i/Rh.TAIL_BEND,i=Math.cos(l)*i/Rh.TAIL_BEND,e.push("M"+a+","+h),e.push("C"+(a+i)+","+(h+s)+" "+r+","+o+" "+r+","+o),e.push("C"+r+","+o+" "+(t+i)+","+(n+s)+" "+t+","+n)}let c;e.push("z"),null==(c=this.tail)||c.setAttribute("d",e.join(" "))}bringToFront(){let e;const t=null==(e=this.svgRoot)?void 0:e.parentNode;return!(!this.svgRoot||(null==t?void 0:t.lastChild)===this.svgRoot||(null==t||t.appendChild(this.svgRoot),0))}getRelativeToSurfaceXY(){return new hl(this.workspace.RTL?-this.relativeLeft+this.anchor.x-this.size.width:this.anchor.x+this.relativeLeft,this.anchor.y+this.relativeTop)}getSvgRoot(){return this.svgRoot}moveDuringDrag(e){this.moveTo(e.x,e.y),this.relativeLeft=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x-this.anchor.x,this.relativeTop=e.y-this.anchor.y,this.renderTail()}setDragging(e){}setDeleteStyle(e){}isDeletable(){return!1}showContextMenu(e){}};Rh=Nh,Nh.BORDER_WIDTH=6,Nh.DOUBLE_BORDER=2*Rh.BORDER_WIDTH,Nh.MIN_SIZE=Rh.DOUBLE_BORDER,Nh.TAIL_THICKNESS=1,Nh.TAIL_ANGLE=20,Nh.TAIL_BEND=4,Nh.ANCHOR_RADIUS=8;var Ah=class extends Nh{constructor(e,t,n,r){let o,i;super(t,n,r),this.workspace=t,this.anchor=n,this.ownerRect=r,this.autoLayout=!0,t=new fh(e),this.validateWorkspaceOptions(t),this.svgDialog=re(wl.SVG,{x:Nh.BORDER_WIDTH,y:Nh.BORDER_WIDTH},this.contentContainer),e.parentWorkspace=this.workspace,this.miniWorkspace=this.newWorkspaceSvg(new fh(e)),this.miniWorkspace.internalIsMutator=!0,e=this.miniWorkspace.createDom("blocklyMutatorBackground"),this.svgDialog.appendChild(e),t.languageTree&&(e.insertBefore(this.miniWorkspace.addFlyout(wl.G),this.miniWorkspace.getCanvas()),null==(e=this.miniWorkspace.getFlyout())||e.init(this.miniWorkspace),null==e||e.show(t.languageTree)),this.miniWorkspace.addChangeListener(this.onWorkspaceChange.bind(this)),null==(o=this.miniWorkspace.getFlyout())||null==(i=o.getWorkspace())||i.addChangeListener(this.onWorkspaceChange.bind(this)),this.updateBubbleSize()}dispose(){this.miniWorkspace.dispose(),super.dispose()}getWorkspace(){return this.miniWorkspace}addWorkspaceChangeListener(e){this.miniWorkspace.addChangeListener(e)}validateWorkspaceOptions(e){if(e.hasCategories)throw Error("The miniworkspace bubble does not support toolboxes with categories");if(e.hasTrashcan)throw Error("The miniworkspace bubble does not support trashcans");if(e.zoomOptions.controls||e.zoomOptions.wheel||e.zoomOptions.pinch)throw Error("The miniworkspace bubble does not support zooming");if(e.moveOptions.scrollbars||e.moveOptions.wheel||e.moveOptions.drag)throw Error("The miniworkspace bubble does not scrolling/moving the workspace");if(e.horizontalLayout)throw Error("The miniworkspace bubble does not support horizontal layouts")}onWorkspaceChange(){this.bumpBlocksIntoBounds(),this.updateBubbleSize()}bumpBlocksIntoBounds(){if(!this.miniWorkspace.isDragging())for(const e of this.miniWorkspace.getTopBlocks(!1)){const t=e.getRelativeToSurfaceXY();if(20>t.y&&e.moveBy(0,20-t.y),e.RTL){let n=-20;const r=this.miniWorkspace.getFlyout();r&&(n-=r.getWidth()),t.x>n&&e.moveBy(n-t.x,0)}else 20>t.x&&e.moveBy(20-t.x,0)}}updateBubbleSize(){if(!this.miniWorkspace.isDragging()){var e=this.getSize(),t=this.calculateWorkspaceSize();Math.abs(e.width-t.width)<Ah.MINIMUM_VIEW_CHANGE&&Math.abs(e.height-t.height)<Ah.MINIMUM_VIEW_CHANGE||(this.svgDialog.setAttribute("width",`${t.width}px`),this.svgDialog.setAttribute("height",`${t.height}px`),this.miniWorkspace.setCachedParentSvgSize(t.width,t.height),this.miniWorkspace.RTL&&this.miniWorkspace.getCanvas().setAttribute("transform",`translate(${t.width}, 0)`),this.setSize(new kl(t.width+Nh.DOUBLE_BORDER,t.height+Nh.DOUBLE_BORDER),this.autoLayout),this.miniWorkspace.resize(),this.miniWorkspace.recordDragTargets())}}calculateWorkspaceSize(){var e=this.miniWorkspace.getCanvas().getBBox();let t=e.width+Ah.MARGIN;e=e.height+Ah.MARGIN;const n=this.miniWorkspace.getFlyout();if(n){const r=n.getWorkspace().getMetricsManager().getScrollMetrics();e=Math.max(e,r.height+20),t+=n.getWidth()}return new kl(t,e)}updateBlockStyles(){for(var e of this.miniWorkspace.getAllBlocks(!1))e.setStyle(e.getStyleName());let t;if(e=null==(t=this.miniWorkspace.getFlyout())?void 0:t.getWorkspace())for(const t of e.getAllBlocks(!1))t.setStyle(t.getStyleName())}moveDuringDrag(e){super.moveDuringDrag(e),this.autoLayout=!1}moveTo(e,t){super.moveTo(e,t),this.miniWorkspace.recordDragTargets()}newWorkspaceSvg(e){throw Error("The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts")}};Ah.MINIMUM_VIEW_CHANGE=10,Ah.MARGIN=3*Nh.DOUBLE_BORDER,Ms.MutatorIcon$$module$build$src$core$icons$mutator_icon=class extends Sh{constructor(e,t){super(t),this.flyoutBlockTypes=e,this.sourceBlock=t,this.saveConnectionsListener=this.updateWorkspacePid=this.rootBlock=this.miniWorkspaceBubble=null}getType(){return Ms.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE}initView(e){this.svgRoot||(super.initView(e),re(wl.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},this.svgRoot),re(wl.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},this.svgRoot),re(wl.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},this.svgRoot),oe(this.svgRoot,"blockly-icon-mutator"))}dispose(){let e;super.dispose(),null==(e=this.miniWorkspaceBubble)||e.dispose()}getWeight(){return Ms.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT}getSize(){return new kl(17,17)}applyColour(){let e,t;super.applyColour(),null==(e=this.miniWorkspaceBubble)||e.setColour(this.sourceBlock.style.colourPrimary),null==(t=this.miniWorkspaceBubble)||t.updateBlockStyles()}updateCollapsed(){super.updateCollapsed(),this.sourceBlock.isCollapsed()&&this.setBubbleVisible(!1)}onLocationChange(e){let t;super.onLocationChange(e),null==(t=this.miniWorkspaceBubble)||t.setAnchorLocation(this.getAnchorLocation())}onClick(){super.onClick(),this.sourceBlock.isEditable()&&this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.miniWorkspaceBubble}setBubbleVisible(e){if(this.bubbleIsVisible()!==e){if(e){let e;this.miniWorkspaceBubble=new Ah(this.getMiniWorkspaceConfig(),this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect()),this.applyColour(),this.createRootBlock(),this.addSaveConnectionsListener(),null==(e=this.miniWorkspaceBubble)||e.addWorkspaceChangeListener(this.createMiniWorkspaceChangeListener())}else{let e;null==(e=this.miniWorkspaceBubble)||e.dispose(),this.miniWorkspaceBubble=null,this.saveConnectionsListener&&this.sourceBlock.workspace.removeChangeListener(this.saveConnectionsListener),this.saveConnectionsListener=null}x(new(B(la))(this.sourceBlock,e,"mutator"))}}getMiniWorkspaceConfig(){let e;const t={disable:!1,media:this.sourceBlock.workspace.options.pathToMedia,rtl:this.sourceBlock.RTL,renderer:this.sourceBlock.workspace.options.renderer,rendererOverrides:null!=(e=this.sourceBlock.workspace.options.rendererOverrides)?e:void 0};return this.flyoutBlockTypes.length&&(t.toolbox={kind:"flyoutToolbox",contents:this.flyoutBlockTypes.map((e=>({kind:"block",type:e})))}),t}getAnchorLocation(){return hl.sum(this.workspaceLocation,new hl(8.5,8.5))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new Tl(e.y,e.y+e.height,e.x,e.x+e.width)}createRootBlock(){if(!this.sourceBlock.decompose)throw Error("Blocks with mutator icons must include a decompose method");for(var e of(this.rootBlock=this.sourceBlock.decompose(this.miniWorkspaceBubble.getWorkspace()),this.rootBlock.getDescendants(!1)))e.queueRender();let t,n,r,o;this.rootBlock.setMovable(!1),this.rootBlock.setDeletable(!1),e=null!=(o=null==(t=this.miniWorkspaceBubble)||null==(n=t.getWorkspace())||null==(r=n.getFlyout())?void 0:r.getWidth())?o:0,this.rootBlock.moveBy(this.rootBlock.RTL?-(e+16):16,16)}addSaveConnectionsListener(){this.sourceBlock.saveConnections&&this.rootBlock&&(this.saveConnectionsListener=()=>{this.sourceBlock.saveConnections&&this.rootBlock&&this.sourceBlock.saveConnections(this.rootBlock)},this.saveConnectionsListener(),this.sourceBlock.workspace.addChangeListener(this.saveConnectionsListener))}createMiniWorkspaceChangeListener(){return e=>{Ms.MutatorIcon$$module$build$src$core$icons$mutator_icon.isIgnorableMutatorEvent(e)||this.updateWorkspacePid||(this.updateWorkspacePid=setTimeout((()=>{this.updateWorkspacePid=null,this.recomposeSourceBlock()}),0))}}static isIgnorableMutatorEvent(e){return e.isUiEvent||e.type===Ms.CREATE$$module$build$src$core$events$utils||e.type===Ms.CHANGE$$module$build$src$core$events$utils&&"disabled"===e.element}recomposeSourceBlock(){if(this.rootBlock){if(!this.sourceBlock.compose)throw Error("Blocks with mutator icons must include a compose method");var e=Ms.getGroup$$module$build$src$core$events$utils();e||Ms.setGroup$$module$build$src$core$events$utils(!0);var t=gh.getExtraBlockState_(this.sourceBlock);this.sourceBlock.compose(this.rootBlock);var n=gh.getExtraBlockState_(this.sourceBlock);t!==n&&x(new(B(Ms.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"mutation",null,t,n)),Ms.setGroup$$module$build$src$core$events$utils(e)}}getWorkspace(){let e;return null==(e=this.miniWorkspaceBubble)?void 0:e.getWorkspace()}static reconnect(e,t,n){return ne("MutatorIcon.reconnect","v10","v11","connection.reconnect"),!!e&&e.reconnect(t,n)}static findParentWs(e){return ne("MutatorIcon.findParentWs","v10","v11","workspace.getRootWorkspace"),e.getRootWorkspace()}},Ms.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE=Zl.MUTATOR,Ms.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT=1,Ms.MutatorIcon$$module$build$src$core$icons$mutator_icon;var $h=Object.create(null),Dh={allExtensions:$h};Ms.register$$module$build$src$core$extensions("parent_tooltip_when_inline",ei);var Mh,Ph={TEST_ONLY:Dh};Ph.apply=Vo,Ph.buildTooltipForDropdown=Ms.buildTooltipForDropdown$$module$build$src$core$extensions,Ph.buildTooltipWithFieldText=Ms.buildTooltipWithFieldText$$module$build$src$core$extensions,Ph.isRegistered=Ho,Ph.register=Ms.register$$module$build$src$core$extensions,Ph.registerMixin=Ms.registerMixin$$module$build$src$core$extensions,Ph.registerMutator=Ms.registerMutator$$module$build$src$core$extensions,Ph.runAfterPageLoad=Zo,Ph.unregister=Uo,function(e){e[e.WIN_KEY_FF_LINUX=0]="WIN_KEY_FF_LINUX",e[e.MAC_ENTER=3]="MAC_ENTER",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.NUM_CENTER=12]="NUM_CENTER",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.PAUSE=19]="PAUSE",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PLUS_SIGN=43]="PLUS_SIGN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.FF_SEMICOLON=59]="FF_SEMICOLON",e[e.FF_EQUALS=61]="FF_EQUALS",e[e.FF_DASH=173]="FF_DASH",e[e.FF_HASH=163]="FF_HASH",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.AT_SIGN=64]="AT_SIGN",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.META=91]="META",e[e.WIN_KEY_RIGHT=92]="WIN_KEY_RIGHT",e[e.CONTEXT_MENU=93]="CONTEXT_MENU",e[e.NUM_ZERO=96]="NUM_ZERO",e[e.NUM_ONE=97]="NUM_ONE",e[e.NUM_TWO=98]="NUM_TWO",e[e.NUM_THREE=99]="NUM_THREE",e[e.NUM_FOUR=100]="NUM_FOUR",e[e.NUM_FIVE=101]="NUM_FIVE",e[e.NUM_SIX=102]="NUM_SIX",e[e.NUM_SEVEN=103]="NUM_SEVEN",e[e.NUM_EIGHT=104]="NUM_EIGHT",e[e.NUM_NINE=105]="NUM_NINE",e[e.NUM_MULTIPLY=106]="NUM_MULTIPLY",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.NUM_PERIOD=110]="NUM_PERIOD",e[e.NUM_DIVISION=111]="NUM_DIVISION",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NUMLOCK=144]="NUMLOCK",e[e.SCROLL_LOCK=145]="SCROLL_LOCK",e[e.FIRST_MEDIA_KEY=166]="FIRST_MEDIA_KEY",e[e.LAST_MEDIA_KEY=183]="LAST_MEDIA_KEY",e[e.SEMICOLON=186]="SEMICOLON",e[e.DASH=189]="DASH",e[e.EQUALS=187]="EQUALS",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.APOSTROPHE=192]="APOSTROPHE",e[e.TILDE=192]="TILDE",e[e.SINGLE_QUOTE=222]="SINGLE_QUOTE",e[e.OPEN_SQUARE_BRACKET=219]="OPEN_SQUARE_BRACKET",e[e.BACKSLASH=220]="BACKSLASH",e[e.CLOSE_SQUARE_BRACKET=221]="CLOSE_SQUARE_BRACKET",e[e.WIN_KEY=224]="WIN_KEY",e[e.MAC_FF_META=224]="MAC_FF_META",e[e.MAC_WK_CMD_LEFT=91]="MAC_WK_CMD_LEFT",e[e.MAC_WK_CMD_RIGHT=93]="MAC_WK_CMD_RIGHT",e[e.WIN_IME=229]="WIN_IME",e[e.VK_NONAME=252]="VK_NONAME",e[e.PHANTOM=255]="PHANTOM"}(Mh||(Mh={}));var Lh={};Lh.arc=li,Lh.curve=ni,Lh.line=si,Lh.lineOnAxis=ai,Lh.lineTo=ii,Lh.moveBy=oi,Lh.moveTo=ri,Lh.point=ti;var Bh={};Bh.Coordinate=hl,Bh.KeyCodes=Mh,Bh.Rect=Tl,Bh.Size=kl,Bh.Svg=wl,Bh.aria=eu,Bh.array=il,Bh.browserEvents=ol,Bh.colour=bh,Bh.deprecation=dl,Bh.dom=El,Bh.extensions=Ph,Bh.idGenerator=Sa,Bh.math=yu,Bh.object=hh,Bh.parsing=_h,Bh.string=Vu,Bh.style=Cl,Bh.svgMath=xl,Bh.svgPaths=Lh,Bh.toolbox=zl,Bh.userAgent=tl,Bh.xml=Bl;var Fh={};Fh.register=ci,Fh.unregister=ui;var jh=class extends Nh{constructor(e,t,n,r){super(t,n,r),this.text=e,this.workspace=t,this.anchor=n,this.ownerRect=r,this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}getText(){return this.text}setText(e){this.text=e,le(this.paragraph),this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}stringToSvg(e,t){return t=this.createParagraph(t),e=this.createSpans(t,e),this.workspace.RTL&&this.rightAlignSpans(t.getBBox().width,e),t}createParagraph(e){return re(wl.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:Nh.BORDER_WIDTH},e)}createSpans(e,t){return t.split("\n").map((t=>{const n=re(wl.TSPAN,{dy:"1em",x:Nh.BORDER_WIDTH},e);return t=document.createTextNode(t),n.appendChild(t),n}))}rightAlignSpans(e,t){for(const n of t)n.setAttribute("text-anchor","end"),n.setAttribute("x",`${e+Nh.BORDER_WIDTH}`)}updateBubbleSize(){const e=this.paragraph.getBBox();this.setSize(new kl(e.width+2*Nh.BORDER_WIDTH,e.height+2*Nh.BORDER_WIDTH),!0)}},Uh=class extends Nh{constructor(e,t,n){super(e,t,n),this.workspace=e,this.anchor=t,this.ownerRect=n,this.resizePointerMoveListener=this.resizePointerUpListener=null,this.textChangeListeners=[],this.sizeChangeListeners=[],this.text="",this.DEFAULT_SIZE=new kl(160+Nh.DOUBLE_BORDER,80+Nh.DOUBLE_BORDER),this.MIN_SIZE=new kl(45+Nh.DOUBLE_BORDER,20+Nh.DOUBLE_BORDER),({inputRoot:this.inputRoot,textArea:this.textArea}=this.createEditor(this.contentContainer)),this.resizeGroup=this.createResizeHandle(this.svgRoot),this.setSize(this.DEFAULT_SIZE,!0)}getText(){return this.text}setText(e){this.text=e,this.textArea.value=e,this.onTextChange()}addTextChangeListener(e){this.textChangeListeners.push(e)}addSizeChangeListener(e){this.sizeChangeListeners.push(e)}createEditor(e){e=re(wl.FOREIGNOBJECT,{x:Nh.BORDER_WIDTH,y:Nh.BORDER_WIDTH},e);const t=document.createElementNS(ml,"body");t.setAttribute("xmlns",ml),t.className="blocklyMinimalBody";const n=document.createElementNS(ml,"textarea");return n.className="blocklyCommentTextarea",n.setAttribute("dir",this.workspace.RTL?"RTL":"LTR"),t.appendChild(n),e.appendChild(t),this.bindTextAreaEvents(n),setTimeout((()=>{n.focus()}),0),{inputRoot:e,textArea:n}}bindTextAreaEvents(e){z(e,"wheel",this,(e=>{e.stopPropagation()})),z(e,"focus",this,this.onStartEdit,!0),z(e,"change",this,this.onTextChange)}createResizeHandle(e){e=re(wl.G,{class:this.workspace.RTL?"blocklyResizeSW":"blocklyResizeSE"},e);const t=2*Nh.BORDER_WIDTH;return re(wl.POLYGON,{points:`0,${t} ${t},${t} ${t},0`},e),re(wl.LINE,{class:"blocklyResizeLine",x1:t/3,y1:t-1,x2:t-1,y2:t/3},e),re(wl.LINE,{class:"blocklyResizeLine",x1:2*t/3,y1:t-1,x2:t-1,y2:2*t/3},e),z(e,"pointerdown",this,this.onResizePointerDown),e}setSize(e,t=!1){e.width=Math.max(e.width,this.MIN_SIZE.width),e.height=Math.max(e.height,this.MIN_SIZE.height);const n=e.width-Nh.DOUBLE_BORDER,r=e.height-Nh.DOUBLE_BORDER;this.inputRoot.setAttribute("width",`${n}`),this.inputRoot.setAttribute("height",`${r}`),this.textArea.style.width=n-4+"px",this.textArea.style.height=r-4+"px",this.workspace.RTL?this.resizeGroup.setAttribute("transform",`translate(${Nh.DOUBLE_BORDER}, ${r}) scale(-1 1)`):this.resizeGroup.setAttribute("transform",`translate(${n}, ${r})`),super.setSize(e,t),this.onSizeChange()}getSize(){return super.getSize()}onResizePointerDown(e){this.bringToFront(),K(e)||(this.workspace.startDrag(e,new hl(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=z(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=z(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation()}onResizePointerUp(e){H(),this.resizePointerUpListener&&(Y(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(Y(this.resizePointerMoveListener),this.resizePointerMoveListener=null)}onResizePointerMove(e){e=this.workspace.moveDrag(e),this.setSize(new kl(this.workspace.RTL?-e.x:e.x,e.y),!1),this.onSizeChange()}onStartEdit(){this.bringToFront()&&this.textArea.focus()}onTextChange(){this.text=this.textArea.value;for(const e of this.textChangeListeners)e()}onSizeChange(){for(const e of this.sizeChangeListeners)e()}};ee("\n.blocklyCommentTextarea {\n  background-color: #fef49c;\n  border: 0;\n  display: block;\n  margin: 0;\n  outline: 0;\n  padding: 3px;\n  resize: none;\n  text-overflow: hidden;\n}\n");var Hh=class extends Sh{constructor(e){super(e),this.sourceBlock=e,this.textBubble=this.textInputBubble=null,this.text="",this.bubbleSize=new kl(160,80),this.bubbleVisiblity=!1}getType(){return Hh.TYPE}initView(e){this.svgRoot||(super.initView(e),re(wl.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},this.svgRoot),re(wl.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},this.svgRoot),re(wl.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},this.svgRoot),oe(this.svgRoot,"blockly-icon-comment"))}dispose(){let e,t;super.dispose(),null==(e=this.textInputBubble)||e.dispose(),null==(t=this.textBubble)||t.dispose()}getWeight(){return Hh.WEIGHT}getSize(){return new kl(17,17)}applyColour(){super.applyColour();const e=this.sourceBlock.style.colourPrimary;let t,n;null==(t=this.textInputBubble)||t.setColour(e),null==(n=this.textBubble)||n.setColour(e)}updateEditable(){super.updateEditable(),this.bubbleIsVisible()&&(this.setBubbleVisible(!1),this.setBubbleVisible(!0))}onLocationChange(e){let t,n;super.onLocationChange(e),e=this.getAnchorLocation(),null==(t=this.textInputBubble)||t.setAnchorLocation(e),null==(n=this.textBubble)||n.setAnchorLocation(e)}setText(e){const t=this.text;let n,r;x(new(B(Ms.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"comment",null,t,e)),this.text=e,null==(n=this.textInputBubble)||n.setText(this.text),null==(r=this.textBubble)||r.setText(this.text)}getText(){return this.text}setBubbleSize(e){let t;this.bubbleSize=e,null==(t=this.textInputBubble)||t.setSize(this.bubbleSize,!0)}getBubbleSize(){return this.bubbleSize}saveState(){return this.text?{text:this.text,pinned:this.bubbleIsVisible(),height:this.bubbleSize.height,width:this.bubbleSize.width}:null}loadState(e){let t,n,r,o;this.text=null!=(t=e.text)?t:"",this.bubbleSize=new kl(null!=(n=e.width)?n:160,null!=(r=e.height)?r:80),this.bubbleVisiblity=null!=(o=e.pinned)&&o,setTimeout((()=>this.setBubbleVisible(this.bubbleVisiblity)),1)}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}onTextChange(){if(this.textInputBubble){var e=this.textInputBubble.getText();this.text!==e&&(x(new(B(Ms.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"comment",null,this.text,e)),this.text=e)}}onSizeChange(){this.textInputBubble&&(this.bubbleSize=this.textInputBubble.getSize())}bubbleIsVisible(){return this.bubbleVisiblity}setBubbleVisible(e){e&&(this.textBubble||this.textInputBubble)||(e||this.textBubble||this.textInputBubble)&&(this.bubbleVisiblity=e,this.sourceBlock.rendered&&!this.sourceBlock.isInFlyout&&(e?(this.sourceBlock.isEditable()?this.showEditableBubble():this.showNonEditableBubble(),this.applyColour()):this.hideBubble(),x(new(B(la))(this.sourceBlock,e,"comment"))))}showEditableBubble(){this.textInputBubble=new Uh(this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect()),this.textInputBubble.setText(this.getText()),this.textInputBubble.setSize(this.bubbleSize,!0),this.textInputBubble.addTextChangeListener((()=>this.onTextChange())),this.textInputBubble.addSizeChangeListener((()=>this.onSizeChange()))}showNonEditableBubble(){this.textBubble=new jh(this.getText(),this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect())}hideBubble(){let e,t;null==(e=this.textInputBubble)||e.dispose(),this.textInputBubble=null,null==(t=this.textBubble)||t.dispose(),this.textBubble=null}getAnchorLocation(){return hl.sum(this.workspaceLocation,new hl(8.5,8.5))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new Tl(e.y,e.y+e.height,e.x,e.x+e.width)}};Hh.TYPE=Zl.COMMENT,Hh.WEIGHT=3,ci(Hh.TYPE,Hh);var Vh=class extends Sh{constructor(e){super(e),this.sourceBlock=e,this.textMap=new Map,this.textBubble=null}getType(){return Vh.TYPE}initView(e){this.svgRoot||(super.initView(e),re(wl.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},this.svgRoot),re(wl.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},this.svgRoot),re(wl.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},this.svgRoot),oe(this.svgRoot,"blockly-icon-warning"))}dispose(){let e;super.dispose(),null==(e=this.textBubble)||e.dispose()}getWeight(){return Vh.WEIGHT}getSize(){return new kl(17,17)}applyColour(){let e;super.applyColour(),null==(e=this.textBubble)||e.setColour(this.sourceBlock.style.colourPrimary)}updateCollapsed(){}isShownWhenCollapsed(){return!0}onLocationChange(e){let t;super.onLocationChange(e),null==(t=this.textBubble)||t.setAnchorLocation(this.getAnchorLocation())}addMessage(e,t){if(this.textMap.get(t)===e)return this;let n;return e?this.textMap.set(t,e):this.textMap.delete(t),null==(n=this.textBubble)||n.setText(this.getText()),this}getText(){return[...this.textMap.values()].join("\n")}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}isClickableInFlyout(){return!1}bubbleIsVisible(){return!!this.textBubble}setBubbleVisible(e){if(this.bubbleIsVisible()!==e){if(e)this.textBubble=new jh(this.getText(),this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect()),this.applyColour();else{let e;null==(e=this.textBubble)||e.dispose(),this.textBubble=null}x(new(B(la))(this.sourceBlock,e,"warning"))}}getAnchorLocation(){return hl.sum(this.workspaceLocation,new hl(8.5,8.5))}getBubbleOwnerRect(){const e=this.sourceBlock.getSvgRoot().getBBox();return new Tl(e.y,e.y+e.height,e.x,e.x+e.width)}};Vh.TYPE=Zl.WARNING,Vh.WEIGHT=2;var Wh=class extends Error{constructor(e){super(`Tried to append an icon of type ${e.getType()} when an icon of that type already exists on the block. Use getIcon to access the existing icon.`),this.icon=e}},Gh={};Gh.DuplicateIconType=Wh;var zh,qh,Yh={};Yh.CommentIcon=Hh,Yh.Icon=Sh,Yh.IconType=Zl,Yh.MutatorIcon=Ms.MutatorIcon$$module$build$src$core$icons$mutator_icon,Yh.WarningIcon=Vh,Yh.exceptions=Gh,Yh.registry=Fh,zh="PROCEDURE",Ms.DEFAULT_ARG$$module$build$src$core$procedures="x",(qh={CATEGORY_NAME:zh,DEFAULT_ARG:Ms.DEFAULT_ARG$$module$build$src$core$procedures}).ObservableProcedureMap=kh,qh.allProcedures=hi,qh.findLegalName=Ms.findLegalName$$module$build$src$core$procedures,qh.flyoutCategory=gi,qh.getCallers=bi,qh.getDefinition=Ms.getDefinition$$module$build$src$core$procedures,qh.isNameUsed=fi,qh.isProcedureBlock=$o,qh.mutateCallers=Ms.mutateCallers$$module$build$src$core$procedures,qh.mutatorOpenListener=yi,qh.rename=Ms.rename$$module$build$src$core$procedures;var Xh=new class{constructor(){this.NONE=0,this.FIELD=1,this.HAT=2,this.ICON=4,this.SPACER=8,this.BETWEEN_ROW_SPACER=16,this.IN_ROW_SPACER=32,this.EXTERNAL_VALUE_INPUT=64,this.INPUT=128,this.INLINE_INPUT=256,this.STATEMENT_INPUT=512,this.CONNECTION=1024,this.PREVIOUS_CONNECTION=2048,this.NEXT_CONNECTION=4096,this.OUTPUT_CONNECTION=8192,this.CORNER=16384,this.LEFT_SQUARE_CORNER=32768,this.LEFT_ROUND_CORNER=65536,this.RIGHT_SQUARE_CORNER=131072,this.RIGHT_ROUND_CORNER=262144,this.JAGGED_EDGE=524288,this.ROW=1048576,this.TOP_ROW=2097152,this.BOTTOM_ROW=4194304,this.INPUT_ROW=8388608,this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER,this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER,this.nextTypeValue_=16777216}getType(e){return Object.prototype.hasOwnProperty.call(this,e)||(this[e]=this.nextTypeValue_,this.nextTypeValue_<<=1),this[e]}isField(e){return e.type&this.FIELD}isHat(e){return e.type&this.HAT}isIcon(e){return e.type&this.ICON}isSpacer(e){return e.type&this.SPACER}isInRowSpacer(e){return e.type&this.IN_ROW_SPACER}isInput(e){return e.type&this.INPUT}isExternalInput(e){return e.type&this.EXTERNAL_VALUE_INPUT}isInlineInput(e){return e.type&this.INLINE_INPUT}isStatementInput(e){return e.type&this.STATEMENT_INPUT}isPreviousConnection(e){return e.type&this.PREVIOUS_CONNECTION}isNextConnection(e){return e.type&this.NEXT_CONNECTION}isPreviousOrNextConnection(e){return e.type&(this.PREVIOUS_CONNECTION|this.NEXT_CONNECTION)}isLeftRoundedCorner(e){return e.type&this.LEFT_ROUND_CORNER}isRightRoundedCorner(e){return e.type&this.RIGHT_ROUND_CORNER}isLeftSquareCorner(e){return e.type&this.LEFT_SQUARE_CORNER}isRightSquareCorner(e){return e.type&this.RIGHT_SQUARE_CORNER}isCorner(e){return e.type&this.CORNER}isJaggedEdge(e){return e.type&this.JAGGED_EDGE}isRow(e){return e.type&this.ROW}isBetweenRowSpacer(e){return e.type&this.BETWEEN_ROW_SPACER}isTopRow(e){return e.type&this.TOP_ROW}isBottomRow(e){return e.type&this.BOTTOM_ROW}isTopOrBottomRow(e){return e.type&(this.TOP_ROW|this.BOTTOM_ROW)}isInputRow(e){return e.type&this.INPUT_ROW}},Kh=class{constructor(e){this.centerline=this.xPos=this.height=this.width=0,this.constants_=e,this.type=Xh.NONE,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},Jh=class{constructor(e){this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasStatement=this.hasExternalInput=!1,this.statementEdge=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1,this.align=null,this.constants_=e,this.type=Xh.ROW,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}getLastInput(){for(let e=this.elements.length-1;0<=e;e--){const t=this.elements[e];if(Xh.isInput(t))return t}return null}measure(){throw Error("Unexpected attempt to measure a base Row.")}startsWithElemSpacer(){return!0}endsWithElemSpacer(){return!0}getFirstSpacer(){for(let e=0;e<this.elements.length;e++){const t=this.elements[e];if(Xh.isSpacer(t))return t}return null}getLastSpacer(){for(let e=this.elements.length-1;0<=e;e--){const t=this.elements[e];if(Xh.isSpacer(t))return t}return null}},Zh=class extends Jh{constructor(e){super(e),this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0,this.type|=Xh.BOTTOM_ROW}hasLeftSquareCorner(e){return!!e.outputConnection||!!e.getNextBlock()}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,n=0;for(let r=0;r<this.elements.length;r++){const o=this.elements[r];t+=o.width,Xh.isSpacer(o)||(Xh.isNextConnection(o)?n=Math.max(n,o.height):e=Math.max(e,o.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+n,this.descenderHeight=n,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},Qh=class extends Kh{constructor(e,t){super(e),this.connectionModel=t,this.type|=Xh.CONNECTION,this.shape=this.constants_.shapeFor(t),this.isDynamicShape="isDynamic"in this.shape&&this.shape.isDynamic,this.highlighted=t.isHighlighted()}},ep=class extends Qh{constructor(e,t){super(e,t.connection),this.input=t,this.connectionOffsetY=this.connectionOffsetX=0,this.type|=Xh.INPUT,this.align=t.align,(this.connectedBlock=t.connection&&t.connection.targetBlock()?t.connection.targetBlock():null)?(e=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=e.width,this.connectedBlockHeight=e.height):this.connectedBlockHeight=this.connectedBlockWidth=0}},tp=class extends ep{constructor(e,t){super(e,t),this.height=0,this.type|=Xh.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width}},np=class extends Kh{constructor(e,t,n){super(e),this.field=t,this.parentInput=n,this.isEditable=t.EDITABLE,this.flipRtl=t.getFlipRtl(),this.type|=Xh.FIELD,e=this.field.getSize(),this.height=e.height,this.width=e.width}},rp=class extends Kh{constructor(e){super(e),this.type|=Xh.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height}},op=class extends Kh{constructor(e,t){super(e),this.icon=t,this.flipRtl=!1,this.isVisible=yo(t)&&t.bubbleIsVisible(),this.type|=Xh.ICON,e=t.getSize(),this.height=e.height,this.width=e.width}},ip=class extends Kh{constructor(e,t){super(e),this.type=this.type|Xh.SPACER|Xh.IN_ROW_SPACER,this.width=t,this.height=this.constants_.SPACER_DEFAULT_HEIGHT}},sp=class extends ep{constructor(e,t){super(e,t),this.type|=Xh.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY="connectionOffsetY"in this.shape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX="connectionOffsetX"in this.shape?this.shape.connectionOffsetX(this.connectionWidth):0}},ap=class extends ep{constructor(e,t){super(e,t),this.type|=Xh.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}},lp=class extends Jh{constructor(e){super(e),this.connectedBlockWidths=0,this.type|=Xh.INPUT_ROW}measure(){this.width=this.minWidth,this.height=this.minHeight;let e=0;for(let t=0;t<this.elements.length;t++){const n=this.elements[t];this.width+=n.width,Xh.isInput(n)&&n instanceof ep&&(Xh.isStatementInput(n)&&n instanceof ap?e+=n.connectedBlockWidth:Xh.isExternalInput(n)&&n instanceof tp&&0!==n.connectedBlockWidth&&(e+=n.connectedBlockWidth-n.connectionWidth)),Xh.isSpacer(n)||(this.height=Math.max(this.height,n.height))}this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e}endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement}},cp=class extends Kh{constructor(e){super(e),this.type|=Xh.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width}},up=class extends Qh{constructor(e,t){super(e,t),this.type|=Xh.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},hp=class extends Qh{constructor(e,t){super(e,t),this.connectionOffsetX=0,this.type|=Xh.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP}},pp=class extends Qh{constructor(e,t){super(e,t),this.type|=Xh.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},dp=class extends Kh{constructor(e,t){super(e),this.type=(t&&"left"!==t?Xh.RIGHT_ROUND_CORNER:Xh.LEFT_ROUND_CORNER)|Xh.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2}},fp=class extends Jh{constructor(e,t,n){super(e),this.height=t,this.width=n,this.precedesStatement=this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.type=this.type|Xh.SPACER|Xh.BETWEEN_ROW_SPACER,this.elements=[new ip(this.constants_,n)]}measure(){}},gp=class extends Kh{constructor(e,t){super(e),this.type=(t&&"left"!==t?Xh.RIGHT_SQUARE_CORNER:Xh.LEFT_SQUARE_CORNER)|Xh.CORNER,this.width=this.height=this.constants_.NO_PADDING}},mp=class extends Jh{constructor(e){super(e),this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null,this.type|=Xh.TOP_ROW}hasLeftSquareCorner(e){const t=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,n=e.getPreviousBlock();return!!e.outputConnection||t||!!n&&n.getNextBlock()===e}hasRightSquareCorner(e){return!0}measure(){let e=0,t=0,n=0;for(let r=0;r<this.elements.length;r++){const o=this.elements[r];t+=o.width,Xh.isSpacer(o)||(Xh.isHat(o)&&o instanceof rp?n=Math.max(n,o.ascenderHeight):e=Math.max(e,o.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+n,this.capline=this.ascenderHeight=n,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},yp=class{constructor(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.defs=null,this.embossFilterId="",this.embossFilter=null,this.disabledPatternId="",this.disabledPattern=null,this.debugFilterId="",this.cssNode=this.debugFilter=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2},this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=oi(0,0),this.FIELD_TEXT_BASELINE_CENTER=!0,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2)}init(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()}setTheme(e){this.blockStyles=Object.create(null);const t=e.blockStyles;for(const e in t)this.blockStyles[e]=this.validatedBlockStyle_(t[e]);this.setDynamicProperties_(e)}setDynamicProperties_(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=void 0!==e.startHats?e.startHats:this.ADD_START_HATS}setFontConstants_(e){e.fontStyle&&e.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=e.fontStyle.family),e.fontStyle&&e.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=e.fontStyle.weight),e.fontStyle&&e.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=e.fontStyle.size),e=ye("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline}setComponentConstants_(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY}getBlockStyleForColour(e){const t="auto_"+e;return this.blockStyles[t]||(this.blockStyles[t]=this.createBlockStyle_(e)),{style:this.blockStyles[t],name:t}}getBlockStyle(e){return this.blockStyles[e||""]||(e&&0===e.indexOf("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))}createBlockStyle_(e){return this.validatedBlockStyle_({colourPrimary:e})}validatedBlockStyle_(e){const t={};return e&&Object.assign(t,e),e=Ao(t.colourPrimary||"#000"),t.colourPrimary=e.hex,t.colourSecondary=t.colourSecondary?Ao(t.colourSecondary).hex:this.generateSecondaryColour_(t.colourPrimary),t.colourTertiary=t.colourTertiary?Ao(t.colourTertiary).hex:this.generateTertiaryColour_(t.colourPrimary),t.hat=t.hat||"",t}generateSecondaryColour_(e){return Co("#fff",e,.6)||e}generateTertiaryColour_(e){return Co("#fff",e,.3)||e}dispose(){this.embossFilter&&le(this.embossFilter),this.disabledPattern&&le(this.disabledPattern),this.debugFilter&&le(this.debugFilter),this.cssNode=null}makeJaggedTeeth(){const e=this.JAGGED_TEETH_HEIGHT,t=this.JAGGED_TEETH_WIDTH;return{height:e,width:t,path:si([ti(t,e/4),ti(2*-t,e/2),ti(t,e/4)])}}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH;return{height:e,width:t,path:ni("c",[ti(30,-e),ti(70,-e),ti(t,0)])}}makePuzzleTab(){function e(e){const r=-(e=e?-1:1);var o=n/2;const i=o+2.5,s=o+.5,a=ti(-t,e*o);return o=ti(t,e*o),ni("c",[ti(0,e*i),ti(-t,r*s),a])+ni("s",[ti(t,2.5*r),o])}const t=this.TAB_WIDTH,n=this.TAB_HEIGHT,r=e(!0),o=e(!1);return{type:this.SHAPES.PUZZLE,width:t,height:n,pathDown:o,pathUp:r}}makeNotch(){function e(e){return si([ti(e*r,n),ti(3*e,0),ti(e*r,-n)])}const t=this.NOTCH_WIDTH,n=this.NOTCH_HEIGHT,r=(t-3)/2,o=e(1),i=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:n,pathLeft:o,pathRight:i}}makeInsideCorners(){const e=this.CORNER_RADIUS;return{width:e,height:e,pathTop:li("a","0 0,0",e,ti(-e,e)),pathBottom:li("a","0 0,0",e,ti(e,e))}}makeOutsideCorners(){const e=this.CORNER_RADIUS,t=oi(0,e)+li("a","0 0,1",e,ti(e,-e)),n=li("a","0 0,1",e,ti(e,e)),r=li("a","0 0,1",e,ti(-e,-e));return{topLeft:t,topRight:n,bottomRight:li("a","0 0,1",e,ti(-e,e)),bottomLeft:r,rightHeight:e}}shapeFor(e){switch(e.type){case Uc.INPUT_VALUE:case Uc.OUTPUT_VALUE:return this.PUZZLE_TAB;case Uc.PREVIOUS_STATEMENT:case Uc.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}}createDom(e,t,n){this.injectCSS_(t,n),this.defs=re(wl.DEFS,{},e),e=re(wl.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs),re(wl.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},e),t=re(wl.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},e),re(wl.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},t),re(wl.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},e),re(wl.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},e),this.embossFilterId=e.id,this.embossFilter=e,e=re(wl.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs),re(wl.RECT,{width:10,height:10,fill:"#aaa"},e),re(wl.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},e),this.disabledPatternId=e.id,this.disabledPattern=e,this.createDebugFilter()}createDebugFilter(){if(!this.debugFilter){const e=re(wl.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs),t=re(wl.FECOMPONENTTRANSFER,{result:"outBlur"},e);re(wl.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),re(wl.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),re(wl.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter=e}}injectCSS_(e,t){t=this.getCSS_(t),e="blockly-renderer-style-"+e,this.cssNode=document.getElementById(e);const n=t.join("\n");this.cssNode?this.cssNode.firstChild.textContent=n:((t=document.createElement("style")).id=e,e=document.createTextNode(n),t.appendChild(e),document.head.insertBefore(t,document.head.firstChild),this.cssNode=t)}getCSS_(e){return[`${e} .blocklyText, `,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableText>rect,`,`${e} .blocklyEditableText>rect {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"fill-opacity: .6;","stroke: none;","}",`${e} .blocklyNonEditableText>text,`,`${e} .blocklyEditableText>text {`,"fill: #000;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #000;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #000;","}",`${e} .blocklyEditableText:not(.editing):hover>rect {`,"stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"}",`${e} .blocklySelected>.blocklyPath {`,"stroke: #fc3;","stroke-width: 3px;","}",`${e} .blocklyHighlightedConnectionPath {`,"stroke: #fc3;","}",`${e} .blocklyReplaceable .blocklyPath {`,"fill-opacity: .5;","}",`${e} .blocklyReplaceable .blocklyPathLight,`,`${e} .blocklyReplaceable .blocklyPathDark {`,"display: none;","}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},vp={};vp.ConstantProvider=yp,vp.isDynamicShape=Ei,vp.isNotch=Ti,vp.isPuzzleTab=wi;var bp=class{constructor(e,t){this.inlinePath_=this.outlinePath_="",this.block_=e,this.info_=t,this.topLeft_=e.getRelativeToSurfaceXY(),this.constants_=t.getRenderer().getConstants()}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),this.block_.pathObject.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),this.recordSizeOnBlock_()}hideHiddenIcons_(){ne("hideHiddenIcons_","v10","v11")}recordSizeOnBlock_(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren}drawOutline_(){this.drawTop_();for(let e=1;e<this.info_.rows.length-1;e++){const t=this.info_.rows[e];t.hasJaggedEdge?this.drawJaggedEdge_(t):t.hasStatement?this.drawStatementInput_(t):t.hasExternalInput?this.drawValueInput_(t):this.drawRightSideRow_(t)}this.drawBottom_(),this.drawLeft_()}drawTop_(){const e=this.info_.topRow,t=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=oi(e.xPos,this.info_.startY);for(let e,n=0;e=t[n];n++)Xh.isLeftRoundedCorner(e)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:Xh.isRightRoundedCorner(e)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:Xh.isPreviousConnection(e)&&e instanceof Qh?this.outlinePath_+=e.shape.pathLeft:Xh.isHat(e)?this.outlinePath_+=this.constants_.START_HAT.path:Xh.isSpacer(e)&&(this.outlinePath_+=ai("h",e.width));this.outlinePath_+=ai("v",e.height)}drawJaggedEdge_(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+ai("v",e.height-this.constants_.JAGGED_TEETH.height)}drawValueInput_(e){const t=e.getLastInput();this.positionExternalValueConnection_(e);const n=Ei(t.shape)?t.shape.pathDown(t.height):t.shape.pathDown;this.outlinePath_+=ai("H",t.xPos+t.width)+n+ai("v",e.height-t.connectionHeight)}drawStatementInput_(e){var t=e.getLastInput();if(t){var n=t.xPos+t.notchOffset+t.shape.width;t=t.shape.pathRight+ai("h",-(t.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var r=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=ai("H",n)+t+ai("v",r)+this.constants_.INSIDE_CORNERS.pathBottom+ai("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}}drawRightSideRow_(e){this.outlinePath_+=ai("V",e.yPos+e.height)}drawBottom_(){const e=this.info_.bottomRow,t=e.elements;this.positionNextConnection_();let n=0,r="";for(let o,i=t.length-1;o=t[i];i--)Xh.isNextConnection(o)&&o instanceof Qh?r+=o.shape.pathRight:Xh.isLeftSquareCorner(o)?r+=ai("H",e.xPos):Xh.isLeftRoundedCorner(o)?r+=this.constants_.OUTSIDE_CORNERS.bottomLeft:Xh.isRightRoundedCorner(o)?(r+=this.constants_.OUTSIDE_CORNERS.bottomRight,n=this.constants_.OUTSIDE_CORNERS.rightHeight):Xh.isSpacer(o)&&(r+=ai("h",-1*o.width));this.outlinePath_+=ai("V",e.baseline-n),this.outlinePath_+=r}drawLeft_(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){const t=e.connectionOffsetY+e.height;e=Ei(e.shape)?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=ai("V",t)+e}this.outlinePath_+="z"}drawInternals_(){for(let e,t=0;e=this.info_.rows[t];t++)for(let t,n=0;t=e.elements[n];n++)Xh.isInlineInput(t)?this.drawInlineInput_(t):(Xh.isIcon(t)||Xh.isField(t))&&this.layoutField_(t)}layoutField_(e){const t=e.centerline-e.height/2;let n=e.xPos;var r="";this.info_.RTL&&(n=-(n+e.width),e.flipRtl&&(n+=e.width,r="scale(-1 1)")),Xh.isIcon(e)?((r=e.icon).setOffsetInBlock(new hl(n,t)),this.info_.isInsertionMarker&&r.hideForInsertionMarker()):((e=e.field.getSvgRoot()).setAttribute("transform","translate("+n+","+t+")"+r),this.info_.isInsertionMarker&&e.setAttribute("display","none"))}drawInlineInput_(e){const t=e.width,n=e.height,r=e.connectionOffsetY,o=e.connectionHeight+r;this.inlinePath_+=ri(e.xPos+e.connectionWidth,e.centerline-n/2)+ai("v",r)+e.shape.pathDown+ai("v",n-o)+ai("h",t-e.connectionWidth)+ai("v",-n)+"z",this.positionInlineInputConnection_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let n=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(n*=-1),e.connectionModel.setOffsetInBlock(n,t+e.connectionOffsetY)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(null!=t&&t.connectionModel){let n=e.xPos+e.statementEdge+t.notchOffset;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let n=e.xPos+e.width;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}}positionPreviousConnection_(){const e=this.info_.topRow;if(e.connection){const t=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-t:t,0)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,n=t.xPos;t.connectionModel.setOffsetInBlock(this.info_.RTL?-n:n,e.baseline)}}positionOutputConnection_(){if(this.info_.outputConnection){const e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}}updateConnectionHighlights(){for(const e of this.info_.rows)for(const t of e.elements)if(t instanceof Qh)if(t.highlighted)this.drawConnectionHighlightPath(t);else{let e,n;null==(n=(e=this.block_.pathObject).removeConnectionHighlight)||n.call(e,t.connectionModel)}}drawConnectionHighlightPath(e){const t=e.connectionModel;e=t.type===Uc.INPUT_VALUE||t.type===Uc.OUTPUT_VALUE?this.getExpressionConnectionHighlightPath(e):this.getStatementConnectionHighlightPath(e);const n=t.getSourceBlock();let r,o;null==(o=(r=n.pathObject).addConnectionHighlight)||o.call(r,t,e,t.getOffsetInBlock(),n.RTL)}getExpressionConnectionHighlightPath(e){let t="";return Ei(e.shape)?t=e.shape.pathDown(e.height):wi(e.shape)&&(t=e.shape.pathDown),e=this.constants_.TAB_OFFSET_FROM_TOP,oi(0,-e)+ai("v",e)+t+ai("v",e)}getStatementConnectionHighlightPath(e){if(!Ti(e.shape))throw Error("Statement connections should have notch shapes");const t=this.constants_.NOTCH_OFFSET_LEFT-this.constants_.CORNER_RADIUS;return oi(-t,0)+ai("h",t)+e.shape.pathLeft+ai("h",t)}};(function(e){e[e.LEFT=-1]="LEFT",e[e.CENTRE=0]="CENTRE",e[e.RIGHT=1]="RIGHT"})(Ms.Align$$module$build$src$core$inputs$align||(Ms.Align$$module$build$src$core$inputs$align={})),Ms.Align$$module$build$src$core$inputs$align;var _p=class extends Eh{constructor(e,t,n){super(Eh.SKIP_SETUP),this.class=null,this.EDITABLE=!1,this.maxDisplayLength=1/0,e!==Eh.SKIP_SETUP&&(n?this.configure_(n):this.class=t||null,this.setValue(e))}configure_(e){super.configure_(e),e.class&&(this.class=e.class)}initView(){this.createTextElement_(),this.class&&oe(this.getTextElement(),this.class)}doClassValidation_(e){return null==e?null:`${e}`}setClass(e){this.textElement_&&(this.class&&se(this.textElement_,this.class),e&&oe(this.textElement_,e)),this.class=e}static fromJson(e){return new this(Ro(e.text),void 0,e)}};Mo("field_label",_p),_p.prototype.DEFAULT_VALUE="";var Ep=class{constructor(e,t){this.name=e,this.sourceBlock=t,this.fieldRow=[],this.align=Ms.Align$$module$build$src$core$inputs$input.LEFT,this.visible=!0,this.type=Ms.inputTypes$$module$build$src$core$inputs$input_types.CUSTOM,this.connection=null}getSourceBlock(){return this.sourceBlock}appendField(e,t){return this.insertFieldAt(this.fieldRow.length,e,t),this}insertFieldAt(e,t,n){if(0>e||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return t||""===t&&n?("string"==typeof t&&(t=Ms.fromJson$$module$build$src$core$field_registry({type:"field_label",text:t})),t.setSourceBlock(this.sourceBlock),this.sourceBlock.rendered&&(t.init(),t.applyColour()),t.name=n,t.setVisible(this.isVisible()),t.prefixField&&(e=this.insertFieldAt(e,t.prefixField)),this.fieldRow.splice(e,0,t),e++,t.suffixField&&(e=this.insertFieldAt(e,t.suffixField)),this.sourceBlock.rendered&&(this.sourceBlock.queueRender(),this.sourceBlock.bumpNeighbours()),e):e}removeField(e,t){for(let t,n=0;t=this.fieldRow[n];n++)if(t.name===e)return t.dispose(),this.fieldRow.splice(n,1),this.sourceBlock.rendered&&(this.sourceBlock.queueRender(),this.sourceBlock.bumpNeighbours()),!0;if(t)return!1;throw Error('Field "'+e+'" not found.')}isVisible(){return this.visible}setVisible(e){let t=[];if(this.visible===e)return t;this.visible=e;for(let t,n=0;t=this.fieldRow[n];n++)t.setVisible(e);if(this.connection){var n=this.connection;e?t=n.startTrackingAll():n.stopTrackingAll(),(n=n.targetBlock())&&(n.getSvgRoot().style.display=e?"block":"none")}return t}markDirty(){for(let e,t=0;e=this.fieldRow[t];t++)e.markDirty()}setCheck(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this}setAlign(e){return this.align=e,this.sourceBlock.rendered&&this.sourceBlock.queueRender(),this}setShadowDom(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this}getShadowDom(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()}init(){if(this.sourceBlock.workspace.rendered)for(let e=0;e<this.fieldRow.length;e++)this.fieldRow[e].init()}dispose(){for(let e,t=0;e=this.fieldRow[t];t++)e.dispose();this.connection&&this.connection.dispose()}makeConnection(e){return this.sourceBlock.makeConnection_(e)}};(function(e){(e=e.Align||(e.Align={}))[e.LEFT=-1]="LEFT",e[e.CENTRE=0]="CENTRE",e[e.RIGHT=1]="RIGHT"})(Ep||(Ep={})),Ms.Align$$module$build$src$core$inputs$input=Ep.Align,{Align:Ms.Align$$module$build$src$core$inputs$input}.Input=Ep;var wp=class extends Ep{constructor(e,t){super(e,t),this.name=e,this.type=Ms.inputTypes$$module$build$src$core$inputs$input_types.DUMMY}},Tp=class extends Ep{constructor(e,t){super(e,t),this.name=e,this.type=Ms.inputTypes$$module$build$src$core$inputs$input_types.END_ROW}},kp=class extends Ep{constructor(e,t){if(!e)throw Error("Statement inputs must have a non-empty name");super(e,t),this.name=e,this.type=Ms.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT,this.connection=this.makeConnection(Uc.NEXT_STATEMENT)}};Ms.ValueInput$$module$build$src$core$inputs$value_input=class extends Ep{constructor(e,t){if(!e)throw Error("Value inputs must have a non-empty name");super(e,t),this.name=e,this.type=Ms.inputTypes$$module$build$src$core$inputs$input_types.VALUE,this.connection=this.makeConnection(Uc.INPUT_VALUE)}},Ms.ValueInput$$module$build$src$core$inputs$value_input;var Sp=class{constructor(e,t){this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.startY=this.startX=0,this.renderer_=e,this.block_=t,this.constants_=this.renderer_.getConstants(),this.outputConnection=t.outputConnection?new hp(this.constants_,t.outputConnection):null,this.isInline=t.getInputsInline()&&!t.isCollapsed(),this.isCollapsed=t.isCollapsed(),this.isInsertionMarker=t.isInsertionMarker(),this.RTL=t.RTL,this.topRow=new mp(this.constants_),this.bottomRow=new Zh(this.constants_)}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}createRows_(){this.populateTopRow_(),this.rows.push(this.topRow);let e=new lp(this.constants_);this.inputRows.push(e);var t=this.block_.getIcons();for(let n,r=0;n=t[r];r++){const t=new op(this.constants_,n);this.isCollapsed&&!n.isShownWhenCollapsed()||e.elements.push(t)}t=void 0;for(let n,r=0;n=this.block_.inputList[r];r++)if(n.isVisible()){this.shouldStartNewRow_(n,t)&&(this.rows.push(e),e=new lp(this.constants_),this.inputRows.push(e));for(let t,r=0;t=n.fieldRow[r];r++)e.elements.push(new np(this.constants_,t,n));this.addInput_(n,e),t=n}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new cp(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)}populateTopRow_(){var e=!!this.block_.previousConnection;const t=(this.block_.hat?"cap"===this.block_.hat:this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e;let n=this.topRow.hasLeftSquareCorner(this.block_)?gp:dp;this.topRow.elements.push(new n(this.constants_)),t?(e=new rp(this.constants_),this.topRow.elements.push(e),this.topRow.capline=e.ascenderHeight):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new pp(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0]instanceof kp&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,n=this.topRow.hasRightSquareCorner(this.block_)?gp:dp,this.topRow.elements.push(new n(this.constants_,"right"))}populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof kp?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new gp(this.constants_)):this.bottomRow.elements.push(new dp(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new up(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new gp(this.constants_,"right")):this.bottomRow.elements.push(new dp(this.constants_,"right"))}addInput_(e,t){this.isInline&&e instanceof Ms.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new sp(this.constants_,e)),t.hasInlineInput=!0):e instanceof kp?(t.elements.push(new ap(this.constants_,e)),t.hasStatement=!0):e instanceof Ms.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new tp(this.constants_,e)),t.hasExternalInput=!0):(e instanceof wp||e instanceof Tp)&&(t.minHeight=Math.max(t.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),null===t.align&&(t.align=e.align)}shouldStartNewRow_(e,t){return!!t&&(t instanceof Tp||e instanceof kp||t instanceof kp||(e instanceof Ms.ValueInput$$module$build$src$core$inputs$value_input||e instanceof wp||t instanceof Ms.ValueInput$$module$build$src$core$inputs$value_input)&&!this.isInline)}addElemSpacing_(){for(let e,t=0;e=this.rows[t];t++){const t=e.elements;if(e.elements=[],e.startsWithElemSpacer()&&e.elements.push(new ip(this.constants_,this.getInRowSpacing_(null,t[0]))),t.length){for(let n=0;n<t.length-1;n++){e.elements.push(t[n]);const r=this.getInRowSpacing_(t[n],t[n+1]);e.elements.push(new ip(this.constants_,r))}e.elements.push(t[t.length-1]),e.endsWithElemSpacer()&&e.elements.push(new ip(this.constants_,this.getInRowSpacing_(t[t.length-1],null)))}}}getInRowSpacing_(e,t){if(!e&&t&&Xh.isStatementInput(t))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&Xh.isInput(e)&&!t){if(Xh.isExternalInput(e))return this.constants_.NO_PADDING;if(Xh.isInlineInput(e))return this.constants_.LARGE_PADDING;if(Xh.isStatementInput(e))return this.constants_.NO_PADDING}return e&&Xh.isLeftSquareCorner(e)&&t&&(Xh.isPreviousConnection(t)||Xh.isNextConnection(t))?t.notchOffset:e&&Xh.isLeftRoundedCorner(e)&&t&&(Xh.isPreviousConnection(t)||Xh.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}computeBounds_(){let e=0,t=0,n=0;for(let o,i=0;o=this.rows[i];i++){if(o.measure(),t=Math.max(t,o.width),o.hasStatement){var r=o.getLastInput();let t,n;r=o.width-(null!=(n=null==(t=r)?void 0:t.width)?n:0),e=Math.max(e,r)}n=Math.max(n,o.widthWithConnectedBlocks)}this.statementEdge=e,this.width=t;for(let e,t=0;e=this.rows[t];t++)e.hasStatement&&(e.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(t,n),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}alignRowElements_(){for(let t,n=0;t=this.rows[n];n++)if(t.hasStatement)this.alignStatementRow_(t);else{var e=t.width;0<(e=this.getDesiredRowWidth_(t)-e)&&this.addAlignmentPadding_(t,e),Xh.isTopOrBottomRow(t)&&(t.widthWithConnectedBlocks=t.width)}}getDesiredRowWidth_(e){return this.width-this.startX}addAlignmentPadding_(e,t){const n=e.getFirstSpacer(),r=e.getLastSpacer();if((e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=t),e.align===Ms.Align$$module$build$src$core$inputs$align.LEFT&&r)r.width+=t;else if(e.align===Ms.Align$$module$build$src$core$inputs$align.CENTRE&&n&&r)n.width+=t/2,r.width+=t/2;else if(e.align===Ms.Align$$module$build$src$core$inputs$align.RIGHT&&n)n.width+=t;else{if(!r)return;r.width+=t}e.width+=t}alignStatementRow_(e){const t=e.getLastInput();if(t){var n=e.width-t.width,r=this.statementEdge;0<(n=r-n)&&this.addAlignmentPadding_(e,n),n=e.width,r=this.getDesiredRowWidth_(e),t.width+=r-n,t.height=Math.max(t.height,e.height),e.width+=r-n,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)}}addRowSpacing_(){const e=this.rows;this.rows=[];for(let t=0;t<e.length;t++)this.rows.push(e[t]),t!==e.length-1&&this.rows.push(this.makeSpacerRow_(e[t],e[t+1]))}makeSpacerRow_(e,t){var n=this.getSpacerRowHeight_(e,t);const r=this.getSpacerRowWidth_(e,t);return n=new fp(this.constants_,n,r),e.hasStatement&&(n.followsStatement=!0),t.hasStatement&&(n.precedesStatement=!0),n}getSpacerRowWidth_(e,t){return this.width-this.startX}getSpacerRowHeight_(e,t){return this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){return Xh.isSpacer(t)?e.yPos+t.height/2:Xh.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,Xh.isNextConnection(t)?e+t.height/2:e-t.height/2):Xh.isTopRow(e)?Xh.isHat(t)?e.capline-t.height/2:e.capline+t.height/2:e.yPos+e.height/2}recordElemPositions_(e){let t=e.xPos;for(let n,r=0;n=e.elements[r];r++)Xh.isSpacer(n)&&(n.height=e.height),n.xPos=t,n.centerline=this.getElemCenterline_(e,n),t+=n.width}finalize_(){let e=0,t=0;for(let n,r=0;n=this.rows[r];r++)n.yPos=t,n.xPos=this.startX,t+=n.height,e=Math.max(e,n.widthWithConnectedBlocks),this.recordElemPositions_(n);if(this.outputConnection&&this.block_.nextConnection){const t=this.block_.nextConnection.targetBlock();t&&(e=Math.max(e,t.getHeightWidth().width))}this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline,this.bottomRow.baseline=t-this.bottomRow.descenderHeight}getMeasureableForConnection(e){let t;if((null==(t=this.outputConnection)?void 0:t.connectionModel)===e)return this.outputConnection;for(const t of this.rows)for(const n of t.elements)if(n instanceof Qh&&n.connectionModel===e)return n;return null}},Cp=class{constructor(e,t,n){if(this.wsCoordinate=null,!t)throw Error("Cannot create a node without a location.");this.type=e,this.isConnectionLocation=Cp.isConnectionType(e),this.location=t,this.processParams(n||null)}processParams(e){e&&e.wsCoordinate&&(this.wsCoordinate=e.wsCoordinate)}getLocation(){return this.location}getType(){return this.type}getWsCoordinate(){return this.wsCoordinate}isConnection(){return this.isConnectionLocation}findNextForInput(){var e=this.location.getParentInput();const t=e.getSourceBlock();for(e=t.inputList.indexOf(e),e+=1;e<t.inputList.length;e++){const n=t.inputList[e],r=n.fieldRow;for(let e=0;e<r.length;e++){const t=r[e];if(t.isClickable()||Cp.NAVIGATE_ALL_FIELDS)return Cp.createFieldNode(t)}if(n.connection)return Cp.createInputNode(n)}return null}findNextForField(){var e=this.location,t=e.getParentInput();const n=e.getSourceBlock();if(!n)throw Error("The current AST location is not associated with a block");var r=n.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)+1;r<n.inputList.length;r++){const o=(t=n.inputList[r]).fieldRow;for(;e<o.length;){if(o[e].isClickable()||Cp.NAVIGATE_ALL_FIELDS)return Cp.createFieldNode(o[e]);e++}if(e=0,t.connection)return Cp.createInputNode(t)}return null}findPrevForInput(){const e=this.location.getParentInput(),t=e.getSourceBlock();for(var n=t.inputList.indexOf(e);0<=n;n--){var r=t.inputList[n];if(r.connection&&r!==e)return Cp.createInputNode(r);for(let e=(r=r.fieldRow).length-1;0<=e;e--){const t=r[e];if(t.isClickable()||Cp.NAVIGATE_ALL_FIELDS)return Cp.createFieldNode(t)}}return null}findPrevForField(){var e=this.location;const t=e.getParentInput(),n=e.getSourceBlock();if(!n)throw Error("The current AST location is not associated with a block");var r=n.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)-1;0<=r;r--){var o=n.inputList[r];if(o.connection&&o!==t)return Cp.createInputNode(o);for(o=o.fieldRow;-1<e;){if(o[e].isClickable()||Cp.NAVIGATE_ALL_FIELDS)return Cp.createFieldNode(o[e]);e--}0<=r-1&&(e=n.inputList[r-1].fieldRow.length-1)}return null}navigateBetweenStacks(e){var t=this.getLocation();if(t.getSourceBlock){var n=t.getSourceBlock();n&&(t=n)}if(!t||t.isDeadOrDying())return null;n=t.getRootBlock(),t=n.workspace.getTopBlocks(!0);for(let r=0;r<t.length;r++)if(n.id===t[r].id)return-1===(e=r+(e?1:-1))||e===t.length?null:Cp.createStackNode(t[e]);throw Error("Couldn't find "+(e?"next":"previous")+" stack?!")}findTopASTNodeForBlock(e){const t=ki(e);return t?Cp.createConnectionNode(t):Cp.createBlockNode(e)}getOutAstNodeForBlock(e){if(!e)return null;e=e.getTopStackBlock();const t=ki(e);return t&&t.targetConnection&&t.targetConnection.getParentInput()?Cp.createInputNode(t.targetConnection.getParentInput()):Cp.createStackNode(e)}findFirstFieldOrInput(e){e=e.inputList;for(let t=0;t<e.length;t++){const n=e[t],r=n.fieldRow;for(let e=0;e<r.length;e++){const t=r[e];if(t.isClickable()||Cp.NAVIGATE_ALL_FIELDS)return Cp.createFieldNode(t)}if(n.connection)return Cp.createInputNode(n)}return null}getSourceBlock(){return this.getType()===Cp.types.BLOCK||this.getType()===Cp.types.STACK?this.getLocation():this.getType()===Cp.types.WORKSPACE?null:this.getLocation().getSourceBlock()}next(){switch(this.type){case Cp.types.STACK:return this.navigateBetweenStacks(!0);case Cp.types.OUTPUT:return Cp.createBlockNode(this.location.getSourceBlock());case Cp.types.FIELD:return this.findNextForField();case Cp.types.INPUT:return this.findNextForInput();case Cp.types.BLOCK:const e=this.location.nextConnection;if(!e)break;return Cp.createConnectionNode(e);case Cp.types.PREVIOUS:return Cp.createBlockNode(this.location.getSourceBlock());case Cp.types.NEXT:return Cp.createConnectionNode(this.location.targetConnection)}return null}in(){switch(this.type){case Cp.types.WORKSPACE:const e=this.location.getTopBlocks(!0);if(0<e.length)return Cp.createStackNode(e[0]);break;case Cp.types.STACK:return this.findTopASTNodeForBlock(this.location);case Cp.types.BLOCK:return this.findFirstFieldOrInput(this.location);case Cp.types.INPUT:return Cp.createConnectionNode(this.location.targetConnection)}return null}prev(){switch(this.type){case Cp.types.STACK:return this.navigateBetweenStacks(!1);case Cp.types.FIELD:return this.findPrevForField();case Cp.types.INPUT:return this.findPrevForInput();case Cp.types.BLOCK:var e=ki(this.location);if(!e)break;return Cp.createConnectionNode(e);case Cp.types.PREVIOUS:if((e=this.location.targetConnection)&&!e.getParentInput())return Cp.createConnectionNode(e);break;case Cp.types.NEXT:return Cp.createBlockNode(this.location.getSourceBlock())}return null}out(){switch(this.type){case Cp.types.STACK:var e=this.location,t=e.getRelativeToSurfaceXY();return t=new hl(t.x,t.y+Cp.DEFAULT_OFFSET_Y),Cp.createWorkspaceNode(e.workspace,t);case Cp.types.OUTPUT:return(t=(e=this.location).targetConnection)?Cp.createConnectionNode(t):Cp.createStackNode(e.getSourceBlock());case Cp.types.FIELD:if(!(e=this.location.getSourceBlock()))throw Error("The current AST location is not associated with a block");return Cp.createBlockNode(e);case Cp.types.INPUT:return Cp.createBlockNode(this.location.getSourceBlock());case Cp.types.BLOCK:return this.getOutAstNodeForBlock(this.location);case Cp.types.PREVIOUS:case Cp.types.NEXT:return this.getOutAstNodeForBlock(this.location.getSourceBlock())}return null}static isConnectionType(e){switch(e){case Cp.types.PREVIOUS:case Cp.types.NEXT:case Cp.types.INPUT:case Cp.types.OUTPUT:return!0}return!1}static createFieldNode(e){return e?new Cp(Cp.types.FIELD,e):null}static createConnectionNode(e){if(!e)return null;const t=e.type;return t===Uc.INPUT_VALUE||t===Uc.NEXT_STATEMENT&&e.getParentInput()?Cp.createInputNode(e.getParentInput()):t===Uc.NEXT_STATEMENT?new Cp(Cp.types.NEXT,e):t===Uc.OUTPUT_VALUE?new Cp(Cp.types.OUTPUT,e):t===Uc.PREVIOUS_STATEMENT?new Cp(Cp.types.PREVIOUS,e):null}static createInputNode(e){return e&&e.connection?new Cp(Cp.types.INPUT,e.connection):null}static createBlockNode(e){return e?new Cp(Cp.types.BLOCK,e):null}static createStackNode(e){return e?new Cp(Cp.types.STACK,e):null}static createWorkspaceNode(e,t){return t&&e?new Cp(Cp.types.WORKSPACE,e,{wsCoordinate:t}):null}static createTopNode(e){const t=ki(e);return t?Cp.createConnectionNode(t):Cp.createBlockNode(e)}};Cp.NAVIGATE_ALL_FIELDS=!1,Cp.DEFAULT_OFFSET_Y=-20,function(e){(e=e.types||(e.types={})).FIELD="field",e.BLOCK="block",e.INPUT="input",e.OUTPUT="output",e.NEXT="next",e.PREVIOUS="previous",e.STACK="stack",e.WORKSPACE="workspace"}(Cp||(Cp={}));var Op=class extends xa{constructor(e,t,n,r){let o=e?e.workspace.id:void 0;r&&r.getType()===Cp.types.WORKSPACE&&(o=r.getLocation().id),super(o),this.type=aa,this.blockId=null==e?void 0:e.id,this.oldNode=n||void 0,this.newNode=r,this.isCursor=t}toJson(){const e=super.toJson();if(void 0===this.isCursor)throw Error("Whether this is a cursor event or not is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newNode)throw Error("The new node is undefined. Either pass a node to the constructor, or call fromJson");return e.isCursor=this.isCursor,e.blockId=this.blockId,e.oldNode=this.oldNode,e.newNode=this.newNode,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Op)).isCursor=e.isCursor,t.blockId=e.blockId,t.oldNode=e.oldNode,t.newNode=e.newNode,t}};e(js.EVENT,aa,Op);var Ip=class{constructor(e,t,n){this.workspace=e,this.marker=n,this.markerSvgRect_=this.markerSvgLine_=this.markerInput_=this.markerBlock_=this.svgGroup_=this.markerSvg_=this.currentMarkerSvg=this.parent=null,this.constants_=t,e=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=n.colour||e}getSvgRoot(){return this.svgGroup_}getMarker(){return this.marker}isCursor(){return"cursor"===this.marker.type}createDom(){const e=this.isCursor()?"blocklyCursor":"blocklyMarker";return this.svgGroup_=re(wl.G,{class:e}),this.createDomInternal_(),this.svgGroup_}setParent_(e){this.isCursor()?(this.parent&&this.parent.setCursorSvg(null),e.setCursorSvg(this.getSvgRoot())):(this.parent&&this.parent.setMarkerSvg(null),e.setMarkerSvg(this.getSvgRoot())),this.parent=e}draw(e,t){if(t){this.constants_=this.workspace.getRenderer().getConstants();var n=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker.colour||n,this.applyColour_(t),this.showAtLocation_(t),this.fireMarkerEvent(e,t),void 0!==(e=this.currentMarkerSvg.childNodes[0])&&e.beginElement&&e.beginElement()}else this.hide()}showAtLocation_(e){const t=e.getLocation().type;e.getType()===Cp.types.BLOCK?this.showWithBlock_(e):e.getType()===Cp.types.OUTPUT?this.showWithOutput_(e):t===Uc.INPUT_VALUE?this.showWithInput_(e):t===Uc.NEXT_STATEMENT?this.showWithNext_(e):e.getType()===Cp.types.PREVIOUS?this.showWithPrevious_(e):e.getType()===Cp.types.FIELD?this.showWithField_(e):e.getType()===Cp.types.WORKSPACE?this.showWithCoordinates_(e):e.getType()===Cp.types.STACK&&this.showWithStack_(e)}showWithBlockPrevOutput(e){const t=(e=e.getSourceBlock()).width;var n=e.height,r=.75*n;const o=this.constants_.CURSOR_BLOCK_PADDING;e.previousConnection?(n=this.constants_.shapeFor(e.previousConnection),this.positionPrevious_(t,o,r,n)):e.outputConnection?(r=this.constants_.shapeFor(e.outputConnection),this.positionOutput_(t,n,r)):this.positionBlock_(t,o,r),this.setParent_(e),this.showCurrent_()}showWithBlock_(e){this.showWithBlockPrevOutput(e)}showWithPrevious_(e){this.showWithBlockPrevOutput(e)}showWithOutput_(e){this.showWithBlockPrevOutput(e)}showWithCoordinates_(e){var t=e.getWsCoordinate();e=t.x,t=t.y,this.workspace.RTL&&(e-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(e,t,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace),this.showCurrent_()}showWithField_(e){const t=(e=e.getLocation()).getSize().width,n=e.getSize().height;this.positionRect_(0,0,t,n),this.setParent_(e),this.showCurrent_()}showWithInput_(e){const t=(e=e.getLocation()).getSourceBlock();this.positionInput_(e),this.setParent_(t),this.showCurrent_()}showWithNext_(e){var t=e.getLocation();e=t.getSourceBlock();let n=0;t=t.getOffsetInBlock().y;const r=e.getHeightWidth().width;this.workspace.RTL&&(n=-r),this.positionLine_(n,t,r),this.setParent_(e),this.showCurrent_()}showWithStack_(e){var t=(e=e.getLocation()).getHeightWidth();const n=t.width+this.constants_.CURSOR_STACK_PADDING;t=t.height+this.constants_.CURSOR_STACK_PADDING;const r=-this.constants_.CURSOR_STACK_PADDING/2,o=-this.constants_.CURSOR_STACK_PADDING/2;let i=r;this.workspace.RTL&&(i=-(n+r)),this.positionRect_(i,o,n,t),this.setParent_(e),this.showCurrent_()}showCurrent_(){this.hide(),this.currentMarkerSvg&&(this.currentMarkerSvg.style.display="")}positionBlock_(e,t,n){if(e=oi(-t,n)+ai("V",-t)+ai("H",e+2*t)+ai("V",n),!this.markerBlock_)throw Error("createDom should be called before positioning the marker");this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionInput_(e){const t=e.getOffsetInBlock().x,n=e.getOffsetInBlock().y;e=ri(0,0)+this.constants_.shapeFor(e).pathDown,this.markerInput_.setAttribute("d",e),this.markerInput_.setAttribute("transform","translate("+t+","+n+")"+(this.workspace.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_}positionLine_(e,t,n){if(!this.markerSvgLine_)throw Error("createDom should be called before positioning the line");this.markerSvgLine_.setAttribute("x",`${e}`),this.markerSvgLine_.setAttribute("y",`${t}`),this.markerSvgLine_.setAttribute("width",`${n}`),this.currentMarkerSvg=this.markerSvgLine_}positionOutput_(e,t,n){if(!this.markerBlock_)throw Error("createDom should be called before positioning the output");e=oi(e,0)+ai("h",-(e-n.width))+ai("v",this.constants_.TAB_OFFSET_FROM_TOP)+n.pathDown+ai("V",t)+ai("H",e),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionPrevious_(e,t,n,r){if(!this.markerBlock_)throw Error("createDom should be called before positioning the previous connection marker");e=oi(-t,n)+ai("V",-t)+ai("H",this.constants_.NOTCH_OFFSET_LEFT)+r.pathLeft+ai("H",e+2*t)+ai("V",n),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionRect_(e,t,n,r){if(!this.markerSvgRect_)throw Error("createDom should be called before positioning the rect");this.markerSvgRect_.setAttribute("x",`${e}`),this.markerSvgRect_.setAttribute("y",`${t}`),this.markerSvgRect_.setAttribute("width",`${n}`),this.markerSvgRect_.setAttribute("height",`${r}`),this.currentMarkerSvg=this.markerSvgRect_}flipRtl(e){e.setAttribute("transform","scale(-1 1)")}hide(){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before hiding the marker");this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"}fireMarkerEvent(e,t){const n=t.getSourceBlock();e=new(B(aa))(n,this.isCursor(),e,t),x(e)}getBlinkProperties_(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}}createDomInternal_(){if(this.markerSvg_=re(wl.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=re(wl.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.markerSvg_),this.markerSvgRect_=re(wl.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10},this.markerSvg_),this.markerInput_=re(wl.PATH,{transform:""},this.markerSvg_),this.markerBlock_=re(wl.PATH,{transform:"",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.hide(),this.isCursor()){const e=this.getBlinkProperties_();re(wl.ANIMATE,e,this.markerSvgLine_),re(wl.ANIMATE,e,this.markerInput_),re(wl.ANIMATE,Object.assign({},e,{attributeName:"stroke"}),this.markerBlock_)}return this.markerSvg_}applyColour_(e){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before applying color to the markerj");this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(e=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstElementChild.setAttribute("values",e),this.markerInput_.firstElementChild.setAttribute("values",e),this.markerBlock_.firstElementChild.setAttribute("values",e))}dispose(){this.svgGroup_&&le(this.svgGroup_)}},xp=class{constructor(e,t,n){this.markerSvg=this.cursorSvg=null,this.connectionHighlights=new WeakMap,this.highlightOffsets=new WeakMap,this.constants=n,this.style=t,this.svgRoot=e,this.svgPath=re(wl.PATH,{class:"blocklyPath"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)")}setCursorSvg(e){e?(this.svgRoot.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}setMarkerSvg(e){e?(this.cursorSvg?this.svgRoot.insertBefore(e,this.cursorSvg):this.svgRoot.appendChild(e),this.markerSvg=e):this.markerSvg=null}applyColour(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())}setStyle(e){this.style=e}setClass_(e,t){e&&(t?oe(this.svgRoot,e):se(this.svgRoot,e))}updateHighlighted(e){e?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")}updateShadow_(e){e&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))}updateDisabled_(e){this.setClass_("blocklyDisabled",e),e&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")}updateSelected(e){this.setClass_("blocklySelected",e)}updateDraggingDelete(e){this.setClass_("blocklyDraggingDelete",e)}updateInsertionMarker(e){this.setClass_("blocklyInsertionMarker",e)}updateMovable(e){this.setClass_("blocklyDraggable",e)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e)}updateShapeForInputHighlight(e,t){}addConnectionHighlight(e,t,n,r){if(this.connectionHighlights.has(e)){if(this.currentHighlightMatchesNew(e,t,n))return;this.removeConnectionHighlight(e)}t=re(wl.PATH,{class:"blocklyHighlightedConnectionPath",d:t,transform:`translate(${n.x}, ${n.y})`+(r?" scale(-1 1)":"")},this.svgRoot),this.connectionHighlights.set(e,t)}currentHighlightMatchesNew(e,t,n){let r;const o=null==(r=this.connectionHighlights.get(e))?void 0:r.getAttribute("d");return e=this.highlightOffsets.get(e),o===t&&hl.equals(e,n)}removeConnectionHighlight(e){const t=this.connectionHighlights.get(e);t&&(le(t),this.connectionHighlights.delete(e))}},Rp=class{constructor(e,t){this.type=t,this.targetConnection=null,this.disposed=!1,this.shadowDom=this.check=null,this.y=this.x=0,this.shadowState=null,this.sourceBlock_=e}connect_(e){const t=Uc.INPUT_VALUE,n=this.getSourceBlock();var r=e.getSourceBlock();let o,i;if(e.isConnected()&&e.disconnectInternal(!1),this.isConnected()){const e=this.stashShadowState(),t=this.targetBlock();t.isShadow()?t.dispose(!1):(this.disconnectInternal(),o=t),this.applyShadowState(e)}D()&&(i=new(B(Ms.MOVE$$module$build$src$core$events$utils))(r),i.setReason(["connect"])),Si(this,e),r.setParent(n),i&&(i.recordNew(),x(i)),o&&(e=this.type===t?o.outputConnection:o.previousConnection)&&((r=Rp.getConnectionForOrphanedConnection(r,e))?e.connect(r):e.onFailedConnect(this))}dispose(){if(this.isConnected()){this.setShadowStateInternal();const e=this.targetBlock();e&&!e.isDeadOrDying()&&e.unplug()}this.disposed=!0}getSourceBlock(){return this.sourceBlock_}isSuperior(){return this.type===Uc.INPUT_VALUE||this.type===Uc.NEXT_STATEMENT}isConnected(){return!!this.targetConnection}getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker}onFailedConnect(e){}connect(e){if(this.targetConnection===e)return!0;if(this.getConnectionChecker().canConnect(this,e,!1)){const t=Ms.getGroup$$module$build$src$core$events$utils();t||Ms.setGroup$$module$build$src$core$events$utils(!0),this.isSuperior()?this.connect_(e):e.connect_(this),Ms.setGroup$$module$build$src$core$events$utils(t)}return this.isConnected()}disconnect(){this.disconnectInternal()}disconnectInternal(e=!0){const{parentConnection:t,childConnection:n}=this.getParentAndChildConnections();if(!t||!n)throw Error("Source connection not connected.");const r=Ms.getGroup$$module$build$src$core$events$utils();let o;r||Ms.setGroup$$module$build$src$core$events$utils(!0),D()&&(o=new(B(Ms.MOVE$$module$build$src$core$events$utils))(n.getSourceBlock()),o.setReason(["disconnect"]));const i=this.targetConnection;i&&(i.targetConnection=null),this.targetConnection=null,e&&n.getSourceBlock().setParent(null),o&&(o.recordNew(),x(o)),n.getSourceBlock().isShadow()||t.respawnShadow_(),Ms.setGroup$$module$build$src$core$events$utils(r)}getParentAndChildConnections(){return this.targetConnection?this.isSuperior()?{parentConnection:this,childConnection:this.targetConnection}:{parentConnection:this.targetConnection,childConnection:this}:{}}respawnShadow_(){this.createShadowBlock(!0)}reconnect(e,t){return!(this.getSourceBlock().isDeadOrDying()||(t=null==(n=e.getInput(t))?void 0:n.connection,(n=this.targetBlock())&&n!==e||!t||t.targetConnection===this||(t.isConnected()&&t.disconnect(),t.connect(this),0)));var n}targetBlock(){if(this.isConnected()){let e,t;return null!=(t=null==(e=this.targetConnection)?void 0:e.getSourceBlock())?t:null}return null}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(e){return e?(Array.isArray(e)||(e=[e]),this.check=e,this.onCheckChanged_()):this.check=null,this}getCheck(){return this.check}setShadowDom(e){this.setShadowStateInternal({shadowDom:e})}getShadowDom(e){return e&&this.targetBlock().isShadow()?Pt(this.targetBlock()):this.shadowDom}setShadowState(e){this.setShadowStateInternal({shadowState:e})}getShadowState(e){return e&&this.targetBlock()&&this.targetBlock().isShadow()?sn(this.targetBlock()):this.shadowState}neighbours(e){return[]}getParentInput(){let e=null;const t=this.sourceBlock_.inputList;for(let n=0;n<t.length;n++)if(t[n].connection===this){e=t[n];break}return e}toString(){const e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection===this)var t="Output Connection of ";else if(e.previousConnection===this)t="Previous Connection of ";else if(e.nextConnection===this)t="Next Connection of ";else{t=null;for(let n,r=0;n=e.inputList[r];r++)if(n.connection===this){t=n;break}if(!t)return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection";t='Input "'+t.name+'" connection on '}return t+e.toDevString()}stashShadowState(){const e=this.getShadowDom(!0),t=this.getShadowState(!0);return this.shadowState=this.shadowDom=null,{shadowDom:e,shadowState:t}}applyShadowState({shadowDom:e,shadowState:t}){this.shadowDom=e,this.shadowState=t}setShadowStateInternal({shadowDom:e=null,shadowState:t=null}={}){this.shadowDom=e,this.shadowState=t,(e=this.targetBlock())?e.isShadow()?(e.dispose(!1),this.getSourceBlock().isDeadOrDying()||(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock()))):(e=this.createShadowBlock(!1),this.serializeShadow(e),e&&e.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock()))}createShadowBlock(e){var t=this.getSourceBlock();const n=this.getShadowState(),r=this.getShadowDom();if(t.isDeadOrDying()||!n&&!r)return null;if(n)return mn(n,t.workspace,{parentConnection:e?this:void 0,isShadow:!0,recordUndo:!1});if(r){if(t=Ht(r,t.workspace),e)if(this.type===Uc.INPUT_VALUE){if(!t.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(t.outputConnection))throw Error("Could not connect shadow block to connection")}else{if(this.type!==Uc.NEXT_STATEMENT)throw Error("Cannot connect a shadow block to a previous/output connection");if(!t.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(t.previousConnection))throw Error("Could not connect shadow block to connection")}return t}return null}serializeShadow(e){e&&(this.shadowDom=Pt(e),this.shadowState=sn(e))}static getConnectionForOrphanedConnection(e,t){if(t.type===Uc.OUTPUT_VALUE)return Oi(e,t.getSourceBlock());e=e.lastConnectionInStack(!0);const n=t.getConnectionChecker();return e&&n.canConnect(t,e,!1)?e:null}};Rp.CAN_CONNECT=0,Rp.REASON_SELF_CONNECTION=1,Rp.REASON_WRONG_TYPE=2,Rp.REASON_TARGET_NULL=3,Rp.REASON_CHECKS_FAILED=4,Rp.REASON_DIFFERENT_WORKSPACES=5,Rp.REASON_SHADOW_PARENT=6,Rp.REASON_DRAG_CHECKS_FAILED=7,Rp.REASON_PREVIOUS_AND_OUTPUT=8;var Np="_TEMP_COLLAPSED_INPUT",Ap="_TEMP_COLLAPSED_FIELD",$p={COLLAPSED_FIELD_NAME:Ap,COLLAPSED_INPUT_NAME:Np},Dp="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.",Mp=class{constructor(e){this.activeCandidate=this.lastMarker=this.lastOnStack=null,this.wouldDeleteBlock=!1,this.fadedBlock=this.highlightedBlock=this.markerConnection=null,y(e),this.topBlock=e,this.workspace=e.workspace,this.firstMarker=this.createMarkerBlock(this.topBlock),this.availableConnections=this.initAvailableConnections(),this.lastOnStack&&(this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock()))}dispose(){this.availableConnections.length=0,this.disposeInsertionMarker(this.firstMarker),this.disposeInsertionMarker(this.lastMarker)}updateAvailableConnections(){this.availableConnections=this.initAvailableConnections()}wouldConnectBlock(){return!!this.activeCandidate}applyConnections(){if(this.activeCandidate){Ms.disable$$module$build$src$core$events$utils(),this.hidePreview(),Ms.enable$$module$build$src$core$events$utils();var{local:e,closest:t}=this.activeCandidate;if(e.connect(t),this.topBlock.rendered){const n=e.isSuperior()?t:e,r=this.topBlock.getRootBlock();Tt().then((()=>{Lr(n.getSourceBlock()),setTimeout((()=>{r.bringToFront()}),0)}))}}}update(e,t){const n=this.getCandidate(e);((this.wouldDeleteBlock=this.shouldDelete(!!n,t))||this.shouldUpdatePreviews(n,e))&&(Ms.disable$$module$build$src$core$events$utils(),this.maybeHidePreview(n),this.maybeShowPreview(n),Ms.enable$$module$build$src$core$events$utils())}createMarkerBlock(e){var t=e.type;let n;Ms.disable$$module$build$src$core$events$utils();try{if(n=this.workspace.newBlock(t),n.setInsertionMarker(!0),e.saveExtraState){var r=e.saveExtraState(!0);r&&n.loadExtraState&&n.loadExtraState(r)}else if(e.mutationToDom){const t=e.mutationToDom();t&&n.domToMutation&&n.domToMutation(t)}for(t=0;t<e.inputList.length;t++){const o=e.inputList[t];if(o.name===Np)continue;const i=n.inputList[t];if(!i)throw Error(Dp.replace("%1","an input"));for(r=0;r<o.fieldRow.length;r++){const e=o.fieldRow[r],t=i.fieldRow[r];if(!t)throw Error(Dp.replace("%1","a field"));t.setValue(e.getValue())}}for(const e of n.getDescendants(!1))e.setInsertionMarker(!0);n.setCollapsed(e.isCollapsed()),n.setInputsInline(e.getInputsInline()),n.initSvg(),n.getSvgRoot().setAttribute("visibility","hidden")}finally{Ms.enable$$module$build$src$core$events$utils()}return n}initAvailableConnections(){const e=this.topBlock.getConnections_(!1),t=this.topBlock.lastConnectionInStack(!0);return t&&t!==this.topBlock.nextConnection&&(e.push(t),this.lastOnStack=t),e}shouldUpdatePreviews(e,t){if(!e)return!!this.activeCandidate;if(!this.activeCandidate)return!0;const{local:n,closest:r}=this.activeCandidate;if(r===e.closest&&n===e.local)return!1;const o=n.x+t.x-r.x;return t=n.y+t.y-r.y,e.radius<Math.sqrt(o*o+t*t)-Ms.config$$module$build$src$core$config.currentConnectionPreference}getCandidate(e){this.markerConnection&&this.markerConnection.isConnected()||this.updateAvailableConnections();let t=this.getStartRadius(),n=null;for(let r=0;r<this.availableConnections.length;r++){const o=this.availableConnections[r],i=o.closest(t,e);i.connection&&(n={closest:i.connection,local:o,radius:i.radius},t=i.radius)}return n}getStartRadius(){return this.activeCandidate?Ms.config$$module$build$src$core$config.connectingSnapRadius:Ms.config$$module$build$src$core$config.snapRadius}shouldDelete(e,t){return!(!t||!this.workspace.getComponentManager().hasCapability(t.id,al.Capability.DELETE_AREA))&&t.wouldDelete(this.topBlock,e)}maybeShowPreview(e){if(!this.wouldDeleteBlock&&e){var t,n=e.closest;n===(null==(t=this.activeCandidate)?void 0:t.closest)||n.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.activeCandidate=e,this.showPreview(this.activeCandidate))}}showPreview(e){const t=this.workspace.getRenderer();switch(t.getConnectionPreviewMethod(e.closest,e.local,this.topBlock)){case Mp.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline(e);break;case Mp.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker(e);break;case Mp.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade(e)}t.shouldHighlightConnection(e.closest)&&e.closest.highlight()}maybeHidePreview(e){if(e){if(this.activeCandidate){const t=this.activeCandidate.local!==e.local;(this.activeCandidate.closest!==e.closest||t||this.wouldDeleteBlock)&&this.hidePreview()}}else this.hidePreview();this.activeCandidate=this.markerConnection=null}hidePreview(){let e;const t=null==(e=this.activeCandidate)?void 0:e.closest;t&&t.targetBlock()&&this.workspace.getRenderer().shouldHighlightConnection(t)&&t.unhighlight(),this.hideReplacementFade(),this.hideInsertionInputOutline(),this.hideInsertionMarker()}showInsertionMarker(e){const{local:t,closest:n}=e;let r,o=(e=this.lastOnStack&&t===this.lastOnStack)?this.lastMarker:this.firstMarker;if(!o)throw Error("Cannot show the insertion marker because there is no insertion marker block");try{r=o.getMatchingConnection(t.getSourceBlock(),t)}catch(n){if(e&&this.lastOnStack?(this.disposeInsertionMarker(this.lastMarker),o=this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock())):(this.disposeInsertionMarker(this.firstMarker),o=this.firstMarker=this.createMarkerBlock(this.topBlock)),!o)throw Error("Cannot show the insertion marker because there is no insertion marker block");r=o.getMatchingConnection(t.getSourceBlock(),t)}if(!r)throw Error("Cannot show the insertion marker because there is no associated connection");if(r===this.markerConnection)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");o.queueRender(),kt(),r.connect(n);const i={x:n.x-r.x,y:n.y-r.y},s=r.getOffsetInBlock().clone(),a=r;Tt().then((()=>{let e,t;null==(e=o)||e.positionNearConnection(a,i,s),null==(t=o)||t.getSvgRoot().setAttribute("visibility","visible")})),this.markerConnection=r}hideInsertionMarker(){if(this.markerConnection){var e,t=this.markerConnection,n=t.getSourceBlock(),r=n.outputConnection;if(null!=(e=n.previousConnection)&&e.targetConnection||null!=r&&r.targetConnection)n.unplug(!0);else{let e;null==(e=t.targetBlock())||e.unplug(!1)}if(t.targetConnection)throw Error("markerConnection still connected at the end of disconnectInsertionMarker");this.markerConnection=null,(t=n.getSvgRoot())&&t.setAttribute("visibility","hidden")}}showInsertionInputOutline(e){e=e.closest,this.highlightedBlock=e.getSourceBlock(),this.highlightedBlock.highlightShapeForInput(e,!0)}hideInsertionInputOutline(){if(this.highlightedBlock){if(!this.activeCandidate)throw Error("Cannot hide the insertion marker outline because there is no active candidate");this.highlightedBlock.highlightShapeForInput(this.activeCandidate.closest,!1),this.highlightedBlock=null}}showReplacementFade(e){if(this.fadedBlock=e.closest.targetBlock(),!this.fadedBlock)throw Error("Cannot show the replacement fade because the closest connection does not have a target block");this.fadedBlock.fadeForReplacement(!0)}hideReplacementFade(){this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null)}getInsertionMarkers(){const e=[];return this.firstMarker&&e.push(this.firstMarker),this.lastMarker&&e.push(this.lastMarker),e}disposeInsertionMarker(e){if(e){Ms.disable$$module$build$src$core$events$utils();try{e.dispose()}finally{Ms.enable$$module$build$src$core$events$utils()}}}};!function(e){(e=e.PREVIEW_TYPE||(e.PREVIEW_TYPE={}))[e.INSERTION_MARKER=0]="INSERTION_MARKER",e[e.INPUT_OUTLINE=1]="INPUT_OUTLINE",e[e.REPLACEMENT_FADE=2]="REPLACEMENT_FADE"}(Mp||(Mp={}));var Pp=Mp.PREVIEW_TYPE,Lp={};Lp.InsertionMarkerManager=Mp,Lp.PreviewType=Pp;var Bp=class{constructor(e){this.overrides=null,this.name=e}getClassName(){return this.name+"-renderer"}init(e,t){this.constants_=this.makeConstants_(),t&&(this.overrides=t,Object.assign(this.constants_,t)),this.constants_.setTheme(e),this.constants_.init()}createDom(e,t){this.constants_.createDom(e,this.name+"-"+t.name,"."+this.getClassName()+"."+t.getClassName())}refreshDom(e,t){const n=this.getConstants();n.dispose(),this.constants_=this.makeConstants_(),this.overrides&&Object.assign(this.constants_,this.overrides),this.constants_.randomIdentifier=n.randomIdentifier,this.constants_.setTheme(t),this.constants_.init(),this.createDom(e,t)}dispose(){this.constants_&&this.constants_.dispose()}makeConstants_(){return new yp}makeRenderInfo_(e){return new Sp(this,e)}makeDrawer_(e,t){return new bp(e,t)}makeMarkerDrawer(e,t){return new Ip(e,this.getConstants(),t)}makePathObject(e,t){return new xp(e,t,this.constants_)}getConstants(){return this.constants_}shouldHighlightConnection(e){return!0}orphanCanConnectAtEnd(e,t,n){return!!Rp.getConnectionForOrphanedConnection(e,n===Uc.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}getConnectionPreviewMethod(e,t,n){return ne("getConnectionPreviewMethod","v10","v12","an IConnectionPreviewer, if it fulfills your use case."),t.type===Uc.OUTPUT_VALUE||t.type===Uc.PREVIOUS_STATEMENT?!e.isConnected()||this.orphanCanConnectAtEnd(n,e.targetBlock(),t.type)?Mp.PREVIEW_TYPE.INSERTION_MARKER:Mp.PREVIEW_TYPE.REPLACEMENT_FADE:Mp.PREVIEW_TYPE.INSERTION_MARKER}render(e){const t=this.makeRenderInfo_(e);t.measure(),this.makeDrawer_(e,t).draw()}},Fp={};Fp.BottomRow=Zh,Fp.Connection=Qh,Fp.ConstantProvider=yp,Fp.Drawer=bp,Fp.ExternalValueInput=tp,Fp.Field=np,Fp.Hat=rp,Fp.Icon=op,Fp.InRowSpacer=ip,Fp.InlineInput=sp,Fp.InputConnection=ep,Fp.InputRow=lp,Fp.JaggedEdge=cp,Fp.MarkerSvg=Ip,Fp.Measurable=Kh,Fp.NextConnection=up,Fp.OutputConnection=hp,Fp.PathObject=xp,Fp.PreviousConnection=pp,Fp.RenderInfo=Sp,Fp.Renderer=Bp,Fp.RoundCorner=dp,Fp.Row=Jh,Fp.SpacerRow=fp,Fp.SquareCorner=gp,Fp.StatementInput=ap,Fp.TopRow=mp,Fp.Types=Xh,Fp.init=Ri,Fp.register=Ii,Fp.unregister=xi;var jp=class{constructor(e,t){this.workspace=e,this.theme=t,this.subscribedWorkspaces_=[],this.componentDB=new Map}getTheme(){return this.theme}setTheme(e){var t=this.theme;this.theme=e,(e=this.workspace.getInjectionDiv())&&(t&&(t=t.getClassName())&&se(e,t),(t=this.theme.getClassName())&&oe(e,t));for(let e,t=0;e=this.subscribedWorkspaces_[t];t++)e.refreshTheme();for(const[n,r]of this.componentDB)for(const o of r){e=o.element,t=o.propertyName;const r=this.theme&&this.theme.getComponentStyle(n);e.style.setProperty(t,r||"")}for(const e of this.subscribedWorkspaces_)e.hideChaff()}subscribeWorkspace(e){this.subscribedWorkspaces_.push(e)}unsubscribeWorkspace(e){if(!Q(this.subscribedWorkspaces_,e))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")}subscribe(e,t,n){this.componentDB.has(t)||this.componentDB.set(t,[]),this.componentDB.get(t).push({element:e,propertyName:n}),t=this.theme&&this.theme.getComponentStyle(t),e.style.setProperty(n,t||"")}unsubscribe(e){if(e)for(const[t,n]of this.componentDB){for(let t=n.length-1;0<=t;t--)n[t].element===e&&n.splice(t,1);n.length||this.componentDB.delete(t)}}dispose(){this.subscribedWorkspaces_.length=0,this.componentDB.clear()}},Up="VARIABLE_DYNAMIC",Hp={CATEGORY_NAME:Up};Hp.flyoutCategory=Di,Hp.flyoutCategoryBlocks=Mi,Hp.onCreateVariableButtonClick_Colour=$i,Hp.onCreateVariableButtonClick_Number=Ai,Hp.onCreateVariableButtonClick_String=Ni;var Vp=class{canConnect(e,t,n,r){return this.canConnectWithReason(e,t,n,r)===Rp.CAN_CONNECT}canConnectWithReason(e,t,n,r){const o=this.doSafetyChecks(e,t);return o!==Rp.CAN_CONNECT?o:this.doTypeChecks(e,t)?n&&!this.doDragChecks(e,t,r||0)?Rp.REASON_DRAG_CHECKS_FAILED:Rp.CAN_CONNECT:Rp.REASON_CHECKS_FAILED}getErrorMessage(e,t,n){switch(e){case Rp.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case Rp.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case Rp.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case Rp.REASON_TARGET_NULL:return"Target connection is null.";case Rp.REASON_CHECKS_FAILED:return"Connection checks failed. "+t+" expected "+t.getCheck()+", found "+n.getCheck();case Rp.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case Rp.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case Rp.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}}doSafetyChecks(e,t){if(!e||!t)return Rp.REASON_TARGET_NULL;let n,r,o;return e.isSuperior()?(n=e.getSourceBlock(),r=t.getSourceBlock(),o=t):(r=e.getSourceBlock(),n=t.getSourceBlock(),o=e,e=t),n===r?Rp.REASON_SELF_CONNECTION:o.type!==ju[e.type]?Rp.REASON_WRONG_TYPE:n.workspace!==r.workspace?Rp.REASON_DIFFERENT_WORKSPACES:n.isShadow()&&!r.isShadow()?Rp.REASON_SHADOW_PARENT:o.type===Uc.OUTPUT_VALUE&&r.previousConnection&&r.previousConnection.isConnected()||o.type===Uc.PREVIOUS_STATEMENT&&r.outputConnection&&r.outputConnection.isConnected()?Rp.REASON_PREVIOUS_AND_OUTPUT:Rp.CAN_CONNECT}doTypeChecks(e,t){if(e=e.getCheck(),t=t.getCheck(),!e||!t)return!0;for(let n=0;n<e.length;n++)if(-1!==t.indexOf(e[n]))return!0;return!1}doDragChecks(e,t,n){if(e.distanceFrom(t)>n||t.getSourceBlock().isInsertionMarker())return!1;switch(t.type){case Uc.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,t);case Uc.OUTPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case Uc.INPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;case Uc.NEXT_STATEMENT:if(t.isConnected()&&!e.getSourceBlock().nextConnection&&!t.targetBlock().isShadow()&&t.targetBlock().nextConnection||t.targetBlock()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;default:return!1}return-1===qs.indexOf(t)}canConnectToPrevious_(e,t){return!(e.targetConnection||-1!==qs.indexOf(t)||t.targetConnection&&(!(e=t.targetBlock()).isInsertionMarker()||e.getPreviousBlock()))}};e(js.CONNECTION_CHECKER,Fs,Vp);var Wp=class extends ac{constructor(e){super(e),this.type=ta,e&&(this.varType=e.type,this.varName=e.name)}toJson(){const e=super.toJson();if(void 0===this.varType)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Wp)).varType=e.varType,t.varName=e.varName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?t.deleteVariableById(this.varId):t.createVariable(this.varName,this.varType,this.varId)}};e(js.EVENT,ta,Wp);var Gp=class extends ac{constructor(e,t){super(e),this.type=na,e&&(this.oldName=e.name,this.newName=void 0===t?"":t)}toJson(){const e=super.toJson();if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");return e.oldName=this.oldName,e.newName=this.newName,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Gp)).oldName=e.oldName,t.newName=e.newName,t}run(e){const t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");e?t.renameVariableById(this.varId,this.newName):t.renameVariableById(this.varId,this.oldName)}};e(js.EVENT,na,Gp);var zp=class{constructor(e){this.workspace=e,this.variableMap=new Map}clear(){for(const e of this.variableMap.values())for(;0<e.length;)this.deleteVariable(e[0]);if(0!==this.variableMap.size)throw Error("Non-empty variable map")}renameVariable(e,t){if(e.name!==t){var n=this.getVariable(t,e.type),r=this.workspace.getAllBlocks(!1),o=Ms.getGroup$$module$build$src$core$events$utils();o||Ms.setGroup$$module$build$src$core$events$utils(!0);try{n&&n.getId()!==e.getId()?this.renameVariableWithConflict_(e,t,n,r):this.renameVariableAndUses_(e,t,r)}finally{Ms.setGroup$$module$build$src$core$events$utils(o)}}}renameVariableById(e,t){const n=this.getVariableById(e);if(!n)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(n,t)}renameVariableAndUses_(e,t,n){for(x(new(B(na))(e,t)),e.name=t,t=0;t<n.length;t++)n[t].updateVarName(e)}renameVariableWithConflict_(e,t,n,r){const o=e.type;for(t!==n.name&&this.renameVariableAndUses_(n,t,r),t=0;t<r.length;t++)r[t].renameVarById(e.getId(),n.getId());x(new(B(ta))(e)),Q(this.variableMap.get(o),e)}createVariable(e,t,n){var r=this.getVariable(e,t);if(r){if(n&&r.getId()!==n)throw Error('Variable "'+e+'" is already in use and its id is "'+r.getId()+'" which conflicts with the passed in id, "'+n+'".');return r}if(n&&this.getVariableById(n))throw Error('Variable id, "'+n+'", is already in use.');return r=n||C(),t=t||"",r=new cc(this.workspace,e,t,r),(e=this.variableMap.get(t)||[]).push(r),this.variableMap.delete(t),this.variableMap.set(t,e),x(new(B(ea))(r)),r}deleteVariable(e){const t=e.getId(),n=this.variableMap.get(e.type);if(n)for(let r=0;r<n.length;r++)if(n[r].getId()===t){n.splice(r,1),x(new(B(ta))(e)),0===n.length&&this.variableMap.delete(e.type);break}}deleteVariableById(e){const t=this.getVariableById(e);if(t){var n=t.name;const r=this.getVariableUsesById(e);for(let t,o=0;t=r[o];o++)if("procedures_defnoreturn"===t.type||"procedures_defreturn"===t.type)return e=String(t.getFieldValue("NAME")),n=Ms.Msg$$module$build$src$core$msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",n).replace("%2",e),void Xe(n);1<r.length?(n=Ms.Msg$$module$build$src$core$msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(r.length)).replace("%2",n),Je(n,(e=>{e&&t&&this.deleteVariableInternal(t,r)}))):this.deleteVariableInternal(t,r)}else console.warn("Can't delete non-existent variable: "+e)}deleteVariableInternal(e,t){const n=Ms.getGroup$$module$build$src$core$events$utils();n||Ms.setGroup$$module$build$src$core$events$utils(!0);try{for(let e=0;e<t.length;e++)t[e].dispose(!0);this.deleteVariable(e)}finally{Ms.setGroup$$module$build$src$core$events$utils(n)}}getVariable(e,t){if(t=this.variableMap.get(t||""))for(let n,r=0;n=t[r];r++)if(Ms.Names$$module$build$src$core$names.equals(n.name,e))return n;return null}getVariableById(e){for(const t of this.variableMap.values())for(const n of t)if(n.getId()===e)return n;return null}getVariablesOfType(e){return(e=this.variableMap.get(e||""))?e.slice():[]}getVariableTypes(e){const t=new Set(this.variableMap.keys());if(e&&e.getPotentialVariableMap())for(const n of e.getPotentialVariableMap().variableMap.keys())t.add(n);return t.has("")||t.add(""),Array.from(t.values())}getAllVariables(){let e=[];for(const t of this.variableMap.values())e=e.concat(t);return e}getAllVariableNames(){return Array.from(this.variableMap.values()).flat().map((e=>e.name))}getVariableUsesById(e){const t=[],n=this.workspace.getAllBlocks(!1);for(let r=0;r<n.length;r++){const o=n[r].getVarModels();if(o)for(let i=0;i<o.length;i++)o[i].getId()===e&&t.push(n[r])}return t}},qp=class{get isFlyout(){return this.internalIsFlyout}get isMutator(){return this.internalIsMutator}constructor(e){this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1,this.MAX_UNDO=1024,this.connectionDBList=[],this.topBlocks=[],this.topComments=[],this.commentDB=new Map,this.listeners=[],this.undoStack_=[],this.redoStack_=[],this.blockDB=new Map,this.typedBlocksDB=new Map,this.procedureMap=new kh,this.potentialVariableMap=null,this.id=C(),p(this),this.options=e||new fh({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(c(js.CONNECTION_CHECKER,this.options,!0))(this),this.variableMap=new zp(this)}dispose(){this.listeners.length=0,this.clear(),d(this)}sortObjects_(e,t){const n=Math.sin(ur(qp.SCAN_ANGLE))*(this.RTL?-1:1);return e=e.getRelativeToSurfaceXY(),t=t.getRelativeToSurfaceXY(),e.y+n*e.x-(t.y+n*t.x)}addTopBlock(e){this.topBlocks.push(e)}removeTopBlock(e){if(!Q(this.topBlocks,e))throw Error("Block not present in workspace's list of top-most blocks.")}getTopBlocks(e=!1){const t=[].concat(this.topBlocks);return e&&1<t.length&&t.sort(this.sortObjects_.bind(this)),t}addTypedBlock(e){this.typedBlocksDB.has(e.type)||this.typedBlocksDB.set(e.type,[]),this.typedBlocksDB.get(e.type).push(e)}removeTypedBlock(e){Q(this.typedBlocksDB.get(e.type),e),this.typedBlocksDB.get(e.type).length||this.typedBlocksDB.delete(e.type)}getBlocksByType(e,t=!1){return this.typedBlocksDB.has(e)?(e=this.typedBlocksDB.get(e).slice(0),t&&e&&1<e.length&&e.sort(this.sortObjects_.bind(this)),e.filter((function(e){return!e.isInsertionMarker()}))):[]}addTopComment(e){this.topComments.push(e),this.commentDB.has(e.id)&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB.set(e.id,e)}removeTopComment(e){if(!Q(this.topComments,e))throw Error("Comment not present in workspace's list of top-most comments.");this.commentDB.delete(e.id)}getTopComments(e=!1){const t=[].concat(this.topComments);return e&&1<t.length&&t.sort(this.sortObjects_.bind(this)),t}getAllBlocks(e=!1){if(e){var t=this.getTopBlocks(!0);e=[];for(let n=0;n<t.length;n++)e.push(...t[n].getDescendants(!0))}else for(e=this.getTopBlocks(!1),t=0;t<e.length;t++)e.push(...e[t].getChildren(!1));return e.filter((function(e){return!e.isInsertionMarker()}))}clear(){this.isClearing=!0;try{const e=Ms.getGroup$$module$build$src$core$events$utils();for(e||Ms.setGroup$$module$build$src$core$events$utils(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();Ms.setGroup$$module$build$src$core$events$utils(e),this.variableMap.clear(),this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=!1}}renameVariableById(e,t){this.variableMap.renameVariableById(e,t)}createVariable(e,t,n){return this.variableMap.createVariable(e,t,n)}getVariableUsesById(e){return this.variableMap.getVariableUsesById(e)}deleteVariableById(e){this.variableMap.deleteVariableById(e)}getVariable(e,t){return this.variableMap.getVariable(e,t)}getVariableById(e){return this.variableMap.getVariableById(e)}getVariablesOfType(e){return this.variableMap.getVariablesOfType(e)}getVariableTypes(){return this.variableMap.getVariableTypes(this)}getAllVariables(){return this.variableMap.getAllVariables()}getAllVariableNames(){return this.variableMap.getAllVariableNames()}getWidth(){return 0}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}remainingCapacity(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length}remainingCapacityOfType(e){return this.options.maxInstances?(void 0!==this.options.maxInstances[e]?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0}isCapacityAvailable(e){if(!this.hasBlockLimits())return!0;let t=0;for(const n in e){if(e[n]>this.remainingCapacityOfType(n))return!1;t+=e[n]}return!(t>this.remainingCapacity())}hasBlockLimits(){return 1/0!==this.options.maxBlocks||!!this.options.maxInstances}getUndoStack(){return this.undoStack_}getRedoStack(){return this.redoStack_}undo(e){var t=e?this.redoStack_:this.undoStack_,n=e?this.undoStack_:this.redoStack_;const r=t.pop();if(r){for(var o=[r];t.length&&r.group&&r.group===t[t.length-1].group;){const e=t.pop();e&&o.push(e)}for(t=0;t<o.length;t++)n.push(o[t]);o=A(o,e),O(!1);try{for(n=0;n<o.length;n++)o[n].run(e)}finally{O(!0)}}}clearUndo(){this.undoStack_.length=0,this.redoStack_.length=0,$()}addChangeListener(e){return this.listeners.push(e),e}removeChangeListener(e){Q(this.listeners,e)}fireChangeListener(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(let t=0;t<this.listeners.length;t++)(0,this.listeners[t])(e)}getBlockById(e){return this.blockDB.get(e)||null}setBlockById(e,t){this.blockDB.set(e,t)}removeBlockById(e){this.blockDB.delete(e)}getCommentById(e){let t;return null!=(t=this.commentDB.get(e))?t:null}allInputsFilled(e){const t=this.getTopBlocks(!1);for(let n=0;n<t.length;n++)if(!t[n].allInputsFilled(e))return!1;return!0}getPotentialVariableMap(){return this.potentialVariableMap}createPotentialVariableMap(){this.potentialVariableMap=new zp(this)}getVariableMap(){return this.variableMap}setVariableMap(e){this.variableMap=e}getProcedureMap(){return this.procedureMap}getRootWorkspace(){let e=null;const t=this.options.parentWorkspace;return this.isFlyout?t&&t.options&&(e=t.options.parentWorkspace):t&&(e=t),e}static getById(e){return u(e)}static getAll(){return h()}};qp.SCAN_ANGLE=3;var Yp=class{constructor(e){this.parentWorkspace=e,this.sounds=new Map,this.lastSound_=null,this.muted=!1}dispose(){this.sounds.clear()}load(e,t){if(e.length){try{var n=new globalThis.Audio}catch(e){return}for(let t=0;t<e.length;t++){const o=e[t],i=o.match(/\.(\w+)$/);if(i&&n.canPlayType("audio/"+i[1])){var r=new globalThis.Audio(o);break}}r&&this.sounds.set(t,r)}}preload(){for(const e of this.sounds.values()){e.volume=.01;const t=e.play();if(void 0!==t?t.then(e.pause).catch((function(){})):e.pause(),Ja||Za)break}}play(e,t){if(!this.muted){var n=this.sounds.get(e);n?(e=new Date,null!==this.lastSound_&&e.getTime()-this.lastSound_.getTime()<100||(this.lastSound_=e,(n=Ja||Ka?n:n.cloneNode()).volume=void 0===t?1:t,n.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(e,t)}}setMuted(e){this.muted=e}getMuted(){return this.muted}},Xp=class{constructor(e){this.workspace=e,this.layers=new Map,(e=e.getInjectionDiv())&&(this.dragLayer=this.createDragLayer(e)),e=this.createLayer(50),oe(e,"blocklyBlockCanvas"),e=this.createLayer(100),oe(e,"blocklyBubbleCanvas")}createDragLayer(e){const t=re(wl.SVG,{class:"blocklyBlockDragSurface",xmlns:gl,"xmlns:html":ml,"xmlns:xlink":yl,version:"1.1"});return e.append(t),re(wl.G,{},t)}translateLayers(e,t){let n;e=`translate(${e.x}, ${e.y}) scale(${t})`,null==(n=this.dragLayer)||n.setAttribute("transform",e);for(const[,t]of this.layers)t.setAttribute("transform",e)}moveToDragLayer(e){let t;null==(t=this.dragLayer)||t.appendChild(e.getSvgRoot())}moveOffDragLayer(e,t){this.append(e,t)}append(e,t){let n;this.layers.has(t)||this.createLayer(t),null==(n=this.layers.get(t))||n.appendChild(e.getSvgRoot())}createLayer(e){const t=this.workspace.getSvgGroup(),n=re(wl.G,{});let r=!1;const o=[...this.layers].sort(((e,t)=>e[0]-t[0]));for(const[i,s]of o)if(e<i){t.insertBefore(n,s),r=!0;break}return r||t.appendChild(n),this.layers.set(e,n),n}hasLayer(e){return e===this.dragLayer||new Set(this.layers.values()).has(e)}getBlockLayer(){return this.layers.get(50)}getBubbleLayer(){return this.layers.get(100)}},Kp=class extends qp{constructor(e){let t;super(e),this.resizeHandlerWrapper=null,this.resizesEnabled=this.isVisible_=this.rendered=!0,this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0,this.dragDeltaXY=null,this.oldScale=this.scale=1,this.oldLeft=this.oldTop=0,this.inverseScreenCTM=this.targetWorkspace=this.dummyWheelListener=this.configureContextMenu=this.lastRecordedPageScroll=this.injectionDiv=this.currentGesture_=this.toolbox_=this.flyout=this.scrollbar=this.trashcan=null,this.inverseScreenCTMDirty=!0,this.highlightedBlocks=[],this.toolboxCategoryCallbacks=new Map,this.flyoutButtonCallbacks=new Map,this.cachedParentSvg=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements=[],this.dragTargetAreas=[],this.zoomControls_=this.layerManager=null,this.metricsManager=new(c(js.METRICS_MANAGER,e,!0))(this),this.getMetrics=e.getMetrics||this.metricsManager.getMetrics.bind(this.metricsManager),this.setMetrics=e.setMetrics||Kp.setTopLevelWorkspaceMetrics_,this.componentManager=new al,this.connectionDBList=Vc.init(this.connectionChecker),this.audioManager=new Yp(e.parentWorkspace),this.grid=this.options.gridPattern?new ch(this.options.gridPattern,e.gridOptions):null,this.markerManager=new uh(this),dc&&it&&this.registerToolboxCategoryCallback(uc,it),Hp&&Di&&this.registerToolboxCategoryCallback(Up,Di),qh&&gi&&(this.registerToolboxCategoryCallback(zh,gi),this.addChangeListener(yi)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new jp(this,this.options.theme||dh),this.themeManager_.subscribeWorkspace(this),this.renderer=Ri(this.options.renderer||"geras",this.getTheme(),null!=(t=this.options.rendererOverrides)?t:void 0),this.cachedParentSvgSize=new kl(0,0)}getMarkerManager(){return this.markerManager}getMetricsManager(){return this.metricsManager}setMetricsManager(e){this.metricsManager=e,this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}getComponentManager(){return this.componentManager}setCursorSvg(e){this.markerManager.setCursorSvg(e)}setMarkerSvg(e){this.markerManager.setMarkerSvg(e)}getMarker(e){return this.markerManager?this.markerManager.getMarker(e):null}getCursor(){return this.markerManager?this.markerManager.getCursor():null}getRenderer(){return this.renderer}getThemeManager(){return this.themeManager_}getTheme(){return this.themeManager_.getTheme()}setTheme(e){e||(e=dh),this.themeManager_.setTheme(e)}refreshTheme(){this.svgGroup_&&this.renderer.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter((function(e){return!!e.getStyleName()}))),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);const e=new(B(ha))(this.getTheme().name,this.id);x(e)}updateBlockStyles_(e){for(let t,n=0;t=e[n];n++){const e=t.getStyleName();e&&t.setStyle(e)}}getInverseScreenCTM(){if(this.inverseScreenCTMDirty){const e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM=e.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0}isVisible(){return this.isVisible_}getSvgXY(e){let t=0,n=0,r=1;(this.getCanvas().contains(e)||this.getBubbleCanvas().contains(e))&&(r=this.scale);do{const o=Oe(e);e!==this.getCanvas()&&e!==this.getBubbleCanvas()||(r=1),t+=o.x*r,n+=o.y*r,e=e.parentNode}while(e&&e!==this.getParentSvg()&&e!==this.getInjectionDiv());return new hl(t,n)}getCachedParentSvgSize(){const e=this.cachedParentSvgSize;return new kl(e.width,e.height)}getOriginOffsetInPixels(){return Ie(this.getCanvas())}getInjectionDiv(){if(!this.injectionDiv){let e=this.svgGroup_;for(;e;){if(-1!==(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv=e;break}e=e.parentNode}}return this.injectionDiv}getSvgGroup(){return this.svgGroup_}getBlockCanvas(){return this.getCanvas()}setResizeHandlerWrapper(e){this.resizeHandlerWrapper=e}createDom(e,t){return this.injectionDiv||(this.injectionDiv=null!=t?t:null),this.svgGroup_=re(wl.G,{class:"blocklyWorkspace"}),e&&(this.svgBackground_=re(wl.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),"blocklyMainBackground"===e&&this.grid?this.svgBackground_.style.fill="url(#"+this.grid.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.layerManager=new Xp(this),this.svgBlockCanvas_=this.layerManager.getBlockLayer(),this.svgBubbleCanvas_=this.layerManager.getBubbleLayer(),this.isFlyout||(z(this.svgGroup_,"pointerdown",this,this.onMouseDown_,!1),this.dummyWheelListener=()=>{},document.body.addEventListener("wheel",this.dummyWheelListener),z(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new(c(js.TOOLBOX,this.options,!0))(this)),this.grid&&this.grid.update(this.scale),this.recordDragTargets(),(e=c(js.CURSOR,this.options))&&this.markerManager.setCursor(new e),this.renderer.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_}dispose(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&le(this.svgGroup_),this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout&&(this.flyout.dispose(),this.flyout=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&this.zoomControls_.dispose(),this.audioManager&&this.audioManager.dispose(),this.grid&&(this.grid=null),this.renderer.dispose(),this.markerManager&&this.markerManager.dispose(),super.dispose(),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose()),this.connectionDBList.length=0,this.toolboxCategoryCallbacks.clear(),this.flyoutButtonCallbacks.clear(),!this.options.parentWorkspace){const e=this.getParentSvg();e&&e.parentNode&&le(e.parentNode)}this.resizeHandlerWrapper&&(Y(this.resizeHandlerWrapper),this.resizeHandlerWrapper=null),this.dummyWheelListener&&(document.body.removeEventListener("wheel",this.dummyWheelListener),this.dummyWheelListener=null)}addTrashcan(){this.trashcan=Kp.newTrashcan(this);const e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.getCanvas())}static newTrashcan(e){throw Error("The implementation of newTrashcan should be monkey-patched in by blockly.ts")}addZoomControls(){this.zoomControls_=new Jl(this);const e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)}addFlyout(e){const t=new fh({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return t.toolboxPosition=this.options.toolboxPosition,this.flyout=this.horizontalLayout?new(c(js.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(t):new(c(js.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(t),this.flyout.autoClose=!1,this.flyout.getWorkspace().setVisible(!0),this.flyout.createDom(e)}getFlyout(e){return this.flyout||e?this.flyout:this.toolbox_?this.toolbox_.getFlyout():null}getToolbox(){return this.toolbox_}updateScreenCalculations_(){this.updateInverseScreenCTM(),this.recordDragTargets()}resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}resize(){this.toolbox_&&this.toolbox_.position(),this.flyout&&this.flyout.position();const e=this.componentManager.getComponents(al.Capability.POSITIONABLE,!0),t=this.getMetricsManager().getUiMetrics(),n=[];for(let r,o=0;r=e[o];o++){r.position(t,n);const e=r.getBoundingRectangle();e&&n.push(e)}this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()}updateScreenCalculationsIfScrolled(){const e=Re();hl.equals(this.lastRecordedPageScroll,e)||(this.lastRecordedPageScroll=e,this.updateScreenCalculations_())}getLayerManager(){return this.layerManager}getCanvas(){return this.layerManager.getBlockLayer()}setCachedParentSvgSize(e,t){const n=this.getParentSvg();null!=e&&(this.cachedParentSvgSize.width=e,n.setAttribute("data-cached-width",`${e}`)),null!=t&&(this.cachedParentSvgSize.height=t,n.setAttribute("data-cached-height",`${t}`))}getBubbleCanvas(){return this.layerManager.getBubbleLayer()}getParentSvg(){if(!this.cachedParentSvg){let e=this.svgGroup_;for(;e;){if("svg"===e.tagName){this.cachedParentSvg=e;break}e=e.parentNode}}return this.cachedParentSvg}maybeFireViewportChangeEvent(){if(D()){var e=this.scale,t=-this.scrollY,n=-this.scrollX;if(!(e===this.oldScale&&1>Math.abs(t-this.oldTop)&&1>Math.abs(n-this.oldLeft))){var r=new(B(pa))(t,n,e,this.id,this.oldScale);this.oldScale=e,this.oldTop=t,this.oldLeft=n,x(r)}}}translate(e,t){let n,r;null==(n=this.layerManager)||n.translateLayers(new hl(e,t),this.scale),null==(r=this.grid)||r.moveTo(e,t),this.maybeFireViewportChangeEvent()}getWidth(){const e=this.getMetrics();return e?e.viewWidth/this.scale:0}setVisible(e){this.isVisible_=e,this.svgGroup_&&(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox_&&this.toolbox_.setVisible(e),e||this.hideChaff(!0))}render(){for(var e=this.getAllBlocks(!1),t=e.length-1;0<=t;t--)e[t].queueRender();if(this.currentGesture_)for(e=this.currentGesture_.getInsertionMarkers(),t=0;t<e.length;t++)e[t].queueRender();Tt().then((()=>{this.markerManager.updateMarkers()}))}highlightBlock(e,t){if(void 0===t){for(let e,t=0;e=this.highlightedBlocks[t];t++)e.setHighlighted(!1);this.highlightedBlocks.length=0}(e=e?this.getBlockById(e):null)&&((t=void 0===t||t)?-1===this.highlightedBlocks.indexOf(e)&&this.highlightedBlocks.push(e):Q(this.highlightedBlocks,e),e.setHighlighted(t))}paste(e){if(ne("Blockly.WorkspaceSvg.prototype.paste","v10","v11","Blockly.clipboard.paste"),!this.rendered||!e.type&&!e.tagName)return null;this.currentGesture_&&this.currentGesture_.cancel();const t=Ms.getGroup$$module$build$src$core$events$utils();let n;t||Ms.setGroup$$module$build$src$core$events$utils(!0);try{n=e.type?this.pasteBlock_(null,e):"comment"===e.tagName.toLowerCase()?this.pasteWorkspaceComment_(e):this.pasteBlock_(e,null)}finally{Ms.setGroup$$module$build$src$core$events$utils(t)}return n}pasteBlock_(e,t){let n;Ms.disable$$module$build$src$core$events$utils();try{let r=0,o=0;if(e){let t,i;n=Ht(e,this),r=parseInt(null!=(t=e.getAttribute("x"))?t:"0"),this.RTL&&(r=-r),o=parseInt(null!=(i=e.getAttribute("y"))?i:"0")}else t&&(n=gn(t,this),r=t.x||10,this.RTL&&(r=this.getWidth()-r),o=t.y||10);if(!isNaN(r)&&!isNaN(o)){let e;do{e=!1;const t=this.getAllBlocks(!1);for(let n,i=0;n=t[i];i++){const t=n.getRelativeToSurfaceXY();if(1>=Math.abs(r-t.x)&&1>=Math.abs(o-t.y)){e=!0;break}}if(!e){const t=n.getConnections_(!1);for(let n,i=0;n=t[i];i++)if(n.closest(Ms.config$$module$build$src$core$config.snapRadius,new hl(r,o)).connection){e=!0;break}}e&&(r=this.RTL?r-Ms.config$$module$build$src$core$config.snapRadius:r+Ms.config$$module$build$src$core$config.snapRadius,o+=2*Ms.config$$module$build$src$core$config.snapRadius)}while(e);n.moveTo(new hl(r,o))}}finally{Ms.enable$$module$build$src$core$events$utils()}return D()&&!n.isShadow()&&x(new(B(Ms.CREATE$$module$build$src$core$events$utils))(n)),n.select(),n}pasteWorkspaceComment_(e){let t;Ms.disable$$module$build$src$core$events$utils();try{t=vc.fromXmlRendered(e,this);let n,r,o=parseInt(null!=(n=e.getAttribute("x"))?n:"0"),i=parseInt(null!=(r=e.getAttribute("y"))?r:"0");isNaN(o)||isNaN(i)||(this.RTL&&(o=-o),t.moveBy(o+50,i+50))}finally{Ms.enable$$module$build$src$core$events$utils()}return D()&&fc.fireCreateEvent(t),t.select(),t}refreshToolboxSelection(){const e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox_&&e.toolbox_.getFlyout()&&e.toolbox_.refreshSelection()}renameVariableById(e,t){super.renameVariableById(e,t),this.refreshToolboxSelection()}deleteVariableById(e){super.deleteVariableById(e),this.refreshToolboxSelection()}createVariable(e,t,n){return e=super.createVariable(e,t,n),this.refreshToolboxSelection(),e}recordDragTargets(){const e=this.componentManager.getComponents(al.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(let t,n=0;t=e[n];n++){const e=t.getClientRect();e&&this.dragTargetAreas.push({component:t,clientRect:e})}}newBlock(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}getDragTarget(e){for(let t,n=0;t=this.dragTargetAreas[n];n++)if(t.clientRect.contains(e.clientX,e.clientY))return t.component;return null}onMouseDown_(e){const t=this.getGesture(e);t&&t.handleWsStart(e,this)}startDrag(e,t){(e=J(e,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,e.y/=this.scale,this.dragDeltaXY=hl.difference(t,e)}moveDrag(e){return(e=J(e,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,e.y/=this.scale,hl.sum(this.dragDeltaXY,e)}isDragging(){return null!==this.currentGesture_&&this.currentGesture_.isDragging()}isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag}isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}isMovableHorizontally(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())}isMovableVertically(){const e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())}onMouseWheel_(e){if(lh.inProgress())e.preventDefault(),e.stopPropagation();else{var t=this.options.zoomOptions&&this.options.zoomOptions.wheel,n=this.options.moveOptions&&this.options.moveOptions.wheel;if(t||n){var r=Z(e);if(Qa)var o=e.metaKey;t&&(e.ctrlKey||o||!n)?(r=-r.y/50,t=J(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(t.x,t.y,r)):(t=this.scrollX-r.x,n=this.scrollY-r.y,e.shiftKey&&!r.x&&(t=this.scrollX-r.y,n=this.scrollY),this.scroll(t,n)),e.preventDefault()}}}getBlocksBoundingBox(){const e=this.getTopBoundedElements();if(!e.length)return new Tl(0,0,0,0);const t=e[0].getBoundingRectangle();for(let r=1;r<e.length;r++){var n=e[r];n.isInsertionMarker&&n.isInsertionMarker()||((n=n.getBoundingRectangle()).top<t.top&&(t.top=n.top),n.bottom>t.bottom&&(t.bottom=n.bottom),n.left<t.left&&(t.left=n.left),n.right>t.right&&(t.right=n.right))}return t}cleanUp(){this.setResizesEnabled(!1),Ms.setGroup$$module$build$src$core$events$utils(!0);const e=this.getTopBlocks(!0);let t=0;for(let n,r=0;n=e[r];r++){if(!n.isMovable())continue;const e=n.getRelativeToSurfaceXY();n.moveBy(-e.x,t-e.y,["cleanup"]),n.snapToGrid(),t=n.getRelativeToSurfaceXY().y+n.getHeightWidth().height+this.renderer.getConstants().MIN_BLOCK_HEIGHT}Ms.setGroup$$module$build$src$core$events$utils(!1),this.setResizesEnabled(!0)}showContextMenu(e){if(!this.options.readOnly&&!this.isFlyout){var t=fu.registry.getContextMenuOptions(fu.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(t,e),er(e,t,this.RTL)}}updateToolbox(e){if(e=Pe(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(Fe(e)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox_.render(e)}else{if(!this.flyout)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")}markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(g(this),this.getParentSvg().focus({preventScroll:!0}))}zoom(e,t,n){n=Math.pow(this.options.zoomOptions.scaleSpeed,n);const r=this.scale*n;if(this.scale!==r){r>this.options.zoomOptions.maxScale?n=this.options.zoomOptions.maxScale/this.scale:r<this.options.zoomOptions.minScale&&(n=this.options.zoomOptions.minScale/this.scale);var o=this.getCanvas().getCTM(),i=this.getParentSvg().createSVGPoint();i.x=e,i.y=t,e=(i=i.matrixTransform(o.inverse())).x,t=i.y,o=o.translate(e*(1-n),t*(1-n)).scale(n),this.scrollX=o.e,this.scrollY=o.f,this.setScale(r)}}zoomCenter(e){var t=this.getMetrics();let n;this.flyout?(n=t.svgWidth?t.svgWidth/2:0,t=t.svgHeight?t.svgHeight/2:0):(n=t.viewWidth/2+t.absoluteLeft,t=t.viewHeight/2+t.absoluteTop),this.zoom(n,t,e)}zoomToFit(){if(this.isMovable()){var e=this.getMetrics(),t=e.viewWidth;e=e.viewHeight;var n=this.getBlocksBoundingBox(),r=n.right-n.left+40;if(n=n.bottom-n.top+40,r){this.flyout&&(this.horizontalLayout?(e+=this.flyout.getHeight(),n+=this.flyout.getHeight()/this.scale):(t+=this.flyout.getWidth(),r+=this.flyout.getWidth()/this.scale)),t/=r,e/=n,Ms.disable$$module$build$src$core$events$utils();try{this.setScale(Math.min(t,e)),this.scrollCenter()}finally{Ms.enable$$module$build$src$core$events$utils()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}beginCanvasTransition(){oe(this.getCanvas(),"blocklyCanvasTransitioning"),oe(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}endCanvasTransition(){se(this.getCanvas(),"blocklyCanvasTransitioning"),se(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}scrollCenter(){if(this.isMovable()){var e=this.getMetrics(),t=(e.scrollWidth-e.viewWidth)/2,n=(e.scrollHeight-e.viewHeight)/2;t=-t-e.scrollLeft,n=-n-e.scrollTop,this.scroll(t,n)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}centerOnBlock(e,t){if(this.isMovable()){var n=e?this.getBlockById(e):null;if(n){e=n.getRelativeToSurfaceXY(),n=t?{height:n.height,width:n.width}:n.getHeightWidth();var r=this.scale;t=(e.x+(this.RTL?-1:1)*n.width/2)*r,e=(e.y+n.height/2)*r,n=this.getMetrics(),this.scroll(-(t-n.viewWidth/2),-(e-n.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}setScale(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.hideChaff(!1),(e=this.getFlyout(!1))&&e.isVisible()&&(e.reflow(),this.recordDragTargets()),this.grid&&this.grid.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))}getScale(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale}scroll(e,t){this.hideChaff(!0);const n=this.getMetrics();e=Math.min(e,-n.scrollLeft),t=Math.min(t,-n.scrollTop);const r=n.scrollTop+Math.max(0,n.scrollHeight-n.viewHeight);e=Math.max(e,-(n.scrollLeft+Math.max(0,n.scrollWidth-n.viewWidth))),t=Math.max(t,-r),this.scrollX=e,this.scrollY=t,this.scrollbar&&this.scrollbar.set(-(e+n.scrollLeft),-(t+n.scrollTop),!1),e+=n.absoluteLeft,t+=n.absoluteTop,this.translate(e,t)}getBlockById(e){return super.getBlockById(e)}getAllBlocks(e=!1){return super.getAllBlocks(e)}getTopBlocks(e=!1){return super.getTopBlocks(e)}addTopBlock(e){this.addTopBoundedElement(e),super.addTopBlock(e)}removeTopBlock(e){this.removeTopBoundedElement(e),super.removeTopBlock(e)}addTopComment(e){this.addTopBoundedElement(e),super.addTopComment(e)}removeTopComment(e){this.removeTopBoundedElement(e),super.removeTopComment(e)}getRootWorkspace(){return super.getRootWorkspace()}addTopBoundedElement(e){this.topBoundedElements.push(e)}removeTopBoundedElement(e){Q(this.topBoundedElements,e)}getTopBoundedElements(){return[].concat(this.topBoundedElements)}setResizesEnabled(e){const t=!this.resizesEnabled&&e;this.resizesEnabled=e,t&&this.resizeContents()}clear(){this.setResizesEnabled(!1),super.clear(),this.topBoundedElements=[],this.setResizesEnabled(!0)}registerButtonCallback(e,t){if("function"!=typeof t)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks.set(e,t)}getButtonCallback(e){let t;return null!=(t=this.flyoutButtonCallbacks.get(e))?t:null}removeButtonCallback(e){this.flyoutButtonCallbacks.delete(e)}registerToolboxCategoryCallback(e,t){if("function"!=typeof t)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks.set(e,t)}getToolboxCategoryCallback(e){return this.toolboxCategoryCallbacks.get(e)||null}removeToolboxCategoryCallback(e){this.toolboxCategoryCallbacks.delete(e)}getGesture(e){const t="pointerdown"===e.type,n=this.currentGesture_;return n?t&&n.hasStarted()?(console.warn("Tried to start the same gesture twice."),n.cancel(),null):n:t?this.currentGesture_=new lh(e,this):null}clearGesture(){this.currentGesture_=null}cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel()}getAudioManager(){return this.audioManager}getGrid(){return this.grid}hideChaff(e=!1){lo(),Vn(),Ar(),this.hideComponents(e)}hideComponents(e=!1){this.getComponentManager().getComponents(al.Capability.AUTOHIDEABLE,!0).forEach((t=>t.autoHide(e)))}static setTopLevelWorkspaceMetrics_(e){const t=this.getMetrics();"number"==typeof e.x&&(this.scrollX=-(t.scrollLeft+(t.scrollWidth-t.viewWidth)*e.x)),"number"==typeof e.y&&(this.scrollY=-(t.scrollTop+(t.scrollHeight-t.viewHeight)*e.y)),this.translate(this.scrollX+t.absoluteLeft,this.scrollY+t.absoluteTop)}},Jp={};Jp.WorkspaceSvg=Kp,Jp.resizeSvgContents=Pi;var Zp=class extends xa{constructor(e,t){super(t),this.type=ca,this.isOpen=e}toJson(){const e=super.toJson();if(void 0===this.isOpen)throw Error("Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Zp)).isOpen=e.isOpen,t}};e(js.EVENT,ca,Zp);var Qp=class extends Lc{constructor(e){if(super(e),this.type=Ms.DELETE$$module$build$src$core$events$utils,e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(this.recordUndo=!1),this.oldXml=$t(e),this.ids=P(e),this.wasShadow=e.isShadow(),this.oldJson=sn(e,{addCoordinates:!0})}}toJson(){const e=super.toJson();if(!this.oldXml)throw Error("The old block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(void 0===this.wasShadow)throw Error("Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.oldXml=Bt(this.oldXml),e.ids=this.ids,e.wasShadow=this.wasShadow,e.oldJson=this.oldJson,this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Qp)).oldXml=Ms.textToDom$$module$build$src$core$utils$xml(e.oldXml),t.ids=e.ids,t.wasShadow=e.wasShadow||"shadow"===t.oldXml.tagName.toLowerCase(),t.oldJson=e.oldJson,void 0!==e.recordUndo&&(t.recordUndo=e.recordUndo),t}run(e){const t=this.getEventWorkspace_();if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(e)for(e=0;e<this.ids.length;e++){const n=this.ids[e],r=t.getBlockById(n);r?r.dispose(!1):n===this.blockId&&console.warn("Can't delete non-existent block: "+n)}else gn(this.oldJson,t)}};e(js.EVENT,Ms.DELETE$$module$build$src$core$events$utils,Qp);var ed=class{constructor(e,t,n){if(this.data=null,this.disposed=!1,this.hue_=null,this.colour_="#000000",this.styleName_="",this.suppressPrefixSuffix=!1,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.icons=[],this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.outputShape_=null,this.isInsertionMarker_=this.disposing=!1,this.onchangeWrapper_=this.helpUrl=this.rendered=null,this.statementInputCount=0,this.workspace=e,this.id=n&&!e.getBlockById(n)?n:C(),e.setBlockById(this.id,this),this.xy_=new hl(0,0),this.isInFlyout=e.isFlyout,this.isInMutator=e.isMutator,this.RTL=e.RTL,t){if(this.type=t,!(n=Ws[t])||"object"!=typeof n)throw TypeError("Invalid block definition for type: "+t);Object.assign(this,n)}e.addTopBlock(this),e.addTypedBlock(this),new.target===ed&&this.doInit_()}doInit_(){const e=Ms.getGroup$$module$build$src$core$events$utils();e||Ms.setGroup$$module$build$src$core$events$utils(!0);const t=I();try{"function"==typeof this.init&&(O(!1),this.init(),O(t)),D()&&x(new(B(Ms.CREATE$$module$build$src$core$events$utils))(this))}finally{Ms.setGroup$$module$build$src$core$events$utils(e),O(t)}this.inputsInlineDefault=this.inputsInline,"function"==typeof this.onchange&&this.setOnChange(this.onchange)}dispose(e){this.isDeadOrDying()||(this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(e),D()&&x(new(B(Ms.DELETE$$module$build$src$core$events$utils))(this)),this.workspace.removeTopBlock(this),this.disposeInternal())}disposeInternal(){this.isDeadOrDying()||(this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.disposing=!0,"function"==typeof this.destroy&&this.destroy(),this.childBlocks_.forEach((e=>e.disposeInternal())),this.inputList.forEach((e=>e.dispose())),this.inputList.length=0,this.getConnections_(!0).forEach((e=>e.dispose())),this.disposed=!0)}isDeadOrDying(){return this.disposing||this.disposed}initModel(){for(const e of this.inputList)for(const t of e.fieldRow)t.initModel&&t.initModel()}unplug(e){this.outputConnection&&this.unplugFromRow_(e),this.previousConnection&&this.unplugFromStack_(e)}unplugFromRow_(e){let t,n=null;null!=(t=this.outputConnection)&&t.isConnected()&&(n=this.outputConnection.targetConnection,this.outputConnection.disconnect()),n&&e&&(e=this.getOnlyValueConnection_())&&e.isConnected()&&!e.targetBlock().isShadow()&&(null==(e=e.targetConnection)||e.disconnect(),this.workspace.connectionChecker.canConnect(e,n,!1)?n.connect(e):null==e||e.onFailedConnect(n))}getOnlyValueConnection_(){let e=null;for(let t=0;t<this.inputList.length;t++){const n=this.inputList[t].connection;if(n&&n.type===Uc.INPUT_VALUE&&n.targetConnection){if(e)return null;e=n}}return e}unplugFromStack_(e){let t=null;var n;if(null!=(n=this.previousConnection)&&n.isConnected()&&(t=this.previousConnection.targetConnection,this.previousConnection.disconnect()),n=this.getNextBlock(),e&&n&&!n.isShadow()){let n,r;null==(e=null!=(r=null==(n=this.nextConnection)?void 0:n.targetConnection)?r:null)||e.disconnect(),t&&this.workspace.connectionChecker.canConnect(t,e,!1)&&t.connect(e)}}getConnections_(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(let t,n=0;t=this.inputList[n];n++)t.connection&&e.push(t.connection);return e}lastConnectionInStack(e){let t=this.nextConnection;for(;t;){const n=t.targetBlock();if(!n||e&&n.isShadow())return t;t=n.nextConnection}return null}bumpNeighbours(){}getParent(){return this.parentBlock_}getInputWithBlock(e){for(let t,n=0;t=this.inputList[n];n++)if(t.connection&&t.connection.targetBlock()===e)return t;return null}getSurroundParent(){let e,t=this;do{if(e=t,t=t.getParent(),!t)return null}while(t.getNextBlock()===e);return t}getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock()}getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock()}getRootBlock(){let e,t=this;do{e=t,t=e.parentBlock_}while(t);return e}getTopStackBlock(){let e,t=this;do{e=t.getPreviousBlock()}while(e&&e.getNextBlock()===t&&(t=e));return t}getChildren(e){if(!e)return this.childBlocks_;e=[];for(let n,r=0;n=this.inputList[r];r++)if(n.connection){var t=n.connection.targetBlock();t&&e.push(t)}return(t=this.getNextBlock())&&e.push(t),e}setParent(e){if(e!==this.parentBlock_){var t=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),n=!!t;if(n&&e&&t!==e)throw Error("Block connected to superior one that is not new parent.");if(!n&&e)throw Error("Block not connected to new parent.");if(n&&!e)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?Q(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}}getDescendants(e){const t=[this],n=this.getChildren(e);for(let r,o=0;r=n[o];o++)t.push(...r.getDescendants(e));return t}isDeletable(){return this.deletable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnDeletable(){return this.deletable_}setDeletable(e){this.deletable_=e}isMovable(){return this.movable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnMovable(){return this.movable_}setMovable(e){this.movable_=e}isDuplicatable(){return!this.workspace.hasBlockLimits()||this.workspace.isCapacityAvailable(E(this,!0))}isShadow(){return this.isShadow_}setShadow(e){this.isShadow_=e}isInsertionMarker(){return this.isInsertionMarker_}setInsertionMarker(e){this.isInsertionMarker_=e}isEditable(){return this.editable_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnEditable(){return this.editable_}setEditable(e){this.editable_=e;for(let e,t=0;e=this.inputList[t];t++)for(let t,n=0;t=e.fieldRow[n];n++)t.updateEditable()}isDisposed(){return this.disposed}isSimpleReporter(){if(!this.outputConnection)return!1;for(const e of this.inputList)if(e.connection||1<e.fieldRow.length)return!1;return!0}getMatchingConnection(e,t){const n=this.getConnections_(!0);if(e=e.getConnections_(!0),n.length!==e.length)throw Error("Connection lists did not match in length.");for(let r=0;r<e.length;r++)if(e[r]===t)return n[r];return null}setHelpUrl(e){this.helpUrl=e}setTooltip(e){this.tooltip=e}getTooltip(){return Qr(this)}getColour(){return this.colour_}getStyleName(){return this.styleName_}getHue(){return this.hue_}setColour(e){e=Ao(e),this.hue_=e.hue,this.colour_=e.hex}setStyle(e){this.styleName_=e}setOnChange(e){if(e&&"function"!=typeof e)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.onchange=e,this.onchangeWrapper_=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_)}getField(e){if("string"!=typeof e)throw TypeError("Block.prototype.getField expects a string with the field name but received "+(void 0===e?"nothing":e+" of type "+typeof e)+" instead");for(let t,n=0;t=this.inputList[n];n++)for(let n,r=0;n=t.fieldRow[r];r++)if(n.name===e)return n;return null}getVars(){const e=[];for(let t,n=0;t=this.inputList[n];n++)for(let n,r=0;n=t.fieldRow[r];r++)n.referencesVariables()&&e.push(n.getValue());return e}getVarModels(){const e=[];for(let t,n=0;t=this.inputList[n];n++)for(let n,r=0;n=t.fieldRow[r];r++)if(n.referencesVariables()){const t=this.workspace.getVariableById(n.getValue());t&&e.push(t)}return e}updateVarName(e){for(let t,n=0;t=this.inputList[n];n++)for(let n,r=0;n=t.fieldRow[r];r++)n.referencesVariables()&&e.getId()===n.getValue()&&n.refreshVariableName()}renameVarById(e,t){for(let n,r=0;n=this.inputList[r];r++)for(let r,o=0;r=n.fieldRow[o];o++)r.referencesVariables()&&e===r.getValue()&&r.setValue(t)}getFieldValue(e){return(e=this.getField(e))?e.getValue():null}setFieldValue(e,t){const n=this.getField(t);if(!n)throw Error('Field "'+t+'" not found.');n.setValue(e)}setPreviousStatement(e,t){if(e)void 0===t&&(t=null),this.previousConnection||(this.previousConnection=this.makeConnection_(Uc.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(t);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}}setNextStatement(e,t){if(e)void 0===t&&(t=null),this.nextConnection||(this.nextConnection=this.makeConnection_(Uc.NEXT_STATEMENT)),this.nextConnection.setCheck(t);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}}setOutput(e,t){if(e)void 0===t&&(t=null),this.outputConnection||(this.outputConnection=this.makeConnection_(Uc.OUTPUT_VALUE)),this.outputConnection.setCheck(t);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}}setInputsInline(e){this.inputsInline!==e&&(x(new(B(Ms.CHANGE$$module$build$src$core$events$utils))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)}getInputsInline(){if(void 0!==this.inputsInline)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof wp&&this.inputList[e]instanceof wp)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof Ms.ValueInput$$module$build$src$core$inputs$value_input&&this.inputList[e]instanceof wp)return!0;for(e=0;e<this.inputList.length;e++)if(this.inputList[e]instanceof Tp)return!0;return!1}setOutputShape(e){this.outputShape_=e}getOutputShape(){return this.outputShape_}isEnabled(){return!this.disabled}setEnabled(e){if(this.isEnabled()!==e){const t=this.disabled;this.disabled=!e,x(new(B(Ms.CHANGE$$module$build$src$core$events$utils))(this,"disabled",null,t,!e))}}getInheritedDisabled(){let e=this.getSurroundParent();for(;e;){if(e.disabled)return!0;e=e.getSurroundParent()}return!1}isCollapsed(){return this.collapsed_}setCollapsed(e){this.collapsed_!==e&&(x(new(B(Ms.CHANGE$$module$build$src$core$events$utils))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)}toString(e,t){t=this.toTokens(t);for(let e=2;e<t.length;e++)"("===t[e-2]&&")"===t[e]&&(t[e-2]=t[e-1],t.splice(e-1,2));let n="";return t=(t=t.reduce(((e,t)=>(e=e+("("===n||")"===t?"":" ")+t,n=t[t.length-1],e)),"")).trim()||"???",e&&t.length>e&&(t=t.substring(0,e-3)+"..."),t}toTokens(e="?"){const t=[];for(const r of this.inputList)if(r.name!=Np){for(const e of r.fieldRow)t.push(e.getText());if(r.connection){const o=r.connection.targetBlock();if(o){var n=r.connection;let i=n.getCheck();!i&&n.targetConnection&&(i=n.targetConnection.getCheck()),(n=!!i&&(-1!==i.indexOf("Boolean")||-1!==i.indexOf("Number")))&&t.push("("),t.push(...o.toTokens(e)),n&&t.push(")")}else t.push(e)}}return t}appendValueInput(e){return this.appendInput(new Ms.ValueInput$$module$build$src$core$inputs$value_input(e,this))}appendStatementInput(e){return this.statementInputCount++,this.appendInput(new kp(e,this))}appendDummyInput(e=""){return this.appendInput(new wp(e,this))}appendEndRowInput(e=""){return this.appendInput(new Tp(e,this))}appendInput(e){return this.inputList.push(e),e}appendInputFromRegistry(e,t){return(e=s(js.INPUT,e,!1))?this.appendInput(new e(t,this)):null}jsonInit(e){var t=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(t+"Must not have both an output and a previousStatement.");for(var n=0;e["args"+n];){if(void 0===e["message"+n])throw Error(t+`args${n} must have a corresponding message (message${n}).`);n++}if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(t+"Must not have both a colour and a style.");for(e.style?this.jsonInitStyle_(e,t):this.jsonInitColour_(e,t),n=0;void 0!==e["message"+n];)this.interpolate_(e["message"+n],e["args"+n]||[],e["implicitAlign"+n]||e["lastDummyAlign"+n],t),n++;if(void 0!==e.inputsInline&&(Ms.disable$$module$build$src$core$events$utils(),this.setInputsInline(e.inputsInline),Ms.enable$$module$build$src$core$events$utils()),void 0!==e.output&&this.setOutput(!0,e.output),void 0!==e.outputShape&&this.setOutputShape(e.outputShape),void 0!==e.previousStatement&&this.setPreviousStatement(!0,e.previousStatement),void 0!==e.nextStatement&&this.setNextStatement(!0,e.nextStatement),void 0!==e.tooltip&&(n=Ro(e.tooltip),this.setTooltip(n)),void 0!==e.enableContextMenu&&(this.contextMenu=!!e.enableContextMenu),void 0!==e.suppressPrefixSuffix&&(this.suppressPrefixSuffix=!!e.suppressPrefixSuffix),void 0!==e.helpUrl&&(n=Ro(e.helpUrl),this.setHelpUrl(n)),"string"==typeof e.extensions&&(console.warn(t+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),void 0!==e.mutator&&Vo(e.mutator,this,!0),e=e.extensions,Array.isArray(e))for(t=0;t<e.length;t++)Vo(e[t],this,!1)}jsonInitColour_(e,t){if("colour"in e)if(void 0===e.colour)console.warn(t+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch(n){console.warn(t+"Illegal colour value: ",e)}}}jsonInitStyle_(e,t){e=e.style;try{this.setStyle(e)}catch(n){console.warn(t+"Style does not exist: ",e)}}mixin(e,t){if(void 0!==t&&"boolean"!=typeof t)throw Error("opt_disableCheck must be a boolean if provided");if(!t){t=[];for(const n in e)void 0!==this[n]&&t.push(n);if(t.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(t))}Object.assign(this,e)}interpolate_(e,t,n,r){e=xo(e),this.validateTokens_(e,t.length),t=this.interpolateArguments_(e,t,n),n=[];for(let o,i=0;o=t[i];i++)if(this.isInputKeyword_(o.type)){if(e=this.inputFromJson_(o,r)){for(let t,r=0;t=n[r];r++)e.appendField(t[0],t[1]);n.length=0}}else(e=this.fieldFromJson_(o))&&n.push([e,o.name])}validateTokens_(e,t){const n=[];let r=0;for(let o=0;o<e.length;o++){const i=e[o];if("number"==typeof i){if(1>i||i>t)throw Error('Block "'+this.type+'": Message index %'+i+" out of range.");if(n[i])throw Error('Block "'+this.type+'": Message index %'+i+" duplicated.");n[i]=!0,r++}}if(r!==t)throw Error('Block "'+this.type+'": Message does not reference all '+t+" arg(s).")}interpolateArguments_(e,t,n){const r=[];for(let i=0;i<e.length;i++){var o=e[i];if("number"==typeof o&&(o=t[o-1]),"string"==typeof o)if("\n"===o)o={type:"input_end_row"},n&&(o.align=n);else if(!(o=this.stringToFieldJson_(o)))continue;r.push(o)}return(e=r.length)&&!this.isInputKeyword_(r[e-1].type)&&(e={type:"input_dummy"},n&&(e.align=n),r.push(e)),r}fieldFromJson_(e){const t=Ms.fromJson$$module$build$src$core$field_registry(e);return!t&&e.alt?"string"==typeof e.alt?(e=this.stringToFieldJson_(e.alt))?this.fieldFromJson_(e):null:this.fieldFromJson_(e.alt):t}inputFromJson_(e,t){var n={LEFT:Ms.Align$$module$build$src$core$inputs$align.LEFT,RIGHT:Ms.Align$$module$build$src$core$inputs$align.RIGHT,CENTRE:Ms.Align$$module$build$src$core$inputs$align.CENTRE,CENTER:Ms.Align$$module$build$src$core$inputs$align.CENTRE};let r;switch(e.type){case"input_value":r=this.appendValueInput(e.name);break;case"input_statement":r=this.appendStatementInput(e.name);break;case"input_dummy":r=this.appendDummyInput(e.name);break;case"input_end_row":r=this.appendEndRowInput(e.name);break;default:r=this.appendInputFromRegistry(e.type,e.name)}return r?(e.check&&r.setCheck(e.check),e.align&&(void 0===(n=n[e.align.toUpperCase()])?console.warn(t+"Illegal align value: ",e.align):r.setAlign(n)),r):null}isInputKeyword_(e){return"input_value"===e||"input_statement"===e||"input_dummy"===e||"input_end_row"===e||i(js.INPUT,e)}stringToFieldJson_(e){return(e=e.trim())?{type:"field_label",text:e}:null}moveInputBefore(e,t){if(e!==t){var n=-1,r=t?-1:this.inputList.length;for(let o,i=0;o=this.inputList[i];i++)if(o.name===e){if(n=i,-1!==r)break}else if(t&&o.name===t&&(r=i,-1!==n))break;if(-1===n)throw Error('Named input "'+e+'" not found.');if(-1===r)throw Error('Reference input "'+t+'" not found.');this.moveNumberedInputBefore(n,r)}}moveNumberedInputBefore(e,t){if(e===t)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(t>this.inputList.length)throw RangeError("Reference input "+t+" out of bounds.");const n=this.inputList[e];this.inputList.splice(e,1),e<t&&t--,this.inputList.splice(t,0,n)}removeInput(e,t){for(let t,n=0;t=this.inputList[n];n++)if(t.name===e)return t instanceof kp&&this.statementInputCount--,t.dispose(),this.inputList.splice(n,1),!0;if(t)return!1;throw Error("Input not found: "+e)}getInput(e){for(let t,n=0;t=this.inputList[n];n++)if(t.name===e)return t;return null}getInputTargetBlock(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()}getCommentText(){let e,t;return null!=(t=null==(e=this.getIcon(Hh.TYPE))?void 0:e.getText())?t:null}setCommentText(e){var t;let n;const r=null!=(n=null==(t=this.getIcon(Hh.TYPE))?void 0:t.getText())?n:null;r!==e&&(null!==e?((t=this.getIcon(Hh.TYPE))||(t=this.addIcon(new Hh(this))),Ms.disable$$module$build$src$core$events$utils(),t.setText(e),Ms.enable$$module$build$src$core$events$utils()):this.removeIcon(Hh.TYPE),x(new(B(Ms.CHANGE$$module$build$src$core$events$utils))(this,"comment",null,r,e)))}setWarningText(e,t){}setMutator(e){}addIcon(e){if(this.hasIcon(e.getType()))throw new Wh(e);return this.icons.push(e),this.icons.sort(((e,t)=>e.getWeight()-t.getWeight())),e}removeIcon(e){if(!this.hasIcon(e))return!1;let t;return null==(t=this.getIcon(e))||t.dispose(),this.icons=this.icons.filter((t=>!t.getType().equals(e))),!0}hasIcon(e){return this.icons.some((t=>t.getType().equals(e)))}getIcon(e){return e instanceof Zl?this.icons.find((t=>t.getType().equals(e))):this.icons.find((t=>t.getType().toString()===e))}getIcons(){return[...this.icons]}getRelativeToSurfaceXY(){return this.xy_}moveBy(e,t,n){if(this.parentBlock_)throw Error("Block has parent");const r=new(B(Ms.MOVE$$module$build$src$core$events$utils))(this);n&&r.setReason(n),this.xy_.translate(e,t),r.recordNew(),x(r)}makeConnection_(e){return new Rp(this,e)}allInputsFilled(e){if(void 0===e&&(e=!0),!e&&this.isShadow())return!1;for(let n,r=0;n=this.inputList[r];r++)if(n.connection){var t=n.connection.targetBlock();if(!t||!t.allInputsFilled(e))return!1}return!(t=this.getNextBlock())||t.allInputsFilled(e)}toDevString(){let e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e}};ed.COLLAPSED_INPUT_NAME=Np,ed.COLLAPSED_FIELD_NAME=Ap;var td=class{constructor(){this.drawer=this.curNode=this.colour=null,this.type="marker"}setDrawer(e){this.drawer=e}getDrawer(){return this.drawer}getCurNode(){return this.curNode}setCurNode(e){const t=this.curNode;this.curNode=e,this.drawer&&this.drawer.draw(t,this.curNode)}draw(){this.drawer&&this.drawer.draw(this.curNode,this.curNode)}hide(){this.drawer&&this.drawer.hide()}dispose(){this.getDrawer()&&this.getDrawer().dispose()}},nd=class extends td{constructor(){super(),this.type="cursor"}next(){var e=this.getCurNode();if(!e)return null;for(e=e.next();e&&e.next()&&(e.getType()===Cp.types.NEXT||e.getType()===Cp.types.BLOCK);)e=e.next();return e&&this.setCurNode(e),e}in(){var e=this.getCurNode();if(!e)return null;let t,n;return e.getType()!==Cp.types.PREVIOUS&&e.getType()!==Cp.types.OUTPUT||(e=e.next()),(e=null!=(n=null==(t=e)?void 0:t.in())?n:null)&&this.setCurNode(e),e}prev(){var e=this.getCurNode();if(!e)return null;for(e=e.prev();e&&e.prev()&&(e.getType()===Cp.types.NEXT||e.getType()===Cp.types.BLOCK);)e=e.prev();return e&&this.setCurNode(e),e}out(){var e=this.getCurNode();return e?((e=e.out())&&e.getType()===Cp.types.BLOCK&&(e=e.prev()||e),e&&this.setCurNode(e),e):null}};e(js.CURSOR,Fs,nd);var rd=class extends nd{constructor(){super()}next(){var e=this.getCurNode();return e?((e=this.getNextNode_(e,this.validNode_))&&this.setCurNode(e),e):null}in(){return this.next()}prev(){var e=this.getCurNode();return e?((e=this.getPreviousNode_(e,this.validNode_))&&this.setCurNode(e),e):null}out(){return this.prev()}getNextNode_(e,t){if(!e)return null;const n=e.in()||e.next();return t(n)?n:n?this.getNextNode_(n,t):t(e=this.findSiblingOrParent(e.out()))?e:e?this.getNextNode_(e,t):null}getPreviousNode_(e,t){if(!e)return null;let n=e.prev();return n=n?this.getRightMostChild(n):e.out(),t(n)?n:n?this.getPreviousNode_(n,t):null}validNode_(e){let t=!1;return(e=e&&e.getType())!==Cp.types.OUTPUT&&e!==Cp.types.INPUT&&e!==Cp.types.FIELD&&e!==Cp.types.NEXT&&e!==Cp.types.PREVIOUS&&e!==Cp.types.WORKSPACE||(t=!0),t}findSiblingOrParent(e){if(!e)return null;return e.next()||this.findSiblingOrParent(e.out())}getRightMostChild(e){if(!e.in())return e;for(e=e.in();e&&e.next();)e=e.next();return this.getRightMostChild(e)}};rd.registrationName="basicCursor",e(js.CURSOR,rd.registrationName,rd);var od=class extends rd{validNode_(e){let t=!1;const n=e&&e.getType();return e&&(e=e.getLocation(),n===Cp.types.FIELD&&e&&e.isTabNavigable()&&e.isClickable()&&(t=!0)),t}},id=class extends Rp{constructor(e,t){super(e,t),this.highlighted=!1,this.targetConnection=null,this.db=e.workspace.connectionDBList[t],this.dbOpposite=e.workspace.connectionDBList[ju[t]],this.offsetInBlock=new hl(0,0),this.trackedState=id.TrackedState.WILL_TRACK}dispose(){let e,t;super.dispose(),this.trackedState===id.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),null==(t=(e=this.sourceBlock_.pathObject).removeConnectionHighlight)||t.call(e,this)}getSourceBlock(){return super.getSourceBlock()}targetBlock(){return super.targetBlock()}distanceFrom(e){const t=this.x-e.x;return e=this.y-e.y,Math.sqrt(t*t+e*e)}bumpAwayFrom(e){if(!this.sourceBlock_.workspace.isDragging()){var t=this.sourceBlock_.getRootBlock();if(!t.isInFlyout){var n=!1;if(!t.isMovable()){if(!(t=e.getSourceBlock().getRootBlock()).isMovable())return;e=this,n=!0}var r=m()==t;r||t.addSelect();var o=e.x+Ms.config$$module$build$src$core$config.snapRadius+Math.floor(10*Math.random())-this.x,i=e.y+Ms.config$$module$build$src$core$config.snapRadius+Math.floor(10*Math.random())-this.y;n&&(i=-i),t.RTL&&(o=e.x-Ms.config$$module$build$src$core$config.snapRadius-Math.floor(10*Math.random())-this.x),t.moveBy(o,i,["bump"]),r||t.removeSelect()}}}moveTo(e,t){let n=!1;return this.trackedState===id.TrackedState.WILL_TRACK?(this.db.addConnection(this,t),this.trackedState=id.TrackedState.TRACKED,n=!0):this.trackedState===id.TrackedState.TRACKED&&(this.db.removeConnection(this,this.y),this.db.addConnection(this,t),n=!0),this.x=e,this.y=t,n}moveBy(e,t){return this.moveTo(this.x+e,this.y+t)}moveToOffset(e){return this.moveTo(e.x+this.offsetInBlock.x,e.y+this.offsetInBlock.y)}setOffsetInBlock(e,t){this.offsetInBlock.x=e,this.offsetInBlock.y=t}getOffsetInBlock(){return this.offsetInBlock}tightenEfficiently(){var e=this.targetConnection;const t=this.targetBlock();e&&t&&(e=hl.difference(this.offsetInBlock,e.offsetInBlock),t.translate(e.x,e.y))}closest(e,t){return this.dbOpposite.searchForClosest(this,e,t)}highlight(){this.highlighted=!0,this.getSourceBlock().queueRender()}unhighlight(){this.highlighted=!1,this.getSourceBlock().queueRender()}isHighlighted(){return this.highlighted}setTracking(e){e&&this.trackedState===id.TrackedState.TRACKED||!e&&this.trackedState===id.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db.addConnection(this,this.y),this.trackedState=id.TrackedState.TRACKED):(this.trackedState===id.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),this.trackedState=id.TrackedState.UNTRACKED))}stopTrackingAll(){if(this.setTracking(!1),this.targetConnection){const e=this.targetBlock().getDescendants(!1);for(let t=0;t<e.length;t++){const n=e[t],r=n.getConnections_(!0);for(let e=0;e<r.length;e++)r[e].setTracking(!1);for(const e of n.getIcons())yo(e)&&e.setBubbleVisible(!1)}}}startTrackingAll(){this.setTracking(!0);let e=[];if(this.type!==Uc.INPUT_VALUE&&this.type!==Uc.NEXT_STATEMENT)return e;const t=this.targetBlock();if(t){let n;t.isCollapsed()?(n=[],t.outputConnection&&n.push(t.outputConnection),t.nextConnection&&n.push(t.nextConnection),t.previousConnection&&n.push(t.previousConnection)):n=t.getConnections_(!0);for(let t=0;t<n.length;t++)e.push(...n[t].startTrackingAll());e.length||(e=[t])}return e}onFailedConnect(e){const t=this.getSourceBlock();if(I()){const n=Ms.getGroup$$module$build$src$core$events$utils();setTimeout(function(){t.isDisposed()||t.getParent()||(Ms.setGroup$$module$build$src$core$events$utils(n),this.bumpAwayFrom(e),Ms.setGroup$$module$build$src$core$events$utils(!1))}.bind(this),Ms.config$$module$build$src$core$config.bumpDelay)}}disconnectInternal(e=!0){const{parentConnection:t,childConnection:n}=this.getParentAndChildConnections();if(t&&n){var r=t.getSourceBlock(),o=n.getSourceBlock();super.disconnectInternal(e),r.rendered&&r.queueRender(),o.rendered&&(o.updateDisabled(),o.queueRender(),o.getSvgRoot().style.display="block")}}respawnShadow_(){super.respawnShadow_();const e=this.targetBlock();e&&(e.initSvg(),e.queueRender())}neighbours(e){return this.dbOpposite.getNeighbours(this,e)}connect_(e){super.connect_(e);var t=this.getSourceBlock();e=e.getSourceBlock();const n=t.rendered,r=e.rendered;n&&t.updateDisabled(),r&&e.updateDisabled(),n&&r&&(this.type===Uc.NEXT_STATEMENT||this.type===Uc.PREVIOUS_STATEMENT?e.queueRender():t.queueRender()),(t=t.getInputWithBlock(e))&&(t=t.isVisible(),e.getSvgRoot().style.display=t?"block":"none")}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())}setCheck(e){return super.setCheck(e),this.sourceBlock_.rendered&&this.sourceBlock_.queueRender(),this}};!function(e){(e=e.TrackedState||(e.TrackedState={}))[e.WILL_TRACK=-1]="WILL_TRACK",e[e.UNTRACKED=0]="UNTRACKED",e[e.TRACKED=1]="TRACKED"}(id||(id={}));var sd=id.TrackedState,ad={};ad.RenderedConnection=id,ad.TrackedState=sd;var ld=class extends ed{constructor(e,t,n){super(e,t,n),this.width=this.height=0,this.warningTextDb=new Map,this.warning=this.mutator=null,this.eventsInit_=this.renderIsInProgress_=this.visuallyDisabled=this.rendered=!1,this.translation="",this.bumpNeighboursPid=0,this.dragging=!1,this.relativeCoords=new hl(0,0),this.workspace=e,this.svgGroup_=re(wl.G,{}),this.style=e.getRenderer().getConstants().getBlockStyle(null),this.pathObject=e.getRenderer().makePathObject(this.svgGroup_,this.style),(e=this.pathObject.svgPath).tooltip=this,no(e),this.svgGroup_.setAttribute("data-id",this.id),this.doInit_()}initSvg(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(let e,t=0;e=this.inputList[t];t++)e.init();for(var e of this.getIcons())e.initView(this.createIconPointerDownListener(e)),e.updateEditable();this.applyColour(),this.pathObject.updateMovable(this.isMovable()),e=this.getSvgRoot(),this.workspace.options.readOnly||this.eventsInit_||!e||z(e,"pointerdown",this,this.onMouseDown_),this.eventsInit_=!0,e.parentNode||this.workspace.getCanvas().appendChild(e)}getColourSecondary(){return this.style.colourSecondary}getColourTertiary(){return this.style.colourTertiary}select(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(m()!==this){var e=null;if(m()){e=m().id,Ms.disable$$module$build$src$core$events$utils();try{m().unselect()}finally{Ms.enable$$module$build$src$core$events$utils()}}e=new(B(ia))(e,this.id,this.workspace.id),x(e),y(this),this.addSelect()}}unselect(){if(m()===this){var e=new(B(ia))(this.id,null,this.workspace.id);e.workspaceId=this.workspace.id,x(e),y(null),this.removeSelect()}}setParent(e){const t=this.parentBlock_;if(e!==t){pe(),super.setParent(e),de();var n=this.getSvgRoot();if(!this.workspace.isClearing&&n){var r=this.getRelativeToSurfaceXY();e?e.getSvgRoot().appendChild(n):t&&((e=this.workspace.getCanvas().querySelector(".blocklyDragging"))?this.workspace.getCanvas().insertBefore(n,e):this.workspace.getCanvas().appendChild(n),this.translate(r.x,r.y)),this.applyColour()}}}getRelativeToSurfaceXY(){const e=this.workspace.getLayerManager();if(!e)throw Error("Cannot calculate position because the workspace has not been appended");let t=0,n=0,r=this.getSvgRoot();if(r)do{const e=Oe(r);t+=e.x,n+=e.y,r=r.parentNode}while(r&&!e.hasLayer(r));return new hl(t,n)}moveBy(e,t,n){if(this.parentBlock_)throw Error("Block has parent");const r=D();let o=null;r&&(o=new(B(Ms.MOVE$$module$build$src$core$events$utils))(this),n&&o.setReason(n)),e=new hl(e,t),t=this.getRelativeToSurfaceXY(),e=hl.sum(t,e),this.translate(e.x,e.y),this.updateComponentLocations(e),r&&o&&(o.recordNew(),x(o)),this.workspace.resizeContents()}translate(e,t){this.translation=`translate(${e}, ${t})`,this.relativeCoords=new hl(e,t),this.getSvgRoot().setAttribute("transform",this.getTranslation())}getTranslation(){return this.translation}moveTo(e,t){const n=this.getRelativeToSurfaceXY();this.moveBy(e.x-n.x,e.y-n.y,t)}moveDuringDrag(e){this.translate(e.x,e.y),this.getSvgRoot().setAttribute("transform",this.getTranslation()),this.updateComponentLocations(e)}snapToGrid(){if(!(this.isDeadOrDying()||this.workspace.isDragging()||this.getParent()||this.isInFlyout)){var e=this.workspace.getGrid();if(e&&e.shouldSnap()){var t=e.getSpacing(),n=t/2,r=this.getRelativeToSurfaceXY();e=Math.round(Math.round((r.x-n)/t)*t+n-r.x),t=Math.round(Math.round((r.y-n)/t)*t+n-r.y),(e||t)&&this.moveBy(e,t,["snap"])}}}getBoundingRectangle(){const e=this.getRelativeToSurfaceXY(),t=this.getHeightWidth();let n,r;return this.RTL?(n=e.x-t.width,r=e.x):(n=e.x,r=e.x+t.width),new Tl(e.y,e.y+t.height,n,r)}markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(let e,t=0;e=this.inputList[t];t++)e.markDirty()}setCollapsed(e){this.collapsed_!==e&&(super.setCollapsed(e),this.updateCollapsed_())}updateCollapsed_(){var e=this.isCollapsed();const t=Np,n=Ap;for(let n,r=0;n=this.inputList[r];r++)n.name!==t&&n.setVisible(!e);for(var r of this.getIcons())r.updateCollapsed();e?(e=this.toString(30),(r=this.getField(n))?r.setValue(e):(this.getInput(t)||this.appendDummyInput(t)).appendField(new _p(e),n)):(this.updateDisabled(),this.removeInput(t))}tab(e,t){const n=new od;n.setCurNode(Cp.createFieldNode(e)),e=n.getCurNode(),t?n.next():n.prev(),(t=n.getCurNode())&&t!==e&&(t.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(t))}onMouseDown_(e){const t=this.workspace.getGesture(e);t&&t.handleBlockStart(e,this)}showHelp(){const e="function"==typeof this.helpUrl?this.helpUrl():this.helpUrl;e&&window.open(e)}generateContextMenu(){if(this.workspace.options.readOnly||!this.contextMenu)return null;const e=fu.registry.getContextMenuOptions(fu.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(e),e}showContextMenu(e){const t=this.generateContextMenu();t&&t.length&&(er(e,t,this.RTL),Qn(this))}updateComponentLocations(e){if(this.rendered){this.dragging||this.updateConnectionLocations(e),this.updateIconLocations(e),this.updateFieldLocations(e);for(const t of this.getChildren(!1))t.updateComponentLocations(hl.sum(e,t.relativeCoords))}}updateConnectionLocations(e){for(const t of this.getConnections_(!1))t.moveToOffset(e)}updateIconLocations(e){for(const t of this.getIcons())t.onLocationChange(e)}updateFieldLocations(e){for(const t of this.inputList)for(const n of t.fieldRow)n.onLocationChange(e)}setDragging(e){(this.dragging=e)?(this.translation="",qs.push(...this.getConnections_(!0)),oe(this.svgGroup_,"blocklyDragging")):(qs.length=0,se(this.svgGroup_,"blocklyDragging"));for(let t=0;t<this.childBlocks_.length;t++)this.childBlocks_[t].setDragging(e)}setMovable(e){super.setMovable(e),this.pathObject.updateMovable(e)}setEditable(e){super.setEditable(e),e=this.getIcons();for(let t=0;t<e.length;t++)e[t].updateEditable()}setShadow(e){super.setShadow(e),this.applyColour()}setInsertionMarker(e){this.isInsertionMarker_!==e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}getSvgRoot(){return this.svgGroup_}dispose(e,t){this.isDeadOrDying()||(ao(),ir(),t&&this.rendered&&(this.unplug(e),Mr(this)),super.dispose(!!e),le(this.svgGroup_))}disposeInternal(){this.isDeadOrDying()||(super.disposeInternal(),this.rendered=!1,m()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),[...this.warningTextDb.values()].forEach((e=>clearTimeout(e))),this.warningTextDb.clear(),this.getIcons().forEach((e=>e.dispose())))}checkAndDelete(){this.workspace.isFlyout||(Ms.setGroup$$module$build$src$core$events$utils(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),Ms.setGroup$$module$build$src$core$events$utils(!1))}toCopyData(){return this.isInsertionMarker_?null:{paster:Wc.TYPE,blockState:sn(this,{addCoordinates:!0,addNextBlocks:!1}),typeCounts:E(this,!0)}}applyColour(){this.pathObject.applyColour(this);const e=this.getIcons();for(let t=0;t<e.length;t++)e[t].applyColour();for(let e,t=0;e=this.inputList[t];t++)for(let t,n=0;t=e.fieldRow[n];n++)t.applyColour()}updateDisabled(){const e=!this.isEnabled()||this.getInheritedDisabled();if(this.visuallyDisabled===e){let e;null==(e=this.getNextBlock())||e.updateDisabled()}else{this.applyColour(),this.visuallyDisabled=e;for(const e of this.getChildren(!1))e.updateDisabled()}}getCommentIcon(){let e;return ne("getCommentIcon","v10","v11","getIcon"),null!=(e=this.getIcon(Hh.TYPE))?e:null}setWarningText(e,t=""){if(t)this.warningTextDb.has(t)&&(clearTimeout(this.warningTextDb.get(t)),this.warningTextDb.delete(t));else{for(var n of this.warningTextDb.values())clearTimeout(n);this.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(t,setTimeout((()=>{this.isDeadOrDying()||(this.warningTextDb.delete(t),this.setWarningText(e,t))}),100));else if(this.isInFlyout&&(e=null),n=this.getIcon(Vh.TYPE),e){let r=this.getSurroundParent(),o=null;for(;r;)r.isCollapsed()&&(o=r),r=r.getSurroundParent();o&&o.setWarningText(Ms.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,ld.COLLAPSED_WARNING_ID),n?n.addMessage(e,t):this.addIcon(new Vh(this).addMessage(e,t))}else n&&(t?(n.addMessage("",t),n.getText()||this.removeIcon(Vh.TYPE)):this.removeIcon(Vh.TYPE))}setMutator(e){this.removeIcon(Ms.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE),e&&this.addIcon(e)}addIcon(e){return super.addIcon(e),e instanceof Vh&&(this.warning=e),e instanceof Ms.MutatorIcon$$module$build$src$core$icons$mutator_icon&&(this.mutator=e),this.rendered&&(e.initView(this.createIconPointerDownListener(e)),e.applyColour(),e.updateEditable(),this.queueRender(),kt(),this.bumpNeighbours()),e}createIconPointerDownListener(e){return t=>{this.isDeadOrDying()||(t=this.workspace.getGesture(t))&&t.setStartIcon(e)}}removeIcon(e){const t=super.removeIcon(e);return e.equals(Vh.TYPE)&&(this.warning=null),e.equals(Ms.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE)&&(this.mutator=null),this.rendered&&(this.queueRender(),kt(),this.bumpNeighbours()),t}setEnabled(e){this.isEnabled()!==e&&(super.setEnabled(e),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled())}setHighlighted(e){this.rendered&&this.pathObject.updateHighlighted(e)}addSelect(){this.pathObject.updateSelected(!0)}removeSelect(){this.pathObject.updateSelected(!1)}setDeleteStyle(e){this.pathObject.updateDraggingDelete(e)}getColour(){return this.style.colourPrimary}setColour(e){super.setColour(e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()}setStyle(e){const t=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_=e,!t)throw Error("Invalid style name: "+e);this.hat=t.hat,this.pathObject.setStyle(t),this.colour_=t.colourPrimary,this.style=t,this.applyColour()}bringToFront(e=!1){let t=this;if(!t.isDeadOrDying())do{const n=t.getSvgRoot(),r=n.parentNode,o=r.childNodes;if(o[o.length-1]!==n&&r.appendChild(n),e)break;t=t.getParent()}while(t)}setPreviousStatement(e,t){super.setPreviousStatement(e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours())}setNextStatement(e,t){super.setNextStatement(e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours())}setOutput(e,t){super.setOutput(e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours())}setInputsInline(e){super.setInputsInline(e),this.rendered&&(this.queueRender(),this.bumpNeighbours())}removeInput(e,t){return e=super.removeInput(e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours()),e}moveNumberedInputBefore(e,t){super.moveNumberedInputBefore(e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours())}appendInput(e){return super.appendInput(e),this.rendered&&(this.queueRender(),this.bumpNeighbours()),e}setConnectionTracking(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var t=this.nextConnection.targetBlock();t&&t.setConnectionTracking(e)}if(!this.collapsed_)for(t=0;t<this.inputList.length;t++){var n=this.inputList[t].connection;n&&(n.setTracking(e),(n=n.targetBlock())&&n.setConnectionTracking(e))}}getConnections_(e){const t=[];if((e||this.rendered)&&(this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection),e||!this.collapsed_))for(let e,n=0;e=this.inputList[n];n++)e.connection&&t.push(e.connection);return t}lastConnectionInStack(e){return super.lastConnectionInStack(e)}getMatchingConnection(e,t){return super.getMatchingConnection(e,t)}makeConnection_(e){return new id(this,e)}getNextBlock(){return super.getNextBlock()}getPreviousBlock(){return super.getPreviousBlock()}bumpNeighbours(){if(!this.bumpNeighboursPid){var e=Ms.getGroup$$module$build$src$core$events$utils();this.bumpNeighboursPid=setTimeout((()=>{const t=Ms.getGroup$$module$build$src$core$events$utils();Ms.setGroup$$module$build$src$core$events$utils(e),this.getRootBlock().bumpNeighboursInternal(),Ms.setGroup$$module$build$src$core$events$utils(t),this.bumpNeighboursPid=0}),Ms.config$$module$build$src$core$config.bumpDelay)}}bumpNeighboursInternal(){const e=this.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||e.isInFlyout))for(const t of this.getConnections_(!1)){if(t.isSuperior()){let e;null==(e=t.targetBlock())||e.bumpNeighboursInternal()}for(const n of t.neighbours(Ms.config$$module$build$src$core$config.snapRadius))n.getSourceBlock().getRootBlock()!==e&&(t.isConnected()&&n.isConnected()||(t.isSuperior()?n.bumpAwayFrom(t):t.bumpAwayFrom(n)))}}scheduleSnapAndBump(){const e=Ms.getGroup$$module$build$src$core$events$utils();setTimeout((()=>{Ms.setGroup$$module$build$src$core$events$utils(e),this.snapToGrid(),Ms.setGroup$$module$build$src$core$events$utils(!1)}),Ms.config$$module$build$src$core$config.bumpDelay/2),this.bumpNeighbours()}positionNearConnection(e,t,n){if(e.type===Uc.NEXT_STATEMENT||e.type===Uc.INPUT_VALUE){let r=t.x;t=t.y,r+=n.x-e.getOffsetInBlock().x,t+=n.y-e.getOffsetInBlock().y,this.moveBy(r,t)}}getChildren(e){return super.getChildren(e)}queueRender(){return wt(this)}render(){this.queueRender(),kt()}renderEfficiently(){this.rendered=!0,pe(),this.isCollapsed()&&this.updateCollapsed_(),this.isEnabled()||this.updateDisabled(),this.workspace.getRenderer().render(this),this.tightenChildrenEfficiently(),de(),this.updateMarkers_()}tightenChildrenEfficiently(){for(const e of this.inputList){const t=e.connection;t&&t.tightenEfficiently()}this.nextConnection&&this.nextConnection.tightenEfficiently()}updateMarkers_(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(uh.LOCAL_MARKER).draw();for(const e of this.inputList)for(const t of e.fieldRow)t.updateMarkers_()}setCursorSvg(e){this.pathObject.setCursorSvg(e)}setMarkerSvg(e){this.pathObject.setMarkerSvg(e)}getHeightWidth(){let e=this.height,t=this.width;var n=this.getNextBlock();if(n){n=n.getHeightWidth();const r=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=n.height-r,t=Math.max(t,n.width)}return{height:e,width:t}}fadeForReplacement(e){this.pathObject.updateReplacementFade(e)}highlightShapeForInput(e,t){this.pathObject.updateShapeForInputHighlight(e,t)}};ld.INLINE=-1,ld.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var cd,ud=class{constructor(){}onDragEnter(e){}onDragOver(e){}onDragExit(e){}onDrop(e){}getClientRect(){return null}shouldPreventMove(e){return!1}},hd=class extends ud{constructor(){super(),this.wouldDelete_=!1}wouldDelete(e,t){return e instanceof ld?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e&&!t)):this.updateWouldDelete_(e.isDeletable()),this.wouldDelete_}updateWouldDelete_(e){this.wouldDelete_=e}},pd=class extends hd{constructor(e){super(),this.workspace=e,this.id="trashcan",this.contents=[],this.flyout=null,this.isLidOpen=!1,this.minOpenness=0,this.lidTask=this.svgLid=this.svgGroup=null,this.top=this.left=this.lidOpen=0,this.initialized=!1,0>=this.workspace.options.maxTrashcanContents||(e=new fh({scrollbars:!0,parentWorkspace:this.workspace,rtl:this.workspace.RTL,oneBasedIndex:this.workspace.options.oneBasedIndex,renderer:this.workspace.options.renderer,rendererOverrides:this.workspace.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace.horizontalLayout?(e.toolboxPosition=this.workspace.toolboxPosition===Fl.TOP?Fl.BOTTOM:Fl.TOP,this.flyout=new(c(js.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace.options,!0))(e)):(e.toolboxPosition=this.workspace.toolboxPosition===Fl.RIGHT?Fl.LEFT:Fl.RIGHT,this.flyout=new(c(js.FLYOUTS_VERTICAL_TOOLBOX,this.workspace.options,!0))(e)),this.workspace.addChangeListener(this.onDelete.bind(this)))}createDom(){let e;this.svgGroup=re(wl.G,{class:"blocklyTrash"});const t=String(Math.random()).substring(2);e=re(wl.CLIPPATH,{id:"blocklyTrashBodyClipPath"+t},this.svgGroup),re(wl.RECT,{width:dd,height:fd,y:gd},e);const n=re(wl.IMAGE,{width:Yl,x:-bd,height:Xl,y:-_d,"clip-path":"url(#blocklyTrashBodyClipPath"+t+")"},this.svgGroup);return n.setAttributeNS(yl,"xlink:href",this.workspace.options.pathToMedia+Kl),e=re(wl.CLIPPATH,{id:"blocklyTrashLidClipPath"+t},this.svgGroup),re(wl.RECT,{width:dd,height:gd},e),this.svgLid=re(wl.IMAGE,{width:Yl,x:-bd,height:Xl,y:-_d,"clip-path":"url(#blocklyTrashLidClipPath"+t+")"},this.svgGroup),this.svgLid.setAttributeNS(yl,"xlink:href",this.workspace.options.pathToMedia+Kl),q(this.svgGroup,"pointerdown",this,this.blockMouseDownWhenOpenable),q(this.svgGroup,"pointerup",this,this.click),q(n,"pointerover",this,this.mouseOver),q(n,"pointerout",this,this.mouseOut),this.animateLid(),this.svgGroup}init(){0<this.workspace.options.maxTrashcanContents&&(ce(this.flyout.createDom(wl.SVG),this.workspace.getParentSvg()),this.flyout.init(this.workspace)),this.workspace.getComponentManager().addComponent({component:this,weight:1,capabilities:[al.Capability.AUTOHIDEABLE,al.Capability.DELETE_AREA,al.Capability.DRAG_TARGET,al.Capability.POSITIONABLE]}),this.initialized=!0,this.setLidOpen(!1)}dispose(){this.workspace.getComponentManager().removeComponent("trashcan"),this.svgGroup&&le(this.svgGroup),this.lidTask&&clearTimeout(this.lidTask)}hasContents(){return!!this.contents.length}contentsIsOpen(){return!!this.flyout&&this.flyout.isVisible()}openFlyout(){if(!this.contentsIsOpen()){var e=this.contents.map((function(e){return JSON.parse(e)})),t=this.workspace.getParentSvg().style;t.cursor="wait",setTimeout((()=>{let n,r;null==(n=this.flyout)||n.show(e),t.cursor="",null==(r=this.workspace.scrollbar)||r.setVisible(!1)}),10),this.fireUiEvent(!0)}}closeFlyout(){var e,t;this.contentsIsOpen()&&(null==(e=this.flyout)||e.hide(),null==(t=this.workspace.scrollbar)||t.setVisible(!0),this.fireUiEvent(!1),this.workspace.recordDragTargets())}autoHide(e){!e&&this.flyout&&this.closeFlyout()}emptyContents(){this.hasContents()&&(this.contents.length=0,this.setMinOpenness(0),this.closeFlyout())}position(e,t){if(this.initialized){var n,r=qe(this.workspace,e);e=ze(r,new kl(dd,fd+gd),yd,md,e,this.workspace),t=Ye(e,md,r.vertical===Hl.TOP?Wl.DOWN:Wl.UP,t),this.top=t.top,this.left=t.left,null==(n=this.svgGroup)||n.setAttribute("transform","translate("+this.left+","+this.top+")")}}getBoundingRectangle(){return new Tl(this.top,this.top+fd+gd,this.left,this.left+dd)}getClientRect(){if(!this.svgGroup)return null;var e=this.svgGroup.getBoundingClientRect();const t=e.top+_d-vd;return e=e.left+bd-vd,new Tl(t,t+gd+fd+2*vd,e,e+dd+2*vd)}onDragOver(e){this.setLidOpen(this.wouldDelete_)}onDragExit(e){this.setLidOpen(!1)}onDrop(e){setTimeout(this.setLidOpen.bind(this,!1),100)}setLidOpen(e){this.isLidOpen!==e&&(this.lidTask&&clearTimeout(this.lidTask),this.isLidOpen=e,this.animateLid())}animateLid(){const e=Td;var t=1/(e+1);this.lidOpen+=this.isLidOpen?t:-t,this.lidOpen=Math.min(Math.max(this.lidOpen,this.minOpenness),1),this.setLidAngle(this.lidOpen*Cd),t=kd+this.lidOpen*(Sd-kd),this.svgGroup&&(this.svgGroup.style.opacity=`${t}`),this.lidOpen>this.minOpenness&&1>this.lidOpen&&(this.lidTask=setTimeout(this.animateLid.bind(this),wd/e))}setLidAngle(e){const t=this.workspace.toolboxPosition===Fl.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;let n;null==(n=this.svgLid)||n.setAttribute("transform","rotate("+(t?-e:e)+","+(t?4:dd-4)+","+(gd-2)+")")}setMinOpenness(e){this.minOpenness=e,this.isLidOpen||this.setLidAngle(e*Cd)}closeLid(){this.setLidOpen(!1)}click(){this.hasContents()&&!this.workspace.isDragging()&&this.openFlyout()}fireUiEvent(e){e=new(B(ca))(e,this.workspace.id),x(e)}blockMouseDownWhenOpenable(e){!this.contentsIsOpen()&&this.hasContents()&&e.stopPropagation()}mouseOver(){this.hasContents()&&this.setLidOpen(!0)}mouseOut(){this.setLidOpen(!1)}onDelete(e){if(!(0>=this.workspace.options.maxTrashcanContents||e.type!==Ms.DELETE$$module$build$src$core$events$utils||e.type!==Ms.DELETE$$module$build$src$core$events$utils||e.wasShadow)){if(!e.oldJson)throw Error("Encountered a delete event without proper oldJson");if(e=JSON.stringify(this.cleanBlockJson(e.oldJson)),-1===this.contents.indexOf(e)){for(this.contents.unshift(e);this.contents.length>this.workspace.options.maxTrashcanContents;)this.contents.pop();this.setMinOpenness(Ed)}}}cleanBlockJson(e){return function e(t){if(t){if(delete t.id,delete t.x,delete t.y,delete t.enabled,t.icons&&t.icons.comment){var n=t.icons.comment;delete n.height,delete n.width,delete n.pinned}for(var r in n=t.inputs){var o=n[r];const t=o.block;o=o.shadow,t&&e(t),o&&e(o)}t.next&&(t=(r=t.next).block,r=r.shadow,t&&e(t),r&&e(r))}}(e=JSON.parse(JSON.stringify(e))),Object.assign({},{kind:"BLOCK"},e)}},dd=47,fd=44,gd=16,md=20,yd=20,vd=10,bd=0,_d=32,Ed=.1,wd=80,Td=4,kd=.4,Sd=.8,Cd=45,Od=class{constructor(){this.shortcuts=new Map,this.keyMap=new Map,this.reset()}reset(){this.shortcuts.clear(),this.keyMap.clear()}register(e,t){if(this.shortcuts.get(e.name)&&!t)throw Error(`Shortcut named "${e.name}" already exists.`);if(this.shortcuts.set(e.name,e),(t=e.keyCodes)&&0<t.length)for(let n=0;n<t.length;n++)this.addKeyMapping(t[n],e.name,!!e.allowCollision)}unregister(e){return this.shortcuts.get(e)?(this.removeAllKeyMappings(e),this.shortcuts.delete(e),!0):(console.warn(`Keyboard shortcut named "${e}" not found.`),!1)}addKeyMapping(e,t,n){e=`${e}`;const r=this.keyMap.get(e);if(r&&!n)throw Error(`Shortcut named "${t}" collides with shortcuts "${r}"`);r&&n?r.unshift(t):this.keyMap.set(e,[t])}removeKeyMapping(e,t,n){const r=this.keyMap.get(e);if(!r)return n||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1;const o=r.indexOf(t);return-1<o?(r.splice(o,1),0===r.length&&this.keyMap.delete(e),!0):(n||console.warn(`No keyboard shortcut named "${t}" registered with key code "${e}"`),!1)}removeAllKeyMappings(e){for(const t of this.keyMap.keys())this.removeKeyMapping(t,e,!0)}setKeyMap(e){this.keyMap.clear();for(const t in e)this.keyMap.set(t,e[t])}getKeyMap(){const e=Object.create(null);for(const[t,n]of this.keyMap)e[t]=n;return e}getRegistry(){const e=Object.create(null);for(const[t,n]of this.shortcuts)e[t]=n;return mo(Object.create(null),e)}onKeyDown(e,t){var n=this.serializeKeyEvent_(t);if(!(n=this.getShortcutNamesByKeyCode(n)))return!1;for(let r,o=0;r=n[o];o++){const n=this.shortcuts.get(r);let o,i;if(null==(o=n)||!o.preconditionFn||null!=(i=n)&&i.preconditionFn(e)){let r,o;if(null!=(r=n)&&r.callback&&null!=(o=n)&&o.callback(e,t,n))return!0}}return!1}getShortcutNamesByKeyCode(e){return this.keyMap.get(e)||[]}getKeyCodesByShortcutName(e){const t=[];for(const[n,r]of this.keyMap)-1<r.indexOf(e)&&t.push(n);return t}serializeKeyEvent_(e){let t="";for(const n in Od.modifierKeys)e.getModifierState(n)&&(""!==t&&(t+="+"),t+=n);return""!==t&&e.keyCode?t=t+"+"+e.keyCode:e.keyCode&&(t=String(e.keyCode)),t}checkModifiers_(e){for(let t,n=0;t=e[n];n++)if(!(t in Od.modifierKeys))throw Error(t+" is not a valid modifier key.")}createSerializedKey(e,t){let n="";if(t){this.checkModifiers_(t);for(const e in Od.modifierKeys)-1<t.indexOf(Od.modifierKeys[e])&&(""!==n&&(n+="+"),n+=e)}return""!==n&&e?n=n+"+"+e:e&&(n=`${e}`),n}};Od.registry=new Od,function(e){(e=e.modifierKeys||(e.modifierKeys={}))[e.Shift=16]="Shift",e[e.Control=17]="Control",e[e.Alt=18]="Alt",e[e.Meta=91]="Meta"}(Od||(Od={})),function(e){e.ESCAPE="escape",e.DELETE="delete",e.COPY="copy",e.CUT="cut",e.PASTE="paste",e.UNDO="undo",e.REDO="redo"}(cd||(cd={}));var Id=null,xd=null;Gi();var Rd={};Rd.names=cd,Rd.registerCopy=ji,Rd.registerCut=Ui,Rd.registerDefaultShortcuts=Gi,Rd.registerDelete=Fi,Rd.registerEscape=Bi,Rd.registerPaste=Hi,Rd.registerRedo=Wi,Rd.registerUndo=Vi;var Nd={ProcedureSerializer:class{constructor(e,t){this.procedureModelClass=e,this.parameterModelClass=t,this.priority=75}save(e){return(e=e.getProcedureMap().getProcedures().map((e=>zi(e)))).length?e:null}load(e,t){const n=t.getProcedureMap();for(const r of e)n.add(Yi(this.procedureModelClass,this.parameterModelClass,r,t))}clear(e){e.getProcedureMap().clear()}}};Nd.loadParameter=Xi,Nd.loadProcedure=Yi,Nd.saveParameter=qi,Nd.saveProcedure=zi;var Ad=class{constructor(){this.priority=100}save(e){const t=[];for(const n of e.getAllVariables())e={name:n.name,id:n.getId()},n.type&&(e.type=n.type),t.push(e);return t.length?t:null}load(e,t){for(const n of e)t.createVariable(n.name,n.type,n.id)}clear(e){e.getVariableMap().clear()}};rn("variables",new Ad);var $d={};$d.VariableSerializer=Ad;var Dd={};Dd.load=Ji,Dd.save=Ki;var Md={blocks:Pc,exceptions:Ac,priorities:$c,procedures:Nd,registry:Dc,variables:$d,workspaces:Dd},Pd=class{constructor(e,t,n,r,o){this.workspace=e,this.oldHostMetrics_=this.corner_=this.vScroll=this.hScroll=null,n=void 0===n||n;const i=(t=void 0===t||t)&&n;t&&(this.hScroll=new Rl(e,!0,i,r,o)),n&&(this.vScroll=new Rl(e,!1,i,r,o)),i&&(this.corner_=re(wl.RECT,{height:Rl.scrollbarThickness,width:Rl.scrollbarThickness,class:"blocklyScrollbarBackground"}),ce(this.corner_,e.getBubbleCanvas()))}dispose(){le(this.corner_),this.oldHostMetrics_=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}resize(){const e=this.workspace.getMetrics();if(e){var t=!1,n=!1;if(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth===e.viewWidth&&this.oldHostMetrics_.viewHeight===e.viewHeight&&this.oldHostMetrics_.absoluteTop===e.absoluteTop&&this.oldHostMetrics_.absoluteLeft===e.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth===e.scrollWidth&&this.oldHostMetrics_.viewLeft===e.viewLeft&&this.oldHostMetrics_.scrollLeft===e.scrollLeft||(t=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight===e.scrollHeight&&this.oldHostMetrics_.viewTop===e.viewTop&&this.oldHostMetrics_.scrollTop===e.scrollTop||(n=!0)):n=t=!0,t||n){try{Ms.disable$$module$build$src$core$events$utils(),this.hScroll&&t&&this.hScroll.resize(e),this.vScroll&&n&&this.vScroll.resize(e)}finally{Ms.enable$$module$build$src$core$events$utils()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics_||this.oldHostMetrics_.viewWidth!==e.viewWidth||this.oldHostMetrics_.absoluteLeft!==e.absoluteLeft){let e;null==(e=this.corner_)||e.setAttribute("x",String(this.vScroll.position.x))}if(!this.oldHostMetrics_||this.oldHostMetrics_.viewHeight!==e.viewHeight||this.oldHostMetrics_.absoluteTop!==e.absoluteTop){let e;null==(e=this.corner_)||e.setAttribute("y",String(this.hScroll.position.y))}}this.oldHostMetrics_=e}}canScrollHorizontally(){return!!this.hScroll}canScrollVertically(){return!!this.vScroll}setOrigin(e,t){this.hScroll&&this.hScroll.setOrigin(e,t),this.vScroll&&this.vScroll.setOrigin(e,t)}set(e,t,n){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(t,!1),(n||void 0===n)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace.setMetrics(e))}setX(e){this.hScroll&&this.hScroll.set(e,!0)}setY(e){this.vScroll&&this.vScroll.set(e,!0)}setContainerVisible(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)}isVisible(){let e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e}setVisible(e){this.hScroll&&this.hScroll.setVisibleInternal(e),this.vScroll&&this.vScroll.setVisibleInternal(e)}resizeContent(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)}resizeView(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)}},Ld=class{constructor(e){this.workspace_=e}getDimensionsPx_(e){let t=0,n=0;return e&&(t=e.getWidth(),n=e.getHeight()),new kl(t,n)}getFlyoutMetrics(e){return{width:(e=this.getDimensionsPx_(this.workspace_.getFlyout(e))).width,height:e.height,position:this.workspace_.toolboxPosition}}getToolboxMetrics(){const e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}getSvgMetrics(){return this.workspace_.getCachedParentSvgSize()}getAbsoluteMetrics(){let e=0,t=0;const n=this.getToolboxMetrics(),r=this.getFlyoutMetrics(),o=!!this.workspace_.getToolbox();var i;const s=!(null!=(i=this.workspace_.getFlyout())&&i.autoClose),a=(i=o?n.position:r.position)===Fl.TOP;return i===Fl.LEFT&&(o&&(e+=n.width),s&&(e+=r.width)),a&&(o&&(t+=n.height),s&&(t+=r.height)),{top:t,left:e}}getViewMetrics(e){e=e?this.workspace_.scale:1;const t=this.getSvgMetrics(),n=this.getToolboxMetrics(),r=this.getFlyoutMetrics(),o=!!this.workspace_.getToolbox();var i;const s=!(null!=(i=this.workspace_.getFlyout())&&i.autoClose),a=(i=o?n.position:r.position)===Fl.LEFT||i===Fl.RIGHT;return i!==Fl.TOP&&i!==Fl.BOTTOM||(o&&(t.height-=n.height),s&&(t.height-=r.height)),a&&(o&&(t.width-=n.width),s&&(t.width-=r.width)),{height:t.height/e,width:t.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}}getContentMetrics(e){e=e?1:this.workspace_.scale;const t=this.workspace_.getBlocksBoundingBox();return{height:(t.bottom-t.top)*e,width:(t.right-t.left)*e,top:t.top*e,left:t.left*e}}hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}getComputedFixedEdges_(e){if(!this.hasFixedEdges())return{};const t=this.workspace_.isMovableHorizontally(),n=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);const r={};return n||(r.top=e.top,r.bottom=e.top+e.height),t||(r.left=e.left,r.right=e.left+e.width),r}getPaddedContent_(e,t){const n=t.top+t.height,r=t.left+t.width,o=e.width,i=o/2,s=(e=e.height)/2;return{top:Math.min(t.top-s,n-e),bottom:Math.max(n+s,t.top+e),left:Math.min(t.left-i,r-o),right:Math.max(r+i,t.left+o)}}getScrollMetrics(e,t,n){e=e?this.workspace_.scale:1,t=t||this.getViewMetrics(!1);var r=n||this.getContentMetrics();n=this.getComputedFixedEdges_(t),t=this.getPaddedContent_(t,r),r=void 0!==n.top?n.top:t.top;const o=void 0!==n.left?n.left:t.left;return{top:r/e,left:o/e,width:((void 0!==n.right?n.right:t.right)-o)/e,height:((void 0!==n.bottom?n.bottom:t.bottom)-r)/e}}getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}getMetrics(){const e=this.getToolboxMetrics(),t=this.getFlyoutMetrics(!0),n=this.getSvgMetrics(),r=this.getAbsoluteMetrics(),o=this.getViewMetrics(),i=this.getContentMetrics(),s=this.getScrollMetrics(!1,o,i);return{contentHeight:i.height,contentWidth:i.width,contentTop:i.top,contentLeft:i.left,scrollHeight:s.height,scrollWidth:s.width,scrollTop:s.top,scrollLeft:s.left,viewHeight:o.height,viewWidth:o.width,viewTop:o.top,viewLeft:o.left,absoluteTop:r.top,absoluteLeft:r.left,svgHeight:n.height,svgWidth:n.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:t.width,flyoutHeight:t.height}}};e(js.METRICS_MANAGER,Fs,Ld);var Bd=class extends Ia{constructor(e){super(),this.isBlank=!0,this.recordUndo=!1,this.type=ya,this.isBlank=!!e,e&&(this.workspaceId=e.id)}};e(js.EVENT,ya,Bd);var Fd=class extends xa{constructor(e,t,n){super(e?e.workspace.id:void 0),this.type=oa,e&&(this.blockId=e.id,this.isStart=t,this.blocks=n)}toJson(){const e=super.toJson();if(void 0===this.isStart)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(void 0===this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Fd)).isStart=e.isStart,t.blockId=e.blockId,t.blocks=e.blocks,t}};e(js.EVENT,oa,Fd);var jd={};jd.bumpIntoBounds=Zi,jd.bumpIntoBoundsHandler=Qi,jd.bumpTopObjectsIntoBounds=ts;var Ud=class{constructor(e,t){this.connectionCandidate=this.dragTarget_=null,this.wouldDeleteBlock_=!1,this.dragIconData_=[],this.draggingBlock_=e,this.workspace_=t,this.connectionPreviewer=new(c(js.CONNECTION_PREVIEWER,this.workspace_.options))(e),this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=ns(e,this.startXY_)}dispose(){this.dragIconData_.length=0,this.connectionPreviewer.dispose()}startDrag(e,t){let n;Ms.getGroup$$module$build$src$core$events$utils()||Ms.setGroup$$module$build$src$core$events$utils(!0),this.fireDragStartEvent_(),this.draggingBlock_.bringToFront(!0),pe(),this.workspace_.setResizesEnabled(!1),jr(),this.shouldDisconnect_(t)&&this.disconnectBlock_(t,e),this.draggingBlock_.setDragging(!0),null==(n=this.workspace_.getLayerManager())||n.moveToDragLayer(this.draggingBlock_)}shouldDisconnect_(e){return!!(this.draggingBlock_.getParent()||e&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())}disconnectBlock_(e,t){this.draggingBlock_.unplug(e),e=this.pixelsToWorkspaceUnits_(t),e=hl.sum(this.startXY_,e),this.draggingBlock_.translate(e.x,e.y),Br(this.draggingBlock_)}fireDragStartEvent_(){const e=new(B(oa))(this.draggingBlock_,!0,this.draggingBlock_.getDescendants(!1));x(e)}drag(e,t){const n=this.draggingBlock_;this.moveBlock(n,t),this.updateDragTargets(e,n),this.wouldDeleteBlock_=this.wouldDeleteBlock(e,n,t),this.updateCursorDuringBlockDrag_(),this.updateConnectionPreview(n,t)}moveBlock(e,t){t=this.pixelsToWorkspaceUnits_(t),t=hl.sum(this.startXY_,t),e.moveDuringDrag(t)}updateDragTargets(e,t){if(e=this.workspace_.getDragTarget(e),this.dragTarget_!==e){let n;null==(n=this.dragTarget_)||n.onDragExit(t),null==e||e.onDragEnter(t)}null==e||e.onDragOver(t),this.dragTarget_=e}wouldDeleteBlock(e,t,n){return!(!(e=this.workspace_.getDragTarget(e))||!this.workspace_.getComponentManager().hasCapability(e.id,al.Capability.DELETE_AREA))&&e.wouldDelete(t,!!this.getConnectionCandidate(t,n))}updateConnectionPreview(e,t){t=this.pixelsToWorkspaceUnits_(t);const n=this.connectionCandidate,r=this.getConnectionCandidate(e,t);if(r){this.connectionCandidate=t=n&&this.currCandidateIsBetter(n,t,r)?n:r;var{local:o,neighbour:i}=t;o.type!==Uc.OUTPUT_VALUE&&o.type!==Uc.PREVIOUS_STATEMENT||!i.isConnected()||i.targetBlock().isInsertionMarker()||this.orphanCanConnectAtEnd(e,i.targetBlock(),o.type)?this.connectionPreviewer.previewConnection(o,i):this.connectionPreviewer.previewReplacement(o,i,i.targetBlock())}else this.connectionPreviewer.hidePreview(),this.connectionCandidate=null}orphanCanConnectAtEnd(e,t,n){return!!Rp.getConnectionForOrphanedConnection(e,n===Uc.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}currCandidateIsBetter(e,t,n){const{local:r,neighbour:o}=e;e=new hl(r.x,r.y);const i=new hl(o.x,o.y);return t=hl.distance(hl.sum(e,t),i),n.distance>t-Ms.config$$module$build$src$core$config.currentConnectionPreference}getConnectionCandidate(e,t){e=this.getLocalConnections(e);let n=this.connectionCandidate?Ms.config$$module$build$src$core$config.connectingSnapRadius:Ms.config$$module$build$src$core$config.snapRadius,r=null;for(const o of e){const{connection:e,radius:i}=o.closest(n,t);e&&(r={local:o,neighbour:e,distance:i},n=i)}return r}getLocalConnections(e){const t=e.getConnections_(!1),n=e.lastConnectionInStack(!0);return n&&n!==e.nextConnection&&t.push(n),t}endDrag(e,t){if(this.drag(e,t),this.fireDragEndEvent_(),de(),jr(),this.connectionPreviewer.hidePreview(),e=null,this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBlock_)||(e=this.getNewLocationAfterDrag_(t).delta),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBlock_),!this.maybeDeleteBlock_()){let t;null==(t=this.workspace_.getLayerManager())||t.moveOffDragLayer(this.draggingBlock_,50),this.draggingBlock_.setDragging(!1),e?this.updateBlockAfterMove_():Zi(this.draggingBlock_.workspace,this.workspace_.getMetricsManager().getScrollMetrics(!0),this.draggingBlock_)}this.connectionPreviewer.dispose(),this.workspace_.setResizesEnabled(!0),Ms.setGroup$$module$build$src$core$events$utils(!1)}getNewLocationAfterDrag_(e){return{delta:e=this.pixelsToWorkspaceUnits_(e),newLocation:hl.sum(this.startXY_,e)}}maybeDeleteBlock_(){return!!this.wouldDeleteBlock_&&(this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),qs.length=0,!0)}updateBlockAfterMove_(){this.fireMoveEvent_(),this.connectionCandidate?this.applyConnections(this.connectionCandidate):this.draggingBlock_.queueRender(),this.draggingBlock_.scheduleSnapAndBump()}applyConnections(e){const{local:t,neighbour:n}=e;if(t.connect(n),this.draggingBlock_.rendered){const e=t.isSuperior()?n:t,r=this.draggingBlock_.getRootBlock();Tt().then((()=>{Lr(e.getSourceBlock()),setTimeout((()=>{r.bringToFront()}),0)}))}}fireDragEndEvent_(){const e=new(B(oa))(this.draggingBlock_,!1,this.draggingBlock_.getDescendants(!1));x(e)}updateToolboxStyle_(e){const t=this.workspace_.getToolbox();if(t){const n=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";e&&"function"==typeof t.removeStyle?t.removeStyle(n):e||"function"!=typeof t.addStyle||t.addStyle(n)}}fireMoveEvent_(){if(!this.draggingBlock_.isDeadOrDying()){var e=new(B(Ms.MOVE$$module$build$src$core$events$utils))(this.draggingBlock_);e.setReason(["drag"]),e.oldCoordinate=this.startXY_,e.recordNew(),x(e)}}updateCursorDuringBlockDrag_(){this.draggingBlock_.setDeleteStyle(this.wouldDeleteBlock_)}pixelsToWorkspaceUnits_(e){return e=new hl(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e}dragIcons_(){ne("Blockly.BlockDragger.prototype.dragIcons_","v10","v11")}getInsertionMarkers(){return this.workspace_.getAllBlocks().filter((e=>e.isInsertionMarker()))}};e(js.BLOCK_DRAGGER,Fs,Ud);var Hd={};Hd.Bubble=Nh,Hd.MiniWorkspaceBubble=Ah,Hd.TextBubble=jh,Hd.TextInputBubble=Uh;var Vd=class extends Lc{constructor(e,t,n,r){super(e),this.type=Qs,this.recordUndo=!1,e&&(this.name=t,this.oldValue=n,this.newValue=r)}toJson(){const e=super.toJson();if(!this.name)throw Error("The changed field name is undefined. Either pass a name to the constructor, or call fromJson.");return e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Vd)).name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,t}isNull(){return this.oldValue===this.newValue}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(!(t=t.getBlockById(this.blockId)))throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");e=e?this.newValue:this.oldValue,(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name)}};e(js.EVENT,Qs,Vd);var Wd=class extends Lc{constructor(e){super(e),this.type=Ms.MOVE$$module$build$src$core$events$utils,e&&(e.isShadow()&&(this.recordUndo=!1),e=this.currentLocation_(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)}toJson(){const e=super.toJson();return e.oldParentId=this.oldParentId,e.oldInputName=this.oldInputName,this.oldCoordinate&&(e.oldCoordinate=`${Math.round(this.oldCoordinate.x)}, ${Math.round(this.oldCoordinate.y)}`),e.newParentId=this.newParentId,e.newInputName=this.newInputName,this.newCoordinate&&(e.newCoordinate=`${Math.round(this.newCoordinate.x)}, ${Math.round(this.newCoordinate.y)}`),this.reason&&(e.reason=this.reason),this.recordUndo||(e.recordUndo=this.recordUndo),e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Wd)).oldParentId=e.oldParentId,t.oldInputName=e.oldInputName,e.oldCoordinate&&(n=e.oldCoordinate.split(","),t.oldCoordinate=new hl(Number(n[0]),Number(n[1]))),t.newParentId=e.newParentId,t.newInputName=e.newInputName,e.newCoordinate&&(n=e.newCoordinate.split(","),t.newCoordinate=new hl(Number(n[0]),Number(n[1]))),void 0!==e.reason&&(t.reason=e.reason),void 0!==e.recordUndo&&(t.recordUndo=e.recordUndo),t}recordNew(){const e=this.currentLocation_();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate}setReason(e){this.reason=e}currentLocation_(){var e=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var t=e.getBlockById(this.blockId);if(!t)throw Error("The block associated with the block move event could not be found");e={};const n=t.getParent();return n?(e.parentId=n.id,(t=n.getInputWithBlock(t))&&(e.inputName=t.name)):e.coordinate=t.getRelativeToSurfaceXY(),e}isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&hl.equals(this.oldCoordinate,this.newCoordinate)}run(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var n=t.getBlockById(this.blockId);if(n){var r=e?this.newParentId:this.oldParentId,o=e?this.newInputName:this.oldInputName;if(e=e?this.newCoordinate:this.oldCoordinate,r){var i=t.getBlockById(r);if(!i)return void console.warn("Can't connect to non-existent block: "+r)}if(n.getParent()&&n.unplug(),e)o=n.getRelativeToSurfaceXY(),n.moveBy(e.x-o.x,e.y-o.y,this.reason);else{let e,r;(!(t=n.outputConnection)||n.previousConnection&&n.previousConnection.isConnected())&&(t=n.previousConnection),n=null==(r=t)?void 0:r.type,o?(n=i.getInput(o))&&(e=n.connection):n===Uc.PREVIOUS_STATEMENT&&(e=i.nextConnection),e&&t?t.connect(e):console.warn("Can't connect to non-existent input: "+o)}}else console.warn("Can't move non-existent block: "+this.blockId)}};e(js.EVENT,Ms.MOVE$$module$build$src$core$events$utils,Wd);var Gd,zd=class extends xa{constructor(e,t,n){super(e?e.workspace.id:void 0),this.type=la,e&&(this.blockId=e.id,this.isOpen=t,this.bubbleType=n)}toJson(){const e=super.toJson();if(void 0===this.isOpen)throw Error("Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson");if(!this.bubbleType)throw Error("The type of bubble is undefined. Either pass the value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId||"",e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new zd)).isOpen=e.isOpen,t.bubbleType=e.bubbleType,t.blockId=e.blockId,t}};(function(e){e.MUTATOR="mutator",e.COMMENT="comment",e.WARNING="warning"})(Gd||(Gd={})),e(js.EVENT,la,zd);var qd={};qd.BubbleOpen=zd,qd.BubbleType=Gd;var Yd=class extends Ia{constructor(e){super(),this.isBlank=!e,e&&(this.commentId=e.id,this.workspaceId=e.workspace.id,this.group=Ms.getGroup$$module$build$src$core$events$utils(),this.recordUndo=I())}toJson(){const e=super.toJson();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.commentId=this.commentId,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Yd)).commentId=e.commentId,t}static CommentCreateDeleteHelper(e,t){var n=e.getEventWorkspace_();if(t){if(t=Ms.createElement$$module$build$src$core$utils$xml("xml"),!e.xml)throw Error("Ecountered a comment event without proper xml");t.appendChild(e.xml),Ms.domToWorkspace$$module$build$src$core$xml(t,n)}else{if(!e.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(n=n.getCommentById(e.commentId))?n.dispose():console.warn("Can't uncreate non-existent comment: "+e.commentId)}}},Xd=class extends Yd{constructor(e,t,n){super(e),this.type=ga,e&&(this.oldContents_=void 0===t?"":t,this.newContents_=void 0===n?"":n)}toJson(){const e=super.toJson();if(!this.oldContents_)throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newContents_)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Xd)).oldContents_=e.oldContents,t.newContents_=e.newContents,t}isNull(){return this.oldContents_===this.newContents_}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){var n=e?this.newContents_:this.oldContents_;if(!n){if(e)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson")}t.setContent(n)}else console.warn("Can't change non-existent comment: "+this.commentId)}};e(js.EVENT,ga,Xd);var Kd=class extends Yd{constructor(e){super(e),this.type=da,e&&(this.xml=e.toXmlWithXY())}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");return e.xml=Bt(this.xml),e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Kd)).xml=Ms.textToDom$$module$build$src$core$utils$xml(e.xml),t}run(e){Yd.CommentCreateDeleteHelper(this,e)}};e(js.EVENT,da,Kd);var Jd=class extends Yd{constructor(e){super(e),this.type=fa,e&&(this.xml=e.toXmlWithXY())}run(e){Yd.CommentCreateDeleteHelper(this,!e)}toJson(){const e=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");return e.xml=Bt(this.xml),e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Jd)).xml=Ms.textToDom$$module$build$src$core$utils$xml(e.xml),t}};e(js.EVENT,fa,Jd);var Zd=class extends Yd{constructor(e){super(e),this.type=ma,e&&(this.comment_=e,this.oldCoordinate_=e.getRelativeToSurfaceXY())}recordNew(){if(this.newCoordinate_)throw Error("Tried to record the new position of a comment on the same event twice.");if(!this.comment_)throw Error("The comment is undefined. Pass a comment to the constructor if you want to use the record functionality");this.newCoordinate_=this.comment_.getRelativeToSurfaceXY()}setOldCoordinate(e){this.oldCoordinate_=e}toJson(){const e=super.toJson();if(!this.oldCoordinate_)throw Error("The old comment position is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newCoordinate_)throw Error("The new comment position is undefined. Either call recordNew, or call fromJson");return e.oldCoordinate=`${Math.round(this.oldCoordinate_.x)}, ${Math.round(this.oldCoordinate_.y)}`,e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y),e}static fromJson(e,t,n){return t=super.fromJson(e,t,null!=n?n:new Zd),n=e.oldCoordinate.split(","),t.oldCoordinate_=new hl(Number(n[0]),Number(n[1])),n=e.newCoordinate.split(","),t.newCoordinate_=new hl(Number(n[0]),Number(n[1])),t}isNull(){return hl.equals(this.oldCoordinate_,this.newCoordinate_)}run(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){if(!(e=e?this.newCoordinate_:this.oldCoordinate_))throw Error("Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson");var n=t.getRelativeToSurfaceXY();t.moveBy(e.x-n.x,e.y-n.y)}else console.warn("Can't move non-existent comment: "+this.commentId)}};e(js.EVENT,ma,Zd);var Qd=class extends xa{constructor(e,t,n){super(n),this.type=ua,this.oldItem=null!=e?e:void 0,this.newItem=null!=t?t:void 0}toJson(){const e=super.toJson();return e.oldItem=this.oldItem,e.newItem=this.newItem,e}static fromJson(e,t,n){return(t=super.fromJson(e,t,null!=n?n:new Qd)).oldItem=e.oldItem,t.newItem=e.newItem,t}};e(js.EVENT,ua,Qd),Ms.CHANGE$$module$build$src$core$events$utils,Ms.CREATE$$module$build$src$core$events$utils,Ms.DELETE$$module$build$src$core$events$utils,Ms.MOVE$$module$build$src$core$events$utils,Ms.CHANGE$$module$build$src$core$events$utils,Ms.CREATE$$module$build$src$core$events$utils,Ms.DELETE$$module$build$src$core$events$utils,Ms.MOVE$$module$build$src$core$events$utils,Ms.disable$$module$build$src$core$events$utils,Ms.enable$$module$build$src$core$events$utils,Ms.getGroup$$module$build$src$core$events$utils,Ms.setGroup$$module$build$src$core$events$utils;var ef={};ef.Abstract=Ia,ef.BLOCK_CHANGE=Ms.CHANGE$$module$build$src$core$events$utils,ef.BLOCK_CREATE=Ms.CREATE$$module$build$src$core$events$utils,ef.BLOCK_DELETE=Ms.DELETE$$module$build$src$core$events$utils,ef.BLOCK_DRAG=oa,ef.BLOCK_FIELD_INTERMEDIATE_CHANGE=Qs,ef.BLOCK_MOVE=Ms.MOVE$$module$build$src$core$events$utils,ef.BUBBLE_OPEN=la,ef.BUMP_EVENTS=va,ef.BlockBase=Lc,ef.BlockChange=gh,ef.BlockCreate=Bc,ef.BlockDelete=Qp,ef.BlockDrag=Fd,ef.BlockFieldIntermediateChange=Vd,ef.BlockMove=Wd,ef.BubbleOpen=zd,ef.BubbleType=Gd,ef.CHANGE=Ms.CHANGE$$module$build$src$core$events$utils,ef.CLICK=sa,ef.COMMENT_CHANGE=ga,ef.COMMENT_CREATE=da,ef.COMMENT_DELETE=fa,ef.COMMENT_MOVE=ma,ef.CREATE=Ms.CREATE$$module$build$src$core$events$utils,ef.Click=Ra,ef.ClickTarget=Ca,ef.CommentBase=Yd,ef.CommentChange=Xd,ef.CommentCreate=Kd,ef.CommentDelete=Jd,ef.CommentMove=Zd,ef.DELETE=Ms.DELETE$$module$build$src$core$events$utils,ef.FINISHED_LOADING=ya,ef.FinishedLoading=Bd,ef.MARKER_MOVE=aa,ef.MOVE=Ms.MOVE$$module$build$src$core$events$utils,ef.MarkerMove=Op,ef.SELECTED=ia,ef.Selected=gc,ef.THEME_CHANGE=ha,ef.TOOLBOX_ITEM_SELECT=ua,ef.TRASHCAN_OPEN=ca,ef.ThemeChange=jc,ef.ToolboxItemSelect=Qd,ef.TrashcanOpen=Zp,ef.UI=ra,ef.UiBase=xa,ef.VAR_CREATE=ea,ef.VAR_DELETE=ta,ef.VAR_RENAME=na,ef.VIEWPORT_CHANGE=pa,ef.VarBase=ac,ef.VarCreate=lc,ef.VarDelete=Wp,ef.VarRename=Gp,ef.ViewportChange=Hc,ef.clearPendingUndo=$,ef.disable=Ms.disable$$module$build$src$core$events$utils,ef.disableOrphans=F,ef.enable=Ms.enable$$module$build$src$core$events$utils,ef.filter=A,ef.fire=x,ef.fromJson=L,ef.get=B,ef.getDescendantIds=P,ef.getGroup=Ms.getGroup$$module$build$src$core$events$utils,ef.getRecordUndo=I,ef.isEnabled=D,ef.setGroup=Ms.setGroup$$module$build$src$core$events$utils,ef.setRecordUndo=O;var tf=class extends yp{constructor(){super(),this.GRID_UNIT=4,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter=null,this.replacementGlowFilterId="",this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter=null,this.SMALL_PADDING=this.GRID_UNIT,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_DEFAULT_WIDTH=6*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=8*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT}setFontConstants_(e){super.setFontConstants_(e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING}init(){super.init(),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}setDynamicProperties_(e){super.setDynamicProperties_(e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;const t=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=t&&!isNaN(t)?t:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE}dispose(){super.dispose(),this.selectedGlowFilter&&le(this.selectedGlowFilter),this.replacementGlowFilter&&le(this.replacementGlowFilter)}makeStartHat(){const e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH;return{height:e,width:t,path:ni("c",[ti(25,-e),ti(71,-e),ti(t,0)])}}makeHexagonal(){function e(e,n,r){var o=e/2;return ii(-(r=r?-1:1)*(o=o>t?t:o),e=(n?-1:1)*e/2)+ii(r*o,e)}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width:e=>(e/=2)>t?t:e,height:e=>e,connectionOffsetY:e=>e/2,connectionOffsetX:e=>-e,pathDown:t=>e(t,!1,!1),pathUp:t=>e(t,!0,!1),pathRightDown:t=>e(t,!1,!0),pathRightUp:t=>e(t,!1,!0)}}makeRounded(){function e(e,t,r){const o=e>n?e-n:0,i=r===t?"0":"1";return li("a","0 0,"+i,e=(e>n?n:e)/2,ti((r?1:-1)*e,(t?-1:1)*e))+ai("v",(t?-1:1)*o)+li("a","0 0,"+i,e,ti((r?-1:1)*e,(t?-1:1)*e))}const t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,n=2*t;return{type:this.SHAPES.ROUND,isDynamic:!0,width:e=>(e/=2)>t?t:e,height:e=>e,connectionOffsetY:e=>e/2,connectionOffsetX:e=>-e,pathDown:t=>e(t,!1,!1),pathUp:t=>e(t,!0,!1),pathRightDown:t=>e(t,!1,!0),pathRightUp:t=>e(t,!1,!0)}}makeSquared(){function e(e,n,r){e-=2*t;const o=r===n?"0":"1";return li("a","0 0,"+o,t,ti((r?1:-1)*t,(n?-1:1)*t))+ai("v",(n?-1:1)*e)+li("a","0 0,"+o,t,ti((r?-1:1)*t,(n?-1:1)*t))}const t=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width:e=>t,height:e=>e,connectionOffsetY:e=>e/2,connectionOffsetX:e=>-e,pathDown:t=>e(t,!1,!1),pathUp:t=>e(t,!0,!1),pathRightDown:t=>e(t,!1,!0),pathRightUp:t=>e(t,!1,!0)}}shapeFor(e){let t=e.getCheck();switch(!t&&e.targetConnection&&(t=e.targetConnection.getCheck()),e.type){case Uc.INPUT_VALUE:case Uc.OUTPUT_VALUE:if(null!==(e=e.getSourceBlock().getOutputShape()))switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return t&&-1!==t.indexOf("Boolean")?this.HEXAGONAL:(t&&-1!==t.indexOf("Number")||t&&t.indexOf("String"),this.ROUNDED);case Uc.PREVIOUS_STATEMENT:case Uc.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}}makeNotch(){function e(e){return ni("c",[ti(e*o/2,0),ti(e*o*3/4,s/2),ti(e*o,s)])+si([ti(e*o,i)])+ni("c",[ti(e*o/4,s/2),ti(e*o/2,s),ti(e*o,s)])+ai("h",e*r)+ni("c",[ti(e*o/2,0),ti(e*o*3/4,-s/2),ti(e*o,-s)])+si([ti(e*o,-i)])+ni("c",[ti(e*o/4,-s/2),ti(e*o/2,-s),ti(e*o,-s)])}const t=this.NOTCH_WIDTH,n=this.NOTCH_HEIGHT,r=t/3,o=r/3,i=n/2,s=i/2,a=e(1),l=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:n,pathLeft:a,pathRight:l}}makeInsideCorners(){const e=this.CORNER_RADIUS,t=li("a","0 0,0",e,ti(-e,e)),n=li("a","0 0,1",e,ti(-e,e));return{width:e,height:e,pathTop:t,pathBottom:li("a","0 0,0",e,ti(e,e)),rightWidth:e,rightHeight:e,pathTopRight:n,pathBottomRight:li("a","0 0,1",e,ti(e,e))}}generateSecondaryColour_(e){return Co("#000",e,.15)||e}generateTertiaryColour_(e){return Co("#000",e,.25)||e}createDom(e,t,n){super.createDom(e,t,n),e=re(wl.DEFS,{},e),t=re(wl.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),re(wl.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},t),n=re(wl.FECOMPONENTTRANSFER,{result:"outBlur"},t),re(wl.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},n),re(wl.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},t),re(wl.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),this.selectedGlowFilterId=t.id,this.selectedGlowFilter=t,e=re(wl.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),re(wl.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),t=re(wl.FECOMPONENTTRANSFER,{result:"outBlur"},e),re(wl.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),re(wl.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),re(wl.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),re(wl.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter=e}getCSS_(e){return[`${e} .blocklyText,`,`${e} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e} .blocklyText {`,"fill: #fff;","}",`${e} .blocklyNonEditableText>rect:not(.blocklyDropdownRect),`,`${e} .blocklyEditableText>rect:not(.blocklyDropdownRect) {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"}",`${e} .blocklyNonEditableText>text,`,`${e} .blocklyEditableText>text,`,`${e} .blocklyNonEditableText>g>text,`,`${e} .blocklyEditableText>g>text {`,"fill: #575E75;","}",`${e} .blocklyFlyoutLabelText {`,"fill: #575E75;","}",`${e} .blocklyText.blocklyBubbleText {`,"fill: #575E75;","}",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>rect,",`${e} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",`${e} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"color: #575E75;","}",`${e} .blocklyDropdownText {`,"fill: #fff !important;","}",`${e}.blocklyWidgetDiv .goog-menuitem,`,`${e}.blocklyDropDownDiv .goog-menuitem {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${e}.blocklyDropDownDiv .goog-menuitem-content {`,"color: #fff;","}",`${e} .blocklyHighlightedConnectionPath {`,`stroke: ${this.SELECTED_GLOW_COLOUR};`,"}",`${e} .blocklyDisabled > .blocklyOutlinePath {`,`fill: url(#blocklyDisabledPattern${this.randomIdentifier})`,"}",`${e} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},nf=class extends bp{constructor(e,t){super(e,t)}draw(){const e=this.block_.pathObject;e.beginDrawing(),this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),e.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()}drawOutline_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):super.drawOutline_()}drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():super.drawLeft_()}drawRightSideRow_(e){if(!(0>=e.height)){if(Xh.isSpacer(e)){const r=e.precedesStatement;var t=e.followsStatement;if(r||t){const o=this.constants_.INSIDE_CORNERS;var n=o.rightHeight;return n=e.height-(r?n:0),t=t?o.pathBottomRight:"",e=0<n?ai("V",e.yPos+n):"",void(this.outlinePath_+=t+e+(r?o.pathTopRight:""))}}this.outlinePath_+=ai("V",e.yPos+e.height)}}drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"}drawFlatTop_(){const e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=oi(e.xPos,this.info_.startY),this.outlinePath_+=ai("h",e.width)}drawFlatBottom_(){const e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=ai("V",e.baseline),this.outlinePath_+=ai("h",-e.width)}drawInlineInput_(e){this.positionInlineInputConnection_(e);const t=e.input.name;e.connectedBlock||this.info_.isInsertionMarker||(e=ri(e.xPos+e.connectionWidth,e.centerline-e.height/2)+this.getInlineInputPath(e),this.block_.pathObject.setOutlinePath(t,e))}getInlineInputPath(e){const t=e.width-2*e.connectionWidth,n=e.height;return ai("h",t)+e.shape.pathRightDown(n)+ai("h",-t)+e.shape.pathUp(n)+"z"}drawStatementInput_(e){var t=e.getLastInput();const n=t.xPos+t.notchOffset+t.shape.width,r=this.constants_.INSIDE_CORNERS,o=t.shape.pathRight+ai("h",-(t.notchOffset-r.width))+r.pathTop,i=e.height-2*r.height;t=r.pathBottom+ai("h",t.notchOffset-r.width)+(t.connectedBottomNextConnection?"":t.shape.pathLeft),this.outlinePath_+=ai("H",n)+o+ai("v",i)+t+ai("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}drawConnectionHighlightPath(e){const t=e.connectionModel;if(t.type===Uc.NEXT_STATEMENT||t.type===Uc.PREVIOUS_STATEMENT||t.type===Uc.OUTPUT_VALUE&&!e.isDynamicShape)super.drawConnectionHighlightPath(e);else{e=t.type===Uc.INPUT_VALUE?ri(e.connectionWidth,-e.height/2)+this.getInlineInputPath(e):ri(e.width,-e.height/2)+e.shape.pathDown(e.height);var n,r,o=t.getSourceBlock();null==(r=(n=o.pathObject).addConnectionHighlight)||r.call(n,t,e,t.getOffsetInBlock(),o.RTL)}}},rf=class extends Eh{constructor(e,t,n,r,o,i,s){if(super(Eh.SKIP_SETUP),this.imageElement=this.clickHandler=null,this.flipRtl=this.isDirty_=this.EDITABLE=!1,this.altText="",n=Number(Ro(n)),t=Number(Ro(t)),isNaN(n)||isNaN(t))throw Error("Height and width values of an image field must cast to numbers.");if(0>=n||0>=t)throw Error("Height and width values of an image field must be greater than 0.");this.size_=new kl(t,n+rf.Y_PADDING),this.imageHeight=n,"function"==typeof o&&(this.clickHandler=o),e!==Eh.SKIP_SETUP&&(s?this.configure_(s):(this.flipRtl=!!i,this.altText=Ro(r)||""),this.setValue(Ro(e)))}configure_(e){super.configure_(e),e.flipRtl&&(this.flipRtl=e.flipRtl),e.alt&&(this.altText=Ro(e.alt))}initView(){this.imageElement=re(wl.IMAGE,{height:this.imageHeight+"px",width:this.size_.width+"px",alt:this.altText},this.fieldGroup_),this.imageElement.setAttributeNS(yl,"xlink:href",this.value_),this.clickHandler&&(this.imageElement.style.cursor="pointer")}updateSize_(){}doClassValidation_(e){return"string"!=typeof e?null:e}doValueUpdate_(e){this.value_=e,this.imageElement&&this.imageElement.setAttributeNS(yl,"xlink:href",this.value_)}getFlipRtl(){return this.flipRtl}setAlt(e){e!==this.altText&&(this.altText=e||"",this.imageElement&&this.imageElement.setAttribute("alt",this.altText))}showEditor_(){this.clickHandler&&this.clickHandler(this)}setOnClickHandler(e){this.clickHandler=e}getText_(){return this.altText}static fromJson(e){if(!e.src||!e.width||!e.height)throw Error("src, width, and height values for an image field arerequired. The width and height must be non-zero.");return new this(e.src,e.width,e.height,void 0,void 0,void 0,e)}};rf.Y_PADDING=1,Mo("field_image",rf),rf.prototype.DEFAULT_VALUE="";var of=class extends Eh{constructor(e,t,n){super(Eh.SKIP_SETUP),this.spellcheck_=!0,this.htmlInput_=null,this.isTextValid_=this.isBeingEdited_=!1,this.onKeyInputWrapper_=this.onKeyDownWrapper_=this.valueWhenEditorWasOpened_=null,this.fullBlockClickTarget_=!1,this.workspace_=null,this.SERIALIZABLE=!0,this.CURSOR="text",e!==Eh.SKIP_SETUP&&(n&&this.configure_(n),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),void 0!==e.spellcheck&&(this.spellcheck_=e.spellcheck)}initView(){if(!this.getSourceBlock())throw new wh;super.initView(),this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot())}isFullBlockField(){const e=this.getSourceBlock();if(!e)throw new wh;let t;return this.fullBlockClickTarget_=!(null==(t=this.getConstants())||!t.FULL_BLOCK_FIELDS)&&e.isSimpleReporter()}doValueInvalid_(e){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,e=this.value_,this.value_=this.htmlInput_.getAttribute("data-untyped-default-value"),this.sourceBlock_&&D()&&x(new(B(Ms.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock_,"field",this.name||null,e,this.value_)))}doValueUpdate_(e){this.isTextValid_=this.isDirty_=!0,this.value_=e}applyColour(){const e=this.getSourceBlock();if(!e)throw new wh;this.getConstants().FULL_BLOCK_FIELDS&&this.fieldGroup_&&(!this.isFullBlockField()&&this.borderRect_?(this.borderRect_.style.display="block",this.borderRect_.setAttribute("stroke",e.style.colourTertiary)):(this.borderRect_.style.display="none",e.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR)))}getSize(){let e;return null!=(e=this.getConstants())&&e.FULL_BLOCK_FIELDS&&(this.render_(),this.isDirty_=!1),super.getSize()}onLocationChange(){this.isBeingEdited_&&this.resizeEditor_()}render_(){if(super.render_(),this.isBeingEdited_){var e=this.htmlInput_;this.isTextValid_?(se(e,"blocklyInvalidInput"),Bn(e,Jc.INVALID,!1)):(oe(e,"blocklyInvalidInput"),Bn(e,Jc.INVALID,!0))}if(!(e=this.getSourceBlock()))throw new wh;this.getConstants().FULL_BLOCK_FIELDS&&e.applyColour()}setSpellcheck(e){e!==this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))}showEditor_(e,t=!1){this.workspace_=this.sourceBlock_.workspace,!t&&this.workspace_.options.modalInputs&&(el||Ka||Ja)?this.showPromptEditor_():this.showInlineEditor_(t)}showPromptEditor_(){et(Ms.Msg$$module$build$src$core$msg.CHANGE_VALUE_TITLE,this.getText(),(e=>{null!==e&&this.setValue(this.getValueFromEditorText_(e)),this.onFinishEditing_(this.value_)}))}showInlineEditor_(e){const t=this.getSourceBlock();if(!t)throw new wh;Hn(this,t.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,this.valueWhenEditorWasOpened_=this.value_,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}widgetCreate_(){var e=this.getSourceBlock();if(!e)throw new wh;Ms.setGroup$$module$build$src$core$events$utils(!0);const t=Fn();var n=this.getClickTarget_();if(!n)throw Error("A click target has not been set.");oe(n,"editing"),(n=document.createElement("input")).className="blocklyHtmlInput",n.setAttribute("spellcheck",this.spellcheck_);const r=this.workspace_.getScale();var o=this.getConstants().FIELD_TEXT_FONTSIZE*r+"pt";return t.style.fontSize=o,n.style.fontSize=o,o=of.BORDERRADIUS*r+"px",this.isFullBlockField()&&(o=((o=this.getScaledBBox()).bottom-o.top)/2+"px",e=e.getParent()?e.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary,n.style.border=1*r+"px solid "+e,t.style.borderRadius=o,t.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(t.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*r+"px")),n.style.borderRadius=o,t.appendChild(n),n.value=n.defaultValue=this.getEditorText_(this.value_),n.setAttribute("data-untyped-default-value",String(this.value_)),this.resizeEditor_(),this.bindInputEvents_(n),n}widgetDispose_(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_(this.value_),this.sourceBlock_&&D()&&null!==this.valueWhenEditorWasOpened_&&this.valueWhenEditorWasOpened_!==this.value_&&(x(new(B(Ms.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock_,"field",this.name||null,this.valueWhenEditorWasOpened_,this.value_)),this.valueWhenEditorWasOpened_=null),Ms.setGroup$$module$build$src$core$events$utils(!1),this.unbindInputEvents_();var e=Fn().style;if(e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,!(e=this.getClickTarget_()))throw Error("A click target has not been set.");se(e,"editing")}onFinishEditing_(e){}bindInputEvents_(e){this.onKeyDownWrapper_=z(e,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=z(e,"input",this,this.onHtmlInputChange_)}unbindInputEvents_(){this.onKeyDownWrapper_&&(Y(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&(Y(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)}onHtmlInputKeyDown_(e){"Enter"===e.key?(Vn(),Ar()):"Escape"===e.key?(this.setValue(this.htmlInput_.getAttribute("data-untyped-default-value"),!1),Vn(),Ar()):"Tab"===e.key&&(Vn(),Ar(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())}onHtmlInputChange_(e){e=this.value_,this.setValue(this.getValueFromEditorText_(this.htmlInput_.value),!1),this.sourceBlock_&&D()&&this.value_!==e&&x(new(B(Qs))(this.sourceBlock_,this.name||null,e,this.value_))}setEditorValue_(e,t=!0){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e,t)}resizeEditor_(){var e=this.getSourceBlock();if(!e)throw new wh;const t=Fn(),n=this.getScaledBBox();t.style.width=n.right-n.left+"px",t.style.height=n.bottom-n.top+"px",e=new hl(e.RTL?n.right-t.offsetWidth:n.left,n.top),t.style.left=e.x+"px",t.style.top=e.y+"px"}repositionForWindowResize(){const e=this.getSourceBlock();return e instanceof ld&&(Zi(this.workspace_,this.workspace_.getMetricsManager().getViewMetrics(!0),e)||this.resizeEditor_(),!0)}isTabNavigable(){return!0}getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}getEditorText_(e){return`${e}`}getValueFromEditorText_(e){return e}};of.BORDERRADIUS=4;var sf=class extends of{constructor(e,t,n){super(e,t,n)}doClassValidation_(e){return void 0===e?null:`${e}`}static fromJson(e){return new this(Ro(e.text),void 0,e)}};Mo("field_input",sf),sf.prototype.DEFAULT_VALUE="";var af=class extends Zh{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){return!!e.outputConnection}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},lf=class extends ap{constructor(e,t){if(super(e,t),this.connectedBottomNextConnection=!1,this.connectedBlock){for(e=this.connectedBlock;t=e.getNextBlock();)e=t;e.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}},cf=class extends Kh{constructor(e){super(e),this.width=this.height=0,this.type|=Xh.getType("RIGHT_CONNECTION")}},uf=class extends mp{constructor(e){super(e)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(e){const t=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||t}hasRightSquareCorner(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}},hf=class extends Sp{constructor(e,t){super(e,t),this.isInline=!0,this.renderer_=e,this.constants_=this.renderer_.getConstants(),this.topRow=new uf(this.constants_),this.bottomRow=new af(this.constants_),this.isMultiRow=!t.getInputsInline()||t.isCollapsed(),this.hasStatementInput=0<t.statementInputCount,this.rightSide=this.outputConnection?new cf(this.constants_):null,this.rightAlignedDummyInputs=new WeakMap}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}shouldStartNewRow_(e,t){return!!t&&(t instanceof Tp||e instanceof kp||t instanceof kp||(e instanceof Ms.ValueInput$$module$build$src$core$inputs$value_input||e instanceof wp||e instanceof Tp)&&(!this.isInline||this.isMultiRow))}getDesiredRowWidth_(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):super.getDesiredRowWidth_(e)}getInRowSpacing_(e,t){return e&&t||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&t&&Xh.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&Xh.isLeftRoundedCorner(e)&&t&&(Xh.isPreviousConnection(t)||Xh.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:e&&Xh.isLeftSquareCorner(e)&&t&&Xh.isHat(t)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}getSpacerRowHeight_(e,t){if(Xh.isTopRow(e)&&Xh.isBottomRow(t))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;const n=Xh.isInputRow(e)&&e.hasStatement,r=Xh.isInputRow(t)&&t.hasStatement;return r||n?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),r&&n?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):Xh.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):Xh.isBottomRow(t)?this.outputConnection?!t.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}getSpacerRowWidth_(e,t){const n=this.width-this.startX;return Xh.isInputRow(e)&&e.hasStatement||Xh.isInputRow(t)&&t.hasStatement?Math.max(n,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):n}getElemCenterline_(e,t){if(e.hasStatement&&!Xh.isSpacer(t)&&!Xh.isStatementInput(t))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(Xh.isInlineInput(t)&&t instanceof ep){const n=t.connectedBlock;if(n&&n.outputConnection&&n.nextConnection)return e.yPos+n.height/2}return super.getElemCenterline_(e,t)}addInput_(e,t){if((e instanceof wp||e instanceof Tp)&&t.hasDummyInput&&t.align===Ms.Align$$module$build$src$core$inputs$align.LEFT&&e.align===Ms.Align$$module$build$src$core$inputs$align.RIGHT)this.rightAlignedDummyInputs.set(t,e);else if(e instanceof kp)return t.elements.push(new lf(this.constants_,e)),t.hasStatement=!0,void(null===t.align&&(t.align=e.align));super.addInput_(e,t)}addAlignmentPadding_(e,t){if(this.rightAlignedDummyInputs.get(e)){let n;for(let t=0;t<e.elements.length;t++){const r=e.elements[t];if(Xh.isSpacer(r)&&(n=r),Xh.isField(r)&&r instanceof np&&r.parentInput===this.rightAlignedDummyInputs.get(e))break}if(n)return n.width+=t,void(e.width+=t)}super.addAlignmentPadding_(e,t)}adjustXPosition_(){const e=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH;let t=e;for(let o=2;o<this.rows.length-1;o+=2){var n=this.rows[o-1];const i=this.rows[o];var r=this.rows[o+1];if(n=2===o?!!this.topRow.hasPreviousConnection:!!n.followsStatement,r=o+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!r.precedesStatement,Xh.isInputRow(i)&&i.hasStatement){let n,r;i.measure(),t=i.width-(null!=(r=null==(n=i.getLastInput())?void 0:n.width)?r:0)+e}else if(n&&(2===o||r)&&Xh.isInputRow(i)&&!i.hasStatement){r=i.xPos,n=null;for(let e=0;e<i.elements.length;e++){const o=i.elements[e];Xh.isSpacer(o)&&(n=o),n&&(Xh.isField(o)||Xh.isInput(o))&&r<t&&!(Xh.isField(o)&&o instanceof np&&(o.field instanceof _p||o.field instanceof rf))&&(n.width+=t-r),r+=o.width}}}}finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var e=this.outputConnection.shape;if("isDynamic"in e&&e.isDynamic){for(var t=0,n=0;n<this.rows.length;n++){const e=this.rows[n];e.yPos=t,t+=e.height}this.height=t,n=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,t=e.height(n),n=e.width(n),this.outputConnection.height=t,this.outputConnection.width=n,this.outputConnection.startX=n,this.outputConnection.connectionOffsetY=e.connectionOffsetY(t),this.outputConnection.connectionOffsetX=e.connectionOffsetX(n),e=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(e=n,this.rightSide.height=t,this.rightSide.width=e,this.rightSide.centerline=t/2,this.rightSide.xPos=this.width+e),this.startX=n,this.width+=n+e,this.widthWithChildren+=n+e}}}finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var e=0,t=0;t<this.rows.length;t++){var n=this.rows[t];if(!Xh.isInputRow(n))continue;e=n.elements[n.elements.length-2];let r=this.getNegativeSpacing_(n.elements[1]),o=this.getNegativeSpacing_(e);e=r+o;const i=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-e<i&&(r=(e=this.width-i)/2,o=e/2),n.elements.unshift(new ip(this.constants_,-r)),n.elements.push(new ip(this.constants_,-o))}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,t=0;t<this.rows.length;t++)n=this.rows[t],Xh.isTopOrBottomRow(n)&&(n.elements[1].width-=e),n.width-=e,n.widthWithConnectedBlocks-=e}}getNegativeSpacing_(e){if(!e||!this.outputConnection)return 0;const t=this.outputConnection.width;var n=this.outputConnection.shape.type;const r=this.constants_;if(1<this.inputRows.length)return n===r.SHAPES.ROUND?(n=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,t-(n=this.height/2>n?n:this.height/2)*(1-Math.sin(Math.acos((n-this.constants_.SMALL_PADDING)/n)))):0;if(Xh.isInlineInput(e)&&e instanceof ep){const o=e.connectedBlock;return null==(e=o?o.pathObject.outputShapeType:e.shape.type)||o&&o.outputConnection&&(o.statementInputCount||o.nextConnection)||n===r.SHAPES.HEXAGONAL&&n!==e?0:t-this.constants_.SHAPE_IN_SHAPE_PADDING[n][e]}return Xh.isField(e)&&e instanceof np?n===r.SHAPES.ROUND&&e.field instanceof sf?t-2.75*r.GRID_UNIT:t-this.constants_.SHAPE_IN_SHAPE_PADDING[n][0]:Xh.isIcon(e)?this.constants_.SMALL_PADDING:0}finalizeVerticalAlignment_(){if(!this.outputConnection)for(let r=2;r<this.rows.length-1;r+=2){const o=this.rows[r-1],i=this.rows[r],s=this.rows[r+1];var e=2===r,t=r+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!s.precedesStatement;if(e?this.topRow.hasPreviousConnection:o.followsStatement){var n=i.elements[1];if(n=3===i.elements.length&&n instanceof np&&(n.field instanceof _p||n.field instanceof rf),!e&&n)o.height-=this.constants_.SMALL_PADDING,s.height-=this.constants_.SMALL_PADDING,i.height-=this.constants_.MEDIUM_PADDING;else if(e||t){if(t){for(e=!1,t=0;t<i.elements.length;t++)if((n=i.elements[t])instanceof ep&&Xh.isInlineInput(n)&&n.connectedBlock&&!n.connectedBlock.isShadow()&&40<=n.connectedBlock.getHeightWidth().height){e=!0;break}e&&(o.height-=this.constants_.SMALL_PADDING,s.height-=this.constants_.SMALL_PADDING)}}else o.height+=this.constants_.SMALL_PADDING}}}finalize_(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),super.finalize_(),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}},pf=class extends Ip{constructor(e,t,n){super(e,t,n),this.markerCircle=null}showWithInputOutput(e){const t=e.getSourceBlock();e=e.getLocation().getOffsetInBlock(),this.positionCircle(e.x,e.y),this.setParent_(t),this.showCurrent_()}showWithOutput_(e){this.showWithInputOutput(e)}showWithInput_(e){this.showWithInputOutput(e)}showWithBlock_(e){const t=(e=e.getLocation()).getHeightWidth();this.positionRect_(0,0,t.width,t.height),this.setParent_(e),this.showCurrent_()}positionCircle(e,t){let n,r;null==(n=this.markerCircle)||n.setAttribute("cx",`${e}`),null==(r=this.markerCircle)||r.setAttribute("cy",`${t}`),this.currentMarkerSvg=this.markerCircle}hide(){super.hide(),this.markerCircle&&(this.markerCircle.style.display="none")}createDomInternal_(){if(super.createDomInternal_(),this.markerCircle=re(wl.CIRCLE,{r:this.constants_.CURSOR_RADIUS,"stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.hide(),this.isCursor()){const e=this.getBlinkProperties_();re(wl.ANIMATE,e,this.markerCircle)}return this.markerSvg_}applyColour_(e){let t,n;if(super.applyColour_(e),null==(t=this.markerCircle)||t.setAttribute("fill",this.colour_),null==(n=this.markerCircle)||n.setAttribute("stroke",this.colour_),this.isCursor()){let t;e=this.colour_+";transparent;transparent;",null==(t=this.markerCircle)||t.firstElementChild.setAttribute("values",e)}}},df=class extends xp{constructor(e,t,n){super(e,t,n),this.svgPathSelected=null,this.outlines=new Map,this.remainingOutlines=new Set,this.outputShapeType=null,this.constants=n}setPath(e){super.setPath(e),this.svgPathSelected&&this.svgPathSelected.setAttribute("d",e)}applyColour(e){super.applyColour(e);const t=e.getParent();e.isShadow()&&t&&this.svgPath.setAttribute("stroke",t.style.colourTertiary);for(const e of this.outlines.values())e.setAttribute("fill",this.style.colourTertiary)}flipRTL(){super.flipRTL();for(const e of this.outlines.values())e.setAttribute("transform","scale(-1 1)")}updateSelected(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected||(this.svgPathSelected=this.svgPath.cloneNode(!0),this.svgPathSelected.setAttribute("fill","none"),this.svgPathSelected.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected)):this.svgPathSelected&&(this.svgRoot.removeChild(this.svgPathSelected),this.svgPathSelected=null)}updateReplacementFade(e){this.setClass_("blocklyReplaceable",e),e?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")}updateShapeForInputHighlight(e,t){e=e.getParentInput().name,(e=this.getOutlinePath(e))&&(t?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))}beginDrawing(){this.remainingOutlines.clear();for(const e of this.outlines.keys())this.remainingOutlines.add(e)}endDrawing(){if(this.remainingOutlines.size)for(const e of this.remainingOutlines)this.removeOutlinePath(e);this.remainingOutlines.clear()}setOutlinePath(e,t){(e=this.getOutlinePath(e)).setAttribute("d",t),e.setAttribute("fill",this.style.colourTertiary)}getOutlinePath(e){return this.outlines.has(e)||this.outlines.set(e,re(wl.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines.delete(e),this.outlines.get(e)}removeOutlinePath(e){let t,n;null==(t=this.outlines.get(e))||null==(n=t.parentNode)||n.removeChild(this.outlines.get(e)),this.outlines.delete(e)}},ff=class extends Bp{constructor(e){super(e)}makeConstants_(){return new tf}makeRenderInfo_(e){return new hf(this,e)}makeDrawer_(e,t){return new nf(e,t)}makeMarkerDrawer(e,t){return new pf(e,this.getConstants(),t)}makePathObject(e,t){return new df(e,t,this.getConstants())}getConstants(){return this.constants_}getConnectionPreviewMethod(e,t,n){return ne("getConnectionPreviewMethod","v10","v12","an IConnectionPreviewer, if it fulfills your use case."),t.type===Uc.OUTPUT_VALUE?e.isConnected()?Mp.PREVIEW_TYPE.REPLACEMENT_FADE:Mp.PREVIEW_TYPE.INPUT_OUTLINE:super.getConnectionPreviewMethod(e,t,n)}};Ii("zelos",ff);var gf={};gf.BottomRow=af,gf.ConstantProvider=tf,gf.Drawer=nf,gf.MarkerSvg=pf,gf.PathObject=df,gf.RenderInfo=hf,gf.Renderer=ff,gf.RightConnectionShape=cf,gf.StatementInput=lf,gf.TopRow=uf,ws();var mf={};mf.registerCleanup=is,mf.registerCollapse=as,mf.registerCollapseExpandBlock=ys,mf.registerComment=gs,mf.registerDefaultOptions=ws,mf.registerDelete=bs,mf.registerDeleteAll=ps,mf.registerDisable=vs,mf.registerDuplicate=fs,mf.registerExpand=ls,mf.registerHelp=_s,mf.registerInline=ms,mf.registerRedo=os,mf.registerUndo=rs;var yf,vf=class extends of{constructor(e,t,n){super(Eh.SKIP_SETUP),this.clockwise=vf.CLOCKWISE,this.offset=vf.OFFSET,this.wrap=vf.WRAP,this.round=vf.ROUND,this.boundEvents=[],this.symbol_=this.gauge=this.line=null,e!==Eh.SKIP_SETUP&&(n&&this.configure_(n),this.setValue(e),t&&this.setValidator(t))}configure_(e){switch(super.configure_(e),e.mode){case yf.COMPASS:this.clockwise=!0,this.offset=90;break;case yf.PROTRACTOR:this.clockwise=!1,this.offset=0}e.clockwise&&(this.clockwise=e.clockwise),e.offset&&(this.offset=e.offset),e.wrap&&(this.wrap=e.wrap),e.round&&(this.round=e.round)}initView(){super.initView(),this.symbol_=re(wl.TSPAN,{}),this.symbol_.appendChild(document.createTextNode("")),this.getTextElement().appendChild(this.symbol_)}render_(){super.render_(),this.updateGraph()}showEditor_(e){super.showEditor_(e,el||Ka||Ja),e=this.dropdownCreate(),mr().appendChild(e),this.sourceBlock_ instanceof ld&&vr(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary),_r(this,this.dropdownDispose.bind(this)),this.updateGraph()}dropdownCreate(){const e=re(wl.SVG,{xmlns:gl,"xmlns:html":ml,"xmlns:xlink":yl,version:"1.1",height:2*vf.HALF+"px",width:2*vf.HALF+"px"});e.style.touchAction="none";const t=re(wl.CIRCLE,{cx:vf.HALF,cy:vf.HALF,r:vf.RADIUS,class:"blocklyAngleCircle"},e);this.gauge=re(wl.PATH,{class:"blocklyAngleGauge"},e),this.line=re(wl.LINE,{x1:vf.HALF,y1:vf.HALF,class:"blocklyAngleLine"},e);for(let t=0;360>t;t+=15)re(wl.LINE,{x1:vf.HALF+vf.RADIUS,y1:vf.HALF,x2:vf.HALF+vf.RADIUS-(0==t%45?10:5),y2:vf.HALF,class:"blocklyAngleMarks",transform:"rotate("+t+","+vf.HALF+","+vf.HALF+")"},e);return this.boundEvents.push(z(e,"click",this,this.hide)),this.boundEvents.push(z(t,"pointerdown",this,this.onMouseMove_,!0)),this.boundEvents.push(z(t,"pointermove",this,this.onMouseMove_,!0)),e}dropdownDispose(){for(const e of this.boundEvents)Y(e);this.boundEvents.length=0,this.line=this.gauge=null}hide(){Rr(this),Vn()}onMouseMove_(e){var t=this.gauge.ownerSVGElement.getBoundingClientRect();const n=e.clientX-t.left-vf.HALF;e=e.clientY-t.top-vf.HALF,t=Math.atan(-e/n),isNaN(t)||(t=hr(t),0>n?t+=180:0<e&&(t+=360),t=this.clockwise?this.offset+360-t:360-(this.offset-t),this.displayMouseOrKeyboardValue(t))}displayMouseOrKeyboardValue(e){if(this.round&&(e=Math.round(e/this.round)*this.round),(e=this.wrapValue(e))!==this.value_){const t=this.value_;this.setEditorValue_(e,!1),this.sourceBlock_&&D()&&this.value_!==t&&x(new(B(Qs))(this.sourceBlock_,this.name||null,t,this.value_))}}updateGraph(){if(this.gauge&&this.line){var e=Number(this.getText())+this.offset,t=ur(e%360);e=["M ",vf.HALF,",",vf.HALF];var n=vf.HALF,r=vf.HALF;if(!isNaN(t)){const o=Number(this.clockwise),i=ur(this.offset),s=Math.cos(i)*vf.RADIUS,a=Math.sin(i)*-vf.RADIUS;o&&(t=2*i-t),n+=Math.cos(t)*vf.RADIUS,r-=Math.sin(t)*vf.RADIUS,t=Math.abs(Math.floor((t-i)/Math.PI)%2),o&&(t=1-t),e.push(" l ",s,",",a," A ",vf.RADIUS,",",vf.RADIUS," 0 ",t," ",o," ",n,",",r," z")}this.gauge.setAttribute("d",e.join("")),this.line.setAttribute("x2",`${n}`),this.line.setAttribute("y2",`${r}`)}}onHtmlInputKeyDown_(e){super.onHtmlInputKeyDown_(e);var t=this.getSourceBlock();if(!t)throw new wh;let n=0;switch(e.key){case"ArrowLeft":n=t.RTL?1:-1;break;case"ArrowRight":n=t.RTL?-1:1;break;case"ArrowDown":n=-1;break;case"ArrowUp":n=1}n&&(t=this.getValue(),this.displayMouseOrKeyboardValue(t+n*this.round),e.preventDefault(),e.stopPropagation())}doClassValidation_(e){return e=Number(e),isNaN(e)||!isFinite(e)?null:this.wrapValue(e)}wrapValue(e){return 0>(e%=360)&&(e+=360),e>this.wrap&&(e-=360),e}static fromJson(e){return new this(e.angle,void 0,e)}};vf.HALF=50,vf.RADIUS=vf.HALF-1,vf.CLOCKWISE=!1,vf.OFFSET=0,vf.WRAP=360,vf.ROUND=15,Mo("field_angle",vf),vf.prototype.DEFAULT_VALUE=0,ee("\n.blocklyAngleCircle {\n  stroke: #444;\n  stroke-width: 1;\n  fill: #ddd;\n  fill-opacity: 0.8;\n}\n\n.blocklyAngleMarks {\n  stroke: #444;\n  stroke-width: 1;\n}\n\n.blocklyAngleGauge {\n  fill: #f88;\n  fill-opacity: 0.8;\n  pointer-events: none;\n}\n\n.blocklyAngleLine {\n  stroke: #f00;\n  stroke-width: 2;\n  stroke-linecap: round;\n  pointer-events: none;\n}\n"),function(e){e.COMPASS="compass",e.PROTRACTOR="protractor"}(yf||(yf={}));var bf={};bf.FieldAngle=vf,bf.Mode=yf;var _f=class extends Eh{constructor(e,t,n){super(Eh.SKIP_SETUP),this.SERIALIZABLE=!0,this.CURSOR="default",this.value_=this.value_,this.checkChar=_f.CHECK_CHAR,e!==Eh.SKIP_SETUP&&(n&&this.configure_(n),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.checkCharacter&&(this.checkChar=e.checkCharacter)}saveState(){const e=this.saveLegacyState(_f);return null!==e?e:this.getValueBoolean()}initView(){super.initView();const e=this.getTextElement();oe(e,"blocklyCheckbox"),e.style.display=this.value_?"block":"none"}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}getDisplayText_(){return this.checkChar}setCheckCharacter(e){this.checkChar=e||_f.CHECK_CHAR,this.forceRerender()}showEditor_(){this.setValue(!this.value_)}doClassValidation_(e){return!0===e||"TRUE"===e?"TRUE":!1===e||"FALSE"===e?"FALSE":null}doValueUpdate_(e){this.value_=this.convertValueToBool_(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")}getValue(){return this.value_?"TRUE":"FALSE"}getValueBoolean(){return this.value_}getText(){return String(this.convertValueToBool_(this.value_))}convertValueToBool_(e){return"string"==typeof e?"TRUE"===e:!!e}static fromJson(e){return new this(e.checked,void 0,e)}};_f.CHECK_CHAR="",Mo("field_checkbox",_f),_f.prototype.DEFAULT_VALUE=!1;var Ef=class extends Eh{constructor(e,t,n){super(Eh.SKIP_SETUP),this.highlightedIndex=this.picker=null,this.boundEvents=[],this.SERIALIZABLE=!0,this.CURSOR="default",this.isDirty_=!1,this.titles=this.colours=null,this.columns=0,e!==Eh.SKIP_SETUP&&(n&&this.configure_(n),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.colourOptions&&(this.colours=e.colourOptions),e.colourTitles&&(this.titles=e.colourTitles),e.columns&&(this.columns=e.columns)}initView(){this.size_=new kl(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT),this.createBorderRect_(),this.getBorderRect().style.fillOpacity="1",this.getBorderRect().setAttribute("stroke","#fff"),this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot())}isFullBlockField(){const e=this.getSourceBlock();if(!e)throw new wh;const t=this.getConstants();return e.isSimpleReporter()&&!(null==t||!t.FIELD_COLOUR_FULL_BLOCK)}applyColour(){const e=this.getSourceBlock();if(!e)throw new wh;if(this.fieldGroup_){var t=this.borderRect_;if(!t)throw Error("The border rect has not been initialized");this.isFullBlockField()?(t.style.display="none",e.pathObject.svgPath.setAttribute("fill",this.getValue()),e.pathObject.svgPath.setAttribute("stroke","#fff")):(t.style.display="block",t.style.fill=this.getValue())}}getSize(){let e;return null!=(e=this.getConstants())&&e.FIELD_COLOUR_FULL_BLOCK&&(this.render_(),this.isDirty_=!1),super.getSize()}render_(){super.render_();const e=this.getSourceBlock();if(!e)throw new wh;e.applyColour()}updateSize_(e){var t=this.getConstants();this.isFullBlockField()?(e=2*(null!=e?e:0),t=t.FIELD_TEXT_HEIGHT):(e=t.FIELD_COLOUR_DEFAULT_WIDTH,t=t.FIELD_COLOUR_DEFAULT_HEIGHT),this.size_.height=t,this.size_.width=e,this.positionBorderRect_()}doClassValidation_(e){return"string"!=typeof e?null:wo(e)}getText(){let e=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(e)&&(e="#"+e[1]+e[3]+e[5]),e}setColours(e,t){return this.colours=e,t&&(this.titles=t),this}setColumns(e){return this.columns=e,this}showEditor_(){this.dropdownCreate(),mr().appendChild(this.picker),_r(this,this.dropdownDispose.bind(this)),this.picker.focus({preventScroll:!0})}onClick(e){null!==(e=(e=e.target)&&e.getAttribute("data-colour"))&&(this.setValue(e),Rr(this))}onKeyDown(e){let t=!0;var n;switch(e.key){case"ArrowUp":this.moveHighlightBy(0,-1);break;case"ArrowDown":this.moveHighlightBy(0,1);break;case"ArrowLeft":this.moveHighlightBy(-1,0);break;case"ArrowRight":this.moveHighlightBy(1,0);break;case"Enter":(n=this.getHighlighted())&&null!==(n=n.getAttribute("data-colour"))&&this.setValue(n),Ar();break;default:t=!1}t&&e.stopPropagation()}moveHighlightBy(e,t){if(this.highlightedIndex){var n=this.colours||Ef.COLOURS,r=this.columns||Ef.COLUMNS,o=this.highlightedIndex%r,i=Math.floor(this.highlightedIndex/r);o+=e,i+=t,0>e?0>o&&0<i?(o=r-1,i--):0>o&&(o=0):0<e?o>r-1&&i<Math.floor(n.length/r)-1?(o=0,i++):o>r-1&&o--:0>t?0>i&&(i=0):0<t&&i>Math.floor(n.length/r)-1&&(i=Math.floor(n.length/r)-1),this.setHighlightedCell(this.picker.childNodes[i].childNodes[o],i*r+o)}}onMouseMove(e){const t=(e=e.target)&&Number(e.getAttribute("data-index"));null!==t&&t!==this.highlightedIndex&&this.setHighlightedCell(e,t)}onMouseEnter(){let e;null==(e=this.picker)||e.focus({preventScroll:!0})}onMouseLeave(){var e;null==(e=this.picker)||e.blur(),(e=this.getHighlighted())&&se(e,"blocklyColourHighlighted")}getHighlighted(){if(!this.highlightedIndex)return null;const e=this.columns||Ef.COLUMNS,t=this.picker.childNodes[Math.floor(this.highlightedIndex/e)];return t?t.childNodes[this.highlightedIndex%e]:null}setHighlightedCell(e,t){const n=this.getHighlighted();n&&se(n,"blocklyColourHighlighted"),oe(e,"blocklyColourHighlighted"),this.highlightedIndex=t,(e=e.getAttribute("id"))&&this.picker&&Bn(this.picker,Jc.ACTIVEDESCENDANT,e)}dropdownCreate(){const e=this.columns||Ef.COLUMNS,t=this.colours||Ef.COLOURS,n=this.titles||Ef.TITLES,r=this.getValue(),o=document.createElement("table");let i;o.className="blocklyColourTable",o.tabIndex=0,o.dir="ltr",Ln(o,Kc.GRID),Bn(o,Jc.EXPANDED,!0),Bn(o,Jc.ROWCOUNT,Math.floor(t.length/e)),Bn(o,Jc.COLCOUNT,e);for(let s=0;s<t.length;s++){0==s%e&&(i=document.createElement("tr"),Ln(i,Kc.ROW),o.appendChild(i));const a=document.createElement("td");i.appendChild(a),a.setAttribute("data-colour",t[s]),a.title=n[s]||t[s],a.id=S(),a.setAttribute("data-index",`${s}`),Ln(a,Kc.GRIDCELL),Bn(a,Jc.LABEL,t[s]),Bn(a,Jc.SELECTED,t[s]===r),a.style.backgroundColor=t[s],t[s]===r&&(a.className="blocklyColourSelected",this.highlightedIndex=s)}this.boundEvents.push(z(o,"pointerdown",this,this.onClick,!0)),this.boundEvents.push(z(o,"pointermove",this,this.onMouseMove,!0)),this.boundEvents.push(z(o,"pointerenter",this,this.onMouseEnter,!0)),this.boundEvents.push(z(o,"pointerleave",this,this.onMouseLeave,!0)),this.boundEvents.push(z(o,"keydown",this,this.onKeyDown,!1)),this.picker=o}dropdownDispose(){for(const e of this.boundEvents)Y(e);this.boundEvents.length=0,this.highlightedIndex=this.picker=null}static fromJson(e){return new this(e.colour,void 0,e)}};Ef.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),Ef.TITLES=[],Ef.COLUMNS=7,Ef.prototype.DEFAULT_VALUE=Ef.COLOURS[0],Mo("field_colour",Ef),ee("\n.blocklyColourTable {\n  border-collapse: collapse;\n  display: block;\n  outline: none;\n  padding: 1px;\n}\n\n.blocklyColourTable>tr>td {\n  border: 0.5px solid #888;\n  box-sizing: border-box;\n  cursor: pointer;\n  display: inline-block;\n  height: 20px;\n  padding: 0;\n  width: 20px;\n}\n\n.blocklyColourTable>tr>td.blocklyColourHighlighted {\n  border-color: #eee;\n  box-shadow: 2px 2px 7px 2px rgba(0, 0, 0, 0.3);\n  position: relative;\n}\n\n.blocklyColourSelected, .blocklyColourSelected:hover {\n  border-color: #eee !important;\n  outline: 1px solid #333;\n  position: relative;\n}\n");var wf=class extends _p{constructor(e,t,n){super(String(null!=e?e:""),t,n),this.EDITABLE=!1,this.SERIALIZABLE=!0}static fromJson(e){return new this(Ro(e.text),void 0,e)}};Mo("field_label_serializable",wf);var Tf=class extends sf{constructor(e,t,n){super(Eh.SKIP_SETUP),this.textGroup=null,this.maxLines_=1/0,this.isOverflowedY_=!1,e!==Eh.SKIP_SETUP&&(n&&this.configure_(n),this.setValue(e),t&&this.setValidator(t))}configure_(e){super.configure_(e),e.maxLines&&this.setMaxLines(e.maxLines)}toXml(e){return e.textContent=this.getValue().replace(/\n/g,"&#10;"),e}fromXml(e){this.setValue(e.textContent.replace(/&#10;/g,"\n"))}saveState(){const e=this.saveLegacyState(Tf);return null!==e?e:this.getValue()}loadState(e){this.loadLegacyState(Eh,e)||this.setValue(e)}initView(){this.createBorderRect_(),this.textGroup=re(wl.G,{class:"blocklyEditableText"},this.fieldGroup_)}getDisplayText_(){const e=this.getSourceBlock();if(!e)throw new wh;let t=this.getText();if(!t)return Eh.NBSP;const n=t.split("\n");t="";const r=this.isOverflowedY_?this.maxLines_:n.length;for(let e=0;e<r;e++){let o=n[e];o.length>this.maxDisplayLength?o=o.substring(0,this.maxDisplayLength-4)+"...":this.isOverflowedY_&&e===r-1&&(o=o.substring(0,o.length-3)+"..."),o=o.replace(/\s/g,Eh.NBSP),t+=o,e!==r-1&&(t+="\n")}return e.RTL&&(t+=""),t}doValueUpdate_(e){super.doValueUpdate_(e),null!==this.value_&&(this.isOverflowedY_=this.value_.split("\n").length>this.maxLines_)}render_(){var e=this.getSourceBlock();if(!e)throw new wh;for(var t,n=this.textGroup;t=n.firstChild;)n.removeChild(t);t=this.getDisplayText_().split("\n");let r=0;for(let e=0;e<t.length;e++){const o=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;re(wl.TEXT,{class:"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:r+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},n).appendChild(document.createTextNode(t[e])),r+=o}this.isBeingEdited_&&(n=this.htmlInput_,this.isOverflowedY_?oe(n,"blocklyHtmlTextAreaInputOverflowedY"):se(n,"blocklyHtmlTextAreaInputOverflowedY")),this.updateSize_(),this.isBeingEdited_&&(e.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),e=this.htmlInput_,this.isTextValid_?(se(e,"blocklyInvalidInput"),Bn(e,Jc.INVALID,!1)):(oe(e,"blocklyInvalidInput"),Bn(e,Jc.INVALID,!0)))}updateSize_(){var e=this.textGroup.childNodes;const t=this.getConstants().FIELD_TEXT_FONTSIZE,n=this.getConstants().FIELD_TEXT_FONTWEIGHT,r=this.getConstants().FIELD_TEXT_FONTFAMILY;let o=0,i=0;for(var s=0;s<e.length;s++){var a=ge(e[s],t,n,r);a>o&&(o=a),i+=this.getConstants().FIELD_TEXT_HEIGHT+(0<s?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0)}if(this.isBeingEdited_){for(e=String(this.value_).split("\n"),s=re(wl.TEXT,{class:"blocklyText blocklyMultilineText"}),a=0;a<e.length;a++){e[a].length>this.maxDisplayLength&&(e[a]=e[a].substring(0,this.maxDisplayLength)),s.textContent=e[a];const i=ge(s,t,n,r);i>o&&(o=i)}o+=this.htmlInput_.offsetWidth-this.htmlInput_.clientWidth}this.borderRect_&&(i+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,o+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width",`${o}`),this.borderRect_.setAttribute("height",`${i}`)),this.size_.width=o,this.size_.height=i,this.positionBorderRect_()}showEditor_(e,t){super.showEditor_(e,t),this.forceRerender()}widgetCreate_(){const e=Fn(),t=this.workspace_.getScale(),n=document.createElement("textarea");n.className="blocklyHtmlInput blocklyHtmlTextAreaInput",n.setAttribute("spellcheck",String(this.spellcheck_));var r=this.getConstants().FIELD_TEXT_FONTSIZE*t+"pt";e.style.fontSize=r,n.style.fontSize=r,n.style.borderRadius=sf.BORDERRADIUS*t+"px",r=this.getConstants().FIELD_BORDER_RECT_X_PADDING*t;const o=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*t/2;return n.style.padding=o+"px "+r+"px "+o+"px "+r+"px",r=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,n.style.lineHeight=r*t+"px",e.appendChild(n),n.value=n.defaultValue=this.getEditorText_(this.value_),n.setAttribute("data-untyped-default-value",String(this.value_)),n.setAttribute("data-old-value",""),Xa?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(n),n}setMaxLines(e){"number"==typeof e&&0<e&&e!==this.maxLines_&&(this.maxLines_=e,this.forceRerender())}getMaxLines(){return this.maxLines_}onHtmlInputKeyDown_(e){"Enter"!==e.key&&super.onHtmlInputKeyDown_(e)}static fromJson(e){return new this(Ro(e.text),void 0,e)}};Mo("field_multilinetext",Tf),ee("\n.blocklyHtmlTextAreaInput {\n  font-family: monospace;\n  resize: none;\n  overflow: hidden;\n  height: 100%;\n  text-align: left;\n}\n\n.blocklyHtmlTextAreaInputOverflowedY {\n  overflow-y: scroll;\n}\n");var kf=class extends of{constructor(e,t,n,r,o,i){super(Eh.SKIP_SETUP),this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces=null,this.spellcheck_=!1,e!==Eh.SKIP_SETUP&&(i?this.configure_(i):this.setConstraints(t,n,r),this.setValue(e),o&&this.setValidator(o))}configure_(e){super.configure_(e),this.setMinInternal(e.min),this.setMaxInternal(e.max),this.setPrecisionInternal(e.precision)}setConstraints(e,t,n){this.setMinInternal(e),this.setMaxInternal(t),this.setPrecisionInternal(n),this.setValue(this.getValue())}setMin(e){this.setMinInternal(e),this.setValue(this.getValue())}setMinInternal(e){null==e?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))}getMin(){return this.min_}setMax(e){this.setMaxInternal(e),this.setValue(this.getValue())}setMaxInternal(e){null==e?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))}getMax(){return this.max_}setPrecision(e){this.setPrecisionInternal(e),this.setValue(this.getValue())}setPrecisionInternal(e){this.precision_=Number(e)||0;let t=String(this.precision_);-1!==t.indexOf("e")&&(t=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));const n=t.indexOf(".");this.decimalPlaces=-1===n?e?0:null:t.length-n-1}getPrecision(){return this.precision_}doClassValidation_(e){return null===e?null:(e=(e=(e=`${e}`.replace(/O/gi,"0")).replace(/,/g,"")).replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e)?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),null!==this.decimalPlaces&&(e=Number(e.toFixed(this.decimalPlaces))),e))}widgetCreate_(){const e=super.widgetCreate_();return-1/0<this.min_&&(e.min=`${this.min_}`,Bn(e,Jc.VALUEMIN,this.min_)),1/0>this.max_&&(e.max=`${this.max_}`,Bn(e,Jc.VALUEMAX,this.max_)),e}static fromJson(e){return new this(e.value,void 0,void 0,void 0,void 0,e)}};Mo("field_number",kf),kf.prototype.DEFAULT_VALUE=0;var Sf=class extends Ih{constructor(e,t,n,r,o){super(Eh.SKIP_SETUP),this.defaultType="",this.variableTypes=[],this.variable=null,this.SERIALIZABLE=!0,this.menuGenerator_=Sf.dropdownCreate,this.defaultVariableName="string"==typeof e?e:"",this.size_=new kl(0,0),e!==Eh.SKIP_SETUP&&(o?this.configure_(o):this.setTypes(n,r),t&&this.setValidator(t))}configure_(e){super.configure_(e),this.setTypes(e.variableTypes,e.defaultType)}initModel(){var e=this.getSourceBlock();if(!e)throw new wh;this.variable||(e=Ms.getOrCreateVariablePackage$$module$build$src$core$variables(e.workspace,null,this.defaultVariableName,this.defaultType),this.doValueUpdate_(e.getId()))}shouldAddBorderRect_(){const e=this.getSourceBlock();if(!e)throw new wh;return super.shouldAddBorderRect_()&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||"variables_get"!==e.type)}fromXml(e){var t=this.getSourceBlock();if(!t)throw new wh;const n=e.getAttribute("id"),r=e.textContent,o=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(t=Ms.getOrCreateVariablePackage$$module$build$src$core$variables(t.workspace,n,r,o),null!==o&&o!==t.type)throw Error("Serialized variable type with id '"+t.getId()+"' had type "+t.type+", and does not match variable field that references it: "+Bt(e)+".");this.setValue(t.getId())}toXml(e){return this.initModel(),e.id=this.variable.getId(),e.textContent=this.variable.name,this.variable.type&&e.setAttribute("variabletype",this.variable.type),e}saveState(e){var t=this.saveLegacyState(Sf);return null!==t||(this.initModel(),t={id:this.variable.getId()},e&&(t.name=this.variable.name,t.type=this.variable.type)),t}loadState(e){const t=this.getSourceBlock();if(!t)throw new wh;this.loadLegacyState(Sf,e)||(e=Ms.getOrCreateVariablePackage$$module$build$src$core$variables(t.workspace,e.id||null,e.name,e.type||""),this.setValue(e.getId()))}setSourceBlock(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");super.setSourceBlock(e)}getValue(){return this.variable?this.variable.getId():null}getText(){return this.variable?this.variable.name:""}getVariable(){return this.variable}getValidator(){return this.variable?this.validator_:null}doClassValidation_(e){if(null===e)return null;var t=this.getSourceBlock();if(!t)throw new wh;return(t=Ms.getVariable$$module$build$src$core$variables(t.workspace,e))?(t=t.type,this.typeIsAllowed(t)?e:(console.warn("Variable type doesn't match this field!  Type was "+t),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)}doValueUpdate_(e){const t=this.getSourceBlock();if(!t)throw new wh;this.variable=Ms.getVariable$$module$build$src$core$variables(t.workspace,e),super.doValueUpdate_(e)}typeIsAllowed(e){const t=this.getVariableTypes();if(!t)return!0;for(let n=0;n<t.length;n++)if(e===t[n])return!0;return!1}getVariableTypes(){var e=this.variableTypes;if(null===e&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())return this.sourceBlock_.workspace.getVariableTypes();if(0===(e=e||[""]).length)throw e=this.getText(),Error("'variableTypes' of field variable "+e+" was an empty list");return e}setTypes(e=null,t=""){if(Array.isArray(e)){let n=!1;for(let r=0;r<e.length;r++)e[r]===t&&(n=!0);if(!n)throw Error("Invalid default type '"+t+"' in the definition of a FieldVariable")}else if(null!==e)throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.defaultType=t,this.variableTypes=e}refreshVariableName(){this.forceRerender()}onItemSelected_(e,t){if(e=t.getValue(),this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(e===Uu)return void Ms.renameVariable$$module$build$src$core$variables(this.sourceBlock_.workspace,this.variable);if(e===Hu)return void this.sourceBlock_.workspace.deleteVariableById(this.variable.getId())}this.setValue(e)}referencesVariables(){return!0}static fromJson(e){return new this(Ro(e.variable),void 0,void 0,void 0,e)}static dropdownCreate(){if(!this.variable)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");const e=this.getText();let t=[];if(this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())for(var n=this.getVariableTypes(),r=0;r<n.length;r++){const e=this.sourceBlock_.workspace.getVariablesOfType(n[r]);t=t.concat(e)}for(t.sort(cc.compareByName),n=[],r=0;r<t.length;r++)n[r]=[t[r].name,t[r].getId()];return n.push([Ms.Msg$$module$build$src$core$msg.RENAME_VARIABLE,Uu]),Ms.Msg$$module$build$src$core$msg.DELETE_VARIABLE&&n.push([Ms.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",e),Hu]),n}};Mo("field_variable",Sf);var Cf=class{constructor(e,t,n,r){this.workspace=e,this.targetWorkspace=t,this.isLabel_=r,this.onMouseUpWrapper=null,this.height=this.width=0,this.svgText=this.svgGroup=null,this.text=n.text,this.position=new hl(0,0),this.callbackKey=n.callbackKey||n.callbackkey,this.cssClass=n["web-class"]||null,this.info=n}createDom(){var e=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";let t;this.cssClass&&(e+=" "+this.cssClass),this.svgGroup=re(wl.G,{class:e},this.workspace.getCanvas()),this.isLabel_||(t=re(wl.RECT,{class:"blocklyFlyoutButtonShadow",rx:Cf.BORDER_RADIUS,ry:Cf.BORDER_RADIUS,x:1,y:1},this.svgGroup)),e=re(wl.RECT,{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:Cf.BORDER_RADIUS,ry:Cf.BORDER_RADIUS},this.svgGroup);const n=re(wl.TEXT,{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup);var r=Ro(this.text);this.workspace.RTL&&(r+=""),n.textContent=r,this.isLabel_&&(this.svgText=n,this.workspace.getThemeManager().subscribe(this.svgText,"flyoutForegroundColour","fill"));const o=Ee(n,"fontSize"),i=Ee(n,"fontWeight"),s=Ee(n,"fontFamily");if(this.width=me(n,o,i,s),r=ye(r,o,i,s),this.height=r.height,!this.isLabel_){let e,n;this.width+=2*Cf.TEXT_MARGIN_X,this.height+=2*Cf.TEXT_MARGIN_Y,null==(e=t)||e.setAttribute("width",String(this.width)),null==(n=t)||n.setAttribute("height",String(this.height))}return e.setAttribute("width",String(this.width)),e.setAttribute("height",String(this.height)),n.setAttribute("x",String(this.width/2)),n.setAttribute("y",String(this.height/2-r.height/2+r.baseline)),this.updateTransform(),this.onMouseUpWrapper=z(this.svgGroup,"pointerup",this,this.onMouseUp),this.svgGroup}show(){this.updateTransform(),this.svgGroup.setAttribute("display","block")}updateTransform(){this.svgGroup.setAttribute("transform","translate("+this.position.x+","+this.position.y+")")}moveTo(e,t){this.position.x=e,this.position.y=t,this.updateTransform()}isLabel(){return this.isLabel_}getPosition(){return this.position}getButtonText(){return this.text}getTargetWorkspace(){return this.targetWorkspace}dispose(){this.onMouseUpWrapper&&Y(this.onMouseUpWrapper),this.svgGroup&&le(this.svgGroup),this.svgText&&this.workspace.getThemeManager().unsubscribe(this.svgText)}onMouseUp(e){(e=this.targetWorkspace.getGesture(e))&&e.cancel(),this.isLabel_&&this.callbackKey?console.warn("Labels should not have callbacks. Label text: "+this.text):this.isLabel_||this.callbackKey&&this.targetWorkspace.getButtonCallback(this.callbackKey)?this.isLabel_||(e=this.targetWorkspace.getButtonCallback(this.callbackKey))&&e(this):console.warn("Buttons should have callbacks. Button text: "+this.text)}};Cf.TEXT_MARGIN_X=5,Cf.TEXT_MARGIN_Y=2,Cf.BORDER_RADIUS=4,ee("\n.blocklyFlyoutButton {\n  fill: #888;\n  cursor: default;\n}\n\n.blocklyFlyoutButtonShadow {\n  fill: #666;\n}\n\n.blocklyFlyoutButton:hover {\n  fill: #aaa;\n}\n\n.blocklyFlyoutLabel {\n  cursor: default;\n}\n\n.blocklyFlyoutLabelBackground {\n  opacity: 0;\n}\n");var Of,If=class extends Ld{constructor(e,t){super(e),this.flyout_=t}getBoundingBox_(){let e;try{e=this.workspace_.getCanvas().getBBox()}catch(t){e={height:0,y:0,width:0,x:0}}return e}getContentMetrics(e){const t=this.getBoundingBox_();return e=e?1:this.workspace_.scale,{height:t.height*e,width:t.width*e,top:t.y*e,left:t.x*e}}getScrollMetrics(e,t,n){return t=n||this.getContentMetrics(),n=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(t.height+2*n)/e,width:(t.width+t.left+n)/e,top:0,left:0}}};!function(e){e.BLOCK="block",e.BUTTON="button"}(Of||(Of={}));var xf=class extends hd{constructor(e){super(),this.horizontalLayout=!1,this.boundEvents=[],this.filterWrapper=this.reflowWrapper=null,this.mats=[],this.buttons_=[],this.listeners=[],this.permanentlyDisabled=[],this.recycledBlocks=[],this.autoClose=!0,this.isVisible_=!1,this.containerVisible=!0,this.CORNER_RADIUS=8,this.SCROLLBAR_MARGIN=2.5,this.height_=this.width_=0,this.dragAngleRange_=70,this.svgGroup_=this.svgBackground_=null,e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new Kp(e),this.workspace_.setMetricsManager(new If(this.workspace_,this)),this.workspace_.internalIsFlyout=!0,this.workspace_.setVisible(this.isVisible_),this.id=C(),this.RTL=!!e.RTL,this.toolboxPosition_=e.toolboxPosition,this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.rectMap_=new WeakMap,this.MARGIN=this.CORNER_RADIUS,this.GAP_X=3*this.MARGIN,this.GAP_Y=3*this.MARGIN}createDom(e){return this.svgGroup_=re(e,{class:"blocklyFlyout"}),this.svgGroup_.style.display="none",this.svgBackground_=re(wl.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_}init(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new Pd(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),this.boundEvents.push(z(this.svgGroup_,"wheel",this,this.wheel_)),this.filterWrapper=this.filterForCapacity.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper),this.boundEvents.push(z(this.svgBackground_,"pointerdown",this,this.onMouseDown)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:1,capabilities:[al.Capability.AUTOHIDEABLE,al.Capability.DELETE_AREA,al.Capability.DRAG_TARGET]})}dispose(){this.hide(),this.targetWorkspace.getComponentManager().removeComponent(this.id);for(const e of this.boundEvents)Y(e);this.boundEvents.length=0,this.filterWrapper&&this.targetWorkspace.removeChangeListener(this.filterWrapper),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose()),this.svgGroup_&&le(this.svgGroup_)}getWidth(){return this.width_}getHeight(){return this.height_}getFlyoutScale(){return this.targetWorkspace.scale}getWorkspace(){return this.workspace_}setAutoClose(e){this.autoClose=e,this.targetWorkspace.recordDragTargets(),this.targetWorkspace.resizeContents()}autoHide(e){!e&&this.targetWorkspace.getFlyout(!0)===this&&this.autoClose&&this.hide()}isVisible(){return this.isVisible_}setVisible(e){const t=e!==this.isVisible();this.isVisible_=e,t&&(this.autoClose||this.targetWorkspace.recordDragTargets(),this.updateDisplay())}setContainerVisible(e){const t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay()}updateDisplay(){let e,t;e=!!this.containerVisible&&this.isVisible(),this.svgGroup_&&(this.svgGroup_.style.display=e?"block":"none"),null==(t=this.workspace_.scrollbar)||t.setContainerVisible(e)}positionAt_(e,t,n,r){let o,i;null==(o=this.svgGroup_)||o.setAttribute("width",`${e}`),null==(i=this.svgGroup_)||i.setAttribute("height",`${t}`),this.workspace_.setCachedParentSvgSize(e,t),this.svgGroup_&&he(this.svgGroup_,"translate("+n+"px,"+r+"px)"),(e=this.workspace_.scrollbar)&&(e.setOrigin(n,r),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))}hide(){if(this.isVisible()){this.setVisible(!1);for(const e of this.listeners)Y(e);this.listeners.length=0,this.reflowWrapper&&(this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowWrapper=null)}}show(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks(),"string"==typeof e&&(e=this.getDynamicCategoryContents(e)),this.setVisible(!0),e=Be(e),e=this.createFlyoutInfo(e),kt(this.workspace_),this.layout_(e.contents,e.gaps),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity(),this.position(),this.reflowWrapper=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper),this.emptyRecycledBlocks()}createFlyoutInfo(e){const t=[],n=[];this.permanentlyDisabled.length=0;const r=this.horizontalLayout?this.GAP_X:this.GAP_Y;for(const o of e){if("custom"in o){e=this.getDynamicCategoryContents(o.custom),e=Be(e);const{contents:r,gaps:i}=this.createFlyoutInfo(e);t.push(...r),n.push(...i)}switch(o.kind.toUpperCase()){case"BLOCK":e=o;const i=this.createFlyoutBlock(e);t.push({type:Of.BLOCK,block:i}),this.addBlockGap(e,n,r);break;case"SEP":this.addSeparatorGap(o,n,r);break;case"LABEL":e=this.createButton(o,!0),t.push({type:Of.BUTTON,button:e}),n.push(r);break;case"BUTTON":e=this.createButton(o,!1),t.push({type:Of.BUTTON,button:e}),n.push(r)}}return{contents:t,gaps:n}}getDynamicCategoryContents(e){if("function"!=typeof(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e)))throw TypeError("Couldn't find a callback function when opening a toolbox category.");return e(this.workspace_.targetWorkspace)}createButton(e,t){return new Cf(this.workspace_,this.targetWorkspace,e,t)}createFlyoutBlock(e){let t;return e.blockxml?(e="string"==typeof e.blockxml?Ms.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,(t=this.getRecycledBlock(e.getAttribute("type")))||(t=Ht(e,this.workspace_))):(t=this.getRecycledBlock(e.type),t||(void 0===e.enabled&&(e.enabled="true"!==e.disabled&&!0!==e.disabled),t=mn(e,this.workspace_))),t.isEnabled()||this.permanentlyDisabled.push(t),t}getRecycledBlock(e){let t=-1;for(let n=0;n<this.recycledBlocks.length;n++)if(this.recycledBlocks[n].type===e){t=n;break}return-1===t?void 0:this.recycledBlocks.splice(t,1)[0]}addBlockGap(e,t,n){let r;e.gap?r=parseInt(String(e.gap)):e.blockxml&&(e="string"==typeof e.blockxml?Ms.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,r=parseInt(e.getAttribute("gap"))),t.push(!r||isNaN(r)?n:r)}addSeparatorGap(e,t,n){e=parseInt(String(e.gap)),!isNaN(e)&&0<t.length?t[t.length-1]=e:t.push(n)}clearOldBlocks(){var e=this.workspace_.getTopBlocks(!1);for(let t,n=0;t=e[n];n++)this.blockIsRecyclable_(t)?this.recycleBlock(t):t.dispose(!1,!1);for(e=0;e<this.mats.length;e++){const t=this.mats[e];t&&(ro(t),le(t))}this.mats.length=0;for(let e,t=0;e=this.buttons_[t];t++)e.dispose();let t;this.buttons_.length=0,null==(t=this.workspace_.getPotentialVariableMap())||t.clear()}emptyRecycledBlocks(){for(let e=0;e<this.recycledBlocks.length;e++)this.recycledBlocks[e].dispose();this.recycledBlocks=[]}blockIsRecyclable_(e){return!1}recycleBlock(e){const t=e.getRelativeToSurfaceXY();e.moveBy(-t.x,-t.y),this.recycledBlocks.push(e)}addBlockListeners_(e,t,n){this.listeners.push(z(e,"pointerdown",null,this.blockMouseDown(t))),this.listeners.push(z(n,"pointerdown",null,this.blockMouseDown(t))),this.listeners.push(q(e,"pointerenter",t,(()=>{this.targetWorkspace.isDragging()||t.addSelect()}))),this.listeners.push(q(e,"pointerleave",t,(()=>{this.targetWorkspace.isDragging()||t.removeSelect()}))),this.listeners.push(q(n,"pointerenter",t,(()=>{this.targetWorkspace.isDragging()||t.addSelect()}))),this.listeners.push(q(n,"pointerleave",t,(()=>{this.targetWorkspace.isDragging()||t.removeSelect()})))}blockMouseDown(e){return t=>{const n=this.targetWorkspace.getGesture(t);n&&(n.setStartBlock(e),n.handleFlyoutStart(t,this))}}onMouseDown(e){const t=this.targetWorkspace.getGesture(e);t&&t.handleFlyoutStart(e,this)}isBlockCreatable(e){return e.isEnabled()}createBlock(e){let t=null;Ms.disable$$module$build$src$core$events$utils();var n=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{t=this.placeNewBlock(e)}finally{Ms.enable$$module$build$src$core$events$utils()}if(this.targetWorkspace.hideChaff(),e=bt(this.targetWorkspace,n),D()){for(Ms.setGroup$$module$build$src$core$events$utils(!0),n=0;n<e.length;n++){const t=e[n];x(new(B(ea))(t))}x(new(B(Ms.CREATE$$module$build$src$core$events$utils))(t))}return this.autoClose?this.hide():this.filterForCapacity(),t}initFlyoutButton_(e,t,n){const r=e.createDom();e.moveTo(t,n),e.show(),this.listeners.push(z(r,"pointerdown",this,this.onMouseDown)),this.buttons_.push(e)}createRect_(e,t,n,r,o){return(t=re(wl.RECT,{"fill-opacity":0,x:t,y:n,height:r.height,width:r.width})).tooltip=e,no(t),this.workspace_.getCanvas().insertBefore(t,e.getSvgRoot()),this.rectMap_.set(e,t),this.mats[o]=t}moveRectToBlock_(e,t){const n=t.getHeightWidth();e.setAttribute("width",String(n.width)),e.setAttribute("height",String(n.height)),t=t.getRelativeToSurfaceXY(),e.setAttribute("y",String(t.y)),e.setAttribute("x",String(this.RTL?t.x-n.width:t.x))}filterForCapacity(){const e=this.workspace_.getTopBlocks(!1);for(let t,n=0;t=e[n];n++)if(-1===this.permanentlyDisabled.indexOf(t)){const e=this.targetWorkspace.isCapacityAvailable(E(t));for(;t;)t.setEnabled(e),t=t.getNextBlock()}}reflow(){this.reflowWrapper&&this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowInternal_(),this.reflowWrapper&&this.workspace_.addChangeListener(this.reflowWrapper)}isScrollable(){return!!this.workspace_.scrollbar&&this.workspace_.scrollbar.isVisible()}placeNewBlock(e){var t=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered");const n=sn(e);return t.setResizesEnabled(!1),t=gn(n,t),this.positionNewBlock(e,t),t}positionNewBlock(e,t){const n=this.targetWorkspace;var r=n.getOriginOffsetInPixels(),o=this.workspace_.getOriginOffsetInPixels();(e=e.getRelativeToSurfaceXY()).scale(this.workspace_.scale),o=hl.sum(o,e),(r=hl.difference(o,r)).scale(1/n.scale),t.moveTo(new hl(r.x,r.y))}};xf.FlyoutItemType=Of;var Rf=class extends xf{constructor(e){super(e),this.horizontalLayout=!0}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),n=t.getScrollMetrics(),r=t.getViewMetrics();t=t.getAbsoluteMetrics(),"number"==typeof e.x&&(this.workspace_.scrollX=-(n.left+(n.width-r.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){return 0}getY(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),n=e.getViewMetrics();e=e.getToolboxMetrics();const r=this.toolboxPosition_===Fl.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?r?e.height:n.height-this.height_:r?0:n.height:r?0:n.height+t.top-this.height_}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,this.setBackgroundPath(e.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}}setBackgroundPath(e,t){const n=this.toolboxPosition_===Fl.TOP,r=["M 0,"+(n?0:this.CORNER_RADIUS)];n?(r.push("h",e+2*this.CORNER_RADIUS),r.push("v",t),r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),r.push("h",-e),r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),r.push("h",e),r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),r.push("v",t),r.push("h",-e-2*this.CORNER_RADIUS)),r.push("z"),this.svgBackground_.setAttribute("d",r.join(" "))}scrollToStart(){let e;null==(e=this.workspace_.scrollbar)||e.setX(this.RTL?1/0:0)}wheel_(e){var t=Z(e);if(t=t.x||t.y){const e=this.workspace_.getMetricsManager(),n=e.getScrollMetrics();let r;t=e.getViewMetrics().left-n.left+t,null==(r=this.workspace_.scrollbar)||r.setX(t),Vn(),Ar()}e.preventDefault(),e.stopPropagation()}layout_(e,t){this.workspace_.scale=this.targetWorkspace.scale;const n=this.MARGIN;let r=n+this.tabWidth_;this.RTL&&(e=e.reverse());for(let a,l=0;a=e[l];l++)if("block"===a.type){var o=a.block,i=o.getDescendants(!1);for(let e,t=0;e=i[t];t++)e.isInFlyout=!0;i=o.getSvgRoot();const e=o.getHeightWidth();var s=o.outputConnection?this.tabWidth_:0;s=this.RTL?r+e.width:r-s,o.moveBy(s,n),s=this.createRect_(o,s,n,e,l),r+=e.width+t[l],this.addBlockListeners_(i,o,s)}else"button"===a.type&&(o=a.button,this.initFlyoutButton_(o,r,n),r+=o.width+t[l])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<90+t&&e>90-t||e>-90-t&&e<-90+t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.top;return this.toolboxPosition_===Fl.TOP?new Tl(-1e9,t+e.height,-1e9,1e9):new Tl(t,1e9,-1e9,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0;const t=this.workspace_.getTopBlocks(!1);for(let n,r=0;n=t[r];r++)e=Math.max(e,n.getHeightWidth().height);const n=this.buttons_;for(let t,r=0;t=n[r];r++)e=Math.max(e,t.height);if(e+=1.5*this.MARGIN,e*=this.workspace_.scale,e+=Rl.scrollbarThickness,this.height_!==e){for(let e,n=0;e=t[n];n++)this.rectMap_.has(e)&&this.moveRectToBlock_(this.rectMap_.get(e),e);this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Fl.TOP||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+e),this.height_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};e(js.FLYOUTS_HORIZONTAL_TOOLBOX,Fs,Rf);var Nf=class extends xf{constructor(e){super(e)}setMetrics_(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),n=t.getScrollMetrics(),r=t.getViewMetrics();t=t.getAbsoluteMetrics(),"number"==typeof e.y&&(this.workspace_.scrollY=-(n.top+(n.height-r.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}getX(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager();const t=e.getAbsoluteMetrics(),n=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===Fl.LEFT?e.width:n.width-this.width_:this.toolboxPosition_===Fl.LEFT?0:n.width:this.toolboxPosition_===Fl.LEFT?0:n.width+t.left-this.width_}getY(){return 0}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height,this.setBackgroundPath(this.width_-this.CORNER_RADIUS,e.height-2*this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}}setBackgroundPath(e,t){const n=this.toolboxPosition_===Fl.RIGHT;var r=e+this.CORNER_RADIUS;(r=["M "+(n?r:0)+",0"]).push("h",n?-e:e),r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,n?0:1,n?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),r.push("v",Math.max(0,t)),r.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,n?0:1,n?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),r.push("h",n?e:-e),r.push("z"),this.svgBackground_.setAttribute("d",r.join(" "))}scrollToStart(){let e;null==(e=this.workspace_.scrollbar)||e.setY(0)}wheel_(e){var t=Z(e);if(t.y){const e=this.workspace_.getMetricsManager(),n=e.getScrollMetrics();let r;t=e.getViewMetrics().top-n.top+t.y,null==(r=this.workspace_.scrollbar)||r.setY(t),Vn(),Ar()}e.preventDefault(),e.stopPropagation()}layout_(e,t){this.workspace_.scale=this.targetWorkspace.scale;var n=this.MARGIN;const r=this.RTL?n:n+this.tabWidth_;for(let a,l=0;a=e[l];l++)if("block"===a.type){var o=a.block,i=o.getDescendants(!1);for(let e,t=0;e=i[t];t++)e.isInFlyout=!0;i=o.getSvgRoot();const e=o.getHeightWidth();var s=o.outputConnection?r-this.tabWidth_:r;o.moveBy(s,n),s=this.createRect_(o,this.RTL?s-e.width:s,n,e,l),this.addBlockListeners_(i,o,s),n+=e.height+t[l]}else"button"===a.type&&(o=a.button,this.initFlyoutButton_(o,r,n),n+=o.height+t[l])}isDragTowardWorkspace(e){e=Math.atan2(e.y,e.x)/Math.PI*180;const t=this.dragAngleRange_;return e<t&&e>-t||e<-180+t||e>180-t}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const e=this.svgGroup_.getBoundingClientRect(),t=e.left;return this.toolboxPosition_===Fl.LEFT?new Tl(-1e9,1e9,-1e9,t+e.width):new Tl(-1e9,1e9,t,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let e=0;var t=this.workspace_.getTopBlocks(!1);for(let r,o=0;r=t[o];o++){var n=r.getHeightWidth().width;r.outputConnection&&(n-=this.tabWidth_),e=Math.max(e,n)}for(let t,n=0;t=this.buttons_[n];n++)e=Math.max(e,t.width);if(e+=1.5*this.MARGIN+this.tabWidth_,e*=this.workspace_.scale,e+=Rl.scrollbarThickness,this.width_!==e){for(let r,o=0;r=t[o];o++){if(this.RTL){n=r.getRelativeToSurfaceXY().x;let t=e/this.workspace_.scale-this.MARGIN;r.outputConnection||(t-=this.tabWidth_),r.moveBy(t-n,0)}this.rectMap_.has(r)&&this.moveRectToBlock_(this.rectMap_.get(r),r)}if(this.RTL)for(let n,r=0;n=this.buttons_[r];r++)t=n.getPosition().y,n.moveTo(e/this.workspace_.scale-n.width-this.MARGIN-this.tabWidth_,t);this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Fl.LEFT||this.targetWorkspace.translate(this.targetWorkspace.scrollX+e,this.targetWorkspace.scrollY),this.width_=e,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}};Nf.registryName="verticalFlyout",e(js.FLYOUTS_VERTICAL_TOOLBOX,Fs,Nf),Ms.CodeGenerator$$module$build$src$core$generator=class{constructor(e){this.forBlock=Object.create(null),this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null,this.INDENT="  ",this.COMMENT_WRAP=60,this.ORDER_OVERRIDES=[],this.isInitialized=null,this.RESERVED_WORDS_="",this.definitions_=Object.create(null),this.functionNames_=Object.create(null),this.nameDB_=void 0,this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")}workspaceToCode(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=f());var t=[];this.init(e),e=e.getTopBlocks(!0);for(let n,r=0;n=e[r];r++){let e=this.blockToCode(n);Array.isArray(e)&&(e=e[0]),e&&(n.outputConnection&&(e=this.scrubNakedValue(e),this.STATEMENT_PREFIX&&!n.suppressPrefixSuffix&&(e=this.injectId(this.STATEMENT_PREFIX,n)+e),this.STATEMENT_SUFFIX&&!n.suppressPrefixSuffix&&(e+=this.injectId(this.STATEMENT_SUFFIX,n))),t.push(e))}return t=t.join("\n"),(t=(t=(t=this.finish(t)).replace(/^\s+\n/,"")).replace(/\n\s+$/,"\n")).replace(/[ \t]+\n/g,"\n")}prefixLines(e,t){return t+e.replace(/(?!\n$)\n/g,"\n"+t)}allNestedComments(e){const t=[];e=e.getDescendants(!0);for(let n=0;n<e.length;n++){const r=e[n].getCommentText();r&&t.push(r)}return t.length&&t.push(""),t.join("\n")}blockToCode(e,t){if(!1===this.isInitialized&&console.warn("CodeGenerator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return t?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return t?"":this.blockToCode(e.getChildren(!1)[0]);var n=this.forBlock[e.type];if(!n&&this[e.type]&&(ne("block generator functions on CodeGenerator objects","10.0","11.0","the .forBlock[blockType] dictionary"),n=this[e.type]),"function"!=typeof n)throw Error(`${this.name_} generator does not know how to generate code for block type "${e.type}".`);if(n=n.call(e,e,this),Array.isArray(n)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,n[0],t),n[1]]}if("string"==typeof n)return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(n=this.injectId(this.STATEMENT_PREFIX,e)+n),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(n+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,n,t);if(null===n)return"";throw SyntaxError("Invalid code generated: "+n)}valueToCode(e,t,n){if(isNaN(n))throw TypeError("Expecting valid order from block: "+e.type);var r=e.getInputTargetBlock(t);if(!r)return"";if(""===(t=this.blockToCode(r)))return"";if(!Array.isArray(t))throw TypeError(`Expecting tuple from value block: ${r.type} See developers.google.com/blockly/guides/create-custom-blocks/generating-code for more information`);if(e=t[0],t=t[1],isNaN(t))throw TypeError("Expecting valid order from value block: "+r.type);if(!e)return"";r=!1;var o=Math.floor(n);const i=Math.floor(t);if(o<=i&&(o!==i||0!==o&&99!==o))for(r=!0,o=0;o<this.ORDER_OVERRIDES.length;o++)if(this.ORDER_OVERRIDES[o][0]===n&&this.ORDER_OVERRIDES[o][1]===t){r=!1;break}return r&&(e="("+e+")"),e}statementToCode(e,t){if(e=e.getInputTargetBlock(t),"string"!=typeof(t=this.blockToCode(e)))throw TypeError("Expecting code from statement block: "+(e&&e.type));return t&&(t=this.prefixLines(t,this.INDENT)),t}addLoopTrap(e,t){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,t),this.INDENT)+e),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,t),this.INDENT)+e),this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,t),this.INDENT)),e}injectId(e,t){return t=t.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+t+"'")}addReservedWords(e){this.RESERVED_WORDS_+=e+","}provideFunction_(e,t){if(!this.definitions_[e]){const n=this.nameDB_.getDistinctName(e,Ms.NameType$$module$build$src$core$names.PROCEDURE);let r;for(this.functionNames_[e]=n,Array.isArray(t)&&(t=t.join("\n")),t=t.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,n);r!==t;)r=t,t=t.replace(/^(( {2})*) {2}/gm,"$1\0");t=t.replace(/\0/g,this.INDENT),this.definitions_[e]=t}return this.functionNames_[e]}getVariableName(e){return this.getName(e,Ms.NameType$$module$build$src$core$names.VARIABLE)}getProcedureName(e){return this.getName(e,Ms.NameType$$module$build$src$core$names.PROCEDURE)}getName(e,t){if(!this.nameDB_)throw Error("Name database is not defined. You must initialize `nameDB_` in your generator class and call `init` first.");return this.nameDB_.getName(e,t)}init(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)}scrub_(e,t,n){return t}finish(e){return this.definitions_=Object.create(null),this.functionNames_=Object.create(null),e}scrubNakedValue(e){return e}},Ms.CodeGenerator$$module$build$src$core$generator;var Af=!1,$f={};$f.Align=Ms.Align$$module$build$src$core$inputs$align,$f.DummyInput=wp,$f.EndRowInput=Tp,$f.Input=Ep,$f.StatementInput=kp,$f.ValueInput=Ms.ValueInput$$module$build$src$core$inputs$value_input,$f.inputTypes=Ms.inputTypes$$module$build$src$core$inputs$input_types;var Df="The insertion marker previewer tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.",Mf=class{constructor(e){this.staticConn=this.draggedConn=this.markerConn=this.fadedBlock=null,this.workspace=e.workspace}previewReplacement(e,t,n){Ms.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.fadedBlock=n,n.fadeForReplacement(!0),this.workspace.getRenderer().shouldHighlightConnection(t)&&(t.highlight(),this.staticConn=t)}finally{Ms.enable$$module$build$src$core$events$utils()}}previewConnection(e,t){if(e!==this.draggedConn||t!==this.staticConn){Ms.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.shouldUseMarkerPreview(e,t)&&(this.markerConn=this.previewMarker(e,t)),this.workspace.getRenderer().shouldHighlightConnection(t)&&t.highlight(),this.draggedConn=e,this.staticConn=t}finally{Ms.enable$$module$build$src$core$events$utils()}}}shouldUseMarkerPreview(e,t){return t.type===Uc.PREVIOUS_STATEMENT||t.type===Uc.NEXT_STATEMENT||!(this.workspace.getRenderer()instanceof ff)}previewMarker(e,t){const n=e.getSourceBlock(),r=this.createInsertionMarker(n),o=this.getMatchingConnection(n,r,e);if(!o)throw Error("Could not create insertion marker to preview connection");r.queueRender(),kt(),o.connect(t);const i={x:t.x-o.x,y:t.y-o.y},s=o.getOffsetInBlock().clone();return Tt().then((()=>{null==r||r.positionNearConnection(o,i,s),null==r||r.getSvgRoot().setAttribute("visibility","visible")})),o}createInsertionMarker(e){const t=this.workspace.newBlock(e.type);if(t.setInsertionMarker(!0),e.saveExtraState){var n=e.saveExtraState(!0);n&&t.loadExtraState&&t.loadExtraState(n)}else e.mutationToDom&&(n=e.mutationToDom())&&t.domToMutation&&t.domToMutation(n);for(n=0;n<e.inputList.length;n++){const r=e.inputList[n];if(r.name===Np)continue;const o=t.inputList[n];if(!o)throw Error(Df.replace("%1","an input"));for(let e=0;e<r.fieldRow.length;e++){const t=r.fieldRow[e],n=o.fieldRow[e];if(!n)throw Error(Df.replace("%1","a field"));n.setValue(t.getValue())}}for(const e of t.getDescendants(!1))e.setInsertionMarker(!0);return t.setCollapsed(e.isCollapsed()),t.setInputsInline(e.getInputsInline()),t.initSvg(),t.getSvgRoot().setAttribute("visibility","hidden"),t}getMatchingConnection(e,t,n){if(e=e.getConnections_(!0),t=t.getConnections_(!0),e.length!==t.length)return null;for(let r=0;r<e.length;r++)if(e[r]===n)return t[r];return null}hidePreview(){Ms.disable$$module$build$src$core$events$utils();try{this.staticConn&&(this.staticConn.unhighlight(),this.staticConn=null),this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null),this.markerConn&&(this.hideInsertionMarker(this.markerConn),this.draggedConn=this.markerConn=null)}finally{Ms.enable$$module$build$src$core$events$utils()}}hideInsertionMarker(e){const t=e.getSourceBlock(),n=t.outputConnection;let r;if(null!=(r=t.previousConnection)&&r.targetConnection||null!=n&&n.targetConnection)t.unplug(!0);else{let t;null==(t=e.targetBlock())||t.unplug(!1)}t.dispose()}dispose(){this.hidePreview()}};e(js.CONNECTION_PREVIEWER,Fs,Mf);var Pf=class extends yp{constructor(){super(),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}getCSS_(e){return super.getCSS_(e).concat([`${e} .blocklyInsertionMarker>.blocklyPathLight,`,`${e} .blocklyInsertionMarker>.blocklyPathDark {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"])}},Lf=class{constructor(e){this.inlineSteps_=this.steps_="",this.info_=e,this.RTL_=this.info_.RTL,e=e.getRenderer(),this.constants_=e.getConstants(),this.highlightConstants_=e.getHighlightConstants(),this.highlightOffset=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}getPath(){return this.steps_+"\n"+this.inlineSteps_}drawTopCorner(e){this.steps_+=oi(e.xPos,this.info_.startY);for(let t,n=0;t=e.elements[n];n++)Xh.isLeftSquareCorner(t)?this.steps_+=this.highlightConstants_.START_POINT:Xh.isLeftRoundedCorner(t)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):Xh.isPreviousConnection(t)?this.steps_+=this.notchPaths_.pathLeft:Xh.isHat(t)?this.steps_+=this.startPaths_.path(this.RTL_):Xh.isSpacer(t)&&0!==t.width&&(this.steps_+=ai("H",t.xPos+t.width-this.highlightOffset));this.steps_+=ai("H",e.xPos+e.width-this.highlightOffset)}drawJaggedEdge_(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+ai("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset))}drawValueInput(e){const t=e.getLastInput();if(this.RTL_){const n=e.height-t.connectionHeight;this.steps_+=ri(t.xPos+t.width-this.highlightOffset,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+ai("v",n)}else this.steps_+=ri(t.xPos+t.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}drawStatementInput(e){const t=e.getLastInput();if(t)if(this.RTL_){const n=e.height-2*this.insideCornerPaths_.height;this.steps_+=ri(t.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+ai("v",n)+this.insideCornerPaths_.pathBottom(this.RTL_)+ii(e.width-t.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=ri(t.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+ii(e.width-t.xPos-this.insideCornerPaths_.width,0)}drawRightSideRow(e){const t=e.xPos+e.width-this.highlightOffset;e instanceof fp&&e.followsStatement&&(this.steps_+=ai("H",t)),this.RTL_&&(this.steps_+=ai("H",t),e.height>this.highlightOffset&&(this.steps_+=ai("V",e.yPos+e.height-this.highlightOffset)))}drawBottomRow(e){if(this.RTL_)this.steps_+=ai("V",e.baseline-this.highlightOffset);else{const t=this.info_.bottomRow.elements[0];Xh.isLeftSquareCorner(t)?this.steps_+=ri(e.xPos+this.highlightOffset,e.baseline-this.highlightOffset):Xh.isLeftRoundedCorner(t)&&(this.steps_+=ri(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}drawLeft(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=ri(this.info_.startX,e):(this.steps_+=ri(this.info_.startX+this.highlightOffset,this.info_.bottomRow.baseline-this.highlightOffset),this.steps_+=ai("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,Xh.isLeftRoundedCorner(e.elements[0])?this.steps_+=ai("V",this.outsideCornerPaths_.height):this.steps_+=ai("V",e.capline+this.highlightOffset))}drawInlineInput(e){const t=this.highlightOffset,n=e.xPos+e.connectionWidth;var r=e.centerline-e.height/2;const o=e.width-e.connectionWidth,i=r+t;this.RTL_?(r=e.connectionOffsetY-t,e=e.height-(e.connectionOffsetY+e.connectionHeight)+t,this.inlineSteps_+=ri(n-t,i)+ai("v",r)+this.puzzleTabPaths_.pathDown(this.RTL_)+ai("v",e)+ai("h",o)):this.inlineSteps_+=ri(e.xPos+e.width+t,i)+ai("v",e.height)+ai("h",-o)+ri(n,r+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}},Bf=class extends bp{constructor(e,t){super(e,t),this.highlighter_=new Lf(t)}draw(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights();const e=this.block_.pathObject;e.setPath(this.outlinePath_+"\n"+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_()}drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),super.drawTop_()}drawJaggedEdge_(e){this.highlighter_.drawJaggedEdge_(e),super.drawJaggedEdge_(e)}drawValueInput_(e){this.highlighter_.drawValueInput(e),super.drawValueInput_(e)}drawStatementInput_(e){this.highlighter_.drawStatementInput(e),super.drawStatementInput_(e)}drawRightSideRow_(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=ai("H",e.xPos+e.width)+ai("V",e.yPos+e.height)}drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow),super.drawBottom_()}drawLeft_(){this.highlighter_.drawLeft(),super.drawLeft_()}drawInlineInput_(e){this.highlighter_.drawInlineInput(e),super.drawInlineInput_(e)}positionInlineInputConnection_(e){const t=e.centerline-e.height/2;if(e.connectionModel){let n=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(n*=-1),e.connectionModel.setOffsetInBlock(n,t+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}positionStatementInputConnection_(e){const t=e.getLastInput();if(null!=t&&t.connectionModel){let n=e.xPos+e.statementEdge+t.notchOffset;n=this.info_.RTL?-1*n:n+this.constants_.DARK_PATH_OFFSET,t.connectionModel.setOffsetInBlock(n,e.yPos+this.constants_.DARK_PATH_OFFSET)}}positionExternalValueConnection_(e){const t=e.getLastInput();if(t&&t.connectionModel){let n=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}}positionNextConnection_(){const e=this.info_.bottomRow;if(e.connection){const t=e.connection,n=t.xPos;t.connectionModel.setOffsetInBlock((this.info_.RTL?-n:n)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}}},Ff=class{constructor(e){this.OFFSET=.5,this.constantProvider=e,this.START_POINT=oi(this.OFFSET,this.OFFSET)}init(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()}makeInsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,n=(1-Math.SQRT1_2)*(e+t)-t,r=oi(n,n)+li("a","0 0,0",e,ti(-n-t,e-n)),o=li("a","0 0,0",e+t,ti(e+t,e+t)),i=oi(n,-n)+li("a","0 0,0",e+t,ti(e-n,n+t));return{width:e+t,height:e,pathTop:e=>e?r:"",pathBottom:e=>e?o:i}}makeOutsideCorner(){const e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,n=(1-Math.SQRT1_2)*(e-t)+t,r=oi(n,n)+li("a","0 0,1",e-t,ti(e-n,-n+t)),o=oi(t,e)+li("a","0 0,1",e-t,ti(e,-e+t)),i=-n,s=oi(n,i)+li("a","0 0,1",e-t,ti(-n+t,-i-e));return{height:e,topLeft:e=>e?r:o,bottomLeft:()=>s}}makePuzzleTab(){const e=this.constantProvider.TAB_WIDTH,t=this.constantProvider.TAB_HEIGHT,n=oi(-2,3.4-t)+ii(-.45*e,-2.1),r=ai("v",2.5)+oi(.97*-e,2.5)+ni("q",[ti(.05*-e,10),ti(.3*e,9.5)])+oi(.67*e,-1.9)+ai("v",2.5),o=ai("v",-1.5)+oi(-.92*e,-.5)+ni("q",[ti(-.19*e,-5.5),ti(0,-11)])+oi(.92*e,1),i=oi(-5,t-.7)+ii(.46*e,-2.1);return{width:e,height:t,pathUp:e=>e?n:o,pathDown:e=>e?r:i}}makeNotch(){return{pathLeft:ai("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}makeJaggedTeeth(){return{pathLeft:ii(5.1,2.6)+oi(-10.2,6.8)+ii(5.1,2.6),height:12,width:10.2}}makeStartHat(){const e=this.constantProvider.START_HAT.height,t=oi(25,-8.7)+ni("c",[ti(29.7,-6.2),ti(57.2,-.5),ti(75,8.7)]),n=ni("c",[ti(17.8,-9.2),ti(45.3,-14.9),ti(75,-8.7)])+ri(100.5,e+.5);return{path:e=>e?t:n}}},jf=class extends sp{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}},Uf=class extends ap{constructor(e,t){super(e,t),this.constants_=e,this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}},Hf=class extends Sp{constructor(e,t){super(e,t),this.renderer_=e}getRenderer(){return this.renderer_}populateBottomRow_(){super.populateBottomRow_(),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof kp||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}addInput_(e,t){this.isInline&&e instanceof Ms.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new jf(this.constants_,e)),t.hasInlineInput=!0):e instanceof kp?(t.elements.push(new Uf(this.constants_,e)),t.hasStatement=!0):e instanceof Ms.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new tp(this.constants_,e)),t.hasExternalInput=!0):(e instanceof wp||e instanceof Tp)&&(t.minHeight=Math.max(t.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),this.isInline||null!==t.align||(t.align=e.align)}addElemSpacing_(){let e=!1;for(let t,n=0;t=this.rows[n];n++)t.hasExternalInput&&(e=!0);for(let n,r=0;n=this.rows[r];r++){var t=n.elements;if(n.elements=[],n.startsWithElemSpacer()&&n.elements.push(new ip(this.constants_,this.getInRowSpacing_(null,t[0]))),t.length){for(let e=0;e<t.length-1;e++){n.elements.push(t[e]);const r=this.getInRowSpacing_(t[e],t[e+1]);n.elements.push(new ip(this.constants_,r))}n.elements.push(t[t.length-1]),n.endsWithElemSpacer()&&(t=this.getInRowSpacing_(t[t.length-1],null),e&&n.hasDummyInput&&(t+=this.constants_.TAB_WIDTH),n.elements.push(new ip(this.constants_,t)))}}}getInRowSpacing_(e,t){if(!e)return t&&Xh.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&Xh.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&Xh.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Xh.isInput(e)&&(!t||Xh.isStatementInput(t)))return Xh.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:Xh.isIcon(e)?2*this.constants_.LARGE_PADDING+1:Xh.isHat(e)?this.constants_.NO_PADDING:Xh.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:Xh.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:Xh.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Xh.isInput(e)&&!t){if(Xh.isExternalInput(e))return this.constants_.NO_PADDING;if(Xh.isInlineInput(e))return this.constants_.LARGE_PADDING;if(Xh.isStatementInput(e))return this.constants_.NO_PADDING}if(!Xh.isInput(e)&&t&&Xh.isInput(t)){if(Xh.isField(e)&&e.isEditable){if(Xh.isInlineInput(t)||Xh.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(Xh.isInlineInput(t)||Xh.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(Xh.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(Xh.isIcon(e)&&t&&!Xh.isInput(t))return this.constants_.LARGE_PADDING;if(Xh.isInlineInput(e)&&t&&Xh.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(Xh.isLeftSquareCorner(e)&&t){if(Xh.isHat(t))return this.constants_.NO_PADDING;if(Xh.isPreviousConnection(t))return t.notchOffset;if(Xh.isNextConnection(t))return t.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(Xh.isLeftRoundedCorner(e)&&t){if(Xh.isPreviousConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS;if(Xh.isNextConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return Xh.isField(e)&&t&&Xh.isField(t)&&e.isEditable===t.isEditable||t&&Xh.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return Xh.isTopRow(e)&&Xh.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:Xh.isTopRow(e)||Xh.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||!e.hasStatement&&t.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(Xh.isSpacer(t))return e.yPos+t.height/2;if(Xh.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,Xh.isNextConnection(t)?e+t.height/2:e-t.height/2;if(Xh.isTopRow(e))return Xh.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let n=e.yPos;return Xh.isField(t)||Xh.isIcon(t)?(n+=t.height/2,(e.hasInlineInput||e.hasStatement)&&t.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(n+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):n=Xh.isInlineInput(t)?n+t.height/2:n+e.height/2,n}alignRowElements_(){if(this.isInline){var e=0,t=new WeakMap,n=null;for(let r,o=this.rows.length-1;r=this.rows[o];o--)t.set(r,e),Xh.isInputRow(r)&&(r.hasStatement&&this.alignStatementRow_(r),n&&n.hasStatement&&r.width<n.width?t.set(r,n.width):e=r.hasStatement?r.width:Math.max(e,r.width),n=r);e=0;for(let r,o=0;r=this.rows[o];o++)r.hasStatement?e=this.getDesiredRowWidth_(r):Xh.isSpacer(r)?r.width=Math.max(e,t.get(r)):(n=r.width,0<(e=Math.max(e,t.get(r))-n)&&this.addAlignmentPadding_(r,e),e=r.width)}else super.alignRowElements_()}getDesiredRowWidth_(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:super.getDesiredRowWidth_(e)}finalize_(){let e=0,t=0;for(let r,o=0;r=this.rows[o];o++){r.yPos=t,r.xPos=this.startX,t+=r.height,e=Math.max(e,r.widthWithConnectedBlocks);var n=t-this.topRow.ascenderHeight;r===this.bottomRow&&n<this.constants_.MIN_BLOCK_HEIGHT&&(n=this.constants_.MIN_BLOCK_HEIGHT-n,this.bottomRow.height+=n,t+=n),this.recordElemPositions_(r)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(n=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,n.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=t+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline}},Vf=class extends xp{constructor(e,t,n){super(e,t,n),this.constants=n,this.colourDark="#000000",this.svgPathDark=re(wl.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"}),this.svgRoot.insertBefore(this.svgPathDark,this.svgPath),this.svgPathLight=re(wl.PATH,{class:"blocklyPathLight"},this.svgRoot)}setPath(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)}setHighlightPath(e){this.svgPathLight.setAttribute("d",e)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")}applyColour(e){if(this.svgPathLight.style.display="",this.svgPathDark.style.display="",!this.style.colourTertiary)throw Error("The renderer did not properly initialize the tertiary colour of the block style");this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),super.applyColour(e),this.svgPath.setAttribute("stroke","none")}setStyle(e){this.style=e,this.colourDark=Co("#000",this.style.colourPrimary,.2)||this.colourDark}updateHighlighted(e){e?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")}updateShadow_(e){if(e){if(this.svgPathLight.style.display="none",!this.style.colourSecondary)throw Error("The renderer did not properly initialize the secondary colour of the block style block style");this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)}}updateDisabled_(e){super.updateDisabled_(e),e&&this.svgPath.setAttribute("stroke","none")}},Wf=class extends Bp{constructor(e){super(e),this.highlightConstants=null}init(e,t){super.init(e,t),this.highlightConstants=this.makeHighlightConstants_(),this.highlightConstants.init()}refreshDom(e,t){super.refreshDom(e,t),this.getHighlightConstants().init()}makeConstants_(){return new Pf}makeRenderInfo_(e){return new Hf(this,e)}makeDrawer_(e,t){return new Bf(e,t)}makePathObject(e,t){return new Vf(e,t,this.getConstants())}makeHighlightConstants_(){return new Ff(this.getConstants())}getHighlightConstants(){if(!this.highlightConstants)throw Error("Cannot access the highlight constants because init has not been called");return this.highlightConstants}};Ii("geras",Wf);var Gf={};Gf.ConstantProvider=Pf,Gf.Drawer=Bf,Gf.HighlightConstantProvider=Ff,Gf.Highlighter=Lf,Gf.InlineInput=jf,Gf.PathObject=Vf,Gf.RenderInfo=Hf,Gf.Renderer=Wf,Gf.StatementInput=Uf;var zf=class extends yp{constructor(){super(),ne("Blockly.minimalist.ConstantProvider","v10","v11","Blockly.blockRendering.ConstantProvider")}},qf=class extends bp{constructor(e,t){super(e,t),ne("Blockly.minimalist.Drawer","v10","v11","Blockly.blockRendering.Drawer")}},Yf=class extends Sp{constructor(e,t){super(e,t),ne("Blockly.minimalist.RenderInfo","v10","v11","Blockly.blockRendering.RenderInfo")}getRenderer(){return this.renderer_}},Xf=class extends Bp{constructor(e){super(e),ne("Blockly.minimalist.Renderer","v10","v11","Blockly.blockRendering.Renderer")}makeConstants_(){return new zf}makeRenderInfo_(e){return new Yf(this,e)}makeDrawer_(e,t){return new qf(e,t)}};Ii("minimalist",Xf);var Kf={};Kf.ConstantProvider=zf,Kf.Drawer=qf,Kf.RenderInfo=Yf,Kf.Renderer=Xf;var Jf=class extends Sp{constructor(e,t){super(e,t)}getRenderer(){return this.renderer_}addElemSpacing_(){let e=!1;for(var t=0;t<this.rows.length;t++)if(this.rows[t].hasExternalInput){e=!0;break}for(t=0;t<this.rows.length;t++){const r=this.rows[t];var n=r.elements;if(r.elements=[],r.startsWithElemSpacer()&&r.elements.push(new ip(this.constants_,this.getInRowSpacing_(null,n[0]))),n.length){for(let e=0;e<n.length-1;e++){r.elements.push(n[e]);const t=this.getInRowSpacing_(n[e],n[e+1]);r.elements.push(new ip(this.constants_,t))}r.elements.push(n[n.length-1]),r.endsWithElemSpacer()&&(n=this.getInRowSpacing_(n[n.length-1],null),e&&r.hasDummyInput&&(n+=this.constants_.TAB_WIDTH),r.elements.push(new ip(this.constants_,n)))}}}getInRowSpacing_(e,t){if(!e)return t&&Xh.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&Xh.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&Xh.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Xh.isInput(e)&&!t)return Xh.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:Xh.isIcon(e)?2*this.constants_.LARGE_PADDING+1:Xh.isHat(e)?this.constants_.NO_PADDING:Xh.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:Xh.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:Xh.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Xh.isInput(e)&&!t){if(Xh.isExternalInput(e))return this.constants_.NO_PADDING;if(Xh.isInlineInput(e))return this.constants_.LARGE_PADDING;if(Xh.isStatementInput(e))return this.constants_.NO_PADDING}if(!Xh.isInput(e)&&t&&Xh.isInput(t)){if(Xh.isField(e)&&e.isEditable){if(Xh.isInlineInput(t)||Xh.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(Xh.isInlineInput(t)||Xh.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(Xh.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(Xh.isIcon(e)&&t&&!Xh.isInput(t))return this.constants_.LARGE_PADDING;if(Xh.isInlineInput(e)&&t&&Xh.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(Xh.isLeftSquareCorner(e)&&t){if(Xh.isHat(t))return this.constants_.NO_PADDING;if(Xh.isPreviousConnection(t)||Xh.isNextConnection(t))return t.notchOffset}return Xh.isLeftRoundedCorner(e)&&t?t.notchOffset-this.constants_.CORNER_RADIUS:Xh.isField(e)&&t&&Xh.isField(t)&&e.isEditable===t.isEditable||t&&Xh.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(e,t){return Xh.isTopRow(e)&&Xh.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:Xh.isTopRow(e)||Xh.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||e.hasDummyInput||t.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(e,t){if(Xh.isSpacer(t))return e.yPos+t.height/2;if(Xh.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,Xh.isNextConnection(t)?e+t.height/2:e-t.height/2;if(Xh.isTopRow(e))return Xh.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;let n=e.yPos;return Xh.isField(t)&&e.hasStatement?n+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+t.height/2):n+e.height/2}finalize_(){let e=0,t=0;for(var n=0;n<this.rows.length;n++){const o=this.rows[n];o.yPos=t,o.xPos=this.startX,t+=o.height,e=Math.max(e,o.widthWithConnectedBlocks);var r=t-this.topRow.ascenderHeight;o===this.bottomRow&&r<this.constants_.MIN_BLOCK_HEIGHT&&(r=this.constants_.MIN_BLOCK_HEIGHT-r,this.bottomRow.height+=r,t+=r),this.recordElemPositions_(o)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(n=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,n.getHeightWidth().width)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline}},Zf=class extends Bp{constructor(e){super(e)}makeRenderInfo_(e){return new Jf(this,e)}};Ii("thrasos",Zf);var Qf={};Qf.RenderInfo=Jf,Qf.Renderer=Zf;var eg=new ph("zelos",{colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},{colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}}),tg={Classic:dh,Zelos:eg},ng=class{constructor(e,t,n){this.id_=e.toolboxitemid||S(),this.level_=(this.parent_=n||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=e,this.parentToolbox_=t,this.workspace_=this.parentToolbox_.getWorkspace()}init(){}getDiv(){return null}getClickTarget(){return null}getId(){return this.id_}getParent(){return null}getLevel(){return this.level_}isSelectable(){return!1}isCollapsible(){return!1}dispose(){}setVisible_(e){}},rg=class extends ng{constructor(e,t,n){super(e,t,n),this.colour_=this.name_="",this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.cssConfig_=this.makeDefaultCssConfig_()}init(){this.parseCategoryDef_(this.toolboxItemDef_),this.parseContents_(this.toolboxItemDef_),this.createDom_(),"true"===this.toolboxItemDef_.hidden&&this.hide()}makeDefaultCssConfig_(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else if(e=e.contents)for(let t=0;t<e.length;t++){const n=e[t];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(n)}}parseCategoryDef_(e){this.name_="name"in e?Ro(e.name):"",this.colour_=this.getColour_(e),Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}createDom_(){this.htmlDiv_=this.createContainer_(),Ln(this.htmlDiv_,Kc.TREEITEM),Bn(this.htmlDiv_,Jc.SELECTED,!1),Bn(this.htmlDiv_,Jc.LEVEL,this.level_+1),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),Ln(this.iconDom_,Kc.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_);const e=this.labelDom_.getAttribute("id");return e&&Bn(this.htmlDiv_,Jc.LABELLEDBY,e),this.addColourBorder_(this.colour_),this.htmlDiv_}createContainer_(){const e=document.createElement("div"),t=this.cssConfig_.container;return t&&oe(e,t),e}createRowContainer_(){const e=document.createElement("div");var t=this.cssConfig_.row;return t&&oe(e,t),t=rg.nestedPadding*this.getLevel()+"px",this.workspace_.RTL?e.style.paddingRight=t:e.style.paddingLeft=t,e}createRowContentsContainer_(){const e=document.createElement("div"),t=this.cssConfig_.rowcontentcontainer;return t&&oe(e,t),e}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&oe(e,t)}return e.style.display="inline-block",e}createLabelDom_(e){const t=document.createElement("span");return t.setAttribute("id",this.getId()+".label"),t.textContent=e,(e=this.cssConfig_.label)&&oe(t,e),t}refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)}addColourBorder_(e){e&&(e=rg.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)}getColour_(e){const t=e.categorystyle||e.categoryStyle;if((e=e.colour)&&t)console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour');else{if(t)return this.getColourfromStyle_(t);if(e)return this.parseColour_(e)}return""}getColourfromStyle_(e){var t=this.workspace_.getTheme();if(e&&t){if((t=t.categoryStyles[e])&&t.colour)return this.parseColour_(t.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""}getClickTarget(){return this.rowDiv_}parseColour_(e){if(null==(e=Ro(e))||""===e)return"";var t=Number(e);return isNaN(t)?(t=wo(e))?t:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):Oo(t)}openIcon_(e){if(e){var t=this.cssConfig_.closedicon;t&&ie(e,t),(t=this.cssConfig_.openicon)&&oe(e,t)}}closeIcon_(e){if(e){var t=this.cssConfig_.openicon;t&&ie(e,t),(t=this.cssConfig_.closedicon)&&oe(e,t)}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}hide(){this.setVisible_(!1)}show(){this.setVisible_(!0)}isVisible(){return!this.isHidden_&&this.allAncestorsExpanded_()}allAncestorsExpanded_(){let e=this;for(;e.getParent();)if(e=e.getParent(),!e.isExpanded())return!1;return!0}isSelectable(){return this.isVisible()&&!this.isDisabled_}onClick(e){}setSelected(e){if(this.rowDiv_){var t=this.cssConfig_.selected;if(e){const e=this.parseColour_(rg.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||e,t&&oe(this.rowDiv_,t)}else this.rowDiv_.style.backgroundColor="",t&&se(this.rowDiv_,t);Bn(this.htmlDiv_,Jc.SELECTED,e)}}setDisabled(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled",`${e}`),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")}getName(){return this.name_}getParent(){return this.parent_}getDiv(){return this.htmlDiv_}getContents(){return this.flyoutItems_}updateFlyoutContents(e){this.flyoutItems_=[],this.toolboxItemDef_="string"==typeof e?{kind:this.toolboxItemDef_.kind,custom:e,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:"name"in this.toolboxItemDef_?this.toolboxItemDef_.name:"",contents:Be(e),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden},this.parseContents_(this.toolboxItemDef_)}dispose(){le(this.htmlDiv_)}};rg.registrationName="category",rg.nestedPadding=19,rg.borderWidth=8,rg.defaultBackgroundColour="#57e",ee('\n.blocklyTreeRow:not(.blocklyTreeSelected):hover {\n  background-color: rgba(255, 255, 255, .2);\n}\n\n.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {\n  margin: 1px 5px 1px 0;\n}\n\n.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {\n  margin: 1px 0 1px 5px;\n}\n\n.blocklyTreeRow {\n  height: 22px;\n  line-height: 22px;\n  margin-bottom: 3px;\n  padding-right: 8px;\n  white-space: nowrap;\n}\n\n.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {\n  margin-left: 8px;\n  padding-right: 0;\n}\n\n.blocklyTreeIcon {\n  background-image: url(<<<PATH>>>/sprites.png);\n  height: 16px;\n  vertical-align: middle;\n  visibility: hidden;\n  width: 16px;\n}\n\n.blocklyTreeIconClosed {\n  background-position: -32px -1px;\n}\n\n.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {\n  background-position: 0 -1px;\n}\n\n.blocklyTreeSelected>.blocklyTreeIconClosed {\n  background-position: -32px -17px;\n}\n\n.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {\n  background-position: 0 -17px;\n}\n\n.blocklyTreeIconOpen {\n  background-position: -16px -1px;\n}\n\n.blocklyTreeSelected>.blocklyTreeIconOpen {\n  background-position: -16px -17px;\n}\n\n.blocklyTreeLabel {\n  cursor: default;\n  font: 16px sans-serif;\n  padding: 0 3px;\n  vertical-align: middle;\n}\n\n.blocklyToolboxDelete .blocklyTreeLabel {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyTreeSelected .blocklyTreeLabel {\n  color: #fff;\n}\n'),e(js.TOOLBOX_ITEM,rg.registrationName,rg);var og=class extends ng{constructor(e,t){super(e,t),this.cssConfig_={container:"blocklyTreeSeparator"},this.htmlDiv_=null,Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}init(){this.createDom_()}createDom_(){const e=document.createElement("div"),t=this.cssConfig_.container;return t&&oe(e,t),this.htmlDiv_=e}getDiv(){return this.htmlDiv_}dispose(){le(this.htmlDiv_)}};og.registrationName="sep",ee('\n.blocklyTreeSeparator {\n  border-bottom: solid #e5e5e5 1px;\n  height: 0;\n  margin: 5px 0;\n}\n\n.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {\n  border-right: solid #e5e5e5 1px;\n  border-bottom: none;\n  height: auto;\n  margin: 0 5px 0 5px;\n  padding: 5px 0;\n  width: 0;\n}\n'),e(js.TOOLBOX_ITEM,og.registrationName,og);var ig=class extends rg{constructor(e,t,n){super(e,t,n),this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[]}makeDefaultCssConfig_(){const e=super.makeDefaultCssConfig_();return e.contents="blocklyToolboxContents",e}parseContents_(e){if("custom"in e)this.flyoutItems_=e.custom;else{const t=e.contents;if(t){this.flyoutItems_=[],e=!0;for(let n=0;n<t.length;n++){const r=t[n];!i(js.TOOLBOX_ITEM,r.kind)||r.kind.toLowerCase()===og.registrationName&&e?(this.flyoutItems_.push(r),e=!0):(this.createToolboxItem_(r),e=!1)}}}}createToolboxItem_(e){let t=e.kind;"CATEGORY"===t.toUpperCase()&&Ue(e)&&(t=ig.registrationName),e=new(s(js.TOOLBOX_ITEM,t))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)}init(){super.init(),this.setExpanded("true"===this.toolboxItemDef_.expanded||!0===this.toolboxItemDef_.expanded)}createDom_(){super.createDom_();const e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),Ln(this.subcategoriesDiv_,Kc.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.closeIcon_(this.iconDom_),Bn(this.htmlDiv_,Jc.EXPANDED,!1),this.htmlDiv_}createIconDom_(){const e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const t=this.cssConfig_.icon;t&&oe(e,t),e.style.visibility="visible"}return e.style.display="inline-block",e}createSubCategoriesDom_(e){const t=document.createElement("div");t.style.display="none";var n=this.cssConfig_.contents;for(n&&oe(t,n),n=0;n<e.length;n++){const r=e[n];r.init();const o=r.getDiv();if(t.appendChild(o),r.getClickTarget){let e;null==(e=r.getClickTarget())||e.setAttribute("id",r.getId())}}return t}setExpanded(e){if(this.expanded_!==e){if(this.expanded_=e)this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_);else{let e;null==(e=this.parentToolbox_.getFlyout())||e.setVisible(!1),this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)}Bn(this.htmlDiv_,Jc.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize()}}setVisible_(e){this.htmlDiv_.style.display=e?"block":"none";const t=this.getChildToolboxItems();for(let n=0;n<t.length;n++)t[n].setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}isExpanded(){return this.expanded_}isCollapsible(){return!0}onClick(e){this.toggleExpanded()}toggleExpanded(){this.setExpanded(!this.expanded_)}getDiv(){return this.htmlDiv_}getChildToolboxItems(){return this.toolboxItems_}};ig.registrationName="collapsibleCategory",e(js.TOOLBOX_ITEM,ig.registrationName,ig);var sg=class extends hd{constructor(e){super(),this.id="toolbox",this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.contents_=[],this.height_=this.width_=0,this.previouslySelectedItem_=this.selectedItem_=this.flyout_=null,this.boundEvents_=[],this.workspace_=e,this.toolboxDef_=e.options.languageTree||{contents:[]},this.horizontalLayout_=e.options.horizontalLayout,this.RTL=e.options.RTL,this.contentMap_=Object.create(null),this.toolboxPosition=e.options.toolboxPosition}onShortcut(e){return!1}init(){var e=this.workspace_;const t=e.getParentSvg();this.flyout_=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),ce(this.flyout_.createDom("svg"),t),this.setVisible(!0),this.flyout_.init(e),this.render(this.toolboxDef_),(e=e.getThemeManager()).subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[al.Capability.AUTOHIDEABLE,al.Capability.DELETE_AREA,al.Capability.DRAG_TARGET]})}createDom_(e){e=e.getParentSvg();const t=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,Ln(this.contentsDiv_,Kc.TREE),t.appendChild(this.contentsDiv_),e.parentNode.insertBefore(t,e),this.attachEvents_(t,this.contentsDiv_),t}createContainer_(){const e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),oe(e,"blocklyToolboxDiv"),oe(e,"blocklyNonSelectable"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e}createContentsContainer_(){const e=document.createElement("div");return oe(e,"blocklyToolboxContents"),this.isHorizontal()&&(e.style.flexDirection="row"),e}attachEvents_(e,t){e=z(e,"pointerdown",this,this.onClick_,!1),this.boundEvents_.push(e),t=z(t,"keydown",this,this.onKeyDown_,!1),this.boundEvents_.push(t)}onClick_(e){if(K(e)||e.target===this.HtmlDiv)f().hideChaff(!1);else{var t=e.target.getAttribute("id");t&&(t=this.getToolboxItemById(t)).isSelectable()&&(this.setSelectedItem(t),t.onClick(e)),f().hideChaff(!0)}H()}onKeyDown_(e){let t=!1;switch(e.key){case"ArrowDown":t=this.selectNext_();break;case"ArrowUp":t=this.selectPrevious_();break;case"ArrowLeft":t=this.selectParent_();break;case"ArrowRight":t=this.selectChild_();break;case"Enter":case" ":this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),t=!0);break;default:t=!1}!t&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(t=this.selectedItem_.onKeyDown(e)),t&&e.preventDefault()}createFlyout_(){const e=this.workspace_,t=new fh({parentWorkspace:e,rtl:e.RTL,oneBasedIndex:e.options.oneBasedIndex,horizontalLayout:e.horizontalLayout,renderer:e.options.renderer,rendererOverrides:e.options.rendererOverrides,move:{scrollbars:!0}});return t.toolboxPosition=e.options.toolboxPosition,new(e.horizontalLayout?c(js.FLYOUTS_HORIZONTAL_TOOLBOX,e.options,!0):c(js.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(t)}render(e){this.toolboxDef_=e;for(let e=0;e<this.contents_.length;e++){const t=this.contents_[e];t&&t.dispose()}this.contents_=[],this.contentMap_=Object.create(null),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()}renderContents_(e){const t=document.createDocumentFragment();for(let n=0;n<e.length;n++)this.createToolboxItem_(e[n],t);this.contentsDiv_.appendChild(t)}createToolboxItem_(e,t){var n=e.kind;"CATEGORY"===n.toUpperCase()&&Ue(e)&&(n=ig.registrationName),(n=s(js.TOOLBOX_ITEM,n.toLowerCase()))&&((e=new n(e,this)).init(),this.addToolboxItem_(e),(n=e.getDiv())&&t.appendChild(n),e.getClickTarget()&&e.getClickTarget().setAttribute("id",e.getId()))}addToolboxItem_(e){if(this.contents_.push(e),this.contentMap_[e.getId()]=e,e.isCollapsible()){e=e.getChildToolboxItems();for(let t=0;t<e.length;t++)this.addToolboxItem_(e[t])}}getToolboxItems(){return this.contents_}addStyle(e){e&&this.HtmlDiv&&oe(this.HtmlDiv,e)}removeStyle(e){e&&this.HtmlDiv&&se(this.HtmlDiv,e)}getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect();const t=e.top,n=t+e.height,r=e.left;return e=r+e.width,this.toolboxPosition===Fl.TOP?new Tl(-1e7,n,-1e7,1e7):this.toolboxPosition===Fl.BOTTOM?new Tl(t,1e7,-1e7,1e7):this.toolboxPosition===Fl.LEFT?new Tl(-1e7,1e7,-1e7,e):new Tl(-1e7,1e7,r,1e7)}wouldDelete(e,t){return e instanceof ld?this.updateWouldDelete_(!e.getParent()&&e.isDeletable()):this.updateWouldDelete_(e.isDeletable()),this.wouldDelete_}onDragEnter(e){this.updateCursorDeleteStyle_(!0)}onDragExit(e){this.updateCursorDeleteStyle_(!1)}onDrop(e){this.updateCursorDeleteStyle_(!1)}updateWouldDelete_(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))}updateCursorDeleteStyle_(e){const t=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(t):this.removeStyle(t)}getToolboxItemById(e){return this.contentMap_[e]||null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyout(){return this.flyout_}getWorkspace(){return this.workspace_}getSelectedItem(){return this.selectedItem_}getPreviouslySelectedItem(){return this.previouslySelectedItem_}isHorizontal(){return this.horizontalLayout_}position(){const e=this.workspace_.getMetrics(),t=this.HtmlDiv;t&&(this.horizontalLayout_?(t.style.left="0",t.style.height="auto",t.style.width="100%",this.height_=t.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition===Fl.TOP?t.style.top="0":t.style.bottom="0"):(this.toolboxPosition===Fl.RIGHT?t.style.right="0":t.style.left="0",t.style.height="100%",this.width_=t.offsetWidth,this.height_=e.viewHeight),this.flyout_.position())}handleToolboxItemResize(){const e=this.workspace_,t=this.HtmlDiv.getBoundingClientRect();e.translate(this.toolboxPosition===Fl.LEFT?e.scrollX+t.width:e.scrollX,this.toolboxPosition===Fl.TOP?e.scrollY+t.height:e.scrollY),_(e)}clearSelection(){this.setSelectedItem(null)}refreshTheme(){for(let e=0;e<this.contents_.length;e++){const t=this.contents_[e];t.refreshTheme&&t.refreshTheme()}}refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents())}setVisible(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())}autoHide(e){!e&&this.flyout_&&this.flyout_.autoClose&&this.clearSelection()}setSelectedItem(e){const t=this.selectedItem_;!e&&!t||e&&!As(e)||(this.shouldDeselectItem_(t,e)&&null!==t&&this.deselectItem_(t),this.shouldSelectItem_(t,e)&&null!==e&&this.selectItem_(t,e),this.updateFlyout_(t,e),this.fireSelectEvent_(t,e))}shouldDeselectItem_(e,t){return null!==e&&(!e.isCollapsible()||e!==t)}shouldSelectItem_(e,t){return null!==t&&t!==e}deselectItem_(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),Bn(this.contentsDiv_,Jc.ACTIVEDESCENDANT,"")}selectItem_(e,t){this.selectedItem_=t,this.previouslySelectedItem_=e,t.setSelected(!0),Bn(this.contentsDiv_,Jc.ACTIVEDESCENDANT,t.getId())}selectItemByPosition(e){-1<e&&e<this.contents_.length&&(e=this.contents_[e]).isSelectable()&&this.setSelectedItem(e)}updateFlyout_(e,t){t&&(e!==t||t.isCollapsible())&&t.getContents().length?(this.flyout_.show(t.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide()}fireSelectEvent_(e,t){const n=e&&e.getName();let r=t&&t.getName();e===t&&(r=null),e=new(B(ua))(n,r,this.workspace_.id),x(e)}selectParent_(){return!(!this.selectedItem_||(this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),0):!this.selectedItem_.getParent()||!this.selectedItem_.getParent().isSelectable()||(this.setSelectedItem(this.selectedItem_.getParent()),0)))}selectChild_(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;const e=this.selectedItem_;return e.isExpanded()?this.selectNext_():e.toggleExpanded(),!0}selectNext_(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)+1;if(-1<e&&e<this.contents_.length){let t=this.contents_[e];for(;t&&!t.isSelectable();)t=this.contents_[++e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1}selectPrevious_(){if(!this.selectedItem_)return!1;let e=this.contents_.indexOf(this.selectedItem_)-1;if(-1<e&&e<this.contents_.length){let t=this.contents_[e];for(;t&&!t.isSelectable();)t=this.contents_[--e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1}dispose(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout_.dispose();for(var e=0;e<this.contents_.length;e++)this.contents_[e].dispose();for(e=0;e<this.boundEvents_.length;e++)Y(this.boundEvents_[e]);this.boundEvents_=[],this.contents_=[],this.HtmlDiv&&(this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),le(this.HtmlDiv))}};ee('\n.blocklyToolboxDelete {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyToolboxGrab {\n  cursor: url("<<<PATH>>>/handclosed.cur"), auto;\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n/* Category tree in Toolbox. */\n.blocklyToolboxDiv {\n  background-color: #ddd;\n  overflow-x: visible;\n  overflow-y: auto;\n  padding: 4px 0 4px 0;\n  position: absolute;\n  z-index: 70;  /* so blocks go under toolbox when dragging */\n  -webkit-tap-highlight-color: transparent;  /* issue #1345 */\n}\n\n.blocklyToolboxContents {\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n}\n\n.blocklyToolboxContents:focus {\n  outline: none;\n}\n'),e(js.TOOLBOX,Fs,sg);var ag=Ms.Align$$module$build$src$core$inputs$align.LEFT,lg=Ms.Align$$module$build$src$core$inputs$align.CENTRE,cg=Ms.Align$$module$build$src$core$inputs$align.RIGHT,ug=Uc.INPUT_VALUE,hg=Uc.OUTPUT_VALUE,pg=Uc.NEXT_STATEMENT,dg=Uc.PREVIOUS_STATEMENT,fg=Ms.inputTypes$$module$build$src$core$inputs$input_types.DUMMY,gg=Fl.TOP,mg=Fl.BOTTOM,yg=Fl.LEFT,vg=Fl.RIGHT;qp.prototype.newBlock=function(e,t){return new ed(this,e,t)},Kp.prototype.newBlock=function(e,t){return new ld(this,e,t)},Kp.newTrashcan=function(e){return new pd(e)},vc.prototype.showContextMenu=function(e){if(!this.workspace.options.readOnly){var t=[];this.isDeletable()&&this.isMovable()&&(t.push(lr(this)),t.push(ar(this))),er(e,t,this.RTL)}},Ah.prototype.newWorkspaceSvg=function(e){return new Kp(e)},Ms.Names$$module$build$src$core$names.prototype.populateProcedures=function(e){e=(e=hi(e))[0].concat(e[1]);for(let t=0;t<e.length;t++)this.getName(e[t][0],Ms.Names$$module$build$src$core$names.NameType.PROCEDURE)};var bg=Uc,_g={ALIGN_CENTRE:lg,ALIGN_LEFT:ag,ALIGN_RIGHT:cg};return _g.ASTNode=Cp,_g.BasicCursor=rd,_g.Block=ed,_g.BlockDragger=Ud,_g.BlockSvg=ld,_g.Blocks=Ws,_g.Bubble=Nh,_g.BubbleDragger=Bu,_g.COLLAPSED_FIELD_NAME=Ap,_g.COLLAPSED_INPUT_NAME=Np,_g.COLLAPSE_CHARS=30,_g.CodeGenerator=Ms.CodeGenerator$$module$build$src$core$generator,_g.CollapsibleToolboxCategory=ig,_g.ComponentManager=al,_g.Connection=Rp,_g.ConnectionChecker=Vp,_g.ConnectionDB=Vc,_g.ConnectionType=Uc,_g.ContextMenu=du,_g.ContextMenuItems=mf,_g.ContextMenuRegistry=fu,_g.Css=ul,_g.Cursor=nd,_g.DELETE_VARIABLE_ID=Hu,_g.DRAG_STACK=Fu,_g.DUMMY_INPUT=fg,_g.DeleteArea=hd,_g.DragTarget=ud,_g.DropDownDiv=Du,_g.Events=ef,_g.Extensions=Ph,_g.Field=Eh,_g.FieldAngle=vf,_g.FieldCheckbox=_f,_g.FieldColour=Ef,_g.FieldDropdown=Ih,_g.FieldImage=rf,_g.FieldLabel=_p,_g.FieldLabelSerializable=wf,_g.FieldMultilineInput=Tf,_g.FieldNumber=kf,_g.FieldTextInput=sf,_g.FieldVariable=Sf,_g.Flyout=xf,_g.FlyoutButton=Cf,_g.FlyoutMetricsManager=If,_g.Generator=Ms.CodeGenerator$$module$build$src$core$generator,_g.Gesture=lh,_g.Grid=ch,_g.HorizontalFlyout=Rf,_g.INPUT_VALUE=ug,_g.Input=Ep,_g.InsertionMarkerManager=Mp,_g.InsertionMarkerPreviewer=Mf,_g.Marker=td,_g.MarkerManager=uh,_g.Menu=nu,_g.MenuItem=ru,_g.MetricsManager=Ld,_g.Msg=Ms.Msg$$module$build$src$core$msg,_g.NEXT_STATEMENT=pg,_g.Names=Ms.Names$$module$build$src$core$names,_g.OPPOSITE_TYPE=ju,_g.OUTPUT_VALUE=hg,_g.Options=fh,_g.PREVIOUS_STATEMENT=dg,_g.PROCEDURE_CATEGORY_NAME=zh,_g.Procedures=qh,_g.RENAME_VARIABLE_ID=Uu,_g.RenderedConnection=id,_g.Scrollbar=Rl,_g.ScrollbarPair=Pd,_g.ShortcutItems=Rd,_g.ShortcutRegistry=Od,_g.TOOLBOX_AT_BOTTOM=mg,_g.TOOLBOX_AT_LEFT=yg,_g.TOOLBOX_AT_RIGHT=vg,_g.TOOLBOX_AT_TOP=gg,_g.TabNavigateCursor=od,_g.Theme=ph,_g.ThemeManager=jp,_g.Themes=tg,_g.Toolbox=sg,_g.ToolboxCategory=rg,_g.ToolboxItem=ng,_g.ToolboxSeparator=og,_g.Tooltip=sh,_g.Touch=qa,_g.Trashcan=pd,_g.UnattachedFieldError=wh,_g.VARIABLE_CATEGORY_NAME=uc,_g.VARIABLE_DYNAMIC_CATEGORY_NAME=Up,_g.VERSION="10.4.3",_g.VariableMap=zp,_g.VariableModel=cc,_g.Variables=dc,_g.VariablesDynamic=Hp,_g.VerticalFlyout=Nf,_g.WidgetDiv=cu,_g.Workspace=qp,_g.WorkspaceAudio=Yp,_g.WorkspaceComment=fc,_g.WorkspaceCommentSvg=vc,_g.WorkspaceDragger=ah,_g.WorkspaceSvg=Kp,_g.Xml=Sc,_g.ZoomControls=Jl,_g.blockAnimations=Lu,_g.blockRendering=Fp,_g.browserEvents=ol,_g.bubbles=Hd,_g.bumpObjects=jd,_g.clipboard=Xc,_g.common=Xs,_g.config=Ms.config$$module$build$src$core$config,_g.connectionTypes=bg,_g.constants=$p,_g.defineBlocksWithJsonArray=T,_g.dialog=ic,_g.fieldRegistry=Oh,_g.geras=Gf,_g.getMainWorkspace=f,_g.getSelected=m,_g.hasBubble=yo,_g.hideChaff=$s,_g.icons=Yh,_g.inject=Ts,_g.inputTypes=Ms.inputTypes$$module$build$src$core$inputs$input_types,_g.inputs=$f,_g.isCopyable=Li,_g.isIcon=Rs,_g.isObservable=Do,_g.isPaster=Ns,_g.isSerializable=nn,_g.isVariableBackedParameterModel=nt,_g.minimalist=Kf,_g.procedures=qh,_g.registry=Us,_g.renderManagement=kc,_g.serialization=Md,_g.setLocale=Ql,_g.setParentContainer=b,_g.svgResize=_,_g.thrasos=Qf,_g.uiPosition=ql,_g.utils=Bh,_g.zelos=gf,Object.defineProperties(_g,{HSV_SATURATION:{get:function(){return ne("Blockly.HSV_SATURATION","version 10","version 11","Blockly.utils.colour.getHsvSaturation()"),vo()},set:function(e){ne("Blockly.HSV_SATURATION","version 10","version 11","Blockly.utils.colour.setHsvSaturation()"),bo(e)}},HSV_VALUE:{get:function(){return ne("Blockly.HSV_VALUE","version 10","version 11","Blockly.utils.colour.getHsvValue()"),_o()},set:function(e){ne("Blockly.HSV_VALUE","version 10","version 11","Blockly.utils.colour.setHsvValue()"),Eo(e)}}}),"Blockly"in globalThis||(globalThis.Blockly={Msg:ec}),_g.__namespace__=Ms,_g})?r.apply(t,[]):r)||(e.exports=o)},7092:function(e,t,n){var r,o,i;o=[n(6974)],void 0===(i="function"==typeof(r=function(e){"use strict";return e})?r.apply(t,o):r)||(e.exports=i)},3481:function(e,t,n){var r,o,i;o=[n(7092),n(4905)],void 0===(i="function"==typeof(r=function(e,t){return t})?r.apply(t,o):r)||(e.exports=i)},4905:function(e,t,n){var r,o,i;o=[n(8996)],void 0===(i="function"==typeof(r=function(e){var t,n,r=e.__namespace__,o=function(e,n){var r=0;let o="";n.STATEMENT_PREFIX&&(o+=n.injectId(n.STATEMENT_PREFIX,e));do{const i=n.valueToCode(e,"IF"+r,t.NONE)||"false";let s=n.statementToCode(e,"DO"+r);n.STATEMENT_SUFFIX&&(s=n.prefixLines(n.injectId(n.STATEMENT_SUFFIX,e),n.INDENT)+s),o+=(0<r?" else ":"")+"if ("+i+") {\n"+s+"}",r++}while(e.getInput("IF"+r));return(e.getInput("ELSE")||n.STATEMENT_SUFFIX)&&(r=n.statementToCode(e,"ELSE"),n.STATEMENT_SUFFIX&&(r=n.prefixLines(n.injectId(n.STATEMENT_SUFFIX,e),n.INDENT)+r),o+=" else {\n"+r+"}"),o+"\n"},i=function(e,n){let o;o=e.getField("TIMES")?String(Number(e.getFieldValue("TIMES"))):n.valueToCode(e,"TIMES",t.ASSIGNMENT)||"0";let i=n.statementToCode(e,"DO");i=n.addLoopTrap(i,e),e="";const s=n.nameDB_.getDistinctName("count",r.NameType$$module$build$src$core$names.VARIABLE);let a=o;return o.match(/^\w+$/)||r.isNumber$$module$build$src$core$utils$string(o)||(a=n.nameDB_.getDistinctName("repeat_end",r.NameType$$module$build$src$core$names.VARIABLE),e+="var "+a+" = "+o+";\n"),e+"for (var "+s+" = 0; "+s+" < "+a+"; "+s+"++) {\n"+i+"}\n"},s=function(e,n){const r=e.getFieldValue("OP");let o;if("NEG"===r)return"-"===(e=n.valueToCode(e,"NUM",t.UNARY_NEGATION)||"0")[0]&&(e=" "+e),["-"+e,t.UNARY_NEGATION];switch(e="SIN"===r||"COS"===r||"TAN"===r?n.valueToCode(e,"NUM",t.DIVISION)||"0":n.valueToCode(e,"NUM",t.NONE)||"0",r){case"ABS":o="Math.abs("+e+")";break;case"ROOT":o="Math.sqrt("+e+")";break;case"LN":o="Math.log("+e+")";break;case"EXP":o="Math.exp("+e+")";break;case"POW10":o="Math.pow(10,"+e+")";break;case"ROUND":o="Math.round("+e+")";break;case"ROUNDUP":o="Math.ceil("+e+")";break;case"ROUNDDOWN":o="Math.floor("+e+")";break;case"SIN":o="Math.sin("+e+" / 180 * Math.PI)";break;case"COS":o="Math.cos("+e+" / 180 * Math.PI)";break;case"TAN":o="Math.tan("+e+" / 180 * Math.PI)"}if(o)return[o,t.FUNCTION_CALL];switch(r){case"LOG10":o="Math.log("+e+") / Math.log(10)";break;case"ASIN":o="Math.asin("+e+") / Math.PI * 180";break;case"ACOS":o="Math.acos("+e+") / Math.PI * 180";break;case"ATAN":o="Math.atan("+e+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+r)}return[o,t.DIVISION]},a=function(e,n){const r=n.getProcedureName(e.getFieldValue("NAME"));var o="";n.STATEMENT_PREFIX&&(o+=n.injectId(n.STATEMENT_PREFIX,e)),n.STATEMENT_SUFFIX&&(o+=n.injectId(n.STATEMENT_SUFFIX,e)),o&&(o=n.prefixLines(o,n.INDENT));let i="";n.INFINITE_LOOP_TRAP&&(i=n.prefixLines(n.injectId(n.INFINITE_LOOP_TRAP,e),n.INDENT));const s=n.statementToCode(e,"STACK");let a=n.valueToCode(e,"RETURN",t.NONE)||"",l="";s&&a&&(l=o),a&&(a=n.INDENT+"return "+a+";\n");const c=[],u=e.getVars();for(let e=0;e<u.length;e++)c[e]=n.getVariableName(u[e]);return o="function "+r+"("+c.join(", ")+") {\n"+o+i+s+l+a+"}",o=n.scrub_(e,o),n.definitions_["%"+r]=o,null},l=function(e,n){return n="window.prompt("+(e.getField("TEXT")?n.quote_(e.getFieldValue("TEXT")):n.valueToCode(e,"TEXT",t.NONE)||"''")+")","NUMBER"===e.getFieldValue("TYPE")&&(n="Number("+n+")"),[n,t.FUNCTION_CALL]},c=function(e,n){return[n.getVariableName(e.getFieldValue("VAR")),t.ATOMIC]},u=function(e,n){const r=n.valueToCode(e,"VALUE",t.ASSIGNMENT)||"0";return n.getVariableName(e.getFieldValue("VAR"))+" = "+r+";\n"};(n=t||(t={}))[n.ATOMIC=0]="ATOMIC",n[n.NEW=1.1]="NEW",n[n.MEMBER=1.2]="MEMBER",n[n.FUNCTION_CALL=2]="FUNCTION_CALL",n[n.INCREMENT=3]="INCREMENT",n[n.DECREMENT=3]="DECREMENT",n[n.BITWISE_NOT=4.1]="BITWISE_NOT",n[n.UNARY_PLUS=4.2]="UNARY_PLUS",n[n.UNARY_NEGATION=4.3]="UNARY_NEGATION",n[n.LOGICAL_NOT=4.4]="LOGICAL_NOT",n[n.TYPEOF=4.5]="TYPEOF",n[n.VOID=4.6]="VOID",n[n.DELETE=4.7]="DELETE",n[n.AWAIT=4.8]="AWAIT",n[n.EXPONENTIATION=5]="EXPONENTIATION",n[n.MULTIPLICATION=5.1]="MULTIPLICATION",n[n.DIVISION=5.2]="DIVISION",n[n.MODULUS=5.3]="MODULUS",n[n.SUBTRACTION=6.1]="SUBTRACTION",n[n.ADDITION=6.2]="ADDITION",n[n.BITWISE_SHIFT=7]="BITWISE_SHIFT",n[n.RELATIONAL=8]="RELATIONAL",n[n.IN=8]="IN",n[n.INSTANCEOF=8]="INSTANCEOF",n[n.EQUALITY=9]="EQUALITY",n[n.BITWISE_AND=10]="BITWISE_AND",n[n.BITWISE_XOR=11]="BITWISE_XOR",n[n.BITWISE_OR=12]="BITWISE_OR",n[n.LOGICAL_AND=13]="LOGICAL_AND",n[n.LOGICAL_OR=14]="LOGICAL_OR",n[n.CONDITIONAL=15]="CONDITIONAL",n[n.ASSIGNMENT=16]="ASSIGNMENT",n[n.YIELD=17]="YIELD",n[n.COMMA=18]="COMMA",n[n.NONE=99]="NONE";var h=class extends r.CodeGenerator$$module$build$src$core$generator{constructor(e="JavaScript"){super(e),this.ORDER_OVERRIDES=[[t.FUNCTION_CALL,t.MEMBER],[t.FUNCTION_CALL,t.FUNCTION_CALL],[t.MEMBER,t.MEMBER],[t.MEMBER,t.FUNCTION_CALL],[t.LOGICAL_NOT,t.LOGICAL_NOT],[t.MULTIPLICATION,t.MULTIPLICATION],[t.ADDITION,t.ADDITION],[t.LOGICAL_AND,t.LOGICAL_AND],[t.LOGICAL_OR,t.LOGICAL_OR]],this.isInitialized=!1;for(const n in t)"string"!=typeof(e=t[n])&&(this["ORDER_"+n]=e);this.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(globalThis).join(","))}init(e){super.init(e),this.nameDB_?this.nameDB_.reset():this.nameDB_=new r.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(e.getVariableMap()),this.nameDB_.populateVariables(e),this.nameDB_.populateProcedures(e);const t=[];var n=r.allDeveloperVariables$$module$build$src$core$variables(e);for(let e=0;e<n.length;e++)t.push(this.nameDB_.getName(n[e],r.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));for(e=r.allUsedVarModels$$module$build$src$core$variables(e),n=0;n<e.length;n++)t.push(this.nameDB_.getName(e[n].getId(),r.NameType$$module$build$src$core$names.VARIABLE));t.length&&(this.definitions_.variables="var "+t.join(", ")+";"),this.isInitialized=!0}finish(e){const t=Object.values(this.definitions_);return super.finish(e),this.isInitialized=!1,this.nameDB_.reset(),t.join("\n\n")+"\n\n\n"+e}scrubNakedValue(e){return e+";\n"}quote_(e){return"'"+(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"}multiline_quote_(e){return e.split(/\n/g).map(this.quote_).join(" + '\\n' +\n")}scrub_(e,t,n=!1){let o="";if(!e.outputConnection||!e.outputConnection.targetConnection){var i=e.getCommentText();i&&(i=r.wrap$$module$build$src$core$utils$string(i,this.COMMENT_WRAP-3),o+=this.prefixLines(i+"\n","// "));for(let t=0;t<e.inputList.length;t++)e.inputList[t].type===r.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(i=e.inputList[t].connection.targetBlock())&&(i=this.allNestedComments(i))&&(o+=this.prefixLines(i,"// "))}return e=e.nextConnection&&e.nextConnection.targetBlock(),o+t+(n?"":this.blockToCode(e))}getAdjusted(e,n,o=0,i=!1,s=t.NONE){e.workspace.options.oneBasedIndex&&o--;const a=e.workspace.options.oneBasedIndex?"1":"0";let l=s;return 0<o?l=t.ADDITION:0>o?l=t.SUBTRACTION:i&&(l=t.UNARY_NEGATION),e=this.valueToCode(e,n,l)||a,0!==o||i?r.isNumber$$module$build$src$core$utils$string(e)?(e=String(Number(e)+o),i&&(e=String(-Number(e))),e):(0<o?e=`${e} + ${o}`:0>o&&(e=`${e} - ${-o}`),i&&(e=o?`-(${e})`:`-${e}`),Math.floor(s)>=Math.floor(l)&&(e=`(${e})`),e):e}},p={};p.JavascriptGenerator=h,p.Order=t;var d={colour_blend:function(e,n){const r=n.valueToCode(e,"COLOUR1",t.NONE)||"'#000000'",o=n.valueToCode(e,"COLOUR2",t.NONE)||"'#000000'";return e=n.valueToCode(e,"RATIO",t.NONE)||.5,[n.provideFunction_("colourBlend",`\nfunction ${n.FUNCTION_NAME_PLACEHOLDER_}(c1, c2, ratio) {\n  ratio = Math.max(Math.min(Number(ratio), 1), 0);\n  var r1 = parseInt(c1.substring(1, 3), 16);\n  var g1 = parseInt(c1.substring(3, 5), 16);\n  var b1 = parseInt(c1.substring(5, 7), 16);\n  var r2 = parseInt(c2.substring(1, 3), 16);\n  var g2 = parseInt(c2.substring(3, 5), 16);\n  var b2 = parseInt(c2.substring(5, 7), 16);\n  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);\n  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);\n  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);\n  r = ('0' + (r || 0).toString(16)).slice(-2);\n  g = ('0' + (g || 0).toString(16)).slice(-2);\n  b = ('0' + (b || 0).toString(16)).slice(-2);\n  return '#' + r + g + b;\n}\n`)+"("+r+", "+o+", "+e+")",t.FUNCTION_CALL]},colour_picker:function(e,n){return[n.quote_(e.getFieldValue("COLOUR")),t.ATOMIC]},colour_random:function(e,n){return[n.provideFunction_("colourRandom",`\nfunction ${n.FUNCTION_NAME_PLACEHOLDER_}() {\n  var num = Math.floor(Math.random() * Math.pow(2, 24));\n  return '#' + ('00000' + num.toString(16)).substr(-6);\n}\n`)+"()",t.FUNCTION_CALL]},colour_rgb:function(e,n){const r=n.valueToCode(e,"RED",t.NONE)||0,o=n.valueToCode(e,"GREEN",t.NONE)||0;return e=n.valueToCode(e,"BLUE",t.NONE)||0,[n.provideFunction_("colourRgb",`\nfunction ${n.FUNCTION_NAME_PLACEHOLDER_}(r, g, b) {\n  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;\n  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;\n  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;\n  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);\n  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);\n  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);\n  return '#' + r + g + b;\n}\n`)+"("+r+", "+o+", "+e+")",t.FUNCTION_CALL]}},f=function(e,t,n){return"FIRST"===t?"0":"FROM_END"===t?e+".length - 1 - "+n:"LAST"===t?e+".length - 1":n},g={lists_create_empty:function(e,n){return["[]",t.ATOMIC]},lists_create_with:function(e,n){const r=Array(e.itemCount_);for(let o=0;o<e.itemCount_;o++)r[o]=n.valueToCode(e,"ADD"+o,t.NONE)||"null";return["["+r.join(", ")+"]",t.ATOMIC]},lists_getIndex:function(e,n){const r=e.getFieldValue("MODE")||"GET",o=e.getFieldValue("WHERE")||"FROM_START";var i=n.valueToCode(e,"VALUE","RANDOM"===o?t.NONE:t.MEMBER)||"[]";switch(o){case"FIRST":if("GET"===r)return[i+"[0]",t.MEMBER];if("GET_REMOVE"===r)return[i+".shift()",t.MEMBER];if("REMOVE"===r)return i+".shift();\n";break;case"LAST":if("GET"===r)return[i+".slice(-1)[0]",t.MEMBER];if("GET_REMOVE"===r)return[i+".pop()",t.MEMBER];if("REMOVE"===r)return i+".pop();\n";break;case"FROM_START":if(e=n.getAdjusted(e,"AT"),"GET"===r)return[i+"["+e+"]",t.MEMBER];if("GET_REMOVE"===r)return[i+".splice("+e+", 1)[0]",t.FUNCTION_CALL];if("REMOVE"===r)return i+".splice("+e+", 1);\n";break;case"FROM_END":if(e=n.getAdjusted(e,"AT",1,!0),"GET"===r)return[i+".slice("+e+")[0]",t.FUNCTION_CALL];if("GET_REMOVE"===r)return[i+".splice("+e+", 1)[0]",t.FUNCTION_CALL];if("REMOVE"===r)return i+".splice("+e+", 1);";break;case"RANDOM":if(i=n.provideFunction_("listsGetRandomItem",`\nfunction ${n.FUNCTION_NAME_PLACEHOLDER_}(list, remove) {\n  var x = Math.floor(Math.random() * list.length);\n  if (remove) {\n    return list.splice(x, 1)[0];\n  } else {\n    return list[x];\n  }\n}\n`)+"("+i+", "+("GET"!==r)+")","GET"===r||"GET_REMOVE"===r)return[i,t.FUNCTION_CALL];if("REMOVE"===r)return i+";\n"}throw Error("Unhandled combination (lists_getIndex).")},lists_getSublist:function(e,n){var r={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"},o=n.valueToCode(e,"LIST",t.MEMBER)||"[]";const i=e.getFieldValue("WHERE1"),s=e.getFieldValue("WHERE2");if("FIRST"===i&&"LAST"===s)o+=".slice(0)";else if(o.match(/^\w+$/)||"FROM_END"!==i&&"FROM_START"===s){switch(i){case"FROM_START":r=n.getAdjusted(e,"AT1");break;case"FROM_END":r=o+".length - "+(r=n.getAdjusted(e,"AT1",1,!1,t.SUBTRACTION));break;case"FIRST":r="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(s){case"FROM_START":n=n.getAdjusted(e,"AT2",1);break;case"FROM_END":n=o+".length - "+(n=n.getAdjusted(e,"AT2",0,!1,t.SUBTRACTION));break;case"LAST":n=o+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}o=o+".slice("+r+", "+n+")"}else{const t=n.getAdjusted(e,"AT1");e=n.getAdjusted(e,"AT2"),o=n.provideFunction_("subsequence"+r[i]+r[s],`\nfunction ${n.FUNCTION_NAME_PLACEHOLDER_}(sequence${"FROM_END"===i||"FROM_START"===i?", at1":""}${"FROM_END"===s||"FROM_START"===s?", at2":""}) {\n  var start = ${f("sequence",i,"at1")};\n  var end = ${f("sequence",s,"at2")} + 1;\n  return sequence.slice(start, end);\n}\n`)+"("+o+("FROM_END"===i||"FROM_START"===i?", "+t:"")+("FROM_END"===s||"FROM_START"===s?", "+e:"")+")"}return[o,t.FUNCTION_CALL]},lists_indexOf:function(e,n){const r="FIRST"===e.getFieldValue("END")?"indexOf":"lastIndexOf",o=n.valueToCode(e,"FIND",t.NONE)||"''";return n=(n.valueToCode(e,"VALUE",t.MEMBER)||"[]")+"."+r+"("+o+")",e.workspace.options.oneBasedIndex?[n+" + 1",t.ADDITION]:[n,t.FUNCTION_CALL]},lists_isEmpty:function(e,n){return["!"+(n.valueToCode(e,"VALUE",t.MEMBER)||"[]")+".length",t.LOGICAL_NOT]},lists_length:function(e,n){return[(n.valueToCode(e,"VALUE",t.MEMBER)||"[]")+".length",t.MEMBER]},lists_repeat:function(e,n){return[n.provideFunction_("listsRepeat",`\nfunction ${n.FUNCTION_NAME_PLACEHOLDER_}(value, n) {\n  var array = [];\n  for (var i = 0; i < n; i++) {\n    array[i] = value;\n  }\n  return array;\n}\n`)+"("+(n.valueToCode(e,"ITEM",t.NONE)||"null")+", "+(e=n.valueToCode(e,"NUM",t.NONE)||"0")+")",t.FUNCTION_CALL]},lists_reverse:function(e,n){return[(n.valueToCode(e,"LIST",t.FUNCTION_CALL)||"[]")+".slice().reverse()",t.FUNCTION_CALL]},lists_setIndex:function(e,n){function o(){if(i.match(/^\w+$/))return"";const e=n.nameDB_.getDistinctName("tmpList",r.NameType$$module$build$src$core$names.VARIABLE),t="var "+e+" = "+i+";\n";return i=e,t}let i=n.valueToCode(e,"LIST",t.MEMBER)||"[]";const s=e.getFieldValue("MODE")||"GET";var a=e.getFieldValue("WHERE")||"FROM_START";const l=n.valueToCode(e,"TO",t.ASSIGNMENT)||"null";switch(a){case"FIRST":if("SET"===s)return i+"[0] = "+l+";\n";if("INSERT"===s)return i+".unshift("+l+");\n";break;case"LAST":if("SET"===s)return o()+(i+"[")+i+".length - 1] = "+l+";\n";if("INSERT"===s)return i+".push("+l+");\n";break;case"FROM_START":if(e=n.getAdjusted(e,"AT"),"SET"===s)return i+"["+e+"] = "+l+";\n";if("INSERT"===s)return i+".splice("+e+", 0, "+l+");\n";break;case"FROM_END":if(e=n.getAdjusted(e,"AT",1,!1,t.SUBTRACTION),a=o(),"SET"===s)return a+(i+"[")+i+".length - "+e+"] = "+l+";\n";if("INSERT"===s)return a+(i+".splice(")+i+".length - "+e+", 0, "+l+");\n";break;case"RANDOM":if(e=o(),e+="var "+(a=n.nameDB_.getDistinctName("tmpX",r.NameType$$module$build$src$core$names.VARIABLE))+" = Math.floor(Math.random() * "+i+".length);\n","SET"===s)return e+(i+"[")+a+"] = "+l+";\n";if("INSERT"===s)return e+(i+".splice(")+a+", 0, "+l+");\n"}throw Error("Unhandled combination (lists_setIndex).")},lists_sort:function(e,n){const r=n.valueToCode(e,"LIST",t.FUNCTION_CALL)||"[]",o="1"===e.getFieldValue("DIRECTION")?1:-1;return e=e.getFieldValue("TYPE"),[r+".slice().sort("+(n=n.provideFunction_("listsGetSortCompare",`\nfunction ${n.FUNCTION_NAME_PLACEHOLDER_}(type, direction) {\n  var compareFuncs = {\n    'NUMERIC': function(a, b) {\n        return Number(a) - Number(b); },\n    'TEXT': function(a, b) {\n        return String(a) > String(b) ? 1 : -1; },\n    'IGNORE_CASE': function(a, b) {\n        return String(a).toLowerCase() > String(b).toLowerCase() ? 1 : -1; },\n  };\n  var compare = compareFuncs[type];\n  return function(a, b) { return compare(a, b) * direction; };\n}\n      `))+'("'+e+'", '+o+"))",t.FUNCTION_CALL]},lists_split:function(e,n){let r=n.valueToCode(e,"INPUT",t.MEMBER);if(n=n.valueToCode(e,"DELIM",t.NONE)||"''","SPLIT"===(e=e.getFieldValue("MODE")))r||(r="''"),e="split";else{if("JOIN"!==e)throw Error("Unknown mode: "+e);r||(r="[]"),e="join"}return[r+"."+e+"("+n+")",t.FUNCTION_CALL]}},m={};m.controls_if=o,m.controls_ifelse=o,m.logic_boolean=function(e,n){return["TRUE"===e.getFieldValue("BOOL")?"true":"false",t.ATOMIC]},m.logic_compare=function(e,n){const r={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[e.getFieldValue("OP")],o="=="===r||"!="===r?t.EQUALITY:t.RELATIONAL;return[(n.valueToCode(e,"A",o)||"0")+" "+r+" "+(e=n.valueToCode(e,"B",o)||"0"),o]},m.logic_negate=function(e,n){const r=t.LOGICAL_NOT;return["!"+(n.valueToCode(e,"BOOL",r)||"true"),r]},m.logic_null=function(e,n){return["null",t.ATOMIC]},m.logic_operation=function(e,n){const r="AND"===e.getFieldValue("OP")?"&&":"||",o="&&"===r?t.LOGICAL_AND:t.LOGICAL_OR;let i=n.valueToCode(e,"A",o);return e=n.valueToCode(e,"B",o),i||e?(n="&&"===r?"true":"false",i||(i=n),e||(e=n)):e=i="false",[i+" "+r+" "+e,o]},m.logic_ternary=function(e,n){return[(n.valueToCode(e,"IF",t.CONDITIONAL)||"false")+" ? "+(n.valueToCode(e,"THEN",t.CONDITIONAL)||"null")+" : "+(e=n.valueToCode(e,"ELSE",t.CONDITIONAL)||"null"),t.CONDITIONAL]};var y={controls_flow_statements:function(e,t){let n="";if(t.STATEMENT_PREFIX&&(n+=t.injectId(t.STATEMENT_PREFIX,e)),t.STATEMENT_SUFFIX&&(n+=t.injectId(t.STATEMENT_SUFFIX,e)),t.STATEMENT_PREFIX){const r=e.getSurroundLoop();r&&!r.suppressPrefixSuffix&&(n+=t.injectId(t.STATEMENT_PREFIX,r))}switch(e.getFieldValue("FLOW")){case"BREAK":return n+"break;\n";case"CONTINUE":return n+"continue;\n"}throw Error("Unknown flow statement.")},controls_for:function(e,n){var o=n.getVariableName(e.getFieldValue("VAR")),i=n.valueToCode(e,"FROM",t.ASSIGNMENT)||"0",s=n.valueToCode(e,"TO",t.ASSIGNMENT)||"0";const a=n.valueToCode(e,"BY",t.ASSIGNMENT)||"1";let l=n.statementToCode(e,"DO");if(l=n.addLoopTrap(l,e),r.isNumber$$module$build$src$core$utils$string(i)&&r.isNumber$$module$build$src$core$utils$string(s)&&r.isNumber$$module$build$src$core$utils$string(a))e="for ("+o+" = "+i+"; "+o+((n=Number(i)<=Number(s))?" <= ":" >= ")+s+"; "+o,e=1===(o=Math.abs(Number(a)))?e+(n?"++":"--"):e+(n?" += ":" -= ")+o,e+=") {\n"+l+"}\n";else{e="";let t=i;i.match(/^\w+$/)||r.isNumber$$module$build$src$core$utils$string(i)||(t=n.nameDB_.getDistinctName(o+"_start",r.NameType$$module$build$src$core$names.VARIABLE),e+="var "+t+" = "+i+";\n"),i=s,s.match(/^\w+$/)||r.isNumber$$module$build$src$core$utils$string(s)||(e+="var "+(i=n.nameDB_.getDistinctName(o+"_end",r.NameType$$module$build$src$core$names.VARIABLE))+" = "+s+";\n"),e+="var "+(s=n.nameDB_.getDistinctName(o+"_inc",r.NameType$$module$build$src$core$names.VARIABLE))+" = ",e=r.isNumber$$module$build$src$core$utils$string(a)?e+(Math.abs(Number(a))+";\n"):e+"Math.abs("+a+");\n",e+="if ("+t+" > "+i+") {\n",e=(e+=n.INDENT+s+" = -"+s+";\n")+"}\nfor ("+o+" = "+t+"; "+s+" >= 0 ? "+o+" <= "+i+" : "+o+" >= "+i+"; "+o+" += "+s+") {\n"+l+"}\n"}return e},controls_forEach:function(e,n){const o=n.getVariableName(e.getFieldValue("VAR"));var i=n.valueToCode(e,"LIST",t.ASSIGNMENT)||"[]";let s=n.statementToCode(e,"DO");s=n.addLoopTrap(s,e),e="";let a=i;return i.match(/^\w+$/)||(a=n.nameDB_.getDistinctName(o+"_list",r.NameType$$module$build$src$core$names.VARIABLE),e+="var "+a+" = "+i+";\n"),i=n.nameDB_.getDistinctName(o+"_index",r.NameType$$module$build$src$core$names.VARIABLE),s=n.INDENT+o+" = "+a+"["+i+"];\n"+s,e+"for (var "+i+" in "+a+") {\n"+s+"}\n"}};y.controls_repeat=i,y.controls_repeat_ext=i,y.controls_whileUntil=function(e,n){const r="UNTIL"===e.getFieldValue("MODE");let o=n.valueToCode(e,"BOOL",r?t.LOGICAL_NOT:t.NONE)||"false",i=n.statementToCode(e,"DO");return i=n.addLoopTrap(i,e),r&&(o="!"+o),"while ("+o+") {\n"+i+"}\n"};var v={math_arithmetic:function(e,n){var r={ADD:[" + ",t.ADDITION],MINUS:[" - ",t.SUBTRACTION],MULTIPLY:[" * ",t.MULTIPLICATION],DIVIDE:[" / ",t.DIVISION],POWER:[null,t.NONE]}[e.getFieldValue("OP")];const o=r[0];r=r[1];const i=n.valueToCode(e,"A",r)||"0";return e=n.valueToCode(e,"B",r)||"0",o?[i+o+e,r]:["Math.pow("+i+", "+e+")",t.FUNCTION_CALL]},math_atan2:function(e,n){const r=n.valueToCode(e,"X",t.NONE)||"0";return["Math.atan2("+(n.valueToCode(e,"Y",t.NONE)||"0")+", "+r+") / Math.PI * 180",t.DIVISION]},math_change:function(e,n){const r=n.valueToCode(e,"DELTA",t.ADDITION)||"0";return(e=n.getVariableName(e.getFieldValue("VAR")))+" = (typeof "+e+" === 'number' ? "+e+" : 0) + "+r+";\n"},math_constant:function(e,n){return{PI:["Math.PI",t.MEMBER],E:["Math.E",t.MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",t.DIVISION],SQRT2:["Math.SQRT2",t.MEMBER],SQRT1_2:["Math.SQRT1_2",t.MEMBER],INFINITY:["Infinity",t.ATOMIC]}[e.getFieldValue("CONSTANT")]},math_constrain:function(e,n){return["Math.min(Math.max("+(n.valueToCode(e,"VALUE",t.NONE)||"0")+", "+(n.valueToCode(e,"LOW",t.NONE)||"0")+"), "+(e=n.valueToCode(e,"HIGH",t.NONE)||"Infinity")+")",t.FUNCTION_CALL]},math_modulo:function(e,n){return[(n.valueToCode(e,"DIVIDEND",t.MODULUS)||"0")+" % "+(e=n.valueToCode(e,"DIVISOR",t.MODULUS)||"0"),t.MODULUS]},math_number:function(e,n){return e=Number(e.getFieldValue("NUM")),[String(e),0<=e?t.ATOMIC:t.UNARY_NEGATION]},math_number_property:function(e,n){var r={EVEN:[" % 2 === 0",t.MODULUS,t.EQUALITY],ODD:[" % 2 === 1",t.MODULUS,t.EQUALITY],WHOLE:[" % 1 === 0",t.MODULUS,t.EQUALITY],POSITIVE:[" > 0",t.RELATIONAL,t.RELATIONAL],NEGATIVE:[" < 0",t.RELATIONAL,t.RELATIONAL],DIVISIBLE_BY:[null,t.MODULUS,t.EQUALITY],PRIME:[null,t.NONE,t.FUNCTION_CALL]};const o=e.getFieldValue("PROPERTY"),[i,s,a]=r[o];return r=n.valueToCode(e,"NUMBER_TO_CHECK",s)||"0",[e="PRIME"===o?n.provideFunction_("mathIsPrime",`\nfunction ${n.FUNCTION_NAME_PLACEHOLDER_}(n) {\n  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods\n  if (n == 2 || n == 3) {\n    return true;\n  }\n  // False if n is NaN, negative, is 1, or not whole.\n  // And false if n is divisible by 2 or 3.\n  if (isNaN(n) || n <= 1 || n % 1 !== 0 || n % 2 === 0 || n % 3 === 0) {\n    return false;\n  }\n  // Check all the numbers of form 6k +/- 1, up to sqrt(n).\n  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {\n    if (n % (x - 1) === 0 || n % (x + 1) === 0) {\n      return false;\n    }\n  }\n  return true;\n}\n`)+"("+r+")":"DIVISIBLE_BY"===o?r+" % "+(e=n.valueToCode(e,"DIVISOR",t.MODULUS)||"0")+" === 0":r+i,a]},math_on_list:function(e,n){var r=e.getFieldValue("OP");switch(r){case"SUM":e=n.valueToCode(e,"LIST",t.MEMBER)||"[]",e+=".reduce(function(x, y) {return x + y;}, 0)";break;case"MIN":e="Math.min.apply(null, "+(e=n.valueToCode(e,"LIST",t.NONE)||"[]")+")";break;case"MAX":e="Math.max.apply(null, "+(e=n.valueToCode(e,"LIST",t.NONE)||"[]")+")";break;case"AVERAGE":e=(r=n.provideFunction_("mathMean",`\nfunction ${n.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n  return myList.reduce(function(x, y) {return x + y;}, 0) / myList.length;\n}\n`))+"("+(e=n.valueToCode(e,"LIST",t.NONE)||"[]")+")";break;case"MEDIAN":e=(r=n.provideFunction_("mathMedian",`\nfunction ${n.FUNCTION_NAME_PLACEHOLDER_}(myList) {\n  var localList = myList.filter(function (x) {return typeof x === 'number';});\n  if (!localList.length) return null;\n  localList.sort(function(a, b) {return b - a;});\n  if (localList.length % 2 === 0) {\n    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;\n  } else {\n    return localList[(localList.length - 1) / 2];\n  }\n}\n`))+"("+(e=n.valueToCode(e,"LIST",t.NONE)||"[]")+")";break;case"MODE":e=(r=n.provideFunction_("mathModes",`\nfunction ${n.FUNCTION_NAME_PLACEHOLDER_}(values) {\n  var modes = [];\n  var counts = [];\n  var maxCount = 0;\n  for (var i = 0; i < values.length; i++) {\n    var value = values[i];\n    var found = false;\n    var thisCount;\n    for (var j = 0; j < counts.length; j++) {\n      if (counts[j][0] === value) {\n        thisCount = ++counts[j][1];\n        found = true;\n        break;\n      }\n    }\n    if (!found) {\n      counts.push([value, 1]);\n      thisCount = 1;\n    }\n    maxCount = Math.max(thisCount, maxCount);\n  }\n  for (var j = 0; j < counts.length; j++) {\n    if (counts[j][1] === maxCount) {\n        modes.push(counts[j][0]);\n    }\n  }\n  return modes;\n}\n`))+"("+(e=n.valueToCode(e,"LIST",t.NONE)||"[]")+")";break;case"STD_DEV":e=(r=n.provideFunction_("mathStandardDeviation",`\nfunction ${n.FUNCTION_NAME_PLACEHOLDER_}(numbers) {\n  var n = numbers.length;\n  if (!n) return null;\n  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;\n  var variance = 0;\n  for (var j = 0; j < n; j++) {\n    variance += Math.pow(numbers[j] - mean, 2);\n  }\n  variance = variance / n;\n  return Math.sqrt(variance);\n}\n`))+"("+(e=n.valueToCode(e,"LIST",t.NONE)||"[]")+")";break;case"RANDOM":e=(r=n.provideFunction_("mathRandomList",`\nfunction ${n.FUNCTION_NAME_PLACEHOLDER_}(list) {\n  var x = Math.floor(Math.random() * list.length);\n  return list[x];\n}\n`))+"("+(e=n.valueToCode(e,"LIST",t.NONE)||"[]")+")";break;default:throw Error("Unknown operator: "+r)}return[e,t.FUNCTION_CALL]},math_random_float:function(e,n){return["Math.random()",t.FUNCTION_CALL]},math_random_int:function(e,n){const r=n.valueToCode(e,"FROM",t.NONE)||"0";return e=n.valueToCode(e,"TO",t.NONE)||"0",[n.provideFunction_("mathRandomInt",`\nfunction ${n.FUNCTION_NAME_PLACEHOLDER_}(a, b) {\n  if (a > b) {\n    // Swap a and b to ensure a is smaller.\n    var c = a;\n    a = b;\n    b = c;\n  }\n  return Math.floor(Math.random() * (b - a + 1) + a);\n}\n`)+"("+r+", "+e+")",t.FUNCTION_CALL]}};v.math_round=s,v.math_single=s,v.math_trig=s;var b={procedures_callnoreturn:function(e,t){return t.forBlock.procedures_callreturn(e,t)[0]+";\n"},procedures_callreturn:function(e,n){const r=n.getProcedureName(e.getFieldValue("NAME")),o=[],i=e.getVars();for(let r=0;r<i.length;r++)o[r]=n.valueToCode(e,"ARG"+r,t.NONE)||"null";return[r+"("+o.join(", ")+")",t.FUNCTION_CALL]}};b.procedures_defnoreturn=a,b.procedures_defreturn=a,b.procedures_ifreturn=function(e,n){let r="if ("+(n.valueToCode(e,"CONDITION",t.NONE)||"false")+") {\n";return n.STATEMENT_SUFFIX&&(r+=n.prefixLines(n.injectId(n.STATEMENT_SUFFIX,e),n.INDENT)),e.hasReturnValue_?(e=n.valueToCode(e,"VALUE",t.NONE)||"null",r+=n.INDENT+"return "+e+";\n"):r+=n.INDENT+"return;\n",r+"}\n"};var _=/^\s*'([^']|\\')*'\s*$/,E=function(e){return _.test(e)?[e,t.ATOMIC]:["String("+e+")",t.FUNCTION_CALL]},w=function(e,t,n){return"FIRST"===t?"0":"FROM_END"===t?e+".length - 1 - "+n:"LAST"===t?e+".length - 1":n},T={text:function(e,n){return[n.quote_(e.getFieldValue("TEXT")),t.ATOMIC]},text_append:function(e,n){const r=n.getVariableName(e.getFieldValue("VAR"));return e=n.valueToCode(e,"TEXT",t.NONE)||"''",r+" += "+E(e)[0]+";\n"},text_changeCase:function(e,n){const r={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[e.getFieldValue("CASE")];return e=n.valueToCode(e,"TEXT",r?t.MEMBER:t.NONE)||"''",[r?e+r:n.provideFunction_("textToTitleCase",`\nfunction ${n.FUNCTION_NAME_PLACEHOLDER_}(str) {\n  return str.replace(/\\S+/g,\n      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});\n}\n`)+"("+e+")",t.FUNCTION_CALL]},text_charAt:function(e,n){const r=e.getFieldValue("WHERE")||"FROM_START",o=n.valueToCode(e,"VALUE","RANDOM"===r?t.NONE:t.MEMBER)||"''";switch(r){case"FIRST":return[o+".charAt(0)",t.FUNCTION_CALL];case"LAST":return[o+".slice(-1)",t.FUNCTION_CALL];case"FROM_START":return[o+".charAt("+(e=n.getAdjusted(e,"AT"))+")",t.FUNCTION_CALL];case"FROM_END":return[o+".slice("+(e=n.getAdjusted(e,"AT",1,!0))+").charAt(0)",t.FUNCTION_CALL];case"RANDOM":return[n.provideFunction_("textRandomLetter",`\nfunction ${n.FUNCTION_NAME_PLACEHOLDER_}(text) {\n  var x = Math.floor(Math.random() * text.length);\n  return text[x];\n}\n`)+"("+o+")",t.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},text_count:function(e,n){const r=n.valueToCode(e,"TEXT",t.NONE)||"''";return e=n.valueToCode(e,"SUB",t.NONE)||"''",[n.provideFunction_("textCount",`\nfunction ${n.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle) {\n  if (needle.length === 0) {\n    return haystack.length + 1;\n  } else {\n    return haystack.split(needle).length - 1;\n  }\n}\n`)+"("+r+", "+e+")",t.FUNCTION_CALL]},text_getSubstring:function(e,n){var r={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};const o=e.getFieldValue("WHERE1"),i=e.getFieldValue("WHERE2");var s="FROM_END"!==o&&"LAST"!==o&&"FROM_END"!==i&&"LAST"!==i,a=n.valueToCode(e,"STRING",s?t.MEMBER:t.NONE)||"''";if("FIRST"===o&&"LAST"===i)return[a,t.NONE];if(a.match(/^'?\w+'?$/)||s){switch(o){case"FROM_START":r=n.getAdjusted(e,"AT1");break;case"FROM_END":r=a+".length - "+(r=n.getAdjusted(e,"AT1",1,!1,t.SUBTRACTION));break;case"FIRST":r="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(i){case"FROM_START":n=n.getAdjusted(e,"AT2",1);break;case"FROM_END":n=a+".length - "+(n=n.getAdjusted(e,"AT2",0,!1,t.SUBTRACTION));break;case"LAST":n=a+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}a=a+".slice("+r+", "+n+")"}else s=n.getAdjusted(e,"AT1"),e=n.getAdjusted(e,"AT2"),a=n.provideFunction_("subsequence"+r[o]+r[i],`\nfunction ${n.FUNCTION_NAME_PLACEHOLDER_}(sequence${"FROM_END"===o||"FROM_START"===o?", at1":""}${"FROM_END"===i||"FROM_START"===i?", at2":""}) {\n  var start = ${w("sequence",o,"at1")};\n  var end = ${w("sequence",i,"at2")} + 1;\n  return sequence.slice(start, end);\n}\n`)+"("+a+("FROM_END"===o||"FROM_START"===o?", "+s:"")+("FROM_END"===i||"FROM_START"===i?", "+e:"")+")";return[a,t.FUNCTION_CALL]},text_indexOf:function(e,n){const r="FIRST"===e.getFieldValue("END")?"indexOf":"lastIndexOf",o=n.valueToCode(e,"FIND",t.NONE)||"''";return n=(n.valueToCode(e,"VALUE",t.MEMBER)||"''")+"."+r+"("+o+")",e.workspace.options.oneBasedIndex?[n+" + 1",t.ADDITION]:[n,t.FUNCTION_CALL]},text_isEmpty:function(e,n){return["!"+(n.valueToCode(e,"VALUE",t.MEMBER)||"''")+".length",t.LOGICAL_NOT]},text_join:function(e,n){switch(e.itemCount_){case 0:return["''",t.ATOMIC];case 1:return e=n.valueToCode(e,"ADD0",t.NONE)||"''",E(e);case 2:var r=n.valueToCode(e,"ADD0",t.NONE)||"''";return e=n.valueToCode(e,"ADD1",t.NONE)||"''",[E(r)[0]+" + "+E(e)[0],t.ADDITION];default:r=Array(e.itemCount_);for(let o=0;o<e.itemCount_;o++)r[o]=n.valueToCode(e,"ADD"+o,t.NONE)||"''";return["["+r.join(",")+"].join('')",t.FUNCTION_CALL]}},text_length:function(e,n){return[(n.valueToCode(e,"VALUE",t.MEMBER)||"''")+".length",t.MEMBER]},text_multiline:function(e,n){return e=n.multiline_quote_(e.getFieldValue("TEXT")),n=-1!==e.indexOf("+")?t.ADDITION:t.ATOMIC,[e,n]},text_print:function(e,n){return"window.alert("+(n.valueToCode(e,"TEXT",t.NONE)||"''")+");\n"}};T.text_prompt=l,T.text_prompt_ext=l,T.text_replace=function(e,n){const r=n.valueToCode(e,"TEXT",t.NONE)||"''",o=n.valueToCode(e,"FROM",t.NONE)||"''";return e=n.valueToCode(e,"TO",t.NONE)||"''",[n.provideFunction_("textReplace",`\nfunction ${n.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle, replacement) {\n  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1')\n                 .replace(/\\x08/g, '\\\\x08');\n  return haystack.replace(new RegExp(needle, 'g'), replacement);\n}\n`)+"("+r+", "+o+", "+e+")",t.FUNCTION_CALL]},T.text_reverse=function(e,n){return[(n.valueToCode(e,"TEXT",t.MEMBER)||"''")+".split('').reverse().join('')",t.FUNCTION_CALL]},T.text_trim=function(e,n){const r={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[e.getFieldValue("MODE")];return[(n.valueToCode(e,"TEXT",t.MEMBER)||"''")+r,t.FUNCTION_CALL]};var k={};k.variables_get=c,k.variables_set=u;var S={};S.variables_get_dynamic=c,S.variables_set_dynamic=u;var C=new h,O=Object.assign({},d,g,m,y,v,b,T,k,S);for(const e in O)C.forBlock[e]=O[e];var I={};return I.JavascriptGenerator=h,I.Order=t,I.javascriptGenerator=C,I.__namespace__=r,I})?r.apply(t,o):r)||(e.exports=i)},637:(e,t)=>{var n;n=function(e){e.version="1.2.2";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}(),n=function(e){var t=0,n=0,r=0,o="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(r=0;256!=r;++r)o[r]=e[r];for(r=0;256!=r;++r)for(n=e[r],t=256+r;t<4096;t+=256)n=o[t]=n>>>8^e[255&n];var i=[];for(r=1;16!=r;++r)i[r-1]="undefined"!=typeof Int32Array?o.subarray(256*r,256*r+256):o.slice(256*r,256*r+256);return i}(t),r=n[0],o=n[1],i=n[2],s=n[3],a=n[4],l=n[5],c=n[6],u=n[7],h=n[8],p=n[9],d=n[10],f=n[11],g=n[12],m=n[13],y=n[14];e.table=t,e.bstr=function(e,n){for(var r=~n,o=0,i=e.length;o<i;)r=r>>>8^t[255&(r^e.charCodeAt(o++))];return~r},e.buf=function(e,n){for(var v=~n,b=e.length-15,_=0;_<b;)v=y[e[_++]^255&v]^m[e[_++]^v>>8&255]^g[e[_++]^v>>16&255]^f[e[_++]^v>>>24]^d[e[_++]]^p[e[_++]]^h[e[_++]]^u[e[_++]]^c[e[_++]]^l[e[_++]]^a[e[_++]]^s[e[_++]]^i[e[_++]]^o[e[_++]]^r[e[_++]]^t[e[_++]];for(b+=15;_<b;)v=v>>>8^t[255&(v^e[_++])];return~v},e.str=function(e,n){for(var r=~n,o=0,i=e.length,s=0,a=0;o<i;)(s=e.charCodeAt(o++))<128?r=r>>>8^t[255&(r^s)]:s<2048?r=(r=r>>>8^t[255&(r^(192|s>>6&31))])>>>8^t[255&(r^(128|63&s))]:s>=55296&&s<57344?(s=64+(1023&s),a=1023&e.charCodeAt(o++),r=(r=(r=(r=r>>>8^t[255&(r^(240|s>>8&7))])>>>8^t[255&(r^(128|s>>2&63))])>>>8^t[255&(r^(128|a>>6&15|(3&s)<<4))])>>>8^t[255&(r^(128|63&a))]):r=(r=(r=r>>>8^t[255&(r^(224|s>>12&15))])>>>8^t[255&(r^(128|s>>6&63))])>>>8^t[255&(r^(128|63&s))];return~r}},"undefined"==typeof DO_NOT_EXPORT_CRC?n(t):n({})},3284:()=>{},372:()=>{},7190:()=>{},513:()=>{},9021:()=>{},2743:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?a((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function o(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function i(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function s(e,t){try{return t in e}catch(e){return!1}}function a(e,n,l){(l=l||{}).arrayMerge=l.arrayMerge||o,l.isMergeableObject=l.isMergeableObject||t,l.cloneUnlessOtherwiseSpecified=r;var c=Array.isArray(n);return c===Array.isArray(e)?c?l.arrayMerge(e,n,l):function(e,t,n){var o={};return n.isMergeableObject(e)&&i(e).forEach((function(t){o[t]=r(e[t],n)})),i(t).forEach((function(i){(function(e,t){return s(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(s(e,i)&&n.isMergeableObject(t[i])?o[i]=function(e,t){if(!t.customMerge)return a;var n=t.customMerge(e);return"function"==typeof n?n:a}(i,n)(e[i],t[i],n):o[i]=r(t[i],n))})),o}(e,n,l):r(n,l)}a.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return a(e,n,t)}),{})};var l=a;e.exports=l},3338:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(n=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===n.Tag||e.type===n.Script||e.type===n.Style},t.Root=n.Root,t.Text=n.Text,t.Directive=n.Directive,t.Comment=n.Comment,t.Script=n.Script,t.Style=n.Style,t.Tag=n.Tag,t.CDATA=n.CDATA,t.Doctype=n.Doctype},5060:function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(){"use strict";function t(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){a(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,s=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),a=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!s?function(e,n,s){var a=i.URL||i.webkitURL,l=document.createElement("a");n=n||e.name||"download",l.download=n,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):r(l.href)?t(e,n,s):o(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,i){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,i),n);else if(r(e))t(e,n,i);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout((function(){o(s)}))}}:function(e,n,r,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,r);var a="application/octet-stream"===e.type,l=/constructor/i.test(i.HTMLElement)||i.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&l||s)&&"undefined"!=typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},u.readAsDataURL(e)}else{var h=i.URL||i.webkitURL,p=h.createObjectURL(e);o?o.location=p:location.href=p,o=null,setTimeout((function(){h.revokeObjectURL(p)}),4e4)}});i.saveAs=a.saveAs=a,e.exports=a})?r.apply(t,[]):r)||(e.exports=o)},5985:(e,t,n)=>{"use strict";var r=n(524),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return r.isMemo(e)?s:a[e.$$typeof]||o}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var o=d(n);o&&o!==f&&e(t,o,r)}var s=u(n);h&&(s=s.concat(h(n)));for(var a=l(t),g=l(n),m=0;m<s.length;++m){var y=s[m];if(!(i[y]||r&&r[y]||g&&g[y]||a&&a[y])){var v=p(n,y);try{c(t,y,v)}catch(e){}}}}return t}},629:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES=void 0,t.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],t.CASE_SENSITIVE_TAG_NAMES_MAP=t.CASE_SENSITIVE_TAG_NAMES.reduce((function(e,t){return e[t.toLowerCase()]=t,e}),{})},3395:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,u,h=e.match(i),p=h&&h[1]?h[1].toLowerCase():"";switch(p){case n:var f=c(e);return s.test(e)||null===(t=null==(m=f.querySelector(r))?void 0:m.parentNode)||void 0===t||t.removeChild(m),a.test(e)||null===(u=null==(m=f.querySelector(o))?void 0:m.parentNode)||void 0===u||u.removeChild(m),f.querySelectorAll(n);case r:case o:var g=l(e).querySelectorAll(p);return a.test(e)&&s.test(e)?g[0].parentNode.childNodes:g;default:return d?d(e):(m=l(e,o).querySelector(o)).childNodes;var m}};var n="html",r="head",o="body",i=/<([a-zA-Z]+[0-9]?)/,s=/<head[^]*>/i,a=/<body[^]*>/i,l=function(e,t){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},c=function(e,t){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},u="object"==typeof window&&window.DOMParser;if("function"==typeof u){var h=new u;l=c=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),h.parseFromString(e,"text/html")}}if("object"==typeof document&&document.implementation){var p=document.implementation.createHTMLDocument();l=function(e,t){if(t){var n=p.documentElement.querySelector(t);return n&&(n.innerHTML=e),p}return p.documentElement.innerHTML=e,p}}var d,f="object"==typeof document&&document.createElement("template");f&&f.content&&(d=function(e){return f.innerHTML=e,f.content.childNodes})},9072:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];var t=e.match(s),n=t?t[1]:void 0;return(0,i.formatDOM)((0,o.default)(e),null,n)};var o=r(n(3395)),i=n(5668),s=/<(![a-zA-Z\s]+)>/},5668:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatAttributes=i,t.formatDOM=function e(t,n,o){void 0===n&&(n=null);for(var a,l=[],c=0,u=t.length;c<u;c++){var h=t[c];switch(h.nodeType){case 1:var p=s(h.nodeName);(a=new r.Element(p,i(h.attributes))).children=e("template"===p?h.content.childNodes:h.childNodes,a);break;case 3:a=new r.Text(h.nodeValue);break;case 8:a=new r.Comment(h.nodeValue);break;default:continue}var d=l[c-1]||null;d&&(d.next=a),a.parent=n,a.prev=d,a.next=null,l.push(a)}return o&&((a=new r.ProcessingInstruction(o.substring(0,o.indexOf(" ")).toLowerCase(),o)).next=l[0]||null,a.parent=n,l.unshift(a),l[1]&&(l[1].prev=l[0])),l};var r=n(9938),o=n(629);function i(e){for(var t={},n=0,r=e.length;n<r;n++){var o=e[n];t[o.name]=o.value}return t}function s(e){return function(e){return o.CASE_SENSITIVE_TAG_NAMES_MAP[e]}(e=e.toLowerCase())||e}},9938:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var i=n(3338),s=n(3672);o(n(3672),t);var a={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function e(e,t,n){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(n=t,t=a),"object"==typeof e&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:a,this.elementCB=null!=n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?i.ElementType.Tag:void 0,r=new s.Element(e,t,void 0,n);this.addNode(r),this.tagStack.push(r)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===i.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var n=new s.Text(e);this.addNode(n),this.lastNode=n}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===i.ElementType.Comment)this.lastNode.data+=e;else{var t=new s.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new s.Text(""),t=new s.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new s.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=l,t.default=l},3672:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.CDATA=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var s=n(3338),a=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),w(this,e)},e}();t.Node=a;var l=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return o(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(a);t.DataNode=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Text,t}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(l);t.Text=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Comment,t}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(l);t.Comment=u;var h=function(e){function t(t,n){var r=e.call(this,n)||this;return r.name=t,r.type=s.ElementType.Directive,r}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(l);t.ProcessingInstruction=h;var p=function(e){function t(t){var n=e.call(this)||this;return n.children=t,n}return o(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(a);t.NodeWithChildren=p;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.CDATA,t}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(p);t.CDATA=d;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Root,t}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(p);t.Document=f;var g=function(e){function t(t,n,r,o){void 0===r&&(r=[]),void 0===o&&(o="script"===t?s.ElementType.Script:"style"===t?s.ElementType.Style:s.ElementType.Tag);var i=e.call(this,r)||this;return i.name=t,i.attribs=n,i.type=o,i}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,r;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(r=e["x-attribsPrefix"])||void 0===r?void 0:r[t]}}))},enumerable:!1,configurable:!0}),t}(p);function m(e){return(0,s.isTag)(e)}function y(e){return e.type===s.ElementType.CDATA}function v(e){return e.type===s.ElementType.Text}function b(e){return e.type===s.ElementType.Comment}function _(e){return e.type===s.ElementType.Directive}function E(e){return e.type===s.ElementType.Root}function w(e,t){var n;if(void 0===t&&(t=!1),v(e))n=new c(e.data);else if(b(e))n=new u(e.data);else if(m(e)){var r=t?T(e.children):[],o=new g(e.name,i({},e.attribs),r);r.forEach((function(e){return e.parent=o})),null!=e.namespace&&(o.namespace=e.namespace),e["x-attribsNamespace"]&&(o["x-attribsNamespace"]=i({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(o["x-attribsPrefix"]=i({},e["x-attribsPrefix"])),n=o}else if(y(e)){r=t?T(e.children):[];var s=new d(r);r.forEach((function(e){return e.parent=s})),n=s}else if(E(e)){r=t?T(e.children):[];var a=new f(r);r.forEach((function(e){return e.parent=a})),e["x-mode"]&&(a["x-mode"]=e["x-mode"]),n=a}else{if(!_(e))throw new Error("Not implemented yet: ".concat(e.type));var l=new h(e.name,e.data);null!=e["x-name"]&&(l["x-name"]=e["x-name"],l["x-publicId"]=e["x-publicId"],l["x-systemId"]=e["x-systemId"]),n=l}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function T(e){for(var t=e.map((function(e){return w(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=g,t.isTag=m,t.isCDATA=y,t.isText=v,t.isComment=b,t.isDirective=_,t.isDocument=E,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=w},4193:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){void 0===e&&(e={});var n={},c=Boolean(e.type&&a[e.type]);for(var u in e){var h=e[u];if((0,r.isCustomAttribute)(u))n[u]=h;else{var p=u.toLowerCase(),d=l(p);if(d){var f=(0,r.getPropertyInfo)(d);switch(i.includes(d)&&s.includes(t)&&!c&&(d=l("default"+p)),n[d]=h,f&&f.type){case r.BOOLEAN:n[d]=!0;break;case r.OVERLOADED_BOOLEAN:""===h&&(n[d]=!0)}}else o.PRESERVE_CUSTOM_ATTRIBUTES&&(n[u]=h)}}return(0,o.setStyleProp)(e.style,n),n};var r=n(9461),o=n(9523),i=["checked","value"],s=["input","select","textarea"],a={reset:!0,submit:!0};function l(e){return r.possibleStandardNames[e]}},9471:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,n){void 0===n&&(n={});for(var r=[],o="function"==typeof n.replace,c=n.transform||s.returnFirstArg,u=n.library||a,h=u.cloneElement,p=u.createElement,d=u.isValidElement,f=t.length,g=0;g<f;g++){var m=t[g];if(o){var y=n.replace(m,g);if(d(y)){f>1&&(y=h(y,{key:y.key||g})),r.push(c(y,m,g));continue}}if("text"!==m.type){var v=m,b={};l(v)?((0,s.setStyleProp)(v.attribs.style,v.attribs),b=v.attribs):v.attribs&&(b=(0,i.default)(v.attribs,v.name));var _=void 0;switch(m.type){case"script":case"style":m.children[0]&&(b.dangerouslySetInnerHTML={__html:m.children[0].data});break;case"tag":"textarea"===m.name&&m.children[0]?b.defaultValue=m.children[0].data:m.children&&m.children.length&&(_=e(m.children,n));break;default:continue}f>1&&(b.key=g),r.push(c(p(m.name,b,_),m,g))}else{var E=!m.data.trim().length;if(E&&m.parent&&!(0,s.canTextBeChildOfNode)(m.parent))continue;if(n.trim&&E)continue;r.push(c(m.data,m,g))}}return 1===r.length?r[0]:r};var o=n(9155),i=r(n(4193)),s=n(9523),a={cloneElement:o.cloneElement,createElement:o.createElement,isValidElement:o.isValidElement};function l(e){return s.PRESERVE_CUSTOM_ATTRIBUTES&&"tag"===e.type&&(0,s.isCustomComponent)(e.name,e.attribs)}},9907:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.htmlToDOM=t.domToReact=t.attributesToProps=t.Text=t.ProcessingInstruction=t.Element=t.Comment=void 0,t.default=function(e,t){if("string"!=typeof e)throw new TypeError("First argument must be a string");return e?(0,s.default)((0,o.default)(e,(null==t?void 0:t.htmlparser2)||l),t):[]};var o=r(n(9072));t.htmlToDOM=o.default;var i=r(n(4193));t.attributesToProps=i.default;var s=r(n(9471));t.domToReact=s.default;var a=n(5259);Object.defineProperty(t,"Comment",{enumerable:!0,get:function(){return a.Comment}}),Object.defineProperty(t,"Element",{enumerable:!0,get:function(){return a.Element}}),Object.defineProperty(t,"ProcessingInstruction",{enumerable:!0,get:function(){return a.ProcessingInstruction}}),Object.defineProperty(t,"Text",{enumerable:!0,get:function(){return a.Text}});var l={lowerCaseAttributeNames:!1}},9523:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.returnFirstArg=t.canTextBeChildOfNode=t.ELEMENTS_WITH_NO_TEXT_CHILDREN=t.PRESERVE_CUSTOM_ATTRIBUTES=void 0,t.isCustomComponent=function(e,t){return e.includes("-")?!s.has(e):Boolean(t&&"string"==typeof t.is)},t.setStyleProp=function(e,t){if("string"==typeof e)if(e.trim())try{t.style=(0,i.default)(e,a)}catch(e){t.style={}}else t.style={}};var o=n(9155),i=r(n(1020)),s=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]),a={reactCompat:!0};t.PRESERVE_CUSTOM_ATTRIBUTES=Number(o.version.split(".")[0])>=16,t.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]),t.canTextBeChildOfNode=function(e){return!t.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(e.name)},t.returnFirstArg=function(e){return e}},5259:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var i=n(3338),s=n(8123);o(n(8123),t);var a={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},l=function(){function e(e,t,n){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof t&&(n=t,t=a),"object"==typeof e&&(t=e,e=void 0),this.callback=null!=e?e:null,this.options=null!=t?t:a,this.elementCB=null!=n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new s.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?i.ElementType.Tag:void 0,r=new s.Element(e,t,void 0,n);this.addNode(r),this.tagStack.push(r)},e.prototype.ontext=function(e){var t=this.lastNode;if(t&&t.type===i.ElementType.Text)t.data+=e,this.options.withEndIndices&&(t.endIndex=this.parser.endIndex);else{var n=new s.Text(e);this.addNode(n),this.lastNode=n}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===i.ElementType.Comment)this.lastNode.data+=e;else{var t=new s.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new s.Text(""),t=new s.CDATA([e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new s.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"==typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=l,t.default=l},8123:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.CDATA=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var s=n(3338),a=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),w(this,e)},e}();t.Node=a;var l=function(e){function t(t){var n=e.call(this)||this;return n.data=t,n}return o(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(a);t.DataNode=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Text,t}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(l);t.Text=c;var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Comment,t}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(l);t.Comment=u;var h=function(e){function t(t,n){var r=e.call(this,n)||this;return r.name=t,r.type=s.ElementType.Directive,r}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(l);t.ProcessingInstruction=h;var p=function(e){function t(t){var n=e.call(this)||this;return n.children=t,n}return o(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(a);t.NodeWithChildren=p;var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.CDATA,t}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}(p);t.CDATA=d;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=s.ElementType.Root,t}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}(p);t.Document=f;var g=function(e){function t(t,n,r,o){void 0===r&&(r=[]),void 0===o&&(o="script"===t?s.ElementType.Script:"style"===t?s.ElementType.Style:s.ElementType.Tag);var i=e.call(this,r)||this;return i.name=t,i.attribs=n,i.type=o,i}return o(t,e),Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,r;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(r=e["x-attribsPrefix"])||void 0===r?void 0:r[t]}}))},enumerable:!1,configurable:!0}),t}(p);function m(e){return(0,s.isTag)(e)}function y(e){return e.type===s.ElementType.CDATA}function v(e){return e.type===s.ElementType.Text}function b(e){return e.type===s.ElementType.Comment}function _(e){return e.type===s.ElementType.Directive}function E(e){return e.type===s.ElementType.Root}function w(e,t){var n;if(void 0===t&&(t=!1),v(e))n=new c(e.data);else if(b(e))n=new u(e.data);else if(m(e)){var r=t?T(e.children):[],o=new g(e.name,i({},e.attribs),r);r.forEach((function(e){return e.parent=o})),null!=e.namespace&&(o.namespace=e.namespace),e["x-attribsNamespace"]&&(o["x-attribsNamespace"]=i({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(o["x-attribsPrefix"]=i({},e["x-attribsPrefix"])),n=o}else if(y(e)){r=t?T(e.children):[];var s=new d(r);r.forEach((function(e){return e.parent=s})),n=s}else if(E(e)){r=t?T(e.children):[];var a=new f(r);r.forEach((function(e){return e.parent=a})),e["x-mode"]&&(a["x-mode"]=e["x-mode"]),n=a}else{if(!_(e))throw new Error("Not implemented yet: ".concat(e.type));var l=new h(e.name,e.data);null!=e["x-name"]&&(l["x-name"]=e["x-name"],l["x-publicId"]=e["x-publicId"],l["x-systemId"]=e["x-systemId"]),n=l}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function T(e){for(var t=e.map((function(e){return w(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=g,t.isTag=m,t.isCDATA=y,t.isText=v,t.isComment=b,t.isDirective=_,t.isDocument=E,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=w},5937:e=>{var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=/\n/g,r=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,l=/^\s+|\s+$/g,c="";function u(e){return e?e.replace(l,c):c}e.exports=function(e,l){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];l=l||{};var h=1,p=1;function d(e){var t=e.match(n);t&&(h+=t.length);var r=e.lastIndexOf("\n");p=~r?e.length-r:p+e.length}function f(){var e={line:h,column:p};return function(t){return t.position=new g(e),b(),t}}function g(e){this.start=e,this.end={line:h,column:p},this.source=l.source}g.prototype.content=e;var m=[];function y(t){var n=new Error(l.source+":"+h+":"+p+": "+t);if(n.reason=t,n.filename=l.source,n.line=h,n.column=p,n.source=e,!l.silent)throw n;m.push(n)}function v(t){var n=t.exec(e);if(n){var r=n[0];return d(r),e=e.slice(r.length),n}}function b(){v(r)}function _(e){var t;for(e=e||[];t=E();)!1!==t&&e.push(t);return e}function E(){var t=f();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var n=2;c!=e.charAt(n)&&("*"!=e.charAt(n)||"/"!=e.charAt(n+1));)++n;if(n+=2,c===e.charAt(n-1))return y("End of comment missing");var r=e.slice(2,n-2);return p+=2,d(r),e=e.slice(n),p+=2,t({type:"comment",comment:r})}}function w(){var e=f(),n=v(o);if(n){if(E(),!v(i))return y("property missing ':'");var r=v(s),l=e({type:"declaration",property:u(n[0].replace(t,c)),value:r?u(r[0].replace(t,c)):c});return v(a),l}}return b(),function(){var e,t=[];for(_(t);e=w();)!1!==e&&(t.push(e),_(t));return t}()}},3917:(e,t,n)=>{e.exports=function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){if(i)return i(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){return o(t[s][1][e]||e)}),c,c.exports,e,t,n,r)}return n[s].exports}for(var i=void 0,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,r){(function(e){"use strict";var n,r,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var i=0,s=new o(u),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=i=++i%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){u(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(u,0)};else{var l=new e.MessageChannel;l.port1.onmessage=u,n=function(){l.port2.postMessage(0)}}var c=[];function u(){var e,t;r=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}r=!1}t.exports=function(e){1!==c.push(e)||r||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,n){"use strict";var r=e(1);function o(){}var i={},s=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==o&&d(this,e)}function u(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){r((function(){var r;try{r=t(n)}catch(t){return i.reject(e,t)}r===e?i.reject(e,new TypeError("Cannot resolve promise with itself")):i.resolve(e,r)}))}function p(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var n=!1;function r(t){n||(n=!0,i.reject(e,t))}function o(t){n||(n=!0,i.resolve(e,t))}var s=f((function(){t(o,r)}));"error"===s.status&&r(s.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}t.exports=c,c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(o);return this.state!==l?h(n,this.state===a?e:t,this.outcome):this.queue.push(new u(n,e,t)),n},u.prototype.callFulfilled=function(e){i.resolve(this.promise,e)},u.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},u.prototype.callRejected=function(e){i.reject(this.promise,e)},u.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},i.resolve=function(e,t){var n=f(p,t);if("error"===n.status)return i.reject(e,n.value);var r=n.value;if(r)d(e,r);else{e.state=a,e.outcome=t;for(var o=-1,s=e.queue.length;++o<s;)e.queue[o].callFulfilled(t)}return e},i.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:i.resolve(new this(o),e)},c.reject=function(e){var t=new this(o);return i.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,l=-1,c=new this(o);++l<n;)u(e[l],l);return c;function u(e,o){t.resolve(e).then((function(e){s[o]=e,++a!==n||r||(r=!0,i.resolve(c,s))}),(function(e){r||(r=!0,i.reject(c,e))}))}},c.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n,r=e.length,s=!1;if(!r)return this.resolve([]);for(var a=-1,l=new this(o);++a<r;)n=e[a],t.resolve(n).then((function(e){s||(s=!0,i.resolve(l,e))}),(function(e){s||(s=!0,i.reject(l,e))}));return l}},{1:1}],3:[function(e,t,r){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function i(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),r=0;r<e.length;r+=1)n.append(e[r]);return n.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var s=Promise;function a(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function l(e,t,n){"function"==typeof t&&e.then(t),"function"==typeof n&&e.catch(n)}function c(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function u(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",p=void 0,d={},f=Object.prototype.toString,g="readonly",m="readwrite";function y(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=0;o<t;o++)r[o]=e.charCodeAt(o);return n}function v(e){return"boolean"==typeof p?s.resolve(p):function(e){return new s((function(t){var n=e.transaction(h,m),r=i([""]);n.objectStore(h).put(r,"key"),n.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},n.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return p=e}))}function b(e){var t=d[e.name],n={};n.promise=new s((function(e,t){n.resolve=e,n.reject=t})),t.deferredOperations.push(n),t.dbReady?t.dbReady=t.dbReady.then((function(){return n.promise})):t.dbReady=n.promise}function _(e){var t=d[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function E(e,t){var n=d[e.name].deferredOperations.pop();if(n)return n.reject(t),n.promise}function w(e,t){return new s((function(n,r){if(d[e.name]=d[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return n(e.db);b(e),e.db.close()}var i=[e.name];t&&i.push(e.version);var s=o.open.apply(o,i);t&&(s.onupgradeneeded=function(t){var n=s.result;try{n.createObjectStore(e.storeName),t.oldVersion<=1&&n.createObjectStore(h)}catch(n){if("ConstraintError"!==n.name)throw n;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),s.onerror=function(e){e.preventDefault(),r(s.error)},s.onsuccess=function(){var t=s.result;t.onversionchange=function(e){e.target.close()},n(t),_(e)}}))}function T(e){return w(e,!1)}function k(e){return w(e,!0)}function S(e,t){if(!e.db)return!0;var n=!e.db.objectStoreNames.contains(e.storeName),r=e.version<e.db.version,o=e.version>e.db.version;if(r&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||n){if(n){var i=e.db.version+1;i>e.version&&(e.version=i)}return!0}return!1}function C(e){return i([y(atob(e.data))],{type:e.type})}function O(e){return e&&e.__local_forage_encoded_blob}function I(e){var t=this,n=t._initReady().then((function(){var e=d[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return l(n,e,e),n}function x(e,t,n,r){void 0===r&&(r=1);try{var o=e.db.transaction(e.storeName,t);n(null,o)}catch(o){if(r>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return s.resolve().then((function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),k(e)})).then((function(){return function(e){b(e);for(var t=d[e.name],n=t.forages,r=0;r<n.length;r++){var o=n[r];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,T(e).then((function(t){return e.db=t,S(e)?k(e):t})).then((function(r){e.db=t.db=r;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=r})).catch((function(t){throw E(e,t),t}))}(e).then((function(){x(e,t,n,r-1)}))})).catch(n);n(o)}}var R={_driver:"asyncStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]=e[r];var o=d[n.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},d[n.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=I);var i=[];function a(){return s.resolve()}for(var l=0;l<o.forages.length;l++){var c=o.forages[l];c!==t&&i.push(c._initReady().catch(a))}var u=o.forages.slice(0);return s.all(i).then((function(){return n.db=o.db,T(n)})).then((function(e){return n.db=e,S(n,t._defaultConfig.version)?k(n):e})).then((function(e){n.db=o.db=e,t._dbInfo=n;for(var r=0;r<u.length;r++){var i=u[r];i!==t&&(i._dbInfo.db=n.db,i._dbInfo.version=n.version)}}))},_support:function(){try{if(!o||!o.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=new s((function(t,r){n.ready().then((function(){x(n._dbInfo,g,(function(o,i){if(o)return r(o);try{var s=i.objectStore(n._dbInfo.storeName).openCursor(),a=1;s.onsuccess=function(){var n=s.result;if(n){var r=n.value;O(r)&&(r=C(r));var o=e(r,n.key,a++);void 0!==o?t(o):n.continue()}else t()},s.onerror=function(){r(s.error)}}catch(e){r(e)}}))})).catch(r)}));return a(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=new s((function(t,r){n.ready().then((function(){x(n._dbInfo,g,(function(o,i){if(o)return r(o);try{var s=i.objectStore(n._dbInfo.storeName).get(e);s.onsuccess=function(){var e=s.result;void 0===e&&(e=null),O(e)&&(e=C(e)),t(e)},s.onerror=function(){r(s.error)}}catch(e){r(e)}}))})).catch(r)}));return a(r,t),r},setItem:function(e,t,n){var r=this;e=c(e);var o=new s((function(n,o){var i;r.ready().then((function(){return i=r._dbInfo,"[object Blob]"===f.call(t)?v(i.db).then((function(e){return e?t:(n=t,new s((function(e,t){var r=new FileReader;r.onerror=t,r.onloadend=function(t){var r=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:r,type:n.type})},r.readAsBinaryString(n)})));var n})):t})).then((function(t){x(r._dbInfo,m,(function(i,s){if(i)return o(i);try{var a=s.objectStore(r._dbInfo.storeName);null===t&&(t=void 0);var l=a.put(t,e);s.oncomplete=function(){void 0===t&&(t=null),n(t)},s.onabort=s.onerror=function(){var e=l.error?l.error:l.transaction.error;o(e)}}catch(e){o(e)}}))})).catch(o)}));return a(o,n),o},removeItem:function(e,t){var n=this;e=c(e);var r=new s((function(t,r){n.ready().then((function(){x(n._dbInfo,m,(function(o,i){if(o)return r(o);try{var s=i.objectStore(n._dbInfo.storeName).delete(e);i.oncomplete=function(){t()},i.onerror=function(){r(s.error)},i.onabort=function(){var e=s.error?s.error:s.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return a(r,t),r},clear:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){x(t._dbInfo,m,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=i.error?i.error:i.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return a(n,e),n},length:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){x(t._dbInfo,g,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).count();i.onsuccess=function(){e(i.result)},i.onerror=function(){n(i.error)}}catch(e){n(e)}}))})).catch(n)}));return a(n,e),n},key:function(e,t){var n=this,r=new s((function(t,r){e<0?t(null):n.ready().then((function(){x(n._dbInfo,g,(function(o,i){if(o)return r(o);try{var s=i.objectStore(n._dbInfo.storeName),a=!1,l=s.openKeyCursor();l.onsuccess=function(){var n=l.result;n?0===e||a?t(n.key):(a=!0,n.advance(e)):t(null)},l.onerror=function(){r(l.error)}}catch(e){r(e)}}))})).catch(r)}));return a(r,t),r},keys:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){x(t._dbInfo,g,(function(r,o){if(r)return n(r);try{var i=o.objectStore(t._dbInfo.storeName).openKeyCursor(),s=[];i.onsuccess=function(){var t=i.result;t?(s.push(t.key),t.continue()):e(s)},i.onerror=function(){n(i.error)}}catch(e){n(e)}}))})).catch(n)}));return a(n,e),n},dropInstance:function(e,t){t=u.apply(this,arguments);var n,r=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName),e.name){var i=e.name===r.name&&this._dbInfo.db?s.resolve(this._dbInfo.db):T(e).then((function(t){var n=d[e.name],r=n.forages;n.db=t;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=t;return t}));n=e.storeName?i.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var n=t.version+1;b(e);var r=d[e.name],i=r.forages;t.close();for(var a=0;a<i.length;a++){var l=i[a];l._dbInfo.db=null,l._dbInfo.version=n}var c=new s((function(t,r){var i=o.open(e.name,n);i.onerror=function(e){i.result.close(),r(e)},i.onupgradeneeded=function(){i.result.deleteObjectStore(e.storeName)},i.onsuccess=function(){var e=i.result;e.close(),t(e)}}));return c.then((function(e){r.db=e;for(var t=0;t<i.length;t++){var n=i[t];n._dbInfo.db=e,_(n._dbInfo)}})).catch((function(t){throw(E(e,t)||s.resolve()).catch((function(){})),t}))}})):i.then((function(t){b(e);var n=d[e.name],r=n.forages;t.close();for(var i=0;i<r.length;i++)r[i]._dbInfo.db=null;var a=new s((function(t,n){var r=o.deleteDatabase(e.name);r.onerror=function(){var e=r.result;e&&e.close(),n(r.error)},r.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},r.onsuccess=function(){var e=r.result;e&&e.close(),t(e)}}));return a.then((function(e){n.db=e;for(var t=0;t<r.length;t++)_(r[t]._dbInfo)})).catch((function(t){throw(E(e,t)||s.resolve()).catch((function(){})),t}))}))}else n=s.reject("Invalid arguments");return a(n,t),n}};var N="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=/^~~local_forage_type~([^~]+)~/,$="__lfsc__:",D="arbf",M="blob",P="si08",L="ui08",B="uic8",F="si16",j="si32",U="ur16",H="ui32",V="fl32",W="fl64",G=Object.prototype.toString;function z(e){var t,n,r,o,i,s=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c=new ArrayBuffer(s),u=new Uint8Array(c);for(t=0;t<a;t+=4)n=N.indexOf(e[t]),r=N.indexOf(e[t+1]),o=N.indexOf(e[t+2]),i=N.indexOf(e[t+3]),u[l++]=n<<2|r>>4,u[l++]=(15&r)<<4|o>>2,u[l++]=(3&o)<<6|63&i;return c}function q(e){var t,n=new Uint8Array(e),r="";for(t=0;t<n.length;t+=3)r+=N[n[t]>>2],r+=N[(3&n[t])<<4|n[t+1]>>4],r+=N[(15&n[t+1])<<2|n[t+2]>>6],r+=N[63&n[t+2]];return n.length%3==2?r=r.substring(0,r.length-1)+"=":n.length%3==1&&(r=r.substring(0,r.length-2)+"=="),r}var Y={serialize:function(e,t){var n="";if(e&&(n=G.call(e)),e&&("[object ArrayBuffer]"===n||e.buffer&&"[object ArrayBuffer]"===G.call(e.buffer))){var r,o=$;e instanceof ArrayBuffer?(r=e,o+=D):(r=e.buffer,"[object Int8Array]"===n?o+=P:"[object Uint8Array]"===n?o+=L:"[object Uint8ClampedArray]"===n?o+=B:"[object Int16Array]"===n?o+=F:"[object Uint16Array]"===n?o+=U:"[object Int32Array]"===n?o+=j:"[object Uint32Array]"===n?o+=H:"[object Float32Array]"===n?o+=V:"[object Float64Array]"===n?o+=W:t(new Error("Failed to get type for BinaryArray"))),t(o+q(r))}else if("[object Blob]"===n){var i=new FileReader;i.onload=function(){var n="~~local_forage_type~"+e.type+"~"+q(this.result);t($+M+n)},i.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(n){console.error("Couldn't convert value into a JSON string: ",e),t(null,n)}},deserialize:function(e){if(e.substring(0,9)!==$)return JSON.parse(e);var t,n=e.substring(13),r=e.substring(9,13);if(r===M&&A.test(n)){var o=n.match(A);t=o[1],n=n.substring(o[0].length)}var s=z(n);switch(r){case D:return s;case M:return i([s],{type:t});case P:return new Int8Array(s);case L:return new Uint8Array(s);case B:return new Uint8ClampedArray(s);case F:return new Int16Array(s);case U:return new Uint16Array(s);case j:return new Int32Array(s);case H:return new Uint32Array(s);case V:return new Float32Array(s);case W:return new Float64Array(s);default:throw new Error("Unkown type: "+r)}},stringToBuffer:z,bufferToString:q};function X(e,t,n,r){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],n,r)}function K(e,t,n,r,o,i){e.executeSql(n,r,o,(function(e,s){s.code===s.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,a){a.rows.length?i(e,s):X(e,t,(function(){e.executeSql(n,r,o,i)}),i)}),i):i(e,s)}),i)}function J(e,t,n,r){var o=this;e=c(e);var i=new s((function(i,s){o.ready().then((function(){void 0===t&&(t=null);var a=t,l=o._dbInfo;l.serializer.serialize(t,(function(t,c){c?s(c):l.db.transaction((function(n){K(n,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){i(a)}),(function(e,t){s(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(r>0)return void i(J.apply(o,[e,a,n,r-1]));s(t)}}))}))})).catch(s)}));return a(i,n),i}var Z={_driver:"webSQLStorage",_initStorage:function(e){var t=this,n={db:null};if(e)for(var r in e)n[r]="string"!=typeof e[r]?e[r].toString():e[r];var o=new s((function(e,r){try{n.db=openDatabase(n.name,String(n.version),n.description,n.size)}catch(e){return r(e)}n.db.transaction((function(o){X(o,n,(function(){t._dbInfo=n,e()}),(function(e,t){r(t)}))}),r)}));return n.serializer=Y,o},_support:"function"==typeof openDatabase,iterate:function(e,t){var n=this,r=new s((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){K(n,o,"SELECT * FROM "+o.storeName,[],(function(n,r){for(var i=r.rows,s=i.length,a=0;a<s;a++){var l=i.item(a),c=l.value;if(c&&(c=o.serializer.deserialize(c)),void 0!==(c=e(c,l.key,a+1)))return void t(c)}t()}),(function(e,t){r(t)}))}))})).catch(r)}));return a(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=new s((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){K(n,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,n){var r=n.rows.length?n.rows.item(0).value:null;r&&(r=o.serializer.deserialize(r)),t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return a(r,t),r},setItem:function(e,t,n){return J.apply(this,[e,t,n,1])},removeItem:function(e,t){var n=this;e=c(e);var r=new s((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){K(n,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){r(t)}))}))})).catch(r)}));return a(r,t),r},clear:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){K(t,r,"DELETE FROM "+r.storeName,[],(function(){e()}),(function(e,t){n(t)}))}))})).catch(n)}));return a(n,e),n},length:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){K(t,r,"SELECT COUNT(key) as c FROM "+r.storeName,[],(function(t,n){var r=n.rows.item(0).c;e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return a(n,e),n},key:function(e,t){var n=this,r=new s((function(t,r){n.ready().then((function(){var o=n._dbInfo;o.db.transaction((function(n){K(n,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,n){var r=n.rows.length?n.rows.item(0).key:null;t(r)}),(function(e,t){r(t)}))}))})).catch(r)}));return a(r,t),r},keys:function(e){var t=this,n=new s((function(e,n){t.ready().then((function(){var r=t._dbInfo;r.db.transaction((function(t){K(t,r,"SELECT key FROM "+r.storeName,[],(function(t,n){for(var r=[],o=0;o<n.rows.length;o++)r.push(n.rows.item(o).key);e(r)}),(function(e,t){n(t)}))}))})).catch(n)}));return a(n,e),n},dropInstance:function(e,t){t=u.apply(this,arguments);var n=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName);var r,o=this;return a(r=e.name?new s((function(t){var r;r=e.name===n.name?o._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:r,storeNames:[e.storeName]}):t(function(e){return new s((function(t,n){e.transaction((function(r){r.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(n,r){for(var o=[],i=0;i<r.rows.length;i++)o.push(r.rows.item(i).name);t({db:e,storeNames:o})}),(function(e,t){n(t)}))}),(function(e){n(e)}))}))}(r))})).then((function(e){return new s((function(t,n){e.db.transaction((function(r){function o(e){return new s((function(t,n){r.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){n(t)}))}))}for(var i=[],a=0,l=e.storeNames.length;a<l;a++)i.push(o(e.storeNames[a]));s.all(i).then((function(){t()})).catch((function(e){n(e)}))}),(function(e){n(e)}))}))})):s.reject("Invalid arguments"),t),r}};function Q(e,t){var n=e.name+"/";return e.storeName!==t.storeName&&(n+=e.storeName+"/"),n}function ee(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}var te={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var n in e)t[n]=e[n];return t.keyPrefix=Q(e,this._defaultConfig),ee()?(this._dbInfo=t,t.serializer=Y,s.resolve()):s.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var n=this,r=n.ready().then((function(){for(var t=n._dbInfo,r=t.keyPrefix,o=r.length,i=localStorage.length,s=1,a=0;a<i;a++){var l=localStorage.key(a);if(0===l.indexOf(r)){var c=localStorage.getItem(l);if(c&&(c=t.serializer.deserialize(c)),void 0!==(c=e(c,l.substring(o),s++)))return c}}}));return a(r,t),r},getItem:function(e,t){var n=this;e=c(e);var r=n.ready().then((function(){var t=n._dbInfo,r=localStorage.getItem(t.keyPrefix+e);return r&&(r=t.serializer.deserialize(r)),r}));return a(r,t),r},setItem:function(e,t,n){var r=this;e=c(e);var o=r.ready().then((function(){void 0===t&&(t=null);var n=t;return new s((function(o,i){var s=r._dbInfo;s.serializer.serialize(t,(function(t,r){if(r)i(r);else try{localStorage.setItem(s.keyPrefix+e,t),o(n)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||i(e),i(e)}}))}))}));return a(o,n),o},removeItem:function(e,t){var n=this;e=c(e);var r=n.ready().then((function(){var t=n._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return a(r,t),r},clear:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,n=localStorage.length-1;n>=0;n--){var r=localStorage.key(n);0===r.indexOf(e)&&localStorage.removeItem(r)}}));return a(n,e),n},length:function(e){var t=this.keys().then((function(e){return e.length}));return a(t,e),t},key:function(e,t){var n=this,r=n.ready().then((function(){var t,r=n._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(r.keyPrefix.length)),t}));return a(r,t),r},keys:function(e){var t=this,n=t.ready().then((function(){for(var e=t._dbInfo,n=localStorage.length,r=[],o=0;o<n;o++){var i=localStorage.key(o);0===i.indexOf(e.keyPrefix)&&r.push(i.substring(e.keyPrefix.length))}return r}));return a(n,e),n},dropInstance:function(e,t){if(t=u.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var n=this.config();e.name=e.name||n.name,e.storeName=e.storeName||n.storeName}var r,o=this;return r=e.name?new s((function(t){e.storeName?t(Q(e,o._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var n=localStorage.key(t);0===n.indexOf(e)&&localStorage.removeItem(n)}})):s.reject("Invalid arguments"),a(r,t),r}},ne=function(e,t){for(var n=e.length,r=0;r<n;){if((o=e[r])===(i=t)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;r++}var o,i;return!1},re=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},oe={},ie={},se={INDEXEDDB:R,WEBSQL:Z,LOCALSTORAGE:te},ae=[se.INDEXEDDB._driver,se.WEBSQL._driver,se.LOCALSTORAGE._driver],le=["dropInstance"],ce=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(le),ue={description:"",driver:ae.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function he(e,t){e[t]=function(){var n=arguments;return e.ready().then((function(){return e[t].apply(e,n)}))}}function pe(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var n in t)t.hasOwnProperty(n)&&(re(t[n])?arguments[0][n]=t[n].slice():arguments[0][n]=t[n])}return arguments[0]}var de=function(){function e(t){for(var n in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),se)if(se.hasOwnProperty(n)){var r=se[n],o=r._driver;this[n]=o,oe[o]||this.defineDriver(r)}this._defaultConfig=pe({},ue),this._config=pe({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":r(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,n){var r=new s((function(t,n){try{var r=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void n(o);for(var i=ce.concat("_initStorage"),l=0,c=i.length;l<c;l++){var u=i[l];if((!ne(le,u)||e[u])&&"function"!=typeof e[u])return void n(o)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),n=s.reject(t);return a(n,arguments[arguments.length-1]),n}},n=0,r=le.length;n<r;n++){var o=le[n];e[o]||(e[o]=t(o))}}();var h=function(n){oe[r]&&console.info("Redefining LocalForage driver: "+r),oe[r]=e,ie[r]=n,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(h,n):h(!!e._support):h(!0)}catch(e){n(e)}}));return l(r,t,n),r},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,n){var r=oe[e]?s.resolve(oe[e]):s.reject(new Error("Driver not found."));return l(r,t,n),r},e.prototype.getSerializer=function(e){var t=s.resolve(Y);return l(t,e),t},e.prototype.ready=function(e){var t=this,n=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return l(n,e,e),n},e.prototype.setDriver=function(e,t,n){var r=this;re(e)||(e=[e]);var o=this._getSupportedDrivers(e);function i(){r._config.driver=r.driver()}function a(e){return r._extend(e),i(),r._ready=r._initStorage(r._config),r._ready}var c=null!==this._driverSet?this._driverSet.catch((function(){return s.resolve()})):s.resolve();return this._driverSet=c.then((function(){var e=o[0];return r._dbInfo=null,r._ready=null,r.getDriver(e).then((function(e){r._driver=e._driver,i(),r._wrapLibraryMethodsWithReady(),r._initDriver=function(e){return function(){var t=0;return function n(){for(;t<e.length;){var o=e[t];return t++,r._dbInfo=null,r._ready=null,r.getDriver(o).then(a).catch(n)}i();var l=new Error("No available storage method found.");return r._driverSet=s.reject(l),r._driverSet}()}}(o)}))})).catch((function(){i();var e=new Error("No available storage method found.");return r._driverSet=s.reject(e),r._driverSet})),l(this._driverSet,t,n),this._driverSet},e.prototype.supports=function(e){return!!ie[e]},e.prototype._extend=function(e){pe(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=ce.length;e<t;e++)he(this,ce[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),fe=new de;t.exports=fe},{3:3}]},{},[4])(4)},72:(e,t,n)=>{var r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,a=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,u=l||c||Function("return this")(),h=Object.prototype.toString,p=Math.max,d=Math.min,f=function(){return u.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==h.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=i.test(e);return n||s.test(e)?a(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r,o,i,s,a,l,c=0,u=!1,h=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=r,i=o;return r=o=void 0,c=t,s=e.apply(i,n)}function b(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-c>=i}function _(){var e=f();if(b(e))return E(e);a=setTimeout(_,function(e){var n=t-(e-l);return h?d(n,i-(e-c)):n}(e))}function E(e){return a=void 0,y&&r?v(e):(r=o=void 0,s)}function w(){var e=f(),n=b(e);if(r=arguments,o=this,l=e,n){if(void 0===a)return function(e){return c=e,a=setTimeout(_,t),u?v(e):s}(l);if(h)return a=setTimeout(_,t),v(l)}return void 0===a&&(a=setTimeout(_,t)),s}return t=m(t)||0,g(n)&&(u=!!n.leading,i=(h="maxWait"in n)?p(m(n.maxWait)||0,t):i,y="trailing"in n?!!n.trailing:y),w.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=o=a=void 0},w.flush=function(){return void 0===a?s:E(f())},w}},3103:(e,t,n)=>{var r=n(4715)(n(8942),"DataView");e.exports=r},5098:(e,t,n)=>{var r=n(3305),o=n(9361),i=n(1112),s=n(5276),a=n(7452);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=s,l.prototype.set=a,e.exports=l},1386:(e,t,n)=>{var r=n(2393),o=n(2049),i=n(7144),s=n(5071),a=n(3964);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=s,l.prototype.set=a,e.exports=l},9770:(e,t,n)=>{var r=n(4715)(n(8942),"Map");e.exports=r},8250:(e,t,n)=>{var r=n(9753),o=n(5681),i=n(88),s=n(4732),a=n(9068);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=s,l.prototype.set=a,e.exports=l},9413:(e,t,n)=>{var r=n(4715)(n(8942),"Promise");e.exports=r},4512:(e,t,n)=>{var r=n(4715)(n(8942),"Set");e.exports=r},3212:(e,t,n)=>{var r=n(8250),o=n(1877),i=n(8006);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=o,s.prototype.has=i,e.exports=s},1340:(e,t,n)=>{var r=n(1386),o=n(4103),i=n(1779),s=n(4162),a=n(7462),l=n(6638);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,e.exports=c},5650:(e,t,n)=>{var r=n(8942).Symbol;e.exports=r},1623:(e,t,n)=>{var r=n(8942).Uint8Array;e.exports=r},9270:(e,t,n)=>{var r=n(4715)(n(8942),"WeakMap");e.exports=r},9847:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var s=e[n];t(s,n,e)&&(i[o++]=s)}return i}},358:(e,t,n)=>{var r=n(6137),o=n(3283),i=n(3142),s=n(5853),a=n(9632),l=n(8666),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&o(e),h=!n&&!u&&s(e),p=!n&&!u&&!h&&l(e),d=n||u||h||p,f=d?r(e.length,String):[],g=f.length;for(var m in e)!t&&!c.call(e,m)||d&&("length"==m||h&&("offset"==m||"parent"==m)||p&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,g))||f.push(m);return f}},5111:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},1129:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},4187:e=>{e.exports=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}},6465:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2837:e=>{e.exports=function(e){return e.split("")}},9546:e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},7034:(e,t,n)=>{var r=n(6285);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},7073:(e,t,n)=>{var r=n(2532);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},5636:(e,t,n)=>{var r=n(6596)();e.exports=r},7170:(e,t,n)=>{var r=n(5636),o=n(1211);e.exports=function(e,t){return e&&r(e,t,o)}},7923:(e,t,n)=>{var r=n(3526),o=n(6040);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},8244:(e,t,n)=>{var r=n(1129),o=n(3142);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},7379:(e,t,n)=>{var r=n(5650),o=n(8870),i=n(9005),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):i(e)}},3599:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e,n){return null!=e&&t.call(e,n)}},3636:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},6027:(e,t,n)=>{var r=n(7379),o=n(547);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},4687:(e,t,n)=>{var r=n(353),o=n(547);e.exports=function e(t,n,i,s,a){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,s,e,a))}},353:(e,t,n)=>{var r=n(1340),o=n(3934),i=n(8861),s=n(1182),a=n(8486),l=n(3142),c=n(5853),u=n(8666),h="[object Arguments]",p="[object Array]",d="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,m,y){var v=l(e),b=l(t),_=v?p:a(e),E=b?p:a(t),w=(_=_==h?d:_)==d,T=(E=E==h?d:E)==d,k=_==E;if(k&&c(e)){if(!c(t))return!1;v=!0,w=!1}if(k&&!w)return y||(y=new r),v||u(e)?o(e,t,n,g,m,y):i(e,t,_,n,g,m,y);if(!(1&n)){var S=w&&f.call(e,"__wrapped__"),C=T&&f.call(t,"__wrapped__");if(S||C){var O=S?e.value():e,I=C?t.value():t;return y||(y=new r),m(O,I,n,g,y)}}return!!k&&(y||(y=new r),s(e,t,n,g,m,y))}},8330:(e,t,n)=>{var r=n(1340),o=n(4687);e.exports=function(e,t,n,i){var s=n.length,a=s,l=!i;if(null==e)return!a;for(e=Object(e);s--;){var c=n[s];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<a;){var u=(c=n[s])[0],h=e[u],p=c[1];if(l&&c[2]){if(void 0===h&&!(u in e))return!1}else{var d=new r;if(i)var f=i(h,p,u,e,t,d);if(!(void 0===f?o(p,h,3,i,d):f))return!1}}return!0}},9624:(e,t,n)=>{var r=n(3655),o=n(4759),i=n(1580),s=n(4066),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,p=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?p:a).test(s(e))}},674:(e,t,n)=>{var r=n(7379),o=n(5387),i=n(547),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!s[r(e)]}},3334:(e,t,n)=>{var r=n(6526),o=n(2343),i=n(2053),s=n(3142),a=n(3282);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?s(e)?o(e[0],e[1]):r(e):a(e)}},195:(e,t,n)=>{var r=n(4882),o=n(8121),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},6526:(e,t,n)=>{var r=n(8330),o=n(4367),i=n(3904);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},2343:(e,t,n)=>{var r=n(4687),o=n(6123),i=n(7276),s=n(5187),a=n(7267),l=n(3904),c=n(6040);e.exports=function(e,t){return s(e)&&a(t)?l(c(e),t):function(n){var s=o(n,e);return void 0===s&&s===t?i(n,e):r(t,s,3)}}},2762:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},8880:(e,t,n)=>{var r=n(7923);e.exports=function(e){return function(t){return r(t,e)}}},1035:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},3501:e=>{e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},6137:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},2291:(e,t,n)=>{var r=n(5650),o=n(5111),i=n(3142),s=n(1187),a=r?r.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(s(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},9460:e=>{e.exports=function(e){return function(t){return e(t)}}},5568:e=>{e.exports=function(e,t){return e.has(t)}},3526:(e,t,n)=>{var r=n(3142),o=n(5187),i=n(6493),s=n(5243);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(s(e))}},8931:(e,t,n)=>{var r=n(3501);e.exports=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}},1950:(e,t,n)=>{var r=n(8942)["__core-js_shared__"];e.exports=r},6596:e=>{e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),s=r(t),a=s.length;a--;){var l=s[e?a:++o];if(!1===n(i[l],l,i))break}return t}}},4326:(e,t,n)=>{var r=n(8931),o=n(3417),i=n(2237),s=n(5243);e.exports=function(e){return function(t){t=s(t);var n=o(t)?i(t):void 0,a=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return a[e]()+l}}},3640:(e,t,n)=>{var r=n(4187),o=n(5881),i=n(9850),s=RegExp("[']","g");e.exports=function(e){return function(t){return r(i(o(t).replace(s,"")),e,"")}}},9968:(e,t,n)=>{var r=n(1035)({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"});e.exports=r},2532:(e,t,n)=>{var r=n(4715),o=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},3934:(e,t,n)=>{var r=n(3212),o=n(6465),i=n(5568);e.exports=function(e,t,n,s,a,l){var c=1&n,u=e.length,h=t.length;if(u!=h&&!(c&&h>u))return!1;var p=l.get(e),d=l.get(t);if(p&&d)return p==t&&d==e;var f=-1,g=!0,m=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++f<u;){var y=e[f],v=t[f];if(s)var b=c?s(v,y,f,t,e,l):s(y,v,f,e,t,l);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!o(t,(function(e,t){if(!i(m,t)&&(y===e||a(y,e,n,s,l)))return m.push(t)}))){g=!1;break}}else if(y!==v&&!a(y,v,n,s,l)){g=!1;break}}return l.delete(e),l.delete(t),g}},8861:(e,t,n)=>{var r=n(5650),o=n(1623),i=n(6285),s=n(3934),a=n(5894),l=n(9828),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,h,p){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!h(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var d=a;case"[object Set]":var f=1&r;if(d||(d=l),e.size!=t.size&&!f)return!1;var g=p.get(e);if(g)return g==t;r|=2,p.set(e,t);var m=s(d(e),d(t),r,c,h,p);return p.delete(e),m;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},1182:(e,t,n)=>{var r=n(393),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,s,a){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var h=u;h--;){var p=c[h];if(!(l?p in t:o.call(t,p)))return!1}var d=a.get(e),f=a.get(t);if(d&&f)return d==t&&f==e;var g=!0;a.set(e,t),a.set(t,e);for(var m=l;++h<u;){var y=e[p=c[h]],v=t[p];if(i)var b=l?i(v,y,p,t,e,a):i(y,v,p,e,t,a);if(!(void 0===b?y===v||s(y,v,n,i,a):b)){g=!1;break}m||(m="constructor"==p)}if(g&&!m){var _=e.constructor,E=t.constructor;_==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof E&&E instanceof E||(g=!1)}return a.delete(e),a.delete(t),g}},4967:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},393:(e,t,n)=>{var r=n(8244),o=n(7979),i=n(1211);e.exports=function(e){return r(e,i,o)}},4700:(e,t,n)=>{var r=n(1448);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},4367:(e,t,n)=>{var r=n(7267),o=n(1211);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],s=e[i];t[n]=[i,s,r(s)]}return t}},4715:(e,t,n)=>{var r=n(9624),o=n(155);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},8870:(e,t,n)=>{var r=n(5650),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(e){}var o=s.call(e);return r&&(t?e[a]=n:delete e[a]),o}},7979:(e,t,n)=>{var r=n(9847),o=n(9306),i=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return i.call(e,t)})))}:o;e.exports=a},8486:(e,t,n)=>{var r=n(3103),o=n(9770),i=n(9413),s=n(4512),a=n(9270),l=n(7379),c=n(4066),u="[object Map]",h="[object Promise]",p="[object Set]",d="[object WeakMap]",f="[object DataView]",g=c(r),m=c(o),y=c(i),v=c(s),b=c(a),_=l;(r&&_(new r(new ArrayBuffer(1)))!=f||o&&_(new o)!=u||i&&_(i.resolve())!=h||s&&_(new s)!=p||a&&_(new a)!=d)&&(_=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case g:return f;case m:return u;case y:return h;case v:return p;case b:return d}return t}),e.exports=_},155:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},5899:(e,t,n)=>{var r=n(3526),o=n(3283),i=n(3142),s=n(9632),a=n(5387),l=n(6040);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,h=!1;++c<u;){var p=l(t[c]);if(!(h=null!=e&&n(e,p)))break;e=e[p]}return h||++c!=u?h:!!(u=null==e?0:e.length)&&a(u)&&s(p,u)&&(i(e)||o(e))}},3417:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},5813:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},3305:(e,t,n)=>{var r=n(4497);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},9361:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},1112:(e,t,n)=>{var r=n(4497),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},5276:(e,t,n)=>{var r=n(4497),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},7452:(e,t,n)=>{var r=n(4497);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},9632:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5187:(e,t,n)=>{var r=n(3142),o=n(1187),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||s.test(e)||!i.test(e)||null!=t&&e in Object(t)}},1448:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},4759:(e,t,n)=>{var r,o=n(1950),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},4882:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},7267:(e,t,n)=>{var r=n(1580);e.exports=function(e){return e==e&&!r(e)}},2393:e=>{e.exports=function(){this.__data__=[],this.size=0}},2049:(e,t,n)=>{var r=n(7034),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},7144:(e,t,n)=>{var r=n(7034);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},5071:(e,t,n)=>{var r=n(7034);e.exports=function(e){return r(this.__data__,e)>-1}},3964:(e,t,n)=>{var r=n(7034);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},9753:(e,t,n)=>{var r=n(5098),o=n(1386),i=n(9770);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},5681:(e,t,n)=>{var r=n(4700);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},88:(e,t,n)=>{var r=n(4700);e.exports=function(e){return r(this,e).get(e)}},4732:(e,t,n)=>{var r=n(4700);e.exports=function(e){return r(this,e).has(e)}},9068:(e,t,n)=>{var r=n(4700);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},5894:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},3904:e=>{e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},6853:(e,t,n)=>{var r=n(9011);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},4497:(e,t,n)=>{var r=n(4715)(Object,"create");e.exports=r},8121:(e,t,n)=>{var r=n(3766)(Object.keys,Object);e.exports=r},2306:(e,t,n)=>{e=n.nmd(e);var r=n(4967),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,s=i&&i.exports===o&&r.process,a=function(){try{return i&&i.require&&i.require("util").types||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a},9005:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},3766:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},8942:(e,t,n)=>{var r=n(4967),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},1877:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},8006:e=>{e.exports=function(e){return this.__data__.has(e)}},9828:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},4103:(e,t,n)=>{var r=n(1386);e.exports=function(){this.__data__=new r,this.size=0}},1779:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},4162:e=>{e.exports=function(e){return this.__data__.get(e)}},7462:e=>{e.exports=function(e){return this.__data__.has(e)}},6638:(e,t,n)=>{var r=n(1386),o=n(9770),i=n(8250);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!o||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(e,t),this.size=n.size,this}},2237:(e,t,n)=>{var r=n(2837),o=n(3417),i=n(2013);e.exports=function(e){return o(e)?i(e):r(e)}},6493:(e,t,n)=>{var r=n(6853),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=s},6040:(e,t,n)=>{var r=n(1187);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},4066:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},2013:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^"+t+"]",s="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+o+")?",c="[\\ufe0e\\ufe0f]?",u=c+l+"(?:\\u200d(?:"+[i,s,a].join("|")+")"+c+l+")*",h="(?:"+[i+r+"?",r,s,a,n].join("|")+")",p=RegExp(o+"(?="+o+")|"+h+u,"g");e.exports=function(e){return e.match(p)||[]}},482:e=>{var t="\\ud800-\\udfff",n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",o="A-Z\\xc0-\\xd6\\xd8-\\xde",i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",s="["+i+"]",a="\\d+",l="["+n+"]",c="["+r+"]",u="[^"+t+i+a+n+r+o+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",d="["+o+"]",f="(?:"+c+"|"+u+")",g="(?:"+d+"|"+u+")",m="(?:['](?:d|ll|m|re|s|t|ve))?",y="(?:['](?:D|LL|M|RE|S|T|VE))?",v="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",b="[\\ufe0e\\ufe0f]?",_=b+v+"(?:\\u200d(?:"+["[^"+t+"]",h,p].join("|")+")"+b+v+")*",E="(?:"+[l,h,p].join("|")+")"+_,w=RegExp([d+"?"+c+"+"+m+"(?="+[s,d,"$"].join("|")+")",g+"+"+y+"(?="+[s,d+f,"$"].join("|")+")",d+"?"+f+"+"+m,d+"+"+y,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",a,E].join("|"),"g");e.exports=function(e){return e.match(w)||[]}},9677:(e,t,n)=>{var r=n(6005),o=n(3640)((function(e,t,n){return t=t.toLowerCase(),e+(n?r(t):t)}));e.exports=o},6005:(e,t,n)=>{var r=n(5243),o=n(5485);e.exports=function(e){return o(r(e).toLowerCase())}},5881:(e,t,n)=>{var r=n(9968),o=n(5243),i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,s=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=o(e))&&e.replace(i,r).replace(s,"")}},6285:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},6123:(e,t,n)=>{var r=n(7923);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},2103:(e,t,n)=>{var r=n(3599),o=n(5899);e.exports=function(e,t){return null!=e&&o(e,t,r)}},7276:(e,t,n)=>{var r=n(3636),o=n(5899);e.exports=function(e,t){return null!=e&&o(e,t,r)}},2053:e=>{e.exports=function(e){return e}},3283:(e,t,n)=>{var r=n(6027),o=n(547),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},3142:e=>{var t=Array.isArray;e.exports=t},6529:(e,t,n)=>{var r=n(3655),o=n(5387);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},5853:(e,t,n)=>{e=n.nmd(e);var r=n(8942),o=n(4772),i=t&&!t.nodeType&&t,s=i&&e&&!e.nodeType&&e,a=s&&s.exports===i?r.Buffer:void 0,l=(a?a.isBuffer:void 0)||o;e.exports=l},3655:(e,t,n)=>{var r=n(7379),o=n(1580);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},5387:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},1580:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},547:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},1187:(e,t,n)=>{var r=n(7379),o=n(547);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},8666:(e,t,n)=>{var r=n(674),o=n(9460),i=n(2306),s=i&&i.isTypedArray,a=s?o(s):r;e.exports=a},1211:(e,t,n)=>{var r=n(358),o=n(195),i=n(6529);e.exports=function(e){return i(e)?r(e):o(e)}},7629:(e,t,n)=>{var r=n(7073),o=n(7170),i=n(3334);e.exports=function(e,t){var n={};return t=i(t,3),o(e,(function(e,o,i){r(n,t(e,o,i),e)})),n}},6155:(e,t,n)=>{var r=n(7073),o=n(7170),i=n(3334);e.exports=function(e,t){var n={};return t=i(t,3),o(e,(function(e,o,i){r(n,o,t(e,o,i))})),n}},9011:(e,t,n)=>{var r=n(8250);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var s=e.apply(this,r);return n.cache=i.set(o,s)||i,s};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},3282:(e,t,n)=>{var r=n(2762),o=n(8880),i=n(5187),s=n(6040);e.exports=function(e){return i(e)?r(s(e)):o(e)}},9867:(e,t,n)=>{var r=n(3640)((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));e.exports=r},9306:e=>{e.exports=function(){return[]}},4772:e=>{e.exports=function(){return!1}},5243:(e,t,n)=>{var r=n(2291);e.exports=function(e){return null==e?"":r(e)}},5485:(e,t,n)=>{var r=n(4326)("toUpperCase");e.exports=r},9850:(e,t,n)=>{var r=n(9546),o=n(5813),i=n(5243),s=n(482);e.exports=function(e,t,n){return e=i(e),void 0===(t=n?void 0:t)?o(e)?s(e):r(e):e.match(t)||[]}},683:(e,t,n)=>{var r,o=function(){var e=String.fromCharCode,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function o(e,t){if(!r[e]){r[e]={};for(var n=0;n<e.length;n++)r[e][e.charAt(n)]=n}return r[e][t]}var i={compressToBase64:function(e){if(null==e)return"";var n=i._compress(e,6,(function(e){return t.charAt(e)}));switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(e){return null==e?"":""==e?null:i._decompress(e.length,32,(function(n){return o(t,e.charAt(n))}))},compressToUTF16:function(t){return null==t?"":i._compress(t,15,(function(t){return e(t+32)}))+" "},decompressFromUTF16:function(e){return null==e?"":""==e?null:i._decompress(e.length,16384,(function(t){return e.charCodeAt(t)-32}))},compressToUint8Array:function(e){for(var t=i.compress(e),n=new Uint8Array(2*t.length),r=0,o=t.length;r<o;r++){var s=t.charCodeAt(r);n[2*r]=s>>>8,n[2*r+1]=s%256}return n},decompressFromUint8Array:function(t){if(null==t)return i.decompress(t);for(var n=new Array(t.length/2),r=0,o=n.length;r<o;r++)n[r]=256*t[2*r]+t[2*r+1];var s=[];return n.forEach((function(t){s.push(e(t))})),i.decompress(s.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,(function(e){return n.charAt(e)}))},decompressFromEncodedURIComponent:function(e){return null==e?"":""==e?null:(e=e.replace(/ /g,"+"),i._decompress(e.length,32,(function(t){return o(n,e.charAt(t))})))},compress:function(t){return i._compress(t,16,(function(t){return e(t)}))},_compress:function(e,t,n){if(null==e)return"";var r,o,i,s={},a={},l="",c="",u="",h=2,p=3,d=2,f=[],g=0,m=0;for(i=0;i<e.length;i+=1)if(l=e.charAt(i),Object.prototype.hasOwnProperty.call(s,l)||(s[l]=p++,a[l]=!0),c=u+l,Object.prototype.hasOwnProperty.call(s,c))u=c;else{if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(r=0;r<d;r++)g<<=1,m==t-1?(m=0,f.push(n(g)),g=0):m++;for(o=u.charCodeAt(0),r=0;r<8;r++)g=g<<1|1&o,m==t-1?(m=0,f.push(n(g)),g=0):m++,o>>=1}else{for(o=1,r=0;r<d;r++)g=g<<1|o,m==t-1?(m=0,f.push(n(g)),g=0):m++,o=0;for(o=u.charCodeAt(0),r=0;r<16;r++)g=g<<1|1&o,m==t-1?(m=0,f.push(n(g)),g=0):m++,o>>=1}0==--h&&(h=Math.pow(2,d),d++),delete a[u]}else for(o=s[u],r=0;r<d;r++)g=g<<1|1&o,m==t-1?(m=0,f.push(n(g)),g=0):m++,o>>=1;0==--h&&(h=Math.pow(2,d),d++),s[c]=p++,u=String(l)}if(""!==u){if(Object.prototype.hasOwnProperty.call(a,u)){if(u.charCodeAt(0)<256){for(r=0;r<d;r++)g<<=1,m==t-1?(m=0,f.push(n(g)),g=0):m++;for(o=u.charCodeAt(0),r=0;r<8;r++)g=g<<1|1&o,m==t-1?(m=0,f.push(n(g)),g=0):m++,o>>=1}else{for(o=1,r=0;r<d;r++)g=g<<1|o,m==t-1?(m=0,f.push(n(g)),g=0):m++,o=0;for(o=u.charCodeAt(0),r=0;r<16;r++)g=g<<1|1&o,m==t-1?(m=0,f.push(n(g)),g=0):m++,o>>=1}0==--h&&(h=Math.pow(2,d),d++),delete a[u]}else for(o=s[u],r=0;r<d;r++)g=g<<1|1&o,m==t-1?(m=0,f.push(n(g)),g=0):m++,o>>=1;0==--h&&(h=Math.pow(2,d),d++)}for(o=2,r=0;r<d;r++)g=g<<1|1&o,m==t-1?(m=0,f.push(n(g)),g=0):m++,o>>=1;for(;;){if(g<<=1,m==t-1){f.push(n(g));break}m++}return f.join("")},decompress:function(e){return null==e?"":""==e?null:i._decompress(e.length,32768,(function(t){return e.charCodeAt(t)}))},_decompress:function(t,n,r){var o,i,s,a,l,c,u,h=[],p=4,d=4,f=3,g="",m=[],y={val:r(0),position:n,index:1};for(o=0;o<3;o+=1)h[o]=o;for(s=0,l=Math.pow(2,2),c=1;c!=l;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(a>0?1:0)*c,c<<=1;switch(s){case 0:for(s=0,l=Math.pow(2,8),c=1;c!=l;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(a>0?1:0)*c,c<<=1;u=e(s);break;case 1:for(s=0,l=Math.pow(2,16),c=1;c!=l;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(a>0?1:0)*c,c<<=1;u=e(s);break;case 2:return""}for(h[3]=u,i=u,m.push(u);;){if(y.index>t)return"";for(s=0,l=Math.pow(2,f),c=1;c!=l;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(a>0?1:0)*c,c<<=1;switch(u=s){case 0:for(s=0,l=Math.pow(2,8),c=1;c!=l;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(a>0?1:0)*c,c<<=1;h[d++]=e(s),u=d-1,p--;break;case 1:for(s=0,l=Math.pow(2,16),c=1;c!=l;)a=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(a>0?1:0)*c,c<<=1;h[d++]=e(s),u=d-1,p--;break;case 2:return m.join("")}if(0==p&&(p=Math.pow(2,f),f++),h[u])g=h[u];else{if(u!==d)return null;g=i+i.charAt(0)}m.push(g),h[d++]=i+g.charAt(0),i=g,0==--p&&(p=Math.pow(2,f),f++)}}};return i}();void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)},7229:(e,t,n)=>{"use strict";n.d(t,{pu:()=>y,xC:()=>v});var r=new Map,o={},i={},s=n(5314),a=function(e){return e&&e instanceof Function},l="undefined"!=typeof window,c=function(e,t,n){void 0===n&&(n=""),e&&l&&console.info("%c mobx-persist-store: (Debug Mode) ".concat(t," "),"background: #4B8CC5; color: black; display: block;",n)},u=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},h=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},p=function(){function e(e){this.options=e}return e.prototype.setItem=function(e,t){var n;return u(this,void 0,void 0,(function(){var r,o,i,s,a,l,u;return h(this,(function(h){switch(h.label){case 0:return r=this.options,o=r.stringify,i=void 0===o||o,s=r.debugMode,a=void 0!==s&&s,l=this.options.expireIn?Object.assign({},t,{__mps__:{expireInTimestamp:(p=this.options.expireIn,(new Date).getTime()+p)}}):t,u=i?JSON.stringify(l):l,c(a,"".concat(e," - setItem:"),u),[4,null===(n=this.options.storage)||void 0===n?void 0:n.setItem(e,u)];case 1:return h.sent(),[2]}var p}))}))},e.prototype.getItem=function(e){var t,n;return u(this,void 0,void 0,(function(){var r,o,i,s,a,l,u,p;return h(this,(function(h){switch(h.label){case 0:return r=this.options,o=r.removeOnExpiration,i=void 0===o||o,s=r.debugMode,a=void 0!==s&&s,[4,null===(t=this.options.storage)||void 0===t?void 0:t.getItem(e)];case 1:l=h.sent();try{u=JSON.parse(l)||{}}catch(e){u=l||{}}return d=null===(n=u.__mps__)||void 0===n?void 0:n.expireInTimestamp,f=(new Date).getTime(),p=new Date(d).getTime()<=f,c(a,"".concat(e," - hasExpired"),p),p&&i?[4,this.removeItem(e)]:[3,3];case 2:h.sent(),h.label=3;case 3:return u=p?{}:u,c(a,"".concat(e," - (getItem):"),u),[2,u]}var d,f}))}))},e.prototype.removeItem=function(e){var t;return u(this,void 0,void 0,(function(){var n;return h(this,(function(r){switch(r.label){case 0:return n=this.options.debugMode,c(void 0!==n&&n,"".concat(e," - (removeItem): storage was removed")),[4,null===(t=this.options.storage)||void 0===t?void 0:t.removeItem(e)];case 1:return r.sent(),[2]}}))}))},e}(),d=function(e){return e.reduce((function(e,t){return"string"==typeof t?(e.push({key:t,serialize:function(e){return e},deserialize:function(e){return e}}),e):(n=r=t,(Boolean(n)&&!1===Array.isArray(n)&&"object"==typeof n?["key","serialize","deserialize"].every((function(e){return!(!r.hasOwnProperty(e)||void 0===e)||(c(!!o.debugMode,"".concat(e," not found in SerializableProperty"),{key:e,obj:r}),!1)})):(c(!!o.debugMode,"passed value is not an object",{obj:r}),0))?(e.push(t),e):e);var n,r}),[])},f=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function a(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))},g=function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},m=function(){function e(e,t,n){var r,u,h,f,g,m,y,v,b,_;void 0===n&&(n={}),this.cancelWatch=null,this.properties=[],this.reactionOptions={},this.storageAdapter=null,this.target=null,this.debugMode=!1,this.isHydrated=!1,this.isPersisting=!1,this.storageName="",this.target=e,this.storageName=t.name,this.properties=d(t.properties),this.reactionOptions=Object.assign({fireImmediately:!0},i,n),this.debugMode=null!==(u=null!==(r=t.debugMode)&&void 0!==r?r:o.debugMode)&&void 0!==u&&u,this.storageAdapter=new p({expireIn:null!==(h=t.expireIn)&&void 0!==h?h:o.expireIn,removeOnExpiration:null===(g=null!==(f=t.removeOnExpiration)&&void 0!==f?f:o.removeOnExpiration)||void 0===g||g,stringify:null===(y=null!==(m=t.stringify)&&void 0!==m?m:o.stringify)||void 0===y||y,storage:t.storage?t.storage:o.storage,debugMode:this.debugMode}),(0,s.makeObservable)(this,{clearPersistedStore:s.action,hydrateStore:s.action,isHydrated:s.observable,isPersisting:s.observable,pausePersisting:s.action,startPersisting:s.action,stopPersisting:s.action},{autoBind:!0,deep:!1}),v=this.storageAdapter.options.storage,b=this.storageName,!l||(_=v,"undefined"!=typeof Storage&&_ instanceof Storage||[null==_?void 0:_.hasOwnProperty("getItem"),null==_?void 0:_.hasOwnProperty("removeItem"),null==_?void 0:_.hasOwnProperty("setItem"),a(null==_?void 0:_.getItem),a(null==_?void 0:_.removeItem),a(null==_?void 0:_.setItem)].every(Boolean))||console.warn("mobx-persist-store: ".concat(b," does not have a valid storage adaptor.\n\n* Make sure the storage controller has 'getItem', 'setItem' and 'removeItem' methods.\"")),c(this.debugMode,"".concat(this.storageName," - (makePersistable)"),{properties:this.properties,storageAdapter:this.storageAdapter,reactionOptions:this.reactionOptions})}return e.prototype.init=function(){return f(this,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return[4,this.hydrateStore()];case 1:return e.sent(),this.startPersisting(),[2,this]}}))}))},e.prototype.hydrateStore=function(){return f(this,void 0,void 0,(function(){var e,t,n,r=this;return g(this,(function(o){switch(o.label){case 0:return e=Boolean(this.cancelWatch),this.isPersisting&&this.pausePersisting(),(0,s.runInAction)((function(){r.isHydrated=!1,c(r.debugMode,"".concat(r.storageName," - (hydrateStore) isHydrated:"),r.isHydrated)})),this.storageAdapter&&this.target?[4,this.storageAdapter.getItem(this.storageName)]:[3,2];case 1:t=o.sent(),n=this.target,t&&(0,s.runInAction)((function(){r.properties.forEach((function(e){var r;if([n.hasOwnProperty(e.key),void 0!==t[e.key]].every(Boolean)){var o=t[e.key];n[e.key]instanceof s.ObservableMap&&(r=o,Array.isArray(r)&&r.every((function(e){return Array.isArray(e)})))?n[e.key]=e.deserialize(new Map(o)):n[e.key]=e.deserialize(o)}}))})),o.label=2;case 2:return(0,s.runInAction)((function(){r.isHydrated=!0,c(r.debugMode,"".concat(r.storageName," - isHydrated:"),r.isHydrated)})),e&&this.startPersisting(),[2]}}))}))},e.prototype.startPersisting=function(){var e=this;if(this.storageAdapter&&this.target&&!this.cancelWatch){var t=this.target;this.cancelWatch=(0,s.reaction)((function(){var n={};return e.properties.forEach((function(e){var r=(0,s.isComputedProp)(t,e.key),o=(0,s.isAction)(t[e.key]);if(function(e,t){l&&e&&console.warn("mobx-persist-store: The property '".concat(t,"' is computed and will not persist."))}(r,String(e.key)),function(e,t){l&&e&&console.warn("mobx-persist-store: The property '".concat(t,"' is an action and will not persist."))}(o,String(e.key)),!r&&!o){var i=e.serialize(t[e.key]);if(i instanceof s.ObservableMap){var a=[];i.forEach((function(e,t){a.push([t,(0,s.toJS)(e)])})),i=a}n[e.key]=(0,s.toJS)(i)}})),n}),(function(t){return f(e,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return this.storageAdapter?[4,this.storageAdapter.setItem(this.storageName,t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}),this.reactionOptions),this.isPersisting=!0,c(this.debugMode,"".concat(this.storageName," - (startPersisting) isPersisting:"),this.isPersisting)}},e.prototype.pausePersisting=function(){this.isPersisting=!1,c(this.debugMode,"".concat(this.storageName," - pausePersisting (isPersisting):"),this.isPersisting),this.cancelWatch&&(this.cancelWatch(),this.cancelWatch=null)},e.prototype.stopPersisting=function(){this.pausePersisting(),c(this.debugMode,"".concat(this.storageName," - (stopPersisting)")),r.delete(this.target),this.cancelWatch=null,this.properties=[],this.reactionOptions={},this.storageAdapter=null,this.target=null},e.prototype.clearPersistedStore=function(){return f(this,void 0,void 0,(function(){return g(this,(function(e){switch(e.label){case 0:return this.storageAdapter?(c(this.debugMode,"".concat(this.storageName," - (clearPersistedStore)")),[4,this.storageAdapter.removeItem(this.storageName)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.getPersistedStore=function(){return f(this,void 0,void 0,(function(){return g(this,(function(e){return this.storageAdapter?(c(this.debugMode,"".concat(this.storageName," - (getPersistedStore)")),[2,this.storageAdapter.getItem(this.storageName)]):[2,null]}))}))},e}(),y=function(e,t,n){return o=void 0,i=void 0,a=function(){var o;return function(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(i){return o=new m(e,t,n),s=Array.from(r.values()).map((function(e){return e.storageName})).includes(o.storageName),a=o.storageName,l&&s&&console.warn("mobx-persist-store: 'makePersistable' was called was called with the same storage name \"".concat(a,'".\n\n * Make sure you call "stopPersisting" before recreating "').concat(a,'" to avoid memory leaks. \n * Or double check you did not have two stores with the same name.')),r.set(e,o),[2,o.init()];var s,a}))},new((s=void 0)||(s=Promise))((function(e,t){function n(e){try{l(a.next(e))}catch(e){t(e)}}function r(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var o;t.done?e(t.value):(o=t.value,o instanceof s?o:new s((function(e){e(o)}))).then(n,r)}l((a=a.apply(o,i||[])).next())}));var o,i,s,a},v=function(e){var t;null===(t=r.get(e))||void 0===t||t.stopPersisting()}},1513:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var i,s,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in i=Object(arguments[l]))n.call(i,c)&&(a[c]=i[c]);if(t){s=t(i);for(var u=0;u<s.length;u++)r.call(i,s[u])&&(a[s[u]]=i[s[u]])}}return a}},3673:(e,t,n)=>{var r=n(574);e.exports=function e(t,n,o){return r(n)||(o=n||o,n=[]),o=o||{},t instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return h(e,t)}(t,n):r(t)?function(t,n,r){for(var o=[],i=0;i<t.length;i++)o.push(e(t[i],n,r).source);return h(new RegExp("(?:"+o.join("|")+")",p(r)),n)}(t,n,o):function(e,t,n){return d(i(e,n),t,n)}(t,n,o)},e.exports.parse=i,e.exports.compile=function(e,t){return l(i(e,t),t)},e.exports.tokensToFunction=l,e.exports.tokensToRegExp=d;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,r=[],i=0,a=0,l="",c=t&&t.delimiter||"/";null!=(n=o.exec(e));){var h=n[0],p=n[1],d=n.index;if(l+=e.slice(a,d),a=d+h.length,p)l+=p[1];else{var f=e[a],g=n[2],m=n[3],y=n[4],v=n[5],b=n[6],_=n[7];l&&(r.push(l),l="");var E=null!=g&&null!=f&&f!==g,w="+"===b||"*"===b,T="?"===b||"*"===b,k=g||c,S=y||v,C=g||("string"==typeof r[r.length-1]?r[r.length-1]:"");r.push({name:m||i++,prefix:g||"",delimiter:k,optional:T,repeat:w,partial:E,asterisk:!!_,pattern:S?u(S):_?".*":s(k,C)})}}return a<e.length&&(l+=e.substr(a)),l&&r.push(l),r}function s(e,t){return!t||t.indexOf(e)>-1?"[^"+c(e)+"]+?":c(t)+"|(?:(?!"+c(t)+")[^"+c(e)+"])+?"}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function l(e,t){for(var n=new Array(e.length),o=0;o<e.length;o++)"object"==typeof e[o]&&(n[o]=new RegExp("^(?:"+e[o].pattern+")$",p(t)));return function(t,o){for(var i="",s=t||{},l=(o||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var u=e[c];if("string"!=typeof u){var h,p=s[u.name];if(null==p){if(u.optional){u.partial&&(i+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(p)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var d=0;d<p.length;d++){if(h=l(p[d]),!n[c].test(h))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(h)+"`");i+=(0===d?u.prefix:u.delimiter)+h}}else{if(h=u.asterisk?encodeURI(p).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(p),!n[c].test(h))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+h+'"');i+=u.prefix+h}}else i+=u}return i}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function h(e,t){return e.keys=t,e}function p(e){return e&&e.sensitive?"":"i"}function d(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,i=!1!==n.end,s="",a=0;a<e.length;a++){var l=e[a];if("string"==typeof l)s+=c(l);else{var u=c(l.prefix),d="(?:"+l.pattern+")";t.push(l),l.repeat&&(d+="(?:"+u+d+")*"),s+=d=l.optional?l.partial?u+"("+d+")?":"(?:"+u+"("+d+"))?":u+"("+d+")"}}var f=c(n.delimiter||"/"),g=s.slice(-f.length)===f;return o||(s=(g?s.slice(0,-f.length):s)+"(?:"+f+"(?=$))?"),s+=i?"$":o&&g?"":"(?="+f+"|$)",h(new RegExp("^"+s,p(n)),t)}},574:e=>{e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},5721:(e,t,n)=>{"use strict";var r=function(){},o=n(6848),i={},s=n(2727);function a(e,t,n,a,l){for(var c in e)if(s(e,c)){var u;try{if("function"!=typeof e[c]){var h=Error((a||"React class")+": "+n+" type `"+c+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[c]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw h.name="Invariant Violation",h}u=e[c](t,c,a,n,null,o)}catch(e){u=e}if(!u||u instanceof Error||r((a||"React class")+": type specification of "+n+" `"+c+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof u+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),u instanceof Error&&!(u.message in i)){i[u.message]=!0;var p=l?l():"";r("Failed "+n+" type: "+u.message+(null!=p?p:""))}}}r=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},a.resetWarningCache=function(){i={}},e.exports=a},3413:(e,t,n)=>{"use strict";var r,o=n(524),i=n(1513),s=n(6848),a=n(2727),l=n(5721);function c(){return null}r=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}},e.exports=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,u="<<anonymous>>",h={array:f("array"),bigint:f("bigint"),bool:f("boolean"),func:f("function"),number:f("number"),object:f("object"),string:f("string"),symbol:f("symbol"),any:d(c),arrayOf:function(e){return d((function(t,n,r,o,i){if("function"!=typeof e)return new p("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a))return new p("Invalid "+o+" `"+i+"` of type `"+y(a)+"` supplied to `"+r+"`, expected an array.");for(var l=0;l<a.length;l++){var c=e(a,l,r,o,i+"["+l+"]",s);if(c instanceof Error)return c}return null}))},element:d((function(t,n,r,o,i){var s=t[n];return e(s)?null:new p("Invalid "+o+" `"+i+"` of type `"+y(s)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:d((function(e,t,n,r,i){var s=e[t];return o.isValidElementType(s)?null:new p("Invalid "+r+" `"+i+"` of type `"+y(s)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(e){return d((function(t,n,r,o,i){if(!(t[n]instanceof e)){var s=e.name||u;return new p("Invalid "+o+" `"+i+"` of type `"+((a=t[n]).constructor&&a.constructor.name?a.constructor.name:u)+"` supplied to `"+r+"`, expected instance of `"+s+"`.")}var a;return null}))},node:d((function(e,t,n,r,o){return m(e[t])?null:new p("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return d((function(t,n,r,o,i){if("function"!=typeof e)return new p("Property `"+i+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var l=t[n],c=y(l);if("object"!==c)return new p("Invalid "+o+" `"+i+"` of type `"+c+"` supplied to `"+r+"`, expected an object.");for(var u in l)if(a(l,u)){var h=e(l,u,r,o,i+"."+u,s);if(h instanceof Error)return h}return null}))},oneOf:function(e){return Array.isArray(e)?d((function(t,n,r,o,i){for(var s=t[n],a=0;a<e.length;a++)if(l=s,c=e[a],l===c?0!==l||1/l==1/c:l!=l&&c!=c)return null;var l,c,u=JSON.stringify(e,(function(e,t){return"symbol"===v(t)?String(t):t}));return new p("Invalid "+o+" `"+i+"` of value `"+String(s)+"` supplied to `"+r+"`, expected one of "+u+".")})):(r(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),c)},oneOfType:function(e){if(!Array.isArray(e))return r("Invalid argument supplied to oneOfType, expected an instance of array."),c;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return r("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+b(n)+" at index "+t+"."),c}return d((function(t,n,r,o,i){for(var l=[],c=0;c<e.length;c++){var u=(0,e[c])(t,n,r,o,i,s);if(null==u)return null;u.data&&a(u.data,"expectedType")&&l.push(u.data.expectedType)}return new p("Invalid "+o+" `"+i+"` supplied to `"+r+"`"+(l.length>0?", expected one of type ["+l.join(", ")+"]":"")+".")}))},shape:function(e){return d((function(t,n,r,o,i){var a=t[n],l=y(a);if("object"!==l)return new p("Invalid "+o+" `"+i+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var u=e[c];if("function"!=typeof u)return g(r,o,i,c,v(u));var h=u(a,c,r,o,i+"."+c,s);if(h)return h}return null}))},exact:function(e){return d((function(t,n,r,o,l){var c=t[n],u=y(c);if("object"!==u)return new p("Invalid "+o+" `"+l+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");var h=i({},t[n],e);for(var d in h){var f=e[d];if(a(e,d)&&"function"!=typeof f)return g(r,o,l,d,v(f));if(!f)return new p("Invalid "+o+" `"+l+"` key `"+d+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var m=f(c,d,r,o,l+"."+d,s);if(m)return m}return null}))}};function p(e,t){this.message=e,this.data=t&&"object"==typeof t?t:{},this.stack=""}function d(e){var n={},o=0;function i(i,a,l,c,h,d,f){if(c=c||u,d=d||l,f!==s){if(t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}if("undefined"!=typeof console){var m=c+":"+l;!n[m]&&o<3&&(r("You are manually calling a React.PropTypes validation function for the `"+d+"` prop on `"+c+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[m]=!0,o++)}}return null==a[l]?i?null===a[l]?new p("The "+h+" `"+d+"` is marked as required in `"+c+"`, but its value is `null`."):new p("The "+h+" `"+d+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:e(a,l,c,h,d)}var a=i.bind(null,!1);return a.isRequired=i.bind(null,!0),a}function f(e){return d((function(t,n,r,o,i,s){var a=t[n];return y(a)!==e?new p("Invalid "+o+" `"+i+"` of type `"+v(a)+"` supplied to `"+r+"`, expected `"+e+"`.",{expectedType:e}):null}))}function g(e,t,n,r,o){return new p((e||"React class")+": "+t+" type `"+n+"."+r+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+o+"`.")}function m(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(m);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!r)return!1;var o,i=r.call(t);if(r!==t.entries){for(;!(o=i.next()).done;)if(!m(o.value))return!1}else for(;!(o=i.next()).done;){var s=o.value;if(s&&!m(s[1]))return!1}return!0;default:return!1}}function y(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function v(e){if(null==e)return""+e;var t=y(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function b(e){var t=v(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return p.prototype=Error.prototype,h.checkPropTypes=l,h.resetWarningCache=l.resetWarningCache,h.PropTypes=h,h}},9067:(e,t,n)=>{var r=n(524);e.exports=n(3413)(r.isElement,!0)},6848:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2727:e=>{e.exports=Function.call.bind(Object.prototype.hasOwnProperty)},1293:e=>{"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,o=/^\d/,i=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,s=/^\s*(['"]?)(.*?)(\1)\s*$/,a=new t(512),l=new t(512),c=new t(512);function u(e){return a.get(e)||a.set(e,h(e).map((function(e){return e.replace(s,"$2")})))}function h(e){return e.match(n)||[""]}function p(e){return"string"==typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function d(e){return!p(e)&&(function(e){return e.match(o)&&!e.match(r)}(e)||function(e){return i.test(e)}(e))}e.exports={Cache:t,split:h,normalizePath:u,setter:function(e){var t=u(e);return l.get(e)||l.set(e,(function(e,n){for(var r=0,o=t.length,i=e;r<o-1;){var s=t[r];if("__proto__"===s||"constructor"===s||"prototype"===s)return e;i=i[t[r++]]}i[t[r]]=n}))},getter:function(e,t){var n=u(e);return c.get(e)||c.set(e,(function(e){for(var r=0,o=n.length;r<o;){if(null==e&&t)return;e=e[n[r++]]}return e}))},join:function(e){return e.reduce((function(e,t){return e+(p(t)||r.test(t)?"["+t+"]":(e?".":"")+t)}),"")},forEach:function(e,t,n){!function(e,t,n){var r,o,i,s,a=e.length;for(o=0;o<a;o++)(r=e[o])&&(d(r)&&(r='"'+r+'"'),i=!(s=p(r))&&/^\d+$/.test(r),t.call(n,r,s,i,o,e))}(Array.isArray(e)?e:h(e),t,n)}}},5885:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>l});var r=n(9155),o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o.apply(this,arguments)},i=function(e){var t=e.animate,n=void 0===t||t,i=e.animateBegin,s=e.backgroundColor,a=void 0===s?"#f5f6f7":s,l=e.backgroundOpacity,c=void 0===l?1:l,u=e.baseUrl,h=void 0===u?"":u,p=e.children,d=e.foregroundColor,f=void 0===d?"#eee":d,g=e.foregroundOpacity,m=void 0===g?1:g,y=e.gradientRatio,v=void 0===y?2:y,b=e.gradientDirection,_=void 0===b?"left-right":b,E=e.uniqueKey,w=e.interval,T=void 0===w?.25:w,k=e.rtl,S=void 0!==k&&k,C=e.speed,O=void 0===C?1.2:C,I=e.style,x=void 0===I?{}:I,R=e.title,N=void 0===R?"Loading...":R,A=e.beforeMask,$=void 0===A?null:A,D=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["animate","animateBegin","backgroundColor","backgroundOpacity","baseUrl","children","foregroundColor","foregroundOpacity","gradientRatio","gradientDirection","uniqueKey","interval","rtl","speed","style","title","beforeMask"]),M=E||Math.random().toString(36).substring(6),P=M+"-diff",L=M+"-animated-diff",B=M+"-aria",F=S?{transform:"scaleX(-1)"}:null,j="0; "+T+"; 1",U=O+"s",H="top-bottom"===_?"rotate(90)":void 0;return(0,r.createElement)("svg",o({"aria-labelledby":B,role:"img",style:o(o({},x),F)},D),N?(0,r.createElement)("title",{id:B},N):null,$&&(0,r.isValidElement)($)?$:null,(0,r.createElement)("rect",{role:"presentation",x:"0",y:"0",width:"100%",height:"100%",clipPath:"url("+h+"#"+P+")",style:{fill:"url("+h+"#"+L+")"}}),(0,r.createElement)("defs",null,(0,r.createElement)("clipPath",{id:P},p),(0,r.createElement)("linearGradient",{id:L,gradientTransform:H},(0,r.createElement)("stop",{offset:"0%",stopColor:a,stopOpacity:c},n&&(0,r.createElement)("animate",{attributeName:"offset",values:-v+"; "+-v+"; 1",keyTimes:j,dur:U,repeatCount:"indefinite",begin:i})),(0,r.createElement)("stop",{offset:"50%",stopColor:f,stopOpacity:m},n&&(0,r.createElement)("animate",{attributeName:"offset",values:-v/2+"; "+-v/2+"; "+(1+v/2),keyTimes:j,dur:U,repeatCount:"indefinite",begin:i})),(0,r.createElement)("stop",{offset:"100%",stopColor:a,stopOpacity:c},n&&(0,r.createElement)("animate",{attributeName:"offset",values:"0; 0; "+(1+v),keyTimes:j,dur:U,repeatCount:"indefinite",begin:i})))))},s=function(e){return e.children?(0,r.createElement)(i,o({},e)):(0,r.createElement)(a,o({},e))},a=function(e){return(0,r.createElement)(s,o({viewBox:"0 0 476 124"},e),(0,r.createElement)("rect",{x:"48",y:"8",width:"88",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"48",y:"26",width:"52",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"0",y:"56",width:"410",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"0",y:"72",width:"380",height:"6",rx:"3"}),(0,r.createElement)("rect",{x:"0",y:"88",width:"178",height:"6",rx:"3"}),(0,r.createElement)("circle",{cx:"20",cy:"20",r:"20"}))};const l=s},9242:(e,t,n)=>{"use strict";!function(){var e=n(9155),r=n(1513),o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];s("error",e,n)}function s(e,t,n){var r=o.ReactDebugCurrentFrame.getStackAddendum();""!==r&&(t+="%s",n=n.concat([r]));var i=n.map((function(e){return""+e}));i.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,i)}var a=60106,l=60107,c=60108,u=60114,h=60109,p=60110,d=60112,f=60113,g=60120,m=60115,y=60116,v=60121,b=60117,_=60119,E=60129,w=60131;if("function"==typeof Symbol&&Symbol.for){var T=Symbol.for;T("react.element"),a=T("react.portal"),l=T("react.fragment"),c=T("react.strict_mode"),u=T("react.profiler"),h=T("react.provider"),p=T("react.context"),d=T("react.forward_ref"),f=T("react.suspense"),g=T("react.suspense_list"),m=T("react.memo"),y=T("react.lazy"),v=T("react.block"),T("react.server.block"),b=T("react.fundamental"),_=T("react.scope"),T("react.opaque.id"),E=T("react.debug_trace_mode"),T("react.offscreen"),w=T("react.legacy_hidden")}function k(e){return e.displayName||"Context"}function S(e){if(null==e)return null;if("number"==typeof e.tag&&i("Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case l:return"Fragment";case a:return"Portal";case u:return"Profiler";case c:return"StrictMode";case f:return"Suspense";case g:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case p:return k(e)+".Consumer";case h:return k(e._context)+".Provider";case d:return o=e,b="ForwardRef",_=(s=e.render).displayName||s.name||"",o.displayName||(""!==_?b+"("+_+")":b);case m:return S(e.type);case v:return S(e._render);case y:var t=e,n=t._payload,r=t._init;try{return S(r(n))}catch(e){return null}}var o,s,b,_;return null}var C,O,I,x,R,N,A,$=0;function D(){}D.__reactDisabledLog=!0;var M,P=o.ReactCurrentDispatcher;function L(e,t,n){if(void 0===M)try{throw Error()}catch(e){var r=e.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||""}return"\n"+M+e}var B,F=!1,j="function"==typeof WeakMap?WeakMap:Map;function U(e,t){if(!e||F)return"";var n,o=B.get(e);if(void 0!==o)return o;F=!0;var s,a=Error.prepareStackTrace;Error.prepareStackTrace=void 0,s=P.current,P.current=null,function(){if(0===$){C=console.log,O=console.info,I=console.warn,x=console.error,R=console.group,N=console.groupCollapsed,A=console.groupEnd;var e={configurable:!0,enumerable:!0,value:D,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}$++}();try{if(t){var l=function(){throw Error()};if(Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(l,[])}catch(e){n=e}Reflect.construct(e,[],l)}else{try{l.call()}catch(e){n=e}e.call(l.prototype)}}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var c=t.stack.split("\n"),u=n.stack.split("\n"),h=c.length-1,p=u.length-1;h>=1&&p>=0&&c[h]!==u[p];)p--;for(;h>=1&&p>=0;h--,p--)if(c[h]!==u[p]){if(1!==h||1!==p)do{if(h--,--p<0||c[h]!==u[p]){var d="\n"+c[h].replace(" at new "," at ");return"function"==typeof e&&B.set(e,d),d}}while(h>=1&&p>=0);break}}}finally{F=!1,P.current=s,function(){if(0==--$){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:r({},e,{value:C}),info:r({},e,{value:O}),warn:r({},e,{value:I}),error:r({},e,{value:x}),group:r({},e,{value:R}),groupCollapsed:r({},e,{value:N}),groupEnd:r({},e,{value:A})})}$<0&&i("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=a}var f=e?e.displayName||e.name:"",g=f?L(f):"";return"function"==typeof e&&B.set(e,g),g}function H(e,t,n){return U(e,!1)}function V(e,t,n){if(null==e)return"";if("function"==typeof e)return U(e,!(!(r=e.prototype)||!r.isReactComponent));var r;if("string"==typeof e)return L(e);switch(e){case f:return L("Suspense");case g:return L("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case d:return H(e.render);case m:return V(e.type,t,n);case v:return H(e._render);case y:var o=e,i=o._payload,s=o._init;try{return V(s(i),t,n)}catch(e){}}return""}B=new j;var W,G={},z=o.ReactDebugCurrentFrame;function q(e){if(e){var t=e._owner,n=V(e.type,e._source,t?t.type:null);z.setExtraStackFrame(n)}else z.setExtraStackFrame(null)}W=new Set;var Y={};function X(e,t){var n=e.contextTypes;if(!n)return Y;var r={};for(var o in n)r[o]=t[o];return r}function K(e,t,n){!function(e,t,n,r,o){var s=Function.call.bind(Object.prototype.hasOwnProperty);for(var a in e)if(s(e,a)){var l=void 0;try{if("function"!=typeof e[a]){var c=Error("Component: "+n+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[a]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw c.name="Invariant Violation",c}l=e[a](t,a,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){l=e}!l||l instanceof Error||(q(o),i("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).","Component",n,a,typeof l),q(null)),l instanceof Error&&!(l.message in G)&&(G[l.message]=!0,q(o),i("Failed %s type: %s",n,l.message),q(null))}}(e,t,n,"Component")}function J(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}Object.freeze(Y);for(var Z=new Uint16Array(16),Q=0;Q<15;Q++)Z[Q]=Q+1;function ee(e){Z[e]=Z[0],Z[0]=e}Z[15]=0;var te=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",ne=te+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",re=new RegExp("^["+te+"]["+ne+"]*$"),oe=Object.prototype.hasOwnProperty,ie={},se={};function ae(e){return!!oe.call(se,e)||!oe.call(ie,e)&&(re.test(e)?(se[e]=!0,!0):(ie[e]=!0,i("Invalid attribute name: `%s`",e),!1))}function le(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(r)return!1;if(null!==n)return!n.acceptsBooleans;var o=e.toLowerCase().slice(0,5);return"data-"!==o&&"aria-"!==o;default:return!1}}function ce(e){return he.hasOwnProperty(e)?he[e]:null}function ue(e,t,n,r,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var he={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach((function(e){he[e]=new ue(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0],n=e[1];he[t]=new ue(t,1,!1,n,null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){he[e]=new ue(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){he[e]=new ue(e,2,!1,e,null,!1,!1)})),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach((function(e){he[e]=new ue(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){he[e]=new ue(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){he[e]=new ue(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){he[e]=new ue(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){he[e]=new ue(e,5,!1,e.toLowerCase(),null,!1,!1)}));var pe=/[\-\:]([a-z])/g,de=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach((function(e){var t=e.replace(pe,de);he[t]=new ue(t,1,!1,e,null,!1,!1)})),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach((function(e){var t=e.replace(pe,de);he[t]=new ue(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(pe,de);he[t]=new ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){he[e]=new ue(e,1,!1,e.toLowerCase(),null,!1,!1)})),he.xlinkHref=new ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){he[e]=new ue(e,1,!1,e.toLowerCase(),null,!0,!0)}));var fe=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,ge=!1,me=/["'&<>]/;function ye(e){return"boolean"==typeof e||"number"==typeof e?""+e:function(e){var t,n=""+e,r=me.exec(n);if(!r)return n;var o,i="",s=0;for(o=r.index;o<n.length;o++){switch(n.charCodeAt(o)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}s!==o&&(i+=n.substring(s,o)),s=o+1,i+=t}return s!==o?i+n.substring(s,o):i}(e)}function ve(e){return'"'+ye(e)+'"'}function be(e,t){var n,r=ce(e);if("style"!==e&&function(e,t){return null!==t?0===t.type:e.length>2&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])}(e,r))return"";if(function(e,t,n,r){if(null==t)return!0;if(le(e,t,n,r))return!0;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||t<1}return!1}(e,t,r,!1))return"";if(null!==r){var o=r.attributeName,s=r.type;return 3===s||4===s&&!0===t?o+'=""':(r.sanitizeURL&&(n=t=""+t,!ge&&fe.test(n)&&(ge=!0,i("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(n)))),o+"="+ve(t))}return ae(e)?e+"="+ve(t):""}var _e,Ee="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},we=null,Te=null,ke=null,Se=!1,Ce=!1,Oe=null,Ie=0,xe=!1;function Re(){if(null===we)throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.");return xe&&i("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks"),we}function Ne(){if(Ie>0)throw Error("Rendered more hooks than during the previous render");return{memoizedState:null,queue:null,next:null}}function Ae(){return null===ke?null===Te?(Se=!1,Te=ke=Ne()):(Se=!0,ke=Te):null===ke.next?(Se=!1,ke=ke.next=Ne()):(Se=!0,ke=ke.next),ke}function $e(e){we=e,xe=!1}function De(e,t,n,r){for(;Ce;)Ce=!1,Ie+=1,ke=null,n=e(t,r);return Me(),n}function Me(){xe=!1,we=null,Ce=!1,Te=null,Ie=0,Oe=null,ke=null}function Pe(e,t){return"function"==typeof t?t(e):t}function Le(e,t,n){if(e!==Pe&&(_e="useReducer"),we=Re(),ke=Ae(),Se){var r=ke.queue,o=r.dispatch;if(null!==Oe){var i=Oe.get(r);if(void 0!==i){Oe.delete(r);var s=ke.memoizedState,a=i;do{var l=a.action;xe=!0,s=e(s,l),xe=!1,a=a.next}while(null!==a);return ke.memoizedState=s,[s,o]}}return[ke.memoizedState,o]}var c;xe=!0,c=e===Pe?"function"==typeof t?t():t:void 0!==n?n(t):t,xe=!1,ke.memoizedState=c;var u=ke.queue={last:null,dispatch:null},h=u.dispatch=Fe.bind(null,we,u);return[ke.memoizedState,h]}function Be(e,t){we=Re();var n=void 0===t?null:t;if(null!==(ke=Ae())){var r=ke.memoizedState;if(null!==r&&null!==n&&function(e,t){if(null===t)return i("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",_e),!1;e.length!==t.length&&i("The final argument passed to %s changed size between renders. The order and size of this array must remain constant.\n\nPrevious: %s\nIncoming: %s",_e,"["+e.join(", ")+"]","["+t.join(", ")+"]");for(var n=0;n<t.length&&n<e.length;n++)if(!Ee(e[n],t[n]))return!1;return!0}(n,r[1]))return r[0]}xe=!0;var o=e();return xe=!1,ke.memoizedState=[o,n],o}function Fe(e,t,n){if(!(Ie<25))throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(e===we){Ce=!0;var r={action:n,next:null};null===Oe&&(Oe=new Map);var o=Oe.get(t);if(void 0===o)Oe.set(t,r);else{for(var i=o;null!==i.next;)i=i.next;i.next=r}}}function je(){}var Ue=null;function He(e){Ue=e}var Ve={readContext:function(e,t){var n=Ue.threadID;return J(e,n),xe&&i("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."),e[n]},useContext:function(e,t){_e="useContext",Re();var n=Ue.threadID;return J(e,n),e[n]},useMemo:Be,useReducer:Le,useRef:function(e){we=Re();var t=(ke=Ae()).memoizedState;if(null===t){var n={current:e};return Object.seal(n),ke.memoizedState=n,n}return t},useState:function(e){return _e="useState",Le(Pe,e)},useLayoutEffect:function(e,t){_e="useLayoutEffect",i("useLayoutEffect does nothing on the server, because its effect cannot be encoded into the server renderer's output format. This will lead to a mismatch between the initial, non-hydrated UI and the intended UI. To avoid this, useLayoutEffect should only be used in components that render exclusively on the client. See https://reactjs.org/link/uselayouteffect-ssr for common fixes.")},useCallback:function(e,t){return Be((function(){return e}),t)},useImperativeHandle:je,useEffect:je,useDebugValue:je,useDeferredValue:function(e){return Re(),e},useTransition:function(){return Re(),[function(e){e()},!1]},useOpaqueIdentifier:function(){return(Ue.identifierPrefix||"")+"R:"+(Ue.uniqueID++).toString(36)},useMutableSource:function(e,t,n){return Re(),t(e._source)}},We="http://www.w3.org/1999/xhtml",Ge="http://www.w3.org/2000/svg",ze=We;function qe(e){switch(e){case"svg":return Ge;case"math":return"http://www.w3.org/1998/Math/MathML";default:return We}}function Ye(e,t){return null==e||e===We?qe(t):e===Ge&&"foreignObject"===t?We:e}var Xe={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function Ke(e,t){Xe[t.type]||t.onChange||t.onInput||t.readOnly||t.disabled||null==t.value||i("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),t.onChange||t.readOnly||t.disabled||null==t.checked||i("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}var Je={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Ze=r({menuitem:!0},Je),Qe={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},et=["Webkit","ms","Moz","O"];function tt(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Qe.hasOwnProperty(e)&&Qe[e]?(""+t).trim():t+"px"}Object.keys(Qe).forEach((function(e){et.forEach((function(t){Qe[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=Qe[e]}))}));var nt=/([A-Z])/g,rt=/^ms-/;function ot(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var it=/^(?:webkit|moz|o)[A-Z]/,st=/^-ms-/,at=/-(.)/g,lt=/;\s*$/,ct={},ut={},ht=!1,pt=!1,dt=function(e,t){e.indexOf("-")>-1?function(e){ct.hasOwnProperty(e)&&ct[e]||(ct[e]=!0,i("Unsupported style property %s. Did you mean %s?",e,e.replace(st,"ms-").replace(at,(function(e,t){return t.toUpperCase()}))))}(e):it.test(e)?function(e){ct.hasOwnProperty(e)&&ct[e]||(ct[e]=!0,i("Unsupported vendor-prefixed style property %s. Did you mean %s?",e,e.charAt(0).toUpperCase()+e.slice(1)))}(e):lt.test(t)&&function(e,t){ut.hasOwnProperty(t)&&ut[t]||(ut[t]=!0,i('Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',e,t.replace(lt,"")))}(e,t),"number"==typeof t&&(isNaN(t)?function(e){ht||(ht=!0,i("`NaN` is an invalid value for the `%s` css style property.",e))}(e):isFinite(t)||function(e){pt||(pt=!0,i("`Infinity` is an invalid value for the `%s` css style property.",e))}(e))},ft={"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},gt={},mt=new RegExp("^(aria)-["+ne+"]*$"),yt=new RegExp("^(aria)[A-Z]["+ne+"]*$"),vt=Object.prototype.hasOwnProperty;function bt(e,t){if(vt.call(gt,t)&&gt[t])return!0;if(yt.test(t)){var n="aria-"+t.slice(4).toLowerCase(),r=ft.hasOwnProperty(n)?n:null;if(null==r)return i("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",t),gt[t]=!0,!0;if(t!==r)return i("Invalid ARIA attribute `%s`. Did you mean `%s`?",t,r),gt[t]=!0,!0}if(mt.test(t)){var o=t.toLowerCase(),s=ft.hasOwnProperty(o)?o:null;if(null==s)return gt[t]=!0,!1;if(t!==s)return i("Unknown ARIA attribute `%s`. Did you mean `%s`?",t,s),gt[t]=!0,!0}return!0}var _t,Et=!1,wt={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},Tt={},kt=Object.prototype.hasOwnProperty,St=/^on./,Ct=/^on[^A-Z]/,Ot=new RegExp("^(aria)-["+ne+"]*$"),It=new RegExp("^(aria)[A-Z]["+ne+"]*$");_t=function(e,t,n,r){if(kt.call(Tt,t)&&Tt[t])return!0;var o=t.toLowerCase();if("onfocusin"===o||"onfocusout"===o)return i("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),Tt[t]=!0,!0;if(null!=r){var s=r.registrationNameDependencies,a=r.possibleRegistrationNames;if(s.hasOwnProperty(t))return!0;var l=a.hasOwnProperty(o)?a[o]:null;if(null!=l)return i("Invalid event handler property `%s`. Did you mean `%s`?",t,l),Tt[t]=!0,!0;if(St.test(t))return i("Unknown event handler property `%s`. It will be ignored.",t),Tt[t]=!0,!0}else if(St.test(t))return Ct.test(t)&&i("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",t),Tt[t]=!0,!0;if(Ot.test(t)||It.test(t))return!0;if("innerhtml"===o)return i("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),Tt[t]=!0,!0;if("aria"===o)return i("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),Tt[t]=!0,!0;if("is"===o&&null!=n&&"string"!=typeof n)return i("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof n),Tt[t]=!0,!0;if("number"==typeof n&&isNaN(n))return i("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",t),Tt[t]=!0,!0;var c=ce(t),u=null!==c&&0===c.type;if(wt.hasOwnProperty(o)){var h=wt[o];if(h!==t)return i("Invalid DOM property `%s`. Did you mean `%s`?",t,h),Tt[t]=!0,!0}else if(!u&&t!==o)return i("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",t,o),Tt[t]=!0,!0;return"boolean"==typeof n&&le(t,n,c,!1)?(n?i('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',n,t,t,n,t):i('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',n,t,t,n,t,t,t),Tt[t]=!0,!0):!!u||(le(t,n,c,!1)?(Tt[t]=!0,!1):("false"!==n&&"true"!==n||null===c||3!==c.type||(i("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",n,t,"false"===n?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',t,n),Tt[t]=!0),!0))};var xt,Rt,Nt,At,$t,Dt,Mt=e.Children.toArray,Pt=[],Lt=o.ReactCurrentDispatcher,Bt=null,Ft=function(){return""},jt=!1;xt=o.ReactDebugCurrentFrame,Nt=function(e,t){(function(e,t){ot(e,t)||function(e,t){var n=[];for(var r in t)bt(0,r)||n.push(r);var o=n.map((function(e){return"`"+e+"`"})).join(", ");1===n.length?i("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",o,e):n.length>1&&i("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",o,e)}(e,t)})(e,t),function(e,t){"input"!==e&&"textarea"!==e&&"select"!==e||null==t||null!==t.value||Et||(Et=!0,"select"===e&&t.multiple?i("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",e):i("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",e))}(e,t),function(e,t,n){ot(e,t)||function(e,t,n){var r=[];for(var o in t)_t(0,o,t[o],n)||r.push(o);var s=r.map((function(e){return"`"+e+"`"})).join(", ");1===r.length?i("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",s,e):r.length>1&&i("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",s,e)}(e,t,n)}(e,t,null)},Rt=function(e){return V(e.type,e._source,null)},At=function(e){Pt.push(e),1===Pt.length&&(Bt=xt.getCurrentStack,xt.getCurrentStack=Ft)},$t=function(e){var t=Pt[Pt.length-1];t[t.length-1].debugElementStack.push(e)},Dt=function(){Pt.pop(),0===Pt.length&&(xt.getCurrentStack=Bt,Bt=null)},Ft=function(){if(0===Pt.length)return"";for(var e=Pt[Pt.length-1],t="",n=e.length-1;n>=0;n--)for(var r=e[n].debugElementStack,o=r.length-1;o>=0;o--)t+=Rt(r[o]);return t};var Ut=!1,Ht=!1,Vt=!1,Wt=!1,Gt=!1,zt={},qt={},Yt={},Xt={},Kt={},Jt={},Zt=["value","defaultValue"],Qt={listing:!0,pre:!0,textarea:!0},en=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,tn={},nn={},rn=function(e){if(nn.hasOwnProperty(e))return nn[e];var t=e.replace(nt,"-$1").toLowerCase().replace(rt,"-ms-");return nn[e]=t,t};function on(e){var t="",n="";for(var r in e)if(e.hasOwnProperty(r)){var o=0===r.indexOf("--"),i=e[r];o||dt(r,i),null!=i&&(t+=n+(o?r:rn(r))+":",t+=tt(r,i,o),n=";")}return t||null}function sn(e,t){var n=e.constructor,r=n&&S(n)||"ReactClass",o=r+"."+t;zt[o]||(i("%s(...): Can only update a mounting component. This usually means you called %s() outside componentWillMount() on the server. This is a no-op.\n\nPlease check the code for the %s component.",t,t,r),zt[o]=!0)}var an=Object.prototype.hasOwnProperty,ln={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function cn(e,t){if(void 0===e)throw Error((S(t)||"Component")+"(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.")}var un=function(){function t(t,n,r){var o,i=function(t){if(!e.isValidElement(t))return Mt(t);var n=t;if(n.type!==l)return[n];var r=n.props.children;return e.isValidElement(r)?[r]:Mt(r)}(t),s={type:null,domNamespace:ze,children:i,childIndex:0,context:Y,footer:"",debugElementStack:[]};this.threadID=0===(o=Z[0])?function(){var e=Z,t=e.length,n=2*t;if(!(n<=65536))throw Error("Maximum number of concurrent React renderers exceeded. This can happen if you are not properly destroying the Readable provided by React. Ensure that you call .destroy() on it if you no longer want to read from it, and did not read to the end. If you use .pipe() this should be automatic.");var r=new Uint16Array(n);r.set(e),(Z=r)[0]=t+1;for(var o=t;o<n-1;o++)Z[o]=o+1;return Z[n-1]=0,t}():(Z[0]=Z[o],o),this.stack=[s],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=n,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[],this.uniqueID=0,this.identifierPrefix=r&&r.identifierPrefix||"",this.contextProviderStack=[]}var n=t.prototype;return n.destroy=function(){this.exhausted||(this.exhausted=!0,this.clearProviders(),ee(this.threadID))},n.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID;J(n,r);var o=n[r];this.contextStack[t]=n,this.contextValueStack[t]=o,this.contextProviderStack[t]=e,n[r]=e.props.value},n.popProvider=function(e){var t=this.contextIndex;(t<0||e!==this.contextProviderStack[t])&&i("Unexpected pop.");var n=this.contextStack[t],r=this.contextValueStack[t];this.contextStack[t]=null,this.contextValueStack[t]=null,this.contextProviderStack[t]=null,this.contextIndex--,n[this.threadID]=r},n.clearProviders=function(){for(var e=this.contextIndex;e>=0;e--){var t=this.contextStack[e],n=this.contextValueStack[e];t[this.threadID]=n}},n.read=function(e){if(this.exhausted)return null;var t=Ue;He(this);var n=Lt.current;Lt.current=Ve;try{for(var r=[""],o=!1;r[0].length<e;){if(0===this.stack.length){this.exhausted=!0,ee(this.threadID);break}var i=this.stack[this.stack.length-1];if(o||i.childIndex>=i.children.length){var s=i.footer;if(""!==s&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===i.type)this.currentSelectValue=null;else if(null!=i.type&&null!=i.type.type&&i.type.type.$$typeof===h){var a=i.type;this.popProvider(a)}else if(i.type===f){this.suspenseDepth--;var l=r.pop();if(o){o=!1;var c=i.fallbackFrame;if(!c)throw Error("ReactDOMServer did not find an internal fallback frame for Suspense. This is a bug in React. Please file an issue.");this.stack.push(c),r[this.suspenseDepth]+="\x3c!--$!--\x3e";continue}r[this.suspenseDepth]+=l}r[this.suspenseDepth]+=s}else{var u=i.children[i.childIndex++],p="";At(this.stack),i.debugElementStack.length=0;try{p+=this.render(u,i.context,i.domNamespace)}catch(e){throw null!=e&&"function"==typeof e.then?Error("ReactDOMServer does not yet support Suspense."):e}finally{Dt()}r.length<=this.suspenseDepth&&r.push(""),r[this.suspenseDepth]+=p}}return r[0]}finally{Lt.current=n,He(t),Me()}},n.render=function(t,n,o){if("string"==typeof t||"number"==typeof t){var v=""+t;return""===v?"":this.makeStaticMarkup?ye(v):this.previousWasTextNode?"\x3c!-- --\x3e"+ye(v):(this.previousWasTextNode=!0,ye(v))}var T,k=function(t,n,o){for(;e.isValidElement(t);){var a=t,l=a.type;if($t(a),"function"!=typeof l)break;c(a,l)}function c(e,a){var l,c=function(e){return e.prototype&&e.prototype.isReactComponent}(a),u=function(e,t,n,r){if(r){var o,s=e.contextType;if("contextType"in e&&null!==s&&(void 0===s||s.$$typeof!==p||void 0!==s._context)&&!W.has(e))W.add(e),o=void 0===s?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":"object"!=typeof s?" However, it is set to a "+typeof s+".":s.$$typeof===h?" Did you accidentally pass the Context.Provider instead?":void 0!==s._context?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(s).join(", ")+"}.",i("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",S(e)||"Component",o);if("object"==typeof s&&null!==s)return J(s,n),s[n];var a=X(e,t);return e.contextTypes&&K(e.contextTypes,a,"context"),a}var l=X(e,t);return e.contextTypes&&K(e.contextTypes,l,"context"),l}(a,n,o,c),d=[],f=!1,g={isMounted:function(e){return!1},enqueueForceUpdate:function(e){if(null===d)return sn(e,"forceUpdate"),null},enqueueReplaceState:function(e,t){f=!0,d=[t]},enqueueSetState:function(e,t){if(null===d)return sn(e,"setState"),null;d.push(t)}};if(c){if(l=new a(e.props,u,g),"function"==typeof a.getDerivedStateFromProps){if(null===l.state||void 0===l.state){var m=S(a)||"Unknown";Jt[m]||(i("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",m,null===l.state?"null":"undefined",m),Jt[m]=!0)}var y=a.getDerivedStateFromProps.call(null,e.props,l.state);if(void 0===y){var v=S(a)||"Unknown";Kt[v]||(i("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",v),Kt[v]=!0)}null!=y&&(l.state=r({},l.state,y))}}else{if(a.prototype&&"function"==typeof a.prototype.render){var b=S(a)||"Unknown";qt[b]||(i("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",b,b),qt[b]=!0)}if($e({}),l=a(e.props,u,g),null!=(l=De(a,e.props,l,u))&&null!=l.render){var _=S(a)||"Unknown";Yt[_]||(i("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",_,_,_),Yt[_]=!0)}if(null==l||null==l.render)return void cn(t=l,a)}l.props=e.props,l.context=u,l.updater=g;var E,w=l.state;if(void 0===w&&(l.state=w=null),"function"==typeof l.UNSAFE_componentWillMount||"function"==typeof l.componentWillMount){if("function"==typeof l.componentWillMount){if(!0!==l.componentWillMount.__suppressDeprecationWarning){var T=S(a)||"Unknown";Xt[T]||(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];s("warn",e,n)}("componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code from componentWillMount to componentDidMount (preferred in most cases) or the constructor.\n\nPlease update the following components: %s",T),Xt[T]=!0)}"function"!=typeof a.getDerivedStateFromProps&&l.componentWillMount()}if("function"==typeof l.UNSAFE_componentWillMount&&"function"!=typeof a.getDerivedStateFromProps&&l.UNSAFE_componentWillMount(),d.length){var k=d,C=f;if(d=null,f=!1,C&&1===k.length)l.state=k[0];else{for(var O=C?k[0]:l.state,I=!0,x=C?1:0;x<k.length;x++){var R=k[x],N="function"==typeof R?R.call(l,O,e.props,u):R;null!=N&&(I?(I=!1,O=r({},O,N)):r(O,N))}l.state=O}}else d=null}if(void 0===(t=l.render())&&l.render._isMockFunction&&(t=null),cn(t,a),"function"==typeof l.getChildContext){var A=a.childContextTypes;if("object"==typeof A){for(var $ in E=l.getChildContext())if(!($ in A))throw Error((S(a)||"Unknown")+'.getChildContext(): key "'+$+'" is not defined in childContextTypes.')}else i("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",S(a)||"Unknown")}E&&(n=r({},n,E))}return{child:t,context:n}}(t,n,this.threadID);if(T=k.child,n=k.context,null===T||!1===T)return"";if(!e.isValidElement(T)){if(null!=T&&null!=T.$$typeof){var C=T.$$typeof;if(C===a)throw Error("Portals are not currently supported by the server renderer. Render them conditionally so that they only appear on the client render.");throw Error("Unknown element-like object type: "+C.toString()+". This is likely a bug in React. Please file an issue.")}var O={type:null,domNamespace:o,children:Mt(T),childIndex:0,context:n,footer:"",debugElementStack:[]};return this.stack.push(O),""}var I=T,x=I.type;if("string"==typeof x)return this.renderDOM(I,n,o);switch(x){case w:case E:case c:case u:case g:case l:var R={type:null,domNamespace:o,children:Mt(T.props.children),childIndex:0,context:n,footer:"",debugElementStack:[]};return this.stack.push(R),"";case f:throw Error("ReactDOMServer does not yet support Suspense.");case _:throw Error("ReactDOMServer does not yet support scope components.")}if("object"==typeof x&&null!==x)switch(x.$$typeof){case d:var N,A=T;$e({}),N=x.render(A.props,A.ref),N=De(x.render,A.props,N,A.ref);var $={type:null,domNamespace:o,children:N=Mt(N),childIndex:0,context:n,footer:"",debugElementStack:[]};return this.stack.push($),"";case m:var D=T,M={type:null,domNamespace:o,children:[e.createElement(x.type,r({ref:D.ref},D.props))],childIndex:0,context:n,footer:"",debugElementStack:[]};return this.stack.push(M),"";case h:var P=T,L=P.props,B={type:P,domNamespace:o,children:Mt(L.children),childIndex:0,context:n,footer:"",debugElementStack:[]};return this.pushProvider(P),this.stack.push(B),"";case p:var F=T.type;void 0===F._context?F!==F.Consumer&&(jt||(jt=!0,i("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):F=F._context;var j=T.props,U=this.threadID;J(F,U);var H=F[U],V={type:T,domNamespace:o,children:Mt(j.children(H)),childIndex:0,context:n,footer:"",debugElementStack:[]};return this.stack.push(V),"";case b:throw Error("ReactDOMServer does not yet support the fundamental API.");case y:var G=T,z=T.type,q=z._payload,Y=(0,z._init)(q),Z={type:null,domNamespace:o,children:[e.createElement(Y,r({ref:G.ref},G.props))],childIndex:0,context:n,footer:"",debugElementStack:[]};return this.stack.push(Z),""}var Q="",ee=I._owner;(void 0===x||"object"==typeof x&&null!==x&&0===Object.keys(x).length)&&(Q+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var te=ee?S(ee):null;throw te&&(Q+="\n\nCheck the render method of `"+te+"`."),Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==x?x:typeof x)+"."+Q)},n.renderDOM=function(t,n,o){var s=t.type.toLowerCase(),a=o;o===ze&&(a=qe(s)),a===ze&&s!==t.type&&i("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",t.type),function(e){if(!tn.hasOwnProperty(e)){if(!en.test(e))throw Error("Invalid tag: "+e);tn[e]=!0}}(s);var l=t.props;if("input"===s)Ke(0,l),void 0===l.checked||void 0===l.defaultChecked||Ht||(i("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components","A component",l.type),Ht=!0),void 0===l.value||void 0===l.defaultValue||Ut||(i("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components","A component",l.type),Ut=!0),l=r({type:void 0},l,{defaultChecked:void 0,defaultValue:void 0,value:null!=l.value?l.value:l.defaultValue,checked:null!=l.checked?l.checked:l.defaultChecked});else if("textarea"===s){Ke(0,l),void 0===l.value||void 0===l.defaultValue||Wt||(i("Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components"),Wt=!0);var c=l.value;if(null==c){var u=l.defaultValue,h=l.children;if(null!=h){if(i("Use the `defaultValue` or `value` props instead of setting children on <textarea>."),null!=u)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(Array.isArray(h)){if(!(h.length<=1))throw Error("<textarea> can only have at most one child.");h=h[0]}u=""+h}null==u&&(u=""),c=u}l=r({},l,{value:void 0,children:""+c})}else if("select"===s){Ke(0,l);for(var p=0;p<Zt.length;p++){var d=Zt[p];if(null!=l[d]){var f=Array.isArray(l[d]);l.multiple&&!f?i("The `%s` prop supplied to <select> must be an array if `multiple` is true.",d):!l.multiple&&f&&i("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.",d)}}void 0===l.value||void 0===l.defaultValue||Vt||(i("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),Vt=!0),this.currentSelectValue=null!=l.value?l.value:l.defaultValue,l=r({},l,{value:void 0})}else if("option"===s){var g=null,m=this.currentSelectValue,y=function(t){if(null==t)return t;var n="";return e.Children.forEach(t,(function(e){null!=e&&(n+=e,Gt||"string"==typeof e||"number"==typeof e||(Gt=!0,i("Only strings and numbers are supported as <option> children.")))})),n}(l.children);if(null!=m){var v;if(v=null!=l.value?l.value+"":y,g=!1,Array.isArray(m)){for(var b=0;b<m.length;b++)if(""+m[b]===v){g=!0;break}}else g=""+m===v;l=r({selected:void 0,children:void 0},l,{selected:g,children:y})}}Nt(s,l),function(e,t){if(t){if(Ze[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(e+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!t.suppressContentEditableWarning&&t.contentEditable&&null!=t.children&&i("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),null!=t.style&&"object"!=typeof t.style)throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}(s,l);var _,E=function(e,t,n,r,o,i){var s,a,l="<"+e,c=ot(t,n);for(var u in n)if(an.call(n,u)){var h=n[u];if(null!=h){"style"===u&&(h=on(h));var p=null;c?ln.hasOwnProperty(u)||(a=h,p=ae(s=u)&&null!=a?s+"="+ve(a):""):p=be(u,h),p&&(l+=" "+p)}}return o||i&&(l+=' data-reactroot=""'),l}(t.type,s,l,0,this.makeStaticMarkup,1===this.stack.length),w="";Je.hasOwnProperty(s)?E+="/>":(E+=">",w="</"+t.type+">");var T=function(e){var t=e.dangerouslySetInnerHTML;if(null!=t){if(null!=t.__html)return t.__html}else{var n=e.children;if("string"==typeof n||"number"==typeof n)return ye(n)}return null}(l);null!=T?(_=[],Qt.hasOwnProperty(s)&&"\n"===T.charAt(0)&&(E+="\n"),E+=T):_=Mt(l.children);var k={domNamespace:Ye(o,t.type),type:s,children:_,childIndex:0,context:n,footer:w,debugElementStack:[]};return this.stack.push(k),this.previousWasTextNode=!1,E},t}();t.renderToNodeStream=function(){throw Error("ReactDOMServer.renderToNodeStream(): The streaming API is not available in the browser. Use ReactDOMServer.renderToString() instead.")},t.renderToStaticMarkup=function(e,t){var n=new un(e,!0,t);try{return n.read(1/0)}finally{n.destroy()}},t.renderToStaticNodeStream=function(){throw Error("ReactDOMServer.renderToStaticNodeStream(): The streaming API is not available in the browser. Use ReactDOMServer.renderToStaticMarkup() instead.")},t.renderToString=function(e,t){var n=new un(e,!1,t);try{return n.read(1/0)}finally{n.destroy()}},t.version="17.0.2"}()},931:(e,t,n)=>{"use strict";e.exports=n(9242)},3431:e=>{"use strict";var t=function(e,t){return e+n(t)},n=function(e){return null===e||"boolean"==typeof e||void 0===e?"":"number"==typeof e?e.toString():"string"==typeof e?e:Array.isArray(e)?e.reduce(t,""):function(e){return Object.prototype.hasOwnProperty.call(e,"props")}(e)&&Object.prototype.hasOwnProperty.call(e.props,"children")?n(e.props.children):""};n.default=n,e.exports=n},8156:(e,t)=>{"use strict";!function(){var e="function"==typeof Symbol&&Symbol.for,n=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,o=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,p=e?Symbol.for("react.suspense"):60113,d=e?Symbol.for("react.suspense_list"):60120,f=e?Symbol.for("react.memo"):60115,g=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,v=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:var d=e.type;switch(d){case c:case u:case o:case s:case i:case p:return d;default:var m=d&&d.$$typeof;switch(m){case l:case h:case g:case f:case a:return m;default:return t}}case r:return t}}}var E=c,w=u,T=l,k=a,S=n,C=h,O=o,I=g,x=f,R=r,N=s,A=i,$=p,D=!1;function M(e){return _(e)===u}t.AsyncMode=E,t.ConcurrentMode=w,t.ContextConsumer=T,t.ContextProvider=k,t.Element=S,t.ForwardRef=C,t.Fragment=O,t.Lazy=I,t.Memo=x,t.Portal=R,t.Profiler=N,t.StrictMode=A,t.Suspense=$,t.isAsyncMode=function(e){return D||(D=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),M(e)||_(e)===c},t.isConcurrentMode=M,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===a},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===o},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===f},t.isPortal=function(e){return _(e)===r},t.isProfiler=function(e){return _(e)===s},t.isStrictMode=function(e){return _(e)===i},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===u||e===s||e===i||e===p||e===d||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===f||e.$$typeof===a||e.$$typeof===l||e.$$typeof===h||e.$$typeof===y||e.$$typeof===v||e.$$typeof===b||e.$$typeof===m)},t.typeOf=_}()},524:(e,t,n)=>{"use strict";e.exports=n(8156)},9461:(e,t,n)=>{"use strict";function r(e,t,n,r,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}const o={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach((e=>{o[e]=new r(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((([e,t])=>{o[e]=new r(e,1,!1,t,null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((e=>{o[e]=new r(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((e=>{o[e]=new r(e,2,!1,e,null,!1,!1)})),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach((e=>{o[e]=new r(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((e=>{o[e]=new r(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((e=>{o[e]=new r(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((e=>{o[e]=new r(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((e=>{o[e]=new r(e,5,!1,e.toLowerCase(),null,!1,!1)}));const i=/[\-\:]([a-z])/g,s=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach((e=>{const t=e.replace(i,s);o[t]=new r(t,1,!1,e,null,!1,!1)})),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach((e=>{const t=e.replace(i,s);o[t]=new r(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((e=>{const t=e.replace(i,s);o[t]=new r(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((e=>{o[e]=new r(e,1,!1,e.toLowerCase(),null,!1,!1)})),o.xlinkHref=new r("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((e=>{o[e]=new r(e,1,!1,e.toLowerCase(),null,!0,!0)}));const{CAMELCASE:a,SAME:l,possibleStandardNames:c}=n(146),u=RegExp.prototype.test.bind(new RegExp("^(data|aria)-[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$")),h=Object.keys(c).reduce(((e,t)=>{const n=c[t];return n===l?e[t]=t:n===a?e[t.toLowerCase()]=t:e[t]=n,e}),{});t.BOOLEAN=3,t.BOOLEANISH_STRING=2,t.NUMERIC=5,t.OVERLOADED_BOOLEAN=4,t.POSITIVE_NUMERIC=6,t.RESERVED=0,t.STRING=1,t.getPropertyInfo=function(e){return o.hasOwnProperty(e)?o[e]:null},t.isCustomAttribute=u,t.possibleStandardNames=h},146:(e,t)=>{t.SAME=0,t.CAMELCASE=1,t.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1}},1765:(e,t,n)=>{"use strict";n.d(t,{W6:()=>G});var r=n(701),o=n(9155),i=n.n(o),s=n(9067),a=n.n(s),l=n(9575);function c(e){return"/"===e.charAt(0)}function u(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}const h=function(e,t){if(!e){var n="Warning: "+t;"undefined"!=typeof console&&console.warn(n);try{throw Error(n)}catch(e){}}};function p(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}function d(e,t,n,r){var o;"string"==typeof e?(o=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),o.state=t):(void 0===(o=(0,l.A)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(o.key=n),r?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],o=t&&t.split("/")||[],i=e&&c(e),s=t&&c(t),a=i||s;if(e&&c(e)?o=r:r.length&&(o.pop(),o=o.concat(r)),!o.length)return"/";if(o.length){var l=o[o.length-1];n="."===l||".."===l||""===l}else n=!1;for(var h=0,p=o.length;p>=0;p--){var d=o[p];"."===d?u(o,p):".."===d?(u(o,p),h++):h&&(u(o,p),h--)}if(!a)for(;h--;h)o.unshift("..");!a||""===o[0]||o[0]&&c(o[0])||o.unshift("");var f=o.join("/");return n&&"/"!==f.substr(-1)&&(f+="/"),f}(o.pathname,r.pathname)):o.pathname=r.pathname:o.pathname||(o.pathname="/"),o}function f(e,t,n){return Math.min(Math.max(e,t),n)}"undefined"==typeof window||!window.document||window.document.createElement;var g=!1,m="Invariant failed";function y(e,t){if(!e){if(g)throw new Error(m);var n="function"==typeof t?t():t,r=n?"".concat(m,": ").concat(n):m;throw new Error(r)}}var v=n(3673),b=n.n(v),_=n(524),E=n(7502),w=(n(5985),1073741823),T="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:{},k=i().createContext||function(e,t){var n,o,s="__create-react-context-"+function(){var e="__global_unique_id__";return T[e]=(T[e]||0)+1}()+"__",l=function(e){function n(){for(var t,n,r,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))||this).emitter=(n=t.props.value,r=[],{on:function(e){r.push(e)},off:function(e){r=r.filter((function(t){return t!==e}))},get:function(){return n},set:function(e,t){n=e,r.forEach((function(e){return e(n,t)}))}}),t}(0,r.A)(n,e);var o=n.prototype;return o.getChildContext=function(){var e;return(e={})[s]=this.emitter,e},o.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,o=e.value;((i=r)===(s=o)?0!==i||1/i==1/s:i!=i&&s!=s)?n=0:(n="function"==typeof t?t(r,o):w,h((n&w)===n,"calculateChangedBits: Expected the return value to be a 31-bit integer. Instead received: "+n),0!=(n|=0)&&this.emitter.set(e.value,n))}var i,s},o.render=function(){return this.props.children},n}(i().Component);l.childContextTypes=((n={})[s]=a().object.isRequired,n);var c=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).observedBits=void 0,e.state={value:e.getValue()},e.onUpdate=function(t,n){e.observedBits&n&&e.setState({value:e.getValue()})},e}(0,r.A)(n,t);var o=n.prototype;return o.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?w:t},o.componentDidMount=function(){this.context[s]&&this.context[s].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?w:e},o.componentWillUnmount=function(){this.context[s]&&this.context[s].off(this.onUpdate)},o.getValue=function(){return this.context[s]?this.context[s].get():e},o.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(i().Component);return c.contextTypes=((o={})[s]=a().object,o),{Provider:l,Consumer:c}},S=function(e){var t=k();return t.displayName=e,t},C=S("Router-History"),O=S("Router"),I=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}(0,r.A)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},n.render=function(){return i().createElement(O.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},i().createElement(C.Provider,{children:this.props.children||null,value:this.props.history}))},t}(i().Component);I.propTypes={children:a().node,history:a().object.isRequired,staticContext:a().object},I.prototype.componentDidUpdate=function(e){h(e.history===this.props.history,"You cannot change <Router history>")};var x=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).history=function(e){void 0===e&&(e={});var t,n,r=e,o=r.getUserConfirmation,i=r.initialEntries,s=void 0===i?["/"]:i,a=r.initialIndex,c=void 0===a?0:a,u=r.keyLength,g=void 0===u?6:u,m=(t=null,n=[],{setPrompt:function(e){return h(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},confirmTransitionTo:function(e,n,r,o){if(null!=t){var i="function"==typeof t?t(e,n):t;"string"==typeof i?"function"==typeof r?r(i,o):(h(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==i)}else o(!0)},appendListener:function(e){var t=!0;function r(){t&&e.apply(void 0,arguments)}return n.push(r),function(){t=!1,n=n.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];n.forEach((function(e){return e.apply(void 0,t)}))}});function y(e){(0,l.A)(T,e),T.length=T.entries.length,m.notifyListeners(T.location,T.action)}function v(){return Math.random().toString(36).substr(2,g)}var b=f(c,0,s.length-1),_=s.map((function(e){return d(e,void 0,"string"==typeof e?v():e.key||v())})),E=p;function w(e){var t=f(T.index+e,0,T.entries.length-1),n=T.entries[t];m.confirmTransitionTo(n,"POP",o,(function(e){e?y({action:"POP",location:n,index:t}):y()}))}var T={length:_.length,action:"POP",location:_[b],index:b,entries:_,createHref:E,push:function(e,t){h(!("object"==typeof e&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var n="PUSH",r=d(e,t,v(),T.location);m.confirmTransitionTo(r,n,o,(function(e){if(e){var t=T.index+1,o=T.entries.slice(0);o.length>t?o.splice(t,o.length-t,r):o.push(r),y({action:n,location:r,index:t,entries:o})}}))},replace:function(e,t){h(!("object"==typeof e&&void 0!==e.state&&void 0!==t),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var n="REPLACE",r=d(e,t,v(),T.location);m.confirmTransitionTo(r,n,o,(function(e){e&&(T.entries[T.index]=r,y({action:n,location:r}))}))},go:w,goBack:function(){w(-1)},goForward:function(){w(1)},canGo:function(e){var t=T.index+e;return t>=0&&t<T.entries.length},block:function(e){return void 0===e&&(e=!1),m.setPrompt(e)},listen:function(e){return m.appendListener(e)}};return T}(t.props),t}return(0,r.A)(t,e),t.prototype.render=function(){return i().createElement(I,{history:this.history,children:this.props.children})},t}(i().Component);x.propTypes={initialEntries:a().array,initialIndex:a().number,getUserConfirmation:a().func,keyLength:a().number,children:a().node},x.prototype.componentDidMount=function(){h(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},i().Component;var R=a().oneOfType([a().func,a().string]);a().bool,R.isRequired,a().bool,a().string,a().oneOfType([a().string,a().object]).isRequired;var N={},A=0;function $(e,t){void 0===t&&(t={}),("string"==typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,o=n.exact,i=void 0!==o&&o,s=n.strict,a=void 0!==s&&s,l=n.sensitive,c=void 0!==l&&l;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=N[n]||(N[n]={});if(r[e])return r[e];var o=[],i={regexp:b()(e,o,t),keys:o};return A<1e4&&(r[e]=i,A++),i}(n,{end:i,strict:a,sensitive:c}),o=r.regexp,s=r.keys,l=o.exec(e);if(!l)return null;var u=l[0],h=l.slice(1),p=e===u;return i&&!p?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:p,params:s.reduce((function(e,t,n){return e[t.name]=h[n],e}),{})}}),null)}function D(e){return 0===i().Children.count(e)}function M(e,t,n){var r=e(t);return h(void 0!==r,"You returned `undefined` from the `children` function of <Route"+(n?' path="'+n+'"':"")+">, but you should have returned a React element or `null`"),r||null}var P=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.A)(t,e),t.prototype.render=function(){var e=this;return i().createElement(O.Consumer,null,(function(t){t||y(!1,"You should not use <Route> outside a <Router>");var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?$(n.pathname,e.props):t.match,o=(0,l.A)({},t,{location:n,match:r}),s=e.props,a=s.children,c=s.component,u=s.render;return Array.isArray(a)&&D(a)&&(a=null),i().createElement(O.Provider,{value:o},o.match?a?"function"==typeof a?M(a,o,e.props.path):a:c?i().createElement(c,o):u?u(o):null:"function"==typeof a?M(a,o,e.props.path):null)}))},t}(i().Component);function L(e){return"/"===e.charAt(0)?e:"/"+e}function B(e,t){if(!e)return t;var n=L(e);return 0!==t.pathname.indexOf(n)?t:(0,l.A)({},t,{pathname:t.pathname.substr(n.length)})}function F(e){return"string"==typeof e?e:p(e)}function j(e){return function(){y(!1,"You cannot %s with <StaticRouter>")}}function U(){}P.propTypes={children:a().oneOfType([a().func,a().node]),component:function(e,t){if(e[t]&&!(0,_.isValidElementType)(e[t]))return new Error("Invalid prop 'component' supplied to 'Route': the prop is not a valid React component")},exact:a().bool,location:a().object,path:a().oneOfType([a().string,a().arrayOf(a().string)]),render:a().func,sensitive:a().bool,strict:a().bool},P.prototype.componentDidMount=function(){h(!(this.props.children&&!D(this.props.children)&&this.props.component),"You should not use <Route component> and <Route children> in the same route; <Route component> will be ignored"),h(!(this.props.children&&!D(this.props.children)&&this.props.render),"You should not use <Route render> and <Route children> in the same route; <Route render> will be ignored"),h(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored")},P.prototype.componentDidUpdate=function(e){h(!(this.props.location&&!e.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),h(!(!this.props.location&&e.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')};var H=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).handlePush=function(e){return t.navigateTo(e,"PUSH")},t.handleReplace=function(e){return t.navigateTo(e,"REPLACE")},t.handleListen=function(){return U},t.handleBlock=function(){return U},t}(0,r.A)(t,e);var n=t.prototype;return n.navigateTo=function(e,t){var n=this.props,r=n.basename,o=void 0===r?"":r,i=n.context,s=void 0===i?{}:i;s.action=t,s.location=function(e,t){return e?(0,l.A)({},t,{pathname:L(e)+t.pathname}):t}(o,d(e)),s.url=F(s.location)},n.render=function(){var e=this.props,t=e.basename,n=void 0===t?"":t,r=e.context,o=void 0===r?{}:r,s=e.location,a=void 0===s?"/":s,c=(0,E.A)(e,["basename","context","location"]),u={createHref:function(e){return L(n+F(e))},action:"POP",location:B(n,d(a)),push:this.handlePush,replace:this.handleReplace,go:j(),goBack:j(),goForward:j(),listen:this.handleListen,block:this.handleBlock};return i().createElement(I,(0,l.A)({},c,{history:u,staticContext:o}))},t}(i().Component);H.propTypes={basename:a().string,context:a().object,location:a().oneOfType([a().string,a().object])},H.prototype.componentDidMount=function(){h(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")};var V=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.A)(t,e),t.prototype.render=function(){var e=this;return i().createElement(O.Consumer,null,(function(t){t||y(!1,"You should not use <Switch> outside a <Router>");var n,r,o=e.props.location||t.location;return i().Children.forEach(e.props.children,(function(e){if(null==r&&i().isValidElement(e)){n=e;var s=e.props.path||e.props.from;r=s?$(o.pathname,(0,l.A)({},e.props,{path:s})):t.match}})),r?i().cloneElement(n,{location:o,computedMatch:r}):null}))},t}(i().Component);V.propTypes={children:a().node,location:a().object},V.prototype.componentDidUpdate=function(e){h(!(this.props.location&&!e.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),h(!(!this.props.location&&e.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')};var W=i().useContext;function G(){return"function"!=typeof W&&y(!1,"You must use React >= 16.8 in order to use useHistory()"),W(C)}if("undefined"!=typeof window){var z=window,q="__react_router_build__",Y={cjs:"CommonJS",esm:"ES modules",umd:"UMD"};if(z[q]&&"esm"!==z[q]){var X=Y[z[q]];throw new Error("You are loading the "+Y.esm+" build of React Router on a page that is already running the "+X+" build, so things won't work right.")}z[q]="esm"}},715:(e,t,n)=>{"use strict";n.d(t,{A:()=>C});var r=n(9575),o=n(7502),i=n(701),s=n(9067),a=n.n(s);function l(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var c=n(9155),u=n.n(c),h=n(9514),p=n.n(h);var d=a().oneOfType([a().number,a().shape({enter:a().number,exit:a().number,appear:a().number}).isRequired]),f=a().oneOfType([a().string,a().shape({enter:a().string,exit:a().string,active:a().string}),a().shape({enter:a().string,enterDone:a().string,enterActive:a().string,exit:a().string,exitDone:a().string,exitActive:a().string})]);const g=u().createContext(null);var m="unmounted",y="exited",v="entering",b="entered",_="exiting",E=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=y,r.appearStatus=v):o=b:o=t.unmountOnExit||t.mountOnEnter?m:y,r.state={status:o},r.nextCallback=null,r}(0,i.A)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===m?{status:y}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==v&&n!==b&&(t=v):n!==v&&n!==b||(t=_)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===v?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===y&&this.setState({status:m})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[p().findDOMNode(this),r],i=o[0],s=o[1],a=this.getTimeouts(),l=r?a.appear:a.enter;e||n?(this.props.onEnter(i,s),this.safeSetState({status:v},(function(){t.props.onEntering(i,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:b},(function(){t.props.onEntered(i,s)}))}))}))):this.safeSetState({status:b},(function(){t.props.onEntered(i)}))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:p().findDOMNode(this);t?(this.props.onExit(r),this.safeSetState({status:_},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:y},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:y},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:p().findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],s=o[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===m)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,o.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return u().createElement(g.Provider,{value:null},"function"==typeof n?n(e,r):u().cloneElement(u().Children.only(n),r))},t}(u().Component);function w(){}E.contextType=g,E.propTypes={nodeRef:a().shape({current:"undefined"==typeof Element?a().any:function(e,t,n,r,o,i){var s=e[t];return a().instanceOf(s&&"ownerDocument"in s?s.ownerDocument.defaultView.Element:Element)(e,t,n,r,o,i)}}),children:a().oneOfType([a().func.isRequired,a().element.isRequired]).isRequired,in:a().bool,mountOnEnter:a().bool,unmountOnExit:a().bool,appear:a().bool,enter:a().bool,exit:a().bool,timeout:function(e){var t=d;e.addEndListener||(t=t.isRequired);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return t.apply(void 0,[e].concat(r))},addEndListener:a().func,onEnter:a().func,onEntering:a().func,onEntered:a().func,onExit:a().func,onExiting:a().func,onExited:a().func},E.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:w,onEntering:w,onEntered:w,onExit:w,onExiting:w,onExited:w},E.UNMOUNTED=m,E.EXITED=y,E.ENTERING=v,E.ENTERED=b,E.EXITING=_;const T=E;var k=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=l(n.className,r):n.setAttribute("class",l(n.className&&n.className.baseVal||"",r)));var n,r}))},S=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1];t.removeClasses(o,"exit"),t.addClass(o,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1]?"appear":"enter";t.addClass(o,i,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1]?"appear":"enter";t.removeClasses(o,i),t.addClass(o,i,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,o=r?(r&&n?n+"-":"")+e:n[e];return{baseClassName:o,activeClassName:r?o+"-active":n[e+"Active"],doneClassName:r?o+"-done":n[e+"Done"]}},t}(0,i.A)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&o&&(r+=" "+o),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,o=n.active,i=n.done;this.appliedClasses[t]={},r&&k(e,r),o&&k(e,o),i&&k(e,i)},n.render=function(){var e=this.props,t=(e.classNames,(0,o.A)(e,["classNames"]));return u().createElement(T,(0,r.A)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(u().Component);S.defaultProps={classNames:""},S.propTypes=(0,r.A)({},T.propTypes,{classNames:f,onEnter:a().func,onEntering:a().func,onEntered:a().func,onExit:a().func,onExiting:a().func,onExited:a().func});const C=S},9173:(e,t,n)=>{"use strict";!function(){var e=n(9155),r=n(1513),o=60103,i=60106;t.F=60107;var s=60108,a=60114,l=60109,c=60110,u=60112,h=60113,p=60120,d=60115,f=60116,g=60121,m=60122,y=60117,v=60129,b=60131;if("function"==typeof Symbol&&Symbol.for){var _=Symbol.for;o=_("react.element"),i=_("react.portal"),t.F=_("react.fragment"),s=_("react.strict_mode"),a=_("react.profiler"),l=_("react.provider"),c=_("react.context"),u=_("react.forward_ref"),h=_("react.suspense"),p=_("react.suspense_list"),d=_("react.memo"),f=_("react.lazy"),g=_("react.block"),m=_("react.server.block"),y=_("react.fundamental"),_("react.scope"),_("react.opaque.id"),v=_("react.debug_trace_mode"),_("react.offscreen"),b=_("react.legacy_hidden")}var E="function"==typeof Symbol&&Symbol.iterator,w=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function T(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];!function(e,t,n){var r=w.ReactDebugCurrentFrame.getStackAddendum();""!==r&&(t+="%s",n=n.concat([r]));var o=n.map((function(e){return""+e}));o.unshift("Warning: "+t),Function.prototype.apply.call(console.error,console,o)}(0,e,n)}function k(e){return e.displayName||"Context"}function S(e){if(null==e)return null;if("number"==typeof e.tag&&T("Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case t.F:return"Fragment";case i:return"Portal";case a:return"Profiler";case s:return"StrictMode";case h:return"Suspense";case p:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case c:return k(e)+".Consumer";case l:return k(e._context)+".Provider";case u:return m=e,v="ForwardRef",b=(y=e.render).displayName||y.name||"",m.displayName||(""!==b?v+"("+b+")":v);case d:return S(e.type);case g:return S(e._render);case f:var n=e,r=n._payload,o=n._init;try{return S(o(r))}catch(e){return null}}var m,y,v,b;return null}var C,O,I,x,R,N,A,$=0;function D(){}D.__reactDisabledLog=!0;var M,P=w.ReactCurrentDispatcher;function L(e,t,n){if(void 0===M)try{throw Error()}catch(e){var r=e.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||""}return"\n"+M+e}var B,F=!1,j="function"==typeof WeakMap?WeakMap:Map;function U(e,t){if(!e||F)return"";var n,o=B.get(e);if(void 0!==o)return o;F=!0;var i,s=Error.prepareStackTrace;Error.prepareStackTrace=void 0,i=P.current,P.current=null,function(){if(0===$){C=console.log,O=console.info,I=console.warn,x=console.error,R=console.group,N=console.groupCollapsed,A=console.groupEnd;var e={configurable:!0,enumerable:!0,value:D,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}$++}();try{if(t){var a=function(){throw Error()};if(Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(a,[])}catch(e){n=e}Reflect.construct(e,[],a)}else{try{a.call()}catch(e){n=e}e.call(a.prototype)}}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var l=t.stack.split("\n"),c=n.stack.split("\n"),u=l.length-1,h=c.length-1;u>=1&&h>=0&&l[u]!==c[h];)h--;for(;u>=1&&h>=0;u--,h--)if(l[u]!==c[h]){if(1!==u||1!==h)do{if(u--,--h<0||l[u]!==c[h]){var p="\n"+l[u].replace(" at new "," at ");return"function"==typeof e&&B.set(e,p),p}}while(u>=1&&h>=0);break}}}finally{F=!1,P.current=i,function(){if(0==--$){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:r({},e,{value:C}),info:r({},e,{value:O}),warn:r({},e,{value:I}),error:r({},e,{value:x}),group:r({},e,{value:R}),groupCollapsed:r({},e,{value:N}),groupEnd:r({},e,{value:A})})}$<0&&T("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=s}var d=e?e.displayName||e.name:"",f=d?L(d):"";return"function"==typeof e&&B.set(e,f),f}function H(e,t,n){return U(e,!1)}function V(e,t,n){if(null==e)return"";if("function"==typeof e)return U(e,!(!(r=e.prototype)||!r.isReactComponent));var r;if("string"==typeof e)return L(e);switch(e){case h:return L("Suspense");case p:return L("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case u:return H(e.render);case d:return V(e.type,t,n);case g:return H(e._render);case f:var o=e,i=o._payload,s=o._init;try{return V(s(i),t,n)}catch(e){}}return""}B=new j;var W={},G=w.ReactDebugCurrentFrame;function z(e){if(e){var t=e._owner,n=V(e.type,e._source,t?t.type:null);G.setExtraStackFrame(n)}else G.setExtraStackFrame(null)}var q,Y,X,K=w.ReactCurrentOwner,J=Object.prototype.hasOwnProperty,Z={key:!0,ref:!0,__self:!0,__source:!0};X={};var Q,ee=w.ReactCurrentOwner,te=w.ReactDebugCurrentFrame;function ne(e){if(e){var t=e._owner,n=V(e.type,e._source,t?t.type:null);te.setExtraStackFrame(n)}else te.setExtraStackFrame(null)}function re(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}function oe(){if(ee.current){var e=S(ee.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}Q=!1;var ie={};function se(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=function(e){var t=oe();if(!t){var n="string"==typeof e?e:e.displayName||e.name;n&&(t="\n\nCheck the top-level render call using <"+n+">.")}return t}(t);if(!ie[n]){ie[n]=!0;var r="";e&&e._owner&&e._owner!==ee.current&&(r=" It was passed a child from "+S(e._owner.type)+"."),ne(e),T('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',n,r),ne(null)}}}function ae(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];re(r)&&se(r,t)}else if(re(e))e._store&&(e._store.validated=!0);else if(e){var o=function(e){if(null===e||"object"!=typeof e)return null;var t=E&&e[E]||e["@@iterator"];return"function"==typeof t?t:null}(e);if("function"==typeof o&&o!==e.entries)for(var i,s=o.call(e);!(i=s.next()).done;)re(i.value)&&se(i.value,t)}}function le(e,n,r,i,_,E){var w=function(e){return"string"==typeof e||"function"==typeof e||e===t.F||e===a||e===v||e===s||e===h||e===p||e===b||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===d||e.$$typeof===l||e.$$typeof===c||e.$$typeof===u||e.$$typeof===y||e.$$typeof===g||e[0]===m)}(e);if(!w){var k="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(k+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var C,O=function(e){return void 0!==e?"\n\nCheck your code at "+e.fileName.replace(/^.*[\\\/]/,"")+":"+e.lineNumber+".":""}(_);k+=O||oe(),null===e?C="null":Array.isArray(e)?C="array":void 0!==e&&e.$$typeof===o?(C="<"+(S(e.type)||"Unknown")+" />",k=" Did you accidentally export a JSX literal instead of a component?"):C=typeof e,T("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",C,k)}var I=function(e,t,n,r,i){var s,a={},l=null,c=null;for(s in void 0!==n&&(l=""+n),function(e){if(J.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}(t)&&(l=""+t.key),function(e){if(J.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}(t)&&(c=t.ref,function(e,t){if("string"==typeof e.ref&&K.current&&t&&K.current.stateNode!==t){var n=S(K.current.type);X[n]||(T('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',S(K.current.type),e.ref),X[n]=!0)}}(t,i)),t)J.call(t,s)&&!Z.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps){var u=e.defaultProps;for(s in u)void 0===a[s]&&(a[s]=u[s])}if(l||c){var h="function"==typeof e?e.displayName||e.name||"Unknown":e;l&&function(e,t){var n=function(){q||(q=!0,T("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}(a,h),c&&function(e,t){var n=function(){Y||(Y=!0,T("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}(a,h)}return function(e,t,n,r,i,s,a){var l={$$typeof:o,type:e,key:t,ref:n,props:a,_owner:s,_store:{}};return Object.defineProperty(l._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(l,"_self",{configurable:!1,enumerable:!1,writable:!1,value:r}),Object.defineProperty(l,"_source",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.freeze&&(Object.freeze(l.props),Object.freeze(l)),l}(e,l,c,i,r,K.current,a)}(e,n,r,_,E);if(null==I)return I;if(w){var x=n.children;if(void 0!==x)if(i)if(Array.isArray(x)){for(var R=0;R<x.length;R++)ae(x[R],e);Object.freeze&&Object.freeze(x)}else T("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ae(x,e)}return e===t.F?function(e){for(var t=Object.keys(e.props),n=0;n<t.length;n++){var r=t[n];if("children"!==r&&"key"!==r){ne(e),T("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",r),ne(null);break}}null!==e.ref&&(ne(e),T("Invalid attribute `ref` supplied to `React.Fragment`."),ne(null))}(I):function(e){var t,n=e.type;if(null!=n&&"string"!=typeof n){if("function"==typeof n)t=n.propTypes;else{if("object"!=typeof n||n.$$typeof!==u&&n.$$typeof!==d)return;t=n.propTypes}if(t){var r=S(n);!function(e,t,n,r,o){var i=Function.call.bind(Object.prototype.hasOwnProperty);for(var s in e)if(i(e,s)){var a=void 0;try{if("function"!=typeof e[s]){var l=Error((r||"React class")+": "+n+" type `"+s+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[s]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw l.name="Invariant Violation",l}a=e[s](t,s,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){a=e}!a||a instanceof Error||(z(o),T("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,s,typeof a),z(null)),a instanceof Error&&!(a.message in W)&&(W[a.message]=!0,z(o),T("Failed %s type: %s",n,a.message),z(null))}}(t,e.props,"prop",r,e)}else void 0===n.PropTypes||Q||(Q=!0,T("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",S(n)||"Unknown"));"function"!=typeof n.getDefaultProps||n.getDefaultProps.isReactClassApproved||T("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}(I),I}t.jsx=function(e,t,n){return le(e,t,n,!1)},t.jsxs=function(e,t,n){return le(e,t,n,!0)}}()},1085:(e,t,n)=>{"use strict";e.exports=n(9173)},6074:(e,t,n)=>{"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}n.d(t,{A:()=>i});var o=r();o.withExtraArgument=r;const i=o},4848:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t,n){return(t=function(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{Tw:()=>d,y$:()=>h});var a="function"==typeof Symbol&&Symbol.observable||"@@observable",l=function(){return Math.random().toString(36).substring(7).split("").join(".")},c={INIT:"@@redux/INIT"+l(),REPLACE:"@@redux/REPLACE"+l(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+l()}};function u(e){return function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;switch(t){case"boolean":case"string":case"number":case"symbol":case"function":return t}if(Array.isArray(e))return"array";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";var n=function(e){return"function"==typeof e.constructor?e.constructor.name:null}(e);switch(n){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return n}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")}(e)}function h(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.");if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function. Instead, received: '"+u(n)+"'");return n(h)(e,t)}if("function"!=typeof e)throw new Error("Expected the root reducer to be a function. Instead, received: '"+u(e)+"'");var o=e,i=t,s=[],l=s,p=!1;function d(){l===s&&(l=s.slice())}function f(){if(p)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return i}function g(e){if("function"!=typeof e)throw new Error("Expected the listener to be a function. Instead, received: '"+u(e)+"'");if(p)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.");var t=!0;return d(),l.push(e),function(){if(t){if(p)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.");t=!1,d();var n=l.indexOf(e);l.splice(n,1),s=null}}}function m(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw new Error("Actions must be plain objects. Instead, the actual type was: '"+u(e)+"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. You may have misspelled an action type string constant.');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,i=o(i,e)}finally{p=!1}for(var t=s=l,n=0;n<t.length;n++)(0,t[n])();return e}return m({type:c.INIT}),(r={dispatch:m,subscribe:g,getState:f,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function. Instead, received: '"+u(e));o=e,m({type:c.REPLACE})}})[a]=function(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error("Expected the observer to be an object. Instead, received: '"+u(e)+"'");function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[a]=function(){return this},e},r}function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},i=t.map((function(e){return e(o)}));return r=p.apply(void 0,i)(n.dispatch),s(s({},n),{},{dispatch:r})}}}},1139:e=>{var t=new Error("Element already at target scroll position"),n=new Error("Scroll cancelled"),r=Math.min,o=Date.now;function i(e){return function(i,l,c,u){"function"==typeof(c=c||{})&&(u=c,c={}),"function"!=typeof u&&(u=a);var h=o(),p=i[e],d=c.ease||s,f=isNaN(c.duration)?350:+c.duration,g=!1;return p===l?u(t,i[e]):requestAnimationFrame((function t(s){if(g)return u(n,i[e]);var a=o(),c=r(1,(a-h)/f),m=d(c);i[e]=m*(l-p)+p,c<1?requestAnimationFrame(t):requestAnimationFrame((function(){u(null,i[e])}))})),function(){g=!0}}}function s(e){return.5*(1-Math.cos(Math.PI*e))}function a(){}e.exports={left:i("scrollLeft"),top:i("scrollTop")}},9794:function(e,t){var n,r;void 0===(r="function"==typeof(n=function(){function e(e){var t=getComputedStyle(e,null).getPropertyValue("overflow");return t.indexOf("scroll")>-1||t.indexOf("auto")>-1}return function(t){if(t instanceof HTMLElement||t instanceof SVGElement){for(var n=t.parentNode;n.parentNode;){if(e(n))return n;n=n.parentNode}return document.scrollingElement||document.documentElement}}})?n.apply(t,[]):n)||(e.exports=r)},1020:function(e,t,n){"use strict";var r=(this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(n(8052)),o=n(576);function i(e,t){var n={};return e&&"string"==typeof e?((0,r.default)(e,(function(e,r){e&&r&&(n[(0,o.camelCase)(e,t)]=r)})),n):n}i.default=i,e.exports=i},576:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.camelCase=void 0;var n=/^--[a-zA-Z0-9-]+$/,r=/-([a-z])/g,o=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,s=/^-(ms)-/,a=function(e,t){return t.toUpperCase()},l=function(e,t){return"".concat(t,"-")};t.camelCase=function(e,t){return void 0===t&&(t={}),function(e){return!e||o.test(e)||n.test(e)}(e)?e:(e=e.toLowerCase(),(e=t.reactCompat?e.replace(s,l):e.replace(i,l)).replace(r,a))}},8052:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(5937));t.default=function(e,t){var n=null;if(!e||"string"!=typeof e)return n;var r=(0,o.default)(e),i="function"==typeof t;return r.forEach((function(e){if("declaration"===e.type){var r=e.property,o=e.value;i?t(r,o,e):o&&((n=n||{})[r]=o)}})),n}},2702:e=>{function t(e,t){var n=e.length,r=new Array(n),o={},i=n,s=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var o=e[n];t.has(o[0])||t.set(o[0],new Set),t.has(o[1])||t.set(o[1],new Set),t.get(o[0]).add(o[1])}return t}(t),a=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach((function(e){if(!a.has(e[0])||!a.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")}));i--;)o[i]||l(e[i],i,new Set);return r;function l(e,t,i){if(i.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(e){c=""}throw new Error("Cyclic dependency"+c)}if(!a.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!o[t]){o[t]=!0;var u=s.get(e)||new Set;if(t=(u=Array.from(u)).length){i.add(e);do{var h=u[--t];l(h,a.get(h),i)}while(t);i.delete(e)}r[--n]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var o=e[n];t.add(o[0]),t.add(o[1])}return Array.from(t)}(e),e)},e.exports.array=t},2964:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});const r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var o,i=new Uint8Array(16);function s(){if(!o&&!(o="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return o(i)}for(var a=[],l=0;l<256;++l)a.push((l+256).toString(16).slice(1));const c=function(e,t,n){if(r.randomUUID&&!t&&!e)return r.randomUUID();var o=(e=e||{}).random||(e.rng||s)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=o[i];return t}return function(e,t=0){return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}(o)}},6200:(e,t,n)=>{"use strict";var r,o;n.d(t,{ai:()=>U,Ik:()=>ae});try{r=Map}catch(e){}try{o=Set}catch(e){}function i(e,t,n){if(!e||"object"!=typeof e||"function"==typeof e)return e;if(e.nodeType&&"cloneNode"in e)return e.cloneNode(!0);if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return new RegExp(e);if(Array.isArray(e))return e.map(s);if(r&&e instanceof r)return new Map(Array.from(e.entries()));if(o&&e instanceof o)return new Set(Array.from(e.values()));if(e instanceof Object){t.push(e);var a=Object.create(e);for(var l in n.push(a),e){var c=t.findIndex((function(t){return t===e[l]}));a[l]=c>-1?n[c]:i(e[l],t,n)}return a}return e}function s(e){return i(e,[],[])}const a=Object.prototype.toString,l=Error.prototype.toString,c=RegExp.prototype.toString,u="undefined"!=typeof Symbol?Symbol.prototype.toString:()=>"",h=/^Symbol\((.*)\)(.*)$/;function p(e,t=!1){if(null==e||!0===e||!1===e)return""+e;const n=typeof e;if("number"===n)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===n)return t?`"${e}"`:e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return u.call(e).replace(h,"Symbol($1)");const r=a.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+l.call(e)+"]":"RegExp"===r?c.call(e):null}function d(e,t){let n=p(e,t);return null!==n?n:JSON.stringify(e,(function(e,n){let r=p(this[e],t);return null!==r?r:n}),2)}let f={default:"${path} is invalid",required:"${path} is a required field",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:e,type:t,value:n,originalValue:r})=>{let o=null!=r&&r!==n,i=`${e} must be a \`${t}\` type, but the final value was: \`${d(n,!0)}\``+(o?` (cast from the value \`${d(r,!0)}\`).`:".");return null===n&&(i+='\n If "null" is intended as an empty value be sure to mark the schema as `.nullable()`'),i},defined:"${path} must be defined"},g={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},m={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},y={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},v={isValue:"${path} field must be ${value}"},b={noUnknown:"${path} field has unspecified keys: ${unknown}"},_={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"};Object.assign(Object.create(null),{mixed:f,string:g,number:m,date:y,object:b,array:_,boolean:v});var E=n(2103),w=n.n(E);const T=e=>e&&e.__isYupSchema__,k=class{constructor(e,t){if(this.fn=void 0,this.refs=e,this.refs=e,"function"==typeof t)return void(this.fn=t);if(!w()(t,"is"))throw new TypeError("`is:` is required for `when()` conditions");if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:r,otherwise:o}=t,i="function"==typeof n?n:(...e)=>e.every((e=>e===n));this.fn=function(...e){let t=e.pop(),n=e.pop(),s=i(...e)?r:o;if(s)return"function"==typeof s?s(n):n.concat(s.resolve(t))}}resolve(e,t){let n=this.refs.map((e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context))),r=this.fn.apply(e,n.concat(e,t));if(void 0===r||r===e)return e;if(!T(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}};function S(e){return null==e?[]:[].concat(e)}function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}let O=/\$\{\s*(\w+)\s*\}/g;class I extends Error{static formatError(e,t){const n=t.label||t.path||"this";return n!==t.path&&(t=C({},t,{path:n})),"string"==typeof e?e.replace(O,((e,n)=>d(t[n]))):"function"==typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,n,r){super(),this.value=void 0,this.path=void 0,this.type=void 0,this.errors=void 0,this.params=void 0,this.inner=void 0,this.name="ValidationError",this.value=t,this.path=n,this.type=r,this.errors=[],this.inner=[],S(e).forEach((e=>{I.isError(e)?(this.errors.push(...e.errors),this.inner=this.inner.concat(e.inner.length?e.inner:e)):this.errors.push(e)})),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0],Error.captureStackTrace&&Error.captureStackTrace(this,I)}}function x(e,t){let{endEarly:n,tests:r,args:o,value:i,errors:s,sort:a,path:l}=e,c=(e=>{let t=!1;return(...n)=>{t||(t=!0,e(...n))}})(t),u=r.length;const h=[];if(s=s||[],!u)return s.length?c(new I(s,i,l)):c(null,i);for(let e=0;e<r.length;e++)(0,r[e])(o,(function(e){if(e){if(!I.isError(e))return c(e,i);if(n)return e.value=i,c(e,i);h.push(e)}if(--u<=0){if(h.length&&(a&&h.sort(a),s.length&&h.push(...s),s=h),s.length)return void c(new I(s,i,l),i);c(null,i)}}))}var R=n(6155),N=n.n(R),A=n(1293);class ${constructor(e,t={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!=typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext="$"===this.key[0],this.isValue="."===this.key[0],this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?"$":this.isValue?".":"";this.path=this.key.slice(n.length),this.getter=this.path&&(0,A.getter)(this.path,!0),this.map=t.map}getValue(e,t,n){let r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}function D(){return D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)}function M(e){function t(t,n){let{value:r,path:o="",label:i,options:s,originalValue:a,sync:l}=t,c=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(t,["value","path","label","options","originalValue","sync"]);const{name:u,test:h,params:p,message:d}=e;let{parent:f,context:g}=s;function m(e){return $.isRef(e)?e.getValue(r,f,g):e}function y(e={}){const t=N()(D({value:r,originalValue:a,label:i,path:e.path||o},p,e.params),m),n=new I(I.formatError(e.message||d,t),r,t.path,e.type||u);return n.params=t,n}let v,b=D({path:o,parent:f,type:u,createError:y,resolve:m,options:s,originalValue:a},c);if(l){try{var _;if(v=h.call(b,r,b),"function"==typeof(null==(_=v)?void 0:_.then))throw new Error(`Validation test of type: "${b.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`)}catch(e){return void n(e)}I.isError(v)?n(v):v?n(null,v):n(y())}else try{Promise.resolve(h.call(b,r,b)).then((e=>{I.isError(e)?n(e):e?n(null,e):n(y())})).catch(n)}catch(e){n(e)}}return t.OPTIONS=e,t}function P(e,t,n,r=n){let o,i,s;return t?((0,A.forEach)(t,((a,l,c)=>{let u=l?(e=>e.substr(0,e.length-1).substr(1))(a):a;if((e=e.resolve({context:r,parent:o,value:n})).innerType){let r=c?parseInt(u,10):0;if(n&&r>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${a}, in the path: ${t}. because there is no value at that index. `);o=n,n=n&&n[r],e=e.innerType}if(!c){if(!e.fields||!e.fields[u])throw new Error(`The schema does not contain the path: ${t}. (failed at: ${s} which is a type: "${e._type}")`);o=n,n=n&&n[u],e=e.fields[u]}i=u,s=l?"["+a+"]":"."+a})),{schema:e,parent:o,parentPath:i}):{parent:o,parentPath:t,schema:e}}$.prototype.__isYupRef=!0;class L{constructor(){this.list=void 0,this.refs=void 0,this.list=new Set,this.refs=new Map}get size(){return this.list.size+this.refs.size}describe(){const e=[];for(const t of this.list)e.push(t);for(const[,t]of this.refs)e.push(t.describe());return e}toArray(){return Array.from(this.list).concat(Array.from(this.refs.values()))}resolveAll(e){return this.toArray().reduce(((t,n)=>t.concat($.isRef(n)?e(n):n)),[])}add(e){$.isRef(e)?this.refs.set(e.key,e):this.list.add(e)}delete(e){$.isRef(e)?this.refs.delete(e.key):this.list.delete(e)}clone(){const e=new L;return e.list=new Set(this.list),e.refs=new Map(this.refs),e}merge(e,t){const n=this.clone();return e.list.forEach((e=>n.add(e))),e.refs.forEach((e=>n.add(e))),t.list.forEach((e=>n.delete(e))),t.refs.forEach((e=>n.delete(e))),n}}function B(){return B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B.apply(this,arguments)}class F{constructor(e){this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this._typeError=void 0,this._whitelist=new L,this._blacklist=new L,this.exclusiveTests=Object.create(null),this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation((()=>{this.typeError(f.notType)})),this.type=(null==e?void 0:e.type)||"mixed",this.spec=B({strip:!1,strict:!1,abortEarly:!0,recursive:!0,nullable:!1,presence:"optional"},null==e?void 0:e.spec)}get _type(){return this.type}_typeCheck(e){return!0}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeError=this._typeError,t._whitelistError=this._whitelistError,t._blacklistError=this._blacklistError,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.exclusiveTests=B({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=s(B({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(...e){if(0===e.length)return this.spec.meta;let t=this.clone();return t.spec.meta=Object.assign(t.spec.meta||{},e[0]),t}withMutation(e){let t=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=t,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let t=this,n=e.clone();const r=B({},t.spec,n.spec);return n.spec=r,n._typeError||(n._typeError=t._typeError),n._whitelistError||(n._whitelistError=t._whitelistError),n._blacklistError||(n._blacklistError=t._blacklistError),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation((t=>{e.tests.forEach((e=>{t.test(e.OPTIONS)}))})),n.transforms=[...t.transforms,...n.transforms],n}isType(e){return!(!this.spec.nullable||null!==e)||this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let n=t.conditions;t=t.clone(),t.conditions=[],t=n.reduce(((t,n)=>n.resolve(t,e)),t),t=t.resolve(e)}return t}cast(e,t={}){let n=this.resolve(B({value:e},t)),r=n._cast(e,t);if(void 0!==e&&!1!==t.assert&&!0!==n.isType(r)){let o=d(e),i=d(r);throw new TypeError(`The value of ${t.path||"field"} could not be cast to a value that satisfies the schema type: "${n._type}". \n\nattempted value: ${o} \n`+(i!==o?`result of cast: ${i}`:""))}return r}_cast(e,t){let n=void 0===e?e:this.transforms.reduce(((t,n)=>n.call(this,t,e,this)),e);return void 0===n&&(n=this.getDefault()),n}_validate(e,t={},n){let{sync:r,path:o,from:i=[],originalValue:s=e,strict:a=this.spec.strict,abortEarly:l=this.spec.abortEarly}=t,c=e;a||(c=this._cast(c,B({assert:!1},t)));let u={value:c,path:o,options:t,originalValue:s,schema:this,label:this.spec.label,sync:r,from:i},h=[];this._typeError&&h.push(this._typeError);let p=[];this._whitelistError&&p.push(this._whitelistError),this._blacklistError&&p.push(this._blacklistError),x({args:u,value:c,path:o,sync:r,tests:h,endEarly:l},(e=>{e?n(e,c):x({tests:this.tests.concat(p),args:u,path:o,sync:r,value:c,endEarly:l},n)}))}validate(e,t,n){let r=this.resolve(B({},t,{value:e}));return"function"==typeof n?r._validate(e,t,n):new Promise(((n,o)=>r._validate(e,t,((e,t)=>{e?o(e):n(t)}))))}validateSync(e,t){let n;return this.resolve(B({},t,{value:e}))._validate(e,B({},t,{sync:!0}),((e,t)=>{if(e)throw e;n=t})),n}isValid(e,t){return this.validate(e,t).then((()=>!0),(e=>{if(I.isError(e))return!1;throw e}))}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(e){if(I.isError(e))return!1;throw e}}_getDefault(){let e=this.spec.default;return null==e?e:"function"==typeof e?e.call(this):s(e)}getDefault(e){return this.resolve(e||{})._getDefault()}default(e){return 0===arguments.length?this._getDefault():this.clone({default:e})}strict(e=!0){let t=this.clone();return t.spec.strict=e,t}_isPresent(e){return null!=e}defined(e=f.defined){return this.test({message:e,name:"defined",exclusive:!0,test:e=>void 0!==e})}required(e=f.required){return this.clone({presence:"required"}).withMutation((t=>t.test({message:e,name:"required",exclusive:!0,test(e){return this.schema._isPresent(e)}})))}notRequired(){let e=this.clone({presence:"optional"});return e.tests=e.tests.filter((e=>"required"!==e.OPTIONS.name)),e}nullable(e=!0){return this.clone({nullable:!1!==e})}transform(e){let t=this.clone();return t.transforms.push(e),t}test(...e){let t;if(t=1===e.length?"function"==typeof e[0]?{test:e[0]}:e[0]:2===e.length?{name:e[0],test:e[1]}:{name:e[0],message:e[1],test:e[2]},void 0===t.message&&(t.message=f.default),"function"!=typeof t.test)throw new TypeError("`test` is a required parameters");let n=this.clone(),r=M(t),o=t.exclusive||t.name&&!0===n.exclusiveTests[t.name];if(t.exclusive&&!t.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return t.name&&(n.exclusiveTests[t.name]=!!t.exclusive),n.tests=n.tests.filter((e=>{if(e.OPTIONS.name===t.name){if(o)return!1;if(e.OPTIONS.test===r.OPTIONS.test)return!1}return!0})),n.tests.push(r),n}when(e,t){Array.isArray(e)||"string"==typeof e||(t=e,e=".");let n=this.clone(),r=S(e).map((e=>new $(e)));return r.forEach((e=>{e.isSibling&&n.deps.push(e.key)})),n.conditions.push(new k(r,t)),n}typeError(e){let t=this.clone();return t._typeError=M({message:e,name:"typeError",test(e){return!(void 0!==e&&!this.schema.isType(e))||this.createError({params:{type:this.schema._type}})}}),t}oneOf(e,t=f.oneOf){let n=this.clone();return e.forEach((e=>{n._whitelist.add(e),n._blacklist.delete(e)})),n._whitelistError=M({message:t,name:"oneOf",test(e){if(void 0===e)return!0;let t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}notOneOf(e,t=f.notOneOf){let n=this.clone();return e.forEach((e=>{n._blacklist.add(e),n._whitelist.delete(e)})),n._blacklistError=M({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:t.toArray().join(", "),resolved:n}})}}),n}strip(e=!0){let t=this.clone();return t.spec.strip=e,t}describe(){const e=this.clone(),{label:t,meta:n}=e.spec;return{meta:n,label:t,type:e.type,oneOf:e._whitelist.describe(),notOneOf:e._blacklist.describe(),tests:e.tests.map((e=>({name:e.OPTIONS.name,params:e.OPTIONS.params}))).filter(((e,t,n)=>n.findIndex((t=>t.name===e.name))===t))}}}F.prototype.__isYupSchema__=!0;for(const e of["validate","validateSync"])F.prototype[`${e}At`]=function(t,n,r={}){const{parent:o,parentPath:i,schema:s}=P(this,t,n,r.context);return s[e](o&&o[i],B({},r,{parent:o,path:t}))};for(const e of["equals","is"])F.prototype[e]=F.prototype.oneOf;for(const e of["not","nope"])F.prototype[e]=F.prototype.notOneOf;F.prototype.optional=F.prototype.notRequired;F.prototype;const j=e=>null==e;({}).toString();function U(){return new H}class H extends F{constructor(){super({type:"number"}),this.withMutation((()=>{this.transform((function(e){let t=e;if("string"==typeof t){if(t=t.replace(/\s/g,""),""===t)return NaN;t=+t}return this.isType(t)?t:parseFloat(t)}))}))}_typeCheck(e){return e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&!(e=>e!=+e)(e)}min(e,t=m.min){return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test(t){return j(t)||t>=this.resolve(e)}})}max(e,t=m.max){return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test(t){return j(t)||t<=this.resolve(e)}})}lessThan(e,t=m.lessThan){return this.test({message:t,name:"max",exclusive:!0,params:{less:e},test(t){return j(t)||t<this.resolve(e)}})}moreThan(e,t=m.moreThan){return this.test({message:t,name:"min",exclusive:!0,params:{more:e},test(t){return j(t)||t>this.resolve(e)}})}positive(e=m.positive){return this.moreThan(0,e)}negative(e=m.negative){return this.lessThan(0,e)}integer(e=m.integer){return this.test({name:"integer",message:e,test:e=>j(e)||Number.isInteger(e)})}truncate(){return this.transform((e=>j(e)?e:0|e))}round(e){var t;let n=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===n.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform((t=>j(t)?t:Math[e](t)))}}U.prototype=H.prototype;var V=/^(\d{4}|[+\-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;let W=new Date("");function G(){return new z}class z extends F{constructor(){super({type:"date"}),this.withMutation((()=>{this.transform((function(e){return this.isType(e)?e:(e=function(e){var t,n,r=[1,4,5,6,7,10,11],o=0;if(n=V.exec(e)){for(var i,s=0;i=r[s];++s)n[i]=+n[i]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,n[7]=n[7]?String(n[7]).substr(0,3):0,void 0!==n[8]&&""!==n[8]||void 0!==n[9]&&""!==n[9]?("Z"!==n[8]&&void 0!==n[9]&&(o=60*n[10]+n[11],"+"===n[9]&&(o=0-o)),t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+o,n[6],n[7])):t=+new Date(n[1],n[2],n[3],n[4],n[5],n[6],n[7])}else t=Date.parse?Date.parse(e):NaN;return t}(e),isNaN(e)?W:new Date(e))}))}))}_typeCheck(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}prepareParam(e,t){let n;if($.isRef(e))n=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError(`\`${t}\` must be a Date or a value that can be \`cast()\` to a Date`);n=r}return n}min(e,t=y.min){let n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},test(e){return j(e)||e>=this.resolve(n)}})}max(e,t=y.max){let n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},test(e){return j(e)||e<=this.resolve(n)}})}}z.INVALID_DATE=W,G.prototype=z.prototype,G.INVALID_DATE=W;var q=n(9867),Y=n.n(q),X=n(9677),K=n.n(X),J=n(7629),Z=n.n(J),Q=n(2702),ee=n.n(Q);function te(e,t){let n=1/0;return e.some(((e,r)=>{var o;if(-1!==(null==(o=t.path)?void 0:o.indexOf(e)))return n=r,!0})),n}function ne(e){return(t,n)=>te(e,t)-te(e,n)}function re(){return re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(this,arguments)}let oe=e=>"[object Object]"===Object.prototype.toString.call(e);const ie=ne([]);class se extends F{constructor(e){super({type:"object"}),this.fields=Object.create(null),this._sortErrors=ie,this._nodes=[],this._excludedEdges=[],this.withMutation((()=>{this.transform((function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){e=null}return this.isType(e)?e:null})),e&&this.shape(e)}))}_typeCheck(e){return oe(e)||"function"==typeof e}_cast(e,t={}){var n;let r=super._cast(e,t);if(void 0===r)return this.getDefault();if(!this._typeCheck(r))return r;let o=this.fields,i=null!=(n=t.stripUnknown)?n:this.spec.noUnknown,s=this._nodes.concat(Object.keys(r).filter((e=>-1===this._nodes.indexOf(e)))),a={},l=re({},t,{parent:a,__validating:t.__validating||!1}),c=!1;for(const e of s){let n=o[e],s=w()(r,e);if(n){let o,i=r[e];l.path=(t.path?`${t.path}.`:"")+e,n=n.resolve({value:i,context:t.context,parent:a});let s="spec"in n?n.spec:void 0,u=null==s?void 0:s.strict;if(null==s?void 0:s.strip){c=c||e in r;continue}o=t.__validating&&u?r[e]:n.cast(r[e],l),void 0!==o&&(a[e]=o)}else s&&!i&&(a[e]=r[e]);a[e]!==r[e]&&(c=!0)}return c?a:r}_validate(e,t={},n){let r=[],{sync:o,from:i=[],originalValue:s=e,abortEarly:a=this.spec.abortEarly,recursive:l=this.spec.recursive}=t;i=[{schema:this,value:s},...i],t.__validating=!0,t.originalValue=s,t.from=i,super._validate(e,t,((e,c)=>{if(e){if(!I.isError(e)||a)return void n(e,c);r.push(e)}if(!l||!oe(c))return void n(r[0]||null,c);s=s||c;let u=this._nodes.map((e=>(n,r)=>{let o=-1===e.indexOf(".")?(t.path?`${t.path}.`:"")+e:`${t.path||""}["${e}"]`,a=this.fields[e];a&&"validate"in a?a.validate(c[e],re({},t,{path:o,from:i,strict:!0,parent:c,originalValue:s[e]}),r):r(null)}));x({sync:o,tests:u,value:c,errors:r,endEarly:a,sort:this._sortErrors,path:t.path},n)}))}clone(e){const t=super.clone(e);return t.fields=re({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),n=t.fields;for(let[e,t]of Object.entries(this.fields)){const r=n[e];void 0===r?n[e]=t:r instanceof F&&t instanceof F&&(n[e]=t.concat(r))}return t.withMutation((()=>t.shape(n,this._excludedEdges)))}getDefaultFromShape(){let e={};return this._nodes.forEach((t=>{const n=this.fields[t];e[t]="default"in n?n.getDefault():void 0})),e}_getDefault(){return"default"in this.spec?super._getDefault():this._nodes.length?this.getDefaultFromShape():void 0}shape(e,t=[]){let n=this.clone(),r=Object.assign(n.fields,e);return n.fields=r,n._sortErrors=ne(Object.keys(r)),t.length&&(Array.isArray(t[0])||(t=[t]),n._excludedEdges=[...n._excludedEdges,...t]),n._nodes=function(e,t=[]){let n=[],r=new Set,o=new Set(t.map((([e,t])=>`${e}-${t}`)));function i(e,t){let i=(0,A.split)(e)[0];r.add(i),o.has(`${t}-${i}`)||n.push([t,i])}for(const t in e)if(w()(e,t)){let n=e[t];r.add(t),$.isRef(n)&&n.isSibling?i(n.path,t):T(n)&&"deps"in n&&n.deps.forEach((e=>i(e,t)))}return ee().array(Array.from(r),n).reverse()}(r,n._excludedEdges),n}pick(e){const t={};for(const n of e)this.fields[n]&&(t[n]=this.fields[n]);return this.clone().withMutation((e=>(e.fields={},e.shape(t))))}omit(e){const t=this.clone(),n=t.fields;t.fields={};for(const t of e)delete n[t];return t.withMutation((()=>t.shape(n)))}from(e,t,n){let r=(0,A.getter)(e,!0);return this.transform((o=>{if(null==o)return o;let i=o;return w()(o,e)&&(i=re({},o),n||delete i[e],i[t]=r(o)),i}))}noUnknown(e=!0,t=b.noUnknown){"string"==typeof e&&(t=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const n=function(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter((e=>-1===n.indexOf(e)))}(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(e=!0,t=b.noUnknown){return this.noUnknown(!e,t)}transformKeys(e){return this.transform((t=>t&&Z()(t,((t,n)=>e(n)))))}camelCase(){return this.transformKeys(K())}snakeCase(){return this.transformKeys(Y())}constantCase(){return this.transformKeys((e=>Y()(e).toUpperCase()))}describe(){let e=super.describe();return e.fields=N()(this.fields,(e=>e.describe())),e}}function ae(e){return new se(e)}ae.prototype=se.prototype},9656:function(e){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return s(e)?e:V(e)}function r(e){return a(e)?e:W(e)}function o(e){return l(e)?e:G(e)}function i(e){return s(e)&&!c(e)?e:z(e)}function s(e){return!(!e||!e[h])}function a(e){return!(!e||!e[p])}function l(e){return!(!e||!e[d])}function c(e){return a(e)||l(e)}function u(e){return!(!e||!e[f])}t(r,n),t(o,n),t(i,n),n.isIterable=s,n.isKeyed=a,n.isIndexed=l,n.isAssociative=c,n.isOrdered=u,n.Keyed=r,n.Indexed=o,n.Set=i;var h="@@__IMMUTABLE_ITERABLE__@@",p="@@__IMMUTABLE_KEYED__@@",d="@@__IMMUTABLE_INDEXED__@@",f="@@__IMMUTABLE_ORDERED__@@",g="delete",m=32,y=31,v={},b={value:!1},_={value:!1};function E(e){return e.value=!1,e}function w(e){e&&(e.value=!0)}function T(){}function k(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function S(e){return void 0===e.size&&(e.size=e.__iterate(O)),e.size}function C(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?S(e)+t:t}function O(){return!0}function I(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function x(e,t){return N(e,t,0)}function R(e,t){return N(e,t,t)}function N(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var A="function"==typeof Symbol&&Symbol.iterator,$="@@iterator",D=A||$;function M(e){this.next=e}function P(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function L(){return{value:void 0,done:!0}}function B(e){return!!U(e)}function F(e){return e&&"function"==typeof e.next}function j(e){var t=U(e);return t&&t.call(e)}function U(e){var t=e&&(A&&e[A]||e[$]);if("function"==typeof t)return t}function H(e){return e&&"number"==typeof e.length}function V(e){return null==e?ne():s(e)?e.toSeq():function(e){var t=ie(e)||"object"==typeof e&&new Z(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}(e)}function W(e){return null==e?ne().toKeyedSeq():s(e)?a(e)?e.toSeq():e.fromEntrySeq():re(e)}function G(e){return null==e?ne():s(e)?a(e)?e.entrySeq():e.toIndexedSeq():oe(e)}function z(e){return(null==e?ne():s(e)?a(e)?e.entrySeq():e:oe(e)).toSetSeq()}M.prototype.toString=function(){return"[Iterator]"},M.KEYS=0,M.VALUES=1,M.ENTRIES=2,M.prototype.inspect=M.prototype.toSource=function(){return this.toString()},M.prototype[D]=function(){return this},t(V,n),V.of=function(){return V(arguments)},V.prototype.toSeq=function(){return this},V.prototype.toString=function(){return this.__toString("Seq {","}")},V.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},V.prototype.__iterate=function(e,t){return se(this,e,t,!0)},V.prototype.__iterator=function(e,t){return ae(this,e,t,!0)},t(W,V),W.prototype.toKeyedSeq=function(){return this},t(G,V),G.of=function(){return G(arguments)},G.prototype.toIndexedSeq=function(){return this},G.prototype.toString=function(){return this.__toString("Seq [","]")},G.prototype.__iterate=function(e,t){return se(this,e,t,!1)},G.prototype.__iterator=function(e,t){return ae(this,e,t,!1)},t(z,V),z.of=function(){return z(arguments)},z.prototype.toSetSeq=function(){return this},V.isSeq=te,V.Keyed=W,V.Set=z,V.Indexed=G;var q,Y,X,K="@@__IMMUTABLE_SEQ__@@";function J(e){this._array=e,this.size=e.length}function Z(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function Q(e){this._iterable=e,this.size=e.length||e.size}function ee(e){this._iterator=e,this._iteratorCache=[]}function te(e){return!(!e||!e[K])}function ne(){return q||(q=new J([]))}function re(e){var t=Array.isArray(e)?new J(e).fromEntrySeq():F(e)?new ee(e).fromEntrySeq():B(e)?new Q(e).fromEntrySeq():"object"==typeof e?new Z(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function oe(e){var t=ie(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ie(e){return H(e)?new J(e):F(e)?new ee(e):B(e)?new Q(e):void 0}function se(e,t,n,r){var o=e._cache;if(o){for(var i=o.length-1,s=0;s<=i;s++){var a=o[n?i-s:s];if(!1===t(a[1],r?a[0]:s,e))return s+1}return s}return e.__iterateUncached(t,n)}function ae(e,t,n,r){var o=e._cache;if(o){var i=o.length-1,s=0;return new M((function(){var e=o[n?i-s:s];return s++>i?{value:void 0,done:!0}:P(t,r?e[0]:s-1,e[1])}))}return e.__iteratorUncached(t,n)}function le(e,t){return t?ce(t,e,"",{"":e}):ue(e)}function ce(e,t,n,r){return Array.isArray(t)?e.call(r,n,G(t).map((function(n,r){return ce(e,n,r,t)}))):he(t)?e.call(r,n,W(t).map((function(n,r){return ce(e,n,r,t)}))):t}function ue(e){return Array.isArray(e)?G(e).map(ue).toList():he(e)?W(e).map(ue).toMap():e}function he(e){return e&&(e.constructor===Object||void 0===e.constructor)}function pe(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function de(e,t){if(e===t)return!0;if(!s(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||a(e)!==a(t)||l(e)!==l(t)||u(e)!==u(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!c(e);if(u(e)){var r=e.entries();return t.every((function(e,t){var o=r.next().value;return o&&pe(o[1],e)&&(n||pe(o[0],t))}))&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var h=!0,p=t.__iterate((function(t,r){if(n?!e.has(t):o?!pe(t,e.get(r,v)):!pe(e.get(r,v),t))return h=!1,!1}));return h&&e.size===p}function fe(e,t){if(!(this instanceof fe))return new fe(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Y)return Y;Y=this}}function ge(e,t){if(!e)throw new Error(t)}function me(e,t,n){if(!(this instanceof me))return new me(e,t,n);if(ge(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(X)return X;X=this}}function ye(){throw TypeError("Abstract")}function ve(){}function be(){}function _e(){}V.prototype[K]=!0,t(J,G),J.prototype.get=function(e,t){return this.has(e)?this._array[C(this,e)]:t},J.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===e(n[t?r-o:o],o,this))return o+1;return o},J.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,o=0;return new M((function(){return o>r?{value:void 0,done:!0}:P(e,o,n[t?r-o++:o++])}))},t(Z,W),Z.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},Z.prototype.has=function(e){return this._object.hasOwnProperty(e)},Z.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var s=r[t?o-i:i];if(!1===e(n[s],s,this))return i+1}return i},Z.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length-1,i=0;return new M((function(){var s=r[t?o-i:i];return i++>o?{value:void 0,done:!0}:P(e,s,n[s])}))},Z.prototype[f]=!0,t(Q,G),Q.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=j(this._iterable),r=0;if(F(n))for(var o;!(o=n.next()).done&&!1!==e(o.value,r++,this););return r},Q.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=j(this._iterable);if(!F(n))return new M(L);var r=0;return new M((function(){var t=n.next();return t.done?t:P(e,r++,t.value)}))},t(ee,G),ee.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===e(o[i],i++,this))return i;for(;!(n=r.next()).done;){var s=n.value;if(o[i]=s,!1===e(s,i++,this))break}return i},ee.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new M((function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return P(e,o,r[o++])}))},t(fe,G),fe.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},fe.prototype.get=function(e,t){return this.has(e)?this._value:t},fe.prototype.includes=function(e){return pe(this._value,e)},fe.prototype.slice=function(e,t){var n=this.size;return I(e,t,n)?this:new fe(this._value,R(t,n)-x(e,n))},fe.prototype.reverse=function(){return this},fe.prototype.indexOf=function(e){return pe(this._value,e)?0:-1},fe.prototype.lastIndexOf=function(e){return pe(this._value,e)?this.size:-1},fe.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},fe.prototype.__iterator=function(e,t){var n=this,r=0;return new M((function(){return r<n.size?P(e,r++,n._value):{value:void 0,done:!0}}))},fe.prototype.equals=function(e){return e instanceof fe?pe(this._value,e._value):de(e)},t(me,G),me.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},me.prototype.get=function(e,t){return this.has(e)?this._start+C(this,e)*this._step:t},me.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},me.prototype.slice=function(e,t){return I(e,t,this.size)?this:(e=x(e,this.size),(t=R(t,this.size))<=e?new me(0,0):new me(this.get(e,this._end),this.get(t,this._end),this._step))},me.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},me.prototype.lastIndexOf=function(e){return this.indexOf(e)},me.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===e(o,i,this))return i+1;o+=t?-r:r}return i},me.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;return new M((function(){var s=o;return o+=t?-r:r,i>n?{value:void 0,done:!0}:P(e,i++,s)}))},me.prototype.equals=function(e){return e instanceof me?this._start===e._start&&this._end===e._end&&this._step===e._step:de(this,e)},t(ye,n),t(ve,ye),t(be,ye),t(_e,ye),ye.Keyed=ve,ye.Indexed=be,ye.Set=_e;var Ee="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function we(e){return e>>>1&1073741824|3221225471&e}function Te(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!=e||e===1/0)return 0;var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return we(n)}if("string"===t)return e.length>Ne?function(e){var t=De[e];return void 0===t&&(t=ke(e),$e===Ae&&($e=0,De={}),$e++,De[e]=t),t}(e):ke(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return function(e){var t;if(Ie&&void 0!==(t=Oe.get(e)))return t;if(void 0!==(t=e[Re]))return t;if(!Ce){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Re]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=++xe,1073741824&xe&&(xe=0),Ie)Oe.set(e,t);else{if(void 0!==Se&&!1===Se(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Ce)Object.defineProperty(e,Re,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Re]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Re]=t}}return t}(e);if("function"==typeof e.toString)return ke(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function ke(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return we(t)}var Se=Object.isExtensible,Ce=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();var Oe,Ie="function"==typeof WeakMap;Ie&&(Oe=new WeakMap);var xe=0,Re="__immutablehash__";"function"==typeof Symbol&&(Re=Symbol(Re));var Ne=16,Ae=255,$e=0,De={};function Me(e){ge(e!==1/0,"Cannot perform this action with an infinite size.")}function Pe(e){return null==e?Ke():Le(e)&&!u(e)?e:Ke().withMutations((function(t){var n=r(e);Me(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function Le(e){return!(!e||!e[Fe])}t(Pe,ve),Pe.of=function(){var t=e.call(arguments,0);return Ke().withMutations((function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}}))},Pe.prototype.toString=function(){return this.__toString("Map {","}")},Pe.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Pe.prototype.set=function(e,t){return Je(this,e,t)},Pe.prototype.setIn=function(e,t){return this.updateIn(e,v,(function(){return t}))},Pe.prototype.remove=function(e){return Je(this,e,v)},Pe.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return v}))},Pe.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Pe.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=it(this,tn(e),t,n);return r===v?void 0:r},Pe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ke()},Pe.prototype.merge=function(){return tt(this,void 0,arguments)},Pe.prototype.mergeWith=function(t){return tt(this,t,e.call(arguments,1))},Pe.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Ke(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,n):n[n.length-1]}))},Pe.prototype.mergeDeep=function(){return tt(this,nt,arguments)},Pe.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return tt(this,rt(t),n)},Pe.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Ke(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]}))},Pe.prototype.sort=function(e){return It(Wt(this,e))},Pe.prototype.sortBy=function(e,t){return It(Wt(this,t,e))},Pe.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Pe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new T)},Pe.prototype.asImmutable=function(){return this.__ensureOwner()},Pe.prototype.wasAltered=function(){return this.__altered},Pe.prototype.__iterator=function(e,t){return new ze(this,e,t)},Pe.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate((function(t){return r++,e(t[1],t[0],n)}),t),r},Pe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Xe(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Pe.isMap=Le;var Be,Fe="@@__IMMUTABLE_MAP__@@",je=Pe.prototype;function Ue(e,t){this.ownerID=e,this.entries=t}function He(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Ve(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function We(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function Ge(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function ze(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Ye(e._root)}function qe(e,t){return P(e,t[0],t[1])}function Ye(e,t){return{node:e,index:0,__prev:t}}function Xe(e,t,n,r){var o=Object.create(je);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function Ke(){return Be||(Be=Xe(0))}function Je(e,t,n){var r,o;if(e._root){var i=E(b),s=E(_);if(r=Ze(e._root,e.__ownerID,0,void 0,t,n,i,s),!s.value)return e;o=e.size+(i.value?n===v?-1:1:0)}else{if(n===v)return e;o=1,r=new Ue(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Xe(o,r):Ke()}function Ze(e,t,n,r,o,i,s,a){return e?e.update(t,n,r,o,i,s,a):i===v?e:(w(a),w(s),new Ge(t,r,[o,i]))}function Qe(e){return e.constructor===Ge||e.constructor===We}function et(e,t,n,r,o){if(e.keyHash===r)return new We(t,r,[e.entry,o]);var i,s=(0===n?e.keyHash:e.keyHash>>>n)&y,a=(0===n?r:r>>>n)&y;return new He(t,1<<s|1<<a,s===a?[et(e,t,n+5,r,o)]:(i=new Ge(t,r,o),s<a?[e,i]:[i,e]))}function tt(e,t,n){for(var o=[],i=0;i<n.length;i++){var a=n[i],l=r(a);s(a)||(l=l.map((function(e){return le(e)}))),o.push(l)}return ot(e,t,o)}function nt(e,t,n){return e&&e.mergeDeep&&s(t)?e.mergeDeep(t):pe(e,t)?e:t}function rt(e){return function(t,n,r){if(t&&t.mergeDeepWith&&s(n))return t.mergeDeepWith(e,n);var o=e(t,n,r);return pe(t,o)?t:o}}function ot(e,t,n){return 0===(n=n.filter((function(e){return 0!==e.size}))).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations((function(e){for(var r=t?function(n,r){e.update(r,v,(function(e){return e===v?n:t(e,n,r)}))}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)})):e.constructor(n[0])}function it(e,t,n,r){var o=e===v,i=t.next();if(i.done){var s=o?n:e,a=r(s);return a===s?e:a}ge(o||e&&e.set,"invalid keyPath");var l=i.value,c=o?v:e.get(l,v),u=it(c,t,n,r);return u===c?e:u===v?e.remove(l):(o?Ke():e).set(l,u)}function st(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,127&(e+=e>>8)+(e>>16)}function at(e,t,n,r){var o=r?e:k(e);return o[t]=n,o}je[Fe]=!0,je[g]=je.remove,je.removeIn=je.deleteIn,Ue.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,s=o.length;i<s;i++)if(pe(n,o[i][0]))return o[i][1];return r},Ue.prototype.update=function(e,t,n,r,o,i,s){for(var a=o===v,l=this.entries,c=0,u=l.length;c<u&&!pe(r,l[c][0]);c++);var h=c<u;if(h?l[c][1]===o:a)return this;if(w(s),(a||!h)&&w(i),!a||1!==l.length){if(!h&&!a&&l.length>=lt)return function(e,t,n,r){e||(e=new T);for(var o=new Ge(e,Te(n),[n,r]),i=0;i<t.length;i++){var s=t[i];o=o.update(e,0,void 0,s[0],s[1])}return o}(e,l,r,o);var p=e&&e===this.ownerID,d=p?l:k(l);return h?a?c===u-1?d.pop():d[c]=d.pop():d[c]=[r,o]:d.push([r,o]),p?(this.entries=d,this):new Ue(e,d)}},He.prototype.get=function(e,t,n,r){void 0===t&&(t=Te(n));var o=1<<((0===e?t:t>>>e)&y),i=this.bitmap;return i&o?this.nodes[st(i&o-1)].get(e+5,t,n,r):r},He.prototype.update=function(e,t,n,r,o,i,s){void 0===n&&(n=Te(r));var a=(0===t?n:n>>>t)&y,l=1<<a,c=this.bitmap,u=!!(c&l);if(!u&&o===v)return this;var h=st(c&l-1),p=this.nodes,d=u?p[h]:void 0,f=Ze(d,e,t+5,n,r,o,i,s);if(f===d)return this;if(!u&&f&&p.length>=ct)return function(e,t,n,r,o){for(var i=0,s=new Array(m),a=0;0!==n;a++,n>>>=1)s[a]=1&n?t[i++]:void 0;return s[r]=o,new Ve(e,i+1,s)}(e,p,c,a,f);if(u&&!f&&2===p.length&&Qe(p[1^h]))return p[1^h];if(u&&f&&1===p.length&&Qe(f))return f;var g=e&&e===this.ownerID,b=u?f?c:c^l:c|l,_=u?f?at(p,h,f,g):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,s=0;s<r;s++)s===t&&(i=1),o[s]=e[s+i];return o}(p,h,g):function(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),s=0,a=0;a<o;a++)a===t?(i[a]=n,s=-1):i[a]=e[a+s];return i}(p,h,f,g);return g?(this.bitmap=b,this.nodes=_,this):new He(e,b,_)},Ve.prototype.get=function(e,t,n,r){void 0===t&&(t=Te(n));var o=(0===e?t:t>>>e)&y,i=this.nodes[o];return i?i.get(e+5,t,n,r):r},Ve.prototype.update=function(e,t,n,r,o,i,s){void 0===n&&(n=Te(r));var a=(0===t?n:n>>>t)&y,l=o===v,c=this.nodes,u=c[a];if(l&&!u)return this;var h=Ze(u,e,t+5,n,r,o,i,s);if(h===u)return this;var p=this.count;if(u){if(!h&&--p<ut)return function(e,t,n,r){for(var o=0,i=0,s=new Array(n),a=0,l=1,c=t.length;a<c;a++,l<<=1){var u=t[a];void 0!==u&&a!==r&&(o|=l,s[i++]=u)}return new He(e,o,s)}(e,c,p,a)}else p++;var d=e&&e===this.ownerID,f=at(c,a,h,d);return d?(this.count=p,this.nodes=f,this):new Ve(e,p,f)},We.prototype.get=function(e,t,n,r){for(var o=this.entries,i=0,s=o.length;i<s;i++)if(pe(n,o[i][0]))return o[i][1];return r},We.prototype.update=function(e,t,n,r,o,i,s){void 0===n&&(n=Te(r));var a=o===v;if(n!==this.keyHash)return a?this:(w(s),w(i),et(this,e,t,n,[r,o]));for(var l=this.entries,c=0,u=l.length;c<u&&!pe(r,l[c][0]);c++);var h=c<u;if(h?l[c][1]===o:a)return this;if(w(s),(a||!h)&&w(i),a&&2===u)return new Ge(e,this.keyHash,l[1^c]);var p=e&&e===this.ownerID,d=p?l:k(l);return h?a?c===u-1?d.pop():d[c]=d.pop():d[c]=[r,o]:d.push([r,o]),p?(this.entries=d,this):new We(e,this.keyHash,d)},Ge.prototype.get=function(e,t,n,r){return pe(n,this.entry[0])?this.entry[1]:r},Ge.prototype.update=function(e,t,n,r,o,i,s){var a=o===v,l=pe(r,this.entry[0]);return(l?o===this.entry[1]:a)?this:(w(s),a?void w(i):l?e&&e===this.ownerID?(this.entry[1]=o,this):new Ge(e,this.keyHash,[r,o]):(w(i),et(this,e,t,Te(r),[r,o])))},Ue.prototype.iterate=We.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===e(n[t?o-r:r]))return!1},He.prototype.iterate=Ve.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&!1===i.iterate(e,t))return!1}},Ge.prototype.iterate=function(e,t){return e(this.entry)},t(ze,M),ze.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,o=t.index++;if(r.entry){if(0===o)return qe(e,r.entry)}else if(r.entries){if(o<=(n=r.entries.length-1))return qe(e,r.entries[this._reverse?n-o:o])}else if(o<=(n=r.nodes.length-1)){var i=r.nodes[this._reverse?n-o:o];if(i){if(i.entry)return qe(e,i.entry);t=this._stack=Ye(i,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var lt=8,ct=16,ut=8;function ht(e){var t=Et();if(null==e)return t;if(pt(e))return e;var n=o(e),r=n.size;return 0===r?t:(Me(r),r>0&&r<m?_t(0,r,5,null,new gt(n.toArray())):t.withMutations((function(e){e.setSize(r),n.forEach((function(t,n){return e.set(n,t)}))})))}function pt(e){return!(!e||!e[dt])}t(ht,be),ht.of=function(){return this(arguments)},ht.prototype.toString=function(){return this.__toString("List [","]")},ht.prototype.get=function(e,t){if((e=C(this,e))>=0&&e<this.size){var n=kt(this,e+=this._origin);return n&&n.array[e&y]}return t},ht.prototype.set=function(e,t){return function(e,t,n){if((t=C(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?St(e,t).set(0,n):St(e,0,t+1).set(t,n)}));t+=e._origin;var r=e._tail,o=e._root,i=E(_);return t>=Ot(e._capacity)?r=wt(r,e.__ownerID,0,t,n,i):o=wt(o,e.__ownerID,e._level,t,n,i),i.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):_t(e._origin,e._capacity,e._level,o,r):e}(this,e,t)},ht.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},ht.prototype.insert=function(e,t){return this.splice(e,0,t)},ht.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Et()},ht.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(n){St(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])}))},ht.prototype.pop=function(){return St(this,0,-1)},ht.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){St(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])}))},ht.prototype.shift=function(){return St(this,1)},ht.prototype.merge=function(){return Ct(this,void 0,arguments)},ht.prototype.mergeWith=function(t){return Ct(this,t,e.call(arguments,1))},ht.prototype.mergeDeep=function(){return Ct(this,nt,arguments)},ht.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Ct(this,rt(t),n)},ht.prototype.setSize=function(e){return St(this,0,e)},ht.prototype.slice=function(e,t){var n=this.size;return I(e,t,n)?this:St(this,x(e,n),R(t,n))},ht.prototype.__iterator=function(e,t){var n=0,r=bt(this,t);return new M((function(){var t=r();return t===vt?{value:void 0,done:!0}:P(e,n++,t)}))},ht.prototype.__iterate=function(e,t){for(var n,r=0,o=bt(this,t);(n=o())!==vt&&!1!==e(n,r++,this););return r},ht.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?_t(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},ht.isList=pt;var dt="@@__IMMUTABLE_LIST__@@",ft=ht.prototype;function gt(e,t){this.array=e,this.ownerID=t}ft[dt]=!0,ft[g]=ft.remove,ft.setIn=je.setIn,ft.deleteIn=ft.removeIn=je.removeIn,ft.update=je.update,ft.updateIn=je.updateIn,ft.mergeIn=je.mergeIn,ft.mergeDeepIn=je.mergeDeepIn,ft.withMutations=je.withMutations,ft.asMutable=je.asMutable,ft.asImmutable=je.asImmutable,ft.wasAltered=je.wasAltered,gt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&y;if(r>=this.array.length)return new gt([],e);var o,i=0===r;if(t>0){var s=this.array[r];if((o=s&&s.removeBefore(e,t-5,n))===s&&i)return this}if(i&&!o)return this;var a=Tt(this,e);if(!i)for(var l=0;l<r;l++)a.array[l]=void 0;return o&&(a.array[r]=o),a},gt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,o=n-1>>>t&y;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((r=i&&i.removeAfter(e,t-5,n))===i&&o===this.array.length-1)return this}var s=Tt(this,e);return s.array.splice(o+1),r&&(s.array[o]=r),s};var mt,yt,vt={};function bt(e,t){var n=e._origin,r=e._capacity,o=Ot(r),i=e._tail;return s(e._root,e._level,0);function s(e,a,l){return 0===a?function(e,s){var a=s===o?i&&i.array:e&&e.array,l=s>n?0:n-s,c=r-s;return c>m&&(c=m),function(){if(l===c)return vt;var e=t?--c:l++;return a&&a[e]}}(e,l):function(e,o,i){var a,l=e&&e.array,c=i>n?0:n-i>>o,u=1+(r-i>>o);return u>m&&(u=m),function(){for(;;){if(a){var e=a();if(e!==vt)return e;a=null}if(c===u)return vt;var n=t?--u:c++;a=s(l&&l[n],o-5,i+(n<<o))}}}(e,a,l)}}function _t(e,t,n,r,o,i,s){var a=Object.create(ft);return a.size=t-e,a._origin=e,a._capacity=t,a._level=n,a._root=r,a._tail=o,a.__ownerID=i,a.__hash=s,a.__altered=!1,a}function Et(){return mt||(mt=_t(0,0,5))}function wt(e,t,n,r,o,i){var s,a=r>>>n&y,l=e&&a<e.array.length;if(!l&&void 0===o)return e;if(n>0){var c=e&&e.array[a],u=wt(c,t,n-5,r,o,i);return u===c?e:((s=Tt(e,t)).array[a]=u,s)}return l&&e.array[a]===o?e:(w(i),s=Tt(e,t),void 0===o&&a===s.array.length-1?s.array.pop():s.array[a]=o,s)}function Tt(e,t){return t&&e&&t===e.ownerID?e:new gt(e?e.array.slice():[],t)}function kt(e,t){if(t>=Ot(e._capacity))return e._tail;if(t<1<<e._level+5){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&y],r-=5;return n}}function St(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new T,o=e._origin,i=e._capacity,s=o+t,a=void 0===n?i:n<0?i+n:o+n;if(s===o&&a===i)return e;if(s>=a)return e.clear();for(var l=e._level,c=e._root,u=0;s+u<0;)c=new gt(c&&c.array.length?[void 0,c]:[],r),u+=1<<(l+=5);u&&(s+=u,o+=u,a+=u,i+=u);for(var h=Ot(i),p=Ot(a);p>=1<<l+5;)c=new gt(c&&c.array.length?[c]:[],r),l+=5;var d=e._tail,f=p<h?kt(e,a-1):p>h?new gt([],r):d;if(d&&p>h&&s<i&&d.array.length){for(var g=c=Tt(c,r),m=l;m>5;m-=5){var v=h>>>m&y;g=g.array[v]=Tt(g.array[v],r)}g.array[h>>>5&y]=d}if(a<i&&(f=f&&f.removeAfter(r,0,a)),s>=p)s-=p,a-=p,l=5,c=null,f=f&&f.removeBefore(r,0,s);else if(s>o||p<h){for(u=0;c;){var b=s>>>l&y;if(b!==p>>>l&y)break;b&&(u+=(1<<l)*b),l-=5,c=c.array[b]}c&&s>o&&(c=c.removeBefore(r,l,s-u)),c&&p<h&&(c=c.removeAfter(r,l,p-u)),u&&(s-=u,a-=u)}return e.__ownerID?(e.size=a-s,e._origin=s,e._capacity=a,e._level=l,e._root=c,e._tail=f,e.__hash=void 0,e.__altered=!0,e):_t(s,a,l,c,f)}function Ct(e,t,n){for(var r=[],i=0,a=0;a<n.length;a++){var l=n[a],c=o(l);c.size>i&&(i=c.size),s(l)||(c=c.map((function(e){return le(e)}))),r.push(c)}return i>e.size&&(e=e.setSize(i)),ot(e,t,r)}function Ot(e){return e<m?0:e-1>>>5<<5}function It(e){return null==e?Nt():xt(e)?e:Nt().withMutations((function(t){var n=r(e);Me(n.size),n.forEach((function(e,n){return t.set(n,e)}))}))}function xt(e){return Le(e)&&u(e)}function Rt(e,t,n,r){var o=Object.create(It.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function Nt(){return yt||(yt=Rt(Ke(),Et()))}function At(e,t,n){var r,o,i=e._map,s=e._list,a=i.get(t),l=void 0!==a;if(n===v){if(!l)return e;s.size>=m&&s.size>=2*i.size?(r=(o=s.filter((function(e,t){return void 0!==e&&a!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(r.__ownerID=o.__ownerID=e.__ownerID)):(r=i.remove(t),o=a===s.size-1?s.pop():s.set(a,void 0))}else if(l){if(n===s.get(a)[1])return e;r=i,o=s.set(a,[t,n])}else r=i.set(t,s.size),o=s.set(s.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=o,e.__hash=void 0,e):Rt(r,o)}function $t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Dt(e){this._iter=e,this.size=e.size}function Mt(e){this._iter=e,this.size=e.size}function Pt(e){this._iter=e,this.size=e.size}function Lt(e){var t=Zt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Qt,t.__iterateUncached=function(t,n){var r=this;return e.__iterate((function(e,n){return!1!==t(n,e,r)}),n)},t.__iteratorUncached=function(t,n){if(2===t){var r=e.__iterator(t,n);return new M((function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(1===t?0:1,n)},t}function Bt(e,t,n){var r=Zt(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,v);return i===v?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate((function(e,o,s){return!1!==r(t.call(n,e,o,s),o,i)}),o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(2,o);return new M((function(){var o=i.next();if(o.done)return o;var s=o.value,a=s[0];return P(r,a,t.call(n,s[1],a,e),o)}))},r}function Ft(e,t){var n=Zt(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Lt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=Qt,n.__iterate=function(t,n){var r=this;return e.__iterate((function(e,n){return t(e,n,r)}),!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function jt(e,t,n,r){var o=Zt(e);return r&&(o.has=function(r){var o=e.get(r,v);return o!==v&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,v);return i!==v&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var s=this,a=0;return e.__iterate((function(e,i,l){if(t.call(n,e,i,l))return a++,o(e,r?i:a-1,s)}),i),a},o.__iteratorUncached=function(o,i){var s=e.__iterator(2,i),a=0;return new M((function(){for(;;){var i=s.next();if(i.done)return i;var l=i.value,c=l[0],u=l[1];if(t.call(n,u,c,e))return P(o,r?c:a++,u,i)}}))},o}function Ut(e,t,n,r){var o=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n===1/0?n=o:n|=0),I(t,n,o))return e;var i=x(t,o),s=R(n,o);if(i!=i||s!=s)return Ut(e.toSeq().cacheResult(),t,n,r);var a,l=s-i;l==l&&(a=l<0?0:l);var c=Zt(e);return c.size=0===a?a:e.size&&a||void 0,!r&&te(e)&&a>=0&&(c.get=function(t,n){return(t=C(this,t))>=0&&t<a?e.get(t+i,n):n}),c.__iterateUncached=function(t,n){var o=this;if(0===a)return 0;if(n)return this.cacheResult().__iterate(t,n);var s=0,l=!0,c=0;return e.__iterate((function(e,n){if(!l||!(l=s++<i))return c++,!1!==t(e,r?n:c-1,o)&&c!==a})),c},c.__iteratorUncached=function(t,n){if(0!==a&&n)return this.cacheResult().__iterator(t,n);var o=0!==a&&e.__iterator(t,n),s=0,l=0;return new M((function(){for(;s++<i;)o.next();if(++l>a)return{value:void 0,done:!0};var e=o.next();return r||1===t?e:P(t,l-1,0===t?void 0:e.value[1],e)}))},c}function Ht(e,t,n,r){var o=Zt(e);return o.__iterateUncached=function(o,i){var s=this;if(i)return this.cacheResult().__iterate(o,i);var a=!0,l=0;return e.__iterate((function(e,i,c){if(!a||!(a=t.call(n,e,i,c)))return l++,o(e,r?i:l-1,s)})),l},o.__iteratorUncached=function(o,i){var s=this;if(i)return this.cacheResult().__iterator(o,i);var a=e.__iterator(2,i),l=!0,c=0;return new M((function(){var e,i,u;do{if((e=a.next()).done)return r||1===o?e:P(o,c++,0===o?void 0:e.value[1],e);var h=e.value;i=h[0],u=h[1],l&&(l=t.call(n,u,i,s))}while(l);return 2===o?e:P(o,i,u,e)}))},o}function Vt(e,t,n){var r=Zt(e);return r.__iterateUncached=function(r,o){var i=0,a=!1;return function e(l,c){var u=this;l.__iterate((function(o,l){return(!t||c<t)&&s(o)?e(o,c+1):!1===r(o,n?l:i++,u)&&(a=!0),!a}),o)}(e,0),i},r.__iteratorUncached=function(r,o){var i=e.__iterator(r,o),a=[],l=0;return new M((function(){for(;i;){var e=i.next();if(!1===e.done){var c=e.value;if(2===r&&(c=c[1]),t&&!(a.length<t)||!s(c))return n?e:P(r,l++,c,e);a.push(i),i=c.__iterator(r,o)}else i=a.pop()}return{value:void 0,done:!0}}))},r}function Wt(e,t,n){t||(t=en);var r=a(e),o=0,i=e.toSeq().map((function(t,r){return[r,t,o++,n?n(t,r,e):t]})).toArray();return i.sort((function(e,n){return t(e[3],n[3])||e[2]-n[2]})).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?W(i):l(e)?G(i):z(i)}function Gt(e,t,n){if(t||(t=en),n){var r=e.toSeq().map((function(t,r){return[t,n(t,r,e)]})).reduce((function(e,n){return zt(t,e[1],n[1])?n:e}));return r&&r[0]}return e.reduce((function(e,n){return zt(t,e,n)?n:e}))}function zt(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(null==n||n!=n)||r>0}function qt(e,t,r){var o=Zt(e);return o.size=new J(r).map((function(e){return e.size})).min(),o.__iterate=function(e,t){for(var n,r=this.__iterator(1,t),o=0;!(n=r.next()).done&&!1!==e(n.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=r.map((function(e){return e=n(e),j(o?e.reverse():e)})),s=0,a=!1;return new M((function(){var n;return a||(n=i.map((function(e){return e.next()})),a=n.some((function(e){return e.done}))),a?{value:void 0,done:!0}:P(e,s++,t.apply(null,n.map((function(e){return e.value}))))}))},o}function Yt(e,t){return te(e)?t:e.constructor(t)}function Xt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Kt(e){return Me(e.size),S(e)}function Jt(e){return a(e)?r:l(e)?o:i}function Zt(e){return Object.create((a(e)?W:l(e)?G:z).prototype)}function Qt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):V.prototype.cacheResult.call(this)}function en(e,t){return e>t?1:e<t?-1:0}function tn(e){var t=j(e);if(!t){if(!H(e))throw new TypeError("Expected iterable or array-like: "+e);t=j(n(e))}return t}function nn(e,t){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var s=Object.keys(e);(function(e,t){try{t.forEach(an.bind(void 0,e))}catch(e){}})(o,s),o.size=s.length,o._name=t,o._keys=s,o._defaultValues=e}this._map=Pe(i)},o=r.prototype=Object.create(rn);return o.constructor=r,r}t(It,Pe),It.of=function(){return this(arguments)},It.prototype.toString=function(){return this.__toString("OrderedMap {","}")},It.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},It.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Nt()},It.prototype.set=function(e,t){return At(this,e,t)},It.prototype.remove=function(e){return At(this,e,v)},It.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},It.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],n)}),t)},It.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},It.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Rt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},It.isOrderedMap=xt,It.prototype[f]=!0,It.prototype[g]=It.prototype.remove,t($t,W),$t.prototype.get=function(e,t){return this._iter.get(e,t)},$t.prototype.has=function(e){return this._iter.has(e)},$t.prototype.valueSeq=function(){return this._iter.valueSeq()},$t.prototype.reverse=function(){var e=this,t=Ft(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},$t.prototype.map=function(e,t){var n=this,r=Bt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},$t.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?Kt(this):0,function(o){return e(o,t?--n:n++,r)}),t)},$t.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(1,t),r=t?Kt(this):0;return new M((function(){var o=n.next();return o.done?o:P(e,t?--r:r++,o.value,o)}))},$t.prototype[f]=!0,t(Dt,G),Dt.prototype.includes=function(e){return this._iter.includes(e)},Dt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate((function(t){return e(t,r++,n)}),t)},Dt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t),r=0;return new M((function(){var t=n.next();return t.done?t:P(e,r++,t.value,t)}))},t(Mt,z),Mt.prototype.has=function(e){return this._iter.includes(e)},Mt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){return e(t,t,n)}),t)},Mt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t);return new M((function(){var t=n.next();return t.done?t:P(e,t.value,t.value,t)}))},t(Pt,W),Pt.prototype.entrySeq=function(){return this._iter.toSeq()},Pt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate((function(t){if(t){Xt(t);var r=s(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}}),t)},Pt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t);return new M((function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Xt(r);var o=s(r);return P(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}}))},Dt.prototype.cacheResult=$t.prototype.cacheResult=Mt.prototype.cacheResult=Pt.prototype.cacheResult=Qt,t(nn,ve),nn.prototype.toString=function(){return this.__toString(sn(this)+" {","}")},nn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},nn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},nn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=on(this,Ke()))},nn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+sn(this));if(this._map&&!this._map.has(e)&&t===this._defaultValues[e])return this;var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:on(this,n)},nn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:on(this,t)},nn.prototype.wasAltered=function(){return this._map.wasAltered()},nn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterator(e,t)},nn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map((function(e,t){return n.get(t)})).__iterate(e,t)},nn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?on(this,t,e):(this.__ownerID=e,this._map=t,this)};var rn=nn.prototype;function on(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function sn(e){return e._name||e.constructor.name||"Record"}function an(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ge(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function ln(e){return null==e?gn():cn(e)&&!u(e)?e:gn().withMutations((function(t){var n=i(e);Me(n.size),n.forEach((function(e){return t.add(e)}))}))}function cn(e){return!(!e||!e[hn])}rn[g]=rn.remove,rn.deleteIn=rn.removeIn=je.removeIn,rn.merge=je.merge,rn.mergeWith=je.mergeWith,rn.mergeIn=je.mergeIn,rn.mergeDeep=je.mergeDeep,rn.mergeDeepWith=je.mergeDeepWith,rn.mergeDeepIn=je.mergeDeepIn,rn.setIn=je.setIn,rn.update=je.update,rn.updateIn=je.updateIn,rn.withMutations=je.withMutations,rn.asMutable=je.asMutable,rn.asImmutable=je.asImmutable,t(ln,_e),ln.of=function(){return this(arguments)},ln.fromKeys=function(e){return this(r(e).keySeq())},ln.prototype.toString=function(){return this.__toString("Set {","}")},ln.prototype.has=function(e){return this._map.has(e)},ln.prototype.add=function(e){return dn(this,this._map.set(e,!0))},ln.prototype.remove=function(e){return dn(this,this._map.remove(e))},ln.prototype.clear=function(){return dn(this,this._map.clear())},ln.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter((function(e){return 0!==e.size}))).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var n=0;n<t.length;n++)i(t[n]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},ln.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.every((function(e){return e.includes(n)}))||e.remove(n)}))}))},ln.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var n=this;return this.withMutations((function(e){n.forEach((function(n){t.some((function(e){return e.includes(n)}))&&e.remove(n)}))}))},ln.prototype.merge=function(){return this.union.apply(this,arguments)},ln.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},ln.prototype.sort=function(e){return mn(Wt(this,e))},ln.prototype.sortBy=function(e,t){return mn(Wt(this,t,e))},ln.prototype.wasAltered=function(){return this._map.wasAltered()},ln.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate((function(t,r){return e(r,r,n)}),t)},ln.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},ln.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},ln.isSet=cn;var un,hn="@@__IMMUTABLE_SET__@@",pn=ln.prototype;function dn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function fn(e,t){var n=Object.create(pn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function gn(){return un||(un=fn(Ke()))}function mn(e){return null==e?En():yn(e)?e:En().withMutations((function(t){var n=i(e);Me(n.size),n.forEach((function(e){return t.add(e)}))}))}function yn(e){return cn(e)&&u(e)}pn[hn]=!0,pn[g]=pn.remove,pn.mergeDeep=pn.merge,pn.mergeDeepWith=pn.mergeWith,pn.withMutations=je.withMutations,pn.asMutable=je.asMutable,pn.asImmutable=je.asImmutable,pn.__empty=gn,pn.__make=fn,t(mn,ln),mn.of=function(){return this(arguments)},mn.fromKeys=function(e){return this(r(e).keySeq())},mn.prototype.toString=function(){return this.__toString("OrderedSet {","}")},mn.isOrderedSet=yn;var vn,bn=mn.prototype;function _n(e,t){var n=Object.create(bn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function En(){return vn||(vn=_n(Nt()))}function wn(e){return null==e?In():Tn(e)?e:In().unshiftAll(e)}function Tn(e){return!(!e||!e[Sn])}bn[f]=!0,bn.__empty=En,bn.__make=_n,t(wn,be),wn.of=function(){return this(arguments)},wn.prototype.toString=function(){return this.__toString("Stack [","]")},wn.prototype.get=function(e,t){var n=this._head;for(e=C(this,e);n&&e--;)n=n.next;return n?n.value:t},wn.prototype.peek=function(){return this._head&&this._head.value},wn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):On(e,t)},wn.prototype.pushAll=function(e){if(0===(e=o(e)).size)return this;Me(e.size);var t=this.size,n=this._head;return e.reverse().forEach((function(e){t++,n={value:e,next:n}})),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):On(t,n)},wn.prototype.pop=function(){return this.slice(1)},wn.prototype.unshift=function(){return this.push.apply(this,arguments)},wn.prototype.unshiftAll=function(e){return this.pushAll(e)},wn.prototype.shift=function(){return this.pop.apply(this,arguments)},wn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):In()},wn.prototype.slice=function(e,t){if(I(e,t,this.size))return this;var n=x(e,this.size);if(R(t,this.size)!==this.size)return be.prototype.slice.call(this,e,t);for(var r=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=r,this._head=o,this.__hash=void 0,this.__altered=!0,this):On(r,o)},wn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?On(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},wn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},wn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new M((function(){if(r){var t=r.value;return r=r.next,P(e,n++,t)}return{value:void 0,done:!0}}))},wn.isStack=Tn;var kn,Sn="@@__IMMUTABLE_STACK__@@",Cn=wn.prototype;function On(e,t,n,r){var o=Object.create(Cn);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function In(){return kn||(kn=On(0))}function xn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}Cn[Sn]=!0,Cn.withMutations=je.withMutations,Cn.asMutable=je.asMutable,Cn.asImmutable=je.asImmutable,Cn.wasAltered=je.wasAltered,n.Iterator=M,xn(n,{toArray:function(){Me(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,n){e[n]=t})),e},toIndexedSeq:function(){return new Dt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new $t(this,!0)},toMap:function(){return Pe(this.toKeyedSeq())},toObject:function(){Me(this.size);var e={};return this.__iterate((function(t,n){e[n]=t})),e},toOrderedMap:function(){return It(this.toKeyedSeq())},toOrderedSet:function(){return mn(a(this)?this.valueSeq():this)},toSet:function(){return ln(a(this)?this.valueSeq():this)},toSetSeq:function(){return new Mt(this)},toSeq:function(){return l(this)?this.toIndexedSeq():a(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return wn(a(this)?this.valueSeq():this)},toList:function(){return ht(a(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return Yt(this,function(e,t){var n=a(e),o=[e].concat(t).map((function(e){return s(e)?n&&(e=r(e)):e=n?re(e):oe(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===o.length)return e;if(1===o.length){var i=o[0];if(i===e||n&&a(i)||l(e)&&l(i))return i}var c=new J(o);return n?c=c.toKeyedSeq():l(e)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=o.reduce((function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}}),0),c}(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return pe(t,e)}))},entries:function(){return this.__iterator(2)},every:function(e,t){Me(this.size);var n=!0;return this.__iterate((function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1})),n},filter:function(e,t){return Yt(this,jt(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return Me(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Me(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate((function(r){n?n=!1:t+=e,t+=null!=r?r.toString():""})),t},keys:function(){return this.__iterator(0)},map:function(e,t){return Yt(this,Bt(this,e,t))},reduce:function(e,t,n){var r,o;return Me(this.size),arguments.length<2?o=!0:r=t,this.__iterate((function(t,i,s){o?(o=!1,r=t):r=e.call(n,r,t,i,s)})),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return Yt(this,Ft(this,!0))},slice:function(e,t){return Yt(this,Ut(this,e,t,!0))},some:function(e,t){return!this.every(Dn(e),t)},sort:function(e){return Yt(this,Wt(this,e))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return S(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=Pe().asMutable();return e.__iterate((function(o,i){r.update(t.call(n,o,i,e),0,(function(e){return e+1}))})),r.asImmutable()}(this,e,t)},equals:function(e){return de(this,e)},entrySeq:function(){var e=this;if(e._cache)return new J(e._cache);var t=e.toSeq().map($n).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Dn(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate((function(n,o,i){if(e.call(t,n,o,i))return r=[o,n],!1})),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(O)},flatMap:function(e,t){return Yt(this,function(e,t,n){var r=Jt(e);return e.toSeq().map((function(o,i){return r(t.call(n,o,i,e))})).flatten(!0)}(this,e,t))},flatten:function(e){return Yt(this,Vt(this,e,!0))},fromEntrySeq:function(){return new Pt(this)},get:function(e,t){return this.find((function(t,n){return pe(n,e)}),void 0,t)},getIn:function(e,t){for(var n,r=this,o=tn(e);!(n=o.next()).done;){var i=n.value;if((r=r&&r.get?r.get(i,v):v)===v)return t}return r},groupBy:function(e,t){return function(e,t,n){var r=a(e),o=(u(e)?It():Pe()).asMutable();e.__iterate((function(i,s){o.update(t.call(n,i,s,e),(function(e){return(e=e||[]).push(r?[s,i]:i),e}))}));var i=Jt(e);return o.map((function(t){return Yt(e,i(t))}))}(this,e,t)},has:function(e){return this.get(e,v)!==v},hasIn:function(e){return this.getIn(e,v)!==v},isSubset:function(e){return e="function"==typeof e.includes?e:n(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:n(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return pe(t,e)}))},keySeq:function(){return this.toSeq().map(An).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Gt(this,e)},maxBy:function(e,t){return Gt(this,t,e)},min:function(e){return Gt(this,e?Mn(e):Bn)},minBy:function(e,t){return Gt(this,t?Mn(t):Bn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return Yt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return Yt(this,Ht(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Dn(e),t)},sortBy:function(e,t){return Yt(this,Wt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return Yt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return Yt(this,function(e,t,n){var r=Zt(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var s=0;return e.__iterate((function(e,o,a){return t.call(n,e,o,a)&&++s&&r(e,o,i)})),s},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var s=e.__iterator(2,o),a=!0;return new M((function(){if(!a)return{value:void 0,done:!0};var e=s.next();if(e.done)return e;var o=e.value,l=o[0],c=o[1];return t.call(n,c,l,i)?2===r?e:P(r,l,c,e):(a=!1,{value:void 0,done:!0})}))},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Dn(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=u(e),n=a(e),r=t?1:0;return function(e,t){return t=Ee(t,3432918353),t=Ee(t<<15|t>>>-15,461845907),t=Ee(t<<13|t>>>-13,5),t=Ee((t=t+3864292196^e)^t>>>16,2246822507),we((t=Ee(t^t>>>13,3266489909))^t>>>16)}(e.__iterate(n?t?function(e,t){r=31*r+Fn(Te(e),Te(t))|0}:function(e,t){r=r+Fn(Te(e),Te(t))|0}:t?function(e){r=31*r+Te(e)|0}:function(e){r=r+Te(e)|0}),r)}(this))}});var Rn=n.prototype;Rn[h]=!0,Rn[D]=Rn.values,Rn.__toJS=Rn.toArray,Rn.__toStringMapper=Pn,Rn.inspect=Rn.toSource=function(){return this.toString()},Rn.chain=Rn.flatMap,Rn.contains=Rn.includes,xn(r,{flip:function(){return Yt(this,Lt(this))},mapEntries:function(e,t){var n=this,r=0;return Yt(this,this.toSeq().map((function(o,i){return e.call(t,[i,o],r++,n)})).fromEntrySeq())},mapKeys:function(e,t){var n=this;return Yt(this,this.toSeq().flip().map((function(r,o){return e.call(t,r,o,n)})).flip())}});var Nn=r.prototype;function An(e,t){return t}function $n(e,t){return[t,e]}function Dn(e){return function(){return!e.apply(this,arguments)}}function Mn(e){return function(){return-e.apply(this,arguments)}}function Pn(e){return"string"==typeof e?JSON.stringify(e):String(e)}function Ln(){return k(arguments)}function Bn(e,t){return e<t?1:e>t?-1:0}function Fn(e,t){return e^t+2654435769+(e<<6)+(e>>2)}return Nn[p]=!0,Nn[D]=Rn.entries,Nn.__toJS=Rn.toObject,Nn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+Pn(e)},xn(o,{toKeyedSeq:function(){return new $t(this,!1)},filter:function(e,t){return Yt(this,jt(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Yt(this,Ft(this,!1))},slice:function(e,t){return Yt(this,Ut(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=x(e,e<0?this.count():this.size);var r=this.slice(0,e);return Yt(this,1===n?r:r.concat(k(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return Yt(this,Vt(this,e,!1))},get:function(e,t){return(e=C(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,n){return n===e}),void 0,t)},has:function(e){return(e=C(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Yt(this,function(e,t){var n=Zt(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate((function(e,r){return(!i||!1!==n(t,i++,o))&&!1!==n(e,i++,o)}),r),i},n.__iteratorUncached=function(n,r){var o,i=e.__iterator(1,r),s=0;return new M((function(){return(!o||s%2)&&(o=i.next()).done?o:s%2?P(n,s++,t):P(n,s++,o.value,o)}))},n}(this,e))},interleave:function(){var e=[this].concat(k(arguments)),t=qt(this.toSeq(),G.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),Yt(this,n)},keySeq:function(){return me(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return Yt(this,Ht(this,e,t,!1))},zip:function(){return Yt(this,qt(this,Ln,[this].concat(k(arguments))))},zipWith:function(e){var t=k(arguments);return t[0]=this,Yt(this,qt(this,e,t))}}),o.prototype[d]=!0,o.prototype[f]=!0,xn(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=Rn.includes,i.prototype.contains=i.prototype.includes,xn(W,r.prototype),xn(G,o.prototype),xn(z,i.prototype),xn(ve,r.prototype),xn(be,o.prototype),xn(_e,i.prototype),{Iterable:n,Seq:V,Collection:ye,Map:Pe,OrderedMap:It,List:ht,Stack:wn,Set:ln,OrderedSet:mn,Record:nn,Range:me,Repeat:fe,is:pe,fromJS:le}}()},9575:(e,t,n)=>{"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.d(t,{A:()=>r})},701:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{A:()=>o})},7502:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},4214:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function o(){for(var e,t,n=0,o="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}n.d(t,{c:()=>o})},953:(e,t,n)=>{"use strict";n.d(t,{v:()=>nt});var r=n(7731),o=n(9155),i=n.t(o,2),s=n(4214),a=n(9049),l=n(4150),c=n(6102);const u=(0,o.forwardRef)((({iconSize:e="md",title:t,titleId:n,...r},i)=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",...c.s[e],role:"img",ref:i,"aria-labelledby":n,...r},t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M16 7.75a8.73 8.73 0 0 0-7.578 4.375c-1.602 2.734-1.602 6.055 0 8.75C9.984 23.609 12.836 25.25 16 25.25a8.63 8.63 0 0 0 7.54-4.375c1.6-2.695 1.6-6.016 0-8.75C21.976 9.43 19.124 7.75 16 7.75m0 18.75c-3.594 0-6.875-1.875-8.672-5-1.797-3.086-1.797-6.875 0-10 1.797-3.086 5.078-5 8.672-5 3.555 0 6.836 1.914 8.633 5 1.797 3.125 1.797 6.914 0 10a9.93 9.93 0 0 1-8.633 5m-2.969-12.93a.66.66 0 0 1 .899 0L16 15.64l2.031-2.07a.66.66 0 0 1 .899 0 .66.66 0 0 1 0 .899L16.86 16.5l2.07 2.07a.66.66 0 0 1 0 .899.66.66 0 0 1-.899 0L16 17.399l-2.07 2.07a.66.66 0 0 1-.899 0 .66.66 0 0 1 0-.899l2.07-2.07-2.07-2.031a.66.66 0 0 1 0-.899"})))),h=(0,o.forwardRef)((({iconSize:e="md",title:t,titleId:n,...r},i)=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",...c.s[e],role:"img",ref:i,"aria-labelledby":n,...r},t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M16.43 21.969a.66.66 0 0 1-.899 0l-7.5-7.5a.66.66 0 0 1 0-.899.66.66 0 0 1 .899 0L16 20.64l7.031-7.07a.66.66 0 0 1 .899 0 .66.66 0 0 1 0 .899z"})))),p={sm:r.j.jsx(a.O,{}),md:r.j.jsx(l.E,{}),lg:r.j.jsx(l.E,{})},d=(0,o.forwardRef)((({icon:e,size:t="md",label:n,labelTag:i,dismissible:l=!1,dropdown:c=!1,className:d,selected:f,isDropdownOpen:g,onChipSelect:m,onDismiss:y,children:v,...b},_)=>{const E=l||c;return r.j.jsxs("button",{onClick:e=>{if(!l&&!c)if(void 0===f){const t=e.currentTarget,n="selected"===t.getAttribute("data-state"),r=n?"":"selected";t.setAttribute("data-state",r),null==m||m(e,!n)}else null==m||m(e,f)},className:(0,s.c)("quill-chip",`quill-chip__size--${t}`,E&&`quill-chip__custom-right-padding__size--${t}`,d),"data-state":f?"selected":"",ref:_,...b,children:[e&&r.j.jsx(e,{}),n&&o.cloneElement(p[t],{children:n}),v,i&&r.j.jsx(a.O,{bold:!0,children:i}),l&&r.j.jsx(u,{iconSize:"sm",onClick:e=>{null==y||y(e)},"data-testid":"dt-chip-dismissible-btn",className:"dismissible-icon"}),c&&r.j.jsx(h,{width:24,height:24,"data-state":g?"open":"close",className:"rotate"})]})})),f=(0,o.forwardRef)((({onDismiss:e,className:t,...n},o)=>r.j.jsx(d,{onDismiss:e,className:(0,s.c)("quill-dismissible-chip",t),ref:o,dismissible:!0,...n})));f.displayName="DismissibleChip";var g=Object.defineProperty,m=(e,t,n)=>(((e,t,n)=>{t in e?g(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);let y=new class{constructor(){m(this,"current",this.detect()),m(this,"handoffState","pending"),m(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return"server"===this.current}get isClient(){return"client"===this.current}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){"pending"===this.handoffState&&(this.handoffState="complete")}get isHandoffComplete(){return"complete"===this.handoffState}},v=(e,t)=>{y.isServer?(0,o.useEffect)(e,t):(0,o.useLayoutEffect)(e,t)};function b(e){let t=(0,o.useRef)(e);return v((()=>{t.current=e}),[e]),t}function _(e,t){let[n,r]=(0,o.useState)(e),i=b(e);return v((()=>r(i.current)),[i,r,...t]),n}let E=function(e){let t=b(e);return o.useCallback(((...e)=>t.current(...e)),[t])};function w(){let e=[],t={addEventListener:(e,n,r,o)=>(e.addEventListener(n,r,o),t.add((()=>e.removeEventListener(n,r,o)))),requestAnimationFrame(...e){let n=requestAnimationFrame(...e);return t.add((()=>cancelAnimationFrame(n)))},nextFrame:(...e)=>t.requestAnimationFrame((()=>t.requestAnimationFrame(...e))),setTimeout(...e){let n=setTimeout(...e);return t.add((()=>clearTimeout(n)))},microTask(...e){let n={current:!0};return function(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch((e=>setTimeout((()=>{throw e}))))}((()=>{n.current&&e[0]()})),t.add((()=>{n.current=!1}))},style(e,t,n){let r=e.style.getPropertyValue(t);return Object.assign(e.style,{[t]:n}),this.add((()=>{Object.assign(e.style,{[t]:r})}))},group(e){let t=w();return e(t),this.add((()=>t.dispose()))},add:t=>(e.push(t),()=>{let n=e.indexOf(t);if(n>=0)for(let t of e.splice(n,1))t()}),dispose(){for(let t of e.splice(0))t()}};return t}function T(){let[e]=(0,o.useState)(w);return(0,o.useEffect)((()=>()=>e.dispose()),[e]),e}function k(){let e=function(){let e=typeof document>"u";return"useSyncExternalStore"in i&&i.useSyncExternalStore((()=>()=>{}),(()=>!1),(()=>!e))}(),[t,n]=o.useState(y.isHandoffComplete);return t&&!1===y.isHandoffComplete&&n(!1),o.useEffect((()=>{!0!==t&&n(!0)}),[t]),o.useEffect((()=>y.handoff()),[]),!e&&t}var S;let C=null!=(S=o.useId)?S:function(){let e=k(),[t,n]=o.useState(e?()=>y.nextId():null);return v((()=>{null===t&&n(y.nextId())}),[t]),null!=t?""+t:void 0};function O(e,t,...n){if(e in t){let r=t[e];return"function"==typeof r?r(...n):r}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,O),r}function I(e){return y.isServer?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let x=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");var R,N=((R=N||{})[R.First=1]="First",R[R.Previous=2]="Previous",R[R.Next=4]="Next",R[R.Last=8]="Last",R[R.WrapAround=16]="WrapAround",R[R.NoScroll=32]="NoScroll",R),A=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(A||{}),$=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))($||{}),D=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(D||{});function M(e,t=0){var n;return e!==(null==(n=I(e))?void 0:n.body)&&O(t,{0:()=>e.matches(x),1(){let t=e;for(;null!==t;){if(t.matches(x))return!0;t=t.parentElement}return!1}})}var P=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(P||{});function L(e,t,n){let r=b(t);(0,o.useEffect)((()=>{function t(e){r.current(e)}return document.addEventListener(e,t,n),()=>document.removeEventListener(e,t,n)}),[e,n])}function B(e,t,n=!0){let r=(0,o.useRef)(!1);function i(n,o){if(!r.current||n.defaultPrevented)return;let i=o(n);if(null===i||!i.getRootNode().contains(i)||!i.isConnected)return;let s=function e(t){return"function"==typeof t?e(t()):Array.isArray(t)||t instanceof Set?t:[t]}(e);for(let e of s){if(null===e)continue;let t=e instanceof HTMLElement?e:e.current;if(null!=t&&t.contains(i)||n.composed&&n.composedPath().includes(t))return}return!M(i,D.Loose)&&-1!==i.tabIndex&&n.preventDefault(),t(n,i)}(0,o.useEffect)((()=>{requestAnimationFrame((()=>{r.current=n}))}),[n]);let s=(0,o.useRef)(null);L("pointerdown",(e=>{var t,n;r.current&&(s.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target)}),!0),L("mousedown",(e=>{var t,n;r.current&&(s.current=(null==(n=null==(t=e.composedPath)?void 0:t.call(e))?void 0:n[0])||e.target)}),!0),L("click",(e=>{/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0||/Android/gi.test(window.navigator.userAgent)||s.current&&(i(e,(()=>s.current)),s.current=null)}),!0),L("touchend",(e=>i(e,(()=>e.target instanceof HTMLElement?e.target:null))),!0),function(e,t,n){let r=b((e=>i(e,(()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null))));(0,o.useEffect)((()=>{function t(e){r.current(e)}return window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)}),[e,n])}("blur",0,!0)}function F(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function j(e,t){let[n,r]=(0,o.useState)((()=>F(e)));return v((()=>{r(F(e))}),[e.type,e.as]),v((()=>{n||t.current&&t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&r("button")}),[n,t]),n}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",(e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")}),!0),document.addEventListener("click",(e=>{1===e.detail?delete document.documentElement.dataset.headlessuiFocusVisible:0===e.detail&&(document.documentElement.dataset.headlessuiFocusVisible="")}),!0));let U=Symbol();function H(...e){let t=(0,o.useRef)(e);(0,o.useEffect)((()=>{t.current=e}),[e]);let n=E((e=>{for(let n of t.current)null!=n&&("function"==typeof n?n(e):n.current=e)}));return e.every((e=>null==e||(null==e?void 0:e[U])))?void 0:n}function V(e){return[e.screenX,e.screenY]}function W(...e){return Array.from(new Set(e.flatMap((e=>"string"==typeof e?e.split(" "):[])))).filter(Boolean).join(" ")}var G=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(G||{}),z=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(z||{});function q({ourProps:e,theirProps:t,slot:n,defaultTag:r,features:o,visible:i=!0,name:s,mergeRefs:a}){a=a??X;let l=K(t,e);if(i)return Y(l,n,r,s,a);let c=o??0;if(2&c){let{static:e=!1,...t}=l;if(e)return Y(t,n,r,s,a)}if(1&c){let{unmount:e=!0,...t}=l;return O(e?0:1,{0:()=>null,1:()=>Y({...t,hidden:!0,style:{display:"none"}},n,r,s,a)})}return Y(l,n,r,s,a)}function Y(e,t={},n,r,i){let{as:s=n,children:a,refName:l="ref",...c}=Q(e,["unmount","static"]),u=void 0!==e.ref?{[l]:e.ref}:{},h="function"==typeof a?a(t):a;"className"in c&&c.className&&"function"==typeof c.className&&(c.className=c.className(t));let p={};if(t){let e=!1,n=[];for(let[r,o]of Object.entries(t))"boolean"==typeof o&&(e=!0),!0===o&&n.push(r);e&&(p["data-headlessui-state"]=n.join(" "))}if(s===o.Fragment&&Object.keys(Z(c)).length>0){if(!(0,o.isValidElement)(h)||Array.isArray(h)&&h.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${r} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));let e=h.props,t="function"==typeof(null==e?void 0:e.className)?(...t)=>W(null==e?void 0:e.className(...t),c.className):W(null==e?void 0:e.className,c.className),n=t?{className:t}:{};return(0,o.cloneElement)(h,Object.assign({},K(h.props,Z(Q(c,["ref"]))),p,u,{ref:i(h.ref,u.ref)},n))}return(0,o.createElement)(s,Object.assign({},Q(c,["ref"]),s!==o.Fragment&&u,s!==o.Fragment&&p),h)}function X(...e){return e.every((e=>null==e))?void 0:t=>{for(let n of e)null!=n&&("function"==typeof n?n(t):n.current=t)}}function K(...e){if(0===e.length)return{};if(1===e.length)return e[0];let t={},n={};for(let r of e)for(let e in r)e.startsWith("on")&&"function"==typeof r[e]?(null!=n[e]||(n[e]=[]),n[e].push(r[e])):t[e]=r[e];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map((e=>[e,void 0]))));for(let e in n)Object.assign(t,{[e](t,...r){let o=n[e];for(let e of o){if((t instanceof Event||(null==t?void 0:t.nativeEvent)instanceof Event)&&t.defaultPrevented)return;e(t,...r)}}});return t}function J(e){var t;return Object.assign((0,o.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function Z(e){let t=Object.assign({},e);for(let e in t)void 0===t[e]&&delete t[e];return t}function Q(e,t=[]){let n=Object.assign({},e);for(let e of t)e in n&&delete n[e];return n}var ee=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(ee||{});let te=J((function(e,t){var n;let{features:r=1,...o}=e;return q({ourProps:{ref:t,"aria-hidden":!(2&~r)||(null!=(n=o["aria-hidden"])?n:void 0),style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...!(4&~r)&&!!(2&~r)&&{display:"none"}}},theirProps:o,slot:{},defaultTag:"div",name:"Hidden"})})),ne=(0,o.createContext)(null);ne.displayName="OpenClosedContext";var re=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(re||{});function oe(){return(0,o.useContext)(ne)}function ie({value:e,children:t}){return o.createElement(ne.Provider,{value:e},t)}var se=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(se||{});function ae(e={},t=null,n=[]){for(let[r,o]of Object.entries(e))ce(n,le(t,r),o);return n}function le(e,t){return e?e+"["+t+"]":t}function ce(e,t,n){if(Array.isArray(n))for(let[r,o]of n.entries())ce(e,le(t,r.toString()),o);else n instanceof Date?e.push([t,n.toISOString()]):"boolean"==typeof n?e.push([t,n?"1":"0"]):"string"==typeof n?e.push([t,n]):"number"==typeof n?e.push([t,`${n}`]):null==n?e.push([t,""]):ae(n,t,e)}var ue=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(ue||{});function he(){let e=(0,o.useRef)(!1);return v((()=>(e.current=!0,()=>{e.current=!1})),[]),e}let pe=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function de(e){var t,n;let r=null!=(t=e.innerText)?t:"",o=e.cloneNode(!0);if(!(o instanceof HTMLElement))return r;let i=!1;for(let e of o.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))e.remove(),i=!0;let s=i?null!=(n=o.innerText)?n:"":r;return pe.test(s)&&(s=s.replace(pe,"")),s}var fe=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(fe||{}),ge=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(ge||{}),me=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(me||{}),ye=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(ye||{});function ve(e,t=e=>e){let n=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,r=function(e,t=e=>e){return e.slice().sort(((e,n)=>{let r=t(e),o=t(n);if(null===r||null===o)return 0;let i=r.compareDocumentPosition(o);return i&Node.DOCUMENT_POSITION_FOLLOWING?-1:i&Node.DOCUMENT_POSITION_PRECEDING?1:0}))}(t(e.options.slice()),(e=>e.dataRef.current.domRef.current)),o=n?r.indexOf(n):null;return-1===o&&(o=null),{options:r,activeOptionIndex:o}}let be={1:e=>e.dataRef.current.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1},0(e){if(e.dataRef.current.disabled||0===e.listboxState)return e;let t=e.activeOptionIndex,{isSelected:n}=e.dataRef.current,r=e.options.findIndex((e=>n(e.dataRef.current.value)));return-1!==r&&(t=r),{...e,listboxState:0,activeOptionIndex:t}},2(e,t){var n;if(e.dataRef.current.disabled||1===e.listboxState)return e;let r=ve(e),o=function(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),o=r??-1;switch(e.focus){case 0:for(let e=0;e<n.length;++e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 1:for(let e=o-1;e>=0;--e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 2:for(let e=o+1;e<n.length;++e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 3:for(let e=n.length-1;e>=0;--e)if(!t.resolveDisabled(n[e],e,n))return e;return r;case 4:for(let r=0;r<n.length;++r)if(t.resolveId(n[r],r,n)===e.id)return r;return r;case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}(t,{resolveItems:()=>r.options,resolveActiveIndex:()=>r.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...r,searchQuery:"",activeOptionIndex:o,activationTrigger:null!=(n=t.trigger)?n:1}},3:(e,t)=>{if(e.dataRef.current.disabled||1===e.listboxState)return e;let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),o=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find((e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))})),i=o?e.options.indexOf(o):-1;return-1===i||i===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:i,activationTrigger:1}},4:e=>e.dataRef.current.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},5:(e,t)=>{let n={id:t.id,dataRef:t.dataRef},r=ve(e,(e=>[...e,n]));return null===e.activeOptionIndex&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(r.activeOptionIndex=r.options.indexOf(n)),{...e,...r}},6:(e,t)=>{let n=ve(e,(e=>{let n=e.findIndex((e=>e.id===t.id));return-1!==n&&e.splice(n,1),e}));return{...e,...n,activationTrigger:1}},7:(e,t)=>({...e,labelId:t.id})},_e=(0,o.createContext)(null);function Ee(e){let t=(0,o.useContext)(_e);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ee),t}return t}_e.displayName="ListboxActionsContext";let we=(0,o.createContext)(null);function Te(e){let t=(0,o.useContext)(we);if(null===t){let t=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Te),t}return t}function ke(e,t){return O(t.type,be,e,t)}we.displayName="ListboxDataContext";let Se=o.Fragment,Ce=G.RenderStrategy|G.Static,Oe=J((function(e,t){let{value:n,defaultValue:r,form:i,name:s,onChange:a,by:l=(e,t)=>e===t,disabled:c=!1,horizontal:u=!1,multiple:h=!1,...p}=e;const d=u?"horizontal":"vertical";let f=H(t),[g=(h?[]:void 0),m]=function(e,t,n){let[r,i]=(0,o.useState)(n),s=void 0!==e,a=(0,o.useRef)(s),l=(0,o.useRef)(!1),c=(0,o.useRef)(!1);return!s||a.current||l.current?!s&&a.current&&!c.current&&(c.current=!0,a.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")):(l.current=!0,a.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")),[s?e:r,E((e=>(s||i(e),null==t?void 0:t(e))))]}(n,a,r),[y,b]=(0,o.useReducer)(ke,{dataRef:(0,o.createRef)(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),_=(0,o.useRef)({static:!1,hold:!1}),w=(0,o.useRef)(null),k=(0,o.useRef)(null),S=(0,o.useRef)(null),C=E("string"==typeof l?(e,t)=>{let n=l;return(null==e?void 0:e[n])===(null==t?void 0:t[n])}:l),I=(0,o.useCallback)((e=>O(x.mode,{1:()=>g.some((t=>C(t,e))),0:()=>C(g,e)})),[g]),x=(0,o.useMemo)((()=>({...y,value:g,disabled:c,mode:h?1:0,orientation:d,compare:C,isSelected:I,optionsPropsRef:_,labelRef:w,buttonRef:k,optionsRef:S})),[g,c,h,y]);v((()=>{y.dataRef.current=x}),[x]),B([x.buttonRef,x.optionsRef],((e,t)=>{var n;b({type:1}),M(t,D.Loose)||(e.preventDefault(),null==(n=x.buttonRef.current)||n.focus())}),0===x.listboxState);let R=(0,o.useMemo)((()=>({open:0===x.listboxState,disabled:c,value:g})),[x,c,g]),N=E((e=>{let t=x.options.find((t=>t.id===e));t&&U(t.dataRef.current.value)})),A=E((()=>{if(null!==x.activeOptionIndex){let{dataRef:e,id:t}=x.options[x.activeOptionIndex];U(e.current.value),b({type:2,focus:se.Specific,id:t})}})),$=E((()=>b({type:0}))),P=E((()=>b({type:1}))),L=E(((e,t,n)=>e===se.Specific?b({type:2,focus:se.Specific,id:t,trigger:n}):b({type:2,focus:e,trigger:n}))),F=E(((e,t)=>(b({type:5,id:e,dataRef:t}),()=>b({type:6,id:e})))),j=E((e=>(b({type:7,id:e}),()=>b({type:7,id:null})))),U=E((e=>O(x.mode,{0:()=>null==m?void 0:m(e),1(){let t=x.value.slice(),n=t.findIndex((t=>C(t,e)));return-1===n?t.push(e):t.splice(n,1),null==m?void 0:m(t)}}))),V=E((e=>b({type:3,value:e}))),W=E((()=>b({type:4}))),G=(0,o.useMemo)((()=>({onChange:U,registerOption:F,registerLabel:j,goToOption:L,closeListbox:P,openListbox:$,selectActiveOption:A,selectOption:N,search:V,clearSearch:W})),[]),z={ref:f},Y=(0,o.useRef)(null),X=T();return(0,o.useEffect)((()=>{Y.current&&void 0!==r&&X.addEventListener(Y.current,"reset",(()=>{null==m||m(r)}))}),[Y,m]),o.createElement(_e.Provider,{value:G},o.createElement(we.Provider,{value:x},o.createElement(ie,{value:O(x.listboxState,{0:re.Open,1:re.Closed})},null!=s&&null!=g&&ae({[s]:g}).map((([e,t],n)=>o.createElement(te,{features:ee.Hidden,ref:0===n?e=>{var t;Y.current=null!=(t=null==e?void 0:e.closest("form"))?t:null}:void 0,...Z({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:i,name:e,value:t})}))),q({ourProps:z,theirProps:p,slot:R,defaultTag:Se,name:"Listbox"}))))})),Ie=J((function(e,t){var n;let r=C(),{id:i=`headlessui-listbox-button-${r}`,...s}=e,a=Te("Listbox.Button"),l=Ee("Listbox.Button"),c=H(a.buttonRef,t),u=T(),h=E((e=>{switch(e.key){case ue.Space:case ue.Enter:case ue.ArrowDown:e.preventDefault(),l.openListbox(),u.nextFrame((()=>{a.value||l.goToOption(se.First)}));break;case ue.ArrowUp:e.preventDefault(),l.openListbox(),u.nextFrame((()=>{a.value||l.goToOption(se.Last)}))}})),p=E((e=>{e.key===ue.Space&&e.preventDefault()})),d=E((e=>{if(function(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}(e.currentTarget))return e.preventDefault();0===a.listboxState?(l.closeListbox(),u.nextFrame((()=>{var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),l.openListbox())})),f=_((()=>{if(a.labelId)return[a.labelId,i].join(" ")}),[a.labelId,i]),g=(0,o.useMemo)((()=>({open:0===a.listboxState,disabled:a.disabled,value:a.value})),[a]);return q({ourProps:{ref:c,id:i,type:j(e,a.buttonRef),"aria-haspopup":"listbox","aria-controls":null==(n=a.optionsRef.current)?void 0:n.id,"aria-expanded":0===a.listboxState,"aria-labelledby":f,disabled:a.disabled,onKeyDown:h,onKeyUp:p,onClick:d},theirProps:s,slot:g,defaultTag:"button",name:"Listbox.Button"})})),xe=J((function(e,t){let n=C(),{id:r=`headlessui-listbox-label-${n}`,...i}=e,s=Te("Listbox.Label"),a=Ee("Listbox.Label"),l=H(s.labelRef,t);v((()=>a.registerLabel(r)),[r]);let c=E((()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),u=(0,o.useMemo)((()=>({open:0===s.listboxState,disabled:s.disabled})),[s]);return q({ourProps:{ref:l,id:r,onClick:c},theirProps:i,slot:u,defaultTag:"label",name:"Listbox.Label"})})),Re=J((function(e,t){var n;let r=C(),{id:i=`headlessui-listbox-options-${r}`,...s}=e,a=Te("Listbox.Options"),l=Ee("Listbox.Options"),c=H(a.optionsRef,t),u=T(),h=T(),p=oe(),d=null!==p?(p&re.Open)===re.Open:0===a.listboxState;(0,o.useEffect)((()=>{var e;let t=a.optionsRef.current;t&&0===a.listboxState&&t!==(null==(e=I(t))?void 0:e.activeElement)&&t.focus({preventScroll:!0})}),[a.listboxState,a.optionsRef]);let f=E((e=>{switch(h.dispose(),e.key){case ue.Space:if(""!==a.searchQuery)return e.preventDefault(),e.stopPropagation(),l.search(e.key);case ue.Enter:if(e.preventDefault(),e.stopPropagation(),null!==a.activeOptionIndex){let{dataRef:e}=a.options[a.activeOptionIndex];l.onChange(e.current.value)}0===a.mode&&(l.closeListbox(),w().nextFrame((()=>{var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})})));break;case O(a.orientation,{vertical:ue.ArrowDown,horizontal:ue.ArrowRight}):return e.preventDefault(),e.stopPropagation(),l.goToOption(se.Next);case O(a.orientation,{vertical:ue.ArrowUp,horizontal:ue.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),l.goToOption(se.Previous);case ue.Home:case ue.PageUp:return e.preventDefault(),e.stopPropagation(),l.goToOption(se.First);case ue.End:case ue.PageDown:return e.preventDefault(),e.stopPropagation(),l.goToOption(se.Last);case ue.Escape:return e.preventDefault(),e.stopPropagation(),l.closeListbox(),u.nextFrame((()=>{var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case ue.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(l.search(e.key),h.setTimeout((()=>l.clearSearch()),350))}})),g=_((()=>{var e;return null==(e=a.buttonRef.current)?void 0:e.id}),[a.buttonRef.current]),m=(0,o.useMemo)((()=>({open:0===a.listboxState})),[a]);return q({ourProps:{"aria-activedescendant":null===a.activeOptionIndex||null==(n=a.options[a.activeOptionIndex])?void 0:n.id,"aria-multiselectable":1===a.mode||void 0,"aria-labelledby":g,"aria-orientation":a.orientation,id:i,onKeyDown:f,role:"listbox",tabIndex:0,ref:c},theirProps:s,slot:m,defaultTag:"ul",features:Ce,visible:d,name:"Listbox.Options"})})),Ne=J((function(e,t){let n=C(),{id:r=`headlessui-listbox-option-${n}`,disabled:i=!1,value:s,...a}=e,l=Te("Listbox.Option"),c=Ee("Listbox.Option"),u=null!==l.activeOptionIndex&&l.options[l.activeOptionIndex].id===r,h=l.isSelected(s),p=(0,o.useRef)(null),d=function(e){let t=(0,o.useRef)(""),n=(0,o.useRef)("");return E((()=>{let r=e.current;if(!r)return"";let o=r.innerText;if(t.current===o)return n.current;let i=function(e){let t=e.getAttribute("aria-label");if("string"==typeof t)return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let e=n.split(" ").map((e=>{let t=document.getElementById(e);if(t){let e=t.getAttribute("aria-label");return"string"==typeof e?e.trim():de(t).trim()}return null})).filter(Boolean);if(e.length>0)return e.join(", ")}return de(e).trim()}(r).trim().toLowerCase();return t.current=o,n.current=i,i}))}(p),f=b({disabled:i,value:s,domRef:p,get textValue(){return d()}}),g=H(t,p);v((()=>{if(0!==l.listboxState||!u||0===l.activationTrigger)return;let e=w();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=p.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[p,u,l.listboxState,l.activationTrigger,l.activeOptionIndex]),v((()=>c.registerOption(r,f)),[f,r]);let m=E((e=>{if(i)return e.preventDefault();c.onChange(s),0===l.mode&&(c.closeListbox(),w().nextFrame((()=>{var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})})))})),y=E((()=>{if(i)return c.goToOption(se.Nothing);c.goToOption(se.Specific,r)})),_=function(){let e=(0,o.useRef)([-1,-1]);return{wasMoved(t){let n=V(t);return(e.current[0]!==n[0]||e.current[1]!==n[1])&&(e.current=n,!0)},update(t){e.current=V(t)}}}(),T=E((e=>_.update(e))),k=E((e=>{_.wasMoved(e)&&(i||u||c.goToOption(se.Specific,r,0))})),S=E((e=>{_.wasMoved(e)&&(i||u&&c.goToOption(se.Nothing))})),O=(0,o.useMemo)((()=>({active:u,selected:h,disabled:i})),[u,h,i]);return q({ourProps:{id:r,ref:g,role:"option",tabIndex:!0===i?void 0:-1,"aria-disabled":!0===i||void 0,"aria-selected":h,disabled:void 0,onClick:m,onFocus:y,onPointerEnter:T,onMouseEnter:T,onPointerMove:k,onMouseMove:k,onPointerLeave:S,onMouseLeave:S},theirProps:a,slot:O,defaultTag:"li",name:"Listbox.Option"})})),Ae=Object.assign(Oe,{Button:Ie,Label:xe,Options:Re,Option:Ne});function $e(e,...t){e&&t.length>0&&e.classList.add(...t)}function De(e,...t){e&&t.length>0&&e.classList.remove(...t)}function Me(e=""){return e.split(/\s+/).filter((e=>e.length>1))}let Pe=(0,o.createContext)(null);Pe.displayName="TransitionContext";var Le=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Le||{});let Be=(0,o.createContext)(null);function Fe(e){return"children"in e?Fe(e.children):e.current.filter((({el:e})=>null!==e.current)).filter((({state:e})=>"visible"===e)).length>0}function je(e,t){let n=b(e),r=(0,o.useRef)([]),i=he(),s=T(),a=E(((e,t=z.Hidden)=>{let o=r.current.findIndex((({el:t})=>t===e));-1!==o&&(O(t,{[z.Unmount](){r.current.splice(o,1)},[z.Hidden](){r.current[o].state="hidden"}}),s.microTask((()=>{var e;!Fe(r)&&i.current&&(null==(e=n.current)||e.call(n))})))})),l=E((e=>{let t=r.current.find((({el:t})=>t===e));return t?"visible"!==t.state&&(t.state="visible"):r.current.push({el:e,state:"visible"}),()=>a(e,z.Unmount)})),c=(0,o.useRef)([]),u=(0,o.useRef)(Promise.resolve()),h=(0,o.useRef)({enter:[],leave:[],idle:[]}),p=E(((e,n,r)=>{c.current.splice(0),t&&(t.chains.current[n]=t.chains.current[n].filter((([t])=>t!==e))),null==t||t.chains.current[n].push([e,new Promise((e=>{c.current.push(e)}))]),null==t||t.chains.current[n].push([e,new Promise((e=>{Promise.all(h.current[n].map((([e,t])=>t))).then((()=>e()))}))]),"enter"===n?u.current=u.current.then((()=>null==t?void 0:t.wait.current)).then((()=>r(n))):r(n)})),d=E(((e,t,n)=>{Promise.all(h.current[t].splice(0).map((([e,t])=>t))).then((()=>{var e;null==(e=c.current.shift())||e()})).then((()=>n(t)))}));return(0,o.useMemo)((()=>({children:r,register:l,unregister:a,onStart:p,onStop:d,wait:u,chains:h})),[l,a,r,p,d,h,u])}function Ue(){}Be.displayName="NestingContext";let He=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Ve(e){var t;let n={};for(let r of He)n[r]=null!=(t=e[r])?t:Ue;return n}let We=G.RenderStrategy,Ge=J((function(e,t){let{show:n,appear:r=!1,unmount:i=!0,...s}=e,a=(0,o.useRef)(null),l=H(a,t);k();let c=oe();if(void 0===n&&null!==c&&(n=(c&re.Open)===re.Open),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,h]=(0,o.useState)(n?"visible":"hidden"),p=je((()=>{h("hidden")})),[d,f]=(0,o.useState)(!0),g=(0,o.useRef)([n]);v((()=>{!1!==d&&g.current[g.current.length-1]!==n&&(g.current.push(n),f(!1))}),[g,n]);let m=(0,o.useMemo)((()=>({show:n,appear:r,initial:d})),[n,r,d]);(0,o.useEffect)((()=>{if(n)h("visible");else if(Fe(p)){let e=a.current;if(!e)return;let t=e.getBoundingClientRect();0===t.x&&0===t.y&&0===t.width&&0===t.height&&h("hidden")}else h("hidden")}),[n,p]);let y={unmount:i},b=E((()=>{var t;d&&f(!1),null==(t=e.beforeEnter)||t.call(e)})),_=E((()=>{var t;d&&f(!1),null==(t=e.beforeLeave)||t.call(e)}));return o.createElement(Be.Provider,{value:p},o.createElement(Pe.Provider,{value:m},q({ourProps:{...y,as:o.Fragment,children:o.createElement(ze,{ref:l,...y,...s,beforeEnter:b,beforeLeave:_})},theirProps:{},defaultTag:o.Fragment,features:We,visible:"visible"===u,name:"Transition"})))})),ze=J((function(e,t){var n,r;let{beforeEnter:i,afterEnter:s,beforeLeave:a,afterLeave:l,enter:c,enterFrom:u,enterTo:h,entered:p,leave:d,leaveFrom:f,leaveTo:g,...m}=e,y=(0,o.useRef)(null),_=H(y,t),S=null==(n=m.unmount)||n?z.Unmount:z.Hidden,{show:C,appear:I,initial:x}=function(){let e=(0,o.useContext)(Pe);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[R,N]=(0,o.useState)(C?"visible":"hidden"),A=function(){let e=(0,o.useContext)(Be);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:$,unregister:D}=A;(0,o.useEffect)((()=>$(y)),[$,y]),(0,o.useEffect)((()=>{if(S===z.Hidden&&y.current)return C&&"visible"!==R?void N("visible"):O(R,{hidden:()=>D(y),visible:()=>$(y)})}),[R,y,$,D,C,S]);let M=b({base:Me(m.className),enter:Me(c),enterFrom:Me(u),enterTo:Me(h),entered:Me(p),leave:Me(d),leaveFrom:Me(f),leaveTo:Me(g)}),P=function(e){let t=(0,o.useRef)(Ve(e));return(0,o.useEffect)((()=>{t.current=Ve(e)}),[e]),t}({beforeEnter:i,afterEnter:s,beforeLeave:a,afterLeave:l}),L=k();(0,o.useEffect)((()=>{if(L&&"visible"===R&&null===y.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[y,R,L]);let B=I&&C&&x,F=!L||x&&!I?"idle":C?"enter":"leave",j=function(e=0){let[t,n]=(0,o.useState)(e),r=he(),i=(0,o.useCallback)((e=>{r.current&&n((t=>t|e))}),[t,r]),s=(0,o.useCallback)((e=>!!(t&e)),[t]),a=(0,o.useCallback)((e=>{r.current&&n((t=>t&~e))}),[n,r]),l=(0,o.useCallback)((e=>{r.current&&n((t=>t^e))}),[n]);return{flags:t,addFlag:i,hasFlag:s,removeFlag:a,toggleFlag:l}}(0),U=E((e=>O(e,{enter:()=>{j.addFlag(re.Opening),P.current.beforeEnter()},leave:()=>{j.addFlag(re.Closing),P.current.beforeLeave()},idle:()=>{}}))),V=E((e=>O(e,{enter:()=>{j.removeFlag(re.Opening),P.current.afterEnter()},leave:()=>{j.removeFlag(re.Closing),P.current.afterLeave()},idle:()=>{}}))),G=je((()=>{N("hidden"),D(y)}),A),Y=(0,o.useRef)(!1);!function({immediate:e,container:t,direction:n,classes:r,onStart:o,onStop:i}){let s=he(),a=T(),l=b(n);v((()=>{e&&(l.current="enter")}),[e]),v((()=>{let e=w();a.add(e.dispose);let n=t.current;if(n&&"idle"!==l.current&&s.current)return e.dispose(),o.current(l.current),e.add(function(e,t,n,r){let o=n?"enter":"leave",i=w(),s=void 0!==r?function(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}(r):()=>{};"enter"===o&&(e.removeAttribute("hidden"),e.style.display="");let a=O(o,{enter:()=>t.enter,leave:()=>t.leave}),l=O(o,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),c=O(o,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return De(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),$e(e,...t.base,...a,...c),i.nextFrame((()=>{De(e,...t.base,...a,...c),$e(e,...t.base,...a,...l),function(e,t){let n=w();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:o}=getComputedStyle(e),[i,s]=[r,o].map((e=>{let[t=0]=e.split(",").filter(Boolean).map((e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e))).sort(((e,t)=>t-e));return t})),a=i+s;if(0!==a){n.group((n=>{n.setTimeout((()=>{t(),n.dispose()}),a),n.addEventListener(e,"transitionrun",(e=>{e.target===e.currentTarget&&n.dispose()}))}));let r=n.addEventListener(e,"transitionend",(e=>{e.target===e.currentTarget&&(t(),r())}))}else t();n.add((()=>t())),n.dispose}(e,(()=>(De(e,...t.base,...a),$e(e,...t.base,...t.entered),s())))})),i.dispose}(n,r.current,"enter"===l.current,(()=>{e.dispose(),i.current(l.current)}))),e.dispose}),[n])}({immediate:B,container:y,classes:M,direction:F,onStart:b((e=>{Y.current=!0,G.onStart(y,e,U)})),onStop:b((e=>{Y.current=!1,G.onStop(y,e,V),"leave"===e&&!Fe(G)&&(N("hidden"),D(y))}))});let X=m,K={ref:_};return B?X={...X,className:W(m.className,...M.current.enter,...M.current.enterFrom)}:Y.current&&(X.className=W(m.className,null==(r=y.current)?void 0:r.className),""===X.className&&delete X.className),o.createElement(Be.Provider,{value:G},o.createElement(ie,{value:O(R,{visible:re.Open,hidden:re.Closed})|j.flags},q({ourProps:K,theirProps:X,defaultTag:"div",features:We,visible:"visible"===R,name:"Transition.Child"})))})),qe=J((function(e,t){let n=null!==(0,o.useContext)(Pe),r=null!==oe();return o.createElement(o.Fragment,null,!n&&r?o.createElement(Ge,{ref:t,...e}):o.createElement(ze,{ref:t,...e}))})),Ye=Object.assign(Ge,{Child:qe,Root:Ge});const Xe=(0,o.forwardRef)((({iconSize:e="md",title:t,titleId:n,...r},i)=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",...c.s[e],role:"img",ref:i,"aria-labelledby":n,...r},t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M22.25 9H9.75c-.703 0-1.25.586-1.25 1.25v12.5c0 .703.547 1.25 1.25 1.25h12.5c.664 0 1.25-.547 1.25-1.25v-12.5c0-.664-.586-1.25-1.25-1.25M9.75 7.75h12.5c1.367 0 2.5 1.133 2.5 2.5v12.5c0 1.406-1.133 2.5-2.5 2.5H9.75a2.47 2.47 0 0 1-2.5-2.5v-12.5c0-1.367 1.094-2.5 2.5-2.5"})))),Ke=(0,o.forwardRef)((({iconSize:e="md",title:t,titleId:n,...r},i)=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",...c.s[e],role:"img",ref:i,"aria-labelledby":n,...r},t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M9.75 7.75h12.5c1.367 0 2.5 1.133 2.5 2.5v12.5c0 1.406-1.133 2.5-2.5 2.5H9.75a2.47 2.47 0 0 1-2.5-2.5v-12.5c0-1.367 1.094-2.5 2.5-2.5m10.664 6.914h-.039c.39-.351.39-.937 0-1.328a.92.92 0 0 0-1.29 0L14.75 17.71l-1.836-1.836c-.39-.39-.976-.39-1.328 0a.856.856 0 0 0 0 1.29l2.5 2.5c.351.39.937.39 1.328 0z"})))),Je=o.forwardRef((({as:e="li",leftIcon:t,rightIcon:n,size:i="md",centered:a,textAlignment:c="left",label:u,disabled:h=!1,selected:p=!1,className:d,checkbox:f=!1,labelColor:g,...m},y)=>{const v="lg"===i?"md":i;return o.createElement(e,{ref:y,className:(0,s.c)("quill-dropdown-item",`quill-dropdown-item__size--${v}`,`quill-dropdown-item__align-${c}`,f?`quill-dropdown-item-checkbox__selected--${p}__disabled--${h}`:`quill-dropdown-item__selected--${p}__disabled--${h}`,d),...m},(f||a||t)&&r.j.jsx("div",{className:"quill-dropdown-item__icon",children:f?p?r.j.jsx(Ke,{iconSize:"sm"}):r.j.jsx(Xe,{iconSize:"sm"}):t}),r.j.jsx(l.E,{size:v,className:(0,s.c)("quill-dropdown-item-label",h&&"quill-typography__color--disabled"),color:g,centered:a,children:u}),(a||n)&&r.j.jsx("div",{className:"quill-dropdown-item__icon",children:n}))}));n(513),n(7190),n(3284),n(372);const Ze=({item:e,size:t})=>{const n={sm:"sm",md:"sm",lg:"md"};return r.j.jsx(Ae.Option,{value:e,as:o.Fragment,disabled:e.disabled,children:({disabled:o,selected:i})=>r.j.jsx(Je,{label:e.label,disabled:o,selected:i,size:n[t]})})},Qe=(0,o.forwardRef)((({defaultOption:e,size:t="md",icon:n,labelTag:i,disabled:a,options:l,onSelectionChange:c,className:u,...h},p)=>{const[f,g]=(0,o.useState)(e);return r.j.jsx(Ae,{value:f,onChange:e=>{g(e),null==c||c(e)},disabled:a,children:({open:o})=>r.j.jsxs(r.j.Fragment,{children:[r.j.jsx(Ae.Button,{as:"div",children:r.j.jsx(d,{...h,icon:n,size:t,labelTag:i,ref:p,dropdown:!0,selected:f.value!==e.value,className:"dropdown-button",isDropdownOpen:o,disabled:a,label:null==f?void 0:f.label})}),r.j.jsx(Ye,{enter:"enter",enterFrom:"enter-from",enterTo:"enter-to",leave:"leave",leaveFrom:"enter-from",leaveTo:"leave-to",children:r.j.jsxs(Ae.Options,{className:(0,s.c)("dropdown",`dropdown__size--${t}`,u),children:[r.j.jsx(Ze,{item:e,size:t}),l.map((e=>r.j.jsx(Ze,{item:e,size:t},`chip-selectable-item-${e.value}`)))]})})]})})}));Qe.displayName="DropdownChipSingleSelect";const et=({item:e,size:t})=>{const n={sm:"sm",md:"sm",lg:"md"};return r.j.jsx(Ae.Option,{value:e,as:o.Fragment,disabled:e.disabled,children:({disabled:o,selected:i})=>r.j.jsx(Je,{label:e.label,disabled:o,selected:i,size:n[t],checkbox:!0})})},tt=(0,o.forwardRef)((({size:e="md",icon:t,labelTag:n,disabled:i,options:a,onSelectionChange:l,className:c,label:u,...h},f)=>{const[g,m]=(0,o.useState)([]);return r.j.jsx(Ae,{value:g,onChange:e=>{m(e),null==l||l(e)},multiple:!0,disabled:i,children:({open:l})=>r.j.jsxs(r.j.Fragment,{children:[r.j.jsx(Ae.Button,{as:"div",children:r.j.jsx(d,{...h,icon:t,size:e,labelTag:n,ref:f,dropdown:!0,selected:g.length>0,isDropdownOpen:l,disabled:i,label:u,children:g.length>0&&o.cloneElement(p[e],{children:`(${g.length})`})})}),r.j.jsx(Ye,{enter:"enter",enterFrom:"enter-from",enterTo:"enter-to",leave:"leave",leaveFrom:"enter-from",leaveTo:"leave-to",children:r.j.jsx(Ae.Options,{className:(0,s.c)("dropdown",`dropdown__size--${e}`,c),children:a.map((t=>r.j.jsx(et,{item:t,size:e},`chip-selectable-item-${t.value}`)))})})]})})}));tt.displayName="DropdownChipMultiSelect";const nt=({children:e})=>r.j.jsx(r.j.Fragment,{children:e});nt.Selectable=({...e})=>r.j.jsx(d,{...e}),nt.Dismissible=f,nt.SingleSelectDropdown=Qe,nt.MultiSelectDropdown=tt,nt.Standard=d},3715:(e,t,n)=>{"use strict";n.d(t,{L:()=>W});var r=n(7731),o=n(9155),i=n(4214),s=n(4150),a=(n(513),n(3284),n(372),n(7190),n(9049));const l=(0,o.forwardRef)((({title:e,titleId:t,...n},r)=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:18,viewBox:"0 0 12 18",role:"img",ref:r,"aria-labelledby":t,...n},e?o.createElement("title",{id:t},e):null,o.createElement("g",null,o.createElement("path",{d:"M6 15.5a5.97 5.97 0 0 1-5.203-3 5.97 5.97 0 0 1 0-6A6.01 6.01 0 0 1 6 3.5a6 6 0 0 1 5.18 3 5.97 5.97 0 0 1 0 6 5.96 5.96 0 0 1-5.18 3M4.102 7.602c-.235.234-.235.585 0 .796L5.203 9.5l-1.101 1.102c-.235.234-.235.585 0 .796.21.235.562.235.773 0l1.102-1.101 1.101 1.101c.234.235.586.235.797 0 .234-.21.234-.562 0-.796L6.773 9.5l1.102-1.102c.234-.21.234-.562 0-.796-.21-.211-.562-.211-.797 0L5.977 8.703 4.875 7.602a.55.55 0 0 0-.773 0"})),o.createElement("defs",null,o.createElement("clipPath",{id:"a75af5b93f25b9fd2042853ad3172023__a"},o.createElement("path",{d:"M0 0h12v18H0z"})))))),c=(0,o.forwardRef)((({title:e,titleId:t,...n},r)=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:18,viewBox:"0 0 12 18",role:"img",ref:r,"aria-labelledby":t,...n},e?o.createElement("title",{id:t},e):null,o.createElement("g",null,o.createElement("path",{d:"M6 15.5a5.97 5.97 0 0 1-5.203-3 5.97 5.97 0 0 1 0-6A6.01 6.01 0 0 1 6 3.5a6 6 0 0 1 5.18 3 5.97 5.97 0 0 1 0 6 5.96 5.96 0 0 1-5.18 3m2.648-7.102h-.023c.234-.21.234-.562 0-.796a.55.55 0 0 0-.773 0L5.25 10.227 4.148 9.125c-.234-.234-.585-.234-.796 0a.513.513 0 0 0 0 .773l1.5 1.5c.21.235.562.235.796 0z"})),o.createElement("defs",null,o.createElement("clipPath",{id:"13aef6ece0f8574186153a39fabf43a1__a"},o.createElement("path",{d:"M0 0h12v18H0z"})))))),u=(0,o.forwardRef)((({title:e,titleId:t,...n},r)=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:12,height:18,viewBox:"0 0 12 18",role:"img",ref:r,"aria-labelledby":t,...n},e?o.createElement("title",{id:t},e):null,o.createElement("g",null,o.createElement("path",{d:"M6 4.25a5.24 5.24 0 0 0-4.547 2.625 5.14 5.14 0 0 0 0 5.25A5.19 5.19 0 0 0 6 14.75a5.18 5.18 0 0 0 4.523-2.625 5.14 5.14 0 0 0 0-5.25A5.23 5.23 0 0 0 6 4.25M6 15.5a5.97 5.97 0 0 1-5.203-3 5.97 5.97 0 0 1 0-6A6.01 6.01 0 0 1 6 3.5a6 6 0 0 1 5.18 3 5.97 5.97 0 0 1 0 6 5.96 5.96 0 0 1-5.18 3"})),o.createElement("defs",null,o.createElement("clipPath",{id:"37c081551806100b6e9b3624bbb4ead0__a"},o.createElement("path",{d:"M0 0h12v18H0z"})))))),h=({status:e,validationMessage:t})=>r.j.jsxs("div",{className:"validation_message",children:["success"===e?r.j.jsx(c,{fill:"var(--component-textIcon-statusNormal-success)"}):"error"===e?r.j.jsx(l,{fill:"var(--component-textIcon-statusNormal-danger)"}):r.j.jsx(u,{fill:"var(--component-textIcon-normal-default)"}),r.j.jsx(a.O,{className:`validation_message__status--${e}`,children:t})]}),p={},d=e=>{const t=(e=>{let t=String(e).replace(/[^+\-\d.]/g,"");if(/^[+-]/.test(t)&&(t=t.replace(/(?!^)[+-]/g,"")),t.includes(".")){const e=t.split(".");t=e.shift()+"."+e.join("")}return t})(e).match(/^[+-]?(\d+(\.\d*)?|\.\d+)?$/);return t?t[0]:""},f={barrier:d,commaRemoval:e=>{const t=String(e).replace(",",".");return d(t)}};var g=n(6102);const m=(0,o.forwardRef)((({title:e,titleId:t,...n},r)=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:14,height:22,viewBox:"0 0 14 22",role:"img",ref:r,"aria-labelledby":t,...n},e?o.createElement("title",{id:t},e):null,o.createElement("g",null,o.createElement("path",{d:"m6.535 14.715-5.25-5.25c-.273-.246-.273-.656 0-.93.246-.246.656-.246.93 0L7 13.348l4.785-4.786c.246-.273.656-.273.93 0a.644.644 0 0 1 0 .903l-5.277 5.25a.6.6 0 0 1-.903 0"})),o.createElement("defs",null,o.createElement("clipPath",{id:"cf5a8574d46a061173fe9ee795865c61__a"},o.createElement("path",{d:"M0 0h14v22H0z"})))))),y=(0,o.forwardRef)((({iconSize:e="md",title:t,titleId:n,...r},i)=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",...g.s[e],role:"img",ref:i,"aria-labelledby":n,...r},t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M16 8.375c-2.93 0-5.586 1.563-7.07 4.063-1.446 2.539-1.446 5.624 0 8.124A8.13 8.13 0 0 0 16 24.626c2.89 0 5.547-1.523 7.031-4.062 1.446-2.5 1.446-5.586 0-8.125-1.484-2.5-4.14-4.063-7.031-4.063M16 26.5c-3.594 0-6.875-1.875-8.672-5-1.797-3.086-1.797-6.875 0-10 1.797-3.086 5.078-5 8.672-5 3.555 0 6.836 1.914 8.633 5 1.797 3.125 1.797 6.914 0 10a9.93 9.93 0 0 1-8.633 5m4.414-11.836-5 5c-.39.39-.976.39-1.328 0l-2.5-2.5a.856.856 0 0 1 0-1.289c.351-.39.937-.39 1.328 0l1.836 1.836 4.336-4.336c.352-.39.937-.39 1.328 0a.92.92 0 0 1 0 1.29"})))),v=(0,o.forwardRef)((({iconSize:e="md",title:t,titleId:n,...r},i)=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",...g.s[e],role:"img",ref:i,"aria-labelledby":n,...r},t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M15.688 9.82 7.953 22.516c-.078.117-.078.195-.078.312 0 .313.234.547.547.547h15.117c.313 0 .586-.234.586-.547 0-.117-.04-.195-.117-.312L16.273 9.82A.29.29 0 0 0 16 9.625c-.156 0-.234.078-.312.195m-1.602-.976A2.25 2.25 0 0 1 16 7.75c.742 0 1.484.43 1.875 1.094l7.734 12.695c.235.39.391.82.391 1.29 0 1.327-1.094 2.421-2.46 2.421H8.421A2.434 2.434 0 0 1 6 22.828q0-.703.352-1.289zm3.164 12.031c0 .703-.586 1.25-1.25 1.25-.703 0-1.25-.547-1.25-1.25 0-.664.547-1.25 1.25-1.25.664 0 1.25.586 1.25 1.25m-.312-7.187v3.75c0 .546-.43.937-.938.937-.547 0-.937-.39-.937-.937v-3.75c0-.508.39-.938.937-.938a.95.95 0 0 1 .938.938"})))),b=(0,o.forwardRef)((({iconSize:e="md",title:t,titleId:n,...r},i)=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",...g.s[e],role:"img",ref:i,"aria-labelledby":n,...r},t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M12.25 11.5V14h7.5v-2.5a3.751 3.751 0 0 0-7.5 0M11 14v-2.5c0-2.734 2.227-5 5-5 2.734 0 5 2.266 5 5V14h.625a3.134 3.134 0 0 1 3.125 3.125v6.25a3.11 3.11 0 0 1-3.125 3.125h-11.25c-1.758 0-3.125-1.367-3.125-3.125v-6.25A3.11 3.11 0 0 1 10.375 14zm-2.5 3.125v6.25c0 1.055.82 1.875 1.875 1.875h11.25c1.016 0 1.875-.82 1.875-1.875v-6.25c0-1.016-.86-1.875-1.875-1.875h-11.25c-1.055 0-1.875.86-1.875 1.875"}))));function _(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}var E,w;function T(){}function k(e){return!!(e||"").match(/\d/)}function S(e){return null==e}function C(e,t){return Array(t+1).join(e)}function O(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}}(w=E||(E={})).event="event",w.props="prop";var I=function(e){var t,n=void 0;return function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];return t&&r.length===t.length&&r.every((function(e,n){return e===t[n]}))||(t=r,n=e.apply(void 0,r)),n}}((function(e,t){for(var n=0,r=0,o=e.length,i=t.length;e[n]===t[n]&&n<o;)n++;for(;e[o-1-r]===t[i-1-r]&&i-r>n&&o-r>n;)r++;return{from:{start:n,end:o-r},to:{start:n,end:i-r}}}));function x(e){return Math.max(e.selectionStart,e.selectionEnd)}function R(e,t){return void 0===e&&(e=" "),"string"==typeof e?e:e[t]||" "}function N(e){var t=e.currentValue,n=e.formattedValue,r=e.currentValueIndex,o=e.formattedValueIndex;return t[r]===n[o]}function A(e,t,n,r){var o=e.length;if(t=function(e,t,n){return Math.min(Math.max(e,0),n)}(t,0,o),"left"===r){for(;t>=0&&!n[t];)t--;-1===t&&(t=n.indexOf(!0))}else{for(;t<=o&&!n[t];)t++;t>o&&(t=n.lastIndexOf(!0))}return-1===t&&(t=o),t}function $(e){for(var t=Array.from({length:e.length+1}).map((function(){return!0})),n=0,r=t.length;n<r;n++)t[n]=!(!k(e[n])&&!k(e[n-1]));return t}function D(e,t,n,r,i,s){void 0===s&&(s=T);var a=function(e){var t=(0,o.useRef)(e);t.current=e;var n=(0,o.useRef)((function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return t.current.apply(t,e)}));return n.current}((function(e,t){var n,o;return function(e){return S(e)||function(e){return"number"==typeof e&&isNaN(e)}(e)||"number"==typeof e&&!isFinite(e)}(e)?(o="",n=""):"number"==typeof e||t?(o="number"==typeof e?function(e){var t=e+"",n="-"===t[0]?"-":"";n&&(t=t.substring(1));var r=t.split(/[eE]/g),o=r[0],i=r[1];if(!(i=Number(i)))return n+o;var s=1+i,a=(o=o.replace(".","")).length;return s<0?o="0."+C("0",Math.abs(s))+o:s>=a?o+=C("0",s-a):o=(o.substring(0,s)||"0")+"."+o.substring(s),n+o}(e):e,n=r(o)):(o=i(e,void 0),n=r(o)),{formattedValue:n,numAsString:o}})),l=(0,o.useState)((function(){return a(S(e)?t:e,n)})),c=l[0],u=l[1],h=e,p=n;S(e)&&(h=c.numAsString,p=!0);var d=a(h,p);return(0,o.useMemo)((function(){u(d)}),[d.formattedValue]),[c,function(e,t){e.formattedValue!==c.formattedValue&&u({formattedValue:e.formattedValue,numAsString:e.value}),s(e,t)}]}function M(e){return e.replace(/[^0-9]/g,"")}function P(e){return e}function L(e){var t=e.type;void 0===t&&(t="text");var n=e.displayType;void 0===n&&(n="input");var r=e.customInput,i=e.renderText,s=e.getInputRef,a=e.format;void 0===a&&(a=P);var l=e.removeFormatting;void 0===l&&(l=M);var c=e.defaultValue,u=e.valueIsNumericString,h=e.onValueChange,p=e.isAllowed,d=e.onChange;void 0===d&&(d=T);var f=e.onKeyDown;void 0===f&&(f=T);var g=e.onMouseUp;void 0===g&&(g=T);var m=e.onFocus;void 0===m&&(m=T);var y=e.onBlur;void 0===y&&(y=T);var v=e.value,b=e.getCaretBoundary;void 0===b&&(b=$);var w=e.isValidInputCharacter;void 0===w&&(w=k);var S=e.isCharacterSame,C=_(e,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),R=D(v,c,!!u,a,l,h),L=R[0],B=L.formattedValue,F=L.numAsString,j=R[1],U=(0,o.useRef)(),H=(0,o.useRef)({formattedValue:B,numAsString:F}),V=function(e,t){H.current={formattedValue:e.formattedValue,numAsString:e.value},j(e,t)},W=(0,o.useState)(!1),G=W[0],z=W[1],q=(0,o.useRef)(null),Y=(0,o.useRef)({setCaretTimeout:null,focusTimeout:null});(0,o.useEffect)((function(){return z(!0),function(){clearTimeout(Y.current.setCaretTimeout),clearTimeout(Y.current.focusTimeout)}}),[]);var X=a,K=function(e,t){var n=parseFloat(t);return{formattedValue:e,value:t,floatValue:isNaN(n)?void 0:n}},J=function(e,t,n){0===e.selectionStart&&e.selectionEnd===e.value.length||(O(e,t),Y.current.setCaretTimeout=setTimeout((function(){e.value===n&&e.selectionStart!==t&&O(e,t)}),0))},Z=function(e,t,n){return A(e,t,b(e),n)},Q=function(e,t,n){var r=b(t),o=function(e,t,n,r,o,i,s){void 0===s&&(s=N);var a=o.findIndex((function(e){return e})),l=e.slice(0,a);!t&&!n.startsWith(l)&&(t=l,n=l+n,r+=l.length);for(var c=n.length,u=e.length,h={},p=new Array(c),d=0;d<c;d++){p[d]=-1;for(var f=0,g=u;f<g;f++)if(s({currentValue:n,lastValue:t,formattedValue:e,currentValueIndex:d,formattedValueIndex:f})&&!0!==h[f]){p[d]=f,h[f]=!0;break}}for(var m=r;m<c&&(-1===p[m]||!i(n[m]));)m++;var y=m===c||-1===p[m]?u:p[m];for(m=r-1;m>0&&-1===p[m];)m--;var v=-1===m||-1===p[m]?0:p[m]+1;return v>y?y:r-v<y-r?v:y}(t,B,e,n,r,w,S);return A(t,o,r)};(0,o.useEffect)((function(){var e=H.current,t=e.formattedValue,n=e.numAsString;(B!==t||F!==n)&&V(K(B,F),{event:void 0,source:E.props})}),[B,F]);var ee=q.current?x(q.current):void 0;(typeof window<"u"?o.useLayoutEffect:o.useEffect)((function(){var e=q.current;if(B!==H.current.formattedValue&&e){var t=Q(H.current.formattedValue,B,ee);e.value=B,J(e,t,B)}}),[B]);var te=function(e,t){void 0===t&&(t=0);var n=e.selectionStart,r=e.selectionEnd;U.current={selectionStart:n,selectionEnd:r+t}},ne=!(G&&typeof navigator<"u")||navigator.platform&&/iPhone|iPod/.test(navigator.platform)?void 0:"numeric",re=Object.assign({inputMode:ne},C,{type:t,value:B,onChange:function(e){(function(e,t,n){var r=t.target,o=U.current?function(e,t){var n=Math.min(e.selectionStart,t);return{from:{start:n,end:e.selectionEnd},to:{start:n,end:t}}}(U.current,r.selectionEnd):I(B,e),i=Object.assign(Object.assign({},o),{lastValue:B}),s=l(e,i),a=X(s);if(s=l(a,void 0),p&&!p(K(a,s))){var c=t.target,u=x(c),h=Q(e,B,u);return c.value=B,J(c,h,B),!1}return function(e){var t=e.formattedValue;void 0===t&&(t="");var n,r=e.input,o=e.source,i=e.event,s=e.numAsString;if(r){var a=e.inputValue||r.value,l=x(r);r.value=t,void 0!==(n=Q(a,t,l))&&J(r,n,t)}t!==B&&V(K(t,s),{event:i,source:o})}({formattedValue:a,numAsString:s,inputValue:e,event:t,source:n,input:t.target}),!0})(e.target.value,e,E.event)&&d(e),U.current=void 0},onKeyDown:function(e){var t,n=e.target,r=e.key,o=n.selectionStart,i=n.selectionEnd,s=n.value;void 0===s&&(s=""),"ArrowLeft"===r||"Backspace"===r?t=Math.max(o-1,0):"ArrowRight"===r?t=Math.min(o+1,s.length):"Delete"===r&&(t=o);var a=0;"Delete"===r&&o===i&&(a=1);var l="ArrowLeft"===r||"ArrowRight"===r;if(void 0===t||o!==i&&!l)return f(e),void te(n,a);var c=t;l?(c=Z(s,t,"ArrowLeft"===r?"left":"right"))!==t&&e.preventDefault():"Delete"!==r||w(s[t])?"Backspace"===r&&!w(s[t])&&(c=Z(s,t,"left")):c=Z(s,t,"right"),c!==t&&J(n,c,s),f(e),te(n,a)},onMouseUp:function(e){var t=e.target,n=function(){var e=t.selectionStart,n=t.selectionEnd,r=t.value;if(void 0===r&&(r=""),e===n){var o=Z(r,e);o!==e&&J(t,o,r)}};n(),requestAnimationFrame((function(){n()})),g(e),te(t)},onFocus:function(e){e.persist&&e.persist();var t=e.target,n=e.currentTarget;q.current=t,Y.current.focusTimeout=setTimeout((function(){var r=t.selectionStart,o=t.selectionEnd,i=t.value;void 0===i&&(i="");var s=Z(i,r);s!==r&&!(0===r&&o===i.length)&&J(t,s,i),m(Object.assign(Object.assign({},e),{currentTarget:n}))}),0)},onBlur:function(e){q.current=null,clearTimeout(Y.current.focusTimeout),clearTimeout(Y.current.setCaretTimeout),y(e)}});if("text"===n)return i?o.createElement(o.Fragment,null,i(B,C)||null):o.createElement("span",Object.assign({},C,{ref:s}),B);if(r){var oe=r;return o.createElement(oe,Object.assign({},re,{ref:s}))}return o.createElement("input",Object.assign({},re,{ref:s}))}function B(e){var t=function(e){e.mask,e.allowEmptyFormatting;var t=e.format,n=e.inputMode;void 0===n&&(n="numeric");var r=e.onKeyDown;void 0===r&&(r=T);var o=e.patternChar;void 0===o&&(o="#");var i=e.value,s=e.defaultValue,a=e.valueIsNumericString,l=_(e,["mask","allowEmptyFormatting","format","inputMode","onKeyDown","patternChar","value","defaultValue","valueIsNumericString"]);!function(e){var t=e.mask;if(t&&("string"===t?t:t.toString()).match(/\d/g))throw new Error("Mask "+t+" should not contain numeric character;")}(e);var c=function(t){return function(e,t){var n=t.format,r=t.mask,o=t.patternChar;void 0===o&&(o="#");var i=Array.from({length:e.length+1}).map((function(){return!0})),s=0,a=-1,l={};n.split("").forEach((function(t,n){var i=void 0;t===o&&(s++,i=R(r,s-1),-1===a&&e[n]===i&&(a=n)),l[n]=i}));for(var c=function(t){return n[t]===o&&e[t]!==l[t]},u=0,h=i.length;u<h;u++)i[u]=u===a||c(u)||c(u-1);return i[n.indexOf(o)]=!0,i}(t,e)},u=S(i)?s:i,h=a??function(e,t){return""===e||!(null!=t&&t.match(/\d/)||"string"!=typeof e||!e.match(/^\d+$/)&&""!==e)}(u,t),p=Object.assign(Object.assign({},e),{valueIsNumericString:h});return Object.assign(Object.assign({},l),{value:i,defaultValue:s,valueIsNumericString:h,inputMode:n,format:function(e){return function(e,t){var n=t.format,r=t.allowEmptyFormatting,o=t.mask,i=t.patternChar;if(void 0===i&&(i="#"),""===e&&!r)return"";for(var s=0,a=n.split(""),l=0,c=n.length;l<c;l++)n[l]===i&&(a[l]=e[s]||R(o,s),s+=1);return a.join("")}(e,p)},removeFormatting:function(e,t){return function(e,t,n){void 0===t&&(t=function(e){return{from:{start:0,end:0},to:{start:0,end:e.length},lastValue:""}}(e));var r=n.format,o=n.patternChar;void 0===o&&(o="#");var i=t.from,s=t.to,a=t.lastValue;void 0===a&&(a="");var l=function(e){return r[e]===o},c=function(e,t){for(var n="",r=0;r<e.length;r++)l(t+r)&&k(e[r])&&(n+=e[r]);return n},u=function(e){return e.replace(/[^0-9]/g,"")};if(!r.match(/\d/))return u(e);if((""===a||i.end-i.start===a.length)&&e.length===r.length){for(var h="",p=0;p<e.length;p++)if(l(p))k(e[p])&&(h+=e[p]);else if(e[p]!==r[p])return u(e);return h}var d=a.substring(0,i.start),f=e.substring(s.start,s.end),g=a.substring(i.end);return""+c(d,0)+u(f)+c(g,i.end)}(e,t,p)},getCaretBoundary:c,onKeyDown:function(e){var n=e.key,i=e.target,s=i.selectionStart,a=i.selectionEnd,l=i.value;if(s===a){var u=s;if("Backspace"===n||"Delete"===n){var h="right";if("Backspace"===n){for(;u>0&&t[u-1]!==o;)u--;h="left"}else{for(var p=t.length;u<p&&t[u]!==o;)u++;h="right"}u=A(l,u,c(l),h)}else t[u]!==o&&"ArrowLeft"!==n&&"ArrowRight"!==n&&(u=A(l,u+1,c(l),"right"));u!==s&&O(i,u),r(e)}else r(e)}})}(e);return o.createElement(L,Object.assign({},t))}const F={neutral:"status-icon--neutral",success:"status-icon--success",error:"status-icon--error"},j={success:r.j.jsx(y,{iconSize:"sm"}),error:r.j.jsx(v,{iconSize:"sm"})},U=(0,o.forwardRef)((({type:e="text",inputSize:t="lg",className:n,status:a="neutral",dropdown:l=!1,isDropdownOpen:c,readOnly:u,passwordLockIcon:d=!1,disabled:g=!1,variant:y="outline",hasPasswordStrengthValidation:v=!1,validationMessages:_,placeholder:E=" ",leftIcon:w,message:T,hideMessage:k=!1,show_counter:S,maxLength:C,textAlignment:O="left",label:I,leftPlaceholder:x,rightPlaceholder:R,value:N="",rightIcon:A,onChange:$,triggerActionIcon:D,fieldMarker:M=!1,required:P=!1,showInputButton:L,shouldRound:U=!0,inputButton:H,addOn:V,formatProps:W,addOnIcon:G,id:z,allowDecimals:q=!1,decimals:Y,allowSign:X=!0,autoComplete:K,regex:J,customType:Z,noStatusIcon:Q,...ee},te)=>{N&&C&&N.toString().length>C&&(N=N.toString().slice(0,C));const[ne,re]=(0,o.useState)(N),[oe,ie]=o.useState(!1);(0,o.useEffect)((()=>{re(N)}),[N]),c&&(k=!0),A="success"!==a&&"error"!==a||g||Q?A:j[a];const se=z||(e=>{const[t,n]=(0,o.useState)(0);return(0,o.useMemo)((()=>{const t=p[e]||0;p[e]=t+1,n(p[e])}),[]),`${e}-${t}`})("quill-input"),ae={readOnly:u,required:P,autoComplete:K,value:ne,placeholder:E,className:(0,i.c)("input","peer",`input__align--${O}`,`input__size--${t}`),disabled:!!g,id:se};return r.j.jsxs("div",{className:"quill-input__container",children:[r.j.jsxs("div",{className:(0,i.c)("quill-input__wrapper",ne.toString().length>0&&"quill-input__wrapper--has-value",`quill-input__wrapper__variant--${y}`,`quill-input__wrapper__variant--${y}--${a}`,`quill-input__wrapper__size--${t}`,n),children:[V,r.j.jsxs("div",{className:"quill-input-icons__wrapper",children:[w&&r.j.jsx("span",{className:"icon_wrapper",children:w}),d&&r.j.jsx("span",{className:"icon_wrapper",children:r.j.jsx(b,{fill:"var(--component-textIcon-normal-prominent)",iconSize:"sm"})}),r.j.jsxs("div",{className:(0,i.c)(I?"quill-input-label__wrapper":"quill-input-no-label__wrapper",ne.toString().length>0&&"quill-input-label__wrapper--has-value"),children:[x&&(!I||I&&(N||oe))&&r.j.jsx(s.E,{size:t,as:"span",className:(0,i.c)("quill-input-label__label","quill-input-label__label--left"),color:"quill-typography__color--disabled",children:x}),W?r.j.jsx(B,{...ae,...W,onChange:e=>{re(e.target.value),null==$||$(e)},getInputRef:te}):r.j.jsx("input",{...ee,...ae,type:"number"===e&&!q||"number"==e&&q&&!X?"text":e,onChange:t=>{let n=t.target.value;if(J&&(n=t.target.value.replace(J,"")),"number"===e||"tel"===e){if(!q){const e=/[^0-9]/g;n=n.replace(e,"")}if(q&&!X){const e=/[^0-9.]/g;n=n.replace(e,"");const t=n.split(".");t.length>1&&(n=t[0]+"."+t.slice(1).join(""))}}Y&&(n=((e,t,n=!0)=>{if(!e)return e;const r=e.toString().split(".");if(r.length<2||r[1].length<t)return e;const o=Number(e);return isNaN(o)?e:n?o.toFixed(t):((e,t)=>{const n=e.toString(),r=n.slice(0,n.indexOf(".")+t+1);return Number(r)})(o,t)})(n,Y,U).toString()),Z&&(n=((e,t)=>f[e](t))(Z,n)),t.target.value=n,re(n),null==$||$(t)},onFocus:()=>ie(!0),onBlur:()=>ie(!1),maxLength:C,ref:te}),I&&"lg"===t&&r.j.jsxs("label",{className:(0,i.c)("label",`label__status--${a}`,w&&"label__hasIcon"),htmlFor:se,children:[I,M&&r.j.jsx("div",{className:(0,i.c)("label-field-marker",`label-field-marker__required--${P}`),children:P?"*":"(optional)"})]}),R&&(!I||I&&(N||oe))&&r.j.jsx(s.E,{size:t,as:"span",className:(0,i.c)("quill-input-label__label","quill-input-label__label--right"),color:g?"quill-typography__color--disabled":"",children:R})]}),A&&r.j.jsx("span",{className:(0,i.c)("icon_wrapper",F[a]),children:A}),G,D&&r.j.jsx("span",{className:"icon_wrapper",children:D}),l&&r.j.jsx(m,{width:24,height:24,"data-state":c?"open":"close",className:(0,i.c)("quill-input__rotate","quill-input__icon")})]}),L&&H]}),(T||S||v)&&!k&&r.j.jsxs("div",{className:(0,i.c)("message__container",`message__container--${t}`,`message__container__status--${a}`,g&&"message__container__disabled"),children:[v&&r.j.jsx("div",{className:"message__container__password_validation",children:null==_?void 0:_.map(((e,t)=>r.j.jsx(h,{status:e.status,validationMessage:e.validationMessage},t)))}),r.j.jsx("span",{className:"message__container__text",children:T}),S&&C&&r.j.jsxs("span",{className:"message__container__text",children:["tel"===e?ne.toString().replace(/\s+/g,"").length:ne.toString().length,"/",C]})]})]})}));U.displayName="Input";const H=(0,o.forwardRef)((({iconSize:e="md",title:t,titleId:n,...r},i)=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",...g.s[e],role:"img",ref:i,"aria-labelledby":n,...r},t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M16 26.5c-3.594 0-6.875-1.875-8.672-5-1.797-3.086-1.797-6.875 0-10 1.797-3.086 5.078-5 8.672-5 3.555 0 6.836 1.914 8.633 5 1.797 3.125 1.797 6.914 0 10a9.93 9.93 0 0 1-8.633 5m-3.164-13.164c-.39.39-.39.976 0 1.328l1.836 1.836-1.836 1.836c-.39.39-.39.977 0 1.328.351.39.937.39 1.289 0l1.836-1.836 1.836 1.836c.39.39.976.39 1.328 0 .39-.352.39-.937 0-1.328L17.289 16.5l1.836-1.836c.39-.351.39-.937 0-1.328-.352-.352-.937-.352-1.328 0l-1.836 1.836-1.836-1.836a.92.92 0 0 0-1.29 0"})))),V=(0,o.forwardRef)((({iconSize:e="md",title:t,titleId:n,...r},i)=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",...g.s[e],role:"img",ref:i,"aria-labelledby":n,...r},t?o.createElement("title",{id:n},t):null,o.createElement("path",{d:"M21 14.625c0-2.422-1.328-4.687-3.437-5.937-2.149-1.211-4.766-1.211-6.875 0a6.87 6.87 0 0 0-3.438 5.937c0 2.46 1.29 4.727 3.438 5.977 2.109 1.21 4.726 1.21 6.874 0 2.11-1.25 3.438-3.516 3.438-5.977m-1.602 6.172c-1.406 1.25-3.28 1.953-5.273 1.953A8.12 8.12 0 0 1 6 14.625C6 10.172 9.633 6.5 14.125 6.5c4.453 0 8.125 3.672 8.125 8.125 0 2.031-.742 3.867-1.953 5.313l5.508 5.507a.66.66 0 0 1 0 .899.66.66 0 0 1-.899 0z"})))),W=(0,o.forwardRef)(((e,t)=>{const{value:n,onChange:i}=e,[s,a]=(0,o.useState)(!n),l=r.j.jsx("button",{className:"icon_wrapper",onClick:()=>{a(!0),null==i||i({target:{value:""}})},children:r.j.jsx(H,{fill:"var(--component-textIcon-normal-subtle)",iconSize:"sm"})});return(0,o.useEffect)((()=>{a(!n)}),[n]),r.j.jsx(U,{leftIcon:r.j.jsx(V,{fill:"var(--component-textIcon-normal-default)",iconSize:"sm"}),triggerActionIcon:s?"":l,placeholder:"Search",ref:t,...e})}))},734:(e,t,n)=>{"use strict";n.d(t,{N:()=>c});var r=n(7731),o=n(9155),i=n(4214),s=n(9049),a=n(4150);const l=(0,o.forwardRef)((({title:e,titleId:t,...n},r)=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:9,height:22,viewBox:"0 0 9 22",role:"img",ref:r,"aria-labelledby":t,...n},e?o.createElement("title",{id:t},e):null,o.createElement("g",null,o.createElement("path",{d:"M8.3 10.45a.463.463 0 0 1 0 .628l-5.25 5.25a.463.463 0 0 1-.628 0 .463.463 0 0 1 0-.629l4.95-4.949-4.95-4.922a.463.463 0 0 1 0-.629.463.463 0 0 1 .629 0z"})),o.createElement("defs",null,o.createElement("clipPath",{id:"075e9830263ebea9a0a67cec1fa0dfde__a"},o.createElement("path",{d:"M0 0h9v22H0z"})))))),c=(0,o.forwardRef)((({className:e,size:t="md",disabled:n,color:o="black",icon:c,hasHoverEffect:u=!0,hasChevron:h=!1,children:p,target:d="_blank",href:f,...g},m)=>r.j.jsxs("a",{ref:m,target:d,href:n?"javascript:void(0)":f,...g,className:(0,i.c)("quill-link",`quill-link__color-${o}`,n&&"quill-link--disabled",u&&"quill-link--hover",e),children:[c&&r.j.jsx("span",{"data-testid":"dt-link-icon",className:"quill-link__icon",children:c}),"caption"===t?r.j.jsx(s.O,{color:o,children:p}):r.j.jsx(a.E,{color:o,size:"sm"===t?"sm":"lg"===t?"lg":"xl"===t?"xl":"md",children:p}),h&&r.j.jsx(l,{"data-testid":"dt-link-chevron",className:(0,i.c)(`quill-link__icon-color-${o}`,`quill-link__icon-size-${t}`)})]})));c.displayName="Link"},2690:(e,t,n)=>{"use strict";n.d(t,{o:()=>f});var r=n(7731),o=n(9155),i=n(4214),s=n(4150);const a=(0,o.forwardRef)((({title:e,titleId:t,...n},r)=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:13,height:22,viewBox:"0 0 13 22",role:"img",ref:r,"aria-labelledby":t,...n},e?o.createElement("title",{id:t},e):null,o.createElement("g",null,o.createElement("path",{d:"M12.352 6.648a.843.843 0 0 1 0 1.23l-7 7a.843.843 0 0 1-1.23 0l-3.5-3.5a.843.843 0 0 1 0-1.23.843.843 0 0 1 1.23 0L4.75 13.02l6.371-6.372a.843.843 0 0 1 1.23 0"})),o.createElement("defs",null,o.createElement("clipPath",{id:"ed561ce027ed5d1961241930691b028c__a"},o.createElement("path",{d:"M0 0h13v22H0z"})))))),l=(0,o.forwardRef)((({title:e,titleId:t,...n},r)=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:14,height:24,viewBox:"0 0 14 24",role:"img",ref:r,"aria-labelledby":t,...n},e?o.createElement("title",{id:t},e):null,o.createElement("g",null,o.createElement("path",{d:"M13.688 7.313a.964.964 0 0 1 0 1.406l-8 8a.964.964 0 0 1-1.407 0l-4-4a.964.964 0 0 1 0-1.406.964.964 0 0 1 1.406 0L5 14.593l7.281-7.28a.964.964 0 0 1 1.406 0"})),o.createElement("defs",null,o.createElement("clipPath",{id:"a1c9c9f97002b7fd5350890599a3ce85__a"},o.createElement("path",{d:"M0 0h14v24H0z"})))))),c=(0,o.forwardRef)((({title:e,titleId:t,...n},r)=>o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:18,height:30,viewBox:"0 0 18 30",role:"img",ref:r,"aria-labelledby":t,...n},e?o.createElement("title",{id:t},e):null,o.createElement("g",null,o.createElement("path",{d:"M17.36 9.64c.507.47.507 1.29 0 1.758l-10 10a1.205 1.205 0 0 1-1.758 0l-5-5a1.205 1.205 0 0 1 0-1.757 1.205 1.205 0 0 1 1.757 0L6.5 18.742l9.102-9.101a1.205 1.205 0 0 1 1.757 0"})),o.createElement("defs",null,o.createElement("clipPath",{id:"9d32da9c3661f7bacf2e982c3709a225__a"},o.createElement("path",{d:"M0 0h18v30H0z"})))))),u="var(--semantic-color-slate-solid-surface-frame-low)",h={sm:r.j.jsx(a,{fill:u}),md:r.j.jsx(l,{fill:u}),lg:r.j.jsx(c,{fill:u})},p=({size:e})=>r.j.jsx(r.j.Fragment,{children:h[e]}),d=({currentStep:e,Icon:t=p,size:n="md",labels:a=[],lineSize:l="md"})=>r.j.jsx("div",{className:"quill-steps-container",children:"number"==typeof e&&a.map(((c,u)=>{const h=u<=e,p=u>e+1;return 0!==u&&r.j.jsx(o.Fragment,{children:r.j.jsxs("div",{className:"step",children:[r.j.jsxs("div",{className:"step-circle__pointer",children:[r.j.jsx("div",{className:(0,i.c)("step-circle",`step-circle__size-${n}`,{"step-circle--active":h,"step-circle--inactive":!h,"step-circle--disabled":p}),"data-testid":"dt-step-circle",children:h&&r.j.jsx(t,{size:n})}),u<a.length-1&&r.j.jsx("div",{className:(0,i.c)("step-line",`step-line--size-${l}`,{"step-line--disabled":u>e}),"data-testid":"dt-step-line"})]}),r.j.jsx(s.E,{as:"span",bold:!0,size:n,className:(0,i.c)(`step-circle__label-${n}`,{"step-circle__label--disabled":p}),children:a[u]})]})},c)}))}),f=e=>r.j.jsx(d,{...e,orientation:"vertical"})},3963:(e,t,n)=>{"use strict";n.d(t,{o:()=>i});var r=n(9155),o=n(4214);const i=({children:e,as:t="p",centered:n=!1,className:i,...s})=>{const a="string"==typeof t?t:void 0;return r.createElement(a||"p",{className:(0,o.c)("quill-typography",n&&"quill-typography-centered",i),...s},e)}},9049:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});var r=n(7731),o=n(4214),i=n(3963),s=n(6260);const a=({children:e,className:t,color:n,as:a="p",italic:l=!1,underlined:c=!1,bold:u=!1,...h})=>{const p=(0,s.U)(l,c),d=(0,s.E)(u);return r.j.jsx(i.o,{as:a,className:(0,o.c)(`quill-typography__caption-text__weight--${d}__decoration--${p}`,n||"quill-typography__color--prominent",t),...h,children:e})}},4150:(e,t,n)=>{"use strict";n.d(t,{E:()=>a});var r=n(7731),o=n(4214),i=n(3963),s=n(6260);const a=({children:e,className:t,as:n="p",size:a="md",italic:l=!1,color:c,underlined:u=!1,bold:h=!1,centered:p=!1,...d})=>{const f=(0,s.U)(l,u),g=(0,s.E)(h);return r.j.jsx(i.o,{as:n,className:(0,o.c)(`quill-typography__body-text__size--${a}__weight--${g}__decoration--${f}`,c||"quill-typography__color--default",p&&"quill-typography-centered",t),...d,children:e})}},6102:(e,t,n)=>{"use strict";n.d(t,{s:()=>r});const r={xs:{width:16,height:16},sm:{width:24,height:24},md:{width:32,height:32},lg:{width:48,height:48},xl:{width:64,height:64},"2xl":{width:96,height:96}}},7731:(e,t,n)=>{"use strict";n.d(t,{j:()=>a});var r,o=n(9155),i={exports:{}},s={};i.exports=(r||(r=1,function(){var e,t=o,n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),y=Symbol.iterator,v=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function b(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];!function(e,t,n){var r=v.ReactDebugCurrentFrame.getStackAddendum();""!==r&&(t+="%s",n=n.concat([r]));var o=n.map((function(e){return String(e)}));o.unshift("Warning: "+t),Function.prototype.apply.call(console.error,console,o)}(0,e,n)}function _(e){return e.displayName||"Context"}function E(e){if(null==e)return null;if("number"==typeof e.tag&&b("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case i:return"Fragment";case r:return"Portal";case l:return"Profiler";case a:return"StrictMode";case p:return"Suspense";case d:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case u:return _(e)+".Consumer";case c:return _(e._context)+".Provider";case h:return function(e,t,n){var r=e.displayName;if(r)return r;var o=t.displayName||t.name||"";return""!==o?n+"("+o+")":n}(e,e.render,"ForwardRef");case f:var t=e.displayName||null;return null!==t?t:E(e.type)||"Memo";case g:var n=e,o=n._payload,s=n._init;try{return E(s(o))}catch{return null}}return null}e=Symbol.for("react.module.reference");var w,T,k,S,C,O,I,x=Object.assign,R=0;function N(){}N.__reactDisabledLog=!0;var A,$=v.ReactCurrentDispatcher;function D(e,t,n){if(void 0===A)try{throw Error()}catch(e){var r=e.stack.trim().match(/\n( *(at )?)/);A=r&&r[1]||""}return"\n"+A+e}var M,P=!1,L="function"==typeof WeakMap?WeakMap:Map;function B(e,t){if(!e||P)return"";var n,r=M.get(e);if(void 0!==r)return r;P=!0;var o,i=Error.prepareStackTrace;Error.prepareStackTrace=void 0,o=$.current,$.current=null,function(){if(0===R){w=console.log,T=console.info,k=console.warn,S=console.error,C=console.group,O=console.groupCollapsed,I=console.groupEnd;var e={configurable:!0,enumerable:!0,value:N,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}R++}();try{if(t){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(s,[])}catch(e){n=e}Reflect.construct(e,[],s)}else{try{s.call()}catch(e){n=e}e.call(s.prototype)}}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var a=t.stack.split("\n"),l=n.stack.split("\n"),c=a.length-1,u=l.length-1;c>=1&&u>=0&&a[c]!==l[u];)u--;for(;c>=1&&u>=0;c--,u--)if(a[c]!==l[u]){if(1!==c||1!==u)do{if(c--,--u<0||a[c]!==l[u]){var h="\n"+a[c].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),"function"==typeof e&&M.set(e,h),h}}while(c>=1&&u>=0);break}}}finally{P=!1,$.current=o,function(){if(0==--R){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:x({},e,{value:w}),info:x({},e,{value:T}),warn:x({},e,{value:k}),error:x({},e,{value:S}),group:x({},e,{value:C}),groupCollapsed:x({},e,{value:O}),groupEnd:x({},e,{value:I})})}R<0&&b("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=i}var p=e?e.displayName||e.name:"",d=p?D(p):"";return"function"==typeof e&&M.set(e,d),d}function F(e,t,n){if(null==e)return"";if("function"==typeof e)return B(e,function(e){var t=e.prototype;return!(!t||!t.isReactComponent)}(e));if("string"==typeof e)return D(e);switch(e){case p:return D("Suspense");case d:return D("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case h:return function(e){return B(e,!1)}(e.render);case f:return F(e.type,t,n);case g:var r=e,o=r._payload,i=r._init;try{return F(i(o),t,n)}catch{}}return""}M=new L;var j=Object.prototype.hasOwnProperty,U={},H=v.ReactDebugCurrentFrame;function V(e){if(e){var t=e._owner,n=F(e.type,e._source,t?t.type:null);H.setExtraStackFrame(n)}else H.setExtraStackFrame(null)}var W=Array.isArray;function G(e){return W(e)}function z(e){return""+e}function q(e){if(function(e){try{return z(e),!1}catch{return!0}}(e))return b("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",function(e){return"function"==typeof Symbol&&Symbol.toStringTag&&e[Symbol.toStringTag]||e.constructor.name||"Object"}(e)),z(e)}var Y,X,K,J=v.ReactCurrentOwner,Z={key:!0,ref:!0,__self:!0,__source:!0};K={};var Q,ee=v.ReactCurrentOwner,te=v.ReactDebugCurrentFrame;function ne(e){if(e){var t=e._owner,n=F(e.type,e._source,t?t.type:null);te.setExtraStackFrame(n)}else te.setExtraStackFrame(null)}function re(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}function oe(){if(ee.current){var e=E(ee.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}Q=!1;var ie={};function se(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=function(e){var t=oe();if(!t){var n="string"==typeof e?e:e.displayName||e.name;n&&(t="\n\nCheck the top-level render call using <"+n+">.")}return t}(t);if(!ie[n]){ie[n]=!0;var r="";e&&e._owner&&e._owner!==ee.current&&(r=" It was passed a child from "+E(e._owner.type)+"."),ne(e),b('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',n,r),ne(null)}}}function ae(e,t){if("object"==typeof e)if(G(e))for(var n=0;n<e.length;n++){var r=e[n];re(r)&&se(r,t)}else if(re(e))e._store&&(e._store.validated=!0);else if(e){var o=function(e){if(null===e||"object"!=typeof e)return null;var t=y&&e[y]||e["@@iterator"];return"function"==typeof t?t:null}(e);if("function"==typeof o&&o!==e.entries)for(var i,s=o.call(e);!(i=s.next()).done;)re(i.value)&&se(i.value,t)}}function le(t,r,o,s,y,v){var _=function(t){return!("string"!=typeof t&&"function"!=typeof t&&t!==i&&t!==l&&t!==a&&t!==p&&t!==d&&t!==m&&("object"!=typeof t||null===t||t.$$typeof!==g&&t.$$typeof!==f&&t.$$typeof!==c&&t.$$typeof!==u&&t.$$typeof!==h&&t.$$typeof!==e&&void 0===t.getModuleId))}(t);if(!_){var w,T="";(void 0===t||"object"==typeof t&&null!==t&&0===Object.keys(t).length)&&(T+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports."),T+=oe(),null===t?w="null":G(t)?w="array":void 0!==t&&t.$$typeof===n?(w="<"+(E(t.type)||"Unknown")+" />",T=" Did you accidentally export a JSX literal instead of a component?"):w=typeof t,b("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",w,T)}var k=function(e,t,r,o,i){var s,a={},l=null,c=null;for(s in void 0!==r&&(q(r),l=""+r),function(e){if(j.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}(t)&&(q(t.key),l=""+t.key),function(e){if(j.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}(t)&&(c=t.ref,function(e,t){if("string"==typeof e.ref&&J.current&&t&&J.current.stateNode!==t){var n=E(J.current.type);K[n]||(b('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',E(J.current.type),e.ref),K[n]=!0)}}(t,i)),t)j.call(t,s)&&!Z.hasOwnProperty(s)&&(a[s]=t[s]);if(e&&e.defaultProps){var u=e.defaultProps;for(s in u)void 0===a[s]&&(a[s]=u[s])}if(l||c){var h="function"==typeof e?e.displayName||e.name||"Unknown":e;l&&function(e,t){var n=function(){Y||(Y=!0,b("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}(a,h),c&&function(e,t){var n=function(){X||(X=!0,b("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}(a,h)}return function(e,t,r,o,i,s,a){var l={$$typeof:n,type:e,key:t,ref:r,props:a,_owner:s,_store:{}};return Object.defineProperty(l._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(l,"_self",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(l,"_source",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.freeze&&(Object.freeze(l.props),Object.freeze(l)),l}(e,l,c,i,o,J.current,a)}(t,r,o,y,v);if(null==k)return k;if(_){var S=r.children;if(void 0!==S)if(s)if(G(S)){for(var C=0;C<S.length;C++)ae(S[C],t);Object.freeze&&Object.freeze(S)}else b("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ae(S,t)}return t===i?function(e){for(var t=Object.keys(e.props),n=0;n<t.length;n++){var r=t[n];if("children"!==r&&"key"!==r){ne(e),b("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",r),ne(null);break}}null!==e.ref&&(ne(e),b("Invalid attribute `ref` supplied to `React.Fragment`."),ne(null))}(k):function(e){var t,n=e.type;if(null!=n&&"string"!=typeof n){if("function"==typeof n)t=n.propTypes;else{if("object"!=typeof n||n.$$typeof!==h&&n.$$typeof!==f)return;t=n.propTypes}if(t){var r=E(n);!function(e,t,n,r,o){var i=Function.call.bind(j);for(var s in e)if(i(e,s)){var a=void 0;try{if("function"!=typeof e[s]){var l=Error((r||"React class")+": "+n+" type `"+s+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[s]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw l.name="Invariant Violation",l}a=e[s](t,s,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){a=e}a&&!(a instanceof Error)&&(V(o),b("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,s,typeof a),V(null)),a instanceof Error&&!(a.message in U)&&(U[a.message]=!0,V(o),b("Failed %s type: %s",n,a.message),V(null))}}(t,e.props,"prop",r,e)}else void 0===n.PropTypes||Q||(Q=!0,b("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",E(n)||"Unknown"));"function"==typeof n.getDefaultProps&&!n.getDefaultProps.isReactClassApproved&&b("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}(k),k}s.Fragment=i,s.jsx=function(e,t,n){return le(e,t,n,!1)},s.jsxs=function(e,t,n){return le(e,t,n,!0)}}()),s);var a=i.exports},6260:(e,t,n)=>{"use strict";n.d(t,{E:()=>o,U:()=>r});const r=(e,t)=>e&&t?"italic-underline":e?"italic":t?"underline":"default",o=e=>e?"bold":"regular"},4650:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function o(){for(var e,t,n=0,o="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}n.d(t,{c:()=>o})},4612:(e,t,n)=>{"use strict";n.d(t,{$:()=>Pt});var r=n(1085),o=n(9155),i=n(5973);const s=({icon:e,title:t,message:n,buttonAction:o,actionText:s})=>(0,r.jsxs)("div",{className:"notification",children:[(0,r.jsxs)("div",{className:"notification__container",children:[(0,r.jsx)("div",{className:"notification__icon",children:e}),(0,r.jsxs)("div",{className:"notification__text",children:[(0,r.jsx)(i.E,{as:"h3",className:"notification__title",children:t}),(0,r.jsx)("div",{className:"notification__message",children:(0,r.jsx)(i.E,{as:"p",children:n})})]})]}),"function"==typeof o&&"string"==typeof s&&(0,r.jsx)("div",{className:"notification__button-container",children:(0,r.jsx)("button",{className:"notification__button",onClick:o,children:s})})]});s.displayName="Notification";var a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function l(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function c(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var n=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})})),n}var u="object"==typeof a&&a&&a.Object===Object&&a,h="object"==typeof self&&self&&self.Object===Object&&self;u||h||Function("return this")();var p=typeof window<"u"?o.useLayoutEffect:o.useEffect,d=typeof window>"u";function f(e,{defaultValue:t=!1,initializeWithValue:n=!0}={}){const r=e=>d?t:window.matchMedia(e).matches,[i,s]=(0,o.useState)((()=>n?r(e):t));function a(){s(r(e))}return p((()=>{const t=window.matchMedia(e);return a(),t.addListener?t.addListener(a):t.addEventListener("change",a),()=>{t.removeListener?t.removeListener(a):t.removeEventListener("change",a)}}),[e]),i}var g=n(4650);const m=(0,o.forwardRef)((({children:e,className:t,isOpen:n,...i},s)=>{const[a,l]=(0,o.useState)(!0),c=(0,o.useRef)(null);return(0,o.useEffect)((()=>(n?l(!1):c.current=setTimeout((()=>{l(!n)}),400),()=>{c.current&&clearTimeout(c.current)})),[n]),a?null:(0,r.jsx)("div",{ref:s,className:(0,g.c)("deriv-context-menu",!n&&"deriv-fadeout",t),onClick:e=>e.stopPropagation(),...i,children:e})}));var y,v,b,_,E,w,T,k,S,C,O,I,x=n(9514),R={exports:{}},N={exports:{}},A={};function $(){return v||(v=1,N.exports=(y||(y=1,function(){var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,o=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,a=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,u=e?Symbol.for("react.forward_ref"):60112,h=e?Symbol.for("react.suspense"):60113,p=e?Symbol.for("react.suspense_list"):60120,d=e?Symbol.for("react.memo"):60115,f=e?Symbol.for("react.lazy"):60116,g=e?Symbol.for("react.block"):60121,m=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,v=e?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var p=e.$$typeof;switch(p){case t:var g=e.type;switch(g){case l:case c:case r:case i:case o:case h:return g;default:var m=g&&g.$$typeof;switch(m){case a:case u:case f:case d:case s:return m;default:return p}}case n:return p}}}var _=l,E=c,w=a,T=s,k=t,S=u,C=r,O=f,I=d,x=n,R=i,N=o,$=h,D=!1;function M(e){return b(e)===c}A.AsyncMode=_,A.ConcurrentMode=E,A.ContextConsumer=w,A.ContextProvider=T,A.Element=k,A.ForwardRef=S,A.Fragment=C,A.Lazy=O,A.Memo=I,A.Portal=x,A.Profiler=R,A.StrictMode=N,A.Suspense=$,A.isAsyncMode=function(e){return D||(D=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),M(e)||b(e)===l},A.isConcurrentMode=M,A.isContextConsumer=function(e){return b(e)===a},A.isContextProvider=function(e){return b(e)===s},A.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t},A.isForwardRef=function(e){return b(e)===u},A.isFragment=function(e){return b(e)===r},A.isLazy=function(e){return b(e)===f},A.isMemo=function(e){return b(e)===d},A.isPortal=function(e){return b(e)===n},A.isProfiler=function(e){return b(e)===i},A.isStrictMode=function(e){return b(e)===o},A.isSuspense=function(e){return b(e)===h},A.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===c||e===i||e===o||e===h||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===d||e.$$typeof===s||e.$$typeof===a||e.$$typeof===u||e.$$typeof===m||e.$$typeof===y||e.$$typeof===v||e.$$typeof===g)},A.typeOf=b}()),A)),N.exports}function D(){return w?E:(w=1,E="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}function M(){return k||(k=1,T=Function.call.bind(Object.prototype.hasOwnProperty)),T}var P=$();R.exports=function(){if(I)return O;I=1;var e,t=$(),n=function(){if(_)return b;_=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;return b=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch{return!1}}()?Object.assign:function(r,o){for(var i,s,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(r),l=1;l<arguments.length;l++){for(var c in i=Object(arguments[l]))t.call(i,c)&&(a[c]=i[c]);if(e){s=e(i);for(var u=0;u<s.length;u++)n.call(i,s[u])&&(a[s[u]]=i[s[u]])}}return a},b}(),r=D(),o=M(),i=function(){if(C)return S;C=1;var e=function(){},t=D(),n={},r=M();function o(o,i,s,a,l){for(var c in o)if(r(o,c)){var u;try{if("function"!=typeof o[c]){var h=Error((a||"React class")+": "+s+" type `"+c+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof o[c]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw h.name="Invariant Violation",h}u=o[c](i,c,a,s,null,t)}catch(e){u=e}if(u&&!(u instanceof Error)&&e((a||"React class")+": type specification of "+s+" `"+c+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof u+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),u instanceof Error&&!(u.message in n)){n[u.message]=!0;var p=l?l():"";e("Failed "+s+" type: "+u.message+(p??""))}}}return e=function(e){var t="Warning: "+e;typeof console<"u"&&console.error(t);try{throw new Error(t)}catch{}},o.resetWarningCache=function(){n={}},S=o}();function s(){return null}return e=function(e){var t="Warning: "+e;typeof console<"u"&&console.error(t);try{throw new Error(t)}catch{}},O=function(a,l){var c="function"==typeof Symbol&&Symbol.iterator,u="<<anonymous>>",h={array:g("array"),bigint:g("bigint"),bool:g("boolean"),func:g("function"),number:g("number"),object:g("object"),string:g("string"),symbol:g("symbol"),any:f(s),arrayOf:function(e){return f((function(t,n,o,i,s){if("function"!=typeof e)return new d("Property `"+s+"` of component `"+o+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a))return new d("Invalid "+i+" `"+s+"` of type `"+v(a)+"` supplied to `"+o+"`, expected an array.");for(var l=0;l<a.length;l++){var c=e(a,l,o,i,s+"["+l+"]",r);if(c instanceof Error)return c}return null}))},element:f((function(e,t,n,r,o){var i=e[t];return a(i)?null:new d("Invalid "+r+" `"+o+"` of type `"+v(i)+"` supplied to `"+n+"`, expected a single ReactElement.")})),elementType:f((function(e,n,r,o,i){var s=e[n];return t.isValidElementType(s)?null:new d("Invalid "+o+" `"+i+"` of type `"+v(s)+"` supplied to `"+r+"`, expected a single ReactElement type.")})),instanceOf:function(e){return f((function(t,n,r,o,i){if(!(t[n]instanceof e)){var s=e.name||u,a=function(e){return e.constructor&&e.constructor.name?e.constructor.name:u}(t[n]);return new d("Invalid "+o+" `"+i+"` of type `"+a+"` supplied to `"+r+"`, expected instance of `"+s+"`.")}return null}))},node:f((function(e,t,n,r,o){return y(e[t])?null:new d("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return f((function(t,n,i,s,a){if("function"!=typeof e)return new d("Property `"+a+"` of component `"+i+"` has invalid PropType notation inside objectOf.");var l=t[n],c=v(l);if("object"!==c)return new d("Invalid "+s+" `"+a+"` of type `"+c+"` supplied to `"+i+"`, expected an object.");for(var u in l)if(o(l,u)){var h=e(l,u,i,s,a+"."+u,r);if(h instanceof Error)return h}return null}))},oneOf:function(t){return Array.isArray(t)?f((function(e,n,r,o,i){for(var s=e[n],a=0;a<t.length;a++)if(p(s,t[a]))return null;var l=JSON.stringify(t,(function(e,t){return"symbol"===b(t)?String(t):t}));return new d("Invalid "+o+" `"+i+"` of value `"+String(s)+"` supplied to `"+r+"`, expected one of "+l+".")})):(e(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),s)},oneOfType:function(t){if(!Array.isArray(t))return e("Invalid argument supplied to oneOfType, expected an instance of array."),s;for(var n=0;n<t.length;n++){var i=t[n];if("function"!=typeof i)return e("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+_(i)+" at index "+n+"."),s}return f((function(e,n,i,s,a){for(var l=[],c=0;c<t.length;c++){var u=(0,t[c])(e,n,i,s,a,r);if(null==u)return null;u.data&&o(u.data,"expectedType")&&l.push(u.data.expectedType)}return new d("Invalid "+s+" `"+a+"` supplied to `"+i+"`"+(l.length>0?", expected one of type ["+l.join(", ")+"]":"")+".")}))},shape:function(e){return f((function(t,n,o,i,s){var a=t[n],l=v(a);if("object"!==l)return new d("Invalid "+i+" `"+s+"` of type `"+l+"` supplied to `"+o+"`, expected `object`.");for(var c in e){var u=e[c];if("function"!=typeof u)return m(o,i,s,c,b(u));var h=u(a,c,o,i,s+"."+c,r);if(h)return h}return null}))},exact:function(e){return f((function(t,i,s,a,l){var c=t[i],u=v(c);if("object"!==u)return new d("Invalid "+a+" `"+l+"` of type `"+u+"` supplied to `"+s+"`, expected `object`.");var h=n({},t[i],e);for(var p in h){var f=e[p];if(o(e,p)&&"function"!=typeof f)return m(s,a,l,p,b(f));if(!f)return new d("Invalid "+a+" `"+l+"` key `"+p+"` supplied to `"+s+"`.\nBad object: "+JSON.stringify(t[i],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var g=f(c,p,s,a,l+"."+p,r);if(g)return g}return null}))}};function p(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function d(e,t){this.message=e,this.data=t&&"object"==typeof t?t:{},this.stack=""}function f(t){var n={},o=0;function i(i,s,a,c,h,p,f){if(c=c||u,p=p||a,f!==r){if(l){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}if(typeof console<"u"){var m=c+":"+a;!n[m]&&o<3&&(e("You are manually calling a React.PropTypes validation function for the `"+p+"` prop on `"+c+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[m]=!0,o++)}}return null==s[a]?i?null===s[a]?new d("The "+h+" `"+p+"` is marked as required in `"+c+"`, but its value is `null`."):new d("The "+h+" `"+p+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:t(s,a,c,h,p)}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}function g(e){return f((function(t,n,r,o,i,s){var a=t[n];return v(a)!==e?new d("Invalid "+o+" `"+i+"` of type `"+b(a)+"` supplied to `"+r+"`, expected `"+e+"`.",{expectedType:e}):null}))}function m(e,t,n,r,o){return new d((e||"React class")+": "+t+" type `"+n+"."+r+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+o+"`.")}function y(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(y);if(null===e||a(e))return!0;var t=function(e){var t=e&&(c&&e[c]||e["@@iterator"]);if("function"==typeof t)return t}(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!y(n.value))return!1}else for(;!(n=r.next()).done;){var o=n.value;if(o&&!y(o[1]))return!1}return!0;default:return!1}}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function b(e){if(typeof e>"u"||null===e)return""+e;var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function _(e){var t=b(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return d.prototype=Error.prototype,h.checkPropTypes=i,h.resetWarningCache=i.resetWarningCache,h.PropTypes=h,h},O}()(P.isElement,!0);var L=R.exports;const B=({className:e,onClick:t,...n})=>(0,r.jsx)("svg",{className:e,onClick:t,xmlns:"http://www.w3.org/2000/svg",width:"12",height:"13",viewBox:"0 0 12 13",fill:"none",...n,children:(0,r.jsx)("path",{d:"M0.292894 2.20711C-0.0976312 1.81658 -0.0976312 1.18342 0.292894 0.792893C0.683418 0.402369 1.31658 0.402369 1.70711 0.792893L6 5.08579L10.2929 0.792893C10.6834 0.402369 11.3166 0.402369 11.7071 0.792893C12.0976 1.18342 12.0976 1.81658 11.7071 2.20711L7.41421 6.5L11.7071 10.7929C12.0976 11.1834 12.0976 11.8166 11.7071 12.2071C11.3166 12.5976 10.6834 12.5976 10.2929 12.2071L6 7.91421L1.70711 12.2071C1.31658 12.5976 0.683418 12.5976 0.292893 12.2071C-0.0976309 11.8166 -0.0976309 11.1834 0.292893 10.7929L4.58579 6.5L0.292894 2.20711Z",fill:"#333333"})});var F={exports:{}},j={},U={exports:{}},H={},V={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=[].slice.call(t.querySelectorAll("*"),0).reduce((function(t,n){return t.concat(n.shadowRoot?e(n.shadowRoot):[n])}),[]);return n.filter(s)};var n="none",r="contents",o=/input|select|textarea|button|object|iframe/;function i(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;try{var o=window.getComputedStyle(e),i=o.getPropertyValue("display");return t?i!==r&&function(e,t){return"visible"!==t.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0}(e,o):i===n}catch{return console.warn("Failed to inspect element style"),!1}}function s(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&function(e,t){var n=e.nodeName.toLowerCase();return(o.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e,n=e.getRootNode&&e.getRootNode();t&&t!==document.body;){if(n&&t===n&&(t=n.host.parentNode),i(t))return!1;t=t.parentNode}return!0}(e)}(e,!n)}e.exports=t.default}(V,V.exports);var W=V.exports;Object.defineProperty(H,"__esModule",{value:!0}),H.resetState=function(){z=[]},H.log=function(){console.log("focusManager ----------"),z.forEach((function(e){var t=e||{};console.log(t.nodeName,t.className,t.id)})),console.log("end focusManager ----------")},H.handleBlur=X,H.handleFocus=K,H.markForFocusLater=function(){z.push(document.activeElement)},H.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==z.length&&(t=z.pop(),t.focus({preventScroll:e})))}catch{console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},H.popWithoutFocus=function(){z.length>0&&z.pop()},H.setupScopedFocus=function(e){q=e,window.addEventListener?(window.addEventListener("blur",X,!1),document.addEventListener("focus",K,!0)):(window.attachEvent("onBlur",X),document.attachEvent("onFocus",K))},H.teardownScopedFocus=function(){q=null,window.addEventListener?(window.removeEventListener("blur",X),document.removeEventListener("focus",K)):(window.detachEvent("onBlur",X),document.detachEvent("onFocus",K))};var G=function(e){return e&&e.__esModule?e:{default:e}}(W),z=[],q=null,Y=!1;function X(){Y=!0}function K(){if(Y){if(Y=!1,!q)return;setTimeout((function(){q.contains(document.activeElement)||((0,G.default)(q)[0]||q).focus()}),0)}}var J={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,r.default)(e);if(n.length){var i=void 0,s=t.shiftKey,a=n[0],l=n[n.length-1],c=o();if(e===c){if(!s)return;i=l}if(l===c&&!s&&(i=a),a===c&&s&&(i=l),i)return t.preventDefault(),void i.focus();var u=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null!=u&&"Chrome"!=u[1]&&null==/\biPod\b|\biPad\b/g.exec(navigator.userAgent)){var h=n.indexOf(c);if(h>-1&&(h+=s?-1:1),typeof(i=n[h])>"u")return t.preventDefault(),void(i=s?l:a).focus();t.preventDefault(),i.focus()}}else t.preventDefault()};var n,r=(n=W)&&n.__esModule?n:{default:n};function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return e.activeElement.shadowRoot?o(e.activeElement.shadowRoot):e.activeElement}e.exports=t.default}(J,J.exports);var Z,Q=J.exports,ee={},te=function(e,t){var n=arguments.length;t=new Array(n>1?n-1:0);for(var r=1;r<n;r++)t[r-1]=arguments[r];var o=0,i="Warning: "+e.replace(/%s/g,(function(){return t[o++]}));typeof console<"u"&&console.error(i);try{throw new Error(i)}catch{}};Z=function(e,t,n){var r=arguments.length;n=new Array(r>2?r-2:0);for(var o=2;o<r;o++)n[o-2]=arguments[o];if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");e||te.apply(null,[t].concat(n))};var ne=Z,re={},oe={exports:{}};!function(e){var t,n;n={canUseDOM:t=!!(typeof window<"u"&&window.document&&window.document.createElement),canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:t&&!!window.screen},e.exports?e.exports=n:window.ExecutionEnvironment=n}(oe);var ie=oe.exports;Object.defineProperty(re,"__esModule",{value:!0}),re.canUseDOM=re.SafeNodeList=re.SafeHTMLCollection=void 0;var se=function(e){return e&&e.__esModule?e:{default:e}}(ie),ae=se.default,le=ae.canUseDOM?window.HTMLElement:{};re.SafeHTMLCollection=ae.canUseDOM?window.HTMLCollection:{},re.SafeNodeList=ae.canUseDOM?window.NodeList:{},re.canUseDOM=ae.canUseDOM,re.default=le,Object.defineProperty(ee,"__esModule",{value:!0}),ee.resetState=function(){he&&(he.removeAttribute?he.removeAttribute("aria-hidden"):null!=he.length?he.forEach((function(e){return e.removeAttribute("aria-hidden")})):document.querySelectorAll(he).forEach((function(e){return e.removeAttribute("aria-hidden")}))),he=null},ee.log=function(){var e=he||{};console.log("ariaAppHider ----------"),console.log(e.nodeName,e.className,e.id),console.log("end ariaAppHider ----------")},ee.assertNodeList=pe,ee.setElement=function(e){var t=e;if("string"==typeof t&&ue.canUseDOM){var n=document.querySelectorAll(t);pe(n,t),t=n}return he=t||he},ee.validateElement=de,ee.hide=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=de(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0)o.value.setAttribute("aria-hidden","true")}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}},ee.show=function(e){var t=!0,n=!1,r=void 0;try{for(var o,i=de(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0)o.value.removeAttribute("aria-hidden")}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}},ee.documentNotReadyOrSSRTesting=function(){he=null};var ce=function(e){return e&&e.__esModule?e:{default:e}}(ne),ue=re,he=null;function pe(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function de(e){var t=e||he;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,ce.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}var fe={};Object.defineProperty(fe,"__esModule",{value:!0}),fe.resetState=function(){var e=document.getElementsByTagName("html")[0];for(var t in ge)ye(e,ge[t]);var n=document.body;for(var r in me)ye(n,me[r]);ge={},me={}},fe.log=function(){var e=document.getElementsByTagName("html")[0].className,t="Show tracked classes:\n\n";for(var n in t+="<html /> ("+e+"):\n  ",ge)t+="  "+n+" "+ge[n]+"\n  ";for(var r in t+="\n\ndoc.body ("+(e=document.body.className)+"):\n  ",me)t+="  "+r+" "+me[r]+"\n  ";t+="\n",console.log(t)};var ge={},me={};function ye(e,t){e.classList.remove(t)}fe.add=function(e,t){return function(e,t,n){n.forEach((function(n){(function(e,t){e[t]||(e[t]=0),e[t]+=1})(t,n),e.add(n)}))}(e.classList,"html"==e.nodeName.toLowerCase()?ge:me,t.split(" "))},fe.remove=function(e,t){return function(e,t,n){n.forEach((function(n){(function(e,t){e[t]&&(e[t]-=1)})(t,n),0===t[n]&&e.remove(n)}))}(e.classList,"html"==e.nodeName.toLowerCase()?ge:me,t.split(" "))};var ve={};Object.defineProperty(ve,"__esModule",{value:!0}),ve.log=function(){console.log("portalOpenInstances ----------"),console.log(_e.openInstances.length),_e.openInstances.forEach((function(e){return console.log(e)})),console.log("end portalOpenInstances ----------")},ve.resetState=function(){_e=new be};var be=function e(){var t=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)?(t.openInstances.push(e),t.emit("register")):console.warn("React-Modal: Cannot register modal instance that's already open")},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n?(t.openInstances.splice(n,1),t.emit("deregister")):console.warn("React-Modal: Unable to deregister "+e+" as it was never registered")},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]},_e=new be;ve.default=_e;var Ee={};Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.resetState=function(){for(var e=[Te,ke],t=0;t<e.length;t++){var n=e[t];n&&n.parentNode&&n.parentNode.removeChild(n)}Te=ke=null,Se=[]},Ee.log=function(){console.log("bodyTrap ----------"),console.log(Se.length);for(var e=[Te,ke],t=0;t<e.length;t++){var n=e[t]||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")};var we=function(e){return e&&e.__esModule?e:{default:e}}(ve),Te=void 0,ke=void 0,Se=[];function Ce(){0!==Se.length?Se[Se.length-1].focusContent():console.warn("React-Modal: Open instances > 0 expected")}we.default.subscribe((function(e,t){!Te&&!ke&&((Te=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),Te.style.position="absolute",Te.style.opacity="0",Te.setAttribute("tabindex","0"),Te.addEventListener("focus",Ce),(ke=Te.cloneNode()).addEventListener("focus",Ce)),(Se=t).length>0?(document.body.firstChild!==Te&&document.body.insertBefore(Te,document.body.firstChild),document.body.lastChild!==ke&&document.body.appendChild(ke)):(Te.parentElement&&Te.parentElement.removeChild(Te),ke.parentElement&&ke.parentElement.removeChild(ke))})),function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=o,a=m(L),l=g(H),c=m(Q),u=g(ee),h=g(fe),p=re,d=m(p),f=m(ve);function g(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var y={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},v=0,b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,o=e.htmlOpenClassName,i=e.bodyOpenClassName,s=e.parentSelector,a=s&&s().ownerDocument||document;i&&h.remove(a.body,i),o&&h.remove(a.getElementsByTagName("html")[0],o),r&&v>0&&0==(v-=1)&&u.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(l.returnFocus(n.props.preventScroll),l.teardownScopedFocus()):l.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),f.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(l.setupScopedFocus(n.node),l.markForFocusLater()),n.setState({isOpen:!0},(function(){n.openAnimationFrame=requestAnimationFrame((function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})}))})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){(function(e){return"Tab"===e.code||9===e.keyCode})(e)&&(0,c.default)(n.content,e),n.props.shouldCloseOnEsc&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){!n.props.shouldCloseOnOverlayClick&&e.target==n.overlay&&e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var o="object"===(typeof t>"u"?"undefined":r(t))?t:{base:y[e],afterOpen:y[e]+"--after-open",beforeClose:y[e]+"--before-close"},i=o.base;return n.state.afterOpen&&(i=i+" "+o.afterOpen),n.state.beforeClose&&(i=i+" "+o.beforeClose),"string"==typeof t&&t?i+" "+t:i},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){e.bodyOpenClassName!==this.props.bodyOpenClassName&&console.warn('React-Modal: "bodyOpenClassName" prop has been modified. This may cause unexpected behavior when multiple modals are open.'),e.htmlOpenClassName!==this.props.htmlOpenClassName&&console.warn('React-Modal: "htmlOpenClassName" prop has been modified. This may cause unexpected behavior when multiple modals are open.'),this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,o=e.bodyOpenClassName,i=e.parentSelector,s=i&&i().ownerDocument||document;o&&h.add(s.body,o),r&&h.add(s.getElementsByTagName("html")[0],r),n&&(v+=1,u.hide(t)),f.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,r=e.className,o=e.overlayClassName,i=e.defaultStyles,s=e.children,a=r?{}:i.content,l=o?{}:i.overlay;if(this.shouldBeClosed())return null;var c={ref:this.setOverlayRef,className:this.buildClassName("overlay",o),style:n({},l,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},u=n({id:t,ref:this.setContentRef,style:n({},a,this.props.style.content),className:this.buildClassName("content",r),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),h=this.props.contentElement(u,s);return this.props.overlayElement(c,h)}}]),t}(s.Component);b.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},b.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),parentSelector:a.default.func,bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(d.default),a.default.instanceOf(p.SafeHTMLCollection),a.default.instanceOf(p.SafeNodeList),a.default.arrayOf(a.default.instanceOf(d.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},t.default=b,e.exports=t.default}(U,U.exports);var Oe=U.exports;function Ie(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function xe(e){this.setState(function(t){return this.constructor.getDerivedStateFromProps(e,t)??null}.bind(this))}function Re(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Ie.__suppressDeprecationWarning=!0,xe.__suppressDeprecationWarning=!0,Re.__suppressDeprecationWarning=!0;const Ne=Object.freeze(Object.defineProperty({__proto__:null,polyfill:function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,o=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?o="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(o="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==o){var i=e.displayName||e.name,s="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+i+" uses "+s+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==o?"\n  "+o:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=Ie,t.componentWillReceiveProps=xe),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=Re;var a=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;a.call(this,e,t,r)}}return e}},Symbol.toStringTag,{value:"Module"})),Ae=c(Ne);Object.defineProperty(j,"__esModule",{value:!0}),j.bodyOpenClassName=j.portalClassName=void 0;var $e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},De=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Me=o,Pe=We(Me),Le=We(x),Be=We(L),Fe=We(Oe),je=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(ee),Ue=re,He=We(Ue),Ve=Ae;function We(e){return e&&e.__esModule?e:{default:e}}function Ge(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var ze=j.portalClassName="ReactModalPortal",qe=j.bodyOpenClassName="ReactModal__Body--open",Ye=Ue.canUseDOM&&void 0!==Le.default.createPortal,Xe=function(e){return document.createElement(e)},Ke=function(){return Ye?Le.default.createPortal:Le.default.unstable_renderSubtreeIntoContainer};function Je(e){return e()}var Ze=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return n=r=Ge(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.removePortal=function(){!Ye&&Le.default.unmountComponentAtNode(r.node);var e=Je(r.props.parentSelector);e&&e.contains(r.node)?e.removeChild(r.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},r.portalRef=function(e){r.portal=e},r.renderPortal=function(e){var n=Ke()(r,Pe.default.createElement(Fe.default,$e({defaultStyles:t.defaultStyles},e)),r.node);r.portalRef(n)},Ge(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),De(t,[{key:"componentDidMount",value:function(){Ue.canUseDOM&&(Ye||(this.node=Xe("div")),this.node.className=this.props.portalClassName,Je(this.props.parentSelector).appendChild(this.node),!Ye&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:Je(e.parentSelector),nextParent:Je(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(Ue.canUseDOM){var r=this.props,o=r.isOpen,i=r.portalClassName;e.portalClassName!==i&&(this.node.className=i);var s=n.prevParent,a=n.nextParent;a!==s&&(s.removeChild(this.node),a.appendChild(this.node)),(e.isOpen||o)&&!Ye&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(Ue.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return Ue.canUseDOM&&Ye?(!this.node&&Ye&&(this.node=Xe("div")),Ke()(Pe.default.createElement(Fe.default,$e({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){je.setElement(e)}}]),t}(Me.Component);Ze.propTypes={isOpen:Be.default.bool.isRequired,style:Be.default.shape({content:Be.default.object,overlay:Be.default.object}),portalClassName:Be.default.string,bodyOpenClassName:Be.default.string,htmlOpenClassName:Be.default.string,className:Be.default.oneOfType([Be.default.string,Be.default.shape({base:Be.default.string.isRequired,afterOpen:Be.default.string.isRequired,beforeClose:Be.default.string.isRequired})]),overlayClassName:Be.default.oneOfType([Be.default.string,Be.default.shape({base:Be.default.string.isRequired,afterOpen:Be.default.string.isRequired,beforeClose:Be.default.string.isRequired})]),appElement:Be.default.oneOfType([Be.default.instanceOf(He.default),Be.default.instanceOf(Ue.SafeHTMLCollection),Be.default.instanceOf(Ue.SafeNodeList),Be.default.arrayOf(Be.default.instanceOf(He.default))]),onAfterOpen:Be.default.func,onRequestClose:Be.default.func,closeTimeoutMS:Be.default.number,ariaHideApp:Be.default.bool,shouldFocusAfterRender:Be.default.bool,shouldCloseOnOverlayClick:Be.default.bool,shouldReturnFocusAfterClose:Be.default.bool,preventScroll:Be.default.bool,parentSelector:Be.default.func,aria:Be.default.object,data:Be.default.object,role:Be.default.string,contentLabel:Be.default.string,shouldCloseOnEsc:Be.default.bool,overlayRef:Be.default.func,contentRef:Be.default.func,id:Be.default.string,overlayElement:Be.default.func,contentElement:Be.default.func},Ze.defaultProps={isOpen:!1,portalClassName:ze,bodyOpenClassName:qe,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return Pe.default.createElement("div",e,t)},contentElement:function(e,t){return Pe.default.createElement("div",e,t)}},Ze.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,Ve.polyfill)(Ze),Ze.setCreateHTMLElement=function(e){return Xe=e},j.default=Ze,function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n,r=(n=j)&&n.__esModule?n:{default:n};t.default=r.default,e.exports=t.default}(F,F.exports);const Qe=l(F.exports),et={background:"none",border:"none",borderRadius:0,bottom:"auto",left:"50%",margin:0,marginRight:"-50%",padding:0,right:"auto",top:"50%",transform:"translate(-50%, -50%)",transition:"all 0.35s ease-in-out",boxShadow:"0px 32px 64px 0px rgba(14, 14, 14, 0.14)"},tt={backgroundColor:"rgba(0, 0, 0, 0.72)",zIndex:9999},nt=({children:e,style:t,className:n,...o})=>(0,r.jsx)(Qe,{style:{content:{...et,...null==t?void 0:t.content},overlay:{...tt,...null==t?void 0:t.overlay}},...o,children:(0,r.jsx)("div",{className:(0,g.c)("deriv-modal__wrapper",n),children:e})});nt.Header=({children:e,hideCloseIcon:t,className:n,onRequestClose:o,hideBorder:i=!1,...s})=>(0,r.jsxs)("div",{className:(0,g.c)("deriv-modal__header",{"deriv-modal__header--no-border":i},n),...s,children:[e,!t&&(0,r.jsx)(B,{"data-testid":"dt-close-icon",onClick:o,className:"deriv-modal__close-icon"})]}),nt.Body=({children:e,className:t,...n})=>(0,r.jsx)("div",{className:(0,g.c)("deriv-modal__body",t),...n,children:e}),nt.Footer=({children:e,className:t,hideBorder:n=!1,...o})=>(0,r.jsx)("div",{className:(0,g.c)("deriv-modal__footer",{"deriv-modal__footer--no-border":n},t),...o,children:e}),nt.setAppElement=Qe.setAppElement;var rt=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},ot="object"==typeof a&&a&&a.Object===Object&&a,it="object"==typeof self&&self&&self.Object===Object&&self,st=ot||it||Function("return this")(),at=st,lt=/\s/,ct=function(e){for(var t=e.length;t--&&lt.test(e.charAt(t)););return t},ut=/^\s+/,ht=st.Symbol,pt=ht,dt=Object.prototype,ft=dt.hasOwnProperty,gt=dt.toString,mt=pt?pt.toStringTag:void 0,yt=Object.prototype.toString,vt=function(e){var t=ft.call(e,mt),n=e[mt];try{e[mt]=void 0;var r=!0}catch{}var o=gt.call(e);return r&&(t?e[mt]=n:delete e[mt]),o},bt=ht?ht.toStringTag:void 0,_t=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":bt&&bt in Object(e)?vt(e):function(e){return yt.call(e)}(e)},Et=function(e){return e&&e.slice(0,ct(e)+1).replace(ut,"")},wt=rt,Tt=/^[-+]0x[0-9a-f]+$/i,kt=/^0b[01]+$/i,St=/^0o[0-7]+$/i,Ct=parseInt,Ot=rt,It=function(){return at.Date.now()},xt=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return null!=e&&"object"==typeof e}(e)&&"[object Symbol]"==_t(e)}(e))return NaN;if(wt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=wt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Et(e);var n=kt.test(e);return n||St.test(e)?Ct(e.slice(2),n?2:8):Tt.test(e)?NaN:+e},Rt=Math.max,Nt=Math.min,At=function(e,t,n){var r,o,i,s,a,l,c=0,u=!1,h=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function d(t){var n=r,i=o;return r=o=void 0,c=t,s=e.apply(i,n)}function f(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-c>=i}function g(){var e=It();if(f(e))return m(e);a=setTimeout(g,function(e){var n=t-(e-l);return h?Nt(n,i-(e-c)):n}(e))}function m(e){return a=void 0,p&&r?d(e):(r=o=void 0,s)}function y(){var e=It(),n=f(e);if(r=arguments,o=this,l=e,n){if(void 0===a)return function(e){return c=e,a=setTimeout(g,t),u?d(e):s}(l);if(h)return clearTimeout(a),a=setTimeout(g,t),d(l)}return void 0===a&&(a=setTimeout(g,t)),s}return t=xt(t)||0,Ot(n)&&(u=!!n.leading,i=(h="maxWait"in n)?Rt(xt(n.maxWait)||0,t):i,p="trailing"in n?!!n.trailing:p),y.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=o=a=void 0},y.flush=function(){return void 0===a?s:m(It())},y};const $t=l(At),Dt=({color:e="#85ACB0",isFullScreen:t=!0,className:n})=>(0,r.jsxs)("div",{className:(0,g.c)("derivs-loader",{"derivs-loader--fullscreen":t},n),"data-testid":"dt_derivs-loader",children:[(0,r.jsx)("span",{className:"derivs-loader__element",role:"span",style:{backgroundColor:e}}),(0,r.jsx)("span",{className:"derivs-loader__element",style:{backgroundColor:e}}),(0,r.jsx)("span",{className:"derivs-loader__element",style:{backgroundColor:e}}),(0,r.jsx)("span",{className:"derivs-loader__element",style:{backgroundColor:e}}),(0,r.jsx)("span",{className:"derivs-loader__element",style:{backgroundColor:e}})]}),Mt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='64'%20height='64'%3e%3cpath%20fill='var(--fill-color1,%20%23999999)'%20d='M55.744%2011.287a1.605%201.605%200%2000-1.566-.657c-.023-.006-.046-.015-.068-.019L29.683%207.018a1.61%201.61%200%2000-.793.082L9.326%2014.288l-.025.011c-.02.01-.04.022-.062.03a1.677%201.677%200%2000-.65.509c-.005.006-.011.01-.015.016L.312%2026.182c-.316.434-.398%201-.218%201.506.18.508.601.892%201.122%201.026l7.168%201.855v17.765c0%20.714.466%201.345%201.148%201.554l26.248%208.04c.008.004.018%200%20.027.005.14.039.287.064.434.065l.012.002h.001c.155%200%20.306-.028.457-.073.048-.015.092-.035.14-.056.064-.024.127-.041.19-.074L55.875%2047.32c.516-.287.835-.83.835-1.42V28.137l6.37-3.066a1.626%201.626%200%2000.626-2.398l-7.962-11.387zm-26.125-.994l19.066%202.805-12.647%205.895-20.028-3.7%2013.61-5zm-19.028%207.304l22.949%204.239-6.745%2010.143L4.34%2026.167l6.251-8.57zm1.035%2029.535V31.408l15.472%204.004a1.62%201.62%200%20001.754-.672l5.78-8.69v28.128l-23.006-7.046zm41.84-2.19l-15.593%208.672V27.951l2.847%206.065a1.622%201.622%200%20002.167.773l10.578-5.088.002%2015.24zM42.96%2031.15l-4.546-9.681%2015.455-7.203%206.088%208.705L42.96%2031.15z'/%3e%3c/svg%3e",Pt=({notifications:e,clearNotificationsCallback:t=()=>{},isOpen:n,setIsOpen:a,componentConfig:l,className:c,excludedClickOutsideClass:u="",loadMoreFunction:h=()=>{},isLoading:d,...y})=>{const{isMobile:v}={isDesktop:f("(min-width: 1280px)"),isMobile:f("(max-width: 600px)"),isTablet:f("(min-width: 601px) and (max-width: 1279px)"),isTabletPortrait:f("(min-width: 601px) and (max-width: 1279px) and (orientation: portrait)"),isMobileOrTabletLandscape:f("(max-width: 1279px) and (orientation: landscape)")},b=(0,o.useRef)(null),_=(0,o.useRef)(null);!function(e,t,n="mousedown",r={}){!function(e,t,n,r){const i=(0,o.useRef)(t);p((()=>{i.current=t}),[t]),(0,o.useEffect)((()=>{const t=window;if(!t||!t.addEventListener)return;const n=e=>{i.current(e)};return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}),[e,void 0,r])}(n,(n=>{const r=n.target;r&&r.isConnected&&(Array.isArray(e)?e.filter((e=>!!e.current)).every((e=>e.current&&!e.current.contains(r))):e.current&&!e.current.contains(r))&&t(n)}),0,r)}(b,(e=>{e.stopPropagation(),e.target.className.split(" ").includes(u)||a(!1)}));const{fetchMoreOnBottomReached:E}=(({loadMore:e,ref:t})=>{const n=$t(e,100),r=(0,o.useCallback)((e=>{if(e){const{clientHeight:t,scrollHeight:r,scrollTop:o}=e;r-o-t<200&&n()}}),[n]);return(0,o.useEffect)((()=>{const e=t.current,n=()=>r(e);return e&&e.addEventListener("scroll",n),()=>{e&&e.removeEventListener("scroll",n)}}),[r,t]),{fetchMoreOnBottomReached:r}})({loadMore:h,ref:b});return(0,r.jsxs)(o.Fragment,{children:[v&&(0,r.jsxs)(nt,{className:(0,g.c)("notifications",c),isOpen:n,onRequestClose:()=>{a(!1)},...y,children:[(0,r.jsx)(nt.Header,{onRequestClose:()=>{a(!1)},children:(0,r.jsx)(i.E,{as:"div",weight:"bold",className:"deriv-modal__header-title",children:l.modalTitle})}),0===e.length&&(0,r.jsxs)("div",{className:"notifications__empty",children:[(0,r.jsx)("img",{src:Mt}),(0,r.jsx)(i.E,{as:"p",align:"center",className:"notifications__empty-text",children:l.noNotificationsTitle}),(0,r.jsx)(i.E,{as:"span",align:"center",children:l.noNotificationsMessage})]}),(0,r.jsxs)("div",{className:"notifications__content",ref:_,onScroll:e=>E(e.target),"data-testid":"notifications-content",children:[e.map((e=>(0,r.jsx)(s,{...e},e.id))),d&&(0,r.jsx)("div",{className:"notifications__loader","data-testid":"notifications-loader",children:(0,r.jsx)(Dt,{isFullScreen:!1})})]}),(0,r.jsx)(nt.Footer,{className:"notifications__footer",children:(0,r.jsx)("button",{className:(0,g.c)("notifications__footer__clear-button",{"notifications__footer__clear-button--disabled":0===e.length}),onClick:()=>{e.length>0&&(a(!1),t())},children:l.clearButtonText})})]}),!v&&(0,r.jsxs)(m,{ref:b,isOpen:n,className:(0,g.c)("notifications",c),...y,children:[(0,r.jsx)(i.E,{as:"span",className:"notifications__header-desktop",children:l.modalTitle}),0===e.length&&(0,r.jsxs)("div",{className:"notifications__empty",children:[(0,r.jsx)("img",{src:Mt}),(0,r.jsx)(i.E,{as:"p",align:"center",className:"notifications__empty-text",children:l.noNotificationsTitle}),(0,r.jsx)(i.E,{as:"span",align:"center",children:l.noNotificationsMessage})]}),(0,r.jsxs)("div",{className:"notifications__content",ref:_,onScroll:e=>E(e.target),"data-testid":"notifications-content",children:[e.map((e=>(0,r.jsx)(s,{...e},e.id))),d&&(0,r.jsx)("div",{className:"notifications__loader","data-testid":"notifications-loader",children:(0,r.jsx)(Dt,{isFullScreen:!1})})]}),(0,r.jsx)("div",{className:"notifications__footer",children:(0,r.jsx)("div",{className:"notifications__footer-box",children:(0,r.jsx)("button",{className:(0,g.c)("notifications__footer__clear-button",{"notifications__footer__clear-button--disabled":0===e.length}),onClick:()=>{e.length>0&&t()},children:l.clearButtonText})})})]})]})};Pt.displayName="Notifications"},1188:(e,t,n)=>{"use strict";n.d(t,{o:()=>a});var r=n(1085),o=n(9155),i=n(4650),s=n(5973);const a=({danger_limit:e,is_loading:t,label:n,percentage:a,labelSize:l="xs",warning_limit:c,...u})=>(0,r.jsx)("div",{className:"deriv-linear-progress-bar",...u,children:(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(s.E,{size:l,className:"deriv-linear-progress-bar__remaining-time",children:n}),t||a<1?(0,r.jsx)("div",{className:"deriv-linear-progress-bar__infinite-loader",children:(0,r.jsx)("div",{className:"deriv-linear-progress-bar__infinite-loader--indeterminate"})}):(0,r.jsx)("div",{className:"deriv-linear-progress-bar__track",children:(0,r.jsx)("div",{className:(0,i.c)("deriv-linear-progress-bar__line",{"deriv-linear-progress-bar__line--green":a>=c,"deriv-linear-progress-bar__line--yellow":a<c&&a>=e,"deriv-linear-progress-bar__line--red":a<e}),style:{width:`${a}%`}})})]})})},5973:(e,t,n)=>{"use strict";n.d(t,{E:()=>i});var r=n(1085),o=n(4650);const i=({align:e="left",as:t="span",children:n,color:i="general",fontStyle:s="normal",lineHeight:a,size:l="md",weight:c="normal",className:u,...h})=>{const p=(0,o.c)("deriv-text",`derivs-text__size--${l}`,`derivs-text__weight--${c}`,`derivs-text__align--${e}`,`derivs-text__color--${i}`,`derivs-text__line-height--${a}`,`derivs-text__font-style--${s}`,u);return(0,r.jsx)(t,{className:p,...h,children:n})}},1385:(e,t,n)=>{"use strict";n.d(t,{E:()=>B});const r="undefined"==typeof window||"Deno"in window;function o(){}function i(e,t,n){return y(e)?"function"==typeof t?{...n,queryKey:e,queryFn:t}:{...t,queryKey:e}:e}function s(e,t,n){return y(e)?[{...t,queryKey:e},n]:[e||{},t]}function a(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:i,queryKey:s,stale:a}=e;if(y(s))if(r){if(t.queryHash!==c(s,t.options))return!1}else if(!h(t.queryKey,s))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return!("boolean"==typeof a&&t.isStale()!==a||void 0!==o&&o!==t.state.fetchStatus||i&&!i(t))}function l(e,t){const{exact:n,fetching:r,predicate:o,mutationKey:i}=e;if(y(i)){if(!t.options.mutationKey)return!1;if(n){if(u(t.options.mutationKey)!==u(i))return!1}else if(!h(t.options.mutationKey,i))return!1}return!("boolean"==typeof r&&"loading"===t.state.status!==r||o&&!o(t))}function c(e,t){return((null==t?void 0:t.queryKeyHashFn)||u)(e)}function u(e){return JSON.stringify(e,((e,t)=>g(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function h(e,t){return p(e,t)}function p(e,t){return e===t||typeof e==typeof t&&!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some((n=>!p(e[n],t[n])))}function d(e,t){if(e===t)return e;const n=f(e)&&f(t);if(n||g(e)&&g(t)){const r=n?e.length:Object.keys(e).length,o=n?t:Object.keys(t),i=o.length,s=n?[]:{};let a=0;for(let r=0;r<i;r++){const i=n?r:o[r];s[i]=d(e[i],t[i]),s[i]===e[i]&&a++}return r===i&&a===r?e:s}return t}function f(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function g(e){if(!m(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!m(n)&&!!n.hasOwnProperty("isPrototypeOf")}function m(e){return"[object Object]"===Object.prototype.toString.call(e)}function y(e){return Array.isArray(e)}function v(e){return new Promise((t=>{setTimeout(t,e)}))}function b(e){v(0).then(e)}function _(e,t,n){return null!=n.isDataEqual&&n.isDataEqual(e,t)?e:"function"==typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?d(e,t):t}const E=console,w=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()};const o=r=>{t?e.push(r):b((()=>{n(r)}))};return{batch:o=>{let i;t++;try{i=o()}finally{t--,t||(()=>{const t=e;e=[],t.length&&b((()=>{r((()=>{t.forEach((e=>{n(e)}))}))}))})()}return i},batchCalls:e=>(...t)=>{o((()=>{e(...t)}))},schedule:o,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e}}}();class T{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const t={listener:e};return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const k=new class extends T{constructor(){super(),this.setup=e=>{if(!r&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach((({listener:e})=>{e()}))}isFocused(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}},S=["online","offline"],C=new class extends T{constructor(){super(),this.setup=e=>{if(!r&&window.addEventListener){const t=()=>e();return S.forEach((e=>{window.addEventListener(e,t,!1)})),()=>{S.forEach((e=>{window.removeEventListener(e,t)}))}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}setEventListener(e){var t;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((e=>{"boolean"==typeof e?this.setOnline(e):this.onOnline()}))}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach((({listener:e})=>{e()}))}isOnline(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine}};function O(e){return Math.min(1e3*2**e,3e4)}function I(e){return"online"!==(null!=e?e:"online")||C.isOnline()}class x{constructor(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}}function R(e){return e instanceof x}function N(e){let t,n,r,o=!1,i=0,s=!1;const a=new Promise(((e,t)=>{n=e,r=t})),l=()=>!k.isFocused()||"always"!==e.networkMode&&!C.isOnline(),c=r=>{s||(s=!0,null==e.onSuccess||e.onSuccess(r),null==t||t(),n(r))},u=n=>{s||(s=!0,null==e.onError||e.onError(n),null==t||t(),r(n))},h=()=>new Promise((n=>{t=e=>{const t=s||!l();return t&&n(e),t},null==e.onPause||e.onPause()})).then((()=>{t=void 0,s||null==e.onContinue||e.onContinue()})),p=()=>{if(s)return;let t;try{t=e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(c).catch((t=>{var n,r;if(s)return;const a=null!=(n=e.retry)?n:3,c=null!=(r=e.retryDelay)?r:O,d="function"==typeof c?c(i,t):c,f=!0===a||"number"==typeof a&&i<a||"function"==typeof a&&a(i,t);!o&&f?(i++,null==e.onFail||e.onFail(i,t),v(d).then((()=>{if(l())return h()})).then((()=>{o?u(t):p()}))):u(t)}))};return I(e.networkMode)?p():h().then(p),{promise:a,cancel:t=>{s||(u(new x(t)),null==e.abort||e.abort())},continue:()=>(null==t?void 0:t())?a:Promise.resolve(),cancelRetry:()=>{o=!0},continueRetry:()=>{o=!1}}}class A{destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"==typeof(e=this.cacheTime)&&e>=0&&e!==1/0&&(this.gcTimeout=setTimeout((()=>{this.optionalRemove()}),this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,null!=e?e:r?1/0:3e5)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class $ extends A{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||E,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?null!=r?r:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(e,t){const n=_(this.state.data,e,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n}setState(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}cancel(e){var t;const n=this.promise;return null==(t=this.retryer)||t.cancel(e),n?n.then(o).catch(o):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some((e=>!1!==e.options.enabled))}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((e=>e.getCurrentResult().isStale))}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=this.observers.find((e=>e.shouldFetchOnWindowFocus()));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}onOnline(){var e;const t=this.observers.find((e=>e.shouldFetchOnReconnect()));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,t){var n,r;if("idle"!==this.state.fetchStatus)if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var o;return null==(o=this.retryer)||o.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}Array.isArray(this.options.queryKey)||this.logger.error("As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']");const i=function(){if("function"==typeof AbortController)return new AbortController}(),s={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},a=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>{if(i)return this.abortSignalConsumed=!0,i.signal}})};a(s);const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(s)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'")};var c;a(l),null==(n=this.options.behavior)||n.onFetch(l),this.revertState=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(r=l.fetchOptions)?void 0:r.meta))&&this.dispatch({type:"fetch",meta:null==(c=l.fetchOptions)?void 0:c.meta});const u=e=>{var t,n,r,o;R(e)&&e.silent||this.dispatch({type:"error",error:e}),R(e)||(null==(t=(n=this.cache.config).onError)||t.call(n,e,this),null==(r=(o=this.cache.config).onSettled)||r.call(o,this.state.data,e,this),this.logger.error(e)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=N({fn:l.fetchFn,abort:null==i?void 0:i.abort.bind(i),onSuccess:e=>{var t,n,r,o;if(void 0===e)return this.logger.error("Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: "+this.queryHash),void u(new Error(this.queryHash+" data is undefined"));this.setData(e),null==(t=(n=this.cache.config).onSuccess)||t.call(n,e,this),null==(r=(o=this.cache.config).onSettled)||r.call(o,e,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:u,onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){this.state=(t=>{var n,r;switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(n=e.meta)?n:null,fetchStatus:I(this.options.networkMode)?"fetching":"paused",...!t.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!=(r=e.dataUpdatedAt)?r:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return R(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...t,error:o,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),w.batch((()=>{this.observers.forEach((t=>{t.onQueryUpdate(e)})),this.cache.notify({query:this,type:"updated",action:e})}))}}class D extends T{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,t,n){var r;const o=t.queryKey,i=null!=(r=t.queryHash)?r:c(o,t);let s=this.get(i);return s||(s=new $({cache:this,logger:e.getLogger(),queryKey:o,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(o)}),this.add(s)),s}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter((t=>t!==e)),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){w.batch((()=>{this.queries.forEach((e=>{this.remove(e)}))}))}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,t){const[n]=s(e,t);return void 0===n.exact&&(n.exact=!0),this.queries.find((e=>a(n,e)))}findAll(e,t){const[n]=s(e,t);return Object.keys(n).length>0?this.queries.filter((e=>a(n,e))):this.queries}notify(e){w.batch((()=>{this.listeners.forEach((({listener:t})=>{t(e)}))}))}onFocus(){w.batch((()=>{this.queries.forEach((e=>{e.onFocus()}))}))}onOnline(){w.batch((()=>{this.queries.forEach((e=>{e.onOnline()}))}))}}class M extends A{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||E,this.observers=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter((t=>t!==e)),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,t;return null!=(e=null==(t=this.retryer)?void 0:t.continue())?e:this.execute()}async execute(){const e=()=>{var e;return this.retryer=N({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(e,t)=>{this.dispatch({type:"failed",failureCount:e,error:t})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:null!=(e=this.options.retry)?e:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},t="loading"===this.state.status;try{var n,r,o,i,s,a,l,c;if(!t){var u,h,p,d;this.dispatch({type:"loading",variables:this.options.variables}),await(null==(u=(h=this.mutationCache.config).onMutate)?void 0:u.call(h,this.state.variables,this));const e=await(null==(p=(d=this.options).onMutate)?void 0:p.call(d,this.state.variables));e!==this.state.context&&this.dispatch({type:"loading",context:e,variables:this.state.variables})}const f=await e();return await(null==(n=(r=this.mutationCache.config).onSuccess)?void 0:n.call(r,f,this.state.variables,this.state.context,this)),await(null==(o=(i=this.options).onSuccess)?void 0:o.call(i,f,this.state.variables,this.state.context)),await(null==(s=(a=this.mutationCache.config).onSettled)?void 0:s.call(a,f,null,this.state.variables,this.state.context,this)),await(null==(l=(c=this.options).onSettled)?void 0:l.call(c,f,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:f}),f}catch(e){try{var f,g,m,y,v,b,_,E;throw await(null==(f=(g=this.mutationCache.config).onError)?void 0:f.call(g,e,this.state.variables,this.state.context,this)),this.logger.error(e),await(null==(m=(y=this.options).onError)?void 0:m.call(y,e,this.state.variables,this.state.context)),await(null==(v=(b=this.mutationCache.config).onSettled)?void 0:v.call(b,void 0,e,this.state.variables,this.state.context,this)),await(null==(_=(E=this.options).onSettled)?void 0:_.call(E,void 0,e,this.state.variables,this.state.context)),e}finally{this.dispatch({type:"error",error:e})}}}dispatch(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"loading":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!I(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...t,...e.state}}})(this.state),w.batch((()=>{this.observers.forEach((t=>{t.onMutationUpdate(e)})),this.mutationCache.notify({mutation:this,type:"updated",action:e})}))}}class P extends T{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,t,n){const r=new M({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(r),r}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter((t=>t!==e)),this.notify({type:"removed",mutation:e})}clear(){w.batch((()=>{this.mutations.forEach((e=>{this.remove(e)}))}))}getAll(){return this.mutations}find(e){return void 0===e.exact&&(e.exact=!0),this.mutations.find((t=>l(e,t)))}findAll(e){return this.mutations.filter((t=>l(e,t)))}notify(e){w.batch((()=>{this.listeners.forEach((({listener:t})=>{t(e)}))}))}resumePausedMutations(){var e;return this.resuming=(null!=(e=this.resuming)?e:Promise.resolve()).then((()=>{const e=this.mutations.filter((e=>e.state.isPaused));return w.batch((()=>e.reduce(((e,t)=>e.then((()=>t.continue().catch(o)))),Promise.resolve())))})).then((()=>{this.resuming=void 0})),this.resuming}}function L(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}class B{constructor(e={}){this.queryCache=e.queryCache||new D,this.mutationCache=e.mutationCache||new P,this.logger=e.logger||E,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0,e.logger&&this.logger.error("Passing a custom logger has been deprecated and will be removed in the next major version.")}mount(){this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=k.subscribe((()=>{k.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())})),this.unsubscribeOnline=C.subscribe((()=>{C.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())})))}unmount(){var e,t;this.mountCount--,0===this.mountCount&&(null==(e=this.unsubscribeFocus)||e.call(this),this.unsubscribeFocus=void 0,null==(t=this.unsubscribeOnline)||t.call(this),this.unsubscribeOnline=void 0)}isFetching(e,t){const[n]=s(e,t);return n.fetchStatus="fetching",this.queryCache.findAll(n).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state.data}ensureQueryData(e,t,n){const r=i(e,t,n),o=this.getQueryData(r.queryKey);return o?Promise.resolve(o):this.fetchQuery(r)}getQueriesData(e){return this.getQueryCache().findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,n){const r=this.queryCache.find(e),o=function(e,t){return"function"==typeof e?e(t):e}(t,null==r?void 0:r.state.data);if(void 0===o)return;const s=i(e),a=this.defaultQueryOptions(s);return this.queryCache.build(this,a).setData(o,{...n,manual:!0})}setQueriesData(e,t,n){return w.batch((()=>this.getQueryCache().findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,n)]))))}getQueryState(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state}removeQueries(e,t){const[n]=s(e,t),r=this.queryCache;w.batch((()=>{r.findAll(n).forEach((e=>{r.remove(e)}))}))}resetQueries(e,t,n){const[r,o]=s(e,t,n),i=this.queryCache,a={type:"active",...r};return w.batch((()=>(i.findAll(r).forEach((e=>{e.reset()})),this.refetchQueries(a,o))))}cancelQueries(e,t,n){const[r,i={}]=s(e,t,n);void 0===i.revert&&(i.revert=!0);const a=w.batch((()=>this.queryCache.findAll(r).map((e=>e.cancel(i)))));return Promise.all(a).then(o).catch(o)}invalidateQueries(e,t,n){const[r,o]=s(e,t,n);return w.batch((()=>{var e,t;if(this.queryCache.findAll(r).forEach((e=>{e.invalidate()})),"none"===r.refetchType)return Promise.resolve();const n={...r,type:null!=(e=null!=(t=r.refetchType)?t:r.type)?e:"active"};return this.refetchQueries(n,o)}))}refetchQueries(e,t,n){const[r,i]=s(e,t,n),a=w.batch((()=>this.queryCache.findAll(r).filter((e=>!e.isDisabled())).map((e=>{var t;return e.fetch(void 0,{...i,cancelRefetch:null==(t=null==i?void 0:i.cancelRefetch)||t,meta:{refetchPage:r.refetchPage}})}))));let l=Promise.all(a).then(o);return null!=i&&i.throwOnError||(l=l.catch(o)),l}fetchQuery(e,t,n){const r=i(e,t,n),o=this.defaultQueryOptions(r);void 0===o.retry&&(o.retry=!1);const s=this.queryCache.build(this,o);return s.isStaleByTime(o.staleTime)?s.fetch(o):Promise.resolve(s.state.data)}prefetchQuery(e,t,n){return this.fetchQuery(e,t,n).then(o).catch(o)}fetchInfiniteQuery(e,t,n){const r=i(e,t,n);return r.behavior={onFetch:e=>{e.fetchFn=()=>{var t,n,r,o,i,s;const a=null==(t=e.fetchOptions)||null==(n=t.meta)?void 0:n.refetchPage,l=null==(r=e.fetchOptions)||null==(o=r.meta)?void 0:o.fetchMore,c=null==l?void 0:l.pageParam,u="forward"===(null==l?void 0:l.direction),h="backward"===(null==l?void 0:l.direction),p=(null==(i=e.state.data)?void 0:i.pages)||[],d=(null==(s=e.state.data)?void 0:s.pageParams)||[];let f=d,g=!1;const m=e.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+e.options.queryHash+"'")),y=(e,t,n,r)=>(f=r?[t,...f]:[...f,t],r?[n,...e]:[...e,n]),v=(t,n,r,o)=>{if(g)return Promise.reject("Cancelled");if(void 0===r&&!n&&t.length)return Promise.resolve(t);const i={queryKey:e.queryKey,pageParam:r,meta:e.options.meta};var s;s=i,Object.defineProperty(s,"signal",{enumerable:!0,get:()=>{var t,n;return null!=(t=e.signal)&&t.aborted?g=!0:null==(n=e.signal)||n.addEventListener("abort",(()=>{g=!0})),e.signal}});const a=m(i);return Promise.resolve(a).then((e=>y(t,r,e,o)))};let b;if(p.length)if(u){const t=void 0!==c,n=t?c:L(e.options,p);b=v(p,t,n)}else if(h){const t=void 0!==c,n=t?c:(_=e.options,E=p,null==_.getPreviousPageParam?void 0:_.getPreviousPageParam(E[0],E));b=v(p,t,n,!0)}else{f=[];const t=void 0===e.options.getNextPageParam;b=a&&p[0]&&!a(p[0],0,p)?Promise.resolve(y([],d[0],p[0])):v([],t,d[0]);for(let n=1;n<p.length;n++)b=b.then((r=>{if(!a||!p[n]||a(p[n],n,p)){const o=t?d[n]:L(e.options,r);return v(r,t,o)}return Promise.resolve(y(r,d[n],p[n]))}))}else b=v([]);var _,E;return b.then((e=>({pages:e,pageParams:f})))}}},this.fetchQuery(r)}prefetchInfiniteQuery(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(o).catch(o)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,t){const n=this.queryDefaults.find((t=>u(e)===u(t.queryKey)));n?n.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}getQueryDefaults(e){if(!e)return;const t=this.queryDefaults.find((t=>h(e,t.queryKey)));return this.queryDefaults.filter((t=>h(e,t.queryKey))).length>1&&this.logger.error("[QueryClient] Several query defaults match with key '"+JSON.stringify(e)+"'. The first matching query defaults are used. Please check how query defaults are registered. Order does matter here. cf. https://react-query.tanstack.com/reference/QueryClient#queryclientsetquerydefaults."),null==t?void 0:t.defaultOptions}setMutationDefaults(e,t){const n=this.mutationDefaults.find((t=>u(e)===u(t.mutationKey)));n?n.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}getMutationDefaults(e){if(!e)return;const t=this.mutationDefaults.find((t=>h(e,t.mutationKey)));return this.mutationDefaults.filter((t=>h(e,t.mutationKey))).length>1&&this.logger.error("[QueryClient] Several mutation defaults match with key '"+JSON.stringify(e)+"'. The first matching mutation defaults are used. Please check how mutation defaults are registered. Order does matter here. cf. https://react-query.tanstack.com/reference/QueryClient#queryclientsetmutationdefaults."),null==t?void 0:t.defaultOptions}defaultQueryOptions(e){if(null!=e&&e._defaulted)return e;const t={...this.defaultOptions.queries,...this.getQueryDefaults(null==e?void 0:e.queryKey),...e,_defaulted:!0};return!t.queryHash&&t.queryKey&&(t.queryHash=c(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.useErrorBoundary&&(t.useErrorBoundary=!!t.suspense),t}defaultMutationOptions(e){return null!=e&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(null==e?void 0:e.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}},4447:(e,t,n)=>{"use strict";n.d(t,{Ht:()=>s});var r=n(9155);const o=r.createContext(void 0),i=r.createContext(!1);const s=({client:e,children:t,context:n,contextSharing:s=!1})=>{r.useEffect((()=>(e.mount(),()=>{e.unmount()})),[e]),s&&e.getLogger().error("The contextSharing option has been deprecated and will be removed in the next major version");const a=function(e,t){return e||(t&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=o),window.ReactQueryClientContext):o)}(n,s);return r.createElement(i.Provider,{value:!n&&s},r.createElement(a.Provider,{value:e},t))}},7519:(e,t,n)=>{"use strict";n.d(t,{A:()=>ee});const{entries:r,setPrototypeOf:o,isFrozen:i,getPrototypeOf:s,getOwnPropertyDescriptor:a}=Object;let{freeze:l,seal:c,create:u}=Object,{apply:h,construct:p}="undefined"!=typeof Reflect&&Reflect;l||(l=function(e){return e}),c||(c=function(e){return e}),h||(h=function(e,t,n){return e.apply(t,n)}),p||(p=function(e,t){return new e(...t)});const d=C(Array.prototype.forEach),f=C(Array.prototype.pop),g=C(Array.prototype.push),m=C(String.prototype.toLowerCase),y=C(String.prototype.toString),v=C(String.prototype.match),b=C(String.prototype.replace),_=C(String.prototype.indexOf),E=C(String.prototype.trim),w=C(Object.prototype.hasOwnProperty),T=C(RegExp.prototype.test),k=(S=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return p(S,t)});var S;function C(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return h(e,t,r)}}function O(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m;o&&o(e,null);let r=t.length;for(;r--;){let o=t[r];if("string"==typeof o){const e=n(o);e!==o&&(i(t)||(t[r]=e),o=e)}e[o]=!0}return e}function I(e){for(let t=0;t<e.length;t++)w(e,t)||(e[t]=null);return e}function x(e){const t=u(null);for(const[n,o]of r(e))w(e,n)&&(Array.isArray(o)?t[n]=I(o):o&&"object"==typeof o&&o.constructor===Object?t[n]=x(o):t[n]=o);return t}function R(e,t){for(;null!==e;){const n=a(e,t);if(n){if(n.get)return C(n.get);if("function"==typeof n.value)return C(n.value)}e=s(e)}return function(){return null}}const N=l(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),A=l(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),$=l(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),D=l(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),M=l(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),P=l(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),L=l(["#text"]),B=l(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),F=l(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),j=l(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),U=l(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),H=c(/\{\{[\w\W]*|[\w\W]*\}\}/gm),V=c(/<%[\w\W]*|[\w\W]*%>/gm),W=c(/\$\{[\w\W]*}/gm),G=c(/^data-[\-\w.\u00B7-\uFFFF]+$/),z=c(/^aria-[\-\w]+$/),q=c(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Y=c(/^(?:\w+script|data):/i),X=c(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),K=c(/^html$/i),J=c(/^[a-z][.\w]*(-[.\w]+)+$/i);var Z=Object.freeze({__proto__:null,ARIA_ATTR:z,ATTR_WHITESPACE:X,CUSTOM_ELEMENT:J,DATA_ATTR:G,DOCTYPE_NAME:K,ERB_EXPR:V,IS_ALLOWED_URI:q,IS_SCRIPT_OR_DATA:Y,MUSTACHE_EXPR:H,TMPLIT_EXPR:W});const Q=function(){return"undefined"==typeof window?null:window};var ee=function e(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();const n=t=>e(t);if(n.version="3.2.3",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;let{document:o}=t;const i=o,s=i.currentScript,{DocumentFragment:a,HTMLTemplateElement:c,Node:h,Element:p,NodeFilter:S,NamedNodeMap:C=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:I,DOMParser:H,trustedTypes:V}=t,W=p.prototype,G=R(W,"cloneNode"),z=R(W,"remove"),Y=R(W,"nextSibling"),X=R(W,"childNodes"),J=R(W,"parentNode");if("function"==typeof c){const e=o.createElement("template");e.content&&e.content.ownerDocument&&(o=e.content.ownerDocument)}let ee,te="";const{implementation:ne,createNodeIterator:re,createDocumentFragment:oe,getElementsByTagName:ie}=o,{importNode:se}=i;let ae={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof r&&"function"==typeof J&&ne&&void 0!==ne.createHTMLDocument;const{MUSTACHE_EXPR:le,ERB_EXPR:ce,TMPLIT_EXPR:ue,DATA_ATTR:he,ARIA_ATTR:pe,IS_SCRIPT_OR_DATA:de,ATTR_WHITESPACE:fe,CUSTOM_ELEMENT:ge}=Z;let{IS_ALLOWED_URI:me}=Z,ye=null;const ve=O({},[...N,...A,...$,...M,...L]);let be=null;const _e=O({},[...B,...F,...j,...U]);let Ee=Object.seal(u(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),we=null,Te=null,ke=!0,Se=!0,Ce=!1,Oe=!0,Ie=!1,xe=!0,Re=!1,Ne=!1,Ae=!1,$e=!1,De=!1,Me=!1,Pe=!0,Le=!1,Be=!0,Fe=!1,je={},Ue=null;const He=O({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ve=null;const We=O({},["audio","video","img","source","image","track"]);let Ge=null;const ze=O({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qe="http://www.w3.org/1998/Math/MathML",Ye="http://www.w3.org/2000/svg",Xe="http://www.w3.org/1999/xhtml";let Ke=Xe,Je=!1,Ze=null;const Qe=O({},[qe,Ye,Xe],y);let et=O({},["mi","mo","mn","ms","mtext"]),tt=O({},["annotation-xml"]);const nt=O({},["title","style","font","a","script"]);let rt=null;const ot=["application/xhtml+xml","text/html"];let it=null,st=null;const at=o.createElement("form"),lt=function(e){return e instanceof RegExp||e instanceof Function},ct=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!st||st!==e){if(e&&"object"==typeof e||(e={}),e=x(e),rt=-1===ot.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,it="application/xhtml+xml"===rt?y:m,ye=w(e,"ALLOWED_TAGS")?O({},e.ALLOWED_TAGS,it):ve,be=w(e,"ALLOWED_ATTR")?O({},e.ALLOWED_ATTR,it):_e,Ze=w(e,"ALLOWED_NAMESPACES")?O({},e.ALLOWED_NAMESPACES,y):Qe,Ge=w(e,"ADD_URI_SAFE_ATTR")?O(x(ze),e.ADD_URI_SAFE_ATTR,it):ze,Ve=w(e,"ADD_DATA_URI_TAGS")?O(x(We),e.ADD_DATA_URI_TAGS,it):We,Ue=w(e,"FORBID_CONTENTS")?O({},e.FORBID_CONTENTS,it):He,we=w(e,"FORBID_TAGS")?O({},e.FORBID_TAGS,it):{},Te=w(e,"FORBID_ATTR")?O({},e.FORBID_ATTR,it):{},je=!!w(e,"USE_PROFILES")&&e.USE_PROFILES,ke=!1!==e.ALLOW_ARIA_ATTR,Se=!1!==e.ALLOW_DATA_ATTR,Ce=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Oe=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Ie=e.SAFE_FOR_TEMPLATES||!1,xe=!1!==e.SAFE_FOR_XML,Re=e.WHOLE_DOCUMENT||!1,$e=e.RETURN_DOM||!1,De=e.RETURN_DOM_FRAGMENT||!1,Me=e.RETURN_TRUSTED_TYPE||!1,Ae=e.FORCE_BODY||!1,Pe=!1!==e.SANITIZE_DOM,Le=e.SANITIZE_NAMED_PROPS||!1,Be=!1!==e.KEEP_CONTENT,Fe=e.IN_PLACE||!1,me=e.ALLOWED_URI_REGEXP||q,Ke=e.NAMESPACE||Xe,et=e.MATHML_TEXT_INTEGRATION_POINTS||et,tt=e.HTML_INTEGRATION_POINTS||tt,Ee=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&lt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ee.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&lt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ee.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Ee.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Ie&&(Se=!1),De&&($e=!0),je&&(ye=O({},L),be=[],!0===je.html&&(O(ye,N),O(be,B)),!0===je.svg&&(O(ye,A),O(be,F),O(be,U)),!0===je.svgFilters&&(O(ye,$),O(be,F),O(be,U)),!0===je.mathMl&&(O(ye,M),O(be,j),O(be,U))),e.ADD_TAGS&&(ye===ve&&(ye=x(ye)),O(ye,e.ADD_TAGS,it)),e.ADD_ATTR&&(be===_e&&(be=x(be)),O(be,e.ADD_ATTR,it)),e.ADD_URI_SAFE_ATTR&&O(Ge,e.ADD_URI_SAFE_ATTR,it),e.FORBID_CONTENTS&&(Ue===He&&(Ue=x(Ue)),O(Ue,e.FORBID_CONTENTS,it)),Be&&(ye["#text"]=!0),Re&&O(ye,["html","head","body"]),ye.table&&(O(ye,["tbody"]),delete we.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw k('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ee=e.TRUSTED_TYPES_POLICY,te=ee.createHTML("")}else void 0===ee&&(ee=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));const o="dompurify"+(n?"#"+n:"");try{return e.createPolicy(o,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+o+" could not be created."),null}}(V,s)),null!==ee&&"string"==typeof te&&(te=ee.createHTML(""));l&&l(e),st=e}},ut=O({},[...A,...$,...D]),ht=O({},[...M,...P]),pt=function(e){g(n.removed,{element:e});try{J(e).removeChild(e)}catch(t){z(e)}},dt=function(e,t){try{g(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){g(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if($e||De)try{pt(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},ft=function(e){let t=null,n=null;if(Ae)e="<remove></remove>"+e;else{const t=v(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===rt&&Ke===Xe&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const r=ee?ee.createHTML(e):e;if(Ke===Xe)try{t=(new H).parseFromString(r,rt)}catch(e){}if(!t||!t.documentElement){t=ne.createDocument(Ke,"template",null);try{t.documentElement.innerHTML=Je?te:r}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(o.createTextNode(n),i.childNodes[0]||null),Ke===Xe?ie.call(t,Re?"html":"body")[0]:Re?t.documentElement:i},gt=function(e){return re.call(e.ownerDocument||e,e,S.SHOW_ELEMENT|S.SHOW_COMMENT|S.SHOW_TEXT|S.SHOW_PROCESSING_INSTRUCTION|S.SHOW_CDATA_SECTION,null)},mt=function(e){return e instanceof I&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof C)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},yt=function(e){return"function"==typeof h&&e instanceof h};function vt(e,t,r){d(e,(e=>{e.call(n,t,r,st)}))}const bt=function(e){let t=null;if(vt(ae.beforeSanitizeElements,e,null),mt(e))return pt(e),!0;const r=it(e.nodeName);if(vt(ae.uponSanitizeElement,e,{tagName:r,allowedTags:ye}),e.hasChildNodes()&&!yt(e.firstElementChild)&&T(/<[/\w]/g,e.innerHTML)&&T(/<[/\w]/g,e.textContent))return pt(e),!0;if(7===e.nodeType)return pt(e),!0;if(xe&&8===e.nodeType&&T(/<[/\w]/g,e.data))return pt(e),!0;if(!ye[r]||we[r]){if(!we[r]&&Et(r)){if(Ee.tagNameCheck instanceof RegExp&&T(Ee.tagNameCheck,r))return!1;if(Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(r))return!1}if(Be&&!Ue[r]){const t=J(e)||e.parentNode,n=X(e)||e.childNodes;if(n&&t)for(let r=n.length-1;r>=0;--r){const o=G(n[r],!0);o.__removalCount=(e.__removalCount||0)+1,t.insertBefore(o,Y(e))}}return pt(e),!0}return e instanceof p&&!function(e){let t=J(e);t&&t.tagName||(t={namespaceURI:Ke,tagName:"template"});const n=m(e.tagName),r=m(t.tagName);return!!Ze[e.namespaceURI]&&(e.namespaceURI===Ye?t.namespaceURI===Xe?"svg"===n:t.namespaceURI===qe?"svg"===n&&("annotation-xml"===r||et[r]):Boolean(ut[n]):e.namespaceURI===qe?t.namespaceURI===Xe?"math"===n:t.namespaceURI===Ye?"math"===n&&tt[r]:Boolean(ht[n]):e.namespaceURI===Xe?!(t.namespaceURI===Ye&&!tt[r])&&!(t.namespaceURI===qe&&!et[r])&&!ht[n]&&(nt[n]||!ut[n]):!("application/xhtml+xml"!==rt||!Ze[e.namespaceURI]))}(e)?(pt(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!T(/<\/no(script|embed|frames)/i,e.innerHTML)?(Ie&&3===e.nodeType&&(t=e.textContent,d([le,ce,ue],(e=>{t=b(t,e," ")})),e.textContent!==t&&(g(n.removed,{element:e.cloneNode()}),e.textContent=t)),vt(ae.afterSanitizeElements,e,null),!1):(pt(e),!0)},_t=function(e,t,n){if(Pe&&("id"===t||"name"===t)&&(n in o||n in at))return!1;if(Se&&!Te[t]&&T(he,t));else if(ke&&T(pe,t));else if(!be[t]||Te[t]){if(!(Et(e)&&(Ee.tagNameCheck instanceof RegExp&&T(Ee.tagNameCheck,e)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(e))&&(Ee.attributeNameCheck instanceof RegExp&&T(Ee.attributeNameCheck,t)||Ee.attributeNameCheck instanceof Function&&Ee.attributeNameCheck(t))||"is"===t&&Ee.allowCustomizedBuiltInElements&&(Ee.tagNameCheck instanceof RegExp&&T(Ee.tagNameCheck,n)||Ee.tagNameCheck instanceof Function&&Ee.tagNameCheck(n))))return!1}else if(Ge[t]);else if(T(me,b(n,fe,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==_(n,"data:")||!Ve[e])if(Ce&&!T(de,b(n,fe,"")));else if(n)return!1;return!0},Et=function(e){return"annotation-xml"!==e&&v(e,ge)},wt=function(e){vt(ae.beforeSanitizeAttributes,e,null);const{attributes:t}=e;if(!t||mt(e))return;const r={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:be,forceKeepAttr:void 0};let o=t.length;for(;o--;){const i=t[o],{name:s,namespaceURI:a,value:l}=i,c=it(s);let u="value"===s?l:E(l);if(r.attrName=c,r.attrValue=u,r.keepAttr=!0,r.forceKeepAttr=void 0,vt(ae.uponSanitizeAttribute,e,r),u=r.attrValue,!Le||"id"!==c&&"name"!==c||(dt(s,e),u="user-content-"+u),xe&&T(/((--!?|])>)|<\/(style|title)/i,u)){dt(s,e);continue}if(r.forceKeepAttr)continue;if(dt(s,e),!r.keepAttr)continue;if(!Oe&&T(/\/>/i,u)){dt(s,e);continue}Ie&&d([le,ce,ue],(e=>{u=b(u,e," ")}));const h=it(e.nodeName);if(_t(h,c,u)){if(ee&&"object"==typeof V&&"function"==typeof V.getAttributeType)if(a);else switch(V.getAttributeType(h,c)){case"TrustedHTML":u=ee.createHTML(u);break;case"TrustedScriptURL":u=ee.createScriptURL(u)}try{a?e.setAttributeNS(a,s,u):e.setAttribute(s,u),mt(e)?pt(e):f(n.removed)}catch(e){}}}vt(ae.afterSanitizeAttributes,e,null)},Tt=function e(t){let n=null;const r=gt(t);for(vt(ae.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)vt(ae.uponSanitizeShadowNode,n,null),bt(n),wt(n),n.content instanceof a&&e(n.content);vt(ae.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,o=null,s=null,l=null;if(Je=!e,Je&&(e="\x3c!--\x3e"),"string"!=typeof e&&!yt(e)){if("function"!=typeof e.toString)throw k("toString is not a function");if("string"!=typeof(e=e.toString()))throw k("dirty is not a string, aborting")}if(!n.isSupported)return e;if(Ne||ct(t),n.removed=[],"string"==typeof e&&(Fe=!1),Fe){if(e.nodeName){const t=it(e.nodeName);if(!ye[t]||we[t])throw k("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof h)r=ft("\x3c!----\x3e"),o=r.ownerDocument.importNode(e,!0),1===o.nodeType&&"BODY"===o.nodeName||"HTML"===o.nodeName?r=o:r.appendChild(o);else{if(!$e&&!Ie&&!Re&&-1===e.indexOf("<"))return ee&&Me?ee.createHTML(e):e;if(r=ft(e),!r)return $e?null:Me?te:""}r&&Ae&&pt(r.firstChild);const c=gt(Fe?e:r);for(;s=c.nextNode();)bt(s),wt(s),s.content instanceof a&&Tt(s.content);if(Fe)return e;if($e){if(De)for(l=oe.call(r.ownerDocument);r.firstChild;)l.appendChild(r.firstChild);else l=r;return(be.shadowroot||be.shadowrootmode)&&(l=se.call(i,l,!0)),l}let u=Re?r.outerHTML:r.innerHTML;return Re&&ye["!doctype"]&&r.ownerDocument&&r.ownerDocument.doctype&&r.ownerDocument.doctype.name&&T(K,r.ownerDocument.doctype.name)&&(u="<!DOCTYPE "+r.ownerDocument.doctype.name+">\n"+u),Ie&&d([le,ce,ue],(e=>{u=b(u,e," ")})),ee&&Me?ee.createHTML(u):u},n.setConfig=function(){ct(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Ne=!0},n.clearConfig=function(){st=null,Ne=!1},n.isValidAttribute=function(e,t,n){st||ct({});const r=it(e),o=it(t);return _t(r,o,n)},n.addHook=function(e,t){"function"==typeof t&&g(ae[e],t)},n.removeHook=function(e){return f(ae[e])},n.removeHooks=function(e){ae[e]=[]},n.removeAllHooks=function(){ae={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}()},187:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>o});var r=n(9907);const o=r.default||r},9339:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>Vn});var r=n(9155),o=n.n(r);function i(e){return t=>typeof t===e}var s=i("function"),a=e=>"RegExp"===Object.prototype.toString.call(e).slice(8,-1),l=e=>!c(e)&&!(e=>null===e)(e)&&(s(e)||"object"==typeof e),c=i("undefined");function u(e,t){if(e===t)return!0;if(e&&l(e)&&t&&l(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return function(e,t){const{length:n}=e;if(n!==t.length)return!1;for(let r=n;0!=r--;)if(!u(e[r],t[r]))return!1;return!0}(e,t);if(e instanceof Map&&t instanceof Map)return function(e,t){if(e.size!==t.size)return!1;for(const n of e.entries())if(!t.has(n[0]))return!1;for(const n of e.entries())if(!u(n[1],t.get(n[0])))return!1;return!0}(e,t);if(e instanceof Set&&t instanceof Set)return function(e,t){if(e.size!==t.size)return!1;for(const n of e.entries())if(!t.has(n[0]))return!1;return!0}(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return function(e,t){if(e.byteLength!==t.byteLength)return!1;const n=new DataView(e.buffer),r=new DataView(t.buffer);let o=e.byteLength;for(;o--;)if(n.getUint8(o)!==r.getUint8(o))return!1;return!0}(e,t);if(a(e)&&a(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let e=n.length;0!=e--;)if(!Object.prototype.hasOwnProperty.call(t,n[e]))return!1;for(let r=n.length;0!=r--;){const o=n[r];if(!("_owner"===o&&e.$$typeof||u(e[o],t[o])))return!1}return!0}return!(!Number.isNaN(e)||!Number.isNaN(t))||e===t}var h=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],p=["bigint","boolean","null","number","string","symbol","undefined"];function d(e){const t=Object.prototype.toString.call(e).slice(8,-1);return/HTML\w+Element/.test(t)?"HTMLElement":(n=t,h.includes(n)?t:void 0);var n}function f(e){return t=>d(t)===e}function g(e){return t=>typeof t===e}var m=["innerHTML","ownerDocument","style","attributes","nodeValue"];function y(e){if(null===e)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}if(y.array(e))return"Array";if(y.plainFunction(e))return"Function";return d(e)||"Object"}y.array=Array.isArray,y.arrayOf=(e,t)=>!(!y.array(e)&&!y.function(t))&&e.every((e=>t(e))),y.asyncGeneratorFunction=e=>"AsyncGeneratorFunction"===d(e),y.asyncFunction=f("AsyncFunction"),y.bigint=g("bigint"),y.boolean=e=>!0===e||!1===e,y.date=f("Date"),y.defined=e=>!y.undefined(e),y.domElement=e=>y.object(e)&&!y.plainObject(e)&&1===e.nodeType&&y.string(e.nodeName)&&m.every((t=>t in e)),y.empty=e=>y.string(e)&&0===e.length||y.array(e)&&0===e.length||y.object(e)&&!y.map(e)&&!y.set(e)&&0===Object.keys(e).length||y.set(e)&&0===e.size||y.map(e)&&0===e.size,y.error=f("Error"),y.function=g("function"),y.generator=e=>y.iterable(e)&&y.function(e.next)&&y.function(e.throw),y.generatorFunction=f("GeneratorFunction"),y.instanceOf=(e,t)=>!(!e||!t)&&Object.getPrototypeOf(e)===t.prototype,y.iterable=e=>!y.nullOrUndefined(e)&&y.function(e[Symbol.iterator]),y.map=f("Map"),y.nan=e=>Number.isNaN(e),y.null=e=>null===e,y.nullOrUndefined=e=>y.null(e)||y.undefined(e),y.number=e=>g("number")(e)&&!y.nan(e),y.numericString=e=>y.string(e)&&e.length>0&&!Number.isNaN(Number(e)),y.object=e=>!y.nullOrUndefined(e)&&(y.function(e)||"object"==typeof e),y.oneOf=(e,t)=>!!y.array(e)&&e.indexOf(t)>-1,y.plainFunction=f("Function"),y.plainObject=e=>{if("Object"!==d(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.getPrototypeOf({})},y.primitive=e=>{return y.null(e)||(t=typeof e,p.includes(t));var t},y.promise=f("Promise"),y.propertyOf=(e,t,n)=>{if(!y.object(e)||!t)return!1;const r=e[t];return y.function(n)?n(r):y.defined(r)},y.regexp=f("RegExp"),y.set=f("Set"),y.string=g("string"),y.symbol=g("symbol"),y.undefined=g("undefined"),y.weakMap=f("WeakMap"),y.weakSet=f("WeakSet");var v=y;function b(e,t,n){const{actual:r,key:o,previous:i,type:s}=n,a=O(e,o),l=O(t,o);let c=[a,l].every(v.number)&&("increased"===s?a<l:a>l);return v.undefined(r)||(c=c&&l===r),v.undefined(i)||(c=c&&a===i),c}function _(e,t,n){const{key:r,type:o,value:i}=n,s=O(e,r),a=O(t,r),l="added"===o?s:a,c="added"===o?a:s;return v.nullOrUndefined(i)?[s,a].every(v.array)?!c.every(S(l)):[s,a].every(v.plainObject)?function(e,t){return t.some((t=>!e.includes(t)))}(Object.keys(l),Object.keys(c)):![s,a].every((e=>v.primitive(e)&&v.defined(e)))&&("added"===o?!v.defined(s)&&v.defined(a):v.defined(s)&&!v.defined(a)):v.defined(l)?!(!v.array(l)&&!v.plainObject(l))&&function(e,t,n){return!!C(e,t)&&([e,t].every(v.array)?!e.some(T(n))&&t.some(T(n)):[e,t].every(v.plainObject)?!Object.entries(e).some(w(n))&&Object.entries(t).some(w(n)):t===n)}(l,c,i):u(c,i)}function E(e,t,{key:n}={}){let r=O(e,n),o=O(t,n);if(!C(r,o))throw new TypeError("Inputs have different types");if(!function(...e){return e.every((e=>v.string(e)||v.array(e)||v.plainObject(e)))}(r,o))throw new TypeError("Inputs don't have length");return[r,o].every(v.plainObject)&&(r=Object.keys(r),o=Object.keys(o)),[r,o]}function w(e){return([t,n])=>v.array(e)?u(e,n)||e.some((e=>u(e,n)||v.array(n)&&S(n)(e))):v.plainObject(e)&&e[t]?!!e[t]&&u(e[t],n):u(e,n)}function T(e){return t=>v.array(e)?e.some((e=>u(e,t)||v.array(t)&&S(t)(e))):u(e,t)}function k(e,t){return v.array(e)?e.some((e=>u(e,t))):u(e,t)}function S(e){return t=>e.some((e=>u(e,t)))}function C(...e){return e.every(v.array)||e.every(v.number)||e.every(v.plainObject)||e.every(v.string)}function O(e,t){return v.plainObject(e)||v.array(e)?v.string(t)?t.split(".").reduce(((e,t)=>e&&e[t]),e):v.number(t)?e[t]:e:e}function I(e,t){if([e,t].some(v.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every((e=>v.plainObject(e)||v.array(e))))throw new Error("Expected plain objects or array");return{added:(n,r)=>{try{return _(e,t,{key:n,type:"added",value:r})}catch{return!1}},changed:(n,r,o)=>{try{const i=O(e,n),s=O(t,n),a=v.defined(r),l=v.defined(o);if(a||l){const e=l?k(o,i):!k(r,i),t=k(r,s);return e&&t}return[i,s].every(v.array)||[i,s].every(v.plainObject)?!u(i,s):i!==s}catch{return!1}},changedFrom:(n,r,o)=>{if(!v.defined(n))return!1;try{const i=O(e,n),s=O(t,n),a=v.defined(o);return k(r,i)&&(a?k(o,s):!a)}catch{return!1}},decreased:(n,r,o)=>{if(!v.defined(n))return!1;try{return b(e,t,{key:n,actual:r,previous:o,type:"decreased"})}catch{return!1}},emptied:n=>{try{const[r,o]=E(e,t,{key:n});return!!r.length&&!o.length}catch{return!1}},filled:n=>{try{const[r,o]=E(e,t,{key:n});return!r.length&&!!o.length}catch{return!1}},increased:(n,r,o)=>{if(!v.defined(n))return!1;try{return b(e,t,{key:n,actual:r,previous:o,type:"increased"})}catch{return!1}},removed:(n,r)=>{try{return _(e,t,{key:n,type:"removed",value:r})}catch{return!1}}}}var x=n(1139),R=n(9794),N=n(9514),A=n.n(N),$=n(3431),D=n(2743),M=n.n(D),P=n(9067),L=n.n(P),B="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,F=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(B&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}(),j=B&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),F))}};function U(e){return e&&"[object Function]"==={}.toString.call(e)}function H(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function V(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function W(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=H(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/(auto|scroll|overlay)/.test(n+o+r)?e:W(V(e))}function G(e){return e&&e.referenceNode?e.referenceNode:e}var z=B&&!(!window.MSInputMethodContext||!document.documentMode),q=B&&/MSIE 10/.test(navigator.userAgent);function Y(e){return 11===e?z:10===e?q:z||q}function X(e){if(!e)return document.documentElement;for(var t=Y(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===H(n,"position")?X(n):n:e?e.ownerDocument.documentElement:document.documentElement}function K(e){return null!==e.parentNode?K(e.parentNode):e}function J(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,o=n?t:e,i=document.createRange();i.setStart(r,0),i.setEnd(o,0);var s,a,l=i.commonAncestorContainer;if(e!==l&&t!==l||r.contains(o))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&X(s.firstElementChild)!==s?X(l):l;var c=K(e);return c.host?J(c.host,t):J(e,K(t).host)}function Z(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||r)[t]}return e[t]}function Q(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+r+"Width"])}function ee(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],Y(10)?parseInt(n["offset"+e])+parseInt(r["margin"+("Height"===e?"Top":"Left")])+parseInt(r["margin"+("Height"===e?"Bottom":"Right")]):0)}function te(e){var t=e.body,n=e.documentElement,r=Y(10)&&getComputedStyle(n);return{height:ee("Height",t,n,r),width:ee("Width",t,n,r)}}var ne=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),re=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function ie(e){return oe({},e,{right:e.left+e.width,bottom:e.top+e.height})}function se(e){var t={};try{if(Y(10)){t=e.getBoundingClientRect();var n=Z(e,"top"),r=Z(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(e){}var o={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},i="HTML"===e.nodeName?te(e.ownerDocument):{},s=i.width||e.clientWidth||o.width,a=i.height||e.clientHeight||o.height,l=e.offsetWidth-s,c=e.offsetHeight-a;if(l||c){var u=H(e);l-=Q(u,"x"),c-=Q(u,"y"),o.width-=l,o.height-=c}return ie(o)}function ae(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Y(10),o="HTML"===t.nodeName,i=se(e),s=se(t),a=W(e),l=H(t),c=parseFloat(l.borderTopWidth),u=parseFloat(l.borderLeftWidth);n&&o&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var h=ie({top:i.top-s.top-c,left:i.left-s.left-u,width:i.width,height:i.height});if(h.marginTop=0,h.marginLeft=0,!r&&o){var p=parseFloat(l.marginTop),d=parseFloat(l.marginLeft);h.top-=c-p,h.bottom-=c-p,h.left-=u-d,h.right-=u-d,h.marginTop=p,h.marginLeft=d}return(r&&!n?t.contains(a):t===a&&"BODY"!==a.nodeName)&&(h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Z(t,"top"),o=Z(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=o*i,e.right+=o*i,e}(h,t)),h}function le(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===H(e,"position"))return!0;var n=V(e);return!!n&&le(n)}function ce(e){if(!e||!e.parentElement||Y())return document.documentElement;for(var t=e.parentElement;t&&"none"===H(t,"transform");)t=t.parentElement;return t||document.documentElement}function ue(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i={top:0,left:0},s=o?ce(e):J(e,G(t));if("viewport"===r)i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,r=ae(e,n),o=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:Z(n),a=t?0:Z(n,"left");return ie({top:s-r.top+r.marginTop,left:a-r.left+r.marginLeft,width:o,height:i})}(s,o);else{var a=void 0;"scrollParent"===r?"BODY"===(a=W(V(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===r?e.ownerDocument.documentElement:r;var l=ae(a,s,o);if("HTML"!==a.nodeName||le(s))i=l;else{var c=te(e.ownerDocument),u=c.height,h=c.width;i.top+=l.top-l.marginTop,i.bottom=u+l.top,i.left+=l.left-l.marginLeft,i.right=h+l.left}}var p="number"==typeof(n=n||0);return i.left+=p?n:n.left||0,i.top+=p?n:n.top||0,i.right-=p?n:n.right||0,i.bottom-=p?n:n.bottom||0,i}function he(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=ue(n,r,i,o),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},l=Object.keys(a).map((function(e){return oe({key:e},a[e],{area:(t=a[e],t.width*t.height)});var t})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight})),u=c.length>0?c[0].key:l[0].key,h=e.split("-")[1];return u+(h?"-"+h:"")}function pe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ae(n,r?ce(t):J(t,G(n)),r)}function de(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function fe(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function ge(e,t,n){n=n.split("-")[0];var r=de(e),o={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),s=i?"top":"left",a=i?"left":"top",l=i?"height":"width",c=i?"width":"height";return o[s]=t[s]+t[l]/2-r[l]/2,o[a]=n===a?t[a]-r[c]:t[fe(a)],o}function me(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function ye(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e[t]===n}));var r=me(e,(function(e){return e[t]===n}));return e.indexOf(r)}(e,"name",n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&U(n)&&(t.offsets.popper=ie(t.offsets.popper),t.offsets.reference=ie(t.offsets.reference),t=n(t,e))})),t}function ve(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=pe(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=he(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=ge(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=ye(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function be(e,t){return e.some((function(e){var n=e.name;return e.enabled&&n===t}))}function _e(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length;r++){var o=t[r],i=o?""+o+n:e;if(void 0!==document.body.style[i])return i}return null}function Ee(){return this.state.isDestroyed=!0,be(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[_e("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function we(e){var t=e.ownerDocument;return t?t.defaultView:window}function Te(e,t,n,r){var o="BODY"===e.nodeName,i=o?e.ownerDocument.defaultView:e;i.addEventListener(t,n,{passive:!0}),o||Te(W(i.parentNode),t,n,r),r.push(i)}function ke(e,t,n,r){n.updateBound=r,we(e).addEventListener("resize",n.updateBound,{passive:!0});var o=W(e);return Te(o,"scroll",n.updateBound,n.scrollParents),n.scrollElement=o,n.eventsEnabled=!0,n}function Se(){this.state.eventsEnabled||(this.state=ke(this.reference,this.options,this.state,this.scheduleUpdate))}function Ce(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,we(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach((function(e){e.removeEventListener("scroll",t.updateBound)})),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function Oe(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Ie(e,t){Object.keys(t).forEach((function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&Oe(t[n])&&(r="px"),e.style[n]=t[n]+r}))}var xe=B&&/Firefox/i.test(navigator.userAgent);function Re(e,t,n){var r=me(e,(function(e){return e.name===t})),o=!!r&&e.some((function(e){return e.name===n&&e.enabled&&e.order<r.order}));if(!o){var i="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return o}var Ne=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Ae=Ne.slice(3);function $e(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ae.indexOf(e),r=Ae.slice(n+1).concat(Ae.slice(0,n));return t?r.reverse():r}var De={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var o=e.offsets,i=o.reference,s=o.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",u={start:re({},l,i[l]),end:re({},l,i[l]+i[c]-s[c])};e.offsets.popper=oe({},s,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n,r=t.offset,o=e.placement,i=e.offsets,s=i.popper,a=i.reference,l=o.split("-")[0];return n=Oe(+r)?[+r,0]:function(e,t,n,r){var o=[0,0],i=-1!==["right","left"].indexOf(r),s=e.split(/(\+|\-)/).map((function(e){return e.trim()})),a=s.indexOf(me(s,(function(e){return-1!==e.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return(c=c.map((function(e,r){var o=(1===r?!i:i)?"height":"width",s=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,r){var o=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+o[1],s=o[2];return i?0===s.indexOf("%")?ie("%p"===s?n:r)[t]/100*i:"vh"===s||"vw"===s?("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i:i:e}(e,o,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,r){Oe(n)&&(o[t]+=n*("-"===e[r-1]?-1:1))}))})),o}(r,s,a,l),"left"===l?(s.top+=n[0],s.left-=n[1]):"right"===l?(s.top+=n[0],s.left+=n[1]):"top"===l?(s.left+=n[0],s.top-=n[1]):"bottom"===l&&(s.left+=n[0],s.top+=n[1]),e.popper=s,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||X(e.instance.popper);e.instance.reference===n&&(n=X(n));var r=_e("transform"),o=e.instance.popper.style,i=o.top,s=o.left,a=o[r];o.top="",o.left="",o[r]="";var l=ue(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);o.top=i,o.left=s,o[r]=a,t.boundaries=l;var c=t.priority,u=e.offsets.popper,h={primary:function(e){var n=u[e];return u[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(u[e],l[e])),re({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=u[n];return u[e]>l[e]&&!t.escapeWithReference&&(r=Math.min(u[n],l[e]-("right"===e?u.width:u.height))),re({},n,r)}};return c.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";u=oe({},u,h[t](e))})),e.offsets.popper=u,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,o=e.placement.split("-")[0],i=Math.floor,s=-1!==["top","bottom"].indexOf(o),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<i(r[l])&&(e.offsets.popper[l]=i(r[l])-n[c]),n[l]>i(r[a])&&(e.offsets.popper[l]=i(r[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!Re(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var o=e.placement.split("-")[0],i=e.offsets,s=i.popper,a=i.reference,l=-1!==["left","right"].indexOf(o),c=l?"height":"width",u=l?"Top":"Left",h=u.toLowerCase(),p=l?"left":"top",d=l?"bottom":"right",f=de(r)[c];a[d]-f<s[h]&&(e.offsets.popper[h]-=s[h]-(a[d]-f)),a[h]+f>s[d]&&(e.offsets.popper[h]+=a[h]+f-s[d]),e.offsets.popper=ie(e.offsets.popper);var g=a[h]+a[c]/2-f/2,m=H(e.instance.popper),y=parseFloat(m["margin"+u]),v=parseFloat(m["border"+u+"Width"]),b=g-e.offsets.popper[h]-y-v;return b=Math.max(Math.min(s[c]-f,b),0),e.arrowElement=r,e.offsets.arrow=(re(n={},h,Math.round(b)),re(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(be(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=ue(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),r=e.placement.split("-")[0],o=fe(r),i=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case"flip":s=[r,o];break;case"clockwise":s=$e(r);break;case"counterclockwise":s=$e(r,!0);break;default:s=t.behavior}return s.forEach((function(a,l){if(r!==a||s.length===l+1)return e;r=e.placement.split("-")[0],o=fe(r);var c=e.offsets.popper,u=e.offsets.reference,h=Math.floor,p="left"===r&&h(c.right)>h(u.left)||"right"===r&&h(c.left)<h(u.right)||"top"===r&&h(c.bottom)>h(u.top)||"bottom"===r&&h(c.top)<h(u.bottom),d=h(c.left)<h(n.left),f=h(c.right)>h(n.right),g=h(c.top)<h(n.top),m=h(c.bottom)>h(n.bottom),y="left"===r&&d||"right"===r&&f||"top"===r&&g||"bottom"===r&&m,v=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(v&&"start"===i&&d||v&&"end"===i&&f||!v&&"start"===i&&g||!v&&"end"===i&&m),_=!!t.flipVariationsByContent&&(v&&"start"===i&&f||v&&"end"===i&&d||!v&&"start"===i&&m||!v&&"end"===i&&g),E=b||_;(p||y||E)&&(e.flipped=!0,(p||y)&&(r=s[l+1]),E&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=oe({},e.offsets.popper,ge(e.instance.popper,e.offsets.reference,e.placement)),e=ye(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,o=r.popper,i=r.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return o[s?"left":"top"]=i[n]-(a?o[s?"width":"height"]:0),e.placement=fe(t),e.offsets.popper=ie(o),e}},hide:{order:800,enabled:!0,fn:function(e){if(!Re(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=me(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,o=e.offsets.popper,i=me(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s,a,l=void 0!==i?i:t.gpuAcceleration,c=X(e.instance.popper),u=se(c),h={position:o.position},p=function(e,t){var n=e.offsets,r=n.popper,o=n.reference,i=Math.round,s=Math.floor,a=function(e){return e},l=i(o.width),c=i(r.width),u=-1!==["left","right"].indexOf(e.placement),h=-1!==e.placement.indexOf("-"),p=t?u||h||l%2==c%2?i:s:a,d=t?i:a;return{left:p(l%2==1&&c%2==1&&!h&&t?r.left-1:r.left),top:d(r.top),bottom:d(r.bottom),right:p(r.right)}}(e,window.devicePixelRatio<2||!xe),d="bottom"===n?"top":"bottom",f="right"===r?"left":"right",g=_e("transform");if(a="bottom"===d?"HTML"===c.nodeName?-c.clientHeight+p.bottom:-u.height+p.bottom:p.top,s="right"===f?"HTML"===c.nodeName?-c.clientWidth+p.right:-u.width+p.right:p.left,l&&g)h[g]="translate3d("+s+"px, "+a+"px, 0)",h[d]=0,h[f]=0,h.willChange="transform";else{var m="bottom"===d?-1:1,y="right"===f?-1:1;h[d]=a*m,h[f]=s*y,h.willChange=d+", "+f}var v={"x-placement":e.placement};return e.attributes=oe({},v,e.attributes),e.styles=oe({},h,e.styles),e.arrowStyles=oe({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Ie(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Ie(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,o){var i=pe(o,t,e,n.positionFixed),s=he(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),Ie(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}},Me={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:De},Pe=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=j(this.update.bind(this)),this.options=oe({},e.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(oe({},e.Defaults.modifiers,o.modifiers)).forEach((function(t){r.options.modifiers[t]=oe({},e.Defaults.modifiers[t]||{},o.modifiers?o.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return oe({name:e},r.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&U(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)})),this.update();var i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}return ne(e,[{key:"update",value:function(){return ve.call(this)}},{key:"destroy",value:function(){return Ee.call(this)}},{key:"enableEventListeners",value:function(){return Se.call(this)}},{key:"disableEventListeners",value:function(){return Ce.call(this)}}]),e}();Pe.Utils=("undefined"!=typeof window?window:n.g).PopperUtils,Pe.placements=Ne,Pe.Defaults=Me;const Le=Pe;var Be=["innerHTML","ownerDocument","style","attributes","nodeValue"],Fe=["Array","ArrayBuffer","AsyncFunction","AsyncGenerator","AsyncGeneratorFunction","Date","Error","Function","Generator","GeneratorFunction","HTMLElement","Map","Object","Promise","RegExp","Set","WeakMap","WeakSet"],je=["bigint","boolean","null","number","string","symbol","undefined"];function Ue(e){var t,n=Object.prototype.toString.call(e).slice(8,-1);return/HTML\w+Element/.test(n)?"HTMLElement":(t=n,Fe.includes(t)?n:void 0)}function He(e){return function(t){return Ue(t)===e}}function Ve(e){return function(t){return typeof t===e}}function We(e){if(null===e)return"null";switch(typeof e){case"bigint":return"bigint";case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"symbol":return"symbol";case"undefined":return"undefined"}return We.array(e)?"Array":We.plainFunction(e)?"Function":Ue(e)||"Object"}We.array=Array.isArray,We.arrayOf=function(e,t){return!(!We.array(e)&&!We.function(t))&&e.every((function(e){return t(e)}))},We.asyncGeneratorFunction=function(e){return"AsyncGeneratorFunction"===Ue(e)},We.asyncFunction=He("AsyncFunction"),We.bigint=Ve("bigint"),We.boolean=function(e){return!0===e||!1===e},We.date=He("Date"),We.defined=function(e){return!We.undefined(e)},We.domElement=function(e){return We.object(e)&&!We.plainObject(e)&&1===e.nodeType&&We.string(e.nodeName)&&Be.every((function(t){return t in e}))},We.empty=function(e){return We.string(e)&&0===e.length||We.array(e)&&0===e.length||We.object(e)&&!We.map(e)&&!We.set(e)&&0===Object.keys(e).length||We.set(e)&&0===e.size||We.map(e)&&0===e.size},We.error=He("Error"),We.function=Ve("function"),We.generator=function(e){return We.iterable(e)&&We.function(e.next)&&We.function(e.throw)},We.generatorFunction=He("GeneratorFunction"),We.instanceOf=function(e,t){return!(!e||!t)&&Object.getPrototypeOf(e)===t.prototype},We.iterable=function(e){return!We.nullOrUndefined(e)&&We.function(e[Symbol.iterator])},We.map=He("Map"),We.nan=function(e){return Number.isNaN(e)},We.null=function(e){return null===e},We.nullOrUndefined=function(e){return We.null(e)||We.undefined(e)},We.number=function(e){return Ve("number")(e)&&!We.nan(e)},We.numericString=function(e){return We.string(e)&&e.length>0&&!Number.isNaN(Number(e))},We.object=function(e){return!We.nullOrUndefined(e)&&(We.function(e)||"object"==typeof e)},We.oneOf=function(e,t){return!!We.array(e)&&e.indexOf(t)>-1},We.plainFunction=He("Function"),We.plainObject=function(e){if("Object"!==Ue(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.getPrototypeOf({})},We.primitive=function(e){return We.null(e)||(t=typeof e,je.includes(t));var t},We.promise=He("Promise"),We.propertyOf=function(e,t,n){if(!We.object(e)||!t)return!1;var r=e[t];return We.function(n)?n(r):We.defined(r)},We.regexp=He("RegExp"),We.set=He("Set"),We.string=Ve("string"),We.symbol=Ve("symbol"),We.undefined=Ve("undefined"),We.weakMap=He("WeakMap"),We.weakSet=He("WeakSet");const Ge=We;function ze(e){return function(t){return typeof t===e}}var qe=ze("function"),Ye=function(e){return"RegExp"===Object.prototype.toString.call(e).slice(8,-1)},Xe=function(e){return!Ke(e)&&!function(e){return null===e}(e)&&(qe(e)||"object"==typeof e)},Ke=ze("undefined"),Je=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};function Ze(e,t){if(e===t)return!0;if(e&&Xe(e)&&t&&Xe(t)){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)&&Array.isArray(t))return function(e,t){var n=e.length;if(n!==t.length)return!1;for(var r=n;0!=r--;)if(!Ze(e[r],t[r]))return!1;return!0}(e,t);if(e instanceof Map&&t instanceof Map)return function(e,t){var n,r,o,i;if(e.size!==t.size)return!1;try{for(var s=Je(e.entries()),a=s.next();!a.done;a=s.next()){var l=a.value;if(!t.has(l[0]))return!1}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}try{for(var c=Je(e.entries()),u=c.next();!u.done;u=c.next())if(!Ze((l=u.value)[1],t.get(l[0])))return!1}catch(e){o={error:e}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}return!0}(e,t);if(e instanceof Set&&t instanceof Set)return function(e,t){var n,r;if(e.size!==t.size)return!1;try{for(var o=Je(e.entries()),i=o.next();!i.done;i=o.next()){var s=i.value;if(!t.has(s[0]))return!1}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return!0}(e,t);if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e.buffer),r=new DataView(t.buffer),o=e.byteLength;o--;)if(n.getUint8(o)!==r.getUint8(o))return!1;return!0}(e,t);if(Ye(e)&&Ye(t))return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=n.length;0!=o--;)if(!Object.prototype.hasOwnProperty.call(t,n[o]))return!1;for(o=n.length;0!=o--;){var i=n[o];if(!("_owner"===i&&e.$$typeof||Ze(e[i],t[i])))return!1}return!0}return!(!Number.isNaN(e)||!Number.isNaN(t))||e===t}function Qe(e,t,n){var r=n.actual,o=n.key,i=n.previous,s=n.type,a=at(e,o),l=at(t,o),c=[a,l].every(Ge.number)&&("increased"===s?a<l:a>l);return Ge.undefined(r)||(c=c&&l===r),Ge.undefined(i)||(c=c&&a===i),c}function et(e,t,n){var r=n.key,o=n.type,i=n.value,s=at(e,r),a=at(t,r),l="added"===o?s:a,c="added"===o?a:s;return Ge.nullOrUndefined(i)?[s,a].every(Ge.array)?!c.every(it(l)):[s,a].every(Ge.plainObject)?function(e,t){return t.some((function(t){return!e.includes(t)}))}(Object.keys(l),Object.keys(c)):![s,a].every((function(e){return Ge.primitive(e)&&Ge.defined(e)}))&&("added"===o?!Ge.defined(s)&&Ge.defined(a):Ge.defined(s)&&!Ge.defined(a)):Ge.defined(l)?!(!Ge.array(l)&&!Ge.plainObject(l))&&function(e,t,n){return!!st(e,t)&&([e,t].every(Ge.array)?!e.some(rt(n))&&t.some(rt(n)):[e,t].every(Ge.plainObject)?!Object.entries(e).some(nt(n))&&Object.entries(t).some(nt(n)):t===n)}(l,c,i):Ze(c,i)}function tt(e,t,n){var r=(void 0===n?{}:n).key,o=at(e,r),i=at(t,r);if(!st(o,i))throw new TypeError("Inputs have different types");if(!function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every((function(e){return Ge.string(e)||Ge.array(e)||Ge.plainObject(e)}))}(o,i))throw new TypeError("Inputs don't have length");return[o,i].every(Ge.plainObject)&&(o=Object.keys(o),i=Object.keys(i)),[o,i]}function nt(e){return function(t){var n=t[0],r=t[1];return Ge.array(e)?Ze(e,r)||e.some((function(e){return Ze(e,r)||Ge.array(r)&&it(r)(e)})):Ge.plainObject(e)&&e[n]?!!e[n]&&Ze(e[n],r):Ze(e,r)}}function rt(e){return function(t){return Ge.array(e)?e.some((function(e){return Ze(e,t)||Ge.array(t)&&it(t)(e)})):Ze(e,t)}}function ot(e,t){return Ge.array(e)?e.some((function(e){return Ze(e,t)})):Ze(e,t)}function it(e){return function(t){return e.some((function(e){return Ze(e,t)}))}}function st(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.every(Ge.array)||e.every(Ge.number)||e.every(Ge.plainObject)||e.every(Ge.string)}function at(e,t){return Ge.plainObject(e)||Ge.array(e)?Ge.string(t)?t.split(".").reduce((function(e,t){return e&&e[t]}),e):Ge.number(t)?e[t]:e:e}function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(Object(n),!0).forEach((function(t){dt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_t(r.key),r)}}function pt(e,t,n){return t&&ht(e.prototype,t),n&&ht(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dt(e,t,n){return(t=_t(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ft(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mt(e,t)}function gt(e){return gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gt(e)}function mt(e,t){return mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mt(e,t)}function yt(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=gt(e);if(t){var o=gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vt(e)}(this,n)}}function _t(e){var t=function(e){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}var Et={flip:{padding:20},preventOverflow:{padding:10}};function wt(e,t,n){return function(e,t){if("function"!=typeof e)throw new TypeError("The typeValidator argument must be a function with the signature function(props, propName, componentName).");if(Boolean(t)&&"string"!=typeof t)throw new TypeError("The error message is optional, but must be a string if provided.")}(e,n),function(r,o,i){for(var s=arguments.length,a=new Array(s>3?s-3:0),l=3;l<s;l++)a[l-3]=arguments[l];return function(e,t,n,r){return"boolean"==typeof e?e:"function"==typeof e?e(t,n,r):!0===Boolean(e)&&Boolean(e)}(t,r,o,i)?function(e,t){return Object.hasOwnProperty.call(e,t)}(r,o)?e.apply(void 0,[r,o,i].concat(a)):function(e,t,n,r){return r?new Error(r):new Error("Required ".concat(e[t]," `").concat(t,"` was not specified in `").concat(n,"`."))}(r,o,i,n):e.apply(void 0,[r,o,i].concat(a))}}var Tt={INIT:"init",IDLE:"idle",OPENING:"opening",OPEN:"open",CLOSING:"closing",ERROR:"error"},kt=void 0!==A().createPortal;function St(){return!("undefined"==typeof window||!window.document||!window.document.createElement)}function Ct(){return"ontouchstart"in window&&/Mobi/.test(navigator.userAgent)}function Ot(e){var t=e.title,n=e.data,r=e.warn,o=void 0!==r&&r,i=e.debug,s=void 0!==i&&i,a=o?console.warn||console.error:console.log;s&&t&&n&&(console.groupCollapsed("%creact-floater: ".concat(t),"color: #9b00ff; font-weight: bold; font-size: 12px;"),Array.isArray(n)?n.forEach((function(e){Ge.plainObject(e)&&e.key?a.apply(console,[e.key,e.value]):a.apply(console,[e])})):a.apply(console,[n]),console.groupEnd())}function It(){}var xt=function(e){ft(n,e);var t=bt(n);function n(){return ut(this,n),t.apply(this,arguments)}return pt(n,[{key:"componentDidMount",value:function(){St()&&(this.node||this.appendNode(),kt||this.renderPortal())}},{key:"componentDidUpdate",value:function(){St()&&(kt||this.renderPortal())}},{key:"componentWillUnmount",value:function(){St()&&this.node&&(kt||A().unmountComponentAtNode(this.node),this.node&&this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=void 0))}},{key:"appendNode",value:function(){var e=this.props,t=e.id,n=e.zIndex;this.node||(this.node=document.createElement("div"),t&&(this.node.id=t),n&&(this.node.style.zIndex=n),document.body.appendChild(this.node))}},{key:"renderPortal",value:function(){if(!St())return null;var e=this.props,t=e.children,n=e.setRef;return this.node||this.appendNode(),kt?A().createPortal(t,this.node):(n(A().unstable_renderSubtreeIntoContainer(this,t.length>1?o().createElement("div",null,t):t[0],this.node)),null)}},{key:"renderReact16",value:function(){var e=this.props,t=e.hasChildren,n=e.placement,r=e.target;return t||r||"center"===n?this.renderPortal():null}},{key:"render",value:function(){return kt?this.renderReact16():null}}]),n}(o().Component);dt(xt,"propTypes",{children:L().oneOfType([L().element,L().array]),hasChildren:L().bool,id:L().oneOfType([L().string,L().number]),placement:L().string,setRef:L().func.isRequired,target:L().oneOfType([L().object,L().string]),zIndex:L().number});var Rt=function(e){ft(n,e);var t=bt(n);function n(){return ut(this,n),t.apply(this,arguments)}return pt(n,[{key:"parentStyle",get:function(){var e=this.props,t=e.placement,n=e.styles.arrow.length,r={pointerEvents:"none",position:"absolute",width:"100%"};return t.startsWith("top")?(r.bottom=0,r.left=0,r.right=0,r.height=n):t.startsWith("bottom")?(r.left=0,r.right=0,r.top=0,r.height=n):t.startsWith("left")?(r.right=0,r.top=0,r.bottom=0):t.startsWith("right")&&(r.left=0,r.top=0),r}},{key:"render",value:function(){var e,t=this.props,n=t.placement,r=t.setArrowRef,i=t.styles.arrow,s=i.color,a=i.display,l=i.length,c=i.margin,u=i.position,h=i.spread,p={display:a,position:u},d=h,f=l;return n.startsWith("top")?(e="0,0 ".concat(d/2,",").concat(f," ").concat(d,",0"),p.bottom=0,p.marginLeft=c,p.marginRight=c):n.startsWith("bottom")?(e="".concat(d,",").concat(f," ").concat(d/2,",0 0,").concat(f),p.top=0,p.marginLeft=c,p.marginRight=c):n.startsWith("left")?(f=h,e="0,0 ".concat(d=l,",").concat(f/2," 0,").concat(f),p.right=0,p.marginTop=c,p.marginBottom=c):n.startsWith("right")&&(f=h,e="".concat(d=l,",").concat(f," ").concat(d,",0 0,").concat(f/2),p.left=0,p.marginTop=c,p.marginBottom=c),o().createElement("div",{className:"__floater__arrow",style:this.parentStyle},o().createElement("span",{ref:r,style:p},o().createElement("svg",{width:d,height:f,version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o().createElement("polygon",{points:e,fill:s}))))}}]),n}(o().Component);dt(Rt,"propTypes",{placement:L().string.isRequired,setArrowRef:L().func.isRequired,styles:L().object.isRequired});var Nt=["color","height","width"];function At(e){var t=e.handleClick,n=e.styles,r=n.color,i=n.height,s=n.width,a=yt(n,Nt);return o().createElement("button",{"aria-label":"close",onClick:t,style:a,type:"button"},o().createElement("svg",{width:"".concat(s,"px"),height:"".concat(i,"px"),viewBox:"0 0 18 18",version:"1.1",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"xMidYMid"},o().createElement("g",null,o().createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:r}))))}function $t(e){var t=e.content,n=e.footer,r=e.handleClick,i=e.open,s=e.positionWrapper,a=e.showCloseButton,l=e.title,c=e.styles,u={content:o().isValidElement(t)?t:o().createElement("div",{className:"__floater__content",style:c.content},t)};return l&&(u.title=o().isValidElement(l)?l:o().createElement("div",{className:"__floater__title",style:c.title},l)),n&&(u.footer=o().isValidElement(n)?n:o().createElement("div",{className:"__floater__footer",style:c.footer},n)),!a&&!s||Ge.boolean(i)||(u.close=o().createElement(At,{styles:c.close,handleClick:r})),o().createElement("div",{className:"__floater__container",style:c.container},u.close,u.title,u.content,u.footer)}At.propTypes={handleClick:L().func.isRequired,styles:L().object.isRequired},$t.propTypes={content:L().node.isRequired,footer:L().node,handleClick:L().func.isRequired,open:L().bool,positionWrapper:L().bool.isRequired,showCloseButton:L().bool.isRequired,styles:L().object.isRequired,title:L().node};var Dt=function(e){ft(n,e);var t=bt(n);function n(){return ut(this,n),t.apply(this,arguments)}return pt(n,[{key:"style",get:function(){var e=this.props,t=e.disableAnimation,n=e.component,r=e.placement,o=e.hideArrow,i=e.status,s=e.styles,a=s.arrow.length,l=s.floater,c=s.floaterCentered,u=s.floaterClosing,h=s.floaterOpening,p=s.floaterWithAnimation,d=s.floaterWithComponent,f={};return o||(r.startsWith("top")?f.padding="0 0 ".concat(a,"px"):r.startsWith("bottom")?f.padding="".concat(a,"px 0 0"):r.startsWith("left")?f.padding="0 ".concat(a,"px 0 0"):r.startsWith("right")&&(f.padding="0 0 0 ".concat(a,"px"))),-1!==[Tt.OPENING,Tt.OPEN].indexOf(i)&&(f=ct(ct({},f),h)),i===Tt.CLOSING&&(f=ct(ct({},f),u)),i!==Tt.OPEN||t||(f=ct(ct({},f),p)),"center"===r&&(f=ct(ct({},f),c)),n&&(f=ct(ct({},f),d)),ct(ct({},l),f)}},{key:"render",value:function(){var e=this.props,t=e.component,n=e.handleClick,r=e.hideArrow,i=e.setFloaterRef,s=e.status,a={},l=["__floater"];return a.content=t?o().isValidElement(t)?o().cloneElement(t,{closeFn:n}):t({closeFn:n}):o().createElement($t,this.props),s===Tt.OPEN&&l.push("__floater__open"),r||(a.arrow=o().createElement(Rt,this.props)),o().createElement("div",{ref:i,className:l.join(" "),style:this.style},o().createElement("div",{className:"__floater__body"},a.content,a.arrow))}}]),n}(o().Component);dt(Dt,"propTypes",{component:L().oneOfType([L().func,L().element]),content:L().node,disableAnimation:L().bool.isRequired,footer:L().node,handleClick:L().func.isRequired,hideArrow:L().bool.isRequired,open:L().bool,placement:L().string.isRequired,positionWrapper:L().bool.isRequired,setArrowRef:L().func.isRequired,setFloaterRef:L().func.isRequired,showCloseButton:L().bool,status:L().string.isRequired,styles:L().object.isRequired,title:L().node});var Mt=function(e){ft(n,e);var t=bt(n);function n(){return ut(this,n),t.apply(this,arguments)}return pt(n,[{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.handleClick,i=t.handleMouseEnter,s=t.handleMouseLeave,a=t.setChildRef,l=t.setWrapperRef,c=t.style,u=t.styles;if(n)if(1===o().Children.count(n))if(o().isValidElement(n)){var h=Ge.function(n.type)?"innerRef":"ref";e=o().cloneElement(o().Children.only(n),dt({},h,a))}else e=o().createElement("span",null,n);else e=n;return e?o().createElement("span",{ref:l,style:ct(ct({},u),c),onClick:r,onMouseEnter:i,onMouseLeave:s},e):null}}]),n}(o().Component);dt(Mt,"propTypes",{children:L().node,handleClick:L().func.isRequired,handleMouseEnter:L().func.isRequired,handleMouseLeave:L().func.isRequired,setChildRef:L().func.isRequired,setWrapperRef:L().func.isRequired,style:L().object,styles:L().object.isRequired});var Pt={zIndex:100},Lt=["arrow","flip","offset"],Bt=["position","top","right","bottom","left"],Ft=function(e){ft(n,e);var t=bt(n);function n(e){var r;return ut(this,n),dt(vt(r=t.call(this,e)),"setArrowRef",(function(e){r.arrowRef=e})),dt(vt(r),"setChildRef",(function(e){r.childRef=e})),dt(vt(r),"setFloaterRef",(function(e){r.floaterRef=e})),dt(vt(r),"setWrapperRef",(function(e){r.wrapperRef=e})),dt(vt(r),"handleTransitionEnd",(function(){var e=r.state.status,t=r.props.callback;r.wrapperPopper&&r.wrapperPopper.instance.update(),r.setState({status:e===Tt.OPENING?Tt.OPEN:Tt.IDLE},(function(){var e=r.state.status;t(e===Tt.OPEN?"open":"close",r.props)}))})),dt(vt(r),"handleClick",(function(){var e=r.props,t=e.event,n=e.open;if(!Ge.boolean(n)){var o=r.state,i=o.positionWrapper,s=o.status;("click"===r.event||"hover"===r.event&&i)&&(Ot({title:"click",data:[{event:t,status:s===Tt.OPEN?"closing":"opening"}],debug:r.debug}),r.toggle())}})),dt(vt(r),"handleMouseEnter",(function(){var e=r.props,t=e.event,n=e.open;if(!Ge.boolean(n)&&!Ct()){var o=r.state.status;"hover"===r.event&&o===Tt.IDLE&&(Ot({title:"mouseEnter",data:[{key:"originalEvent",value:t}],debug:r.debug}),clearTimeout(r.eventDelayTimeout),r.toggle())}})),dt(vt(r),"handleMouseLeave",(function(){var e=r.props,t=e.event,n=e.eventDelay,o=e.open;if(!Ge.boolean(o)&&!Ct()){var i=r.state,s=i.status,a=i.positionWrapper;"hover"===r.event&&(Ot({title:"mouseLeave",data:[{key:"originalEvent",value:t}],debug:r.debug}),n?-1===[Tt.OPENING,Tt.OPEN].indexOf(s)||a||r.eventDelayTimeout||(r.eventDelayTimeout=setTimeout((function(){delete r.eventDelayTimeout,r.toggle()}),1e3*n)):r.toggle(Tt.IDLE))}})),r.state={currentPlacement:e.placement,needsUpdate:!1,positionWrapper:e.wrapperOptions.position&&!!e.target,status:Tt.INIT,statusWrapper:Tt.INIT},r._isMounted=!1,r.hasMounted=!1,St()&&window.addEventListener("load",(function(){r.popper&&r.popper.instance.update(),r.wrapperPopper&&r.wrapperPopper.instance.update()})),r}return pt(n,[{key:"componentDidMount",value:function(){if(St()){var e=this.state.positionWrapper,t=this.props,n=t.children,r=t.open,o=t.target;this._isMounted=!0,Ot({title:"init",data:{hasChildren:!!n,hasTarget:!!o,isControlled:Ge.boolean(r),positionWrapper:e,target:this.target,floater:this.floaterRef},debug:this.debug}),this.hasMounted||(this.initPopper(),this.hasMounted=!0),!n&&o&&Ge.boolean(r)}}},{key:"componentDidUpdate",value:function(e,t){if(St()){var n,r=this.props,o=r.autoOpen,i=r.open,s=r.target,a=r.wrapperOptions,l=function(e,t){if([e,t].some(Ge.nullOrUndefined))throw new Error("Missing required parameters");if(![e,t].every((function(e){return Ge.plainObject(e)||Ge.array(e)})))throw new Error("Expected plain objects or array");var n=function(n,r,o){try{var i=at(e,n),s=at(t,n),a=Ge.defined(r),l=Ge.defined(o);if(a||l){var c=l?ot(o,i):!ot(r,i),u=ot(r,s);return c&&u}return[i,s].every(Ge.array)||[i,s].every(Ge.plainObject)?!Ze(i,s):i!==s}catch(e){return!1}};return{added:function(n,r){try{return et(e,t,{key:n,type:"added",value:r})}catch(e){return!1}},changed:n,changedFrom:function(n,r,o){if(!Ge.defined(n))return!1;try{var i=at(e,n),s=at(t,n),a=Ge.defined(o);return ot(r,i)&&(a?ot(o,s):!a)}catch(e){return!1}},changedTo:function(e,t){return!!Ge.defined(e)&&n(e,t)},decreased:function(n,r,o){if(!Ge.defined(n))return!1;try{return Qe(e,t,{key:n,actual:r,previous:o,type:"decreased"})}catch(e){return!1}},emptied:function(n){try{var r=tt(e,t,{key:n}),o=r[0],i=r[1];return!!o.length&&!i.length}catch(e){return!1}},filled:function(n){try{var r=tt(e,t,{key:n}),o=r[0],i=r[1];return!o.length&&!!i.length}catch(e){return!1}},increased:function(n,r,o){if(!Ge.defined(n))return!1;try{return Qe(e,t,{key:n,actual:r,previous:o,type:"increased"})}catch(e){return!1}},removed:function(n,r){try{return et(e,t,{key:n,type:"removed",value:r})}catch(e){return!1}}}}(t,this.state),c=l.changedFrom,u=l.changed;e.open!==i&&(Ge.boolean(i)&&(n=i?Tt.OPENING:Tt.CLOSING),this.toggle(n)),e.wrapperOptions.position===a.position&&e.target===s||this.changeWrapperPosition(this.props),(u("status",Tt.IDLE)&&i||c("status",Tt.INIT,Tt.IDLE)&&o)&&this.toggle(Tt.OPEN),this.popper&&u("status",Tt.OPENING)&&this.popper.instance.update(),this.floaterRef&&(u("status",Tt.OPENING)||u("status",Tt.CLOSING))&&function(e,t,n){var r;r=function(o){n(o),function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.removeEventListener(t,n,r)}(e,t,r)},function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.addEventListener(t,n,r)}(e,t,r,arguments.length>3&&void 0!==arguments[3]&&arguments[3])}(this.floaterRef,"transitionend",this.handleTransitionEnd),u("needsUpdate",!0)&&this.rebuildPopper()}}},{key:"componentWillUnmount",value:function(){St()&&(this._isMounted=!1,this.popper&&this.popper.instance.destroy(),this.wrapperPopper&&this.wrapperPopper.instance.destroy())}},{key:"initPopper",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.target,n=this.state.positionWrapper,r=this.props,o=r.disableFlip,i=r.getPopper,s=r.hideArrow,a=r.offset,l=r.placement,c=r.wrapperOptions,u="top"===l||"bottom"===l?"flip":["right","bottom-end","top-end","left","top-start","bottom-start"];if("center"===l)this.setState({status:Tt.IDLE});else if(t&&this.floaterRef){var h=this.options,p=h.arrow,d=h.flip,f=h.offset,g=yt(h,Lt);new Le(t,this.floaterRef,{placement:l,modifiers:ct({arrow:ct({enabled:!s,element:this.arrowRef},p),flip:ct({enabled:!o,behavior:u},d),offset:ct({offset:"0, ".concat(a,"px")},f)},g),onCreate:function(t){var n;e.popper=t,null!==(n=e.floaterRef)&&void 0!==n&&n.isConnected?(i(t,"floater"),e._isMounted&&e.setState({currentPlacement:t.placement,status:Tt.IDLE}),l!==t.placement&&setTimeout((function(){t.instance.update()}),1)):e.setState({needsUpdate:!0})},onUpdate:function(t){e.popper=t;var n=e.state.currentPlacement;e._isMounted&&t.placement!==n&&e.setState({currentPlacement:t.placement})}})}if(n){var m=Ge.undefined(c.offset)?0:c.offset;new Le(this.target,this.wrapperRef,{placement:c.placement||l,modifiers:{arrow:{enabled:!1},offset:{offset:"0, ".concat(m,"px")},flip:{enabled:!1}},onCreate:function(t){e.wrapperPopper=t,e._isMounted&&e.setState({statusWrapper:Tt.IDLE}),i(t,"wrapper"),l!==t.placement&&setTimeout((function(){t.instance.update()}),1)}})}}},{key:"rebuildPopper",value:function(){var e=this;this.floaterRefInterval=setInterval((function(){var t;null!==(t=e.floaterRef)&&void 0!==t&&t.isConnected&&(clearInterval(e.floaterRefInterval),e.setState({needsUpdate:!1}),e.initPopper())}),50)}},{key:"changeWrapperPosition",value:function(e){var t=e.target,n=e.wrapperOptions;this.setState({positionWrapper:n.position&&!!t})}},{key:"toggle",value:function(e){var t=this.state.status===Tt.OPEN?Tt.CLOSING:Tt.OPENING;Ge.undefined(e)||(t=e),this.setState({status:t})}},{key:"debug",get:function(){return this.props.debug||St()&&"ReactFloaterDebug"in window&&!!window.ReactFloaterDebug}},{key:"event",get:function(){var e=this.props,t=e.disableHoverToClick,n=e.event;return"hover"===n&&Ct()&&!t?"click":n}},{key:"options",get:function(){var e=this.props.options;return M()(Et,e||{})}},{key:"styles",get:function(){var e,t=this,n=this.state,r=n.status,o=n.positionWrapper,i=n.statusWrapper,s=this.props.styles,a=M()(function(e){var t=M()(Pt,e.options||{});return{wrapper:{cursor:"help",display:"inline-flex",flexDirection:"column",zIndex:t.zIndex},wrapperPosition:{left:-1e3,position:"absolute",top:-1e3,visibility:"hidden"},floater:{display:"inline-block",filter:"drop-shadow(0 0 3px rgba(0, 0, 0, 0.3))",maxWidth:300,opacity:0,position:"relative",transition:"opacity 0.3s",visibility:"hidden",zIndex:t.zIndex},floaterOpening:{opacity:1,visibility:"visible"},floaterWithAnimation:{opacity:1,transition:"opacity 0.3s, transform 0.2s",visibility:"visible"},floaterWithComponent:{maxWidth:"100%"},floaterClosing:{opacity:0,visibility:"visible"},floaterCentered:{left:"50%",position:"fixed",top:"50%",transform:"translate(-50%, -50%)"},container:{backgroundColor:"#fff",color:"#666",minHeight:60,minWidth:200,padding:20,position:"relative",zIndex:10},title:{borderBottom:"1px solid #555",color:"#555",fontSize:18,marginBottom:5,paddingBottom:6,paddingRight:18},content:{fontSize:15},close:{backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",fontSize:0,height:15,outline:"none",padding:10,position:"absolute",right:0,top:0,width:15,WebkitAppearance:"none"},footer:{borderTop:"1px solid #ccc",fontSize:13,marginTop:10,paddingTop:5},arrow:{color:"#fff",display:"inline-flex",length:16,margin:8,position:"absolute",spread:32},options:t}}(s),s);if(o&&(e=-1===[Tt.IDLE].indexOf(r)||-1===[Tt.IDLE].indexOf(i)?a.wrapperPosition:this.wrapperPopper.styles,a.wrapper=ct(ct({},a.wrapper),e)),this.target){var l=window.getComputedStyle(this.target);this.wrapperStyles?a.wrapper=ct(ct({},a.wrapper),this.wrapperStyles):-1===["relative","static"].indexOf(l.position)&&(this.wrapperStyles={},o||(Bt.forEach((function(e){t.wrapperStyles[e]=l[e]})),a.wrapper=ct(ct({},a.wrapper),this.wrapperStyles),this.target.style.position="relative",this.target.style.top="auto",this.target.style.right="auto",this.target.style.bottom="auto",this.target.style.left="auto"))}return a}},{key:"target",get:function(){if(!St())return null;var e=this.props.target;return e?Ge.domElement(e)?e:document.querySelector(e):this.childRef||this.wrapperRef}},{key:"render",value:function(){var e=this.state,t=e.currentPlacement,n=e.positionWrapper,r=e.status,i=this.props,s=i.children,a=i.component,l=i.content,c=i.disableAnimation,u=i.footer,h=i.hideArrow,p=i.id,d=i.open,f=i.showCloseButton,g=i.style,m=i.target,y=i.title,v=o().createElement(Mt,{handleClick:this.handleClick,handleMouseEnter:this.handleMouseEnter,handleMouseLeave:this.handleMouseLeave,setChildRef:this.setChildRef,setWrapperRef:this.setWrapperRef,style:g,styles:this.styles.wrapper},s),b={};return n?b.wrapperInPortal=v:b.wrapperAsChildren=v,o().createElement("span",null,o().createElement(xt,{hasChildren:!!s,id:p,placement:t,setRef:this.setFloaterRef,target:m,zIndex:this.styles.options.zIndex},o().createElement(Dt,{component:a,content:l,disableAnimation:c,footer:u,handleClick:this.handleClick,hideArrow:h||"center"===t,open:d,placement:t,positionWrapper:n,setArrowRef:this.setArrowRef,setFloaterRef:this.setFloaterRef,showCloseButton:f,status:r,styles:this.styles,title:y}),b.wrapperInPortal),b.wrapperAsChildren)}}]),n}(o().Component);dt(Ft,"propTypes",{autoOpen:L().bool,callback:L().func,children:L().node,component:wt(L().oneOfType([L().func,L().element]),(function(e){return!e.content})),content:wt(L().node,(function(e){return!e.component})),debug:L().bool,disableAnimation:L().bool,disableFlip:L().bool,disableHoverToClick:L().bool,event:L().oneOf(["hover","click"]),eventDelay:L().number,footer:L().node,getPopper:L().func,hideArrow:L().bool,id:L().oneOfType([L().string,L().number]),offset:L().number,open:L().bool,options:L().object,placement:L().oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto","center"]),showCloseButton:L().bool,style:L().object,styles:L().object,target:L().oneOfType([L().object,L().string]),title:L().node,wrapperOptions:L().shape({offset:L().number,placement:L().oneOf(["top","top-start","top-end","bottom","bottom-start","bottom-end","left","left-start","left-end","right","right-start","right-end","auto"]),position:L().bool})}),dt(Ft,"defaultProps",{autoOpen:!1,callback:It,debug:!1,disableAnimation:!1,disableFlip:!1,disableHoverToClick:!1,event:"click",eventDelay:.4,getPopper:It,hideArrow:!1,offset:15,placement:"bottom",showCloseButton:!1,styles:{},target:null,wrapperOptions:{position:!1}});var jt=Object.defineProperty,Ut=(e,t,n)=>((e,t,n)=>t in e?jt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!=typeof t?t+"":t,n),Ht="start",Vt="stop",Wt="reset",Gt="prev",zt="next",qt="close",Yt="skip",Xt="update",Kt="step:after",Jt="error:target_not_found",Zt={INIT:"init",READY:"ready",BEACON:"beacon",TOOLTIP:"tooltip",COMPLETE:"complete",ERROR:"error"},Qt={IDLE:"idle",READY:"ready",WAITING:"waiting",RUNNING:"running",PAUSED:"paused",SKIPPED:"skipped",FINISHED:"finished",ERROR:"error"};function en(){var e;return!("undefined"==typeof window||!(null==(e=window.document)?void 0:e.createElement))}function tn(e){return e?e.getBoundingClientRect():null}function nn(e=!1){const{body:t,documentElement:n}=document;if(!t||!n)return 0;if(e){const e=[t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight].sort(((e,t)=>e-t)),r=Math.floor(e.length/2);return e.length%2==0?(e[r-1]+e[r])/2:e[r]}return Math.max(t.scrollHeight,t.offsetHeight,n.clientHeight,n.scrollHeight,n.offsetHeight)}function rn(e){if("string"==typeof e)try{return document.querySelector(e)}catch(e){return console.error(e),null}return e}function on(e,t,n){if(!e)return ln();const r=R(e);if(r){if(r.isSameNode(ln()))return n?document:ln();if(!(r.scrollHeight>r.offsetHeight||t))return r.style.overflow="initial",ln()}return r}function sn(e,t){if(!e)return!1;const n=on(e,t);return!!n&&!n.isSameNode(ln())}function an(e,t="fixed"){if(!(e&&e instanceof HTMLElement))return!1;const{nodeName:n}=e,r=function(e){return e&&1===e.nodeType?getComputedStyle(e):null}(e);return"BODY"!==n&&"HTML"!==n&&(!(!r||r.position!==t)||!!e.parentNode&&an(e.parentNode,t))}function ln(){var e;return null!=(e=document.scrollingElement)?e:document.documentElement}var cn=void 0!==N.createPortal;function un(e=navigator.userAgent){let t=e;return"undefined"==typeof window?t="node":document.documentMode?t="ie":/Edge/.test(e)?t="edge":Boolean(window.opera)||e.includes(" OPR/")?t="opera":void 0!==window.InstallTrigger?t="firefox":window.chrome?t="chrome":/(Version\/([\d._]+).*Safari|CriOS|FxiOS| Mobile\/)/.test(e)&&(t="safari"),t}function hn(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function pn(e,t={}){const{defaultValue:n,step:o,steps:i}=t;let s=$(e);return s?(s.includes("{step}")||s.includes("{steps}"))&&o&&i&&(s=s.replace("{step}",o.toString()).replace("{steps}",i.toString())):s=(0,r.isValidElement)(e)&&!Object.values(e.props).length&&"function"===hn(e.type)?pn(e.type({}),t):$(n),s}function dn(e){const t=e.replace(/^#?([\da-f])([\da-f])([\da-f])$/i,((e,t,n,r)=>t+t+n+n+r+r)),n=/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i.exec(t);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:[]}function fn(e){return e.disableBeacon||"center"===e.placement}function gn(){return!["chrome","safari","firefox","opera"].includes(un())}function mn({data:e,debug:t=!1,title:n,warn:r=!1}){const o=r?console.warn||console.error:console.log;t&&(n&&e?(console.groupCollapsed(`%creact-joyride: ${n}`,"color: #ff0044; font-weight: bold; font-size: 12px;"),Array.isArray(e)?e.forEach((e=>{v.plainObject(e)&&e.key?o.apply(console,[e.key,e.value]):o.apply(console,[e])})):o.apply(console,[e]),console.groupEnd()):console.error("Missing title or data props"))}function yn(e,...t){if(!v.plainObject(e))throw new TypeError("Expected an object");const n={};for(const r in e)({}).hasOwnProperty.call(e,r)&&(t.includes(r)||(n[r]=e[r]));return n}function vn(e,t,n){const o=e=>e.replace("{step}",String(t)).replace("{steps}",String(n));if("string"===hn(e))return o(e);if(!(0,r.isValidElement)(e))return e;const{children:i}=e.props;return"string"===hn(i)&&i.includes("{step}")?(0,r.cloneElement)(e,{children:o(i)}):Array.isArray(i)?(0,r.cloneElement)(e,{children:i.map((e=>"string"==typeof e?o(e):vn(e,t,n)))}):"function"!==hn(e.type)||Object.values(e.props).length?e:vn(e.type({}),t,n)}var bn={options:{preventOverflow:{boundariesElement:"scrollParent"}},wrapperOptions:{offset:-18,position:!0}},_n={back:"Back",close:"Close",last:"Last",next:"Next",nextLabelWithProgress:"Next (Step {step} of {steps})",open:"Open the dialog",skip:"Skip"},En={event:"click",placement:"bottom",offset:10,disableBeacon:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrollParentFix:!1,disableScrolling:!1,hideBackButton:!1,hideCloseButton:!1,hideFooter:!1,isFixed:!1,locale:_n,showProgress:!1,showSkipButton:!1,spotlightClicks:!1,spotlightPadding:10},wn={arrowColor:"#fff",backgroundColor:"#fff",beaconSize:36,overlayColor:"rgba(0, 0, 0, 0.5)",primaryColor:"#f04",spotlightShadow:"0 0 15px rgba(0, 0, 0, 0.5)",textColor:"#333",width:380,zIndex:100},Tn={backgroundColor:"transparent",border:0,borderRadius:0,color:"#555",cursor:"pointer",fontSize:16,lineHeight:1,padding:8,WebkitAppearance:"none"},kn={borderRadius:4,position:"absolute"};function Sn(e){return function(e,...t){if(!v.plainObject(e))throw new TypeError("Expected an object");if(!t.length)return e;const n={};for(const r in e)({}).hasOwnProperty.call(e,r)&&t.includes(r)&&(n[r]=e[r]);return n}(e,"beaconComponent","disableCloseOnEsc","disableOverlay","disableOverlayClose","disableScrolling","disableScrollParentFix","floaterProps","hideBackButton","hideCloseButton","locale","showProgress","showSkipButton","spotlightClicks","spotlightPadding","styles","tooltipComponent")}function Cn(e,t){var n,r,o,i,s,a;const l=null!=t?t:{},c=D.all([En,Sn(e),l],{isMergeableObject:v.plainObject}),u=function(e,t){var n,r,o,i,s;const{floaterProps:a,styles:l}=e,c=D(null!=(n=t.floaterProps)?n:{},null!=a?a:{}),u=D(null!=l?l:{},null!=(r=t.styles)?r:{}),h=D(wn,u.options||{}),p="center"===t.placement||t.disableBeacon;let{width:d}=h;window.innerWidth>480&&(d=380),"width"in h&&(d="number"==typeof h.width&&window.innerWidth<h.width?window.innerWidth-30:h.width);const f={bottom:0,left:0,overflow:"hidden",position:"absolute",right:0,top:0,zIndex:h.zIndex},g={beacon:{...Tn,display:p?"none":"inline-block",height:h.beaconSize,position:"relative",width:h.beaconSize,zIndex:h.zIndex},beaconInner:{animation:"joyride-beacon-inner 1.2s infinite ease-in-out",backgroundColor:h.primaryColor,borderRadius:"50%",display:"block",height:"50%",left:"50%",opacity:.7,position:"absolute",top:"50%",transform:"translate(-50%, -50%)",width:"50%"},beaconOuter:{animation:"joyride-beacon-outer 1.2s infinite ease-in-out",backgroundColor:`rgba(${dn(h.primaryColor).join(",")}, 0.2)`,border:`2px solid ${h.primaryColor}`,borderRadius:"50%",boxSizing:"border-box",display:"block",height:"100%",left:0,opacity:.9,position:"absolute",top:0,transformOrigin:"center",width:"100%"},tooltip:{backgroundColor:h.backgroundColor,borderRadius:5,boxSizing:"border-box",color:h.textColor,fontSize:16,maxWidth:"100%",padding:15,position:"relative",width:d},tooltipContainer:{lineHeight:1.4,textAlign:"center"},tooltipTitle:{fontSize:18,margin:0},tooltipContent:{padding:"20px 10px"},tooltipFooter:{alignItems:"center",display:"flex",justifyContent:"flex-end",marginTop:15},tooltipFooterSpacer:{flex:1},buttonNext:{...Tn,backgroundColor:h.primaryColor,borderRadius:4,color:"#fff"},buttonBack:{...Tn,color:h.primaryColor,marginLeft:"auto",marginRight:5},buttonClose:{...Tn,color:h.textColor,height:14,padding:15,position:"absolute",right:0,top:0,width:14},buttonSkip:{...Tn,color:h.textColor,fontSize:14},overlay:{...f,backgroundColor:h.overlayColor,mixBlendMode:"hard-light"},overlayLegacy:{...f},overlayLegacyCenter:{...f,backgroundColor:h.overlayColor},spotlight:{...kn,backgroundColor:"gray"},spotlightLegacy:{...kn,boxShadow:`0 0 0 9999px ${h.overlayColor}, ${h.spotlightShadow}`},floaterStyles:{arrow:{color:null!=(s=null==(i=null==(o=null==c?void 0:c.styles)?void 0:o.arrow)?void 0:i.color)?s:h.arrowColor},options:{zIndex:h.zIndex+100}},options:h};return D(g,u)}(e,c),h=sn(rn(c.target),c.disableScrollParentFix),p=D.all([bn,null!=(n=e.floaterProps)?n:{},null!=(r=c.floaterProps)?r:{}]);return p.offset=c.offset,p.styles=D(null!=(o=p.styles)?o:{},u.floaterStyles),p.offset+=null!=(s=null!=(i=e.spotlightPadding)?i:c.spotlightPadding)?s:0,c.placementBeacon&&p.wrapperOptions&&(p.wrapperOptions.placement=c.placementBeacon),h&&p.options.preventOverflow&&(p.options.preventOverflow.boundariesElement="window"),{...c,locale:D.all([_n,null!=(a=e.locale)?a:{},c.locale||{}]),floaterProps:p,styles:yn(u,"floaterStyles")}}function On(e,t=!1){return v.plainObject(e)?!!e.target||(mn({title:"validateStep",data:"target is missing from the step",warn:!0,debug:t}),!1):(mn({title:"validateStep",data:"step must be an object",warn:!0,debug:t}),!1)}function In(e,t=!1){return v.array(e)?e.every((e=>On(e,t))):(mn({title:"validateSteps",data:"steps must be an array",warn:!0,debug:t}),!1)}var xn,Rn={action:"init",controlled:!1,index:0,lifecycle:Zt.INIT,origin:null,size:0,status:Qt.IDLE},Nn=(xn=yn(Rn,"controlled","size"),Object.keys(xn)),An=class{constructor(e){Ut(this,"beaconPopper"),Ut(this,"tooltipPopper"),Ut(this,"data",new Map),Ut(this,"listener"),Ut(this,"store",new Map),Ut(this,"addListener",(e=>{this.listener=e})),Ut(this,"setSteps",(e=>{const{size:t,status:n}=this.getState(),r={size:e.length,status:n};this.data.set("steps",e),n===Qt.WAITING&&!t&&e.length&&(r.status=Qt.RUNNING),this.setState(r)})),Ut(this,"getPopper",(e=>"beacon"===e?this.beaconPopper:this.tooltipPopper)),Ut(this,"setPopper",((e,t)=>{"beacon"===e?this.beaconPopper=t:this.tooltipPopper=t})),Ut(this,"cleanupPoppers",(()=>{this.beaconPopper=null,this.tooltipPopper=null})),Ut(this,"close",((e=null)=>{const{index:t,status:n}=this.getState();n===Qt.RUNNING&&this.setState({...this.getNextState({action:qt,index:t+1,origin:e})})})),Ut(this,"go",(e=>{const{controlled:t,status:n}=this.getState();if(t||n!==Qt.RUNNING)return;const r=this.getSteps()[e];this.setState({...this.getNextState({action:"go",index:e}),status:r?n:Qt.FINISHED})})),Ut(this,"info",(()=>this.getState())),Ut(this,"next",(()=>{const{index:e,status:t}=this.getState();t===Qt.RUNNING&&this.setState(this.getNextState({action:zt,index:e+1}))})),Ut(this,"open",(()=>{const{status:e}=this.getState();e===Qt.RUNNING&&this.setState({...this.getNextState({action:Xt,lifecycle:Zt.TOOLTIP})})})),Ut(this,"prev",(()=>{const{index:e,status:t}=this.getState();t===Qt.RUNNING&&this.setState({...this.getNextState({action:Gt,index:e-1})})})),Ut(this,"reset",((e=!1)=>{const{controlled:t}=this.getState();t||this.setState({...this.getNextState({action:Wt,index:0}),status:e?Qt.RUNNING:Qt.READY})})),Ut(this,"skip",(()=>{const{status:e}=this.getState();e===Qt.RUNNING&&this.setState({action:Yt,lifecycle:Zt.INIT,status:Qt.SKIPPED})})),Ut(this,"start",(e=>{const{index:t,size:n}=this.getState();this.setState({...this.getNextState({action:Ht,index:v.number(e)?e:t},!0),status:n?Qt.RUNNING:Qt.WAITING})})),Ut(this,"stop",((e=!1)=>{const{index:t,status:n}=this.getState();[Qt.FINISHED,Qt.SKIPPED].includes(n)||this.setState({...this.getNextState({action:Vt,index:t+(e?1:0)}),status:Qt.PAUSED})})),Ut(this,"update",(e=>{var t,n,r,o;if(r=e,o=Nn,!(v.plainObject(r)&&v.array(o)&&Object.keys(r).every((e=>o.includes(e)))))throw new Error(`State is not valid. Valid keys: ${Nn.join(", ")}`);this.setState({...this.getNextState({...this.getState(),...e,action:null!=(t=e.action)?t:Xt,origin:null!=(n=e.origin)?n:null},!0)})}));const{continuous:t=!1,stepIndex:n,steps:r=[]}=null!=e?e:{};this.setState({action:"init",controlled:v.number(n),continuous:t,index:v.number(n)?n:0,lifecycle:Zt.INIT,origin:null,status:r.length?Qt.READY:Qt.IDLE},!0),this.beaconPopper=null,this.tooltipPopper=null,this.listener=null,this.setSteps(r)}getState(){return this.store.size?{action:this.store.get("action")||"",controlled:this.store.get("controlled")||!1,index:parseInt(this.store.get("index"),10),lifecycle:this.store.get("lifecycle")||"",origin:this.store.get("origin")||null,size:this.store.get("size")||0,status:this.store.get("status")||""}:{...Rn}}getNextState(e,t=!1){var n,r,o,i,s;const{action:a,controlled:l,index:c,size:u,status:h}=this.getState(),p=v.number(e.index)?e.index:c,d=l&&!t?c:Math.min(Math.max(p,0),u);return{action:null!=(n=e.action)?n:a,controlled:l,index:d,lifecycle:null!=(r=e.lifecycle)?r:Zt.INIT,origin:null!=(o=e.origin)?o:null,size:null!=(i=e.size)?i:u,status:d===u?Qt.FINISHED:null!=(s=e.status)?s:h}}getSteps(){const e=this.data.get("steps");return Array.isArray(e)?e:[]}hasUpdatedState(e){return JSON.stringify(e)!==JSON.stringify(this.getState())}setState(e,t=!1){const n=this.getState(),{action:r,index:o,lifecycle:i,origin:s=null,size:a,status:l}={...n,...e};this.store.set("action",r),this.store.set("index",o),this.store.set("lifecycle",i),this.store.set("origin",s),this.store.set("size",a),this.store.set("status",l),t&&(this.store.set("controlled",e.controlled),this.store.set("continuous",e.continuous)),this.listener&&this.hasUpdatedState(n)&&this.listener(this.getState())}getHelpers(){return{close:this.close,go:this.go,info:this.info,next:this.next,open:this.open,prev:this.prev,reset:this.reset,skip:this.skip}}},$n=function({styles:e}){return r.createElement("div",{key:"JoyrideSpotlight",className:"react-joyride__spotlight","data-test-id":"spotlight",style:e})},Dn=class extends r.Component{constructor(){super(...arguments),Ut(this,"isActive",!1),Ut(this,"resizeTimeout"),Ut(this,"scrollTimeout"),Ut(this,"scrollParent"),Ut(this,"state",{isScrolling:!1,mouseOverSpotlight:!1,showSpotlight:!0}),Ut(this,"hideSpotlight",(()=>{const{continuous:e,disableOverlay:t,lifecycle:n}=this.props,r=[Zt.INIT,Zt.BEACON,Zt.COMPLETE,Zt.ERROR];return t||(e?r.includes(n):n!==Zt.TOOLTIP)})),Ut(this,"handleMouseMove",(e=>{const{mouseOverSpotlight:t}=this.state,{height:n,left:r,position:o,top:i,width:s}=this.spotlightStyles,a="fixed"===o?e.clientY:e.pageY,l="fixed"===o?e.clientX:e.pageX,c=l>=r&&l<=r+s&&a>=i&&a<=i+n;c!==t&&this.updateState({mouseOverSpotlight:c})})),Ut(this,"handleScroll",(()=>{const{target:e}=this.props,t=rn(e);if(this.scrollParent!==document){const{isScrolling:e}=this.state;e||this.updateState({isScrolling:!0,showSpotlight:!1}),clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout((()=>{this.updateState({isScrolling:!1,showSpotlight:!0})}),50)}else an(t,"sticky")&&this.updateState({})})),Ut(this,"handleResize",(()=>{clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout((()=>{this.isActive&&this.forceUpdate()}),100)}))}componentDidMount(){const{debug:e,disableScrolling:t,disableScrollParentFix:n=!1,target:r}=this.props,o=rn(r);this.scrollParent=on(null!=o?o:document.body,n,!0),this.isActive=!0,!t&&sn(o,!0)&&mn({title:"step has a custom scroll parent and can cause trouble with scrolling",data:[{key:"parent",value:this.scrollParent}],debug:e}),window.addEventListener("resize",this.handleResize)}componentDidUpdate(e){var t;const{disableScrollParentFix:n,lifecycle:r,spotlightClicks:o,target:i}=this.props,{changed:s}=I(e,this.props);if(s("target")||s("disableScrollParentFix")){const e=rn(i);this.scrollParent=on(null!=e?e:document.body,n,!0)}s("lifecycle",Zt.TOOLTIP)&&(null==(t=this.scrollParent)||t.addEventListener("scroll",this.handleScroll,{passive:!0}),setTimeout((()=>{const{isScrolling:e}=this.state;e||this.updateState({showSpotlight:!0})}),100)),(s("spotlightClicks")||s("disableOverlay")||s("lifecycle"))&&(o&&r===Zt.TOOLTIP?window.addEventListener("mousemove",this.handleMouseMove,!1):r!==Zt.TOOLTIP&&window.removeEventListener("mousemove",this.handleMouseMove))}componentWillUnmount(){var e;this.isActive=!1,window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("resize",this.handleResize),clearTimeout(this.resizeTimeout),clearTimeout(this.scrollTimeout),null==(e=this.scrollParent)||e.removeEventListener("scroll",this.handleScroll)}get overlayStyles(){const{mouseOverSpotlight:e}=this.state,{disableOverlayClose:t,placement:n,styles:r}=this.props;let o=r.overlay;return gn()&&(o="center"===n?r.overlayLegacyCenter:r.overlayLegacy),{cursor:t?"default":"pointer",height:nn(),pointerEvents:e?"none":"auto",...o}}get spotlightStyles(){var e,t,n;const{showSpotlight:r}=this.state,{disableScrollParentFix:o=!1,spotlightClicks:i,spotlightPadding:s=0,styles:a,target:l}=this.props,c=rn(l),u=tn(c),h=an(c),p=function(e,t,n){var r,o,i;const s=tn(e),a=on(e,n),l=sn(e,n),c=an(e);let u=0,h=null!=(r=null==s?void 0:s.top)?r:0;return l&&c?h=(null!=(o=null==e?void 0:e.offsetTop)?o:0)-(null!=(i=null==a?void 0:a.scrollTop)?i:0):a instanceof HTMLElement&&(u=a.scrollTop,l||an(e)||(h+=u),a.isSameNode(ln())||(h+=ln().scrollTop)),Math.floor(h-t)}(c,s,o);return{...gn()?a.spotlightLegacy:a.spotlight,height:Math.round((null!=(e=null==u?void 0:u.height)?e:0)+2*s),left:Math.round((null!=(t=null==u?void 0:u.left)?t:0)-s),opacity:r?1:0,pointerEvents:i?"none":"auto",position:h?"fixed":"absolute",top:p,transition:"opacity 0.2s",width:Math.round((null!=(n=null==u?void 0:u.width)?n:0)+2*s)}}updateState(e){this.isActive&&this.setState((t=>({...t,...e})))}render(){const{showSpotlight:e}=this.state,{onClickOverlay:t,placement:n}=this.props,{hideSpotlight:o,overlayStyles:i,spotlightStyles:s}=this;if(o())return null;let a="center"!==n&&e&&r.createElement($n,{styles:s});if("safari"===un()){const{mixBlendMode:e,zIndex:t,...n}=i;a=r.createElement("div",{style:{...n}},a),delete i.backgroundColor}return r.createElement("div",{className:"react-joyride__overlay","data-test-id":"overlay",onClick:t,role:"presentation",style:i},a)}},Mn=class extends r.Component{constructor(){super(...arguments),Ut(this,"node",null)}componentDidMount(){const{id:e}=this.props;en()&&(this.node=document.createElement("div"),this.node.id=e,document.body.appendChild(this.node),cn||this.renderReact15())}componentDidUpdate(){en()&&(cn||this.renderReact15())}componentWillUnmount(){en()&&this.node&&(cn||N.unmountComponentAtNode(this.node),this.node.parentNode===document.body&&(document.body.removeChild(this.node),this.node=null))}renderReact15(){if(!en())return;const{children:e}=this.props;this.node&&N.unstable_renderSubtreeIntoContainer(this,e,this.node)}renderReact16(){if(!en()||!cn)return null;const{children:e}=this.props;return this.node?N.createPortal(e,this.node):null}render(){return cn?this.renderReact16():null}},Pn=class{constructor(e,t){if(Ut(this,"element"),Ut(this,"options"),Ut(this,"canBeTabbed",(e=>{const{tabIndex:t}=e;return!(null===t||t<0)&&this.canHaveFocus(e)})),Ut(this,"canHaveFocus",(e=>{const t=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(t)&&!e.getAttribute("disabled")||"a"===t&&!!e.getAttribute("href"))&&this.isVisible(e)})),Ut(this,"findValidTabElements",(()=>[].slice.call(this.element.querySelectorAll("*"),0).filter(this.canBeTabbed))),Ut(this,"handleKeyDown",(e=>{const{code:t="Tab"}=this.options;e.code===t&&this.interceptTab(e)})),Ut(this,"interceptTab",(e=>{e.preventDefault();const t=this.findValidTabElements(),{shiftKey:n}=e;if(!t.length)return;let r=document.activeElement?t.indexOf(document.activeElement):0;-1===r||!n&&r+1===t.length?r=0:n&&0===r?r=t.length-1:r+=n?-1:1,t[r].focus()})),Ut(this,"isHidden",(e=>{const t=e.offsetWidth<=0&&e.offsetHeight<=0,n=window.getComputedStyle(e);return!(!t||e.innerHTML)||t&&"visible"!==n.getPropertyValue("overflow")||"none"===n.getPropertyValue("display")})),Ut(this,"isVisible",(e=>{let t=e;for(;t;)if(t instanceof HTMLElement){if(t===document.body)break;if(this.isHidden(t))return!1;t=t.parentNode}return!0})),Ut(this,"removeScope",(()=>{window.removeEventListener("keydown",this.handleKeyDown)})),Ut(this,"checkFocus",(e=>{document.activeElement!==e&&(e.focus(),window.requestAnimationFrame((()=>this.checkFocus(e))))})),Ut(this,"setFocus",(()=>{const{selector:e}=this.options;if(!e)return;const t=this.element.querySelector(e);t&&window.requestAnimationFrame((()=>this.checkFocus(t)))})),!(e instanceof HTMLElement))throw new TypeError("Invalid parameter: element must be an HTMLElement");this.element=e,this.options=t,window.addEventListener("keydown",this.handleKeyDown,!1),this.setFocus()}},Ln=class extends r.Component{constructor(e){if(super(e),Ut(this,"beacon",null),Ut(this,"setBeaconRef",(e=>{this.beacon=e})),e.beaconComponent)return;const t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.id="joyride-beacon-animation",e.nonce&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("\n        @keyframes joyride-beacon-inner {\n          20% {\n            opacity: 0.9;\n          }\n        \n          90% {\n            opacity: 0.7;\n          }\n        }\n        \n        @keyframes joyride-beacon-outer {\n          0% {\n            transform: scale(1);\n          }\n        \n          45% {\n            opacity: 0.7;\n            transform: scale(0.75);\n          }\n        \n          100% {\n            opacity: 0.9;\n            transform: scale(1);\n          }\n        }\n      ")),t.appendChild(n)}componentDidMount(){const{shouldFocus:e}=this.props;v.domElement(this.beacon)||console.warn("beacon is not a valid DOM element"),setTimeout((()=>{v.domElement(this.beacon)&&e&&this.beacon.focus()}),0)}componentWillUnmount(){const e=document.getElementById("joyride-beacon-animation");(null==e?void 0:e.parentNode)&&e.parentNode.removeChild(e)}render(){const{beaconComponent:e,continuous:t,index:n,isLastStep:o,locale:i,onClickOrHover:s,size:a,step:l,styles:c}=this.props,u=pn(i.open),h={"aria-label":u,onClick:s,onMouseEnter:s,ref:this.setBeaconRef,title:u};let p;if(e){const i=e;p=r.createElement(i,{continuous:t,index:n,isLastStep:o,size:a,step:l,...h})}else p=r.createElement("button",{key:"JoyrideBeacon",className:"react-joyride__beacon","data-test-id":"button-beacon",style:c.beacon,type:"button",...h},r.createElement("span",{style:c.beaconInner}),r.createElement("span",{style:c.beaconOuter}));return p}},Bn=function({styles:e,...t}){const{color:n,height:o,width:i,...s}=e;return r.createElement("button",{style:s,type:"button",...t},r.createElement("svg",{height:"number"==typeof o?`${o}px`:o,preserveAspectRatio:"xMidYMid",version:"1.1",viewBox:"0 0 18 18",width:"number"==typeof i?`${i}px`:i,xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",null,r.createElement("path",{d:"M8.13911129,9.00268191 L0.171521827,17.0258467 C-0.0498027049,17.248715 -0.0498027049,17.6098394 0.171521827,17.8327545 C0.28204354,17.9443526 0.427188206,17.9998706 0.572051765,17.9998706 C0.71714958,17.9998706 0.862013139,17.9443526 0.972581703,17.8327545 L9.0000937,9.74924618 L17.0276057,17.8327545 C17.1384085,17.9443526 17.2832721,17.9998706 17.4281356,17.9998706 C17.5729992,17.9998706 17.718097,17.9443526 17.8286656,17.8327545 C18.0499901,17.6098862 18.0499901,17.2487618 17.8286656,17.0258467 L9.86135722,9.00268191 L17.8340066,0.973848225 C18.0553311,0.750979934 18.0553311,0.389855532 17.8340066,0.16694039 C17.6126821,-0.0556467968 17.254037,-0.0556467968 17.0329467,0.16694039 L9.00042166,8.25611765 L0.967006424,0.167268345 C0.745681892,-0.0553188426 0.387317931,-0.0553188426 0.165993399,0.167268345 C-0.0553311331,0.390136635 -0.0553311331,0.751261038 0.165993399,0.974176179 L8.13920499,9.00268191 L8.13911129,9.00268191 Z",fill:n}))))},Fn=function(e){const{backProps:t,closeProps:n,index:o,isLastStep:i,primaryProps:s,skipProps:a,step:l,tooltipProps:c}=e,{content:u,hideBackButton:h,hideCloseButton:p,hideFooter:d,showSkipButton:f,styles:g,title:m}=l,y={};return y.primary=r.createElement("button",{"data-test-id":"button-primary",style:g.buttonNext,type:"button",...s}),f&&!i&&(y.skip=r.createElement("button",{"aria-live":"off","data-test-id":"button-skip",style:g.buttonSkip,type:"button",...a})),!h&&o>0&&(y.back=r.createElement("button",{"data-test-id":"button-back",style:g.buttonBack,type:"button",...t})),y.close=!p&&r.createElement(Bn,{"data-test-id":"button-close",styles:g.buttonClose,...n}),r.createElement("div",{key:"JoyrideTooltip","aria-label":pn(null!=m?m:u),className:"react-joyride__tooltip",style:g.tooltip,...c},r.createElement("div",{style:g.tooltipContainer},m&&r.createElement("h1",{"aria-label":pn(m),style:g.tooltipTitle},m),r.createElement("div",{style:g.tooltipContent},u)),!d&&r.createElement("div",{style:g.tooltipFooter},r.createElement("div",{style:g.tooltipFooterSpacer},y.skip),y.back,y.primary),y.close)},jn=class extends r.Component{constructor(){super(...arguments),Ut(this,"handleClickBack",(e=>{e.preventDefault();const{helpers:t}=this.props;t.prev()})),Ut(this,"handleClickClose",(e=>{e.preventDefault();const{helpers:t}=this.props;t.close("button_close")})),Ut(this,"handleClickPrimary",(e=>{e.preventDefault();const{continuous:t,helpers:n}=this.props;t?n.next():n.close("button_primary")})),Ut(this,"handleClickSkip",(e=>{e.preventDefault();const{helpers:t}=this.props;t.skip()})),Ut(this,"getElementsProps",(()=>{const{continuous:e,index:t,isLastStep:n,setTooltipRef:r,size:o,step:i}=this.props,{back:s,close:a,last:l,next:c,nextLabelWithProgress:u,skip:h}=i.locale,p=pn(s),d=pn(a),f=pn(l),g=pn(c),m=pn(h);let y=a,v=d;if(e){if(y=c,v=g,i.showProgress&&!n){const e=pn(u,{step:t+1,steps:o});y=vn(u,t+1,o),v=e}n&&(y=l,v=f)}return{backProps:{"aria-label":p,children:s,"data-action":"back",onClick:this.handleClickBack,role:"button",title:p},closeProps:{"aria-label":d,children:a,"data-action":"close",onClick:this.handleClickClose,role:"button",title:d},primaryProps:{"aria-label":v,children:y,"data-action":"primary",onClick:this.handleClickPrimary,role:"button",title:v},skipProps:{"aria-label":m,children:h,"data-action":"skip",onClick:this.handleClickSkip,role:"button",title:m},tooltipProps:{"aria-modal":!0,ref:r,role:"alertdialog"}}}))}render(){const{continuous:e,index:t,isLastStep:n,setTooltipRef:o,size:i,step:s}=this.props,{beaconComponent:a,tooltipComponent:l,...c}=s;let u;if(l){const s={...this.getElementsProps(),continuous:e,index:t,isLastStep:n,size:i,step:c,setTooltipRef:o},a=l;u=r.createElement(a,{...s})}else u=r.createElement(Fn,{...this.getElementsProps(),continuous:e,index:t,isLastStep:n,size:i,step:s});return u}},Un=class extends r.Component{constructor(){super(...arguments),Ut(this,"scope",null),Ut(this,"tooltip",null),Ut(this,"handleClickHoverBeacon",(e=>{const{step:t,store:n}=this.props;"mouseenter"===e.type&&"hover"!==t.event||n.update({lifecycle:Zt.TOOLTIP})})),Ut(this,"setTooltipRef",(e=>{this.tooltip=e})),Ut(this,"setPopper",((e,t)=>{var n;const{action:r,lifecycle:o,step:i,store:s}=this.props;"wrapper"===t?s.setPopper("beacon",e):s.setPopper("tooltip",e),s.getPopper("beacon")&&(s.getPopper("tooltip")||"center"===i.placement)&&o===Zt.INIT&&s.update({action:r,lifecycle:Zt.READY}),(null==(n=i.floaterProps)?void 0:n.getPopper)&&i.floaterProps.getPopper(e,t)})),Ut(this,"renderTooltip",(e=>{const{continuous:t,helpers:n,index:o,size:i,step:s}=this.props;return r.createElement(jn,{continuous:t,helpers:n,index:o,isLastStep:o+1===i,setTooltipRef:this.setTooltipRef,size:i,step:s,...e})}))}componentDidMount(){const{debug:e,index:t}=this.props;mn({title:`step:${t}`,data:[{key:"props",value:this.props}],debug:e})}componentDidUpdate(e){var t;const{action:n,callback:r,continuous:o,controlled:i,debug:s,helpers:a,index:l,lifecycle:c,shouldScroll:u,status:h,step:p,store:d}=this.props,{changed:f,changedFrom:g}=I(e,this.props),m=a.info(),y=o&&n!==qt&&(l>0||n===Gt),v=f("action")||f("index")||f("lifecycle")||f("status"),b=g("lifecycle",[Zt.TOOLTIP,Zt.INIT],Zt.INIT),_=f("action",[zt,Gt,Yt,qt]),E=i&&l===e.index;if(_&&(b||E)&&r({...m,index:e.index,lifecycle:Zt.COMPLETE,step:e.step,type:Kt}),"center"===p.placement&&h===Qt.RUNNING&&f("index")&&n!==Ht&&c===Zt.INIT&&d.update({lifecycle:Zt.READY}),v){const e=rn(p.target),t=!!e,o=t&&function(e){var t;if(!e)return!1;let n=e;for(;n&&n!==document.body;){if(n instanceof HTMLElement){const{display:e,visibility:t}=getComputedStyle(n);if("none"===e||"hidden"===t)return!1}n=null!=(t=n.parentElement)?t:null}return!0}(e);o?(g("status",Qt.READY,Qt.RUNNING)||g("lifecycle",Zt.INIT,Zt.READY))&&r({...m,step:p,type:"step:before"}):(console.warn(t?"Target not visible":"Target not mounted",p),r({...m,type:Jt,step:p}),i||d.update({index:l+(n===Gt?-1:1)}))}g("lifecycle",Zt.INIT,Zt.READY)&&d.update({lifecycle:fn(p)||y?Zt.TOOLTIP:Zt.BEACON}),f("index")&&mn({title:`step:${c}`,data:[{key:"props",value:this.props}],debug:s}),f("lifecycle",Zt.BEACON)&&r({...m,step:p,type:"beacon"}),f("lifecycle",Zt.TOOLTIP)&&(r({...m,step:p,type:"tooltip"}),u&&this.tooltip&&(this.scope=new Pn(this.tooltip,{selector:"[data-action=primary]"}),this.scope.setFocus())),g("lifecycle",[Zt.TOOLTIP,Zt.INIT],Zt.INIT)&&(null==(t=this.scope)||t.removeScope(),d.cleanupPoppers())}componentWillUnmount(){var e;null==(e=this.scope)||e.removeScope()}get open(){const{lifecycle:e,step:t}=this.props;return fn(t)||e===Zt.TOOLTIP}render(){const{continuous:e,debug:t,index:n,nonce:o,shouldScroll:i,size:s,step:a}=this.props,l=rn(a.target);return On(a)&&v.domElement(l)?r.createElement("div",{key:`JoyrideStep-${n}`,className:"react-joyride__step"},r.createElement(Ft,{...a.floaterProps,component:this.renderTooltip,debug:t,getPopper:this.setPopper,id:`react-joyride-step-${n}`,open:this.open,placement:a.placement,target:a.target},r.createElement(Ln,{beaconComponent:a.beaconComponent,continuous:e,index:n,isLastStep:n+1===s,locale:a.locale,nonce:o,onClickOrHover:this.handleClickHoverBeacon,shouldFocus:i,size:s,step:a,styles:a.styles}))):null}},Hn=class extends r.Component{constructor(e){super(e),Ut(this,"helpers"),Ut(this,"store"),Ut(this,"callback",(e=>{const{callback:t}=this.props;v.function(t)&&t(e)})),Ut(this,"handleKeyboard",(e=>{const{index:t,lifecycle:n}=this.state,{steps:r}=this.props,o=r[t];n===Zt.TOOLTIP&&"Escape"===e.code&&o&&!o.disableCloseOnEsc&&this.store.close("keyboard")})),Ut(this,"handleClickOverlay",(()=>{const{index:e}=this.state,{steps:t}=this.props;Cn(this.props,t[e]).disableOverlayClose||this.helpers.close("overlay")})),Ut(this,"syncState",(e=>{this.setState(e)}));const{debug:t,getHelpers:n,run:r=!0,stepIndex:o}=e;var i;this.store=(i={...e,controlled:r&&v.number(o)},new An(i)),this.helpers=this.store.getHelpers();const{addListener:s}=this.store;mn({title:"init",data:[{key:"props",value:this.props},{key:"state",value:this.state}],debug:t}),s(this.syncState),n&&n(this.helpers),this.state=this.store.getState()}componentDidMount(){if(!en())return;const{debug:e,disableCloseOnEsc:t,run:n,steps:r}=this.props,{start:o}=this.store;In(r,e)&&n&&o(),t||document.body.addEventListener("keydown",this.handleKeyboard,{passive:!0})}componentDidUpdate(e,t){if(!en())return;const{action:n,controlled:r,index:o,status:i}=this.state,{debug:s,run:a,stepIndex:l,steps:c}=this.props,{stepIndex:h,steps:p}=e,{reset:d,setSteps:f,start:g,stop:m,update:y}=this.store,{changed:b}=I(e,this.props),{changed:_,changedFrom:E}=I(t,this.state),w=Cn(this.props,c[o]),T=!u(p,c),k=v.number(l)&&b("stepIndex"),S=rn(w.target);if(T&&(In(c,s)?f(c):console.warn("Steps are not valid",c)),b("run")&&(a?g(l):m()),k){let e=v.number(h)&&h<l?zt:Gt;n===Vt&&(e=Ht),[Qt.FINISHED,Qt.SKIPPED].includes(i)||y({action:n===qt?qt:e,index:l,lifecycle:Zt.INIT})}r||i!==Qt.RUNNING||0!==o||S||(this.store.update({index:o+1}),this.callback({...this.state,type:Jt,step:w}));const C={...this.state,index:o,step:w};if(_("action",[zt,Gt,Yt,qt])&&_("status",Qt.PAUSED)){const e=Cn(this.props,c[t.index]);this.callback({...C,index:t.index,lifecycle:Zt.COMPLETE,step:e,type:Kt})}if(_("status",[Qt.FINISHED,Qt.SKIPPED])){const e=Cn(this.props,c[t.index]);r||this.callback({...C,index:t.index,lifecycle:Zt.COMPLETE,step:e,type:Kt}),this.callback({...C,type:"tour:end",step:e,index:t.index}),d()}else E("status",[Qt.IDLE,Qt.READY],Qt.RUNNING)?this.callback({...C,type:"tour:start"}):(_("status")||_("action",Wt))&&this.callback({...C,type:"tour:status"});this.scrollToStep(t)}componentWillUnmount(){const{disableCloseOnEsc:e}=this.props;e||document.body.removeEventListener("keydown",this.handleKeyboard)}scrollToStep(e){const{index:t,lifecycle:n,status:r}=this.state,{debug:o,disableScrollParentFix:i=!1,scrollDuration:s,scrollOffset:a=20,scrollToFirstStep:l=!1,steps:c}=this.props,u=Cn(this.props,c[t]),h=rn(u.target),p=function(e){const{isFirstStep:t,lifecycle:n,previousLifecycle:r,scrollToFirstStep:o,step:i,target:s}=e;return!i.disableScrolling&&(!t||o||n===Zt.TOOLTIP)&&"center"!==i.placement&&(!i.isFixed||!an(s))&&r!==n&&[Zt.BEACON,Zt.TOOLTIP].includes(n)}({isFirstStep:0===t,lifecycle:n,previousLifecycle:e.lifecycle,scrollToFirstStep:l,step:u,target:h});if(r===Qt.RUNNING&&p){const e=sn(h,i),l=on(h,i);let c=Math.floor(function(e,t,n){var r;if(!e)return 0;const{offsetTop:o=0,scrollTop:i=0}=null!=(r=R(e))?r:{};let s=e.getBoundingClientRect().top+i;o&&(sn(e,n)||function(e){return e.offsetParent!==document.body}(e))&&(s-=o);const a=Math.floor(s-t);return a<0?0:a}(h,a,i))||0;mn({title:"scrollToStep",data:[{key:"index",value:t},{key:"lifecycle",value:n},{key:"status",value:r}],debug:o});const p=this.store.getPopper("beacon"),d=this.store.getPopper("tooltip");if(n===Zt.BEACON&&p){const{offsets:t,placement:n}=p;["bottom"].includes(n)||e||(c=Math.floor(t.popper.top-a))}else if(n===Zt.TOOLTIP&&d){const{flipped:t,offsets:n,placement:r}=d;!["top","right","left"].includes(r)||t||e?c-=u.spotlightPadding:c=Math.floor(n.popper.top-a)}c=c>=0?c:0,r===Qt.RUNNING&&function(e,t){const{duration:n,element:r}=t;return new Promise(((t,o)=>{const{scrollTop:i}=r,s=e>i?e-i:i-e;x.top(r,e,{duration:s<100?50:n},(e=>e&&"Element already at target scroll position"!==e.message?o(e):t()))}))}(c,{element:l,duration:s}).then((()=>{setTimeout((()=>{var e;null==(e=this.store.getPopper("tooltip"))||e.instance.update()}),10)}))}}render(){if(!en())return null;const{index:e,lifecycle:t,status:n}=this.state,{continuous:o=!1,debug:i=!1,nonce:s,scrollToFirstStep:a=!1,steps:l}=this.props,c={};if(n===Qt.RUNNING&&l[e]){const n=Cn(this.props,l[e]);c.step=r.createElement(Un,{...this.state,callback:this.callback,continuous:o,debug:i,helpers:this.helpers,nonce:s,shouldScroll:!n.disableScrolling&&(0!==e||a),step:n,store:this.store}),c.overlay=r.createElement(Mn,{id:"react-joyride-portal"},r.createElement(Dn,{...n,continuous:o,debug:i,lifecycle:t,onClickOverlay:this.handleClickOverlay}))}return r.createElement("div",{className:"react-joyride"},c.step,c.overlay)}};Ut(Hn,"defaultProps",{continuous:!1,debug:!1,disableCloseOnEsc:!1,disableOverlay:!1,disableOverlayClose:!1,disableScrolling:!1,disableScrollParentFix:!1,getHelpers:void 0,hideBackButton:!1,run:!0,scrollOffset:20,scrollDuration:300,scrollToFirstStep:!1,showSkipButton:!1,showProgress:!1,spotlightClicks:!1,spotlightPadding:10,steps:[]});var Vn=Hn},7621:(e,t,n)=>{"use strict";n.d(t,{N9:()=>S,oR:()=>M});var r=n(9155);function o(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=o(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const i=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=o(e))&&(r&&(r+=" "),r+=t);return r},s=e=>"number"==typeof e&&!isNaN(e),a=e=>"string"==typeof e,l=e=>"function"==typeof e,c=e=>a(e)||l(e)?e:null,u=e=>(0,r.isValidElement)(e)||a(e)||l(e)||s(e);function h(e){let{enter:t,exit:n,appendPosition:o=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(e){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:h,isIn:p}=e;const d=o?`${t}--${l}`:t,f=o?`${n}--${l}`:n,g=(0,r.useRef)(0);return(0,r.useLayoutEffect)((()=>{const e=h.current,t=d.split(" "),n=r=>{r.target===h.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===g.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),(0,r.useEffect)((()=>{const e=h.current,t=()=>{e.removeEventListener("animationend",t),i?function(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:o}=e;requestAnimationFrame((()=>{o.minHeight="initial",o.height=r+"px",o.transition=`all ${n}ms`,requestAnimationFrame((()=>{o.height="0",o.padding="0",o.margin="0",setTimeout(t,n)}))}))}(e,u,s):u()};p||(c?t():(g.current=1,e.className+=` ${f}`,e.addEventListener("animationend",t)))}),[p]),r.createElement(r.Fragment,null,a)}}function p(e,t){return null!=e?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const d={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter((e=>e!==t));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach((t=>{const n=setTimeout((()=>{t(...[].slice.call(arguments,1))}),0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)}))}},f=e=>{let{theme:t,type:n,...o}=e;return r.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${n})`,...o})},g={info:function(e){return r.createElement(f,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return r.createElement(f,{...e},r.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return r.createElement(f,{...e},r.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return r.createElement(f,{...e},r.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return r.createElement("div",{className:"Toastify__spinner"})}};function m(e){const[,t]=(0,r.useReducer)((e=>e+1),0),[n,o]=(0,r.useState)([]),i=(0,r.useRef)(null),h=(0,r.useRef)(new Map).current,f=e=>-1!==n.indexOf(e),m=(0,r.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:f,getToast:e=>h.get(e)}).current;function y(e){let{containerId:t}=e;const{limit:n}=m.props;!n||t&&m.containerId!==t||(m.count-=m.queue.length,m.queue=[])}function v(e){o((t=>null==e?[]:t.filter((t=>t!==e))))}function b(){const{toastContent:e,toastProps:t,staleId:n}=m.queue.shift();E(e,t,n)}function _(e,n){let{delay:o,staleId:f,...y}=n;if(!u(e)||function(e){return!i.current||m.props.enableMultiContainer&&e.containerId!==m.props.containerId||h.has(e.toastId)&&null==e.updateId}(y))return;const{toastId:_,updateId:w,data:T}=y,{props:k}=m,S=()=>v(_),C=null==w;C&&m.count++;const O={...k,style:k.toastStyle,key:m.toastKey++,...Object.fromEntries(Object.entries(y).filter((e=>{let[t,n]=e;return null!=n}))),toastId:_,updateId:w,data:T,closeToast:S,isIn:!1,className:c(y.className||k.toastClassName),bodyClassName:c(y.bodyClassName||k.bodyClassName),progressClassName:c(y.progressClassName||k.progressClassName),autoClose:!y.isLoading&&(I=y.autoClose,x=k.autoClose,!1===I||s(I)&&I>0?I:x),deleteToast(){const e=p(h.get(_),"removed");h.delete(_),d.emit(4,e);const n=m.queue.length;if(m.count=null==_?m.count-m.displayedToast:m.count-1,m.count<0&&(m.count=0),n>0){const e=null==_?m.props.limit:1;if(1===n||1===e)m.displayedToast++,b();else{const t=e>n?n:e;m.displayedToast=t;for(let e=0;e<t;e++)b()}}else t()}};var I,x;O.iconOut=function(e){let{theme:t,type:n,isLoading:o,icon:i}=e,c=null;const u={theme:t,type:n};return!1===i||(l(i)?c=i(u):(0,r.isValidElement)(i)?c=(0,r.cloneElement)(i,u):a(i)||s(i)?c=i:o?c=g.spinner():(e=>e in g)(n)&&(c=g[n](u))),c}(O),l(y.onOpen)&&(O.onOpen=y.onOpen),l(y.onClose)&&(O.onClose=y.onClose),O.closeButton=k.closeButton,!1===y.closeButton||u(y.closeButton)?O.closeButton=y.closeButton:!0===y.closeButton&&(O.closeButton=!u(k.closeButton)||k.closeButton);let R=e;(0,r.isValidElement)(e)&&!a(e.type)?R=(0,r.cloneElement)(e,{closeToast:S,toastProps:O,data:T}):l(e)&&(R=e({closeToast:S,toastProps:O,data:T})),k.limit&&k.limit>0&&m.count>k.limit&&C?m.queue.push({toastContent:R,toastProps:O,staleId:f}):s(o)?setTimeout((()=>{E(R,O,f)}),o):E(R,O,f)}function E(e,t,n){const{toastId:r}=t;n&&h.delete(n);const i={content:e,props:t};h.set(r,i),o((e=>[...e,r].filter((e=>e!==n)))),d.emit(4,p(i,null==i.props.updateId?"added":"updated"))}return(0,r.useEffect)((()=>(m.containerId=e.containerId,d.cancelEmit(3).on(0,_).on(1,(e=>i.current&&v(e))).on(5,y).emit(2,m),()=>{h.clear(),d.emit(3,m)})),[]),(0,r.useEffect)((()=>{m.props=e,m.isToastActive=f,m.displayedToast=n.length})),{getToastToRender:function(t){const n=new Map,r=Array.from(h.values());return e.newestOnTop&&r.reverse(),r.forEach((e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},containerRef:i,isToastActive:f}}function y(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function v(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function b(e){const[t,n]=(0,r.useState)(!1),[o,i]=(0,r.useState)(!1),s=(0,r.useRef)(null),a=(0,r.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,c=(0,r.useRef)(e),{autoClose:u,pauseOnHover:h,closeToast:p,onClick:d,closeOnClick:f}=e;function g(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),a.didMove=!1,document.addEventListener("mousemove",E),document.addEventListener("mouseup",w),document.addEventListener("touchmove",E),document.addEventListener("touchend",w);const n=s.current;a.canCloseOnClick=!0,a.canDrag=!0,a.boundingRect=n.getBoundingClientRect(),n.style.transition="",a.x=y(t.nativeEvent),a.y=v(t.nativeEvent),"x"===e.draggableDirection?(a.start=a.x,a.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(a.start=a.y,a.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function m(t){if(a.boundingRect){const{top:n,bottom:r,left:o,right:i}=a.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&a.x>=o&&a.x<=i&&a.y>=n&&a.y<=r?_():b()}}function b(){n(!0)}function _(){n(!1)}function E(n){const r=s.current;a.canDrag&&r&&(a.didMove=!0,t&&_(),a.x=y(n),a.y=v(n),a.delta="x"===e.draggableDirection?a.x-a.start:a.y-a.start,a.start!==a.x&&(a.canCloseOnClick=!1),r.style.transform=`translate${e.draggableDirection}(${a.delta}px)`,r.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function w(){document.removeEventListener("mousemove",E),document.removeEventListener("mouseup",w),document.removeEventListener("touchmove",E),document.removeEventListener("touchend",w);const t=s.current;if(a.canDrag&&a.didMove&&t){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance)return i(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform=`translate${e.draggableDirection}(0)`,t.style.opacity="1"}}(0,r.useEffect)((()=>{c.current=e})),(0,r.useEffect)((()=>(s.current&&s.current.addEventListener("d",b,{once:!0}),l(e.onOpen)&&e.onOpen((0,r.isValidElement)(e.children)&&e.children.props),()=>{const e=c.current;l(e.onClose)&&e.onClose((0,r.isValidElement)(e.children)&&e.children.props)})),[]),(0,r.useEffect)((()=>(e.pauseOnFocusLoss&&(document.hasFocus()||_(),window.addEventListener("focus",b),window.addEventListener("blur",_)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",b),window.removeEventListener("blur",_))})),[e.pauseOnFocusLoss]);const T={onMouseDown:g,onTouchStart:g,onMouseUp:m,onTouchEnd:m};return u&&h&&(T.onMouseEnter=_,T.onMouseLeave=b),f&&(T.onClick=e=>{d&&d(e),a.canCloseOnClick&&p()}),{playToast:b,pauseToast:_,isRunning:t,preventExitTransition:o,toastRef:s,eventHandlers:T}}function _(e){let{closeToast:t,theme:n,ariaLabel:o="close"}=e;return r.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":o},r.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},r.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function E(e){let{delay:t,isRunning:n,closeToast:o,type:s="default",hide:a,className:c,style:u,controlledProgress:h,progress:p,rtl:d,isIn:f,theme:g}=e;const m=a||h&&0===p,y={...u,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:m?0:1};h&&(y.transform=`scaleX(${p})`);const v=i("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${g}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":d}),b=l(c)?c({rtl:d,type:s,defaultClassName:v}):i(v,c);return r.createElement("div",{role:"progressbar","aria-hidden":m?"true":"false","aria-label":"notification timer",className:b,style:y,[h&&p>=1?"onTransitionEnd":"onAnimationEnd"]:h&&p<1?null:()=>{f&&o()}})}const w=e=>{const{isRunning:t,preventExitTransition:n,toastRef:o,eventHandlers:s}=b(e),{closeButton:a,children:c,autoClose:u,onClick:h,type:p,hideProgressBar:d,closeToast:f,transition:g,position:m,className:y,style:v,bodyClassName:w,bodyStyle:T,progressClassName:k,progressStyle:S,updateId:C,role:O,progress:I,rtl:x,toastId:R,deleteToast:N,isIn:A,isLoading:$,iconOut:D,closeOnClick:M,theme:P}=e,L=i("Toastify__toast",`Toastify__toast-theme--${P}`,`Toastify__toast--${p}`,{"Toastify__toast--rtl":x},{"Toastify__toast--close-on-click":M}),B=l(y)?y({rtl:x,position:m,type:p,defaultClassName:L}):i(L,y),F=!!I||!u,j={closeToast:f,type:p,theme:P};let U=null;return!1===a||(U=l(a)?a(j):(0,r.isValidElement)(a)?(0,r.cloneElement)(a,j):_(j)),r.createElement(g,{isIn:A,done:N,position:m,preventExitTransition:n,nodeRef:o},r.createElement("div",{id:R,onClick:h,className:B,...s,style:v,ref:o},r.createElement("div",{...A&&{role:O},className:l(w)?w({type:p}):i("Toastify__toast-body",w),style:T},null!=D&&r.createElement("div",{className:i("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!$})},D),r.createElement("div",null,c)),U,r.createElement(E,{...C&&!F?{key:`pb-${C}`}:{},rtl:x,theme:P,delay:u,isRunning:t,isIn:A,closeToast:f,hide:d,type:p,style:S,className:k,controlledProgress:F,progress:I||0})))},T=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},k=h(T("bounce",!0)),S=(h(T("slide",!0)),h(T("zoom")),h(T("flip")),(0,r.forwardRef)(((e,t)=>{const{getToastToRender:n,containerRef:o,isToastActive:s}=m(e),{className:a,style:u,rtl:h,containerId:p}=e;function d(e){const t=i("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":h});return l(a)?a({position:e,rtl:h,defaultClassName:t}):i(t,c(a))}return(0,r.useEffect)((()=>{t&&(t.current=o.current)}),[]),r.createElement("div",{ref:o,className:"Toastify",id:p},n(((e,t)=>{const n=t.length?{...u}:{...u,pointerEvents:"none"};return r.createElement("div",{className:d(e),style:n,key:`container-${e}`},t.map(((e,n)=>{let{content:o,props:i}=e;return r.createElement(w,{...i,isIn:s(i.toastId),style:{...i.style,"--nth":n+1,"--len":t.length},key:`toast-${i.key}`},o)})))})))})));S.displayName="ToastContainer",S.defaultProps={position:"top-right",transition:k,autoClose:5e3,closeButton:_,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let C,O=new Map,I=[],x=1;function R(){return""+x++}function N(e){return e&&(a(e.toastId)||s(e.toastId))?e.toastId:R()}function A(e,t){return O.size>0?d.emit(0,e,t):I.push({content:e,options:t}),t.toastId}function $(e,t){return{...t,type:t&&t.type||e,toastId:N(t)}}function D(e){return(t,n)=>A(t,$(e,n))}function M(e,t){return A(e,$("default",t))}M.loading=(e,t)=>A(e,$("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),M.promise=function(e,t,n){let r,{pending:o,error:i,success:s}=t;o&&(r=a(o)?M.loading(o,n):M.loading(o.render,{...n,...o}));const c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(e,t,o)=>{if(null==t)return void M.dismiss(r);const i={type:e,...c,...n,data:o},s=a(t)?{render:t}:t;return r?M.update(r,{...i,...s}):M(s.render,{...i,...s}),o},h=l(e)?e():e;return h.then((e=>u("success",s,e))).catch((e=>u("error",i,e))),h},M.success=D("success"),M.info=D("info"),M.error=D("error"),M.warning=D("warning"),M.warn=M.warning,M.dark=(e,t)=>A(e,$("default",{theme:"dark",...t})),M.dismiss=e=>{O.size>0?d.emit(1,e):I=I.filter((t=>null!=e&&t.options.toastId!==e))},M.clearWaitingQueue=function(e){return void 0===e&&(e={}),d.emit(5,e)},M.isActive=e=>{let t=!1;return O.forEach((n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},M.update=function(e,t){void 0===t&&(t={}),setTimeout((()=>{const n=function(e,t){let{containerId:n}=t;const r=O.get(n||C);return r&&r.getToast(e)}(e,t);if(n){const{props:r,content:o}=n,i={delay:100,...r,...t,toastId:t.toastId||e,updateId:R()};i.toastId!==e&&(i.staleId=e);const s=i.render||o;delete i.render,A(s,i)}}),0)},M.done=e=>{M.update(e,{progress:1})},M.onChange=e=>(d.on(4,e),()=>{d.off(4,e)}),M.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},M.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},d.on(2,(e=>{C=e.containerId||e,O.set(C,e),I.forEach((e=>{d.emit(0,e.content,e.options)})),I=[]})).on(3,(e=>{O.delete(e.containerId||e),0===O.size&&d.off(0).off(1).off(5)}))}}]);
//# sourceMappingURL=bot.260.cee2720af5212be0565f.js.map