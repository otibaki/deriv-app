(self.webpackChunk_deriv_trader=self.webpackChunk_deriv_trader||[]).push([["screen-small"],{"../../node_modules/react-swipeable/dist/react-swipeable.umd.js":function(e,t,r){!function(e,t){var r=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,t}(t);function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}var a="Left",o="Right",i="Down",l={delta:10,preventDefaultTouchmoveEvent:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0},u={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},c="mousemove",s="mouseup";function m(e,t,r,n){return e>t?r>0?o:a:n>0?i:"Up"}function d(e,t){if(0===t)return e;var r=Math.PI/180*t;return[e[0]*Math.cos(r)+e[1]*Math.sin(r),e[1]*Math.cos(r)-e[0]*Math.sin(r)]}function _(e,t){var r=function(t){t&&"touches"in t&&t.touches.length>1||e((function(e,r){r.trackMouse&&(document.addEventListener(c,a),document.addEventListener(s,i));var o="touches"in t?t.touches[0]:t,l=d([o.clientX,o.clientY],r.rotationAngle);return n({},e,u,{initial:[].concat(l),xy:l,start:t.timeStamp||0})}))},a=function(t){e((function(e,r){if("touches"in t&&t.touches.length>1)return e;var a="touches"in t?t.touches[0]:t,o=d([a.clientX,a.clientY],r.rotationAngle),i=o[0],u=o[1],c=i-e.xy[0],s=u-e.xy[1],_=Math.abs(c),p=Math.abs(s),f=(t.timeStamp||0)-e.start,b=Math.sqrt(_*_+p*p)/(f||1),v=[c/(f||1),s/(f||1)],y=m(_,p,c,s),h="number"==typeof r.delta?r.delta:r.delta[y.toLowerCase()]||l.delta;if(_<h&&p<h&&!e.swiping)return e;var g={absX:_,absY:p,deltaX:c,deltaY:s,dir:y,event:t,first:e.first,initial:e.initial,velocity:b,vxvy:v};g.first&&r.onSwipeStart&&r.onSwipeStart(g),r.onSwiping&&r.onSwiping(g);var E=!1;return(r.onSwiping||r.onSwiped||"onSwiped"+y in r)&&(E=!0),E&&r.preventDefaultTouchmoveEvent&&r.trackTouch&&t.cancelable&&t.preventDefault(),n({},e,{first:!1,eventData:g,swiping:!0})}))},o=function(t){e((function(e,r){var a;if(e.swiping&&e.eventData){a=n({},e.eventData,{event:t}),r.onSwiped&&r.onSwiped(a);var o=r["onSwiped"+a.dir];o&&o(a)}else r.onTap&&r.onTap({event:t});return n({},e,u,{eventData:a})}))},i=function(e){document.removeEventListener(c,a),document.removeEventListener(s,i),o(e)},_=function(e,t){var n=function(){};if(e&&e.addEventListener){var i=[["touchstart",r],["touchmove",a],["touchend",o]];i.forEach((function(r){var n=r[0],a=r[1];return e.addEventListener(n,a,{passive:t})})),n=function(){return i.forEach((function(t){var r=t[0],n=t[1];return e.removeEventListener(r,n)}))}}return n},p={ref:function(t){null!==t&&e((function(e,r){if(e.el===t)return e;var a={};return e.el&&e.el!==t&&e.cleanUpTouch&&(e.cleanUpTouch(),a.cleanUpTouch=void 0),r.trackTouch&&t&&(a.cleanUpTouch=_(t,!r.preventDefaultTouchmoveEvent)),n({},e,{el:t},a)}))}};return t.trackMouse&&(p.onMouseDown=r),[p,_]}e.DOWN=i,e.LEFT=a,e.RIGHT=o,e.UP="Up",e.useSwipeable=function(e){var t=e.trackMouse,a=r.useRef(n({},u)),o=r.useRef(n({},l));o.current=n({},l,e,{delta:void 0===e.delta?l.delta:e.delta,rotationAngle:void 0===e.rotationAngle?l.rotationAngle:e.rotationAngle,trackTouch:void 0===e.trackTouch?l.trackTouch:e.trackTouch});var i=r.useMemo((function(){return _((function(e){return a.current=e(a.current,o.current)}),{trackMouse:t})}),[t]),c=i[0],s=i[1];return a.current=function(e,t,r){var a={};return!t.trackTouch&&e.cleanUpTouch?(e.cleanUpTouch(),a.cleanUpTouch=void 0):t.trackTouch&&!e.cleanUpTouch&&e.el&&(a.cleanUpTouch=r(e.el,!t.preventDefaultTouchmoveEvent)),n({},e,a)}(a.current,o.current,s),c}}(t,r("react"))},"./src/Modules/Trading/Components/Form/screen-small.tsx":(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ht});var n=r("react"),a=r.n(n),o=r("@deriv/components"),i=r("./src/App/Components/Elements/ContentLoader/index.ts"),l=r("../../node_modules/classnames/index.js"),u=r.n(l),c=r("./src/Stores/useTraderStores.tsx"),s=r("mobx-react-lite"),m=r("@deriv/translations"),d=function(e){var t=e.onChange,r=e.is_allow_equal,n=e.has_equals_only,i=e.className;return a().createElement("div",{className:u()("allow-equals","mobile-widget",i)},a().createElement(o.Checkbox,{label:(0,m.localize)("Equals"),value:r,name:"is_equal",onChange:function(e){if(e.persist(),"checked"in e.target){var r=e.target,n=r.name,a=r.checked;t({target:{name:n,value:Number(a)}})}},disabled:n}),a().createElement(o.Text,{as:"p",size:"xxxs"},a().createElement(m.Localize,{i18n_default_text:"Win payout if exit spot is also equal to entry spot."})))};const _=(0,s.observer)((function(){var e=(0,c.P)(),t={is_allow_equal:!!e.is_equal,has_equals_only:e.has_equals_only,onChange:e.onChange};return a().createElement(d,t)}));var p=r("./src/Stores/Modules/Trading/Helpers/allow-equals.ts"),f=r("@deriv/shared"),b=r("../../node_modules/lodash.debounce/index.js"),v=r.n(b),y=r("./src/Stores/Modules/Trading/Helpers/proposal.ts");function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return(t=function(e){var t=function(e){if("object"!=h(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==h(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=v()((function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=E(E({},e),r),o=(0,y.Tz)(a),i={},l=function(e){(n||!e.error&&e.subscription)&&(e.subscription&&(i[e.subscription.id]=!0),t(e))};if(!(0,f.isEmptyObject)(o)){var u=o;Object.keys(u).forEach((function(e){f.WS.subscribeProposal(u[e],l)}))}return function(){Object.keys(i).forEach((function(e){f.WS.forget(e),delete i[e]}))}}),700),k=r("../stores/src/useStore.ts"),S=r("./src/Modules/Trading/Components/Form/TradeParams/min-max-stake-info.tsx"),A=(0,s.observer)((function(e){var t=e.basis,r=e.duration_unit,n=e.duration_value,i=e.toggleModal,l=e.has_duration_error,s=e.selected_basis,d=e.setSelectedAmount,_=e.setAmountError,p=(0,k.A)(),b=p.ui,v=p.client,y=b.addToast,h=v.currency,g=(0,c.P)(),E=g.contract_type,x=g.is_turbos,w=g.is_vanilla,A=g.onChangeMultiple,T=g.amount,M=g.basis,N=g.duration_unit,P=g.duration,O=g.stake_boundary[E.toUpperCase()]||{},j=O.min_stake,C=O.max_stake,z=(0,f.getDecimalPlaces)(h),I=Number("0").toFixed((0,f.getDecimalPlaces)(h)),D=parseFloat(I.toString().replace(/.$/,"1")),L=function(e){var t=a().createElement(m.Localize,{i18n_default_text:"Should not be 0 or empty"}),r=a().createElement(m.Localize,{i18n_default_text:"Stake must be between {{min_stake}} {{currency}} and {{max_stake}} {{currency}}",values:{min_stake:j,currency:h,max_stake:C}}),n=parseFloat(e.toString());return"0."===e.toString()||0===n?(y({key:"amount_error",content:t,type:"error",timeout:2e3}),null==_||_(!0),"error"):isNaN(n)||n<D||e.toString().length<1?(y({key:"amount_error",content:t,type:"error",timeout:2e3}),null==_||_(!0),!1):n<Number(j)?(y({key:"amount_error",content:r,type:"error",timeout:2e3}),null==_||_(!0),"error"):(null==_||_(!1),!0)};return a().createElement(a().Fragment,null,a().createElement("div",{className:"trade-params__stake-container"},(x||w)&&a().createElement(S.A,{currency:h,max_stake:C,min_stake:j}),a().createElement("div",{className:u()("trade-params__amount-keypad",{strike__pos:w})},a().createElement(o.Numpad,{value:s||"",format:function(e){return isNaN(+e)||""===e?e:Number(e).toFixed(z)},onSubmit:function(e){var a={};r===N||l||(a.duration_unit=r),n===P||l||(a.duration=n),e===T&&t===M||(a.basis=t,a.amount=+e),(0,f.isEmptyObject)(a)||A(a),i()},currency:h,min:D,max:C,is_currency:!0,render:function(e){var t=e.value,r=e.className;return a().createElement("div",{className:r},parseFloat(t)>0?a().createElement(o.Money,{currency:h,amount:t,should_format:!1}):t)},reset_press_interval:450,reset_value:"",pip_size:z,onValidate:L,submit_label:(0,m.localize)("OK"),onValueChange:function(e){d(t,e),L(e)}}))))}));const T=(0,s.observer)((function(e){var t=e.toggleModal,r=e.duration_value,n=e.duration_unit,i=e.has_duration_error,l=e.amount_tab_idx,u=e.setAmountError,s=e.setAmountTabIdx,m=e.setSelectedAmount,d=e.stake_value,_=e.payout_value,p=(0,c.P)(),f=p.basis,b=p.basis_list,v=void 0!==l?l:b.findIndex((function(e){return e.value===f}));return 1===b.length?a().createElement(A,{toggleModal:t,duration_value:r,duration_unit:n,has_duration_error:i,basis:b[0].value,setAmountError:u,selected_basis:"stake"===b[0].value?d:_,setSelectedAmount:m}):a().createElement("div",null,a().createElement(o.Tabs,{active_index:v,onTabItemClick:s,top:!0},b.map((function(e){switch(e.value){case"stake":return a().createElement("div",{label:e.text,key:e.value},a().createElement(A,{toggleModal:t,duration_value:r,duration_unit:n,has_duration_error:i,basis:e.value,setAmountError:u,selected_basis:d,setSelectedAmount:m}));case"payout":return a().createElement("div",{label:e.text,key:e.value},a().createElement(A,{toggleModal:t,duration_value:r,duration_unit:n,has_duration_error:i,basis:e.value,setAmountError:u,selected_basis:_,setSelectedAmount:m}));default:return null}}))))}));var M=r("./src/Modules/Trading/Components/Form/TradeParams/Multiplier/info.tsx");function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const O=function(e){var t=e.is_open,r=e.toggleModal;return(0,o.usePreventIOSZoom)(),a().createElement(a().Fragment,null,a().createElement(o.Modal,{id:"dt_trade_parameters_mobile",className:"trade-params dc-modal-header--title-bar",is_open:t,is_title_centered:!0,should_header_stick_body:!1,toggleModal:r,height:"auto",width:"calc(100vw - 32px)",title:(0,m.localize)("Stake")},a().createElement(o.Div100vhContainer,{className:"mobile-widget-dialog__wrapper",max_autoheight_offset:"48px"},a().createElement(j,{toggleModal:r}))))};var j=(0,s.observer)((function(e){var t=e.toggleModal,r=(0,c.P)(),n=r.amount,o=N(a().useState(n),2),i=o[0],l=o[1],u=N(a().useState(),2),s=u[0],m=u[1],d=N(a().useState(),2),_=d[0],p=d[1],b=a().useRef(n),v=(0,f.useIsMounted)();return a().useEffect((function(){if(i!==n){var e=w(r,(function(e){var t,r,n=e.proposal,a=e.echo_req,o=e.subscription;v()&&n&&a.contract_type===f.CONTRACT_TYPES.MULTIPLIER.UP&&Number(a.amount)===Number(b.current)?(m(n.commission),(null===(t=n.limit_order)||void 0===t?void 0:t.stop_out)&&p(null===(r=n.limit_order.stop_out)||void 0===r?void 0:r.order_amount)):null!=o&&o.id&&f.WS.forget(o.id)}),{amount:i});return function(){null==e||e()}}}),[i]),a().createElement(a().Fragment,null,a().createElement(T,{toggleModal:t,amount_tab_idx:0,setSelectedAmount:function(e,t){l(t),b.current=t},stake_value:i}),a().createElement(M.A,{className:"trade-params__multiplier-trade-info",should_show_tooltip:!0,commission:s,stop_out:_,amount:i}))}));const C=function(e){var t,r=e.items_list,n=e.contract_name,i=e.current_value_object,l=e.onChange,u=e.info,c=e.is_tooltip_disabled,s=void 0!==c&&c,m=e.popover_alignment,d=void 0===m?"right":m,_=e.toggleModal,p=e.should_show_tooltip,f=void 0===p||p;return a().createElement(a().Fragment,null,f&&a().createElement("div",{className:"trade-params__".concat(n,"-ic-info-wrapper")},a().createElement(o.Popover,{alignment:d,classNameBubble:"dc-popover__trade-params",disable_target_icon:s,icon:"info",id:"dt_".concat(n,"-stake__tooltip"),is_bubble_hover_enabled:!0,zIndex:"9999",message:u})),a().createElement(o.RadioGroup,{className:"trade-params__".concat(n,"-radio-group"),name:"trade-params__".concat(n,"-radio"),selected:Number.isNaN(i.value)?"":null===(t=i.value)||void 0===t?void 0:t.toString(),onToggle:function(e){l({target:{name:i.name,value:Number(e.target.value)}}),_()}},null==r?void 0:r.map((function(e){var t=e.text,r=e.value;return a().createElement(o.RadioGroup.Item,{key:r,id:t,label:t,value:null==r?void 0:r.toString(),disabled:!1})}))))};function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return I(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var D=(0,s.observer)((function(e){var t=e.toggleModal,r=(0,c.P)(),n=r.amount,o=r.multiplier,i=r.multiplier_range_list,l=r.onChange,u=z(a().useState(),2),s=u[0],m=u[1],d=z(a().useState(),2),_=d[0],p=d[1],b=(0,f.useIsMounted)();return a().useEffect((function(){if(n){var e=w(r,(function(e){var t,r,a=e.echo_req,o=e.proposal,i=e.subscription;b()&&o&&a.contract_type===f.CONTRACT_TYPES.MULTIPLIER.UP&&Number(a.amount)===n?(m(o.commission),(null===(t=o.limit_order)||void 0===t?void 0:t.stop_out)&&p(null===(r=o.limit_order.stop_out)||void 0===r?void 0:r.order_amount)):null!=i&&i.id&&f.WS.forget(i.id)}),{amount:n});return function(){null==e||e()}}}),[n]),a().createElement(a().Fragment,null,a().createElement(C,{contract_name:f.TRADE_TYPES.MULTIPLIER,current_value_object:{name:f.TRADE_TYPES.MULTIPLIER,value:o},items_list:i,onChange:l,toggleModal:t,should_show_tooltip:!1}),a().createElement(M.A,{className:"trade-params__multiplier-trade-info",should_show_tooltip:!0,commission:s,stop_out:_,amount:n}))}));const L=D,U=(0,s.observer)((function(e){var t,r,n=e.is_open,i=e.modal_title,l=e.toggleModal,u=(0,c.P)(),s=u.accumulator_range_list,d=u.growth_rate,_=u.onChange,p=u.tick_size_barrier_percentage,b=u.proposal_info;(0,o.usePreventIOSZoom)();var v=(null==b||null===(t=b.ACCU)||void 0===t?void 0:t.has_error)||!(null!=b&&null!==(r=b.ACCU)&&void 0!==r&&r.id)||(0,f.isEmptyObject)(b);return a().createElement(a().Fragment,null,a().createElement(o.Modal,{id:"dt_trade_parameters_mobile",className:"trade-params dc-modal-header--title-bar",is_open:n,is_title_centered:!0,should_header_stick_body:!1,toggleModal:l,height:"auto",width:"calc(100vw - 32px)",title:i},a().createElement(o.Div100vhContainer,{className:"mobile-widget-dialog__wrapper",max_autoheight_offset:"48px"},i===(0,m.localize)("Multiplier")?a().createElement(L,{toggleModal:l}):a().createElement(C,{contract_name:f.TRADE_TYPES.ACCUMULATOR,current_value_object:{name:"growth_rate",value:d},info:(0,m.localize)("Your stake will grow at {{growth_rate}}% per tick as long as the current spot price remains within ±{{tick_size_barrier_percentage}} from the previous spot price.",{growth_rate:(0,f.getGrowthRatePercentage)(d),tick_size_barrier_percentage:p}),is_tooltip_disabled:v,items_list:null==s?void 0:s.map((function(e){return{text:"".concat((0,f.getGrowthRatePercentage)(e),"%"),value:e}})),onChange:_,popover_alignment:"bottom",toggleModal:l}))))}));var F=r("./src/Modules/Trading/Components/Form/TradeParams/Multiplier/expiration.tsx");const Y=function(e){var t=e.is_open,r=e.toggleModal;return a().createElement(o.Modal,{is_open:t,toggleModal:r,has_close_icon:!1,should_header_stick_body:!1,title:a().createElement(m.Localize,{i18n_default_text:"Expiration"})},a().createElement(o.Div100vhContainer,{className:"mobile-widget-dialog__wrapper",max_autoheight_offset:"48px"},a().createElement(o.Text,{size:"xs",color:"general",as:"div",className:"dc-modal-body__expiration"},a().createElement(m.Localize,{i18n_default_text:"Your contract will be closed automatically at the next available asset price on <0></0>.",components:[a().createElement(F.A,{key:0,is_text_only:!0,text_size:"xs"})]})),a().createElement(o.Modal.Footer,{has_separator:!0},a().createElement(o.Button,{className:"dc-btn__wide",large:!0,primary:!0,has_effect:!0,text:(0,m.localize)("OK"),onClick:r}))))};function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var $=function(e){var t=e.amount,r=e.currency,n=e.expiration,i=e.is_crypto_multiplier,l=R(a().useState(!1),2),u=l[0],c=l[1],s=R(a().useState(!1),2),d=s[0],_=s[1],p=function(){c(!u)},f=function(){_(!d)};return a().createElement(a().Fragment,null,a().createElement(O,{is_open:u,toggleModal:p}),a().createElement("button",{className:"mobile-widget mobile-widget__multiplier",onClick:p},a().createElement("div",{className:"mobile-widget__multiplier-amount"},a().createElement("div",{className:"mobile-widget__item"},a().createElement(o.Text,{weight:"bold",size:"xxs"},a().createElement(o.Money,{amount:t,currency:r,show_currency:!0})))),a().createElement(M.A,{className:"mobile-widget__multiplier-trade-info",commission_text_size:"xxxxs",stop_out_text_size:"xxxxs"})),i&&a().createElement("button",{className:"mobile-widget",onClick:n?f:void 0},a().createElement("div",{className:"mobile-widget__multiplier-expiration"},a().createElement(o.Text,{size:"xxs"},a().createElement(m.Localize,{i18n_default_text:"Expires on"})),a().createElement(F.A,{is_text_only:!0,text_size:"xxs"})),a().createElement(Y,{is_open:d,toggleModal:f})))},G=(0,s.observer)((function(){var e=(0,c.P)(),t={amount:e.amount,expiration:e.expiration,currency:e.currency,is_crypto_multiplier:e.is_crypto_multiplier};return a().createElement($,t)})),V=function(e){var t=e.displayed_trade_param,r=e.tooltip_message,n=e.is_disabled,i=e.modal_title,l=R(a().useState(!1),2),c=l[0],s=l[1],m=function(){n||(0,f.clickAndKeyEventHandler)((function(){return s(!c)}))};return a().createElement(a().Fragment,null,a().createElement(U,{is_open:c,toggleModal:m,modal_title:i}),a().createElement("div",{className:"mobile-widget mobile-widget__multiplier-options",onClick:m,onKeyDown:m},a().createElement("div",{className:u()("mobile-widget__item",{"mobile-widget__item-disabled":n})},a().createElement("span",{className:"mobile-widget__item-value"},t)),!!r&&a().createElement(o.Popover,{alignment:"left",className:"mobile-widget__item-tooltip",classNameBubble:"mobile-widget__item-popover",icon:"info",is_bubble_hover_enabled:!0,message:r,onClick:function(e){e.stopPropagation()},zIndex:"9999"})))},W=(0,s.observer)((function(){var e=(0,c.P)().multiplier,t="x".concat(e),r=(0,m.localize)("Multiplier");return a().createElement(V,{displayed_trade_param:t,modal_title:r})})),B=(0,s.observer)((function(){var e=(0,c.P)(),t=e.growth_rate,r=e.has_open_accu_contract,n=e.tick_size_barrier_percentage,o="".concat((0,f.getGrowthRatePercentage)(t),"%"),i=(0,m.localize)("Growth rate"),l=a().createElement(m.Localize,{i18n_default_text:"Your stake will grow at {{growth_rate}}% per tick as long as the current spot price remains within ±{{tick_size_barrier_percentage}} from the previous spot price.",values:{growth_rate:(0,f.getGrowthRatePercentage)(t),tick_size_barrier_percentage:n}});return a().createElement(V,{displayed_trade_param:o,is_disabled:r,modal_title:i,tooltip_message:l})})),H=r("./src/Modules/Trading/Components/Form/LabeledQuantityInputMobile/index.ts");const K=(0,s.observer)((function(){var e=(0,k.A)(),t=e.ui,r=e.client,n=t.current_focus,i=t.setCurrentFocus,l=r.is_single_currency,s=(0,c.P)(),d=s.amount,_=s.currency,p=s.onChange,b=s.has_open_accu_contract;return a().createElement(a().Fragment,null,a().createElement(o.MobileWrapper,null,a().createElement(H.A,{input_label:(0,m.localize)("Stake"),className:u()("trade-container__amount","trade-container__amount--accumulator"),classNameInlinePrefix:"trade-container__currency",classNameInput:u()("trade-container__input","trade-container__input--accumulator"),currency:_,current_focus:n,fractional_digits:(0,f.getDecimalPlaces)(_),id:"dt_amount_input",inline_prefix:l?_:void 0,is_autocomplete_disabled:!0,is_disabled:b,is_float:!0,is_hj_whitelisted:!0,is_incrementable:!0,is_negative_disabled:!0,max_length:f.AMOUNT_MAX_LENGTH,name:"amount",onChange:p,type:"tel",value:d,ariaLabel:(0,m.localize)("Amount"),setCurrentFocus:i})))}));var X=r("./src/Modules/Trading/Components/Form/TradeParams/Accumulator/accumulators-info-display.tsx"),Z=r("./src/Modules/Trading/Components/Form/TradeParams/barrier.tsx"),Q=function(e,t,r,n,a,o){"stake"===n&&t!==o?(e.basis="stake",e.amount=t):"payout"===n&&r!==o?(e.basis="payout",e.amount=r):a!==n&&(e.basis=n,e.amount=o)};function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const ee=(0,s.observer)((function(e){var t=e.setDurationError,r=e.basis_option,n=e.toggleModal,i=e.has_amount_error,l=e.payout_value,u=e.stake_value,s=e.selected_duration,d=e.setSelectedDuration,_=(0,c.P)(),p=_.duration_min_max,b=_.duration,v=_.duration_unit,y=_.basis,h=_.amount,g=_.onChangeMultiple;a().useEffect((function(){t(!1)}),[]);var E=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,f.getDurationMinMaxValues)(p,"tick","t"),2),x=E[0],w=E[1],k=b<Number(x)&&s<Number(x)?Number(x):s;return a().createElement("div",{className:"trade-params__duration-tickpicker"},a().createElement(o.TickPicker,{default_value:k,submit_label:(0,m.localize)("OK"),max_value:Number(w),min_value:Number(x),onSubmit:function(e){var t=e.target.value,a={};i||Q(a,u,l,r,y,h),b===t&&"t"===v||(a.duration_unit="t",a.duration=t),(0,f.isEmptyObject)(a)||g(a),n()},onValueChange:function(e){return d("t",e)},singular_label:(0,m.localize)("Tick"),plural_label:(0,m.localize)("Ticks")}))}));var te=r("./src/Modules/Trading/Components/Form/TradeParams/Duration/duration-range-text.tsx"),re=r("./src/Modules/Trading/Components/Form/TradeParams/Duration/expiry-text.tsx"),ne=r("../../node_modules/moment/moment.js"),ae=r.n(ne);function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ie(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const le=(0,s.observer)((function(e){var t=e.basis_option,r=e.contract_expiry,n=void 0===r?"intraday":r,i=e.duration_unit_option,l=e.duration_values,u=e.expiry_epoch,s=e.has_amount_error,d=e.payout_value,_=e.selected_duration,p=e.setDurationError,b=e.setSelectedDuration,v=e.stake_value,y=e.show_expiry,h=void 0!==y&&y,g=e.toggleModal,E=(0,k.A)().ui.addToast,x=(0,c.P)(),w=x.duration_min_max,S=x.duration,A=x.duration_unit,T=x.basis,M=x.amount,N=x.onChangeMultiple,P=i.value,O=oe((0,f.getDurationMinMaxValues)(w,n,P),2),j=O[0],C=O[1],z=oe(a().useState(!1),2),I=z[0],D=z[1],L=a().createElement(m.Localize,{i18n_default_text:"Should be between {{min}} and {{max}}",values:{min:j,max:(0,f.addComma)(C,0,!1)}}),U=function(e){return Number(e)<Number(j)||Math.trunc(_)>Number(C)||e.toString().length<1?(E({key:"duration_error",content:L,type:"error",timeout:2e3}),p(!0),D(!0),"error"):Number(e)>Number(C)?(E({key:"duration_error",content:L,type:"error",timeout:2e3}),D(!0),"error"):(p(!1),D(!1),!0)},F=I?"":function(e,t){if("d"!==A)return ae().utc().add(Number(t),"days").format("D MMM YYYY, [23]:[59]:[59] [GMT +0]");var r=new Date(1e3*(e-24*S*60*60));return t&&(r=new Date(r.getTime()+24*Number(t)*60*60*1e3)),r.toUTCString().replace("GMT","GMT +0").substring(5).replace(/(\d{2}) (\w{3} \d{4})/,"$1 $2,")}(Number(u),Number(null==l?void 0:l.d_duration)),Y=(0,f.getUnitMap)()[P],R=Y.name_plural,q=Y.name,$=null!=R?R:q;return a().createElement("div",{className:"trade-params__amount-keypad"},a().createElement("div",{className:"text-container"},a().createElement(te.A,{min:j,max:C,duration_unit_text:$}),h&&a().createElement(re.A,{fixed_date:F})),a().createElement(o.Numpad,{value:_,onSubmit:function(e){var r={};s||Q(r,v,d,t,T,M),S===Number(e)&&A===P||(r.duration_unit=P,r.duration=Number(e),r.expiry_type="duration"),(0,f.isEmptyObject)(r)||N(r),g()},render:function(e){var t=e.value,r=e.className;return a().createElement("div",{className:r},t)},pip_size:0,submit_label:(0,m.localize)("OK"),min:Number(j),max:Number(C),reset_press_interval:350,reset_value:"",onValidate:U,onValueChange:function(e){b(P,Number(e)),U(e)}}))}));function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const ce=(0,s.observer)((function(e){var t=e.amount_tab_idx,r=e.d_duration,n=e.duration_tab_idx,i=e.expiry_epoch,l=e.h_duration,u=e.has_amount_error,s=e.m_duration,d=e.payout_value,_=e.s_duration,p=e.setDurationError,b=e.setDurationTabIdx,v=e.setSelectedDuration,y=e.stake_value,h=e.t_duration,g=e.toggleModal,E=(0,c.P)(),x=E.duration_units_list,w=E.duration_min_max,k=E.basis,S={t_duration:h,s_duration:_,m_duration:s,h_duration:l,d_duration:r},A=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ue(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ue(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,f.getDurationMinMaxValues)(w,"daily","d"),2),T=A[0],M=A[1],N=function(e){v("d",e)},P=function(){return 0===t?"stake":1===t?"payout":k};return a().createElement("div",null,a().createElement(o.Tabs,{active_index:n,onTabItemClick:function(e){b(e);var t=x[e].value;v(t,S["".concat(t,"_duration")])},single_tab_has_no_label:!0,top:!0},x.map((function(e){switch(e.value){case"t":return a().createElement("div",{label:e.text,key:e.value},a().createElement(ee,{basis_option:P(),has_amount_error:u,toggleModal:g,selected_duration:h,setDurationError:p,setSelectedDuration:v,stake_value:y,payout_value:d}));case"s":return a().createElement("div",{label:e.text,key:e.value},a().createElement(le,{basis_option:P(),has_amount_error:u,toggleModal:g,duration_unit_option:e,selected_duration:_,setDurationError:p,setSelectedDuration:v,stake_value:y,payout_value:d}));case"m":return a().createElement("div",{label:e.text,key:e.value},a().createElement(le,{basis_option:P(),has_amount_error:u,toggleModal:g,duration_unit_option:e,selected_duration:s,setDurationError:p,setSelectedDuration:v,stake_value:y,payout_value:d}));case"h":return a().createElement("div",{label:e.text,key:e.value},a().createElement(le,{basis_option:P(),has_amount_error:u,toggleModal:g,duration_unit_option:e,selected_duration:l,setDurationError:p,setSelectedDuration:v,stake_value:y,payout_value:d}));case"d":return a().createElement("div",{label:e.text,key:e.value},a().createElement(le,{basis_option:P(),has_amount_error:u,toggleModal:g,duration_unit_option:e,contract_expiry:"daily",selected_duration:r,setDurationError:p,setSelectedDuration:v,stake_value:y,show_expiry:!0,payout_value:d,expiry_epoch:i,duration_values:S}),a().createElement(o.RelativeDatepicker,{onChange:N,min_date:T,max_date:M,title:(0,m.localize)("Pick an end date")}));default:return null}}))))}));var se=r("./src/Modules/Trading/Components/Form/TradeParams/last-digit.tsx");function me(e){return me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},me(e)}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(r),!0).forEach((function(t){fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function fe(e,t,r){return(t=function(e){var t=function(e){if("object"!=me(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=me(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==me(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var be=Object.freeze({t:5,s:15,m:3,h:1,d:1}),ve=function(e,t){return pe(pe({},e),t)},ye=function(e){return be[e]};const he=(0,s.observer)((function(e){var t=e.is_open,r=e.toggleModal,n=e.tab_index,i=(0,k.A)().client.currency,l=(0,c.P)(),u=l.amount,s=l.form_components,m=l.duration,d=l.duration_unit,_=l.duration_units_list,p=_.findIndex((function(e){return e.value===d})),f=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return de(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?de(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a().useReducer(ve,{trade_param_tab_idx:n,duration_tab_idx:p,amount_tab_idx:void 0,has_amount_error:!1,has_duration_error:!1,curr_duration_unit:d,curr_duration_value:m,t_duration:ye("t"),s_duration:ye("s"),m_duration:ye("m"),h_duration:ye("h"),d_duration:ye("d"),stake_value:u,payout_value:u}),2),b=f[0],v=f[1];(0,o.usePreventIOSZoom)(),a().useEffect((function(){y(d,m)}),[m,d]);var y=function(e,t){v(fe(fe(fe({},"".concat(e,"_duration"),t),"curr_duration_unit",e),"curr_duration_value",t))};return a().createElement(a().Fragment,null,a().createElement(o.Modal,{id:"dt_trade_parameters_mobile",className:"trade-params",is_open:t,header:a().createElement("div",null),toggleModal:r,height:"53.8rem",width:"calc(100vw - 32px)"},a().createElement(o.ThemedScrollbars,null,a().createElement(o.Div100vhContainer,{className:"mobile-widget-dialog__wrapper",max_autoheight_offset:"120px"},a().createElement(ge,{currency:i,toggleModal:r,isVisible:function(e){return s.includes(e)},setTradeParamTabIdx:function(e){return v({trade_param_tab_idx:e})},trade_param_tab_idx:n,setDurationTabIdx:function(e){return v({duration_tab_idx:e})},duration_tab_idx:b.duration_tab_idx,setAmountTabIdx:function(e){return v({amount_tab_idx:e})},amount_tab_idx:b.amount_tab_idx,setSelectedAmount:function(e,t){return v(fe({},"".concat(e,"_value"),t))},stake_value:b.stake_value,payout_value:b.payout_value,duration_unit:b.curr_duration_unit,duration_value:b.curr_duration_value,duration_units_list:_,has_amount_error:b.has_amount_error,setAmountError:function(e){v({has_amount_error:e})},setSelectedDuration:y,has_duration_error:b.has_duration_error,setDurationError:function(e){v({has_duration_error:e})},t_duration:b.t_duration,s_duration:b.s_duration,m_duration:b.m_duration,h_duration:b.h_duration,d_duration:b.d_duration})))))}));var ge=(0,s.observer)((function(e){var t=e.currency,r=e.toggleModal,n=e.isVisible,i=e.setAmountTabIdx,l=e.amount_tab_idx,s=e.setTradeParamTabIdx,d=e.trade_param_tab_idx,_=e.setDurationTabIdx,p=e.duration_unit,f=e.duration_units_list,b=e.duration_value,v=e.duration_tab_idx,y=e.has_amount_error,h=e.has_duration_error,g=e.setAmountError,E=e.setSelectedAmount,x=e.stake_value,w=e.payout_value,k=e.setDurationError,S=e.setSelectedDuration,A=e.t_duration,M=e.s_duration,N=e.m_duration,P=e.h_duration,O=e.d_duration,j=(0,c.P)(),C=j.basis_list,z=j.basis,I=j.expiry_epoch,D=j.is_turbos,L=j.is_vanilla,U=j.duration_unit,F=function(){var e=ye(U);S(U,e)};a().useEffect((function(){var e=f.findIndex((function(e){return e.value===p})),t=f.findIndex((function(e){return e.value===U})),r=ye(p);return-1===e&&F(),S(p,h?r:b),_(-1===e?t:e),function(){S(p,h?r:b)}}),[p]),a().useEffect((function(){var e=ye(p);return-1===f.findIndex((function(e){return e.value===p}))&&F(),function(){S(p,h?e:b)}}),[b]);var Y=function(e){switch(e){case"duration":return a().createElement("div",{className:"trade-params__header"},a().createElement("div",{className:"trade-params__header-label"},(0,m.localize)("Duration")),a().createElement("div",{className:u()("trade-params__header-value",{"trade-params__header-value--has-error":h})},h?(0,m.localize)("Error"):(n=f.find((function(e){return e.value===U})),i=f.find((function(e){return e.value===p})),c=f.findIndex((function(e){return e.value===p})),s=ye(U),d=n&&(s>1?(0,m.localize)(n.text):(0,m.localize)(n.text.slice(0,-1))),_=i&&(b>1?(0,m.localize)(i.text):(0,m.localize)(i.text.slice(0,-1))),-1===c?"".concat(s," ").concat(d):"".concat(b," ").concat(_))));case"amount":return a().createElement("div",{className:"trade-params__header"},a().createElement("div",{className:"trade-params__header-label"},D||L?(0,m.localize)("Stake"):(0,m.localize)("Amount")),a().createElement("div",{className:u()("trade-params__header-value",{"trade-params__header-value--has-error":y})},y?(0,m.localize)("Error"):(r=void 0!==l?l:C.findIndex((function(e){return e.value===z})),a().createElement(o.Money,{currency:t,show_currency:!0,amount:1===r?w:x}))));default:return null}var r,n,i,c,s,d,_};return a().createElement(o.Tabs,{active_index:d,className:"trade-params-duration-amount",onTabItemClick:s,top:!0},n("duration")?a().createElement("div",{"data-header-content":Y("duration")},a().createElement(ce,{toggleModal:r,amount_tab_idx:l,duration_tab_idx:v,setDurationTabIdx:_,setSelectedDuration:S,setDurationError:k,has_amount_error:y,t_duration:A,s_duration:M,m_duration:N,h_duration:P,d_duration:O,stake_value:x,payout_value:w,expiry_epoch:I})):null,n("amount")?a().createElement("div",{"data-header-content":Y("amount")},a().createElement(T,{duration_unit:p,duration_value:b,toggleModal:r,amount_tab_idx:l,setAmountTabIdx:i,has_duration_error:h,setSelectedAmount:E,setAmountError:g,stake_value:x,payout_value:w})):null)})),Ee=(0,s.observer)((function(){return(0,c.P)().form_components.includes("last_digit")?a().createElement(se.A,null):null})),xe=(0,s.observer)((function(){return(0,c.P)().form_components.includes("barrier")?a().createElement(Z.A,null):null})),we=r("./src/Modules/Trading/Containers/contract-type.tsx");function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Se(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Se(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Ae=(0,s.observer)((function(){var e=(0,k.A)().ui.onChangeUiStore,t=(0,c.P)(),r=t.amount,n=t.basis,i=t.currency,l=t.duration,u=t.duration_min_max,s=t.duration_unit,d=t.is_multiplier,_=t.onChange,p=ke(a().useState(!1),2),b=p[0],v=p[1],y=ke(a().useState(0),2),h=y[0],g=y[1];a().useEffect((function(){E()}));var E=function(){var r=(0,f.getExpiryType)(t),n=ke((0,f.getDurationMinMaxValues)(u,r,s),2),a=n[0],o=n[1];"tick"===r&&l<Number(a)&&(e({name:"duration_".concat(s),value:a}),_({target:{name:"duration",value:a}})),l>=Number(a)&&l>Number(o)&&(e({name:"duration_".concat(s),value:o}),_({target:{name:"duration",value:o}}))},x=function(e){g(e),v(!b)},w=(0,f.getLocalizedBasis)();return a().createElement("div",{className:"mobile-widget__wrapper"},d?a().createElement(G,null):a().createElement("div",{id:"duration_amount_selector",className:"mobile-widget duration_amount_selector"},a().createElement("button",{className:"mobile-widget__duration mobile-widget__button",onClick:function(){return x(0)}},function(){if(!s)return"";var e={t:[a().createElement(m.Localize,{i18n_default_text:"tick",key:"t"}),a().createElement(m.Localize,{i18n_default_text:"ticks",key:"ts"})],s:[a().createElement(m.Localize,{i18n_default_text:"second",key:"s"}),a().createElement(m.Localize,{i18n_default_text:"seconds",key:"ss"})],m:[a().createElement(m.Localize,{i18n_default_text:"min",key:"m"}),a().createElement(m.Localize,{i18n_default_text:"mins",key:"ms"})],h:[a().createElement(m.Localize,{i18n_default_text:"hour",key:"h"}),a().createElement(m.Localize,{i18n_default_text:"hours",key:"hs"})],d:[a().createElement(m.Localize,{i18n_default_text:"day",key:"d"}),a().createElement(m.Localize,{i18n_default_text:"days",key:"ds"})]};try{var t=1==+l?e[s][0]:e[s][1];return[l," ",t]}catch(e){return""}}()),a().createElement("button",{className:"mobile-widget__amount mobile-widget__button",onClick:function(){return x(1)}},a().createElement(o.Money,{amount:r,currency:i,show_currency:!0})),a().createElement("button",{className:"mobile-widget__type mobile-widget__button",onClick:function(){return x(1)}},function(){switch(n){case"stake":return w.stake;case"payout":return w.payout;default:return n}}())),a().createElement(he,{is_open:b,toggleModal:function(){return x(h)},tab_index:h}))}));var Te=r("./src/Modules/Trading/Containers/purchase.tsx"),Me=r("./src/Modules/Trading/Components/Form/TradeParams/Multiplier/stop-loss.tsx"),Ne=r("./src/Modules/Trading/Components/Form/TradeParams/Multiplier/take-profit.tsx"),Pe=r("./src/Stores/Modules/Trading/Helpers/multiplier.ts"),Oe=r("./src/App/Components/Form/fieldset.tsx");function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ce=(0,s.observer)((function(e){var t=e.is_visible,r=e.onConfirm,n=e.onCancel,i=(0,k.A)().ui,l=i.disableApp,u=i.enableApp,c=i.should_show_cancellation_warning,s=i.toggleCancellationWarning;return a().createElement(o.Dialog,{className:"trade-params__multiplier-deal-cancellation-dialog",title:(0,m.localize)("About deal cancellation"),confirm_button_text:(0,m.localize)("Got it"),cancel_button_text:(0,m.localize)("Cancel"),onConfirm:r,onCancel:n,is_mobile_full_width:!1,is_visible:t,disableApp:l,enableApp:u,portal_element_id:"modal_root"},a().createElement(o.Text,{size:"xxxs",color:"general"},a().createElement(m.Localize,{i18n_default_text:"Take profit and/or stop loss are not available while deal cancellation is active."})),a().createElement(o.Checkbox,{defaultChecked:!c,onChange:function(){return s()},name:"should_show_cancellation_warning",label:(0,m.localize)("Don't show this again")}))}));const ze=(0,s.observer)((function(e){var t=e.has_cancellation,r=e.has_take_profit,n=e.has_stop_loss,i=e.onChangeMultiple,l=e.cancellation_duration,u=(0,k.A)().ui.should_show_cancellation_warning,s=(0,c.P)().cancellation_range_list,d=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return je(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?je(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a().useState(!1),2),_=d[0],p=d[1];return a().createElement(a().Fragment,null,a().createElement(Ce,{is_visible:_,onCancel:function(){return p(!1)},onConfirm:function(){p(!1),(0,Pe.N)({has_cancellation:t,onChangeMultiple:i})}}),a().createElement(Oe.A,{className:"trade-container__fieldset"},a().createElement("div",{className:"dc-input-wrapper--inline"},a().createElement(o.Checkbox,{id:"dt_cancellation-checkbox_input",onChange:function(){var e;(e=(r||n)&&u)&&p(e),e||(0,Pe.N)({has_cancellation:t,onChangeMultiple:i})},name:"has_cancellation",label:(0,m.localize)("Deal cancellation"),defaultChecked:t}),a().createElement(o.Popover,{alignment:"left",icon:"info",id:"dt_multiplier-stake__tooltip",is_bubble_hover_enabled:!0,classNameBubble:"trade-container__deal-cancellation-popover",zIndex:"9999",message:(0,m.localize)("When this is active, you can cancel your trade within the chosen time frame. Your stake will be returned without loss.")})),t&&a().createElement(a().Fragment,null,a().createElement(o.RadioGroup,{className:"trade-params__multiplier-radio-group",name:"trade-params__multiplier-radio",selected:l,onToggle:function(e){return(0,Pe.x)({event:e,onChangeMultiple:i})}},s.map((function(e){var t=e.text,r=e.value;return a().createElement(o.RadioGroup.Item,{key:r,id:t,label:t,value:r.toString()})}))))))}));function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function De(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?De(Object(r),!0).forEach((function(t){Ue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):De(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ue(e,t,r){return(t=function(e){var t=function(e){if("object"!=Ie(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ie(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Ye(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ye(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Re=(0,s.observer)((function(e){var t,r,n=e.is_open,i=e.onClose,l=e.toggleDialog,s=(0,c.P)(),d=s.is_turbos,_=s.take_profit,p=s.has_take_profit,b=s.has_stop_loss,v=s.stop_loss,y=s.has_cancellation,h=s.cancellation_range_list,g=s.cancellation_duration,E=s.onChangeMultiple,x={take_profit:_,stop_loss:v,has_take_profit:p,has_stop_loss:b,has_cancellation:y,cancellation_duration:g},w=Fe(a().useState(x),2),k=w[0],S=w[1],A=Fe(a().useState({}),2),T=A[0],M=A[1],N=(null==h?void 0:h.length)>0,P=function(e){var t=["has_take_profit","has_stop_loss","has_cancellation",e.has_take_profit&&"take_profit",e.has_stop_loss&&"stop_loss",e.has_cancellation&&"cancellation_duration"];return(0,f.pick)(e,t)},O=function(e){M({take_profit:e.has_take_profit&&!e.take_profit?[(0,m.localize)("Please enter a take profit amount.")]:[],stop_loss:e.has_stop_loss&&!e.stop_loss?[(0,m.localize)("Please enter a stop loss amount.")]:[]})},j=function(e){var t=e.target,r=t.name,n=t.value,a=Le({},k);a[r]=n,S(a),O(a)},C=function(e){var t=Le({},k);Object.assign(t,e),S(t),O(t)};return a().createElement(a().Fragment,null,a().createElement(o.MobileDialog,{portal_element_id:"modal_root",visible:n,has_content_scroll:!0,onClose:function(){S(x),i()}},a().createElement(o.Div100vhContainer,{className:u()("trade-params__multiplier-risk-management-dialog",{"trade-params__multiplier-risk-management-dialog--no-cancel":!N}),height_offset:"54px"},a().createElement(Ne.A,{take_profit:k.take_profit,has_take_profit:k.has_take_profit,onChange:j,onChangeMultiple:C,validation_errors:T}),!d&&a().createElement(Me.A,{stop_loss:k.stop_loss,has_stop_loss:k.has_stop_loss,onChange:j,onChangeMultiple:C,validation_errors:T}),N&&a().createElement(ze,{has_take_profit:k.has_take_profit,has_stop_loss:k.has_stop_loss,has_cancellation:k.has_cancellation,cancellation_duration:k.cancellation_duration,onChangeMultiple:C}),a().createElement("div",{className:"trade-params__multiplier-risk-management-dialog-bottom-separator"}),a().createElement("div",{className:"trade-params__multiplier-risk-management-dialog-apply-button"},a().createElement(o.Button,{text:(0,m.localize)("Apply"),onClick:function(){E(k),l()},primary:!0,is_disabled:(null===(t=T.take_profit)||void 0===t?void 0:t.length)>0||(null===(r=T.stop_loss)||void 0===r?void 0:r.length)>0||(0,f.isDeepEqual)(P(k),P(x))})))))}));function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const $e=(0,s.observer)((function(){var e,t=(0,c.P)(),r=t.currency,n=t.stop_loss,i=t.take_profit,l=t.has_take_profit,u=t.has_stop_loss,s=t.cancellation_duration,d=t.cancellation_range_list,_=t.has_cancellation,p=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(a().useState(!1),2),f=p[0],b=p[1],v=l||u||_,y=null===(e=d.find((function(e){return e.value===s})))||void 0===e?void 0:e.text;return a().createElement(a().Fragment,null,a().createElement(Re,{is_open:f,toggleDialog:function(){b(!f)},onClose:function(){return b(!1)}}),a().createElement("div",{className:"mobile-widget mobile-widget__multiplier-risk-management",onClick:function(){return b(!f)}},!v&&a().createElement("div",{className:"mobile-widget__item"},a().createElement("div",{className:"mobile-widget__item-label"},(0,m.localize)("Risk management")),a().createElement("div",{className:"mobile-widget__item-value"},(0,m.localize)("Not set"))),l&&a().createElement("div",{className:"mobile-widget__item"},a().createElement("div",{className:"mobile-widget__item-label"},(0,m.localize)("Take profit")),a().createElement("div",{className:"mobile-widget__item-value"},a().createElement(o.Money,{amount:i,currency:r,show_currency:!0}))),u&&a().createElement("div",{className:"mobile-widget__item"},a().createElement("div",{className:"mobile-widget__item-label"},(0,m.localize)("Stop loss")),a().createElement("div",{className:"mobile-widget__item-value"},a().createElement(o.Money,{amount:n,currency:r,show_currency:!0}))),_&&a().createElement("div",{className:"mobile-widget__item"},a().createElement("div",{className:"mobile-widget__item-label"},(0,m.localize)("Deal Cancellation")),a().createElement("div",{className:"mobile-widget__item-value"},y))))}));var Ge=r("./src/Modules/Contract/Components/AccumulatorsStats/index.ts"),Ve=r("./src/Modules/Trading/Components/Form/TradeParams/strike.tsx"),We=r("./src/Modules/Trading/Components/Form/TradeParams/Turbos/payout-selector.tsx");const Be=(0,s.observer)((function(){var e=(0,c.P)(),t=e.currency,r=e.proposal_info,n=e.contract_type,i=e.is_vanilla,l=e.is_vanilla_fx,u=null==n?void 0:n.toUpperCase(),s=(null==r?void 0:r[u])||{},d=s.message,_=s.obj_contract_basis||{},p=_.text,b=_.value,v=a().createElement(m.Localize,{i18n_default_text:"This is the amount you’ll receive at expiry for every point of change in the underlying price, if the spot price never touches or breaches the barrier throughout the contract duration."}),y=l?a().createElement(m.Localize,{i18n_default_text:"The payout at expiry is equal to the payout per pip multiplied by the difference, <0>in pips</0>, between the final price and the strike price.",components:[a().createElement("strong",{key:0})]}):a().createElement(m.Localize,{i18n_default_text:"The payout at expiry is equal to the payout per point multiplied by the difference between the final price and the strike price."}),h=i?y:v;return b?a().createElement(Oe.A,{className:"payout-per-point"},a().createElement("div",{className:"payout-per-point__label-wrapper"},a().createElement(o.Text,{size:"xs",color:"less-prominent",className:"payout-per-point__label"},l?(0,f.getLocalizedBasis)().payout_per_pip:p),a().createElement(o.Popover,{alignment:"top",icon:"info",is_bubble_hover_enabled:!0,margin:0,zIndex:"9999",message:d?h:""})),a().createElement(o.Text,{size:"xs",weight:"bold",className:"payout-per-point__value"},a().createElement(o.Money,{amount:b,currency:t,show_currency:!0,should_format:!1}),a().createElement(o.ArrowIndicator,{className:"trade-container__price-info-movement",value:b}))):a().createElement(Oe.A,{className:"payout-per-point"})}));var He=r("./src/Modules/Trading/Components/Form/TradeParams/trade-type-tabs.tsx"),Ke=r("../../node_modules/react-swipeable/dist/react-swipeable.umd.js"),Xe=r("../../node_modules/framer-motion/dist/es/render/dom/motion.mjs");function Ze(e){return Ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ze(e)}function Qe(){return Qe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qe.apply(null,arguments)}function Je(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(r),!0).forEach((function(t){tt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Je(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tt(e,t,r){return(t=function(e){var t=function(e){if("object"!=Ze(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ze(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ze(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||at(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(e){return function(e){if(Array.isArray(e))return ot(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||at(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){if(e){if("string"==typeof e)return ot(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ot(e,t):void 0}}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var it=function(e){return nt(e).reduce((function(e,t){return/[A-Z]/.test(t)?e+1.5:/[a-z]/.test(t)?e+.8:/[0-9]/.test(t)?e+1.5:/[\.,:;!?]/.test(t)?e+.7:e+1}),0)},lt=function(e,t,r,n){var a=r*(n-1),o=Math.min(a,Math.max(0,e+t));return{translateY:o,newIndex:Math.min(n-1,Math.max(0,Math.round(o/r)))}};const ut=function(e){var t=e.defaultValue,r=e.onChange,i=e.currency,l=e.options,u=e.optionHeight,c=void 0===u?28:u,s=rt((0,n.useState)(l.length-1),2),m=s[0],d=s[1],_=rt((0,n.useState)({startY:0,deltaY:0,translateY:0}),2),p=_[0],f=_[1],b=(0,n.useRef)(null),v=(0,n.useRef)(null),y=(0,Ke.useSwipeable)({onSwipeStart:function(e){e.event.stopPropagation(),v.current&&v.current.contains(e.event.target)&&f((function(e){return et(et({},e),{},{startY:e.translateY})}))},onSwiping:function(e){var t=e.deltaY,r=e.first,n=e.event;if(n.stopPropagation(),!(r||v.current&&!v.current.contains(n.target))){var a=lt(p.startY,t,c,l.length),o=a.translateY,i=a.newIndex;f((function(e){return et(et({},e),{},{deltaY:t,translateY:(o+c*i)/2})})),d(i)}},onSwiped:function(e){var t=e.deltaY,r=e.event;if(r.stopPropagation(),!v.current||v.current.contains(r.target)){var n=lt(p.startY,t,c,l.length).newIndex;f((function(e){return et(et({},e),{},{deltaY:0,translateY:c*n})})),d(n)}},trackMouse:!0,delta:c});(0,n.useEffect)((function(){var e=l.findIndex((function(e){return e===t}));d(-1!==e?e:l.length-1)}),[]),(0,n.useEffect)((function(){var e=c*m;f((function(t){return et(et({},t),{},{translateY:e})}))}),[m,l,c]),(0,n.useEffect)((function(){null==r||r(l[m])}),[m,r,l]);var h={transform:"translateY(".concat(-p.translateY,"px)"),width:"100%",top:"calc(50% - ".concat(c/2,"px)")},g=function(e){return e===m?"xsm":e===m-1||e===m+1?"xs":"xxs"};return a().createElement("div",{className:"wheel-picker-mobile"},a().createElement("div",{className:"picker-selected-wrapper"},a().createElement("div",{className:"picker-selected"},a().createElement(o.Text,{size:"l",weight:"bolder",color:"prominent",align:"center",as:"h1",className:"currency-label",style:{paddingLeft:"".concat(function(e,t){var r=it(e),n=Math.max.apply(Math,nt(t.map((function(e){return it(e)})))),a=Math.max(r,n);return r===n&&(a+=2),40+8*a}(i,l),"px")}},i))),a().createElement("div",{className:"picker-viewport",ref:v},a().createElement("div",Qe({className:"picker-wheel","data-testid":"picker-wheel",style:h},y),l.map((function(e,t){return a().createElement(Xe.P.div,{key:"option-".concat(t),style:{height:c},className:"picker-wheel__options",onMouseUp:function(){return d(t)},transition:{type:"spring",stiffness:300},ref:t===m?b:null},a().createElement(o.Text,{size:g(t),weight:t===m?"bolder":"bold",color:t===m?"prominent":"disabled-1",align:"center",as:"p"},e))})))))};var ct=r("../../node_modules/@deriv/quill-icons/dist/esm/react/LabelPaired/LabelPairedChevronsDownCaptionRegularIcon.js"),st=r("../../node_modules/@deriv/quill-icons/dist/esm/react/LabelPaired/LabelPairedChevronsUpCaptionRegularIcon.js");function mt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const _t=function(e){var t=e.togglePayoutWheelPicker,r=e.payoutChoices,i=e.onPayoutClick,l=e.selectedBarrier,u=e.payout_per_point,c=e.contract_type,s=e.currency,d=mt((0,n.useState)(null),2),_=d[0],p=d[1],f=mt((0,n.useState)(r[2]||r[0]),2),b=f[0],v=f[1];(0,n.useEffect)((function(){null==_&&u&&p(u)}),[]);var y=function(){t(),_&&i(_)},h=a().createElement("div",{className:"trade-container__barriers-tooltip"},a().createElement(m.Localize,{i18n_default_text:"You will receive a payout at expiry if the spot price never breaches the barrier throughout the contract duration. Otherwise, your contract will be terminated early."})),g=a().createElement("div",{className:"trade-container__barriers-tooltip"},"turboslong"===c?a().createElement(m.Localize,{i18n_default_text:"The amount you’ll receive at expiry for every point of change above the barrier"}):a().createElement(m.Localize,{i18n_default_text:"The amount you’ll receive at expiry for every point of change below the barrier."}));return a().createElement(o.PageOverlay,{onClickClose:y},a().createElement("div",{className:"payout-per-point-mobile"},a().createElement(Oe.A,{className:"payout-per-point-mobile__header"},a().createElement("div",{className:"payout-per-point-mobile__header__title"},a().createElement(o.Text,{size:"xs",weight:"bold",color:"prominent",as:"h1"},a().createElement(m.Localize,{i18n_default_text:"Payout per Point"})),a().createElement(o.Popover,{alignment:"bottom",icon:"info",className:"popover-icon",is_bubble_hover_enabled:!0,margin:0,zIndex:"9999",message:g})),a().createElement("button",{className:"cross-icon",onClick:y},a().createElement(o.Icon,{icon:"IcCross",data_testid:"dt_modal_close_icon"}))),a().createElement(ut,{options:r,defaultValue:u||r[2],currency:s,onChange:function(e){v(e),i(b)}}),a().createElement(Oe.A,{className:"actions-wrapper"},a().createElement(o.Text,{size:"xxs",line_height:"l",color:"prominent",align:"center",as:"p",className:"distance-to-current-spot"},a().createElement(m.Localize,{i18n_default_text:"Distance to current spot:"})),a().createElement(o.Popover,{alignment:"top",className:"popover-icon",is_bubble_hover_enabled:!0,disable_target_icon:!0,icon:"info",zIndex:"9999",message:h},a().createElement("div",{className:"distance-to-current-spot__value"},a().createElement(o.Text,{size:"xxs",line_height:"xs",color:"prominent",align:"center",as:"p"},l),Number(l)<0?a().createElement(ct.A,{width:12,height:12,stroke:"var(--text-prominent)",className:"indicator-icon"}):a().createElement(st.A,{width:12,stroke:"var(--text-prominent)",height:12,className:"indicator-icon"})))),a().createElement(o.Button,{className:"save-button",onClick:function(){t(),i(b)}},a().createElement(m.Localize,{i18n_default_text:"Save"}))))};function pt(e){return pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pt(e)}function ft(){return ft=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ft.apply(null,arguments)}function bt(e,t,r){return(t=function(e){var t=function(e){if("object"!=pt(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=pt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==pt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var vt=function(e){var t=e.form_components,r=e.has_allow_equals,n=e.has_take_profit,i=e.previous_symbol,l=e.is_allow_equal,c=e.is_accumulator,s=e.is_multiplier,d=e.is_trade_params_expanded,p=e.is_turbos,b=e.is_vanilla,v=e.onChange,y=e.take_profit,h=e.setIsTradeParamsExpanded,g=e.last_digit,E=e.contract_type;a().useEffect((function(){i&&l&&r&&h(!0)}),[i]);var x=!d,w=f.TRADE_TYPES.EVEN_ODD===E||f.TRADE_TYPES.RISE_FALL===E&&!r,k=function(e){return t.includes(e)};return a().createElement(o.Collapsible,{position:"top",is_collapsed:x,onClick:function(e){h(e)},handle_button:!0,is_non_interactive:w},c&&x&&a().createElement(Ge.A,null),a().createElement("div",{className:"trade-params__contract-type-container"},a().createElement(we.A,null),s&&a().createElement(W,null),k("trade_type_tabs")&&a().createElement(He.A,null),c&&a().createElement(B,null),k("last_digit")&&x&&a().createElement(o.Text,{as:"p",size:"xxs",color:"prominent",line_height:"s",weight:"bold",className:"mobile-widget__digit",onClick:function(){h(!0)}},a().createElement(m.Localize,{i18n_default_text:"Digit: {{last_digit}} ",values:{last_digit:g}}))),k("last_digit")&&a().createElement("div",{"data-collapsible":"true"},a().createElement(Ee,null)),k("barrier")&&a().createElement("div",{"data-collapsible":"true"},a().createElement(xe,null)),k("strike")&&a().createElement("div",{"data-collapsible":"true"},a().createElement(Ve.A,null)),!c&&a().createElement(Ae,null),p&&a().createElement(We.A,null),r&&a().createElement("div",{"data-collapsible":"true"},a().createElement(_,null)),s&&a().createElement("div",{"data-collapsible":"true"},a().createElement($e,null)),c&&[a().createElement(K,{key:"accu_amount"}),a().createElement("div",{"data-collapsible":"true",key:"accu_take_profit",className:u()("take-profit","mobile-widget")},a().createElement(Ne.A,{take_profit:y,has_take_profit:n,onChange:v,has_info:!1})),a().createElement("div",{"data-collapsible":"true",key:"accu_info"},a().createElement(X.A,null))],p&&a().createElement("div",{"data-collapsible":"true",className:u()("take-profit","mobile-widget")},a().createElement(Ne.A,{take_profit:y,has_take_profit:n,onChange:v,has_info:!1})),b&&a().createElement(Be,null),a().createElement("div",{className:u()(bt({"purchase-container":!b},"purchase-container__".concat(c?"accumulator":"turbos"),c||p))},a().createElement(Te.A,null)))},yt=(0,s.observer)((function(e){var t=e.is_trade_enabled,r=(0,c.P)(),n=r.is_accumulator,o=r.is_multiplier,l=r.is_turbos,u=r.is_vanilla,s=r.duration_unit,m=r.contract_types_list,d=r.contract_type,_=r.expiry_type,f=r.contract_start_type,b=r.form_components,v=r.has_take_profit,y=r.onChange,h=r.previous_symbol,g=r.is_trade_params_expanded,E=r.setIsTradeParamsExpanded,x=r.take_profit,w=r.last_digit,k=r.open_payout_wheelpicker,S=r.togglePayoutWheelPicker,A=r.currency,T=r.payout_per_point,M=r.payout_choices,N=r.setPayoutPerPoint,P=r.barrier_1,O={is_accumulator:n,is_multiplier:o,is_turbos:l,is_vanilla:u,form_components:b,has_take_profit:v,onChange:y,previous_symbol:h,is_trade_params_expanded:g,setIsTradeParamsExpanded:E,take_profit:x,is_allow_equal:!!r.is_equal,last_digit:w,contract_type:d},j=(0,p.jZ)(m,s,f),C=(0,p.KM)(m),z=(0,p.tP)(d)&&(j||"endtime"===_)&&C;return t?a().createElement(a().Fragment,null,k?a().createElement(_t,{togglePayoutWheelPicker:S,currency:A,selectedBarrier:P,onPayoutClick:N,payoutChoices:M,payout_per_point:T,contract_type:d}):a().createElement(vt,ft({has_allow_equals:z},O))):a().createElement("div",{className:"mobile-wrapper__content-loader"},a().createElement(i.g,{speed:2}))}));const ht=yt}}]);