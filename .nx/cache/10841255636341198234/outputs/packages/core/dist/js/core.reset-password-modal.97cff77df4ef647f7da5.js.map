{"version":3,"file":"js/core.reset-password-modal.97cff77df4ef647f7da5.js","mappings":"sNAOA,MAAMA,EAAcC,IAAgB,IAAf,OAAEC,GAAQD,EAC3B,MACS,qBADDC,GAGIC,EAAAA,EAAAA,KAACC,EAAAA,KAAI,CAACC,GAAG,IAAIC,OAAO,OAAOC,UAAU,0BAAyBC,UAC1DL,EAAAA,EAAAA,KAACM,EAAAA,SAAQ,CAACC,kBAAkB,qCAI7B,EACf,ECfJ,GDkB6BC,EAAAA,EAAAA,WAAS,KAClC,MAAM,OAAEC,EAAM,GAAEC,IAAOC,EAAAA,EAAAA,MACjB,WAAEC,EAAU,UAAEC,EAAS,WAAEC,GAAeJ,GACxC,aAAEK,EAAY,OAAEC,GAAWP,GAC1BQ,EAAYC,GAAcC,EAAAA,UAAe,GAE1CpB,EADa,IAAIqB,iBAAgBC,EAAAA,EAAAA,eAAcC,QAC3BC,IAAI,UAExBC,EAAYA,KACdN,GAAW,GAC2C,SAAlDO,OAAOC,aAAaC,QAAQ,oBAC5BC,EAAAA,EAAAA,kBAAgB,GAAOC,EAAAA,EAAAA,gBAAe,EAAO,IACjD,EAWJ,OARAV,EAAAA,WAAgB,KACRJ,EACAC,IAASc,MAAK,IAAMN,MAEpBA,GACJ,GACD,CAACT,EAAcC,KAGdhB,EAAAA,EAAAA,KAAC+B,EAAAA,OAAM,CAACd,WAAYA,EAAYL,WAAYA,EAAYC,UAAWA,EAAWC,WAAYA,EAAWT,UACjG2B,EAAAA,EAAAA,MAAA,OAAK5B,UAAU,qCAAoCC,SAAA,EAC/CL,EAAAA,EAAAA,KAACH,EAAW,CAACE,OAAQA,KACrBC,EAAAA,EAAAA,KAACC,EAAAA,KAAI,CAACgC,MAAM,SAAS/B,GAAG,IAAIgC,KAAK,MAAM9B,UAAU,0BAAyBC,UACtEL,EAAAA,EAAAA,KAACM,EAAAA,SAAQ,CAACC,kBAAkB,sDAG/B,G","sources":["webpack:///./App/Containers/RedirectToLoginModal/redirect-to-login-modal.jsx","webpack:///./App/Containers/RedirectToLoginModal/index.js"],"sourcesContent":["import React from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { Dialog, Text } from '@deriv/components';\nimport { Localize, getLanguage } from '@deriv/translations';\nimport { redirectToLogin } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\n\nconst ModalHeader = ({ header }) => {\n    switch (header) {\n        case 'password_changed':\n            return (\n                <Text as='p' weight='bold' className='reset-password__heading'>\n                    <Localize i18n_default_text='Your password has been changed' />\n                </Text>\n            );\n        default:\n            return '';\n    }\n};\n\nconst RedirectToLoginModal = observer(() => {\n    const { client, ui } = useStore();\n    const { disableApp, enableApp, is_loading } = ui;\n    const { is_logged_in, logout } = client;\n    const [is_visible, setVisible] = React.useState(false);\n    const url_params = new URLSearchParams(useLocation().search);\n    const header = url_params.get('header');\n\n    const showModal = () => {\n        setVisible(true);\n        if (window.localStorage.getItem('is_redirecting') !== 'true') {\n            redirectToLogin(false, getLanguage(), false, 3000);\n        }\n    };\n\n    React.useEffect(() => {\n        if (is_logged_in) {\n            logout().then(() => showModal());\n        } else {\n            showModal();\n        }\n    }, [is_logged_in, logout]);\n\n    return (\n        <Dialog is_visible={is_visible} disableApp={disableApp} enableApp={enableApp} is_loading={is_loading}>\n            <div className='reset-password__password-selection'>\n                <ModalHeader header={header} />\n                <Text align='center' as='p' size='xxs' className='reset-password__subtext'>\n                    <Localize i18n_default_text='We will now redirect you to the login page.' />\n                </Text>\n            </div>\n        </Dialog>\n    );\n});\n\nexport default RedirectToLoginModal;\n","import RedirectToLoginModal from './redirect-to-login-modal.jsx';\n\nexport default RedirectToLoginModal;\n"],"names":["ModalHeader","_ref","header","_jsx","Text","as","weight","className","children","Localize","i18n_default_text","observer","client","ui","useStore","disableApp","enableApp","is_loading","is_logged_in","logout","is_visible","setVisible","React","URLSearchParams","useLocation","search","get","showModal","window","localStorage","getItem","redirectToLogin","getLanguage","then","Dialog","_jsxs","align","size"],"sourceRoot":""}