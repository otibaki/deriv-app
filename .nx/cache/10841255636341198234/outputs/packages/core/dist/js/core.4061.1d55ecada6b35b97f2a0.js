"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4061],{766475:(e,t,i)=>{i.d(t,{sk:()=>r});var n=i(10578),o=i(286326),a=i(597598),s=i.n(a),l=i(836870);const r=e=>{let{is_mobile:t,is_logged_in:i,speed:o}=e;return(0,l.jsx)(n.Ay,{height:t?42:46,width:t?216:350,speed:o,backgroundColor:"var(--general-section-1)",foregroundColor:"var(--general-hover)",children:i?(0,l.jsx)(d,{is_mobile:t}):(0,l.jsx)(c,{is_mobile:t})})},c=e=>{let{is_mobile:t}=e;return(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)("rect",{x:t?42:166,y:"8",rx:"4",ry:"4",width:"66",height:"32"}),(0,l.jsx)("rect",{x:t?120:250,y:"8",rx:"4",ry:"4",width:"80",height:"32"})]})},d=e=>{let{is_mobile:t}=e;return(0,l.jsx)(l.Fragment,{children:t?(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)("circle",{cx:"97",cy:"22",r:"13"}),(0,l.jsx)("circle",{cx:"59",cy:"22",r:"13"}),(0,l.jsx)("rect",{x:"128",y:"19",rx:"4",ry:"4",width:"76",height:"7"})]}):(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)("circle",{cx:"14",cy:"22",r:"12"}),(0,l.jsx)("circle",{cx:"58",cy:"22",r:"12"}),(0,l.jsx)("rect",{x:"150",y:"20",rx:"4",ry:"4",width:"76",height:"7"}),(0,l.jsx)("circle",{cx:"118",cy:"24",r:"13"}),(0,l.jsx)("rect",{x:"87",y:"8",rx:"4",ry:"4",width:"1",height:"30"}),(0,l.jsx)("rect",{x:"250",y:"8",rx:"4",ry:"4",width:"82",height:"32"})]})})};r.propTypes={speed:s().number,is_mobile:s().bool,is_logged_in:s().bool};s().number;i(273398)},273398:(e,t,i)=>{i.d(t,{i:()=>a});var n=i(10578),o=(i(286326),i(836870));const a=e=>{let{is_mobile:t,speed:i}=e;const a=t?16:8,s=t?40:32,l=16+s+a,r=t?12:8,c=32+s+a+90;return(0,o.jsxs)(n.Ay,{height:s,width:c,speed:i,backgroundColor:"var(--general-section-1)",foregroundColor:"var(--general-hover)",children:[(0,o.jsx)("rect",{x:16,y:"0",rx:"4",ry:"4",width:s,height:s}),(0,o.jsx)("rect",{x:l,y:r,rx:"4",ry:"4",width:90,height:16})]})}},141929:(e,t,i)=>{i.d(t,{A:()=>l});var n=i(286326),o=i(57886),a=i(189137),s=i(836870);const l=e=>{let{is_disabled:t,is_mobile:i,is_dtrader_v2:l,disabled_message:r,children:c}=e;return t&&r?(0,s.jsx)(o.Popover,{alignment:((0,a.isBot)()||l)&&i?"bottom":"left",message:r,zIndex:"99999",children:c}):(0,s.jsx)(n.Fragment,{children:c})}},450552:(e,t,i)=>{i.d(t,{Xw:()=>A,$2:()=>j,ft:()=>o.A,zU:()=>n.A});var n=i(110615),o=i(608028),a=i(286326),s=i(140994),l=i(57886),r=i(919796),c=i(852691),d=i(679955),_=i(414646),u=i(189137),m=i(33118),g=i(813587),h=i(673285),p=i(291218),b=i(836870);const f=e=>{let{id:t,text:i,icon:n,link_to:o,handleClickCashier:a}=e;return(0,b.jsx)(c.Sm,{id:t,to:o,className:"header__menu-link",active_class:"header__menu-link--active",onClick:a,children:(0,b.jsxs)(l.Text,{size:"m",line_height:"xs",title:i,className:"header__menu-link-text",children:[n,i]})},n)},x=()=>(0,b.jsx)(f,{id:"dt_reports_tab",icon:(0,b.jsx)(l.Icon,{icon:"IcReports",className:"header__icon"}),text:(0,m.localize)("Reports"),link_to:u.routes.reports}),v=(0,d.observer)((()=>{const{client:e,ui:t}=(0,_.A)(),{has_any_real_account:i,is_virtual:n}=e,{toggleReadyToDepositModal:o,toggleNeedRealAccountForCashierModal:a}=t,s=(0,g.A)(),r=(0,h.A)(),c=(0,p.useHistory)(),d=window.location.pathname===u.routes.traders_hub||window.location.pathname===u.routes.bot,x=d&&!i&&n||r;return(0,b.jsx)(f,{id:"dt_cashier_tab",icon:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.Icon,{icon:"IcCashier",className:"header__icon"}),s>0&&(0,b.jsx)(l.Counter,{className:"cashier__counter",count:s})]}),text:(0,m.localize)("Cashier"),link_to:x?null:u.routes.cashier,handleClickCashier:()=>{!i&&n||r?d&&!i?o():window.location.pathname===u.routes.traders_hub&&a():((0,u.startPerformanceEventTimer)("load_cashier_time"),c.push(u.routes.cashier_deposit))}})})),j=(0,d.observer)((e=>{let{is_traders_hub_routes:t=!1}=e;const{isDesktop:i}=(0,r.Y)(),{i18n:n}=(0,s.B)(),{client:o}=(0,_.A)(),{has_wallet:a,is_logged_in:l}=o;return l?(0,b.jsxs)("div",{className:"header__menu-links",children:[!t&&(0,b.jsx)(x,{}),i&&!a&&(0,b.jsx)(v,{})]},`menu-links__${n.language}`):(0,b.jsx)(b.Fragment,{})}));var w=i(597598),y=i(134695),k=i(514378);const N=a.lazy((()=>(0,u.moduleLoader)((()=>i.e(4773).then(i.bind(i,217984)))))),A=a.memo((e=>{let{acc_switcher_disabled_message:t,account_type:i,balance:o,currency:s,disableApp:d,enableApp:_,is_acc_switcher_on:g,is_acc_switcher_disabled:h,is_eu:p,is_logged_in:f,is_notifications_visible:x,is_virtual:v,notifications_count:j,onClickDeposit:w,openRealAccountSignup:A,toggleAccountsDialog:I,toggleNotifications:D}=e;const{isDesktop:C}=(0,r.Y)(),O=(0,b.jsx)(c.Sm,{className:"account-settings-toggle",to:u.routes.personal_details,children:(0,b.jsx)(l.Icon,{icon:"IcUserOutline"})});return f?C?(0,b.jsxs)(a.Fragment,{children:[(0,b.jsx)(n.A,{count:j,is_visible:x,toggleDialog:D,tooltip_message:(0,b.jsx)(m.Localize,{i18n_default_text:"View notifications"}),should_disable_pointer_events:!0,showPopover:!u.isTabletOs}),u.isTabletOs?O:(0,b.jsx)(l.Popover,{classNameBubble:"account-settings-toggle__tooltip",alignment:"bottom",message:(0,b.jsx)(m.Localize,{i18n_default_text:"Manage account settings"}),should_disable_pointer_events:!0,zIndex:9999,children:O}),(0,b.jsx)(a.Suspense,{fallback:(0,b.jsx)("div",{}),children:(0,b.jsx)(N,{acc_switcher_disabled_message:t,account_type:i,balance:void 0===o?o:(0,u.formatMoney)(s,o,!0),is_disabled:h,is_eu:p,is_virtual:v,currency:s,is_dialog_on:g,toggleDialog:I})}),!v&&!s&&(0,b.jsx)("div",{className:"set-currency",children:(0,b.jsx)(l.Button,{onClick:()=>A("set_currency"),has_effect:!0,type:"button",text:(0,m.localize)("Set currency"),primary:!0})}),s&&(0,b.jsx)(l.Button,{className:"acc-info__button",has_effect:!0,text:(0,m.localize)("Deposit"),onClick:w,primary:!0})]}):(0,b.jsxs)(a.Fragment,{children:[(0,b.jsx)(n.A,{count:j,is_visible:x,toggleDialog:D}),(0,b.jsx)(a.Suspense,{fallback:(0,b.jsx)("div",{}),children:(0,b.jsx)(N,{acc_switcher_disabled_message:t,account_type:i,balance:void 0===o?o:(0,u.formatMoney)(s,o,!0),is_disabled:h,disableApp:d,enableApp:_,is_eu:p,is_virtual:v,is_mobile:!0,currency:s,is_dialog_on:g,toggleDialog:I})})]}):(0,b.jsxs)(a.Fragment,{children:[(0,b.jsx)(y.M,{className:"acc-info__button"}),(0,b.jsx)(k.X,{className:"acc-info__button"})]})}));A.displayName="AccountActions",A.propTypes={acc_switcher_disabled_message:w.string,account_type:w.string,balance:w.any,currency:w.any,is_acc_switcher_disabled:w.any,is_eu:w.bool,disableApp:w.any,enableApp:w.any,is_acc_switcher_on:w.any,is_logged_in:w.any,is_notifications_visible:w.any,is_virtual:w.any,notifications_count:w.any,onClickDeposit:w.func,openRealAccountSignup:w.func,toggleAccountsDialog:w.any,toggleNotifications:w.any};i(341175)},134695:(e,t,i)=>{i.d(t,{M:()=>_});i(286326);var n=i(597598),o=i.n(n),a=i(57886),s=i(413568),l=i(189137),r=i(33118),c=i(272010),d=i(836870);const _=e=>{let{className:t}=e;const{isOAuth2Enabled:i}=(0,s.A)({});return(0,d.jsx)(a.Button,{id:"dt_login_button",className:t,has_effect:!0,text:(0,r.localize)("Log in"),onClick:async()=>{var e;i&&await(0,c.ZF)({redirectCallbackUri:`${window.location.origin}/callback`}),null===(e=window.LiveChatWidget)||void 0===e||e.call("hide"),(0,l.redirectToLogin)(!1,(0,r.getLanguage)())},tertiary:!0})};_.propTypes={className:o().string}},47699:(e,t,i)=>{i.d(t,{A:()=>h});i(286326);var n=i(255530),o=i.n(n),a=i(57886),s=i(673285),l=i(189137),r=i(712949),c=i(679955),d=i(414646),_=i(33118),u=i(852691),m=i(919796),g=i(836870);const h=(0,c.observer)((e=>{let{data_testid:t,icon:i="",is_active:n,is_disabled:c,is_hidden:h,link_to:p="",onClickLink:b,suffix_icon:f="",text:x}=e;const{ui:v,client:j}=(0,d.A)(),{isDesktop:w}=(0,m.Y)(),{has_any_real_account:y,is_virtual:k}=j,{setMobileLanguageMenuOpen:N,toggleReadyToDepositModal:A,toggleNeedRealAccountForCashierModal:I}=v,D=(0,s.A)(),C=x===(0,_.localize)("Trade"),O=(0,l.getStaticUrl)(p),L=window.location.pathname===l.routes.traders_hub,S=!w&&p===l.routes.languages,T=O&&(0,r.isExternalLink)(p),z=[l.routes.cashier_deposit,l.routes.cashier_withdrawal,l.routes.cashier_acc_transfer].includes(p);if(h)return null;if(S)return(0,g.jsxs)("div",{className:o()("header__menu-mobile-link",{"header__menu-mobile-link--disabled":c}),onClick:()=>N(!0),"data-testid":t,children:[(0,g.jsx)(a.Icon,{className:"header__menu-mobile-link-icon",icon:i}),(0,g.jsx)("span",{className:"header__menu-mobile-link-text",children:x}),f&&(0,g.jsx)(a.Icon,{className:"header__menu-mobile-link-suffix-icon",icon:f})]});if(D&&z&&L){const e=()=>{null==b||b(),I()};return(0,g.jsxs)("div",{className:o()("header__menu-mobile-link",{"header__menu-mobile-link--disabled":c}),onClick:e,"data-testid":t,children:[(0,g.jsx)(a.Icon,{className:"header__menu-mobile-link-icon",icon:i}),(0,g.jsx)("span",{className:"header__menu-mobile-link-text",children:x}),f&&(0,g.jsx)(a.Icon,{className:"header__menu-mobile-link-suffix-icon",icon:f})]})}if(z&&k&&!y){const e=()=>{L&&A(),null==b||b()};return(0,g.jsxs)("div",{className:o()("header__menu-mobile-link",{"header__menu-mobile-link--disabled":c}),onClick:e,"data-testid":t,children:[(0,g.jsx)(a.Icon,{className:"header__menu-mobile-link-icon",icon:i}),(0,g.jsx)("span",{className:"header__menu-mobile-link-text",children:x}),f&&(0,g.jsx)(a.Icon,{className:"header__menu-mobile-link-suffix-icon",icon:f})]})}return p?T?(0,g.jsxs)("a",{className:o()("header__menu-mobile-link",{"header__menu-mobile-link--disabled":c,"header__menu-mobile-link--active":n}),href:p,"data-testid":t,children:[(0,g.jsx)(a.Icon,{className:"header__menu-mobile-link-icon",icon:i}),(0,g.jsx)(a.Text,{className:C?"":"header__menu-mobile-link-text",as:"h3",size:"xs",weight:window.location.pathname===l.routes.trade&&C?"bold":void 0,children:x}),f&&(0,g.jsx)(a.Icon,{className:"header__menu-mobile-link-suffix-icon",icon:f})]}):(0,g.jsxs)(u.Sm,{to:p,className:o()("header__menu-mobile-link",{"header__menu-mobile-link--disabled":c,"header__menu-mobile-link--active":n}),onClick:b,"data-testid":t,children:[(0,g.jsx)(a.Icon,{className:"header__menu-mobile-link-icon",icon:i}),(0,g.jsx)(a.Text,{className:C?"":"header__menu-mobile-link-text",as:"h3",size:"xs",weight:window.location.pathname===l.routes.trade&&C?"bold":void 0,children:x}),f&&(0,g.jsx)(a.Icon,{className:"header__menu-mobile-link-suffix-icon",icon:f})]}):(0,g.jsxs)("div",{className:o()("header__menu-mobile-link",{"header__menu-mobile-link--disabled":c}),"data-testid":t,children:[(0,g.jsx)(a.Icon,{className:"header__menu-mobile-link-icon",icon:i}),(0,g.jsx)("span",{className:"header__menu-mobile-link-text",children:x}),f&&(0,g.jsx)(a.Icon,{className:"header__menu-mobile-link-suffix-icon",icon:f})]})}))},608028:(e,t,i)=>{i.d(t,{A:()=>w});var n=i(919796),o=i(57886),a=i(189137),s=i(557344),l=i(286326),r=i(735623),c=i(852691),d=i(33118),_=i(291218),u=i(836870);const m=e=>{let{platform:{icon:t,description:i}}=e;return(0,u.jsxs)(l.Fragment,{children:[(0,u.jsx)("div",{className:"platform-dropdown__list-platform-background"}),(0,u.jsxs)("div",{className:"platform-switcher__dropdown","data-testid":"dt_platform_box_icon",children:[(0,u.jsx)(o.Icon,{icon:t,height:42,width:150,description:t}),(0,u.jsx)("p",{className:"platform-dropdown__list-platform-description",children:i()})]})]})},g=e=>{let{platform:t,app_routing_history:i}=e;return t.link_to&&(0,u.jsx)(c.Sm,{"data-testid":"dt_platform_dropdown",to:t.link_to,exact:t.link_to===a.routes.trade,className:"platform-dropdown__list-platform",isActive:()=>(0,a.getActivePlatform)(i)===t.name,onClick:e=>window.location.pathname.startsWith(t.link_to)&&e.preventDefault(),children:(0,u.jsx)(m,{platform:t})})||(0,u.jsx)("a",{"data-testid":"dt_platform_dropdown_link",href:t.href,className:"platform-dropdown__list-platform "+((0,a.getActivePlatform)(i)===t.name?"active":""),children:(0,u.jsx)(m,{platform:t})})},h=e=>{let{app_routing_history:t,closeDrawer:i,platform_config:s,setTogglePlatformType:m}=e;const h=(0,_.useHistory)(),{isDesktop:p}=(0,n.Y)(),b=()=>(0,u.jsx)("div",{className:"platform-dropdown__cta",children:(0,u.jsx)(c.Sm,{onClick:()=>{p||(h.push(a.routes.traders_hub),m("cfd")),h.push(a.routes.traders_hub)},children:(0,u.jsx)(o.Text,{size:"xs",weight:"bold",align:"center",className:"platform-dropdown__cta--link",children:(0,u.jsx)(d.Localize,{i18n_default_text:"Looking for CFDs? Go to Trader's Hub"})})})});l.useEffect((()=>(window.addEventListener("popstate",i),()=>{window.removeEventListener("popstate",i)})),[i]);const f=l.useRef();(0,o.useOnClickOutside)(f,(e=>{e.target.closest(".platform-dropdown__list")||e.target.closest(".platform-switcher")||i()}),(()=>p));const x=(0,u.jsx)("div",{className:"platform-dropdown",children:(0,u.jsxs)(o.Div100vhContainer,{className:"platform-dropdown__list",height_offset:"15rem",is_disabled:p,children:[s.map((e=>(0,u.jsx)("div",{onClick:i,ref:f,children:(0,u.jsx)(g,{platform:e,app_routing_history:t})},e.name))),(0,u.jsx)(b,{})]})});return p?r.createPortal(x,document.getElementById("deriv_app")):r.createPortal(x,document.getElementById("mobile_platform_switcher"))};var p=i(273398),b=i(597598),f=i.n(b),x=i(255530),v=i.n(x);const j=e=>{let{toggleDrawer:t,app_routing_history:i,platform_config:r=[],current_language:c,is_landing_company_loaded:d,is_logged_in:_,is_logging_in:m,setTogglePlatformType:g}=e;const[b,f]=l.useState(!1),x=l.useRef(!1),{isDesktop:j}=(0,n.Y)();l.useEffect((()=>{x.current&&"function"==typeof t&&t(),x.current=!1}));return(_||m?d:0!==i.length)?(0,u.jsxs)(l.Fragment,{children:[(0,u.jsxs)("div",{"data-testid":"dt_platform_switcher",className:v()("platform-switcher",{"platform-switcher--active":b},{"platform-switcher--is-mobile":!j}),onClick:()=>f(!b),children:[(0,u.jsx)(o.Icon,{className:"platform-switcher__icon",icon:(0,a.getPlatformInformation)(i).icon,description:(0,a.getPlatformInformation)(i).header,width:120,height:25}),(0,u.jsx)(o.Icon,{className:"platform-switcher__arrow",icon:"IcChevronDownBold"})]}),(0,u.jsx)(s.A,{mountOnEnter:!0,appear:!0,in:b,classNames:{enterDone:"platform-dropdown--enter-done"},timeout:j&&b?0:250,unmountOnExit:!0,children:(0,u.jsx)(h,{platform_config:r,closeDrawer:()=>{f(!1),x.current=!0},current_language:c,app_routing_history:i,setTogglePlatformType:g})})]}):(0,u.jsx)("div",{"data-testid":"dt_platform_switcher_preloader",className:v()("platform-switcher__preloader",{"platform-switcher__preloader--is-mobile":!j}),children:(0,u.jsx)(p.i,{is_mobile:!j,speed:3})})};j.propTypes={platform_config:f().array,toggleDrawer:f().func,current_language:f().string,app_routing_history:f().array,is_landing_company_loaded:f().bool,is_logged_in:f().bool,is_logging_in:f().bool,setTogglePlatformType:f().func};const w=(0,_.withRouter)(j)},514378:(e,t,i)=>{i.d(t,{X:()=>c});i(286326);var n=i(597598),o=i.n(n),a=i(57886),s=i(189137),l=i(33118),r=i(836870);const c=e=>{let{className:t}=e;return(0,r.jsx)(a.Button,{id:"dt_signup_button",className:t,has_effect:!0,text:(0,l.localize)("Sign up"),onClick:s.redirectToSignUp,primary:!0})};c.propTypes={className:o().string}},989186:(e,t,i)=>{i.d(t,{A:()=>z});var n=i(286326),o=i(291218),a=i(255530),s=i.n(a),l=i(8531),r=i(281476),c=i(57886),d=i(461297),_=i(647620),u=i(763782),m=i(594269),g=i(526248),h=i(788624),p=i(413568),b=i(189137),f=i(679955),x=i(414646),v=i(33118),j=i(211509),w=i(223753),y=i(668563),k=i(597351),N=i(206022),A=i(836870);const I=(0,f.observer)((()=>{const{common:e,ui:t}=(0,x.A)(),{current_language:i}=e,{is_mobile_language_menu_open:o,setMobileLanguageMenuOpen:a}=t;return(0,A.jsxs)(n.Fragment,{children:[(0,A.jsx)("div",{children:(0,v.localize)("Menu")}),(0,A.jsx)("div",{className:"settings-language__language-button_wrapper",onClick:()=>{o||a(!0)},children:!o&&(0,A.jsxs)(n.Fragment,{children:[b.TranslationFlag[i]?b.TranslationFlag[i](22,16):(0,A.jsx)(c.Icon,{icon:`IcFlag${i}`,data_testid:"dt_icon",size:18}),(0,A.jsx)(c.Text,{weight:"bold",size:"xxs",className:"ic-settings-language__text",children:(0,A.jsx)(v.Localize,{i18n_default_text:i})})]})})]})}));var D=i(596176),C=i(852691);const O=(0,f.observer)((e=>{let{expandSubMenu:t,toggleDrawer:i}=e;const{common:n,ui:o}=(0,x.A)(),{is_language_changing:a}=n,{is_mobile_language_menu_open:l,setMobileLanguageMenuOpen:r}=o,d=Object.keys((0,D.getAllowedLanguages)(b.UNSUPPORTED_LANGUAGES));return(0,A.jsx)(c.MobileDrawer.SubMenu,{is_expanded:l,has_subheader:!0,submenu_title:(0,v.localize)("Select language"),onToggle:e=>{t(e),r(!1)},submenu_toggle_class:"dc-mobile-drawer__submenu-toggle--hidden",children:(0,A.jsx)("div",{className:s()("settings-language__language-container",{"settings-language__language-container--disabled":a}),children:d.map((e=>(0,A.jsx)(C.H6,{is_clickable:!0,lang:e,toggleModal:()=>{i(),r(!1)}},e)))})})}));var L=i(47699),S=i(608028);const T=(0,f.observer)((e=>{let{platform_config:t}=e;const{common:i,ui:a,client:f,traders_hub:D,modules:C}=(0,x.A)(),{app_routing_history:T,current_language:z}=i,{disableApp:P,enableApp:M,is_mobile:E,is_mobile_language_menu_open:W,is_dark_mode_on:B,setDarkMode:F,setMobileLanguageMenuOpen:U,setIsForcedToExitPnv:R}=a,{account_status:H,has_wallet:$,is_authorize:Y,is_logged_in:G,is_logging_in:X,is_virtual:V,logout:K,should_allow_authentication:J,should_allow_poinc_authentication:Z,landing_company_shortcode:q,is_landing_company_loaded:Q,is_proof_of_ownership_enabled:ee,is_eu:te,is_passkey_supported:ie}=f,{cashier:ne}=C,{payment_agent:oe}=ne,{is_payment_agent_visible:ae}=oe,{show_eu_related_content:se,setTogglePlatformType:le}=D,re=(0,d.A)(),{isSuccess:ce}=(0,_.A)(),de=(0,u.A)(),{data:_e}=(0,m.A)(),{is_p2p_enabled:ue}=(0,g.A)(),{pathname:me}=(0,o.useLocation)(),ge=me===b.routes.traders_hub||me.startsWith(b.routes.cashier)||me.startsWith(b.routes.account),he=te&&se&&!V,pe=me===b.routes.traders_hub,be=me.startsWith(b.routes.wallets)||me.startsWith(b.routes.wallets_compare_accounts),{data:fe}=(0,l.A)(!0),{cs_chat_livechat:xe,cs_chat_whatsapp:ve}=fe,[je,we]=n.useState(!1),[ye,ke]=n.useState(!1),[Ne,Ae]=n.useState([]),[Ie,De]=n.useState(!1),Ce=n.useRef(),Oe=(0,o.useHistory)(),{subscribe:Le,rest:{isSubscribed:Se},p2p_settings:Te}=(0,h.A)(),ze=B?"IcAppstoreHomeDark":"IcAppstoreTradersHubHomeUpdated";n.useEffect((()=>{ce&&!Se&&Y&&Le()}),[ce,Te,Le,Se,Y]),n.useEffect((()=>((H||J)&&(()=>{const e=(0,y.A)();let t=[];t=ge?$?[b.routes.reports,b.routes.account]:[b.routes.account,b.routes.cashier]:$?[b.routes.reports,b.routes.account]:[b.routes.reports,b.routes.account,b.routes.cashier],Ae(Be(e,t))})(),()=>clearTimeout(Ce.current))),[H,J,$,ge,E,ie,ue]);const Pe=n.useCallback((()=>{W&&U(!1),je?(ke(!0),Ce.current=setTimeout((()=>{we(!1),ke(!1)}),400)):we(!je),De(!1)}),[De,je,W,U]),Me=n.useCallback((async()=>{Pe(),window.location.pathname.startsWith(b.routes.phone_verification)&&(R(!0),await new Promise((e=>setTimeout(e,0)))),Oe.push(b.routes.traders_hub),await K()}),[Oe,K,Pe]),{oAuthLogout:Ee}=(0,p.A)({handleLogout:Me}),We=n.useCallback((()=>{r.Analytics.trackEvent("ce_passkey_account_settings_form",{action:"open",form_name:"ce_passkey_account_settings_form",operating_system:(0,b.getOSNameWithUAParser)()})}),[]),Be=(e,t)=>{const i=e.flatMap((e=>e.routes||[]));return t.map((t=>e.find((e=>e.path===t))||i.find((e=>e.path===t)))).filter((e=>e))};return(0,A.jsxs)(n.Fragment,{children:[(0,A.jsx)("a",{id:"dt_mobile_drawer_toggle",onClick:Pe,className:"header__mobile-drawer-toggle",children:(0,A.jsx)(c.Icon,{icon:"IcHamburger",width:"16px",height:"16px",className:"header__mobile-drawer-icon"})}),(0,A.jsx)(c.MobileDrawer,{alignment:"left",icon_class:"header__menu-toggle",is_open:je,transitionExit:ye,toggle:Pe,id:"dt_mobile_drawer",enableApp:M,disableApp:P,title:(0,A.jsx)(I,{}),height:"100vh",width:"295px",className:"pre-appstore",children:(0,A.jsx)(c.Div100vhContainer,{height_offset:"40px",children:(0,A.jsx)("div",{className:"header__menu-mobile-body-wrapper",children:(0,A.jsxs)(n.Fragment,{children:[!(pe||be)&&(0,A.jsx)(c.MobileDrawer.SubHeader,{className:s()({"dc-mobile-drawer__subheader--hidden":Ie}),children:(0,A.jsx)(S.A,{app_routing_history:T,is_mobile:!0,is_landing_company_loaded:Q,is_logged_in:G,is_logging_in:X,platform_config:t,toggleDrawer:Pe,current_language:z,setTogglePlatformType:le})}),(0,A.jsxs)(c.MobileDrawer.Body,{className:pe||be?"no-padding":"",children:[(0,A.jsx)("div",{className:"header__menu-mobile-platform-switcher",id:"mobile_platform_switcher"}),(0,A.jsx)(c.MobileDrawer.Item,{children:(0,A.jsx)(L.A,{link_to:(0,b.getStaticUrl)("/"),icon:"IcDerivShortLogo",text:"Deriv.com",onClickLink:Pe})}),(0,A.jsx)(c.MobileDrawer.Item,{children:(0,A.jsx)(L.A,{link_to:b.routes.traders_hub,icon:ze,text:(0,v.localize)("Trader's Hub"),onClickLink:Pe,is_active:me===b.routes.traders_hub})}),me!==b.routes.traders_hub&&(0,A.jsx)(c.MobileDrawer.Item,{children:(0,A.jsx)(L.A,{link_to:b.routes.trade,icon:"IcTrade",text:(0,v.localize)("Trade"),onClickLink:Pe,is_active:me===b.routes.trade})}),Ne.map(((e,t)=>((e,t)=>{if(e.is_authenticated&&!G)return null;if(!e.routes)return(0,A.jsx)(c.MobileDrawer.Item,{children:(0,A.jsx)(L.A,{link_to:e.path,icon:e.icon_component,text:e.getTitle(),onClickLink:Pe})},t);const i=e.routes.some((e=>e.subroutes)),n=!E||!ie,o=e=>/passkeys/.test(e)?n:!!/languages/.test(e)&&$;return(0,A.jsxs)(c.MobileDrawer.SubMenu,{has_subheader:!0,submenu_icon:e.icon_component,submenu_title:e.getTitle(),submenu_suffix_icon:"IcChevronRight",onToggle:De,route_config_path:e.path,children:[!i&&e.routes.map(((e,t)=>{if(!e.is_invisible&&(e.path!==b.routes.cashier_pa||ae)&&(e.path!==b.routes.cashier_pa_transfer||_e)&&(e.path!==b.routes.cashier_p2p||ue)&&(e.path!==b.routes.cashier_onramp||de)&&(e.path!==b.routes.cashier_acc_transfer||re))return(0,A.jsx)(c.MobileDrawer.Item,{children:(0,A.jsx)(L.A,{link_to:e.path,icon:e.icon_component,text:e.getTitle(),onClickLink:Pe})},t)})),i&&e.routes.map(((e,t)=>e.subroutes?(0,A.jsx)(c.MobileDrawer.SubMenuSection,{section_icon:e.icon,section_title:e.getTitle(),children:e.subroutes.map(((e,t)=>{return(0,A.jsx)(L.A,{is_disabled:(i=e.path,(/financial-assessment/.test(i)?V:/trading-assessment/.test(i)?V||"maltainvest"!==q:/proof-of-address/.test(i)||/proof-of-identity/.test(i)?!J:/proof-of-income/.test(i)?!Z:!!/proof-of-ownership/.test(i)&&(V||!ee))||e.is_disabled),link_to:e.path,text:e.getTitle(),onClickLink:()=>{Pe(),e.path===b.routes.passkeys&&We()},is_hidden:o(e.path)},t);var i}))},t):(0,A.jsx)(c.MobileDrawer.Item,{children:(0,A.jsx)(L.A,{link_to:e.path,icon:e.icon_component,text:e.getTitle(),onClickLink:Pe})},t)))]},t)})(e,t))),!$&&(0,A.jsx)(c.MobileDrawer.Item,{className:"header__menu-mobile-theme",onClick:e=>{e.preventDefault(),F(!B)},children:(0,A.jsxs)("div",{className:s()("header__menu-mobile-link"),children:[(0,A.jsx)(c.Icon,{className:"header__menu-mobile-link-icon",icon:"IcTheme"}),(0,A.jsx)("span",{className:"header__menu-mobile-link-text",children:(0,v.localize)("Dark theme")}),(0,A.jsx)(c.ToggleSwitch,{id:"dt_mobile_drawer_theme_toggler",handleToggle:()=>F(!B),is_enabled:B})]})}),(0,A.jsx)(c.MobileDrawer.Item,{className:s()({"header__menu-mobile-theme":Fe}),children:(0,A.jsx)(L.A,{link_to:(0,b.getStaticUrl)("/help-centre"),icon:"IcHelpCentre",text:(0,v.localize)("Help centre"),onClickLink:Pe})}),G?(0,A.jsxs)(n.Fragment,{children:[(0,A.jsx)(c.MobileDrawer.Item,{children:(0,A.jsx)(L.A,{link_to:b.routes.account_limits,icon:"IcAccountLimits",text:(0,v.localize)("Account Limits"),onClickLink:Pe})}),(0,A.jsx)(c.MobileDrawer.Item,{className:he?"":"header__menu-mobile-theme--trader-hub",children:(0,A.jsx)(L.A,{link_to:(0,b.getStaticUrl)("/responsible"),icon:"IcVerification",text:(0,v.localize)("Responsible trading"),onClickLink:Pe})}),he&&(0,A.jsx)(c.MobileDrawer.Item,{className:"header__menu-mobile-theme--trader-hub",children:(0,A.jsx)(L.A,{link_to:(0,b.getStaticUrl)("/regulatory"),icon:"IcRegulatoryInformation",text:(0,v.localize)("Regulatory information"),onClickLink:Pe})})]}):(0,A.jsx)(c.MobileDrawer.Item,{className:"header__menu-mobile-theme--trader-hub",children:(0,A.jsx)(L.A,{link_to:(0,b.getStaticUrl)("/responsible"),icon:"IcVerification",text:(0,v.localize)("Responsible trading"),onClickLink:Pe})}),ve&&(0,A.jsx)(c.MobileDrawer.Item,{className:"header__menu-mobile-whatsapp",children:(0,A.jsx)(N.A,{onClick:Pe})}),xe&&(0,A.jsx)(c.MobileDrawer.Item,{className:"header__menu-mobile-livechat",children:(0,A.jsx)(k.A,{})}),G&&(0,A.jsx)(c.MobileDrawer.Item,{onClick:Ee,className:"dc-mobile-drawer__item",children:(0,A.jsx)(L.A,{icon:"IcLogout",text:(0,v.localize)("Log out")})})]}),(0,A.jsxs)(c.MobileDrawer.Footer,{className:G?"dc-mobile-drawer__footer--servertime":"",children:[(0,A.jsx)(w.A,{is_mobile:!0}),(0,A.jsx)(j.Ay,{is_mobile:!0})]}),W&&(0,A.jsx)(O,{expandSubMenu:De,toggleDrawer:Pe})]})})})})]});var Fe}));T.displayName="ToggleMenuDrawer";const z=T},110615:(e,t,i)=>{i.d(t,{A:()=>y});var n=i(255530),o=i.n(n),a=i(286326),s=i(57886),l=i(557344),r=i(281476),c=i(189137),d=i(679955),_=i(414646),u=i(33118),m=i(919796),g=i(836870);const h=()=>(0,g.jsx)("div",{className:"notifications-empty__container",children:(0,g.jsxs)("div",{className:"notifications-empty",children:[(0,g.jsx)(s.Icon,{data_testid:"dt_ic_box_icon",icon:"IcBox",className:"notifications-empty__icon",size:64,color:"secondary"}),(0,g.jsxs)("div",{className:"notifications-empty__content",children:[(0,g.jsx)(s.Text,{as:"h4",size:"xs",weight:"bold",align:"center",color:"less-prominent",className:"notifications-empty__header",children:(0,g.jsx)(u.Localize,{i18n_default_text:"No notifications"})}),(0,g.jsx)(s.Text,{size:"xxs",color:"less-prominent",align:"center",children:(0,g.jsx)(u.Localize,{i18n_default_text:"You have yet to receive any notifications"})})]})]})}),p=(0,d.observer)((e=>{let{clearNotifications:t}=e;const{notifications:i,ui:n}=(0,_.A)(),{is_notifications_empty:l}=i,{is_mobile:r}=n;return(0,g.jsxs)(a.Fragment,{children:[(0,g.jsx)("div",{className:"notifications-dialog__separator"}),(0,g.jsx)("div",{"data-testid":"dt_clear_all_footer_button",className:o()("notifications-dialog__footer",{"notifications-dialog__content--empty":l,"notifications-dialog__content--sticky":r}),children:(0,g.jsx)(s.Button,{className:o()("dc-btn--secondary","notifications-dialog__clear"),disabled:l,onClick:t,children:(0,g.jsx)(s.Text,{size:"xxs",color:"prominent",weight:"bold",children:(0,g.jsx)(u.Localize,{i18n_default_text:"Clear All"})})})})]})}));var b=i(852691),f=i(291218);const x=(0,d.observer)((()=>{const{notifications:e}=(0,_.A)(),{notifications:t,toggleNotificationsModal:i}=e,n=(0,f.useHistory)(),l=e=>{const{type:t}=e;return["contract_sold","info","news","promotions"].includes(t)?"IcAlertInfo":"p2p_completed_order"===t?"IcAlertAnnounce":`IcAlert${(0,c.toTitleCase)(t)}`},d=e=>{switch(["action","secondary_btn","cta_btn","primary_btn"].find((t=>!(0,c.isEmptyObject)(e[t])))){case"primary_btn":return e.primary_btn;case"cta_btn":return e.cta_btn;case"secondary_btn":return e.secondary_btn;case"action":return e.action;default:return}},u=e=>{r.Analytics.trackEvent("ce_notification_form",{action:"click_cta",form_name:"ce_notification_form",notification_key:e})},m=t.filter((e=>!e.only_toast_message));return(0,g.jsx)(a.Fragment,{children:m.length>0?m.map((e=>{var t,r,c,_,m;return(0,g.jsxs)("div",{className:"notifications-item",children:[(0,g.jsxs)(s.Text,{as:"h2",className:"notifications-item__title",weight:"bold",size:"xs",color:"prominent",children:[e.type&&(0,g.jsx)(s.Icon,{icon:l(e),className:o()("notifications-item__title-icon",{[`notifications-item__title-icon--${e.type}`]:e.type})}),e.header]}),(0,g.jsx)("div",{className:"notifications-item__message",children:e.message}),(0,g.jsx)("div",{className:"notifications-item__action",children:!!d(e)&&(0,g.jsx)(a.Fragment,{children:null===(t=d(e))||void 0===t||!t.route||null!==(r=d(e))&&void 0!==r&&r.onClick?(0,g.jsx)(s.Button,{className:o()("dc-btn--secondary","notifications-item__cta-button"),onClick:()=>{var t,i,o;(null===(t=d(e))||void 0===t||t.onClick(),u(e.key),null!==(i=d(e))&&void 0!==i&&i.route)&&n.push(null===(o=d(e))||void 0===o?void 0:o.route)},children:(0,g.jsx)(s.Text,{weight:"bold",size:"xxs",children:null===(m=d(e))||void 0===m?void 0:m.text})}):(0,g.jsx)(b.Sm,{onClick:()=>{const t=d(e);null!=t&&t.onClick&&t.onClick(),i(),u(e.key)},active_class:"notifications-item",className:o()("dc-btn","dc-btn--secondary","notifications-item__cta-button"),to:null===(c=d(e))||void 0===c?void 0:c.route,children:(0,g.jsx)(s.Text,{weight:"bold",size:"xxs",children:null===(_=d(e))||void 0===_?void 0:_.text})})})})]},e.key)})):(0,g.jsx)(h,{})})})),v=a.forwardRef(((e,t)=>{let{clearNotifications:i,is_outside:n}=e;const{notifications:a,ui:l}=(0,_.A)(),{is_notifications_empty:r}=a,{is_mobile:c}=l;return(0,g.jsxs)("div",{"data-testid":"dt_notifications_list_wrapper",className:o()("notifications-dialog",{"notifications-dialog--shifted":n}),ref:t,children:[(0,g.jsx)("div",{className:"notifications-dialog__header",children:(0,g.jsx)(s.Text,{as:"h2",className:"notifications-dialog__header-text",weight:"bold",color:"prominent",styles:{lineHeight:"1.6rem"},children:(0,g.jsx)(u.Localize,{i18n_default_text:"Notifications"})})}),(0,g.jsx)("div",{className:o()("notifications-dialog__content",{"notifications-dialog__content--empty":r}),children:(0,g.jsx)(s.ThemedScrollbars,{is_bypassed:c||r,children:r?(0,g.jsx)(h,{}):(0,g.jsx)(x,{})})}),(0,g.jsx)(p,{clearNotifications:i})]})}));v.displayName="NotificationListWrapper";const j=(0,d.observer)(v),w=(0,d.observer)((()=>{const{client:e,notifications:t}=(0,_.A)(),{loginid:i}=e,{is_notifications_visible:n,notifications:o,removeNotifications:d,removeNotificationMessage:h,removeNotificationMessageByKey:p,toggleNotificationsModal:b}=t,f=a.useRef(null),[x,v]=a.useState(!1),{isMobile:w}=(0,m.Y)(),y=()=>{const e=c.LocalStore.getObject("p2p_settings");i&&e[i]&&(e[i].is_notifications_visible=!1),c.LocalStore.setObject("p2p_settings",e),r.Analytics.trackEvent("ce_notification_form",{action:"clear_all",form_name:"ce_notification_form",notification_num:o.length}),o.forEach((e=>{let{key:t,should_show_again:i}=e;p({key:t}),h({key:t,should_show_again:i}),d(!0)}))};return(0,s.useOnClickOutside)(f,(e=>{var t,i;const o=!(null!=e&&null!==(t=e.target)&&void 0!==t&&t.classList.contains("notifications-toggle__icon-wrapper"));null!=f&&null!==(i=f.current)&&void 0!==i&&i.contains(e.target)||!n||!o||b()})),a.useEffect((()=>{if(!w&&n&&f.current){const{right:e}=f.current.getBoundingClientRect();v(e>window.innerWidth)}}),[w,n]),w?(0,g.jsx)(s.MobileDialog,{portal_element_id:"modal_root",title:(0,g.jsx)(u.Localize,{i18n_default_text:"Notifications"}),wrapper_classname:"notifications-mobile-dialog",visible:n,onClose:b,children:(0,g.jsx)(j,{clearNotifications:y,ref:f})}):(0,g.jsx)(l.A,{in:n,classNames:{enter:"notifications-dialog--enter",enterDone:"notifications-dialog--enter-done",exit:"notifications-dialog--exit"},timeout:150,onExited:()=>v(!1),unmountOnExit:!0,children:(0,g.jsx)(j,{clearNotifications:y,is_outside:x,ref:f})})})),y=e=>{let{count:t,is_visible:i,toggleDialog:n,tooltip_message:a,should_disable_pointer_events:l=!1,showPopover:r=!0}=e;const{isMobile:c}=(0,m.Y)(),d=(0,g.jsxs)("div",{className:o()("notifications-toggle__icon-wrapper",{"notifications-toggle__icon-wrapper--active":i}),onClick:n,children:[(0,g.jsx)(s.Icon,{className:"notifications-toggle__icon",icon:"IcBell"}),!!t&&(0,g.jsx)(s.Counter,{count:t,className:"notifications-toggle__step"})]});return c?(0,g.jsxs)("div",{className:o()("notifications-toggle",{"notifications-toggle--active":i}),children:[d,(0,g.jsx)(w,{is_visible:i,toggleDialog:n})]}):(0,g.jsxs)("div",{className:o()("notifications-toggle",{"notifications-toggle--active":i}),children:[r?(0,g.jsx)(s.Popover,{classNameBubble:"notifications-toggle__tooltip",alignment:"bottom",message:a,should_disable_pointer_events:l,zIndex:"9999",children:d}):d,(0,g.jsx)(w,{is_visible:i,toggleDialog:n})]})}},341175:(e,t,i)=>{i.d(t,{$:()=>z});var n=i(286326),o=i(291218),a=i(189137),s=i(57886),l=i(919796),r=i(33118),c=i(679955),d=i(414646),_=i(134695),u=i(514378),m=i(852691),g=i(110615),h=i(255530),p=i.n(h),b=i(557344),f=i(159859),x=i(298497),v=i(836870);const j=e=>{var t;let{is_demo:i,label:n}=e;return i?(0,v.jsx)(s.Badge,{type:"contained",background_color:"blue",label:(0,r.localize)("Demo"),custom_color:"colored-background"}):(0,v.jsx)(s.Badge,{type:"bordered",label:null!==(t=null==n?void 0:n.toUpperCase())&&void 0!==t?t:""})},w=(0,c.observer)((e=>{var t,i;let{closeAccountsDialog:n,account:o,show_badge:l=!1}=e;const{currency:c,dtrade_loginid:_,dtrade_balance:u,gradients:m,icons:g,is_virtual:h,loginid:b,landing_company_name:f,icon_type:x}=o,{ui:{is_dark_mode_on:w},client:{switchAccount:y,loginid:k,is_eu:N}}=(0,d.A)(),A=w?"dark":"light",I=w?"IcWalletOptionsDark":"IcWalletOptionsLight",D=_===k,C=async()=>{n(),D||(await y(_),localStorage.setItem("active_wallet_loginid",b))};return(0,v.jsxs)("div",{className:p()("acc-switcher-wallet-item__container",{"acc-switcher-wallet-item__container--active":D}),"data-testid":"account-switcher-wallet-item",onClick:C,role:"button",onKeyDown:e=>{"Enter"===e.key&&C()},children:[(0,v.jsx)("div",{children:(0,v.jsx)(s.AppLinkedWithWalletIcon,{app_icon:I,gradient_class:null!==(t=null==m?void 0:m.card[A])&&void 0!==t?t:"",type:x,wallet_icon:null!==(i=null==g?void 0:g[A])&&void 0!==i?i:"",hide_watermark:!0})}),(0,v.jsxs)("div",{className:"acc-switcher-wallet-item__content",children:[(0,v.jsx)(s.Text,{size:"xxxs",children:N?(0,v.jsx)(r.Localize,{i18n_default_text:"Multipliers"}):(0,v.jsx)(r.Localize,{i18n_default_text:"Options"})}),(0,v.jsx)(s.Text,{size:"xxxs",children:h?(0,v.jsx)(r.Localize,{i18n_default_text:"Demo Wallet"}):(0,v.jsx)(r.Localize,{i18n_default_text:"{{currency}} Wallet",values:{currency:(0,a.getCurrencyDisplayCode)(c)}})}),(0,v.jsx)(s.Text,{size:"xs",weight:"bold",children:`${(0,a.formatMoney)(c||"",u||0,!0)} ${(0,a.getCurrencyDisplayCode)(c)}`})]}),l&&(0,v.jsx)(j,{is_demo:Boolean(h),label:f})]})})),y=e=>{let{wallets:t,closeAccountsDialog:i}=e;return(0,v.jsx)("div",{className:"account-switcher-wallet-list",children:null==t?void 0:t.map((e=>e.is_dtrader_account_disabled?null:(0,v.jsx)(w,{account:e,closeAccountsDialog:i,show_badge:null==e?void 0:e.is_virtual},e.dtrade_loginid)))})},k=(0,c.observer)((e=>{let{is_visible:t,toggle:i}=e;const{data:l}=(0,f.A)(),c=null==l?void 0:l.filter((e=>e.dtrade_loginid)),d=(0,o.useHistory)(),_=n.useRef(null),u=n.useCallback((()=>{i(!1)}),[i]);(0,s.useOnClickOutside)(_,u,(e=>{const i=e=>{var t;if(null!=e&&null!==(t=e.classList)&&void 0!==t&&t.contains("acc-info__wallets"))return!0;const n=null==e?void 0:e.parentNode;return!!n&&i(n)};return t&&!i(e.target)}));return(0,v.jsxs)("div",{className:"account-switcher-wallet",ref:_,children:[(0,v.jsx)("div",{className:"account-switcher-wallet__header",children:(0,v.jsx)(s.Text,{as:"h4",weight:"bold",size:"xs",children:(0,v.jsx)(r.Localize,{i18n_default_text:"Options accounts"})})}),(0,v.jsx)(s.ThemedScrollbars,{height:450,children:(0,v.jsx)(y,{wallets:c,closeAccountsDialog:u})}),(0,v.jsxs)("button",{className:"account-switcher-wallet__looking-for-cfds",onClick:async()=>{u(),d.push(a.routes.traders_hub)},type:"button",children:[(0,v.jsx)(s.Text,{size:"xs",line_height:"xl",children:(0,v.jsx)(r.Localize,{i18n_default_text:"Looking for CFDs? Go to Trader’s Hub"})}),(0,v.jsx)(s.Icon,{data_testid:"dt_go_to_arrow",icon:"IcChevronDownBold",className:"account-switcher-wallet__arrow"})]})]})}));var N=i(768429);const A=(0,c.observer)((e=>{let{is_visible:t,toggle:i,loginid:l}=e;const c=(0,o.useHistory)(),d=(0,N.A)(),{data:_}=(0,f.A)(),u=null==_?void 0:_.filter((e=>e.dtrade_loginid)),m=n.useCallback((()=>{i(!1)}),[i]),g=(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)("hr",{className:"account-switcher-wallet-mobile__divider"}),(0,v.jsxs)("button",{className:"account-switcher-wallet-mobile__footer",onClick:()=>{m(),c.push(a.routes.traders_hub)},type:"button",children:[(0,v.jsx)(s.Text,{weight:"normal",size:"xs",children:(0,v.jsx)(r.Localize,{i18n_default_text:"Looking for CFDs? Go to Trader’s Hub"})}),(0,v.jsx)(s.Icon,{icon:d?"IcChevronLeftBold":"IcChevronRightBold"})]})]});return(0,v.jsx)(s.MobileDialog,{portal_element_id:"deriv_app",footer:g,visible:t,onClose:m,has_close_icon:!0,has_full_height:!0,title:(0,v.jsx)(r.Localize,{i18n_default_text:"Options accounts"}),children:(0,v.jsxs)("div",{className:"account-switcher-wallet-mobile",children:[(0,v.jsx)(y,{wallets:u,closeAccountsDialog:m}),(0,v.jsx)(s.Button,{className:"account-switcher-wallet-mobile__button",has_effect:!0,primary:!0,large:!0,onClick:()=>{m(),c.push(a.routes.wallets_transfer,{toAccountLoginId:l})},children:(0,v.jsx)(r.Localize,{i18n_default_text:"Manage funds"})})]})})}));var I=i(766475),D=i(141929);const C=e=>{let{is_disabled:t=!1}=e;return t?(0,v.jsx)(s.Icon,{data_testid:"dt_lock_icon",icon:"IcLock"}):(0,v.jsx)(s.Icon,{data_testid:"dt_select_arrow",icon:"IcChevronDownBold",className:"acc-info__select-arrow"})},O=e=>{let{balance:t,currency:i,is_virtual:n,display_code:o}=e;return void 0===t&&i?null:(0,v.jsx)("div",{className:"acc-info__wallets-account-type-and-balance",children:(0,v.jsx)(s.Text,{as:"p","data-testid":"dt_balance",className:p()("acc-info__balance acc-info__wallets-balance",{"acc-info__balance--no-currency":!i&&!n}),children:i?`${(0,a.formatMoney)(i,null!=t?t:0,!0)} ${o}`:(0,v.jsx)(r.Localize,{i18n_default_text:"No currency assigned"})})})},L=(0,c.observer)((e=>{var t,i;let{gradients:n,icons:o,icon_type:a}=e;const{ui:{is_dark_mode_on:l}}=(0,d.A)(),r=l?"dark":"light",c=l?"IcWalletOptionsDark":"IcWalletOptionsLight";return(0,v.jsx)("div",{className:"acc-info__wallets-container",children:(0,v.jsx)(s.AppLinkedWithWalletIcon,{app_icon:c,gradient_class:null!==(t=null==n?void 0:n.card[r])&&void 0!==t?t:"",size:"small",type:a,wallet_icon:null!==(i=null==o?void 0:o[r])&&void 0!==i?i:"",hide_watermark:!0})})})),S=(0,c.observer)((e=>{var t;let{gradients:i,icons:n,icon_type:o}=e;const{ui:a}=(0,d.A)(),{is_dark_mode_on:l}=a,r=l?"dark":"light";return(0,v.jsxs)("div",{className:"acc-info__wallets-container",children:[(0,v.jsx)(s.Icon,{icon:l?"IcWalletOptionsDark":"IcWalletOptionsLight",size:24,data_testid:"dt_ic_wallet_options"}),(0,v.jsx)(s.WalletIcon,{icon:null!==(t=null==n?void 0:n[r])&&void 0!==t?t:"",type:o,gradient_class:null==i?void 0:i.card[r],size:"small",has_bg:!0,hide_watermark:!0})]})})),T=(0,c.observer)((e=>{var t;let{is_dialog_on:i,toggleDialog:n}=e;const{client:o,ui:s}=(0,d.A)(),{switchAccount:r,is_logged_in:c,loginid:_,accounts:u}=o,{account_switcher_disabled_message:m}=s,{data:g}=(0,f.A)(),h=(0,x.A)(),{isDesktop:w}=(0,l.Y)(),y=null==u?void 0:u[null!=_?_:""],N=localStorage.getItem("active_wallet_loginid"),T=null!==(t=null==g?void 0:g.find((e=>e.loginid===N)))&&void 0!==t?t:null==g?void 0:g.find((e=>e.loginid===_));let z=_;var P;T&&(z=T.dtrade_loginid||(null===(P=h.dtrade)||void 0===P||null===(P=P[0])||void 0===P?void 0:P.loginid),z&&z!==_&&r(z));const M=null==g?void 0:g.find((e=>e.dtrade_loginid===z));if(!M)return(0,v.jsx)(I.sk,{is_logged_in:c,is_mobile:!w,speed:3});const E=M.is_virtual;return(0,v.jsxs)("div",{className:"acc-info__wrapper",children:[(0,v.jsx)("div",{className:"acc-info__separator"}),(0,v.jsx)(D.A,{is_mobile:!w,is_disabled:Boolean(null==y?void 0:y.is_disabled),disabled_message:m,children:(0,v.jsxs)("div",{"data-testid":"dt_acc_info",id:"dt_core_account-info_acc-info",className:p()("acc-info acc-info__wallets",{"acc-info--show":i,"acc-info--is-disabled":null==y?void 0:y.is_disabled}),onClick:null!=y&&y.is_disabled?void 0:()=>n(),onKeyDown:null!=y&&y.is_disabled?void 0:()=>n(),children:[w?(0,v.jsx)(S,{gradients:M.gradients,icons:M.icons,icon_type:M.icon_type}):(0,v.jsx)(L,{gradients:M.gradients,icons:M.icons,icon_type:M.icon_type}),(0,v.jsx)(O,{balance:null==y?void 0:y.balance,currency:null==y?void 0:y.currency,is_virtual:Boolean(null==y?void 0:y.is_virtual),display_code:(0,a.getCurrencyDisplayCode)(null==y?void 0:y.currency)}),E&&(0,v.jsx)(j,{is_demo:Boolean(null==M?void 0:M.is_virtual),label:null==M?void 0:M.landing_company_name}),(0,v.jsx)(C,{is_disabled:Boolean(null==y?void 0:y.is_disabled)})]})}),w?(0,v.jsx)(b.A,{in:i,timeout:200,classNames:{enter:"acc-switcher__wrapper--enter",enterDone:"acc-switcher__wrapper--enter-done",exit:"acc-switcher__wrapper--exit"},unmountOnExit:!0,children:(0,v.jsx)("div",{className:"acc-switcher__wrapper acc-switcher__wrapper--wallets",children:(0,v.jsx)(k,{is_visible:i,toggle:n})})}):(0,v.jsx)(A,{is_visible:i,toggle:n,loginid:_})]})})),z=(0,c.observer)((()=>{const{client:e,ui:t,notifications:i}=(0,d.A)(),{is_logged_in:c,accounts:h,loginid:p}=e,{openRealAccountSignup:b,toggleAccountsDialog:f,is_accounts_switcher_on:x}=t,{isDesktop:j}=(0,l.Y)(),{is_notifications_visible:w,notifications:y,toggleNotificationsModal:k}=i,N=null==y?void 0:y.length,A=null==h?void 0:h[null!=p?p:""],I=null==A?void 0:A.is_virtual,D=null==A?void 0:A.currency,C=(0,o.useHistory)(),O=(0,v.jsx)(m.Sm,{className:"account-settings-toggle",to:a.routes.personal_details,children:(0,v.jsx)(s.Icon,{icon:"IcUserOutline"})});return c?j?(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)(g.A,{count:N,is_visible:w,toggleDialog:k,tooltip_message:(0,v.jsx)(r.Localize,{i18n_default_text:"View notifications"}),should_disable_pointer_events:!0,showPopover:!a.isTabletOs}),a.isTabletOs?O:(0,v.jsx)(s.Popover,{classNameBubble:"account-settings-toggle__tooltip",alignment:"bottom",message:(0,v.jsx)(r.Localize,{i18n_default_text:"Manage account settings"}),should_disable_pointer_events:!0,zIndex:"9999",children:O}),(0,v.jsx)(T,{is_dialog_on:x,toggleDialog:f}),!I&&!D&&(0,v.jsx)("div",{className:"set-currency",children:(0,v.jsx)(s.Button,{onClick:()=>b("set_currency"),has_effect:!0,type:"button",text:(0,r.localize)("Set currency"),primary:!0})}),D&&(0,v.jsx)(s.Button,{className:"acc-info__button",has_effect:!0,text:(0,r.localize)("Manage funds"),onClick:()=>{C.push(a.routes.wallets_transfer,{toAccountLoginId:p})},primary:!0})]}):(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)(T,{is_dialog_on:x,toggleDialog:f}),(0,v.jsx)("div",{className:"acc-info__wallets-notification-icon",children:(0,v.jsx)(g.A,{count:N,is_visible:w,toggleDialog:k,tooltip_message:void 0})})]}):(0,v.jsxs)(n.Fragment,{children:[(0,v.jsx)(_.M,{className:"acc-info__button"}),(0,v.jsx)(u.X,{className:"acc-info__button"})]})}))},976327:(e,t,i)=>{i.d(t,{A:()=>a});var n=i(189137),o=i(33118);const a=[{icon:(0,n.getPlatformSettings)("trader").icon,title:()=>(0,n.getPlatformSettings)("trader").name,name:(0,n.getPlatformSettings)("trader").name,description:()=>(0,o.localize)("A whole new trading experience on a powerful yet easy to use platform."),link_to:n.routes.trade},{icon:(0,n.getPlatformSettings)("dbot").icon,title:()=>(0,n.getPlatformSettings)("dbot").name,name:(0,n.getPlatformSettings)("dbot").name,description:()=>(0,o.localize)("Automated trading at your fingertips. No coding needed."),href:n.routes.bot},{icon:(0,n.getPlatformSettings)("smarttrader").icon,title:()=>(0,n.getPlatformSettings)("smarttrader").name,name:(0,n.getPlatformSettings)("smarttrader").name,description:()=>(0,o.localize)("Trade the world’s markets with our popular user-friendly platform."),href:n.routes.smarttrader}]},461297:(e,t,i)=>{i.d(t,{A:()=>a});var n=i(414646),o=i(56752);const a=()=>{const{client:e}=(0,n.A)(),{landing_company_shortcode:t,residence:i}=e,a=(0,o.A)();return"im"!==i&&("malta"!==t||a)}},647620:(e,t,i)=>{i.d(t,{A:()=>d});var n=i(286326),o=i(773835),a=i(414646);const s=["data"];function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach((function(t){c(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function c(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const d=e=>{var t;const{client:i}=(0,a.A)(),{accounts:l,loginid:c=""}=i,d=null===(t=l[c||""])||void 0===t?void 0:t.token,_=(0,o.A)("authorize",{payload:{authorize:null!=e?e:d},options:{enabled:Boolean(null!=e?e:d)}}),{data:u}=_,m=function(e,t){if(null==e)return{};var i,n,o=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;i[n]=e[n]}return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.includes(i)||{}.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}(_,s),g=(0,n.useMemo)((()=>r({},null==u?void 0:u.authorize)),[null==u?void 0:u.authorize]);return r({data:g},m)}},56752:(e,t,i)=>{i.d(t,{A:()=>o});var n=i(414646);const o=()=>{const{client:e}=(0,n.A)(),{active_accounts:t}=e;return t.some((e=>"maltainvest"===e.landing_company_shortcode))}},132870:(e,t,i)=>{i.d(t,{A:()=>o});var n=i(414646);const o=()=>{const{client:e}=(0,n.A)(),{active_accounts:t}=e;return t.some((e=>"svg"===e.landing_company_shortcode))}},526248:(e,t,i)=>{i.d(t,{A:()=>c});var n=i(286326),o=i(394559),a=i.n(o),s=i(189137),l=i(414646),r=i(788624);const c=()=>{var e;const{p2p_settings:t,rest:{isLoading:i,isSubscribed:o}}=(0,r.A)(),{client:c,traders_hub:d}=(0,l.A)(),{currency:_,email:u,is_virtual:m,loginid:g,setIsP2PEnabled:h}=c,{is_low_risk_cr_eu_real:p}=d,b=Boolean(null==t||null===(e=t.supported_currencies)||void 0===e?void 0:e.includes(_.toLocaleLowerCase()))&&!m&&!p;return n.useEffect((()=>{if(h(b),u&&g){const e=/deriv\.(com|me|be)/.test(window.location.hostname)?s.deriv_urls.DERIV_HOST_NAME:window.location.hostname;a().set("is_p2p_disabled",(!b).toString(),{domain:e,secure:!0,sameSite:"none"})}}),[u,b,g,h]),{is_p2p_enabled:b,is_p2p_enabled_loading:i,is_p2p_enabled_success:o}}},673285:(e,t,i)=>{i.d(t,{A:()=>s});var n=i(414646),o=i(56752),a=i(132870);const s=()=>{const{traders_hub:e}=(0,n.A)(),{is_eu_user:t,is_real:i}=e,s=(0,a.A)(),l=(0,o.A)();return(s&&!l&&t||!s&&l&&!t)&&i}},763782:(e,t,i)=>{i.d(t,{A:()=>o});var n=i(414646);const o=()=>{var e,t;const{client:i}=(0,n.A)(),{website_status:o,currency:a,is_virtual:s}=i;return!s&&!(null==o||null===(e=o.currencies_config)||void 0===e||!e[a])&&(null==o||null===(t=o.currencies_config)||void 0===t?void 0:t[a].platform.ramp.length)>0}},813587:(e,t,i)=>{i.d(t,{A:()=>a});var n=i(286326),o=i(414646);const a=()=>{var e;const[t,i]=(0,n.useState)(JSON.parse(localStorage.getItem("p2p_settings")||"{}")),{client:a}=(0,o.A)(),{loginid:s}=a,l=s?null===(e=t[s])||void 0===e?void 0:e.notifications:null;(0,n.useEffect)((()=>{const e=()=>{const e=localStorage.getItem("p2p_settings");e&&i(JSON.parse(e))};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}}),[]);return(null==l?void 0:l.filter((e=>!e.is_seen)).length)||0}},788624:(e,t,i)=>{i.d(t,{A:()=>a});var n=i(286326),o=i(959259);const a=()=>{const e=(0,n.useContext)(o.A);if(!e)throw new Error("useP2PSettingsContext must be used within a P2PSettingsProvider");return e}},594269:(e,t,i)=>{i.d(t,{A:()=>d});var n=i(773835),o=i(189137),a=i(414646),s=i(286326);const l=["data"];function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function c(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const d=()=>{var e;const{client:t}=(0,a.A)(),{is_authorize:i,is_logged_in:d}=t,[_,u]=(0,s.useState)(!1);(0,s.useEffect)((()=>{(async()=>{try{await o.WS.wait("authorize")&&u(i&&d)}catch(e){console.error("Error while authorizing:",e)}})()}),[i,d]);const m=(0,n.A)("get_settings",{options:{enabled:Boolean(_)}}),{data:g}=m,h=function(e,t){if(null==e)return{};var i,n,o=function(e,t){if(null==e)return{};var i={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;i[n]=e[n]}return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)i=a[n],t.includes(i)||{}.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}(m,l);return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){c(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({data:Boolean(null==g||null===(e=g.get_settings)||void 0===e?void 0:e.is_authenticated_payment_agent)},h)}},298497:(e,t,i)=>{i.d(t,{A:()=>a});var n=i(286326),o=i(159859);const a=()=>{const{data:e}=(0,o.A)();return(0,n.useMemo)((()=>{const t={ctrader:[],derivez:[],dtrade:[],dxtrade:[],mt5:[]};return null==e||e.forEach((e=>{const i=e.linked_to;null==i||i.forEach((e=>{null!=e&&e.platform&&null!=e&&e.loginid&&t[e.platform].push(e)}))})),t}),[e])}},159859:(e,t,i)=>{i.d(t,{A:()=>c});var n=i(286326),o=i(414646);function a(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?a(Object(i),!0).forEach((function(t){l(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const r={Demo:{dark:"IcWalletDerivDemoDark",light:"IcWalletDerivDemoLight"},USD:{dark:"IcWalletCurrencyUsd",light:"IcWalletCurrencyUsd"},EUR:{dark:"IcWalletCurrencyEur",light:"IcWalletCurrencyEur"},AUD:{dark:"IcWalletCurrencyAud",light:"IcWalletCurrencyAud"},GBP:{dark:"IcWalletCurrencyGbp",light:"IcWalletCurrencyGbp"},BTC:{dark:"IcWalletBitcoinDark",light:"IcWalletBitcoinLight"},ETH:{dark:"IcWalletEthereumDark",light:"IcWalletEthereumLight"},USDT:{dark:"IcWalletTetherDark",light:"IcWalletTetherLight"},eUSDT:{dark:"IcWalletTetherDark",light:"IcWalletTetherLight"},tUSDT:{dark:"IcWalletTetherDark",light:"IcWalletTetherLight"},UST:{dark:"IcWalletTetherDark",light:"IcWalletTetherLight"},LTC:{dark:"IcWalletLiteCoinDark",light:"IcWalletLiteCoinLight"},USDC:{dark:"IcWalletUsdCoinDark",light:"IcWalletUsdCoinLight"},XRP:{dark:"IcWalletXrpDark",light:"IcWalletXrpLight"}},c=()=>{const{client:e}=(0,o.A)(),{accounts:t,is_crypto:i}=e,a=(0,n.useMemo)((()=>{var e;return null===(e=Object.keys(t))||void 0===e||null===(e=e.filter((e=>"wallet"===(null==t?void 0:t[e].account_category))))||void 0===e?void 0:e.map((e=>{var n,o,a,l;const c=null==t?void 0:t[e],d=e,_=c.currency,u=Boolean(c.is_disabled),m=Boolean(c.is_virtual),g=i(_)?"crypto":"fiat",h=m?"demo":g,p=null===(n=c.landing_company_name)||void 0===n?void 0:n.replace("maltainvest","malta"),b="malta"===p,f=null==c||null===(o=c.linked_to)||void 0===o||null===(o=o.find((e=>"dtrade"===(null==e?void 0:e.platform))))||void 0===o?void 0:o.loginid,x=null==t||null===(a=t[null!=f?f:""])||void 0===a?void 0:a.balance,v=Boolean(null==t||null===(l=t[null!=f?f:""])||void 0===l?void 0:l.is_disabled),j=m?"Demo":_||"",w=r[j],y={header:{dark:`wallet-header__${j.toLowerCase()}-bg--dark`,light:`wallet-header__${j.toLowerCase()}-bg`},card:{dark:`wallet-card__${j.toLowerCase()}-bg--dark`,light:`wallet-card__${j.toLowerCase()}-bg`}};return s(s({},c),{},{dtrade_loginid:f,dtrade_balance:x,icons:w,icon_type:h,is_disabled:u,is_virtual:m,is_malta_wallet:b,landing_company_name:p,loginid:d,gradients:y,is_dtrader_account_disabled:v})}))}),[t,i]),l=(0,n.useMemo)((()=>{if(a)return[...a].sort(((e,t)=>e.is_virtual!==t.is_virtual?e.is_virtual?1:-1:i(e.currency)!==i(t.currency)?i(e.currency)?1:-1:(e.currency||"USD").localeCompare(t.currency||"USD")))}),[i,a]);return{data:l,has_wallet:l&&l.length>0}}}}]);
//# sourceMappingURL=core.4061.1d55ecada6b35b97f2a0.js.map