/*! For license information please see cashier.cashier-app.ab99cbfa58fed124e884.js.LICENSE.txt */
"use strict";(self.webpackChunk_deriv_cashier=self.webpackChunk_deriv_cashier||[]).push([["cashier-app"],{"../../api/src/APIProvider.tsx":(e,t,r)=>{r.d(t,{Ay:()=>k,xH:()=>x});var n=r("react"),o=r.n(n),a=r("../../../node_modules/@deriv/deriv-api/dist/DerivAPIBasic.js"),i=r.n(a),c=r("@deriv/shared"),l=r("../../../node_modules/@tanstack/query-core/build/lib/queryClient.mjs"),s=r("../../../node_modules/@tanstack/react-query/build/lib/QueryClientProvider.mjs"),u=r("../../api/src/utils/crypto.utils.ts");function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(){m=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),c=new N(n||[]);return o(i,"_invoke",{value:L(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var h="suspendedStart",p="suspendedYield",y="executing",v="completed",_={};function g(){}function b(){}function w(){}var E={};s(E,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(T([])));k&&k!==r&&n.call(k,i)&&(E=k);var O=w.prototype=g.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=d(e[o],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==f(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,r,n){var o=h;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===_)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=d(t,r,n);if("normal"===s.type){if(o=n.done?v:p,s.arg===_)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=v,n.method="throw",n.arg=s.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),_;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,_;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,_):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,_)}function z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(f(t)+" is not iterable")}return b.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=s(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),s(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),s(O,l,"Generator"),s(O,i,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,_):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),_}},t}function d(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return(t=function(e){var t=function(e){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==f(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var g=(0,n.createContext)(null),b=function(e){var t,r,n;window.DerivAPI||(window.DerivAPI={});var o=function(){var e=(0,c.getSocketURL)(),t=(0,c.getAppId)(),r=localStorage.getItem("i18n_language");return"wss://".concat(e,"/websockets/v3?app_id=").concat(t,"&l=").concat(r,"&brand=").concat("deriv")}(),a=function(e,t){window.WSConnections||(window.WSConnections={});var r=window.WSConnections[e];return r&&r instanceof WebSocket&&![2,3].includes(r.readyState)||(window.WSConnections[e]=new WebSocket(e),window.WSConnections[e].addEventListener("close",(function(){"function"==typeof t&&t()}))),window.WSConnections[e]}(o,e);return(null===(t=window.DerivAPI)||void 0===t||!t[o]||null!==(r=window.DerivAPI)&&void 0!==r&&r[o].isConnectionClosed())&&(window.DerivAPI[o]=new(i())({connection:a})),null===(n=window.DerivAPI)||void 0===n?void 0:n[o]},w=(window.ReactQueryClient||(window.ReactQueryClient=new l.E),window.ReactQueryClient),E=function(e){return window.localStorage.getItem("config.server_url")?"custom":e&&!/^(VRT|VRW)/.test(e)?"real":"demo"},x=function(){var e=(0,n.useContext)(g);if(!e)throw new Error("useAPIContext must be used within APIProvider");return e};const k=function(e){var t=e.children,r=e.standalone,a=void 0!==r&&r,i=(0,c.useWS)(),l=v((0,n.useState)(!1),2),f=l[0],h=l[1],_=window.localStorage.getItem("active_loginid"),x=v((0,n.useState)(E(_)),2),k=x[0],O=x[1],S=(0,n.useRef)(a?b((function(){return h(!0)})):null),A=(0,n.useRef)(),L=function(){var e,t=(e=m().mark((function e(t,r){var n,o,a,i,c,l,s;return m().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.w)({name:t,payload:r});case 2:if(i=e.sent,!(c=null===(n=A.current)||void 0===n?void 0:n[i])){e.next=6;break}return e.abrupt("return",{id:i,subscription:c});case 6:return l=(null!=r?r:{}).payload,s=null===(o=S.current)||void 0===o?void 0:o.subscribe(p(y(y({},t,1),"subscribe",1),null!=l?l:{})),A.current=p(p({},null!==(a=A.current)&&void 0!==a?a:{}),y({},i,s)),e.abrupt("return",{id:i,subscription:s});case 10:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){d(a,n,o,i,c,"next",e)}function c(e){d(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}();(0,n.useEffect)((function(){var e=S.current,t=A.current;return function(){t&&Object.keys(t).forEach((function(e){t[e].unsubscribe()})),e&&1===e.connection.readyState&&e.disconnect()}}),[]);var C=(0,n.useCallback)((function(e){if(a){var t=E(e);"custom"!==t&&t!==k&&O(t)}}),[k,a]);return(0,n.useEffect)((function(){var e;return a&&(e=setInterval((function(){var e;return null===(e=S.current)||void 0===e?void 0:e.send({ping:1})}),1e4)),function(){return clearInterval(e)}}),[a]),(0,n.useEffect)((function(){var e;return(a||f)&&(S.current=b((function(){e=setTimeout((function(){return h(!0)}),500)})),h(!1)),function(){return clearTimeout(e)}}),[k,f,a]),o().createElement(g.Provider,{value:{derivAPI:a?S.current:i,switchEnvironment:C,send:function(e,t){var r;return null===(r=S.current)||void 0===r?void 0:r.send(p(y({},e,1),t))},subscribe:L,unsubscribe:function(e){var t,r=null===(t=A.current)||void 0===t?void 0:t[e];r&&r.unsubscribe()},queryClient:w}},o().createElement(s.Ht,{client:w},t))}},"../../api/src/useAPI.ts":(e,t,r)=>{r.d(t,{A:()=>f});var n=r("react"),o=r("../../api/src/APIProvider.tsx");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(){i=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},c="function"==typeof Symbol?Symbol:{},l=c.iterator||"@@iterator",s=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function m(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),c=new N(n||[]);return o(i,"_invoke",{value:L(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=m;var h="suspendedStart",p="suspendedYield",y="executing",v="completed",_={};function g(){}function b(){}function w(){}var E={};f(E,l,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(T([])));k&&k!==r&&n.call(k,l)&&(E=k);var O=w.prototype=g.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,i,c,l){var s=d(e[o],e,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==a(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,c,l)}),(function(e){r("throw",e,c,l)})):t.resolve(f).then((function(e){u.value=e,c(u)}),(function(e){return r("throw",e,c,l)}))}l(s.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,r,n){var o=h;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===_)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=d(t,r,n);if("normal"===s.type){if(o=n.done?v:p,s.arg===_)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=v,n.method="throw",n.arg=s.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),_;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,_;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,_):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,_)}function z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return b.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=f(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,f(e,u,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),f(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(m(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),f(O,u,"Generator"),f(O,l,(function(){return this})),f(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,_):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),_}},t}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}const f=function(){var e=(0,o.xH)().derivAPI,t=(0,n.useCallback)(function(){var t,r=(t=i().mark((function t(r,n){var o;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null==e?void 0:e.send(l(s({},r,1),n||{}));case 2:if(!(o=t.sent).error){t.next=5;break}throw o.error;case 5:return t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){u(a,n,o,i,c,"next",e)}function c(e){u(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,t){return r.apply(this,arguments)}}(),[e]);return{send:t,subscribe:(0,n.useCallback)((function(t,r){return null==e?void 0:e.subscribe(l(s(s({},t,1),"subscribe",1),r||{}))}),[e])}}},"../../api/src/useMutation.ts":(e,t,r)=>{r.d(t,{A:()=>u});var n=r("react"),o=r("../../../node_modules/@tanstack/react-query/build/lib/useMutation.mjs"),a=r("../../api/src/useAPI.ts");function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var c=["mutate","mutateAsync"];function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return(t=function(e){var t=function(e){if("object"!=i(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==i(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u=function(e,t){var r=(0,a.A)().send,i=(0,o.n)((function(t){var n=null==t?void 0:t[0],o=n&&"payload"in n?n.payload:void 0;return r(e,o)}),t),u=i.mutate,f=i.mutateAsync,m=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(i,c),d=(0,n.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return u(t)}),[u]),h=(0,n.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return f(t)}),[f]);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({mutate:d,mutateAsync:h},m)}},"../../api/src/useQuery.ts":(e,t,r)=>{r.d(t,{A:()=>a});var n=r("../../../node_modules/@tanstack/react-query/build/lib/useQuery.mjs"),o=r("../../api/src/useAPI.ts");const a=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];var i=null==r?void 0:r[0],c=i&&"payload"in i?i.payload:void 0,l=i&&"options"in i?i.options:void 0,s=(0,o.A)().send;return(0,n.I)(function(e,t){if(!t)return[e];if(delete t.req_id,e&&1===t[e]&&delete t[e],0===Object.keys(t).length)return[e];var r=Object.keys(t).sort((function(e,t){return e.localeCompare(t)})).reduce((function(e,r){return e[r]=t[r],e}),{});return[e,JSON.stringify(r)]}(e,c),(function(){return s(e,c)}),l)}},"../../api/src/useSubscription.ts":(e,t,r)=>{r.d(t,{A:()=>c});var n=r("react"),o=r("../../api/src/useAPI.ts");function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,r=a((0,n.useState)(!1),2),i=r[0],c=r[1],l=a((0,n.useState)(!1),2),s=l[0],u=l[1],f=a((0,n.useState)(!1),2),m=f[0],d=f[1],h=a((0,n.useState)(),2),p=h[0],y=h[1],v=a((0,n.useState)(),2),_=v[0],g=v[1],b=(0,n.useRef)(),w=(0,n.useRef)(),E=(0,o.A)().subscribe,x=(0,n.useCallback)((function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];var a=null==n?void 0:n[0],i=a&&"payload"in a?a.payload:void 0;c(!0),u(!0),d(!1),w.current=setTimeout((function(){d(!0),c(!1)}),t);try{b.current=E(e,i).subscribe((function(e){g(e),c(!1)}),(function(e){y(e.error),c(!1)}))}catch(e){y(e)}}),[E,e,t]),k=(0,n.useCallback)((function(){var e,t;null===(e=b.current)||void 0===e||null===(t=e.unsubscribe)||void 0===t||t.call(e),u(!1)}),[]);return(0,n.useEffect)((function(){return function(){k()}}),[k]),(0,n.useEffect)((function(){return function(){w.current&&clearTimeout(w.current)}}),[_]),{subscribe:x,unsubscribe:k,isIdle:m,isLoading:i,isSubscribed:s,error:p,data:_}}},"../../api/src/utils/crypto.utils.ts":(e,t,r)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(){o=function(){return t};var e,t={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},c="function"==typeof Symbol?Symbol:{},l=c.iterator||"@@iterator",s=c.asyncIterator||"@@asyncIterator",u=c.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function m(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),c=new N(n||[]);return i(a,"_invoke",{value:L(e,r,c)}),a}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=m;var h="suspendedStart",p="suspendedYield",y="executing",v="completed",_={};function g(){}function b(){}function w(){}var E={};f(E,l,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(T([])));k&&k!==r&&a.call(k,l)&&(E=k);var O=w.prototype=g.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,i,c,l){var s=d(e[o],e,i);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==n(f)&&a.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,c,l)}),(function(e){r("throw",e,c,l)})):t.resolve(f).then((function(e){u.value=e,c(u)}),(function(e){return r("throw",e,c,l)}))}l(s.arg)}var o;i(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}})}function L(t,r,n){var o=h;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===_)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=d(t,r,n);if("normal"===s.type){if(o=n.done?v:p,s.arg===_)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=v,n.method="throw",n.arg=s.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),_;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,_;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,_):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,_)}function z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(a.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(n(t)+" is not iterable")}return b.prototype=w,i(O,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=f(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,f(e,u,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),f(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(m(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),f(O,u,"Generator"),f(O,l,(function(){return this})),f(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,_):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),_}},t}function a(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}r.d(t,{w:()=>i});var i=function(){var e,t=(e=o().mark((function e(t){var r,n,a,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(new TextEncoder).encode(JSON.stringify(t)),e.next=3,crypto.subtle.digest("SHA-256",r);case 3:return n=e.sent,a=Array.from(new Uint8Array(n)),i=a.map((function(e){return"00".concat(e.toString(16)).slice(-2)})).join(""),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function c(e){a(i,n,o,c,l,"next",e)}function l(e){a(i,n,o,c,l,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}()},"./app.tsx":(e,t,r)=>{r.r(t),r.d(t,{default:()=>Ke});var n=r("react"),o=r.n(n),a=r("mobx-react-lite"),i=r("../../stores/src/useStore.ts"),c=r("react-router"),l=r("react-router-dom"),s=r("@deriv/components"),u=r("./components/page-404/index.ts"),f=r("@deriv/p2p"),m=r.n(f),d=r("@deriv/shared"),h=r("@deriv/translations"),p=r("../../api/src/useQuery.ts");function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}var v=["data"];function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e,t,r){return(t=function(e){var t=function(e){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(){b=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof _?t:_,i=Object.create(a.prototype),c=new N(n||[]);return o(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",d="suspendedYield",h="executing",p="completed",v={};function _(){}function g(){}function w(){}var E={};s(E,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(T([])));k&&k!==r&&n.call(k,i)&&(E=k);var O=w.prototype=_.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==y(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,r,n){var o=m;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===p){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===v)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?p:d,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=p,n.method="throw",n.arg=s.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(y(t)+" is not iterable")}return g.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=s(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),s(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),s(O,l,"Generator"),s(O,i,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function w(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const x=function(){var e,t=(0,i.A)().client,r=t.is_authorize,o=t.is_logged_in,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)(!1),2),c=a[0],l=a[1];(0,n.useEffect)((function(){var e=function(){var e,t=(e=b().mark((function e(){return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.WS.wait("authorize");case 3:e.sent&&l(r&&o),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("Error while authorizing:",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){w(a,n,o,i,c,"next",e)}function c(e){w(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[r,o]);var s=(0,p.A)("get_settings",{options:{enabled:Boolean(c)}}),u=s.data,f=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(s,v);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({data:Boolean(null==u||null===(e=u.get_settings)||void 0===e?void 0:e.is_authenticated_payment_agent)},f)};var k=r("../../hooks/src/usePaymentAgentList.ts"),O=r("../../hooks/src/useHasMaltaInvestAccount.ts");const S=function(){var e=(0,i.A)().client,t=e.landing_company_shortcode,r=e.residence,n=(0,O.A)();return"im"!==r&&("malta"!==t||n)};function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const L=function(){var e,t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)(JSON.parse(localStorage.getItem("p2p_settings")||"{}")),2),r=t[0],o=t[1],a=(0,i.A)().client.loginid,c=a?null===(e=r[a])||void 0===e?void 0:e.notifications:null;return(0,n.useEffect)((function(){var e=function(){var e=localStorage.getItem("p2p_settings");e&&o(JSON.parse(e))};return window.addEventListener("storage",e),function(){window.removeEventListener("storage",e)}}),[]),(null==c?void 0:c.filter((function(e){return!e.is_seen})).length)||0};var C=r("../../hooks/src/useP2PSettings.ts"),z=r("../../hooks/src/useIsP2PEnabled.ts");function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}var N=["data"];function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return(t=function(e){var t=function(e){if("object"!=j(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==j(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const D=function(e){var t,r=(0,i.A)().client,o=r.accounts,a=r.loginid,c=null===(t=o[(void 0===a?"":a)||""])||void 0===t?void 0:t.token,l=(0,p.A)("authorize",{payload:{authorize:null!=e?e:c},options:{enabled:Boolean(null!=e?e:c)}}),s=l.data,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(l,N),f=(0,n.useMemo)((function(){return P({},null==s?void 0:s.authorize)}),[null==s?void 0:s.authorize]);return P({data:f},u)};var M=r("../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js"),F=r("./components/error-dialog/index.ts"),R=r("./stores/useCashierStores.tsx");function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function G(){G=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new z(n||[]);return o(i,"_invoke",{value:S(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",d="suspendedYield",h="executing",p="completed",y={};function v(){}function _(){}function g(){}var b={};s(b,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(j([])));E&&E!==r&&n.call(E,i)&&(b=E);var x=g.prototype=v.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==U(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function S(t,r,n){var o=m;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===p){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=A(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?p:d,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=p,n.method="throw",n.arg=s.arg)}}}function A(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,A(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function j(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(U(t)+" is not iterable")}return _.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:_,configurable:!0}),_.displayName=s(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},k(O.prototype),s(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new O(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(x),s(x,l,"Generator"),s(x,i,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=j,z.prototype={constructor:z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:j(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function B(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){V(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function V(e,t,r){return(t=function(e){var t=function(e){if("object"!=U(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==U(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var q=(0,a.observer)((function(e){var t=e.history,r=e.location,a=e.routes,c=(0,i.A)(),l=c.common,u=c.ui,f=c.client,m=(0,M.Y)(),p=m.isDesktop,y=m.isMobile,v=(0,R.q)(),_=v.withdraw,g=v.general_store,b=_.error,w=g.is_cashier_onboarding,E=g.is_loading,O=g.onMountCommon,A=g.setAccountSwitchListener,j=g.setCashierTabIndex,N=g.cashier_route_tab_index,T=g.setActiveTab,P=x(),I=P.data,U=P.isLoading,Y=P.isSuccess,V=l.current_language,q=l.is_from_derivgo,H=u.is_cashier_visible,$=u.toggleCashier,K=u.toggleReadyToDepositModal,J=f.account_settings,X=f.currency,Q=f.is_account_setting_loaded,Z=f.is_logged_in,ee=f.is_logging_in,te=f.is_svg,re=f.is_virtual,ne=(0,k.A)(X),oe=ne.data,ae=ne.isLoading,ie=ne.isSuccess,ce=oe&&oe.length>0,le=S(),se=function(){var e,t,r=(0,i.A)().client,n=r.website_status,o=r.currency;return!r.is_virtual&&!(null==n||null===(e=n.currencies_config)||void 0===e||!e[o])&&(null==n||null===(t=n.currencies_config)||void 0===t?void 0:t[o].platform.ramp.length)>0}(),ue=L(),fe=(0,C.A)(),me=fe.subscribe,de=fe.p2p_settings,he=fe.rest.isSubscribed,pe=(0,z.A)(),ye=pe.is_p2p_enabled,ve=pe.is_p2p_enabled_success,_e=pe.is_p2p_enabled_loading,ge=D().isSuccess,be=(0,n.useMemo)((function(){var e=[];return a.forEach((function(t){t.is_invisible||t.path===d.routes.cashier_pa&&!ce||t.path===d.routes.cashier_pa_transfer&&!I||t.path===d.routes.cashier_p2p&&!ye||t.path===d.routes.cashier_onramp&&!se||t.path===d.routes.cashier_acc_transfer&&!le||e.push(W(W({},t.path===d.routes.cashier_p2p&&{count:ue}),{},{default:t.default,icon:t.icon_component,label:t.getTitle(),value:t.component,path:t.path}))})),e}),[le,se,ye,I,ce,ue,J.preferred_language,V,a]),we=(0,n.useMemo)((function(){return(0,d.getSelectedRoute)({routes:a,pathname:r.pathname})}),[r.pathname,a]),Ee=!!we.default,xe=(0,n.useCallback)((function(e){switch(e){case d.routes.cashier_deposit:T("deposit");break;case d.routes.cashier_withdrawal:T("withdraw");break;case d.routes.cashier_pa:T("payment_agent");break;case d.routes.cashier_pa_transfer:T("payment_agent_transfer");break;case d.routes.cashier_acc_transfer:T("account_transfer");break;case d.routes.cashier_onramp:T("onramp");break;default:T("deposit")}}),[T]);if((0,n.useEffect)((function(){xe(we.path)}),[we,xe]),(0,n.useEffect)((function(){return $(),function(){$()}}),[$]),(0,n.useEffect)((function(){var e;(e=G().mark((function e(){return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===d.WS||void 0===d.WS?void 0:d.WS.wait("authorize");case 2:Z&&(O(),A());case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){B(a,n,o,i,c,"next",e)}function c(e){B(a,n,o,i,c,"throw",e)}i(void 0)}))})()}),[Z,O,A]),o().useEffect((function(){ge&&!he&&me()}),[ge,de,me,he]),(0,n.useEffect)((function(){Y&&!I&&t.location.pathname===d.routes.cashier_pa_transfer&&t.push(d.routes.cashier_deposit)}),[t,I,Y]),(0,n.useEffect)((function(){se||t.location.pathname!==d.routes.cashier_onramp||t.push(d.routes.cashier_deposit)}),[t,se]),(0,n.useEffect)((function(){if(ve&&!ye&&t.location.pathname.startsWith(d.routes.cashier_p2p)){var e=new URLSearchParams(t.location.search).get("advert_id");t.push(d.routes.cashier_deposit),e&&(re?K():b.setErrorMessage({code:"ShareMyAdsError",message:"USD"!==X&&te?(0,h.localize)("Deriv P2P is currently unavailable in this currency."):(0,h.localize)("Deriv P2P is currently unavailable in your country.")}))}}),[X,b,t,ye,ve,te,re,K]),(!Z||y)&&ee||!Q||U||_e&&!ve||ae&&!ie)return o().createElement(s.Loading,{is_fullscreen:!0});var ke,Oe=Math.max(be.findIndex((function(e){return(0,d.matchRoute)(e,r.pathname)})),0);return(0,d.setPerformanceValue)("load_cashier_time"),o().createElement(s.FadeWrapper,{is_visible:H,className:"cashier__page-wrapper",keyname:"cashier__page-wrapper"},o().createElement(F.A,{error:b}),o().createElement("div",{className:"cashier"},o().createElement(s.PageOverlay,{header:p||Ee&&(E||w)?(0,h.localize)("Cashier"):null===(ke=we.getTitle)||void 0===ke?void 0:ke.call(we),onClickClose:function(){return t.push(d.routes.traders_hub)},is_from_app:q},p?o().createElement(s.VerticalTab,{current_path:r.pathname,initial_vertical_tab_index:Oe,is_floating:!0,setVerticalTabIndex:j,vertical_tab_index:Ee?0:N,is_full_width:!0,is_routed:!0,list:be}):o().createElement(s.Div100vhContainer,{className:"cashier__wrapper--responsive",height_offset:"80px"},(null==we?void 0:we.component)&&o().createElement(we.component,{component_icon:we.icon_component,history:t,menu_options:be})))))}));const H=(0,l.withRouter)(q);var $=r("./pages/account-transfer/index.ts"),K=r("./pages/deposit/index.ts"),J=r("./pages/on-ramp/index.ts"),X=r("./pages/payment-agent/index.ts"),Q=r("./pages/payment-agent-transfer/index.ts"),Z=r("./pages/withdrawal/index.ts"),ee=r("../../hooks/src/useCurrentCurrencyConfig.ts"),te=r("../../hooks/src/useCashierLocked.ts"),re=r("../../hooks/src/useIsSystemMaintenance.ts"),ne=r("../../hooks/src/useDepositLocked.ts"),oe=r("./components/cashier-container/index.ts"),ae=r("./components/cashier-locked/index.ts"),ie=r("./components/page-container/index.ts");const ce=(0,a.observer)((function(e){var t=e.children,r=(0,i.A)().client.is_virtual,n=(0,ee.A)(),a=(0,te.A)(),c=(0,re.A)(),l=(0,ne.A)(),s=(0,R.q)().withdraw.is_withdrawal_locked;return r?o().createElement(ie.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(oe.A,null)):c&&(a||(l||s)&&n.is_crypto)||a?o().createElement(ie.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(ae.A,null)):o().createElement(o().Fragment,null,t)}));var le,se={component:o().lazy((function(){return(0,d.moduleLoader)((function(){return Promise.resolve().then(r.bind(r,"./components/page-404/index.ts"))}))})),getTitle:function(){return(0,h.localize)("Error 404")}};function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ue.apply(null,arguments)}const fe=function(e){return o().createElement(l.Route,{exact:e.exact,path:e.path,render:function(t){var r,n=null;if(e.component===l.Redirect){var a=e.to;e.path===d.routes.index&&(a=t.location.pathname.toLowerCase().replace(e.path,"")),n=o().createElement(l.Redirect,{to:a})}else if(!e.is_authenticated||e.is_logging_in||e.is_logged_in){var i,c=null===(i=e.routes)||void 0===i?void 0:i.find((function(e){return e.default})),s=(0,d.removeBranchName)(location.pathname);n=o().createElement(o().Fragment,null,!!c&&s===e.path&&o().createElement(l.Redirect,{to:c.path}),o().createElement(e.component,ue({},t,{routes:e.routes})))}else(0,d.redirectToLogin)(e.is_logged_in,(0,h.getLanguage)());var u=(null===(r=e.getTitle)||void 0===r?void 0:r.call(e))||"";return document.title="".concat(u," | ").concat(d.default_title),n}})};function me(){return me=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},me.apply(null,arguments)}const de=function(e){return(0,i.A)().client.has_wallet?o().createElement(u.default,null):o().createElement(o().Suspense,{fallback:o().createElement(s.Loading,{className:"cashier__loader",is_fullscreen:!1})},o().createElement(l.Switch,null,(le||(le=[{path:d.routes.cashier,component:H,is_modal:!0,is_authenticated:!0,getTitle:function(){return(0,h.localize)("Cashier")},icon_component:"IcCashier",routes:[{path:d.routes.cashier_deposit,component:function(){return o().createElement(ce,null,o().createElement(K.default,null))},getTitle:function(){return(0,h.localize)("Deposit")},icon_component:"IcCashierAdd",default:!0},{path:d.routes.cashier_withdrawal,component:function(){return o().createElement(ce,null,o().createElement(Z.default,null))},getTitle:function(){return(0,h.localize)("Withdrawal")},icon_component:"IcCashierMinus"},{path:d.routes.cashier_pa,component:X.default,getTitle:function(){return(0,h.localize)("Payment agents")},icon_component:"IcPaymentAgent"},{path:d.routes.cashier_acc_transfer,component:$.default,getTitle:function(){return(0,h.localize)("Transfer")},icon_component:"IcAccountTransfer"},{path:d.routes.cashier_pa_transfer,component:Q.default,getTitle:function(){return(0,h.localize)("Transfer to client")},icon_component:"IcAccountTransfer"},{path:d.routes.cashier_p2p,component:m(),getTitle:function(){return(0,h.localize)("Deriv P2P")},icon_component:"IcDp2p"},{path:d.routes.p2p_verification,component:m(),getTitle:function(){return(0,h.localize)("P2P verification")},icon_component:"IcDp2p",is_invisible:!0},{id:"gtm-onramp-tab",path:d.routes.cashier_onramp,component:J.default,getTitle:function(){return(0,h.localize)("Fiat onramp")},icon_component:"IcCashierOnRamp"}]}]).push(se),le).map((function(t,r){return o().createElement(fe,me({key:r},t,e))}))))},he=function(e){var t=e.header,r=e.message,n=e.redirect_label,a=e.redirectOnClick,i=e.redirect_to,c=void 0===i?d.routes.trade:i,u=e.setError,f=e.should_clear_error_on_click,m=e.should_show_refresh,p=void 0===m||m,y=(0,l.useHistory)();o().useEffect((function(){if(y)return y.listen((function(){"function"==typeof u&&u(!1,null)}))}),[y,u]);var v=p?o().createElement(h.Localize,{i18n_default_text:"Please refresh this page to continue."}):"";return o().createElement(s.PageErrorContainer,{error_header:null!=t?t:"",error_messages:r?[r,v]:[],redirect_urls:[c],redirect_labels:[n||(0,h.localize)("Refresh")],buttonOnClick:a||function(){return location.reload()},should_clear_error_on_click:f,setError:u})};var pe=(0,a.observer)((function(){var e=(0,i.A)(),t=e.client,r=e.common,n=t.is_logged_in,a=t.is_logging_in,c=r.error;return r.has_error?o().createElement(he,c):o().createElement(de,{is_logged_in:n,is_logging_in:a})}));const ye=(0,c.withRouter)(pe),ve=(0,a.observer)((function(){var e=(0,i.A)().ui.notification_messages_ui;return function(){var e=(0,c.useHistory)(),t=(0,R.q)(),r=t.transaction_history,o=t.general_store,a=r.setIsTransactionsCryptoVisible,i=o.setIsCashierOnboarding,l=o.setIsDeposit;(0,n.useEffect)((function(){var t=e.location.hash,r="#deposit"===t,n="#transactions_crypto"===t;e.location.pathname===d.routes.cashier_deposit?(i("#cashier_onboarding"===t||!r&&!n),l(r),a(n),e.replace({pathname:e.location.pathname,hash:""})):(i(!1),l(!1),a(!1))}),[e,i,a,l])}(),o().createElement(o().Fragment,null,e&&o().createElement(e,null),o().createElement(ye,null))}));var _e=r("../../stores/src/storeContext.ts"),ge=r("mobx"),be=r("../../../node_modules/mobx-persist-store/lib/esm5/index.js");function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function Ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xe(n.key),n)}}function xe(e){var t=function(e){if("object"!=we(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=we(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==we(t)?t:t+""}function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function Oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Se(n.key),n)}}function Se(e){var t=function(e){if("object"!=ke(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==ke(t)?t:t+""}function Ae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ae=function(){return!!e})()}function Le(e){return Le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Le(e)}function Ce(e,t){return Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ce(e,t)}var ze={dtrader_v2_mobile:!1,dtrader_v2_desktop:!1,next_qs:!1,sharkfin:!1,wallet:!1},je=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),t.instance&&t.instance.cleanup(),(e=function(e,t,r){return t=Le(t),function(e,t){if(t&&("object"==ke(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Ae()?Reflect.construct(t,r||[],Le(e).constructor):t.apply(e,r))}(this,t,["FeatureFlagsStore",function(){e.data||e.update(ze),e.data&&Object.keys(e.data).length!==Object.keys(ze).length&&e.update((function(e){var t=ze;return Object.keys(ze).forEach((function(r){void 0!==e[r]&&(t[r]=e[r])})),t}))}])).data=ze,t.instance=e,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ce(e,t)}(t,e),r=t,(n=[{key:"cleanup",value:function(){this.unmount()}}])&&Oe(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,n}(function(){return e=function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=void 0,(0,ge.makeObservable)(this,{data:ge.observable,update:ge.action.bound,unmount:ge.action.bound}),(0,be.pu)(this,{name:t,properties:["data"],storage:window.localStorage}).then((function(){return null==r?void 0:r()}))},(t=[{key:"update",value:function(e){this.data=e instanceof Function?e(this.data):e}},{key:"unmount",value:function(){(0,be.xC)(this)}}])&&Ee(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}());function Ne(e){return Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ne(e)}function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){Ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ie(e,t,r){return(t=function(e){var t=function(e){if("object"!=Ne(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ne(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}je.instance=null;const De=function(e){var t=e.children,r=e.store,a=(0,n.useMemo)((function(){return"is_mock"in r&&r.is_mock?r:Pe(Pe({},r),{},{feature_flags:new je})}),[r]);return(0,n.useEffect)((function(){return function(){Object.values(a).forEach((function(e){"object"===Ne(e)&&"unmount"in e&&e.unmount()}))}}),[a]),o().createElement(_e.A.Provider,{value:a},t)},Me=function(e){var t=e.children,r=e.store;return o().createElement(De,{store:r},o().createElement(R.g,null,t))};var Fe=r("../../api/src/useSubscription.ts"),Re=r("../../stores/src/stores/P2PSettingsContext.tsx"),Ue=r("../../../node_modules/usehooks-ts/dist/index.mjs");function Ge(e){return Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ge(e)}var Be=["data","subscribe"];function Ye(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ye(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ve(e,t,r){return(t=function(e){var t=function(e){if("object"!=Ge(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Ge(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Ge(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const He=function(e){var t=e.children,r=(0,Fe.A)("p2p_settings"),n=r.data,a=r.subscribe,i=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,Be),c=i.isSubscribed,l=i.unsubscribe,s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,Ue.Mj)("p2p_settings",{}),2),u=s[0],f=s[1];return o().useEffect((function(){if(n){var e,t=n.p2p_settings;if(!t)return;var r=t.local_currencies.map((function(e){var t=e.display_name,r=e.has_adverts,n=e.is_default,o=e.symbol;return{display_name:t,has_adverts:r,is_default:n,text:o,value:o}}));f(We(We({},t),{},{currency_list:r,float_rate_offset_limit_string:(null==t||null===(e=t.float_rate_offset_limit)||void 0===e||null===(e=e.toString().split("."))||void 0===e||null===(e=e[1])||void 0===e?void 0:e.length)>2?((null==t?void 0:t.float_rate_offset_limit)-.005).toFixed(2):null==t?void 0:t.float_rate_offset_limit.toFixed(2),is_cross_border_ads_enabled:Boolean(null==t?void 0:t.cross_border_ads_enabled),is_disabled:Boolean(null==t?void 0:t.disabled),is_payment_methods_enabled:Boolean(null==t?void 0:t.payment_methods_enabled),order_payment_period_string:(60*(null==t?void 0:t.order_payment_period)).toString(),rate_type:"enabled"===(null==t?void 0:t.float_rate_adverts)?"float":"fixed",reached_target_date:!(null==t||!t.fixed_rate_adverts_end_date)&&new Date((new Date).getTime()).setUTCHours(23,59,59,999)>new Date(new Date(null==t?void 0:t.fixed_rate_adverts_end_date).getTime()).setUTCHours(23,59,59,999)}))}return function(){c&&l()}}),[n,c,f,l]),o().createElement(Re.A.Provider,{value:{p2p_settings:u,subscribe:a,rest:i}},t)};var $e=r("../../api/src/APIProvider.tsx");const Ke=function(e){var t=e.passthrough.root_store;return o().createElement($e.Ay,null,o().createElement(Me,{store:t},o().createElement(He,null,o().createElement(ve,null))))}},"./components/cashier-container/index.ts":(e,t,r)=>{r.d(t,{L:()=>s,A:()=>u.A});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("mobx-react-lite"),c=r("../../stores/src/useStore.ts"),l=r("./stores/useCashierStores.tsx");const s=(0,i.observer)((function(){var e=(0,c.A)().ui.is_dark_mode_on,t=(0,l.q)(),r=t.iframe,n=t.general_store,i=r.clearIframe,s=r.iframe_height,u=r.iframe_url,f=r.checkIframeLoaded,m=r.setContainerHeight,d=n.is_loading||!s;return o().useEffect((function(){return function(){i()}}),[i]),o().useEffect((function(){m(0),f()}),[f,e,m]),o().createElement(o().Fragment,null,d&&o().createElement(a.Loading,{className:"real__loader"}),u&&o().createElement("iframe",{className:"cashier__content real__iframe",height:s,src:"".concat(u,"&DarkMode=").concat(e?"on":"off"),frameBorder:"0",scrolling:"auto","data-testid":"dt_doughflow_section"}))}));var u=r("./components/cashier-container/virtual/index.ts")},"./components/cashier-container/virtual/index.ts":(e,t,r)=>{r.d(t,{A:()=>h});var n=r("../../../node_modules/classnames/index.js"),o=r.n(n),a=r("react"),i=r.n(a),c=r("react-router-dom"),l=r("@deriv/components"),s=r("@deriv/translations"),u=r("mobx-react-lite"),f=r("../../stores/src/useStore.ts"),m=r("../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js"),d=(0,u.observer)((function(){var e=(0,f.A)().ui,t=e.is_dark_mode_on,r=e.toggleAccountsDialog,n=(0,m.Y)().isMobile;return i().createElement("div",{className:"cashier__wrapper virtual","data-testid":"dt_cashier_wrapper_id"},i().createElement(i().Fragment,null,i().createElement("div",{"data-testid":t?"dt_virtual_account_switch_icon_dark_id":"dt_virtual_account_switch_icon_light_id",className:o()("virtual__account-switch-icon",t?"virtual__account-switch-icon--dark":"virtual__account-switch-icon--light")}),i().createElement(l.Text,{as:"h2",align:"center",weight:"bold",color:"prominent",className:"virtual__header"},i().createElement(s.Localize,{i18n_default_text:"You are using a demo account"})),i().createElement(l.Text,{as:"p",size:n?"xxs":"xs",line_height:"s",align:"center",className:"cashier__paragraph cashier__text"},i().createElement(s.Localize,{i18n_default_text:"You need to switch to a real money account to use this feature.<0/>You can do this by selecting a real account from the <1>Account Switcher.</1>",components:[i().createElement("br",{key:0}),i().createElement("span",{key:1,className:"virtual__account-switch-text",onClick:function(){r()}})]}))))}));const h=(0,c.withRouter)(d)},"./components/cashier-locked/index.ts":(e,t,r)=>{r.d(t,{A:()=>v});var n=r("react"),o=r.n(n),a=r("react-router"),i=r("mobx-react-lite"),c=r("../../stores/src/useStore.ts"),l=r("@deriv/components"),s=r("../../hooks/src/useMFAccountStatus.ts"),u=r("../../hooks/src/useCashierLocked.ts"),f=r("../../hooks/src/useIsSystemMaintenance.ts"),m=r("../../hooks/src/useDepositLocked.ts");var d=r("@deriv/translations"),h=r("@deriv/shared"),p=r("@deriv/utils");const y=function(e){var t=e.cashier_validation,r=e.closeAccountTransferModal,n=e.excluded_until,a=e.history,i=e.is_crypto,c=e.is_eu,l=e.is_system_maintenance,s=e.is_cashier_locked,u=e.is_deposit_locked,f=e.is_withdrawal_locked,m=e.is_identity_verification_needed,y=e.is_pending_verification,v=e.is_duplicate_dob_phone,_=e.is_account_to_be_closed_by_residence,g=e.account_time_of_closure,b=null==t?void 0:t.includes("no_residence"),w=null==t?void 0:t.includes("unwelcome_status"),E=null==t?void 0:t.includes("SelfExclusion"),x=null==t?void 0:t.includes("no_withdrawal_or_trading_status"),k=null==t?void 0:t.includes("only_pa_withdrawals_allowed_status"),O=null==t?void 0:t.includes("WithdrawServiceUnavailableForPA"),S=null==t?void 0:t.includes("withdrawal_locked_status"),A=null==t?void 0:t.includes("documents_expired"),L=null==t?void 0:t.includes("cashier_locked_status"),C=null==t?void 0:t.includes("disabled_status"),z=null==t?void 0:t.includes("FinancialAssessmentRequired"),j=null==t?void 0:t.includes("ASK_CURRENCY"),N=null==t?void 0:t.includes("ASK_AUTHENTICATE"),T=null==t?void 0:t.includes("ASK_FINANCIAL_RISK_APPROVAL"),P=null==t?void 0:t.includes("ASK_TIN_INFORMATION"),I=null==t?void 0:t.includes("ASK_SELF_EXCLUSION_MAX_TURNOVER_SET"),D=null==t?void 0:t.includes("ASK_FIX_DETAILS"),M=null==t?void 0:t.includes("PACommisionWithdrawalLimit"),F=a.location.pathname;if(_&&F===h.routes.cashier_deposit)return{icon:"IcCashierNoBalance",title:(0,d.localize)("Deposits disabled"),description:o().createElement(d.Localize,{i18n_default_text:"Due to business changes, client accounts in your country are to be closed. Withdraw any remaining funds by {{date}}.",values:{date:(0,h.formatDate)(g,"DD MMM YYYY")}})};if(l)return i&&f?{icon:"IcCashierLocked",title:(0,d.localize)("Withdrawals are locked"),description:(0,d.localize)("Withdrawals are temporarily unavailable due to system maintenance. You can make your withdrawals when the maintenance is complete.")}:i&&u?{icon:"IcCashierLocked",title:(0,d.localize)("Cashier is locked"),description:(0,d.localize)("Deposits are temporarily unavailable due to system maintenance. You can make your deposits when the maintenance is complete.")}:{icon:"IcCashierUnderMaintenance",title:(0,d.localize)("Cashier is currently down for maintenance"),description:o().createElement(d.Localize,{i18n_default_text:"Please check back in a few minutes.<0></0>Thank you for your patience.",components:[o().createElement("br",{key:0})]})};if(s){if(b)return{icon:"IcCashierLocked",title:(0,d.localize)("Cashier is locked"),description:(0,d.localize)("Youve not set your country of residence. To access Cashier, please update your country of residence in the Personal details section in your account settings.")};if(A)return{icon:"IcCashierLocked",title:(0,d.localize)("Cashier is locked"),description:(0,d.localize)("The identification documents you submitted have expired. Please submit valid identity documents to unlock Cashier. ")};if(L)return{icon:"IcCashierLocked",title:(0,d.localize)("Cashier is locked"),description:o().createElement(d.Localize,{i18n_default_text:"Your cashier is currently locked. Please contact us via <0>live chat</0> to find out how to unlock it.",components:[o().createElement("span",{key:0,className:"link link--orange",onClick:p.Chat.open})]})};if(C)return{icon:"IcCashierLocked",title:(0,d.localize)("Cashier is locked"),description:o().createElement(d.Localize,{i18n_default_text:"Your account is temporarily disabled. Please contact us via <0>live chat</0> to enable deposits and withdrawals again.",components:[o().createElement("span",{key:0,className:"link link--orange",onClick:p.Chat.open})]})};if(j)return{icon:"IcCashierLocked",title:(0,d.localize)("Cashier is locked"),description:(0,d.localize)("Please set your account currency to enable deposits and withdrawals.")};if(N&&m)return{icon:"IcCashierLocked",title:(0,d.localize)("Cashier is locked"),description:o().createElement(d.Localize,{i18n_default_text:"Please submit your <0>proof of identity</0> to authenticate your account and access your Cashier.",components:[o().createElement("a",{key:0,className:"link",href:"/account/proof-of-identity"})]})};if(N)return c?{icon:"IcCashierLocked",title:(0,d.localize)("Cashier is locked"),description:function(){var e;switch(F){case h.routes.cashier_deposit:e=o().createElement(d.Localize,{i18n_default_text:"You can make a new deposit once the verification of your account is complete."});break;case h.routes.cashier_withdrawal:e=o().createElement(d.Localize,{i18n_default_text:"You can make a withdrawal once the verification of your account is complete."});break;case h.routes.cashier_acc_transfer:e=o().createElement(d.Localize,{i18n_default_text:"You can make a funds transfer once the verification of your account is complete."})}return e}(),action:{onClick:function(){a.push(h.routes.proof_of_identity),r()},label:(0,d.localize)("Verify now")}}:{icon:"IcCashierLocked",title:(0,d.localize)("Cashier is locked"),description:o().createElement(d.Localize,{i18n_default_text:"Your account has not been authenticated. Please submit your <0>proof of identity</0> and <1>proof of address</1> to authenticate your account and access your cashier.",components:[o().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/proof-of-identity"}),o().createElement("a",{key:1,className:"link",rel:"noopener noreferrer",href:"/account/proof-of-address"})]})};if(c&&y)return{icon:"IcCashierLocked",title:(0,d.localize)("Cashier is locked"),description:function(){var e;switch(F){case h.routes.cashier_deposit:e=o().createElement(d.Localize,{i18n_default_text:"You cannot make further deposits as your documents are still under review. We will notify you by email within 3 days once your verification is approved."});break;case h.routes.cashier_withdrawal:e=o().createElement(d.Localize,{i18n_default_text:"You cannot make a withdrawal as your documents are still under review. We will notify you by email within 3 days once your verification is approved."});break;case h.routes.cashier_acc_transfer:e=o().createElement(d.Localize,{i18n_default_text:"You cannot make a fund transfer as your documents are still under review. We will notify you by email within 3 days once your verification is approved."})}return e}()};if(T)return{icon:"IcCashierLocked",title:(0,d.localize)("Cashier is locked"),description:o().createElement(d.Localize,{i18n_default_text:"Please complete the <0>Appropriateness Test</0> to access your cashier.",components:[o().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/financial-assessment","data-testid":"dt_financial_assessment_link"})]})};if(z)return{icon:"IcCashierLocked",title:(0,d.localize)("Cashier is locked"),description:o().createElement(d.Localize,{i18n_default_text:"Your cashier is locked. Please complete the <0>financial assessment</0> to unlock it.",components:[o().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/financial-assessment","data-testid":"dt_financial_assessment_link"})]})};if(P)return{icon:"IcCashierLocked",title:(0,d.localize)("Cashier is locked"),description:o().createElement(d.Localize,{i18n_default_text:"You have not provided your tax identification number. This information is necessary for legal and regulatory requirements. Please go to <0>Personal details</0> in your account settings, and fill in your latest tax identification number.",components:[o().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/personal-details"})]})};if(I)return{icon:"IcCashierLocked",title:(0,d.localize)("Cashier is locked"),description:o().createElement(d.Localize,{i18n_default_text:"Your access to Cashier has been temporarily disabled as you have not set your 30-day turnover limit. Please go to <0>Self-exclusion</0> and set your 30-day turnover limit.",components:[o().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/self-exclusion"})]})};if(D)return{icon:"IcCashierLocked",title:(0,d.localize)("Cashier is locked"),description:o().createElement(d.Localize,{i18n_default_text:"Your <0>personal details</0> are incomplete. Please go to your account settings and complete your personal details to enable deposits and withdrawals.",components:[o().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/personal-details"})]})}}if(u){if(v)return{icon:"IcAccountError",title:(0,d.localize)("Account already exists"),description:o().createElement(d.Localize,{i18n_default_text:"Your details match an existing account. You can't <0/>make deposits or trade with a new account. <0/>Need help? Reach out via live chat.",components:[o().createElement("br",{key:0})]})};if(D)return{icon:"IcCashierDepositLock",title:(0,d.localize)("Deposits are locked"),description:o().createElement(d.Localize,{i18n_default_text:"Your <0>personal details</0> are incomplete. Please go to your account settings and complete your personal details to enable deposits.",components:[o().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/personal-details"})]})};if(E)return{icon:"IcCashierDepositLock",title:(0,d.localize)("Deposits are locked"),description:o().createElement(d.Localize,{i18n_default_text:"You have chosen to exclude yourself from trading on our website until {{exclude_until}}. If you are unable to place a trade or deposit after your self-exclusion period, please contact us via <0>live chat</0>.",values:{exclude_until:(0,h.formatDate)(n,"DD MMM, YYYY")},components:[o().createElement("span",{key:0,className:"link link--orange",onClick:p.Chat.open})]})};if(w)return{icon:"IcCashierDepositLock",title:(0,d.localize)("Deposits are locked"),description:o().createElement(d.Localize,{i18n_default_text:"Please contact us via <0>live chat</0>.",components:[o().createElement("span",{key:0,className:"link link--orange",onClick:p.Chat.open})]})}}if(f){if(z)return{icon:"IcCashierWithdrawalLock",title:(0,d.localize)("Withdrawals are locked"),description:o().createElement(d.Localize,{i18n_default_text:"You can only make deposits. Please complete the <0>financial assessment</0> to unlock withdrawals.",components:[o().createElement("a",{key:0,className:"link",href:"/account/financial-assessment","data-testid":"dt_financial_assessment_link"})]})};if(N)return{icon:"IcCashierWithdrawalLock",title:(0,d.localize)("Withdrawals are locked"),description:o().createElement(d.Localize,{i18n_default_text:"Your account has not been authenticated. Please submit your <0>proof of identity</0> and <1>proof of address</1> to authenticate your account and request for withdrawals.",components:[o().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/proof-of-identity"}),o().createElement("a",{key:1,className:"link",rel:"noopener noreferrer",href:"/account/proof-of-address"})]})};if(D)return{icon:"IcCashierWithdrawalLock",title:(0,d.localize)("Withdrawals are locked"),description:o().createElement(d.Localize,{i18n_default_text:"Your <0>personal details</0> are incomplete. Please go to your account settings and complete your personal details to enable withdrawals.",components:[o().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/personal-details"})]})};if(O)return{icon:"IcCashierWithdrawalLock",title:(0,d.localize)("Withdrawals are locked"),description:(0,d.localize)("This feature is not available for payment agents.")};if(x)return{icon:"IcCashierWithdrawalLock",title:(0,d.localize)("Withdrawals are locked"),description:o().createElement(d.Localize,{i18n_default_text:"Unfortunately, you can only make deposits. Please contact us via <0>live chat</0> to enable withdrawals.",components:[o().createElement("span",{key:0,className:"link link--orange",onClick:p.Chat.open})]})};if(S)return{icon:"IcCashierWithdrawalLock",title:(0,d.localize)("Withdrawals are locked"),description:o().createElement(d.Localize,{i18n_default_text:"Unfortunately, you can only make deposits. Please contact us via <0>live chat</0> to enable withdrawals.",components:[o().createElement("span",{key:0,className:"link link--orange",onClick:p.Chat.open})]})};if(k)return{icon:"IcCashierWithdrawalLock",title:(0,d.localize)("Withdrawals are locked"),description:o().createElement(d.Localize,{i18n_default_text:"You can only make deposits. Please contact us via <0>live chat</0> for more information.",components:[o().createElement("span",{key:0,className:"link link--orange",onClick:p.Chat.open})]})};if(M)return{icon:"IcCashierWithdrawalLock",title:(0,d.localize)("Cashier is locked for withdrawals"),description:(0,d.localize)("It seems that you've no commissions to withdraw at the moment. You can make withdrawals once you receive your commissions.")}}return{icon:"IcCashierLocked",title:(0,d.localize)("Cashier is locked"),description:o().createElement(d.Localize,{i18n_default_text:"Your cashier is currently locked. Please contact us via <0>live chat</0> to find out how to unlock it.",components:[o().createElement("span",{key:0,className:"link link--orange",onClick:p.Chat.open})]})}},v=(0,i.observer)((function(){var e,t=(0,c.A)(),r=t.client,n=t.traders_hub.closeAccountTransferModal,i=r.account_status,d=r.accounts,p=r.current_currency_type,v=r.is_eu,_=r.is_withdrawal_lock,g=r.loginid,b=r.is_identity_verification_needed,w=r.is_account_to_be_closed_by_residence,E=r.account_time_of_closure,x=(0,s.A)(),k=(0,u.A)(),O=(0,f.A)(),S=(0,m.A)(),A=(0,c.A)().client.is_duplicate_dob_phone,L=(0,a.useHistory)(),C=y({cashier_validation:null==i?void 0:i.cashier_validation,closeAccountTransferModal:n,excluded_until:g?null===(e=d[g])||void 0===e?void 0:e.excluded_until:void 0,history:L,is_crypto:"crypto"===p,is_eu:v,is_system_maintenance:O,is_cashier_locked:k,is_deposit_locked:S,is_withdrawal_locked:_,is_identity_verification_needed:b,is_pending_verification:x===h.ACCOUNT_BADGE_STATUS.PENDING,is_duplicate_dob_phone:A,is_account_to_be_closed_by_residence:w,account_time_of_closure:E});return o().createElement("div",{className:"cashier-locked"},o().createElement(l.EmptyState,{icon:C.icon,title:C.title,description:C.description,action:C.action}))}))},"./components/crypto-fiat-converter/index.ts":(e,t,r)=>{r.d(t,{A:()=>y});var n=r("react"),o=r.n(n),a=r("../../../node_modules/formik/dist/formik.esm.js"),i=r("@deriv/components"),c=r("../../hooks/src/useExchangeRate.ts"),l=r("@deriv/shared"),s=r("mobx-react-lite"),u=r("@deriv/translations"),f=r("../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js"),m=r("./stores/useCashierStores.tsx");function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(null,arguments)}var h=function(e){var t=e.children,r=e.className;return o().createElement("fieldset",null,o().createElement("div",{className:r},t))},p=(0,s.observer)((function(e){var t=e.arrow_icon_direction,r=e.from_currency,n=e.hint,s=e.onChangeConverterFromAmount,p=e.onChangeConverterToAmount,y=e.resetConverter,v=e.setArrowIconDirection,_=e.to_currency,g=e.validateFromAmount,b=e.validateToAmount,w=(0,m.q)().crypto_fiat_converter,E=(0,c.A)().exchange_rates,x=(0,f.Y)().isDesktop,k=w.converter_from_amount,O=w.converter_from_error,S=w.converter_to_error,A=w.converter_to_amount,L=(0,a.j7)().handleChange;return o().useEffect((function(){return function(){return y()}}),[]),o().useEffect((function(){v("right")}),[r]),o().createElement("div",{className:"crypto-fiat-converter"},o().createElement(a.D0,{name:"converter_from_amount",validate:g},(function(e){var t=e.field;return o().createElement(i.Input,d({},t,{onFocus:function(){v("right")},onChange:function(e){var t,n,o=null!==(t=null==E||null===(n=E[r])||void 0===n?void 0:n[_])&&void 0!==t?t:0,a=Number(e.target.value)*o;s(e,r,_,a),L(e)},type:"text",error:O,label:(0,u.localize)("Amount ({{currency}})",{currency:(0,l.getCurrencyDisplayCode)(r)}),value:k,autoComplete:"off",required:!0,hint:n,classNameHint:"crypto-fiat-converter__hint","data-testid":"dt_converter_from_amount_input"}))})),x?o().createElement("div",{className:"crypto-fiat-converter__arrow-container"},"right"===t?o().createElement(i.Icon,{icon:"IcArrowRightBold",id:"arrow_right_bold",data_testid:"dti_arrow_right_bold"}):o().createElement(i.Icon,{icon:"IcArrowLeftBold",id:"arrow_left_bold",data_testid:"dti_arrow_left_bold"})):"right"===t?o().createElement(i.Icon,{icon:"IcArrowDownBold"}):o().createElement(i.Icon,{icon:"IcArrowUpBold"}),o().createElement(a.D0,{name:"converter_to_amount",validate:b},(function(e){var t=e.field;return o().createElement(h,{className:"input-group"},o().createElement(i.Input,d({},t,{onFocus:function(){v("left")},onChange:function(e){var t,n,o=null!==(t=null==E||null===(n=E[_])||void 0===n?void 0:n[r])&&void 0!==t?t:0,a=Number(e.target.value)*o;p(e,_,r,a),L(e)},type:"text",error:S,label:(0,u.localize)("Amount ({{currency}})",{currency:(0,l.getCurrencyDisplayCode)(_)}),value:A,autoComplete:"off",hint:(0,u.localize)("Approximate value"),classNameHint:"crypto-fiat-converter__hint","data-testid":"dt_converter_to_amount_input"})))})))}));const y=p},"./components/deposit-sub-page-analytics-event-tracker/index.ts":(e,t,r)=>{r.d(t,{U:()=>i});var n=r("react"),o=r("@deriv-com/analytics"),a=r("../../stores/src/useStore.ts");const i=function(e){var t=e.deposit_category,r=(0,a.A)().client,i=r.currency,c=r.loginid;return(0,n.useEffect)((function(){o.Analytics.trackEvent("ce_cashier_deposit_onboarding_form",{action:"open_deposit_subpage",form_name:"ce_cashier_deposit_onboarding_form",currency:i,deposit_category:t,login_id:c})}),[i,t,c]),null}},"./components/email-verification-empty-state/index.ts":(e,t,r)=>{r.d(t,{A:()=>s});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("../../hooks/src/useVerifyEmail.ts"),c=r("@deriv/translations");const l=function(e){var t=e.is_counter_running,r=e.counter,n=e.resend;return o().createElement(a.EmptyState,{title:(0,c.localize)("Didn't receive the email?"),description:(0,c.localize)("Check your spam or junk folder. If it's not there, try resending the email."),action:{label:t?(0,c.localize)("Resend email in {{seconds}}s",{seconds:r}):(0,c.localize)("Resend email"),onClick:n,disabled:t}})},s=function(e){var t=e.type,r=(0,i.A)(t),n={label:(0,c.localize)("Didn't receive the email?"),onClick:function(){return r.send()},tertiary:!0};return o().createElement("div",{className:"email-verification-empty-state"},o().createElement(a.EmptyState,{icon:"IcWithdrawRequestVerificationSent",title:(0,c.localize)("We've sent you an email."),description:(0,c.localize)("Please check your email for the verification link to complete the process."),action:r.has_been_sent?void 0:n}),r.has_been_sent&&o().createElement(l,{is_counter_running:r.is_counter_running,counter:r.counter,resend:function(){return r.send()}}))}},"./components/error-dialog/index.ts":(e,t,r)=>{r.d(t,{A:()=>d});var n=r("react"),o=r.n(n),a=r("react-router-dom"),i=r("@deriv/components"),c=r("@deriv/translations"),l=r("@deriv/shared"),s=r("mobx-react-lite"),u=r("../../stores/src/useStore.ts");function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const d=(0,s.observer)((function(e){var t,r=e.className,n=e.error,s=void 0===n?{}:n,m=(0,u.A)().ui,d=m.disableApp,h=m.enableApp,p=(0,a.useHistory)(),y=f(o().useState(!1),2),v=y[0],_=y[1],g=f(o().useState({title:"",cancel_button_text:void 0,confirm_button_text:"",onConfirm:void 0,message:""}),2),b=g[0],w=g[1],E=o().useCallback((function(){s.setErrorMessage&&s.setErrorMessage({code:"",message:""},null,!1),k(!1)}),[s]),x=o().useCallback((function(e,t){e&&["Fiat2CryptoTransferOverLimit","Crypto2FiatTransferOverLimit","Crypto2CryptoTransferOverLimit","CryptoLimitAgeVerified"].includes(e)?w({title:(0,c.localize)("Please verify your identity"),cancel_button_text:(0,c.localize)("Cancel"),confirm_button_text:(0,c.localize)("Verify identity"),onConfirm:function(){return p.push(l.routes.proof_of_identity)},message:t}):"FinancialAssessmentRequired"===e?w({title:(0,c.localize)("Cashier Error"),cancel_button_text:void 0,confirm_button_text:(0,c.localize)("OK"),onConfirm:void 0,message:o().createElement(c.Localize,{i18n_default_text:"Please complete your <0>financial assessment</0>.",components:[o().createElement(a.Link,{to:l.routes.financial_assessment,key:0,className:"link",onClick:E})]})}):e&&["CryptoMissingRequiredParameter","CryptoWithdrawalBalanceExceeded","CryptoWithdrawalLimitExceeded","CryptoWithdrawalMaxReached","CryptoWithdrawalNotAuthenticated","CryptoWithdrawalError"].includes(e)?w({title:(0,c.localize)("Error"),cancel_button_text:void 0,confirm_button_text:(0,c.localize)("Retry"),onConfirm:void 0,message:t,has_close_icon:!0}):w("CryptoWithdrawalReadMore"===e?{title:"",cancel_button_text:void 0,confirm_button_text:(0,c.localize)("OK"),onConfirm:void 0,message:t}:"ShareMyAdsError"===e?{title:(0,c.localize)("Deriv P2P unavailable"),confirm_button_text:(0,c.localize)("OK"),message:t,has_close_icon:!0}:{title:(0,c.localize)("Cashier Error"),cancel_button_text:void 0,confirm_button_text:(0,c.localize)("OK"),onConfirm:void 0,message:t})}),[E,p]);o().useEffect((function(){s.message&&x(s.code,s.message)}),[s.code,s.message,x]),o().useEffect((function(){k(!!s.message)}),[s.message]),o().useEffect((function(){return function(){return E()}}),[]);var k=function(e){_(e)};return o().createElement(i.Dialog,{title:b.title,confirm_button_text:b.confirm_button_text,cancel_button_text:b.cancel_button_text,className:r,onConfirm:function(){"function"==typeof b.onConfirm&&b.onConfirm(),E()},onEscapeButtonCancel:E,onCancel:b.cancel_button_text?E:void 0,disableApp:d,enableApp:h,is_visible:v,portal_element_id:"modal_root",dismissable:!1,has_close_icon:null!==(t=b.has_close_icon)&&void 0!==t&&t},b.message)}))},"./components/error/index.ts":(e,t,r)=>{r.d(t,{A:()=>s});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("@deriv/translations"),c=r("../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js"),l=function(e){var t=e.header,r=e.message,n=e.button_link,i=e.onClickButton,l=e.button_text,s=e.footer,u=(0,c.Y)().isMobile;return o().createElement("div",{className:"cashier__wrapper cashier__wrapper-error"},o().createElement(a.Icon,{icon:"IcCashierError",className:"error__icon"}),t&&o().createElement(a.Text,{as:"h2",color:"loss-danger",weight:"bold",align:"center",className:"error__header"},t),r&&o().createElement(a.Text,{as:"p",align:"center",size:u?"xxs":"xs",line_height:"s",className:"cashier__paragraph"},r),n&&o().createElement(a.ButtonLink,{className:"error__button",to:n,onClick:i,size:"large"},o().createElement("span",{className:"dc-btn__text"},l)),!n&&l&&o().createElement(a.Button,{className:"error__button",onClick:i,text:l,primary:!0,large:!0}),s&&o().createElement(a.Text,{as:"h2",size:"xxs"},s))};const s=function(e){var t,r=e.error,n={address_city:(0,i.localize)("Town/City"),address_line_1:(0,i.localize)("First line of home address"),address_postcode:(0,i.localize)("Postal Code/ZIP"),address_state:(0,i.localize)("State/Province"),email:(0,i.localize)("Email address"),phone:(0,i.localize)("Telephone"),residence:(0,i.localize)("Country of Residence")},c=function(){"function"==typeof r.onClickButton&&r.onClickButton(),s()},s=function(){var e;null===(e=r.setErrorMessage)||void 0===e||e.call(r,{code:"",message:""})};switch(r.code){case"InvalidToken":t=o().createElement(l,{header:(0,i.localize)("Email verification failed"),message:o().createElement(i.Localize,{i18n_default_text:"The verification link you used is invalid or expired. Please request for a new one."}),onClickButton:c,button_text:(0,i.localize)("Resend email")});break;case"ASK_FIX_DETAILS":t=o().createElement(l,{header:(0,i.localize)("Update your personal details"),message:o().createElement(o().Fragment,null,o().createElement(i.Localize,{i18n_default_text:"We can't validate your personal details because there is some information missing."}),"",Array.isArray(r.fields)?o().createElement(i.Localize,{i18n_default_text:"Please update your {{details}} to continue.",values:{details:r.fields.map((function(e){return n[e]||e})).join(", "),interpolation:{escapeValue:!1}}}):o().createElement(i.Localize,{i18n_default_text:"Please update your details to continue."})),button_link:"/account/personal-details",onClickButton:c,button_text:(0,i.localize)("Update my details"),footer:o().createElement(i.Localize,{i18n_default_text:"Need help? <0>Contact us</0>.",components:[o().createElement(a.StaticUrl,{key:0,className:"link",href:"help-centre",is_document:!1})]})});break;case"WrongResponse":t=o().createElement(l,{header:r.message,onClickButton:c,button_text:(0,i.localize)("Try again")});break;case"PaymentAgentWithdrawError":t=o().createElement(l,{header:r.message,onClickButton:c});break;default:t=o().createElement(l,{header:r.message})}return t}},"./components/no-balance/index.ts":(e,t,r)=>{r.d(t,{A:()=>h});var n=r("react"),o=r.n(n),a=r("react-router-dom"),i=r("@deriv/components"),c=r("../../hooks/src/useDepositLocked.ts"),l=r("@deriv/shared"),s=r("@deriv/translations"),u=r("mobx-react-lite"),f=r("../../stores/src/useStore.ts"),m=r("./stores/useCashierStores.tsx"),d=(0,u.observer)((function(e){var t=e.history,r=e.onClickDeposit,n=(0,f.A)().client.currency,a=(0,m.q)().general_store.setCashierTabIndex,u=(0,c.A)();return o().createElement("div",{className:"cashier__wrapper cashier__no-balance"},o().createElement(i.Icon,{icon:"IcCashierNoBalance",className:"cashier__no-balance-icon",size:116}),o().createElement(i.Text,{as:"h2",weight:"bold",align:"center"},o().createElement(s.Localize,{i18n_default_text:"You have no funds in your {{currency}} account",values:{currency:(0,l.getCurrencyDisplayCode)(n)}})),!u&&o().createElement(o().Fragment,null,o().createElement(i.Text,{as:"p",size:"xs",line_height:"s",align:"center",className:"cashier__text"},o().createElement(s.Localize,{i18n_default_text:"Please make a deposit to use this feature."})),o().createElement(i.Button,{style:{marginTop:"2rem"},className:"cashier__no-balance-button",has_effect:!0,text:(0,s.localize)("Deposit now"),onClick:function(){(0,l.startPerformanceEventTimer)("load_cashier_time"),r?r():(a(0),t.push(l.routes.cashier_deposit))},primary:!0,large:!0})))}));const h=(0,a.withRouter)(d)},"./components/page-404/index.ts":(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("@deriv/shared"),c=r("@deriv/translations");const l=function(){return o().createElement(a.PageError,{header:(0,c.localize)("We couldnt find that page"),messages:[(0,c.localize)("You may have followed a broken link, or the page has moved to a new address."),(0,c.localize)("Error code: {{error_code}} page not found",{error_code:404})],redirect_urls:[i.routes.trade],redirect_labels:[(0,c.localize)("Return to trade")],classNameImage:"page-404__image",image_url:(0,i.getUrlBase)("/public/images/common/404.png")})}},"./components/page-container/index.ts":(e,t,r)=>{r.d(t,{A:()=>m});var n=r("react"),o=r.n(n),a=r("../../../node_modules/classnames/index.js"),i=r.n(a),c=r("@deriv/components"),l=r("mobx-react-lite"),s=r("../../stores/src/useStore.ts"),u=r("../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js"),f=o().lazy((function(){return r.e("cashier-breadcrumb").then(r.bind(r,"./components/cashier-breadcrumb/index.ts"))}));const m=(0,l.observer)((function(e){var t=e.children,r=e.hide_breadcrumb,n=void 0!==r&&r,a=e.left,l=e.right,m=(0,s.A)(),d=m.client,h=m.common.is_from_outside_cashier,p=(0,u.Y)().isDesktop,y=!d.is_authorize;return o().createElement("div",{className:i()("page-container",{"page-container--modal":h})},y&&o().createElement(c.Loading,{is_fullscreen:!1}),!y&&o().createElement("div",{className:"page-container__content"},!h&&p&&a&&o().createElement("div",{className:"page-container__sidebar--left"},a),o().createElement(c.ThemedScrollbars,{className:i()("page-container__main",{"page-container__main--modal":h}),height:"calc(100svh - 8rem)",is_scrollbar_hidden:!0},!n&&o().createElement(f,null),!h&&!p&&a&&o().createElement("div",{className:"page-container__sidebar--left"},a),t,!h&&!p&&l&&o().createElement("div",{className:"page-container__sidebar--right"},l)),!h&&p&&l&&o().createElement("div",{className:"page-container__sidebar--right"},l)))}))},"./components/percentage-selector/index.ts":(e,t,r)=>{r.d(t,{A:()=>f});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("@deriv/shared"),c=r("@deriv/translations"),l=r("../../hooks/src/useExchangeRate.ts");function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const f=function(e){var t=e.amount,r=e.from_account,n=e.getCalculatedAmount,u=e.percentage,f=e.should_percentage_reset,m=e.to_account,d=e.from_currency,h=e.to_currency,p=s(o().useState("0"),2),y=p[0],v=p[1],_=(0,l.A)().exchange_rates;o().useEffect((function(){if(f)for(var e=1;e<=4;e++){var t=document.getElementById(String(e));t&&(t.style.backgroundColor="var(--general-section-1)")}}),[f]),o().useEffect((function(){v(u||0)}),[u]),o().useEffect((function(){g({target:{id:0}},0)}),[r,m]);var g=function(e,r){var o,a,c=r,l=r>0&&r===Number(y);l&&(c-=25),v(c||0);var s=null!==(o=null==_||null===(a=_[d])||void 0===a?void 0:a[h])&&void 0!==o?o:1,u=t*(c/100)*s;n((t*(c/100)).toFixed((0,i.getDecimalPlaces)(d)),u);for(var f=1;f<=4;f++){var m=document.getElementById(String(f));m&&(f<e.target.id||f===Number(e.target.id)&&!l?m.style.backgroundColor="var(--status-success)":m.style.backgroundColor="var(--general-section-1)")}},b=(0,i.formatMoney)(d,t,!0),w=(0,i.getCurrencyDisplayCode)(d);return o().createElement(o().Fragment,null,o().createElement("div",{className:"percentage-selector","data-testid":"dt_percentage_selector_id"},o().createElement("div",{className:"percentage-selector__block-container"},o().createElement(a.Text,{color:"prominent",size:"xs",className:"percentage-selector__text"},"25%"),o().createElement("div",{id:"1",className:"percentage-selector-block",onClick:function(e){return g(e,25)},"data-testid":"dt_percentage_selector_block_id_1"})),o().createElement("div",{className:"percentage-selector__block-container"},o().createElement(a.Text,{color:"prominent",size:"xs",className:"percentage-selector__text"},"50%"),o().createElement("div",{id:"2",className:"percentage-selector-block",onClick:function(e){return g(e,50)},"data-testid":"dt_percentage_selector_block_id_2"})),o().createElement("div",{className:"percentage-selector__block-container"},o().createElement(a.Text,{color:"prominent",size:"xs",className:"percentage-selector__text"},"75%"),o().createElement("div",{id:"3",className:"percentage-selector-block",onClick:function(e){return g(e,75)},"data-testid":"dt_percentage_selector_block_id_3"})),o().createElement("div",{className:"percentage-selector__block-container"},o().createElement(a.Text,{color:"prominent",size:"xs",className:"percentage-selector__text"},o().createElement(c.Localize,{i18n_default_text:"All"})),o().createElement("div",{id:"4",className:"percentage-selector-block",onClick:function(e){return g(e,100)},"data-testid":"dt_percentage_selector_block_id_4"}))),o().createElement(a.Text,{color:"less-prominent",size:"xxs",line_height:"l",className:"percentage-selector__text"},o().createElement(c.Localize,{i18n_default_text:"{{selected_percentage}}% of available balance ({{format_amount}} {{currency__display_code}})",values:{selected_percentage:y,format_amount:b,currency__display_code:w}})))}},"./components/side-notes/index.ts":(e,t,r)=>{r.d(t,{u:()=>u});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("../../stores/src/useStore.ts"),c=r("@deriv/translations"),l=r("../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js"),s=r("@deriv/utils");const u=function(e){var t=e.transaction_type,r=(0,i.A)().client,u=(0,l.Y)().isMobile,f=r.is_eu,m=function(){return s.Chat.open()},d=(0,n.useMemo)((function(){return[{header:(0,c.localize)("Why cant I see the funds deposited in my Deriv account?"),content:o().createElement(c.Localize,{i18n_default_text:"We process deposits immediately. If your funds dont appear in your account within 24 hours, contact us via <0>live chat</0>. Provide the transaction details, including the amount, date, and time, so we can assist you quickly.",components:[o().createElement("span",{key:0,className:"link",onClick:m,onKeyDown:m})]})},{header:(0,c.localize)("What do I do if I have reached my deposit limit?"),content:o().createElement(c.Localize,{i18n_default_text:"If you've hit the deposit limit, please wait 1-2 hours before trying again. Check that your browser is up to date and use incognito mode. If you still have problems, please contact us via <0>live chat</0>.",components:[o().createElement("span",{key:0,className:"link",onClick:m,onKeyDown:m})]})},{header:(0,c.localize)("Why is my card/e-wallet not working?"),content:o().createElement(o().Fragment,null,o().createElement(c.Localize,{i18n_default_text:"Here are some common card/e-wallet errors and their solutions:"}),o().createElement("ol",{className:"side-note-faq__accordion-list"},o().createElement(a.Text,{as:"li",size:"xxs"},o().createElement(c.Localize,{i18n_default_text:"<0>Insufficient balance:</0> Please ensure you have sufficient funds in your card/e-wallet. If the problem persists, please contact your bank for help.",components:[o().createElement("strong",{key:0})]})),o().createElement(a.Text,{as:"li",size:"xxs"},o().createElement(c.Localize,{i18n_default_text:"<0>3D secure invalid/redirected:</0> Please contact your bank for an OTP.",components:[o().createElement("strong",{key:0})]})),o().createElement(a.Text,{as:"li",size:"xxs"},o().createElement(c.Localize,{i18n_default_text:"<0>Restricted card:</0> Please use a locally issued card. ",components:[o().createElement("strong",{key:0})]})),o().createElement(a.Text,{as:"li",size:"xxs"},o().createElement(c.Localize,{i18n_default_text:"<0>Do not honour:</0> Please contact your bank for further assistance.",components:[o().createElement("strong",{key:0})]})),o().createElement(a.Text,{as:"li",size:"xxs"},o().createElement(c.Localize,{i18n_default_text:"<0>Customer cancelled payment:</0> Please try again after 1 hour.",components:[o().createElement("strong",{key:0})]}))))},{header:(0,c.localize)("Can I use someone else's payment method?"),content:o().createElement(c.Localize,{i18n_default_text:"No, you cannot use someone else's payment method to deposit into Deriv. If you use another person's payment method, your account will be suspended (if they are on Deriv, their account will also be suspended). If you suspect that someone has used your payment method, let us know through <0>live chat</0> with your proof of ownership.",components:[o().createElement("span",{key:0,className:"link",onClick:m,onKeyDown:m})]})}]}),[]),h=(0,n.useMemo)((function(){return[{header:(0,c.localize)("Why can't I see the funds on my card/e-wallet balance after I've made a withdrawal?"),content:o().createElement(c.Localize,{i18n_default_text:"Your withdrawal will be processed internally in one business day. After that, for debit/credit cards, it takes 1-15 working days, and for e-wallets, it's 1-3 working days. If there's a delay beyond these periods, please contact us via live chat."})},{header:(0,c.localize)("Why can't I use a payment agent to withdraw my funds?"),content:o().createElement(c.Localize,{i18n_default_text:"If you have used a different payment method to make your deposit, you cannot withdraw via a payment agent. However, if you have used both a payment agent and another payment method (for example, an e-wallet) to deposit, you have to withdraw via the e-wallet first up to your original deposited amount. After that, you can use a payment agent to make a withdrawal. If your original payment method is not available for withdrawals, please let us know through <0>live chat</0> for assistance.",components:[o().createElement("span",{key:0,className:"link",onClick:m,onKeyDown:m})]})},{header:(0,c.localize)("How do I cancel my withdrawal?"),content:o().createElement(c.Localize,{i18n_default_text:"Withdrawals can be cancelled if they're still in the 'Requested' status (you can check your status under Pending payout). Once the status changes to 'Authorised', in 'Progress', or 'Processed', cancellation isn't possible."})},{header:(0,c.localize)("Can I withdraw using a different method?"),content:o().createElement(c.Localize,{i18n_default_text:"No, withdrawals must be made using the same method you used for your deposit."})}]}),[]);return o().createElement(a.SideNote,{description:o().createElement(a.Text,{size:u?"xxs":"xs",weight:"bold"},o().createElement(c.Localize,{i18n_default_text:"FAQ"}))},"deposit"===t&&o().createElement(a.Accordion,{className:"side-note-faq__accordion",icon_close:"IcChevronDown",icon_open:"IcCashierChevronUp",list:d}),"withdraw"===t&&o().createElement(a.Accordion,{className:"side-note-faq__accordion",icon_close:"IcChevronDown",icon_open:"IcCashierChevronUp",list:h}),o().createElement(a.Text,{size:"xxs"},o().createElement(c.Localize,{i18n_default_text:"<0>View more</0>",components:[o().createElement(a.StaticUrl,{key:0,className:"link",href:"help-centre",is_document:!1,is_eu_url:f})]})))}},"./components/transactions-crypto-history/index.ts":(e,t,r)=>{r.d(t,{A:()=>A});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("@deriv/shared"),c=r("@deriv/translations"),l=r("mobx-react-lite"),s=r("../../stores/src/useStore.ts"),u=r("../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js"),f=r("./stores/useCashierStores.tsx");const m=(0,l.observer)((function(){var e=(0,f.q)().transaction_history,t=e.cancelCryptoTransaction,r=e.hideTransactionsCryptoCancelModal,n=e.is_transactions_crypto_cancel_modal_visible,i=e.selected_crypto_transaction_id;return o().createElement(o().Fragment,null,o().createElement(a.Modal,{small:!0,title:(0,c.localize)("Cancel transaction"),is_open:n,toggleModal:r,has_close_icon:!0},o().createElement(a.Modal.Body,null,o().createElement(c.Localize,{i18n_default_text:"Are you sure you want to cancel this transaction?"})),o().createElement(a.Modal.Footer,null,o().createElement(a.Button,{text:(0,c.localize)("No"),onClick:r,large:!0,secondary:!0}),o().createElement(a.Button,{text:(0,c.localize)("Yes"),onClick:function(){t(i)},large:!0,primary:!0}))))})),d=(0,l.observer)((function(){var e=(0,f.q)().transaction_history,t=e.hideTransactionsCryptoStatusModal,r=e.is_transactions_crypto_status_modal_visible,n=e.selected_crypto_status,i=e.selected_crypto_status_description;return o().createElement(o().Fragment,null,o().createElement(a.Modal,{small:!0,title:n,is_open:r,toggleModal:t,has_close_icon:!1},o().createElement(a.Modal.Body,null,i),o().createElement(a.Modal.Footer,null,o().createElement(a.Button,{text:(0,c.localize)("OK"),onClick:t,large:!0,primary:!0}))))}));var h=r("../../../node_modules/classnames/index.js"),p=r.n(h);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return(t=function(e){var t=function(e){if("object"!=y(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==y(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const E=(0,l.observer)((function(e){var t=e.row,r=e.onTooltipClick,n=(0,s.A)().client,l=(0,f.q)().transaction_history,m=l.cancelCryptoTransaction,d=l.showTransactionsCryptoCancelModal,h=l.showTransactionsCryptoStatusModal,y=n.currency,v=(0,u.Y)().isDesktop,g=t.address_hash,w=t.address_url,E=t.amount,x=t.id,k=t.is_valid_to_cancel,O=t.status_code,S=t.submit_date,A=t.transaction_hash,L=t.transaction_url,C=t.transaction_type,z=t.confirmations,j=g?"".concat(g.substring(0,4),"....").concat(g.substring(g.length-4)):"",N="withdrawal"===C?"-".concat(E):"+".concat(E),T=v?(0,i.epochToMoment)(S).format("DD MMM YYYY HH:mm:ss [GMT]"):(0,i.epochToMoment)(S).format("DD MMM YYYY"),P=(0,i.epochToMoment)(S).format("HH:mm:ss [GMT]"),I=function(e,t,r,n){var i,l=e?"".concat(e.substring(0,4),"....").concat(e.substring(e.length-4)):(0,c.localize)("Pending"),s={deposit:{CONFIRMED:{name:(0,c.localize)("Successful"),description:(0,c.localize)("Your deposit is successful."),renderer:"successful",transaction_hash:l},ERROR:{name:(0,c.localize)("Unsuccessful"),description:(0,c.localize)("Your deposit is unsuccessful due to an error on the blockchain. Please contact your crypto wallet service provider for more info."),renderer:"unsuccessful",transaction_hash:(0,c.localize)("NA")},PENDING:{name:(0,c.localize)("In process"),description:(0,c.localize)("Weve received your request and are waiting for more blockchain confirmations."),renderer:"in-process",transaction_hash:l}},withdrawal:{CANCELLED:{name:(0,c.localize)("Cancelled"),description:(0,c.localize)("Youve cancelled your withdrawal request."),renderer:"unsuccessful",transaction_hash:(0,c.localize)("NA")},ERROR:{name:(0,c.localize)("Unsuccessful"),description:o().createElement(c.Localize,{key:0,i18n_default_text:"Your withdrawal is unsuccessful due to an error on the blockchain. Please <0>contact us</0> via live chat for more info.",values:{interpolation:{escapeValue:!1}},components:[o().createElement(a.StaticUrl,{key:0,className:"link",href:"contact-us/?is_livechat_open=true"})]}),renderer:"unsuccessful",transaction_hash:(0,c.localize)("NA")},LOCKED:{name:(0,c.localize)("In review"),description:(0,c.localize)("We're reviewing your withdrawal request. You may still cancel this transaction if you wish. Once we start processing, you won't be able to cancel."),renderer:"in-review",transaction_hash:l},PERFORMING_BLOCKCHAIN_TXN:{name:(0,c.localize)("In process"),description:(0,c.localize)("Were sending your request to the blockchain."),renderer:"in-process",transaction_hash:l},PROCESSING:{name:(0,c.localize)("In process"),description:(0,c.localize)("Were awaiting confirmation from the blockchain."),renderer:"in-process",transaction_hash:l},REJECTED:{name:(0,c.localize)("Unsuccessful"),description:(0,c.localize)("Your withdrawal is unsuccessful. We've sent you an email with more information."),renderer:"unsuccessful",transaction_hash:(0,c.localize)("NA")},REVERTED:{name:(0,c.localize)("Unsuccessful"),description:(0,c.localize)("Your withdrawal is unsuccessful. We've sent you an email with more information."),renderer:"unsuccessful",transaction_hash:(0,c.localize)("NA")},REVERTING:{name:(0,c.localize)("In process"),description:(0,c.localize)("We're processing your withdrawal."),renderer:"in-process",transaction_hash:(0,c.localize)("NA")},SENT:{name:(0,c.localize)("Successful"),description:(0,c.localize)("Your withdrawal is successful."),renderer:"successful",transaction_hash:l},VERIFIED:{name:(0,c.localize)("In process"),description:(0,c.localize)("Were processing your withdrawal."),renderer:"in-process",transaction_hash:l}}},u="-";return"deposit"===t&&(u="CONFIRMED"===r?(0,c.localize)("Confirmed"):n?"".concat(n):(0,c.localize)("Pending")),"deposit"===t&&(i=r,Object.keys(s.deposit).includes(i))||"withdrawal"===t&&function(e){return Object.keys(s.withdrawal).includes(e)}(r)?_(_({},s[t][r]),{},{confirmation_label:u}):null}(A,C,O,z),D=b(o().useState(!1),2),M=D[0],F=D[1],R=null==L?void 0:L.includes("CP:"),U="withdrawal"===C?o().createElement(c.Localize,{i18n_default_text:"Withdrawal"}):o().createElement(c.Localize,{i18n_default_text:"Deposit"});return I&&!v?o().createElement("div",null,o().createElement(a.Table.Row,{className:"transactions-crypto-history__table-row"},o().createElement(a.Table.Cell,{className:"transactions-crypto-history__table-cell"},o().createElement(a.Icon,{icon:"withdrawal"===C?"IcCashierWithdrawal":"IcCashierDeposit",size:32}),o().createElement(a.Text,{as:"p",size:"xs",weight:"bold",className:"transactions-crypto-history__table-type"},U),o().createElement("div",{className:"transactions-crypto-history__table-status",onClick:function(){I&&h(I.description,I.name)},"data-testid":"dt_table_status"},o().createElement("div",{className:p()("transactions-crypto-history__table-status-code","transactions-crypto-history__table-status-code-".concat(I.renderer))}),o().createElement(a.Text,{as:"p",size:"xxs"},I.name))),o().createElement(a.Table.Cell,null,o().createElement(a.Text,{as:"p",color:"prominent",size:"xxs",weight:"bold"},(0,c.localize)("Amount"))),o().createElement(a.Table.Cell,{className:"transactions-crypto-history__table-amount"},o().createElement(a.Text,{as:"p",size:"xxs",weight:"bold",color:"successful"===I.renderer?"profit-success":"red"},o().createElement(a.Money,{currency:y,amount:(0,i.formatMoney)(y,N,!0),should_format:!1,show_currency:!0}))),o().createElement(a.Table.Cell,null,o().createElement(a.Text,{as:"p",color:"prominent",size:"xxs",weight:"bold"},(0,c.localize)("Address"))),o().createElement(a.Table.Cell,{className:"transactions-crypto-history__table-hash"},o().createElement("a",{className:"transactions-crypto-history__table-link",href:w,rel:"noopener noreferrer",target:"_blank"},o().createElement(a.Text,{as:"p",size:"xxs",color:"red"},g))),o().createElement(a.Table.Cell,null,o().createElement(a.Text,{as:"p",color:"prominent",size:"xxs",weight:"bold"},(0,c.localize)("Transaction hash")),R&&o().createElement(a.Icon,{className:"transactions-crypto-history__table-tooltip",data_testid:"dt_transactions_crypto_history_table_tooltip_mobile",onClick:r,icon:"IcHelpCentre",custom_color:"var(--button-secondary-default)"})),o().createElement(a.Table.Cell,{className:"transactions-crypto-history__table-hash"},o().createElement("a",{className:"transactions-crypto-history__table-link",href:L,rel:"noopener noreferrer",target:"_blank"},o().createElement(a.Text,{as:"p",size:"xxs",color:"red"},I.transaction_hash))),o().createElement(a.Table.Cell,null,o().createElement(a.Text,{as:"p",color:"prominent",size:"xxs",weight:"bold"},(0,c.localize)("Confirmations"))),o().createElement(a.Table.Cell,null,o().createElement(a.Text,{as:"p",size:"xxs",color:"red"},I.confirmation_label)),o().createElement(a.Table.Cell,null,o().createElement(a.Text,{as:"p",color:"prominent",size:"xxs",weight:"bold"},(0,c.localize)("Time"))),o().createElement(a.Table.Cell,{className:"transactions-crypto-history__table-time"},o().createElement(a.Text,{as:"p",size:"xxs"},T),o().createElement("div",{className:"transactions-crypto-history__bullet"}),o().createElement(a.Text,{as:"p",size:"xxs"},P)),o().createElement(a.Table.Cell,{className:"transactions-crypto-history__table-action"},1===k&&o().createElement(a.Button,{onClick:function(){d(x)},small:!0,secondary:!0,"data-testid":"dt_cancel_transaction"},o().createElement(a.Text,{as:"p",size:"xxxs",weight:"bolder"},o().createElement(c.Localize,{i18n_default_text:"Cancel transaction"})))))):o().createElement("div",null,o().createElement(a.Table.Row,{className:"transactions-crypto-history__table-row"},o().createElement(a.Table.Cell,{className:"transactions-crypto-history__table-type"},o().createElement(a.Icon,{icon:"withdrawal"===C?"IcCashierWithdrawal":"IcCashierDeposit",size:32}),o().createElement(a.Text,{as:"p",size:"xs",weight:"bold"},U)),o().createElement(a.Table.Cell,{className:"transactions-crypto-history__table-amount"},I&&o().createElement(a.Text,{as:"p",size:"xs",weight:"bold",color:"successful"===I.renderer?"profit-success":"red"},o().createElement(a.Money,{currency:y,amount:(0,i.formatMoney)(y,N,!0),should_format:!1,show_currency:!0}))),o().createElement(a.Table.Cell,{className:"transactions-crypto-history__table-hash"},o().createElement(a.Popover,{alignment:"right",className:"transactions-crypto-history__table-popover",message:(0,c.localize)("View address on Blockchain")},o().createElement("a",{className:"transactions-crypto-history__table-link",href:w,rel:"noopener noreferrer",target:"_blank"},o().createElement(a.Text,{as:"p",size:"xs",color:"red"},j)))),o().createElement(a.Table.Cell,{className:"transactions-crypto-history__table-hash"},I&&(L?o().createElement(o().Fragment,null,o().createElement(a.Popover,{alignment:"right",className:"transactions-crypto-history__table-popover",message:(0,c.localize)("View transaction on Blockchain")},o().createElement("a",{className:"transactions-crypto-history__table-link",href:L,rel:"noopener noreferrer",target:"_blank"},o().createElement(a.Text,{as:"p",size:"xs",color:"red"},I.transaction_hash))),R&&o().createElement(a.Popover,{alignment:"right",className:"transactions-crypto-history__table-tooltip",data_testid:"dt_transactions_crypto_history_table_tooltip",message:(0,c.localize)("The details of this transaction is available on CoinsPaid.")},o().createElement(a.Icon,{icon:"IcHelpCentre",custom_color:"var(--button-secondary-default)"}))):o().createElement(a.Text,{as:"p",size:"xs",color:"red"},I.transaction_hash))),!M&&o().createElement(a.Table.Cell,{className:"transactions-crypto-history__table-confirmations"},o().createElement(a.Text,{as:"p",size:"xs",color:"red"},null==I?void 0:I.confirmation_label)),!M&&o().createElement(a.Table.Cell,null,o().createElement(a.Text,{as:"p",size:"xs"},T)),!M&&o().createElement(a.Table.Cell,{className:"transactions-crypto-history__table-status"},I&&o().createElement(a.Popover,{alignment:"left",className:"transactions-crypto-history__table-popover",message:I.description},o().createElement("div",{className:p()("transactions-crypto-history__table-status-code","transactions-crypto-history__table-status-code-".concat(I.renderer))}),o().createElement(a.Text,{as:"p",size:"xs"},I.name))),M?o().createElement(a.Table.Cell,{className:"transactions-crypto-history__table-confirm"},o().createElement("div",null,o().createElement(a.Text,{as:"p",color:"prominent",size:"xxs"},(0,c.localize)("Are you sure you want to cancel this transaction?")),o().createElement(a.Button,{onClick:function(){F(!1),m(x)},primary:!0,text:(0,c.localize)("Yes")}),o().createElement(a.Button,{onClick:function(){F(!1)},secondary:!0,text:(0,c.localize)("No")}))):o().createElement(a.Table.Cell,{className:"transactions-crypto-history__table-action"},1===k&&o().createElement("div",{onClick:function(){F(!0)},"data-testid":"dt_transactions_crypto_history_table_button"},o().createElement(a.Popover,{alignment:"left",className:"transactions-crypto-history__table-popover",message:(0,c.localize)("Cancel transaction")},o().createElement(a.Icon,{icon:"IcCrossLight",size:10}))))))}));var x=r("../../hooks/src/useCryptoTransactions.ts");function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k.apply(null,arguments)}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const A=(0,l.observer)((function(){var e=(0,s.A)().client,t=(0,u.Y)().isDesktop,r=(0,f.q)(),n=r.transaction_history,l=r.general_store,h=n.setIsTransactionsCryptoVisible,p=(0,x.A)(),y=p.data,v=p.isLoading,_=l.setIsDeposit,g=e.currency,b=O(o().useState(!1),2),w=b[0],S=b[1];return o().useEffect((function(){return function(){return h(!1)}}),[h,g]),o().createElement(o().Fragment,null,o().createElement("div",{className:"transactions-crypto-history"},o().createElement("div",{className:"transactions-crypto-history__header"},o().createElement("div",{className:"transactions-crypto-history__back",onClick:function(){h(!1),window.location.pathname.endsWith(i.routes.cashier_deposit)&&_(!0)},"data-testid":"dt_transactions_crypto_history_back"},o().createElement(a.Icon,{icon:t?"IcArrowLeftBold":"IcChevronLeftBold"}),o().createElement(a.Text,{as:"p",size:"xs",weight:"bold"},o().createElement(c.Localize,{i18n_default_text:"{{currency}} recent transactions",values:{currency:g}})))),v?o().createElement(a.Loading,{is_fullscreen:!1}):o().createElement(o().Fragment,null,!t&&o().createElement(o().Fragment,null,o().createElement(m,null),o().createElement(d,null)),((null==y?void 0:y.length)||0)>0?o().createElement(a.Table,{className:"transactions-crypto-history__table"},t&&o().createElement(a.Table.Header,{className:"transactions-crypto-history__table-header"},o().createElement(a.Table.Row,{className:"transactions-crypto-history__table-row"},[{text:(0,c.localize)("Transaction")},{text:(0,c.localize)("Amount")},{text:(0,c.localize)("Address")},{text:(0,c.localize)("Transaction hash")},{text:(0,c.localize)("Confirmations")},{text:(0,c.localize)("Time")},{text:(0,c.localize)("Status")},{text:(0,c.localize)("Action")}].map((function(e){return o().createElement(a.Table.Head,{key:e.text},e.text)})))),o().createElement(a.Table.Body,{className:"transactions-crypto-history__table-body"},o().createElement(a.DataList,{data_source:y,rowRenderer:function(e){return o().createElement(E,k({},e,{onTooltipClick:function(){return S(!0)}}))},keyMapper:function(e){return e.id},row_gap:t?8:0}))):o().createElement("div",{className:"transactions-crypto-history__empty-text"},o().createElement(a.Text,{as:"p",size:"xs",color:"disabled",align:"center"},o().createElement(c.Localize,{i18n_default_text:"No current transactions available"}))))),o().createElement(a.Modal,{has_close_icon:!0,is_open:w,title:"Note",toggleModal:function(){return S((function(e){return!e}))},width:"44rem",height:"14rem",className:"transactions-crypto-history__modal"},o().createElement(a.Modal.Body,{className:"transactions-crypto-history__modal-body"},(0,c.localize)("The details of this transaction is available on CoinsPaid."))))}))},"./components/transfer-confirm/index.ts":(e,t,r)=>{r.d(t,{A:()=>p});var n=r("../../../node_modules/classnames/index.js"),o=r.n(n),a=r("react"),i=r.n(a),c=r("@deriv/components"),l=r("@deriv/translations"),s=r("../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js"),u=r("./components/error-dialog/index.ts");function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var d=function(e){var t=e.item_key,r=e.label,n=e.value;return i().createElement("div",{className:"transfer-confirm__row"},Array.isArray(r)?i().createElement("div",{className:"transfer-confirm__row-label"},r.map((function(e){return i().createElement(c.Text,{as:"div",key:e,size:"xs",align:"left"},e)}))):i().createElement(c.Text,{size:"xs"},r),Array.isArray(n)?i().createElement("div",{className:"transfer-confirm__row-value"},n.map((function(e){return i().createElement(c.Text,{as:"div",key:e,size:"xs",weight:"bold",align:"end"},e)}))):i().createElement(c.Text,{size:"xs",weight:"bold",align:"end",className:o()({description:"description"===t})},n))},h=function(e){var t=e.children;return i().createElement("div",{className:"transfer-confirm__warnings-bullet-wrapper"},i().createElement("div",{className:"transfer-confirm__warnings-bullet"}),t)};const p=function(e){var t=e.data,r=e.error,n=e.is_payment_agent_withdraw,a=e.onClickBack,m=e.onClickConfirm,p=(0,s.Y)().isMobile,y=f(i().useState(!1),2),v=y[0],_=y[1],g=[i().createElement(l.Localize,{i18n_default_text:"Please ensure <0>all details</0> are <0>correct</0> before making your transfer.",components:[i().createElement("strong",{key:0})],key:0}),i().createElement(l.Localize,{i18n_default_text:"We <0>do not</0> guarantee a refund if you make a wrong transfer.",components:[i().createElement("strong",{key:0})],key:1})];return i().createElement("div",{className:o()("cashier__wrapper--align-center",{"transfer-confirm":!n})},i().createElement(c.Icon,{icon:"IcCashierRedWarning",className:"transfer-confirm__warning-icon",data_testid:"dt_red_warning_icon"}),i().createElement(c.Text,{as:"h2",color:"loss-danger",weight:"bold",align:"center",className:"transfer-confirm__warning-icon__description",size:p?"xs":"s"},n?(0,l.localize)("Funds transfer information"):(0,l.localize)("Check transfer information")),i().createElement("div",{className:"transfer-confirm__column-wrapper"},i().createElement("div",{className:"transfer-confirm__column"},t.map((function(e,t){return i().createElement(d,{item_key:t,label:e.label,value:e.value,key:e.item_key})})))),i().createElement("div",{className:"transfer-confirm__warnings"},g.map((function(e){return i().createElement(h,{key:e.key},i().createElement(c.Text,{as:"p",size:"xxs",line_height:"m",color:"loss-danger",align:"left"},e))}))),i().createElement("div",{className:"transfer-confirm__checkbox"},i().createElement(c.Checkbox,{name:"transfer_consent",value:v,onChange:function(){return _(!v)},label:n?(0,l.localize)("I confirm that I have verified the payment agents transfer information."):(0,l.localize)("I confirm that I have verified the clients transfer information."),classNameLabel:"transfer-confirm__checkbox-label"})),i().createElement("div",{className:"transfer-confirm__submit"},i().createElement(c.Button,{large:!0,text:(0,l.localize)("Back"),onClick:a,secondary:!0}),i().createElement(c.Button,{large:!0,text:(0,l.localize)("Transfer now"),onClick:m,primary:!0,disabled:!v})),i().createElement(u.A,{error:r}))}},"./modules/deposit-crypto/components/index.ts":(e,t,r)=>{r.d(t,{JT:()=>u,C6:()=>E,Ij:()=>j,nQ:()=>G});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("../../hooks/src/useCurrentCurrencyConfig.ts"),c=r("mobx-react-lite"),l=r("@deriv/translations"),s=r("../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js");const u=(0,c.observer)((function(){var e=(0,s.Y)().isMobile,t=(0,i.A)();return o().createElement(a.Text,{align:"center",size:e?"xs":"s",weight:"bold"},(0,l.localize)("Send only {{currency_name}} ({{currency_code}}) to this address.",{currency_name:(null==t?void 0:t.name)||"",currency_code:(null==t?void 0:t.display_code)||""}))}));var f=r("../../api/src/useQuery.ts");function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}var d=["data"];function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e,t,r){return(t=function(e){var t=function(e){if("object"!=m(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==m(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const y=function(e){var t,r=(0,f.A)("crypto_config",{payload:{currency_code:e}}),n=r.data,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,d);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({data:null==n||null===(t=n.crypto_config)||void 0===t?void 0:t.currencies_config[e]},o)};var v=r("@deriv/shared"),_=r("../../stores/src/useStore.ts"),g={BTC:"Bitcoin (BTC)",ETH:"Ethereum (ETH)",LTC:"Litecoin (LTC)",UST:"Omnicore",USDC:"Ethereum (ERC20)",eUSDT:"Ethereum (ERC20) ",tUSDT:"Tron (TRC20) "};const b=(0,c.observer)((function(){var e,t,r=(0,_.A)().client.currency,n=(0,s.Y)().isMobile,c=y(r).data,u=(0,i.A)(),f=null!=u&&u.is_tUSDT?o().createElement(l.Localize,{i18n_default_text:"A minimum deposit value of <0>{{minimum_deposit}}</0> {{currency}} is required. Otherwise, a fee is applied.",values:{minimum_deposit:(0,v.formatMoney)(u.code,null!==(e=null==c?void 0:c.minimum_deposit)&&void 0!==e?e:0,!0),currency:u.display_code},components:[o().createElement("strong",{key:0})]}):o().createElement(l.Localize,{i18n_default_text:"A minimum deposit value of <0>{{minimum_deposit}}</0> {{currency}} is required. Otherwise, the funds will be lost and cannot be recovered.",values:{minimum_deposit:(0,v.formatMoney)(null==u?void 0:u.code,null!==(t=null==c?void 0:c.minimum_deposit)&&void 0!==t?t:0,!0),currency:null==u?void 0:u.display_code},components:[o().createElement("strong",{key:0})]});return o().createElement("div",{className:"deposit-crypto-disclaimers"},o().createElement(a.InlineMessage,{title:(0,l.localize)("To avoid loss of funds:")},o().createElement("br",null),o().createElement("ul",{className:"deposit-crypto-disclaimers__list"},(null==c?void 0:c.minimum_deposit)&&o().createElement("li",null,f),o().createElement("li",null,o().createElement(l.Localize,{i18n_default_text:"Only send {{currency_name}} ({{currency_code}}) to this address.",values:{currency_name:(null==u?void 0:u.name)||"",currency_code:(null==u?void 0:u.display_code)||""}})),o().createElement("li",null,o().createElement(l.Localize,{i18n_default_text:"Make sure to copy the Deriv {{currency}} account address above and paste it into your crypto wallet.",values:{currency:r}})),o().createElement("li",null,o().createElement(l.Localize,{i18n_default_text:"In your crypto wallet, select the <0>{{network_name}} network</0> when transferring to Deriv. Incorrect transfers may result in the loss of funds.",values:{network_name:g[null==u?void 0:u.code]},components:[o().createElement("strong",{key:0})]})))),o().createElement(a.Text,{align:"center",size:n?"xxxs":"xxs"},o().createElement(l.Localize,{i18n_default_text:"<0>Note:</0> Youll receive an email when your deposit starts being processed.",components:[o().createElement(a.Text,{key:0,size:n?"xxxs":"xxs",weight:"bold"})]})))}));var w=r("../../../node_modules/@deriv-com/ui/dist/components/SectionMessage/index.js");const E=(0,c.observer)((function(){return o().createElement(w.H,{title:o().createElement(l.Localize,{i18n_default_text:"Important:"}),variant:"info"},o().createElement(a.Text,{size:"xs"},o().createElement(l.Localize,{i18n_default_text:"Verify the address on this page before each deposit to avoid losing funds. Occasionally, the address could be updated."})))}));var x=r("../../../node_modules/classnames/index.js"),k=r.n(x),O=r("../../hooks/src/useCryptoTransactions.ts"),S=r("./stores/useCashierStores.tsx"),A=r("./modules/transactions-crypto/helpers/index.ts");const L=(0,c.observer)((function(){var e=(0,s.Y)().isMobile,t=(0,S.q)().transaction_history.setIsTransactionsCryptoVisible,r=(0,O.A)(),c=r.last_transaction,u=r.has_transactions,f=r.isLoading,m=r.error,d=r.subscribe,h=(0,i.A)(),p=(0,n.useCallback)((function(){if(!c)return null;var e=(0,A.n)(c),r=e.is_deposit,n=e.status_color,i=e.status_name,s=e.amount,u=e.submit_date_display,f=e.address_url_display,m=e.confirmation_display,d=e.transaction_hash_display,p=e.transaction_fee,y=void 0===p?"":p;return o().createElement(o().Fragment,null,o().createElement("div",{className:"transactions-crypto-transaction-status-side-note__content"},o().createElement(a.Text,{size:"xxs"},r?(0,l.localize)("Deposit {{currency}}",{currency:null==h?void 0:h.display_code}):(0,l.localize)("Withdrawal {{currency}}",{currency:null==h?void 0:h.display_code})),o().createElement(a.Text,{size:"xxxs",color:"less-prominent",className:"transactions-crypto-transaction-status-side-note__date"},(0,l.localize)("{{amount}} {{currency}} on {{date}}",{amount:s,currency:null==h?void 0:h.display_code,date:u})),y&&o().createElement(a.Text,{size:"xxxs",color:"less-prominent",className:"transactions-crypto-transaction-status-side-note__transaction-fee"},(0,l.localize)("Transaction fee: {{amount}} {{currency}}",{amount:Number(y).toFixed(null==h?void 0:h.fractional_digits),currency:null==h?void 0:h.display_code})),o().createElement(a.Text,{size:"xxxs"},o().createElement(l.Localize,{i18n_default_text:"Address: <0>{{value}}</0>",values:{value:f},components:[o().createElement(a.Text,{key:0,size:"xxxs",color:"red"})]})),o().createElement(a.Text,{size:"xxxs"},o().createElement(l.Localize,{i18n_default_text:"Transaction hash: <0>{{value}}</0>",values:{value:d},components:[o().createElement(a.Text,{key:0,size:"xxxs",color:"red"})]})),r&&o().createElement(a.Text,{size:"xxxs"},o().createElement(l.Localize,{i18n_default_text:"Confirmations: <0>{{value}}</0>",values:{value:m},components:[o().createElement(a.Text,{key:0,size:"xxxs",color:"red"})]})),o().createElement("div",{className:"transactions-crypto-transaction-status-side-note__status"},o().createElement("div",{className:k()("transactions-crypto-transaction-status-side-note__status-dot","transactions-crypto-transaction-status-side-note__status-dot-".concat(n))}),o().createElement(a.Text,{size:"xxxs"},i))),o().createElement("div",{className:"transactions-crypto-transaction-status-side-note__divider"}),o().createElement(a.Button,{text:(0,l.localize)("View more"),onClick:function(){return t(!0)},secondary:!0,small:!0,className:"transactions-crypto-transaction-status-side-note__button"}))}),[null==h?void 0:h.display_code,c,t]),y=(0,n.useCallback)((function(){return o().createElement(a.Loading,{is_fullscreen:!1})}),[]),v=(0,n.useCallback)((function(){return o().createElement(o().Fragment,null,o().createElement(a.Text,{size:e?"xxs":"xs"},(0,l.localize)("Unfortunately, we cannot retrieve the information at this time. ")),o().createElement("div",{className:"transactions-crypto-transaction-status-side-note__divider"}),o().createElement(a.Button,{text:(0,l.localize)("Refresh"),onClick:function(){return d()},secondary:!0,small:!0,className:"transactions-crypto-transaction-status-side-note__button"}))}),[e,d]),_=(0,n.useCallback)((function(){return o().createElement(o().Fragment,null,o().createElement(a.Text,{size:e?"xxs":"xs"},(0,l.localize)("No recent transactions.")),o().createElement("div",{className:"transactions-crypto-transaction-status-side-note__divider"}))}),[e]);return o().createElement(a.SideNote,{type:m?"warning":void 0,title:(0,l.localize)("Transaction status")},o().createElement("div",{className:"transactions-crypto-transaction-status-side-note"},o().createElement("div",{className:"transactions-crypto-transaction-status-side-note__divider"}),f&&o().createElement(y,null),!f&&!m&&u&&o().createElement(p,null),!f&&!m&&!u&&o().createElement(_,null),m?o().createElement(v,null):o().createElement(o().Fragment,null)))}));function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const z=function(e){var t=e.currency,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o().useState(!1),2),i=r[0],c=r[1],s=(0,n.useMemo)((function(){return{eUSDT:{side_note_title:(0,l.localize)("About Tether (Ethereum)"),side_note_description:o().createElement(l.Localize,{i18n_default_text:"Deriv currently supports withdrawals of Tether eUSDT to Ethereum wallet. To ensure a successful transaction, enter a wallet address compatible with the tokens you wish to withdraw. <0>Learn more</0>",components:[o().createElement("a",{key:0,className:"link link--orange",onClick:function(){return c(!0)}})]}),modal_title:(0,l.localize)("About Tether"),modal_header:(0,l.localize)("Tether is a blockchain-enabled platform designed to facilitate the use of fiat currencies in a digital manner."),modal_bullet:(0,l.localize)("Tether on Ethereum (eUSDT)"),modal_description:(0,l.localize)("Tether on the Ethereum blockchain, as an ERC20 token, is a newer transport layer, which now makes Tether available in Ethereum smart contracts. As a standard ERC20 token, it can also be sent to any Ethereum address.")},USDT:{side_note_title:(0,l.localize)("About Tether (Omni)"),side_note_description:o().createElement(l.Localize,{i18n_default_text:"Deriv currently supports withdrawals of Tether USDT to Omni wallet. To ensure a successful transaction, enter a wallet address compatible with the tokens you wish to withdraw. <0>Learn more</0>",components:[o().createElement("a",{key:0,className:"link link--orange",onClick:function(){return c(!0)}})]}),modal_title:(0,l.localize)("About Tether"),modal_header:(0,l.localize)("Tether is a blockchain-enabled platform designed to facilitate the use of fiat currencies in a digital manner."),modal_bullet:(0,l.localize)("Tether on Omni Layer (USDT)"),modal_description:(0,l.localize)("Tether was originally created to use the bitcoin network as its transport protocol  specifically, the Omni Layer  to allow transactions of tokenised traditional currency.")}}}),[])[t];return o().createElement(a.SideNote,{title:s.side_note_title,description:s.side_note_description},o().createElement(a.Modal,{title:s.modal_title,has_close_icon:!0,is_open:i,small:!0,toggleModal:function(){return c((function(e){return!e}))}},o().createElement(a.Modal.Body,{className:"deposit-crypto-side-notes__modal-body"},o().createElement(a.Text,{size:"xs"},s.modal_header),o().createElement("br",null),o().createElement("br",null),o().createElement(a.Text,{as:"li",size:"xs",weight:"bold"},s.modal_bullet),o().createElement(a.Text,{as:"ul",size:"xs",className:"deposit-crypto-side-notes__modal-bullet"},s.modal_description))))},j=(0,c.observer)((function(){var e=(0,i.A)();return o().createElement(o().Fragment,null,o().createElement(L,null),(null==e?void 0:e.is_USDT)&&o().createElement(z,{currency:"USDT"}),(null==e?void 0:e.is_eUSDT)&&o().createElement(z,{currency:"eUSDT"}))}));var N=r("@deriv-com/analytics"),T=r("../../api/src/useMutation.ts");function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}var I=["data","mutate"];function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(e,t,r){return(t=function(e){var t=function(e){if("object"!=P(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==P(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const R=function(){var e,t=(0,T.A)("cashier"),r=t.data,o=t.mutate,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,I),i="string"!=typeof(null==r?void 0:r.cashier)?null==r||null===(e=r.cashier)||void 0===e||null===(e=e.deposit)||void 0===e?void 0:e.address:void 0,c=(0,n.useCallback)((function(){return o({payload:{cashier:"deposit",provider:"crypto",type:"api"}})}),[o]);return(0,n.useEffect)((function(){c()}),[c]),M(M({},a),{},{resend:c,data:i})};var U=r("../../../node_modules/qrcode.react/lib/esm/index.js");const G=(0,c.observer)((function(){var e=(0,_.A)().client,t=e.currency,r=e.loginid,n=(0,s.Y)().isMobile,i=R(),c=i.data,u=i.isLoading,f=i.error,m=i.resend;return u?o().createElement(a.Loading,{is_fullscreen:!1}):((0,v.setPerformanceValue)("load_crypto_deposit_cashier_time"),f?o().createElement("div",{className:"deposit-crypto-wallet-address__error"},o().createElement(a.InlineMessage,{type:"warning",message:(0,l.localize)("Unfortunately, we couldn't get the address since our server was down. Please click Refresh to reload the address or try again later.")}),o().createElement(a.Button,{text:(0,l.localize)("Refresh"),onClick:function(){return m()},secondary:!0,small:!0})):o().createElement(o().Fragment,null,o().createElement(U.Ay,{value:c||"",size:n?128:160,className:"deposit-crypto-wallet-address__qrcode-container"}),o().createElement("div",{className:"deposit-crypto-wallet-address__address-container"},o().createElement("div",{className:"deposit-crypto-wallet-address__hash-container"},o().createElement(a.Text,{size:n?"xxs":"xs",weight:"bold"},c)),o().createElement("div",{className:"deposit-crypto-wallet-address__action-container"},o().createElement(a.Clipboard,{text_copy:c||"",info_message:n?void 0:(0,l.localize)("copy"),success_message:(0,l.localize)("copied!"),onClickHandler:function(){N.Analytics.trackEvent("ce_cashier_deposit_onboarding_form",{action:"click_copy_crypto_address",form_name:"ce_cashier_deposit_onboarding_form",currency:t,login_id:r})},popoverAlignment:n?"left":"bottom"}))),o().createElement(b,null)))}))},"./modules/transactions-crypto/helpers/index.ts":(e,t,r)=>{r.d(t,{n:()=>d});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("@deriv/translations"),c=r("../../../node_modules/moment/moment.js"),l=r.n(c);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==s(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d=function(e){var t="deposit"===e.transaction_type,r=e.submit_date,n=e.confirmations,c=e.transaction_hash,s=e.address_url,u=s?"".concat(s.substring(0,4),"....").concat(s.substring(s.length-4)):(0,i.localize)("Pending"),m=c?"".concat(c.substring(0,4),"....").concat(c.substring(c.length-4)):(0,i.localize)("Pending"),d={CONFIRMED:(0,i.localize)("Successful"),ERROR:(0,i.localize)("Unsuccessful"),PENDING:(0,i.localize)("In process")},h={CONFIRMED:(0,i.localize)("Your deposit is successful."),ERROR:(0,i.localize)("Your deposit is unsuccessful due to an error on the blockchain. Please contact your crypto wallet service provider for more info."),PENDING:(0,i.localize)("Weve received your request and are waiting for more blockchain confirmations.")},p={CANCELLED:(0,i.localize)("Cancelled"),ERROR:(0,i.localize)("Unsuccessful"),LOCKED:(0,i.localize)("In review"),PERFORMING_BLOCKCHAIN_TXN:(0,i.localize)("In process"),PROCESSING:(0,i.localize)("In process"),REJECTED:(0,i.localize)("Unsuccessful"),REVERTED:(0,i.localize)("Unsuccessful"),REVERTING:(0,i.localize)("In process"),SENT:(0,i.localize)("Successful"),VERIFIED:(0,i.localize)("In process")},y={CANCELLED:(0,i.localize)("Youve cancelled your withdrawal request."),ERROR:o().createElement(i.Localize,{key:0,i18n_default_text:"Your withdrawal is unsuccessful due to an error on the blockchain. Please <0>contact us</0> via live chat for more info.",values:{interpolation:{escapeValue:!1}},components:[o().createElement(a.StaticUrl,{key:0,className:"link",href:"contact-us/?is_livechat_open=true"})]}),LOCKED:(0,i.localize)("We're reviewing your withdrawal request. You may still cancel this transaction if you wish. Once we start processing, you won't be able to cancel."),PERFORMING_BLOCKCHAIN_TXN:(0,i.localize)("Were sending your request to the blockchain."),PROCESSING:(0,i.localize)("Were awaiting confirmation from the blockchain."),REJECTED:(0,i.localize)("Your withdrawal is unsuccessful. We've sent you an email with more information."),REVERTED:(0,i.localize)("Your withdrawal is unsuccessful. We've sent you an email with more information."),REVERTING:(0,i.localize)("We're processing your withdrawal."),SENT:(0,i.localize)("Your withdrawal is successful."),VERIFIED:(0,i.localize)("Were processing your withdrawal.")},v={CONFIRMED:m,ERROR:(0,i.localize)("NA"),PENDING:m},_={CANCELLED:(0,i.localize)("NA"),ERROR:(0,i.localize)("NA"),LOCKED:m,PERFORMING_BLOCKCHAIN_TXN:m,PROCESSING:m,REJECTED:(0,i.localize)("NA"),REVERTED:(0,i.localize)("NA"),REVERTING:(0,i.localize)("NA"),SENT:m,VERIFIED:m},g={CONFIRMED:(0,i.localize)("Confirmed"),ERROR:(0,i.localize)("NA"),PENDING:n?"".concat(n):(0,i.localize)("Pending")},b=t?{CONFIRMED:"successful",ERROR:"unsuccessful",PENDING:"warning"}[e.status_code]:{CANCELLED:"unsuccessful",ERROR:"unsuccessful",LOCKED:"warning",PERFORMING_BLOCKCHAIN_TXN:"warning",PROCESSING:"warning",REJECTED:"unsuccessful",REVERTED:"unsuccessful",REVERTING:"warning",SENT:"successful",VERIFIED:"warning"}[e.status_code],w=t?d[e.status_code]:p[e.status_code],E=t?h[e.status_code]:y[e.status_code],x=t?v[e.status_code]:_[e.status_code],k=t?g[e.status_code]:{CANCELLED:"-",ERROR:"-",LOCKED:"-",PERFORMING_BLOCKCHAIN_TXN:"-",PROCESSING:"-",REJECTED:"-",REVERTED:"-",REVERTING:"-",SENT:"-",VERIFIED:"-"}[e.status_code],O=l().unix(r||0).utc().format("MMM D, YYYY");return f(f({},e),{},{is_deposit:t,status_color:b,status_name:w,status_description:E,transaction_hash_display:x,address_url_display:u,confirmation_display:k,submit_date_display:O})}},"./pages/account-transfer/index.ts":(e,t,r)=>{r.d(t,{default:()=>De});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("../../hooks/src/useCashierLocked.ts"),c=r("@deriv/shared");function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(){s=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function m(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),c=new N(n||[]);return o(i,"_invoke",{value:L(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=m;var h="suspendedStart",p="suspendedYield",y="executing",v="completed",_={};function g(){}function b(){}function w(){}var E={};f(E,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(T([])));k&&k!==r&&n.call(k,i)&&(E=k);var O=w.prototype=g.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var s=d(e[o],e,a);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==l(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,c)}))}c(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,r,n){var o=h;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===_)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=d(t,r,n);if("normal"===s.type){if(o=n.done?v:p,s.arg===_)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=v,n.method="throw",n.arg=s.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),_;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,_;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,_):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,_)}function z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(l(t)+" is not iterable")}return b.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=f(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,f(e,u,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),f(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(m(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),f(O,u,"Generator"),f(O,i,(function(){return this})),f(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,_):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),_}},t}function u(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const m=function(){var e=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)(null),2),t=e[0],r=e[1];return(0,n.useEffect)((function(){var e=function(){var e,t=(e=s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.WS.send({trading_platform_status:1});case 2:t=e.sent,r(t.trading_platform_status);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){u(a,n,o,i,c,"next",e)}function c(e){u(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();e()}),[]),{data:t,getPlatformStatus:function(e){var r;return null==t||null===(r=t.find((function(t){return t.platform===e})))||void 0===r?void 0:r.status}}};var d=r("mobx-react-lite"),h=r("../../stores/src/useStore.ts"),p=r("./stores/useCashierStores.tsx"),y=r("./components/page-container/index.ts"),v=r("./components/cashier-locked/index.ts"),_=r("./components/error/index.ts"),g=r("./components/no-balance/index.ts"),b=r("./components/cashier-container/virtual/index.ts"),w=r("react-router-dom"),E=r("@deriv/translations");function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const k=(0,d.observer)((function(){var e=(0,h.A)().client,t=e.is_financial_account,r=e.is_financial_information_incomplete,n=e.is_trading_experience_incomplete,i=(0,w.useHistory)(),l=function(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t&&(r||n)?[{content:(0,E.localize)("Complete the financial assessment form"),status:"action",onClick:function(){return i.push(c.routes.financial_assessment)}}]:[]);return o().createElement("div",{className:"cashier-locked"},o().createElement(a.Icon,{icon:"IcMoneyTransfer",className:"cashier-locked__icon"}),o().createElement(a.Text,{as:"h2",weight:"bold",align:"center",className:"cashier-locked__title"},(0,E.localize)("Transfers are locked")),o().createElement(o().Fragment,null,o().createElement("p",{className:"cashier-locked__desc"},(0,E.localize)("To enable this feature you must complete the following:")),o().createElement(a.Checklist,{className:"cashier-locked__checklist",items:l})))})),O=(0,d.observer)((function(){var e=(0,h.A)(),t=e.common.is_from_derivgo,r=e.traders_hub.closeModal,n=(0,w.useHistory)();return o().useEffect((function(){r()}),[]),o().createElement("div",{className:"cashier__wrapper cashier__no-balance"},o().createElement(a.Icon,{icon:"IcCashierNoBalance",className:"cashier__no-balance-icon",size:116}),o().createElement(a.Text,{as:"h2",weight:"bold",align:"center"},o().createElement(E.Localize,{i18n_default_text:"You only have one account"})),o().createElement(a.Text,{as:"p",size:"xs",line_height:"s",align:"center"},o().createElement(E.Localize,{i18n_default_text:"Transferring funds will require you to create a second account."})),!t&&o().createElement(a.Button,{className:"account-transfer-no-account__button",primary:!0,large:!0,onClick:function(){n.push(c.routes.traders_hub)}},o().createElement(E.Localize,{i18n_default_text:"Back to Trader's Hub"})))}));var S=r("../../../node_modules/classnames/index.js"),A=r.n(S),L=r("../../../node_modules/formik/dist/formik.esm.js"),C=r("../../hooks/src/useMFAccountStatus.ts"),z=r("../../hooks/src/useExchangeRate.ts"),j=r("../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js"),N=["styles"];function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T.apply(null,arguments)}var P=["styles"];function I(){return I=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I.apply(null,arguments)}var D=["styles"];function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M.apply(null,arguments)}var F=["styles"];function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R.apply(null,arguments)}var U=["styles"];function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G.apply(null,arguments)}var B=["styles"];function Y(){return Y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y.apply(null,arguments)}var W=["styles"];function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V.apply(null,arguments)}var q=["styles"];function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H.apply(null,arguments)}var $={Derived:function(e){e.styles;var t=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,P);return o().createElement("svg",I({viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),o().createElement("path",{d:"M0 23h32v3a6 6 0 01-6 6H6a6 6 0 01-6-6v-3z",fill:"#2A3052"}),o().createElement("path",{d:"M26.7 23H0V6.18l29.91-4.73c.22.2.43.4.62.62L26.7 23z",fill:"#0364B9"}),o().createElement("path",{d:"M0 6a6 6 0 016-6h20c1.5 0 2.86.55 3.92 1.45L0 6.17V6zm26.7 17l3.83-20.93A5.97 5.97 0 0132 6v17h-5.3z",fill:"#0A559E"}),o().createElement("path",{d:"M7.34 9.68c.15.27.31.6.5.99.19.38.38.8.58 1.26.21.45.41.9.61 1.38l.57 1.33.56-1.33a78.87 78.87 0 011.19-2.64l.5-.99h1.7a52.27 52.27 0 01.4 4l.15 2.22.12 2.1h-1.83c-.02-.8-.05-1.69-.1-2.64-.03-.95-.1-1.91-.17-2.88a517.56 517.56 0 01-1.01 2.34 108.94 108.94 0 01-.9 2.12h-1.3a118.46 118.46 0 00-.92-2.12l-.52-1.22L7 12.48c-.08.97-.14 1.93-.18 2.88L6.71 18H4.9L5 15.9l.15-2.22a47.67 47.67 0 01.4-4h1.8zm14.02 0v1.6h-2.51V18h-1.88v-6.72h-2.5v-1.6h6.89zm3.96 5.87a1.18 1.18 0 00-.16-.61c-.1-.18-.28-.34-.54-.46a3.8 3.8 0 00-1.03-.27 11.46 11.46 0 00-1.63-.1 50.7 50.7 0 00.35-4.43h4.5v1.5h-3a25.92 25.92 0 01-.12 1.54 4.4 4.4 0 012.58.83c.56.46.84 1.11.84 1.94 0 .39-.07.74-.2 1.07a2.3 2.3 0 01-.62.85 2.9 2.9 0 01-1.03.57 4.56 4.56 0 01-2.13.15 6.41 6.41 0 01-.68-.1 7.3 7.3 0 01-.59-.14 2.3 2.3 0 01-.4-.14l.32-1.48a5.02 5.02 0 001.97.38c.55 0 .95-.1 1.2-.32.24-.22.37-.48.37-.78zM10.87 28.81l.15.02h.21c.47 0 .82-.12 1.04-.36.23-.23.34-.56.34-.98 0-.43-.1-.76-.32-.99-.22-.22-.56-.33-1.03-.33a3.37 3.37 0 00-.39.02v2.62zm2.7-1.32c0 .36-.05.68-.16.95a1.73 1.73 0 01-.48.66 2 2 0 01-.75.4 3.5 3.5 0 01-1 .13c-.16 0-.36 0-.58-.02a4.51 4.51 0 01-.66-.09v-4.05a9.16 9.16 0 011.28-.1c.35 0 .67.04.96.12.3.08.54.2.75.38.2.17.37.39.48.66.11.27.17.59.17.96zm2-2.12c.63 0 1.1.11 1.44.34.33.22.5.56.5 1.03 0 .29-.07.53-.2.71-.14.18-.33.32-.58.43a5.31 5.31 0 01.53.78 10.05 10.05 0 01.5.92h-1.05a49.79 49.79 0 00-.23-.42 6.82 6.82 0 00-.24-.4 7.53 7.53 0 00-.24-.38 3.8 3.8 0 00-.24-.32h-.47v1.52h-.93v-4.1a5.31 5.31 0 01.63-.09 8.2 8.2 0 01.59-.02zm.06.8a2.63 2.63 0 00-.34.02v1.12h.27c.35 0 .6-.04.75-.13.16-.09.23-.24.23-.45 0-.2-.07-.35-.23-.43a1.38 1.38 0 00-.68-.13zm3.88 3.4a31.27 31.27 0 01-.94-2.2 58.21 58.21 0 01-.72-1.95h1.03l.26.78.3.83.28.79.26.65a17.1 17.1 0 00.54-1.44 96.8 96.8 0 00.55-1.61h1l-.32.9a37.71 37.71 0 01-.86 2.17l-.48 1.09h-.9z",fill:"#fff"}))},Financial:function(e){e.styles;var t=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,D);return o().createElement("svg",M({viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),o().createElement("path",{d:"M0 23h32v3a6 6 0 01-6 6H6a6 6 0 01-6-6v-3z",fill:"#71BD0E"}),o().createElement("path",{d:"M26.7 23H0V6.18l29.91-4.73c.22.2.43.4.62.62L26.7 23z",fill:"#0364B9"}),o().createElement("path",{d:"M0 6a6 6 0 016-6h20c1.5 0 2.86.55 3.92 1.45L0 6.17V6zm26.7 17l3.83-20.93A5.97 5.97 0 0132 6v17h-5.3z",fill:"#0A559E"}),o().createElement("path",{d:"M7.34 9.68c.15.27.31.6.5.99.19.38.38.8.58 1.26.21.45.41.9.61 1.38l.57 1.33.56-1.33a78.87 78.87 0 011.19-2.64l.5-.99h1.7a52.27 52.27 0 01.4 4l.15 2.22.12 2.1h-1.83c-.02-.8-.05-1.69-.1-2.64-.03-.95-.1-1.91-.17-2.88a517.56 517.56 0 01-1.01 2.34 108.94 108.94 0 01-.9 2.12h-1.3a118.46 118.46 0 00-.92-2.12l-.52-1.22L7 12.48c-.08.97-.14 1.93-.18 2.88L6.71 18H4.9L5 15.9l.15-2.22a47.67 47.67 0 01.4-4h1.8zm14.02 0v1.6h-2.51V18h-1.88v-6.72h-2.5v-1.6h6.89zm3.96 5.87a1.18 1.18 0 00-.16-.61c-.1-.18-.28-.34-.54-.46a3.8 3.8 0 00-1.03-.27 11.46 11.46 0 00-1.63-.1 50.7 50.7 0 00.35-4.43h4.5v1.5h-3a25.92 25.92 0 01-.12 1.54 4.4 4.4 0 012.58.83c.56.46.84 1.11.84 1.94 0 .39-.07.74-.2 1.07a2.3 2.3 0 01-.62.85 2.9 2.9 0 01-1.03.57 4.56 4.56 0 01-2.13.15 6.41 6.41 0 01-.68-.1 7.3 7.3 0 01-.59-.14 2.3 2.3 0 01-.4-.14l.32-1.48a5.02 5.02 0 001.97.38c.55 0 .95-.1 1.2-.32.24-.22.37-.48.37-.78zM11.54 29.58v-4.16h2.78v.79h-1.84v.87h1.64v.78h-1.64v1.72h-.94zm3.45-4.16h.93v4.16H15v-4.16zm4.68 4.16a20.92 20.92 0 00-.87-1.41 14.33 14.33 0 00-1-1.32v2.73h-.92v-4.16h.77a7.33 7.33 0 01.92 1.1 15.66 15.66 0 01.96 1.35v-2.45h.93v4.16h-.79z",fill:"#fff"}))},Options:function(e){e.styles;var t=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,U);return o().createElement("svg",G({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 32"},t),o().createElement("path",{fill:"var(--text-prominent)",d:"M0 6a6 6 0 016-6h20a6 6 0 016 6v20a6 6 0 01-6 6H6a6 6 0 01-6-6V6z"}),o().createElement("path",{fill:"var(--text-general)",d:"M6 0a6 6 0 00-6 6v.17l29.91-4.72A5.98 5.98 0 0026 0H6zm24.53 2.07L25.04 32H26a6 6 0 006-6V6c0-1.5-.55-2.88-1.47-3.93z"}),o().createElement("path",{fill:"#EF8933",d:"M17 19c0-1.1.9-2 2-2h4a2 2 0 012 2v4a2 2 0 01-2 2h-4a2 2 0 01-2-2v-4z"}),o().createElement("path",{fill:"#4B6FA8",d:"M7 19c0-1.1.9-2 2-2h4a2 2 0 012 2v4a2 2 0 01-2 2H9a2 2 0 01-2-2v-4z"}),o().createElement("path",{fill:"#76C0E3",d:"M17 9c0-1.1.9-2 2-2h4a2 2 0 012 2v4a2 2 0 01-2 2h-4a2 2 0 01-2-2V9z"}),o().createElement("path",{fill:"#FF444F",d:"M7 9c0-1.1.9-2 2-2h4a2 2 0 012 2v4a2 2 0 01-2 2H9a2 2 0 01-2-2V9z"}))},CFDs:function(e){e.styles;var t=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,N);return o().createElement("svg",T({viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),o().createElement("path",{d:"M0 23h32v3a6 6 0 01-6 6H6a6 6 0 01-6-6v-3z",fill:"#FF8C00"}),o().createElement("path",{d:"M26.7 23H0V6.18l29.91-4.73c.22.2.43.4.62.62L26.7 23z",fill:"#0364B9"}),o().createElement("path",{d:"M0 6a6 6 0 016-6h20c1.5 0 2.86.55 3.92 1.45L0 6.17V6zm26.7 17l3.83-20.93A5.97 5.97 0 0132 6v17h-5.3z",fill:"#0A559E"}),o().createElement("path",{d:"M7.35 9.68l.49.99a44.57 44.57 0 011.2 2.64l.56 1.33.57-1.33a78.87 78.87 0 011.18-2.64l.5-.99h1.71a52.27 52.27 0 01.4 4l.14 2.22.12 2.1H12.4l-.1-2.64c-.04-.95-.1-1.91-.18-2.88a517.56 517.56 0 01-1 2.34 108.94 108.94 0 01-.9 2.12H8.9a118.46 118.46 0 00-.92-2.12l-.51-1.22L7 12.48c-.08.97-.14 1.93-.18 2.88L6.72 18H4.9l.1-2.1.15-2.22.18-2.14c.07-.68.15-1.3.23-1.86h1.79zm14 0v1.6h-2.5V18h-1.87v-6.72h-2.51v-1.6h6.89zm3.97 5.87a1.18 1.18 0 00-.15-.61c-.1-.18-.29-.34-.54-.46a3.8 3.8 0 00-1.04-.27 11.46 11.46 0 00-1.63-.1 50.7 50.7 0 00.35-4.43h4.5v1.5h-3a25.92 25.92 0 01-.12 1.54 4.4 4.4 0 012.58.83c.56.46.84 1.11.84 1.94 0 .39-.07.74-.2 1.07a2.3 2.3 0 01-.62.85 2.9 2.9 0 01-1.03.57 4.56 4.56 0 01-2.12.15 6.41 6.41 0 01-.69-.1 7.3 7.3 0 01-.58-.14 2.3 2.3 0 01-.41-.14l.32-1.48a5.02 5.02 0 001.97.38c.55 0 .95-.1 1.2-.32s.37-.48.37-.78zm-14.3 14.12c-.68 0-1.2-.19-1.55-.57-.36-.37-.53-.9-.53-1.6 0-.34.05-.65.16-.91a1.84 1.84 0 011.12-1.11 2.42 2.42 0 011.32-.1c.15.02.27.05.38.08a1.68 1.68 0 01.43.19l-.27.76a2.25 2.25 0 00-.45-.18 2.1 2.1 0 00-.58-.07c-.14 0-.29.02-.43.07a.97.97 0 00-.36.24c-.1.1-.19.24-.25.4a1.72 1.72 0 00-.1.62c0 .19.02.37.06.54.04.16.11.3.2.42.1.12.22.22.38.29.15.07.33.1.55.1a2.52 2.52 0 00.65-.08 1.77 1.77 0 00.22-.07l.18-.08.26.75a2.2 2.2 0 01-.56.21c-.24.07-.52.1-.84.1zm1.99-.09v-4.15h2.78v.78h-1.84v.87h1.64v.79h-1.65v1.72h-.93zm4.38-.76l.15.02h.21c.47 0 .81-.12 1.04-.36.23-.23.34-.56.34-.98 0-.43-.1-.76-.32-.99-.22-.22-.56-.33-1.03-.33a3.37 3.37 0 00-.39.02v2.62zm2.7-1.32c0 .36-.05.68-.16.95a1.73 1.73 0 01-.48.66 2 2 0 01-.75.4 3.5 3.5 0 01-1 .13c-.17 0-.36 0-.59-.02a4.51 4.51 0 01-.66-.09v-4.05a9.16 9.16 0 011.28-.1c.36 0 .68.04.97.12.29.08.54.2.75.38.2.17.37.39.48.66.11.27.17.59.17.96zm1.63 1.44a.9.9 0 00.35-.04c.07-.04.1-.1.1-.2 0-.06-.04-.12-.13-.18a2.31 2.31 0 00-.4-.18 4.45 4.45 0 01-.38-.16 1.18 1.18 0 01-.3-.2.84.84 0 01-.18-.28 1.03 1.03 0 01-.06-.4c0-.3.1-.52.33-.7.22-.17.52-.25.9-.25a2.75 2.75 0 01.97.16l-.15.7a3.2 3.2 0 00-.34-.1 1.8 1.8 0 00-.41-.04c-.28 0-.42.07-.42.23 0 .04 0 .07.02.1a.23.23 0 00.07.08 1.77 1.77 0 00.38.18c.2.07.36.14.49.22.13.06.23.14.3.22.07.08.13.17.15.27.04.1.05.22.05.35a.8.8 0 01-.35.7c-.23.17-.56.25-1 .25a2.9 2.9 0 01-.7-.07 2.85 2.85 0 01-.38-.12l.15-.73a2.41 2.41 0 00.94.2z",fill:"#fff"}))},Standard:function(e){e.styles;var t=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,B);return o().createElement("svg",Y({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},t),o().createElement("g",{clipPath:"url(#a)"},o().createElement("path",{fill:"#0364B9",d:"M19.5 0h-15A4.5 4.5 0 000 4.5v13.13h24V4.5A4.5 4.5 0 0019.5 0z"}),o().createElement("path",{fill:"#0A559E",d:"M4.5 0A4.5 4.5 0 000 4.5v.13l22.44-3.54A4.48 4.48 0 0019.5 0h-15zM24 4.5c0-1.13-.41-2.16-1.1-2.95l-2.95 16.07H24V4.5z"}),o().createElement("path",{fill:"#2A3052",d:"M0 17.25h24v2.25a4.5 4.5 0 01-4.5 4.5h-15A4.5 4.5 0 010 19.5v-2.25z"}),o().createElement("path",{fill:"#fff",d:"M5.51 7.26l.37.74c.14.29.29.6.44.95.16.33.3.68.46 1.03l.42 1 .42-1A59.15 59.15 0 018.53 8l.37-.74h1.28a39.2 39.2 0 01.3 3 75.06 75.06 0 01.2 3.24H9.3a162.14 162.14 0 00-.07-1.98 53.47 53.47 0 00-.14-2.16l-.36.84-.4.91a81.7 81.7 0 01-.67 1.6h-.98a88.84 88.84 0 00-.3-.71L6 11.1a59.84 59.84 0 00-.4-.91l-.35-.84c-.06.73-.1 1.45-.14 2.16l-.07 1.98H3.67l.08-1.57.11-1.67.14-1.6c.05-.52.1-.98.17-1.4H5.5zm10.5 0v1.2h-1.87v5.04h-1.4V8.46h-1.89v-1.2h5.17zm2.98 4.4a.89.89 0 00-.12-.46.87.87 0 00-.4-.34 2.85 2.85 0 00-.78-.2 8.6 8.6 0 00-1.22-.08 38.02 38.02 0 00.26-3.32h3.38V8.4h-2.25a19.44 19.44 0 01-.05.63 9.02 9.02 0 01-.04.52 3.3 3.3 0 011.93.62c.42.35.63.83.63 1.46 0 .29-.05.55-.15.8a1.72 1.72 0 01-.46.64c-.2.18-.46.32-.77.42a3.42 3.42 0 01-1.08.15c-.17 0-.34 0-.52-.03a4.8 4.8 0 01-.51-.08 5.47 5.47 0 01-.44-.1 1.73 1.73 0 01-.3-.1l.24-1.12a3.76 3.76 0 001.48.29c.4 0 .7-.08.9-.24a.77.77 0 00.27-.59zm-10.09 10c.1 0 .18-.01.25-.03a.52.52 0 00.15-.07.24.24 0 00.08-.1.36.36 0 00.03-.13c0-.1-.05-.19-.15-.25-.1-.07-.26-.14-.5-.22a4.32 4.32 0 01-.3-.12 1.23 1.23 0 01-.27-.18.88.88 0 01-.2-.26.82.82 0 01-.08-.36.9.9 0 01.08-.4.83.83 0 01.23-.29c.1-.08.22-.14.36-.18.14-.05.3-.07.48-.07a1.94 1.94 0 01.92.21l-.2.56a1.75 1.75 0 00-.3-.12 1.19 1.19 0 00-.37-.05.7.7 0 00-.37.07c-.07.04-.1.11-.1.21 0 .06 0 .1.03.14a.43.43 0 00.12.11l.17.09.21.07c.17.06.3.12.43.18.12.06.22.13.3.2.07.09.13.18.17.28.04.1.06.23.06.38 0 .3-.1.52-.3.68-.2.16-.51.24-.93.24-.13 0-.26 0-.37-.02a1.86 1.86 0 01-.52-.14 1.8 1.8 0 01-.15-.08l.2-.55c.1.05.2.1.34.14.14.03.3.05.5.05zm4-2.59v.6h-.94v2.52h-.7v-2.52h-.94v-.6h2.58zm1.15 2.55h.27c.35 0 .61-.08.78-.26.17-.18.26-.42.26-.73 0-.33-.08-.58-.25-.74-.16-.17-.42-.26-.77-.26a2.53 2.53 0 00-.14 0 1.09 1.09 0 00-.15.02v1.97zm2.03-1c0 .28-.04.51-.13.71a1.3 1.3 0 01-.36.5 1.5 1.5 0 01-.56.3 2.62 2.62 0 01-.74.1c-.13 0-.28 0-.45-.02a3.38 3.38 0 01-.5-.06V19.1a6.87 6.87 0 01.97-.07c.26 0 .5.03.72.09.22.06.4.15.56.28.16.13.28.3.36.5.09.2.13.44.13.72z"})),o().createElement("defs",null,o().createElement("clipPath",{id:"a"},o().createElement("path",{fill:"#fff",d:"M0 0h24v24H0z"}))))},SwapFree:function(e){e.styles;var t=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,W);return o().createElement("svg",V({viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),o().createElement("path",{d:"M26 0H6a6 6 0 00-6 6v17.5h32V6a6 6 0 00-6-6z",fill:"#0364B9"}),o().createElement("path",{d:"M6 0a6 6 0 00-6 6v.17l29.91-4.72A5.98 5.98 0 0026 0H6zm26 6c0-1.5-.55-2.88-1.47-3.93L26.6 23.5H32V6z",fill:"#0A559E"}),o().createElement("path",{d:"M0 23h32v3a6 6 0 01-6 6H6a6 6 0 01-6-6v-3z",fill:"#0CC"}),o().createElement("path",{d:"M7.35 9.68l.49.99a44.57 44.57 0 011.2 2.64l.56 1.33.57-1.33a78.87 78.87 0 011.18-2.64l.5-.99h1.71a52.27 52.27 0 01.4 4l.14 2.22.12 2.1H12.4l-.1-2.64c-.04-.95-.1-1.91-.18-2.88a517.56 517.56 0 01-1 2.34 108.94 108.94 0 01-.9 2.12H8.9a118.46 118.46 0 00-.92-2.12l-.51-1.22L7 12.48c-.08.97-.14 1.93-.18 2.88L6.72 18H4.9l.1-2.1.15-2.22.18-2.14c.07-.68.15-1.3.23-1.86h1.79zm14 0v1.6h-2.5V18h-1.87v-6.72h-2.51v-1.6h6.89zm3.97 5.87a1.18 1.18 0 00-.15-.61c-.1-.18-.29-.34-.54-.46a3.8 3.8 0 00-1.04-.27 11.46 11.46 0 00-1.63-.1 50.7 50.7 0 00.35-4.43h4.5v1.5h-3a25.92 25.92 0 01-.12 1.54 4.4 4.4 0 012.58.83c.56.46.84 1.11.84 1.94 0 .39-.07.74-.2 1.07a2.3 2.3 0 01-.62.85 2.9 2.9 0 01-1.03.57 4.56 4.56 0 01-2.12.15 6.41 6.41 0 01-.69-.1 7.3 7.3 0 01-.58-.14 2.3 2.3 0 01-.41-.14l.32-1.48a5.02 5.02 0 001.97.38c.55 0 .95-.1 1.2-.32s.37-.48.37-.78zM11.31 28.87c.13 0 .24 0 .32-.03a.69.69 0 00.21-.09.32.32 0 00.11-.14.48.48 0 00.03-.17c0-.14-.06-.25-.19-.34-.13-.09-.35-.19-.66-.3a5.76 5.76 0 01-.4-.15 1.63 1.63 0 01-.38-.24 1.17 1.17 0 01-.26-.34 1.09 1.09 0 01-.1-.5 1.11 1.11 0 01.41-.91c.14-.1.3-.18.48-.24.2-.06.4-.09.64-.09a2.59 2.59 0 011.23.29l-.27.74a2.33 2.33 0 00-.39-.16 1.58 1.58 0 00-.51-.07.93.93 0 00-.49.1c-.1.05-.14.15-.14.28 0 .07.02.14.05.19.04.05.09.1.15.14l.23.12.29.1c.22.08.4.16.56.24.16.07.3.16.4.27a.97.97 0 01.24.36c.05.14.08.31.08.51 0 .4-.14.7-.41.91-.27.21-.68.32-1.23.32-.18 0-.35-.01-.5-.04a2.48 2.48 0 01-.69-.18 2.41 2.41 0 01-.2-.1l.26-.74c.13.06.28.13.46.18a2.5 2.5 0 00.67.08zm5.09-3l.15.56.2.63.2.66c.06.22.13.43.2.62a18.97 18.97 0 00.3-1.41 62.02 62.02 0 00.28-1.5h.97a40.98 40.98 0 01-.49 2.11c-.18.72-.37 1.4-.59 2.04h-.85a28.26 28.26 0 01-.41-1.2l-.4-1.27-.38 1.27c-.13.42-.26.82-.4 1.2h-.86a32 32 0 01-.6-2.04c-.17-.71-.33-1.42-.47-2.11h1.01a43.02 43.02 0 00.28 1.5 58.65 58.65 0 00.33 1.4 12.62 12.62 0 00.4-1.28l.18-.63.15-.55h.8zm2.9 3.71v-4.15h2.78v.78h-1.84v.87h1.64v.79h-1.64v1.72h-.94z",fill:"#fff"}))},ZeroSpread:function(e){e.styles;var t=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,q);return o().createElement("svg",H({viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),o().createElement("g",{clipPath:"url(#prefix__clip0_29689_37799)"},o().createElement("path",{d:"M39 0H9a9 9 0 00-9 9v26.25h48V9a9 9 0 00-9-9z",fill:"#0364B9"}),o().createElement("path",{d:"M9 0a9 9 0 00-9 9v.26l44.87-7.08A8.96 8.96 0 0039 0H9zm39 9c0-2.26-.83-4.32-2.2-5.9l-5.9 32.15H48V9z",fill:"#0A559E"}),o().createElement("path",{d:"M0 34.5h48V39a9 9 0 01-9 9H9a9 9 0 01-9-9v-4.5z",fill:"#9C0ABD"}),o().createElement("path",{d:"M11.02 14.53a41.62 41.62 0 011.62 3.37c.31.66.62 1.35.92 2.06l.84 2 .85-2A118.3 118.3 0 0117.03 16c.29-.59.54-1.08.76-1.47h2.55a78.41 78.41 0 01.6 6c.08 1.1.15 2.2.21 3.32.08 1.12.14 2.17.18 3.15H18.6a323.86 323.86 0 00-.15-3.96 106.97 106.97 0 00-.27-4.32l-.72 1.67-.79 1.84a163.42 163.42 0 01-1.35 3.19h-1.96a177.69 177.69 0 00-1.37-3.19l-.77-1.84-.72-1.67a106.97 106.97 0 00-.27 4.32L10.08 27H7.35l.16-3.15.22-3.33a71.5 71.5 0 01.61-6h2.68zm21.02 0v2.39h-3.76V27h-2.81V16.92H21.7v-2.4h10.33zm5.94 8.8a1.77 1.77 0 00-.23-.92c-.16-.28-.43-.5-.81-.68a5.7 5.7 0 00-1.55-.42 17.2 17.2 0 00-2.45-.14c.13-1.12.24-2.25.33-3.4.08-1.16.15-2.24.2-3.24h6.74v2.25h-4.5c-.02.43-.05.85-.09 1.26a18.04 18.04 0 01-.09 1.04c1.76.12 3.05.53 3.87 1.24.84.7 1.26 1.67 1.26 2.92 0 .57-.1 1.1-.3 1.6-.2.5-.51.92-.92 1.28-.4.36-.92.64-1.55.84a7.78 7.78 0 01-3.19.23 9.62 9.62 0 01-1.02-.15c-.32-.06-.62-.13-.88-.2a3.46 3.46 0 01-.61-.22l.48-2.21c.3.13.7.26 1.19.4.5.11 1.08.17 1.76.17.83 0 1.43-.16 1.8-.48.38-.34.56-.73.56-1.17zM20.72 39.1a25.4 25.4 0 00-2.34 2.95c-.27.4-.52.78-.73 1.14h3.17v1.18h-4.9v-.84c.17-.3.37-.64.61-1.02a41.8 41.8 0 01.76-1.13 27.73 27.73 0 011.57-2.07h-2.8v-1.18h4.66v.97zm2.92-1.04c.94 0 1.66.17 2.15.5.5.33.75.85.75 1.55 0 .44-.1.8-.3 1.07-.2.27-.5.49-.87.64a7.97 7.97 0 01.8 1.17 9.3 9.3 0 01.75 1.38h-1.58a74.68 74.68 0 00-.7-1.24 11.3 11.3 0 00-.73-1.04h-.69v2.28h-1.4v-6.15c.3-.06.62-.1.94-.13a12.3 12.3 0 01.88-.03zm.08 1.2h-.27a35.48 35.48 0 00-.23.02V41h.4c.52 0 .9-.07 1.13-.2.23-.13.34-.36.34-.68 0-.3-.12-.52-.35-.65-.23-.13-.57-.2-1.02-.2zm5.8 4.04c.2 0 .36-.02.49-.05.13-.03.23-.08.31-.13a.48.48 0 00.16-.21.72.72 0 00.05-.26c0-.2-.1-.37-.29-.5-.2-.14-.52-.29-.99-.45a8.64 8.64 0 01-.61-.24 2.45 2.45 0 01-.55-.35 1.75 1.75 0 01-.4-.51 1.64 1.64 0 01-.15-.74c0-.29.05-.55.16-.77.11-.24.26-.44.46-.6.2-.16.44-.28.72-.37a3.88 3.88 0 012.8.3l-.4 1.1a3.5 3.5 0 00-.59-.23 2.37 2.37 0 00-.77-.1c-.33 0-.58.04-.73.14-.14.09-.21.23-.21.42 0 .11.03.21.08.29.06.08.13.15.23.21a2.87 2.87 0 00.77.33c.32.12.6.24.85.36.24.11.43.25.59.4.16.16.28.34.36.55.08.21.12.47.12.77 0 .58-.2 1.03-.62 1.36-.4.31-1.02.47-1.84.47a4.7 4.7 0 01-.75-.05 4.53 4.53 0 01-.6-.12 3.73 3.73 0 01-.43-.15 3.62 3.62 0 01-.3-.15l.39-1.12c.18.1.41.2.68.28.28.08.61.12 1.01.12z",fill:"#fff"})),o().createElement("defs",null,o().createElement("clipPath",{id:"prefix__clip0_29689_37799"},o().createElement("path",{fill:"#fff",d:"M0 0h48v48H0z"}))))},Gold:function(e){e.styles;var t=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,F);return o().createElement("svg",R({viewBox:"0 0 49 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),o().createElement("path",{d:"M39.5 0h-30a9 9 0 00-9 9v26.25h48V9a9 9 0 00-9-9z",fill:"#0364B9"}),o().createElement("path",{d:"M9.5 0a9 9 0 00-9 9v.26l44.87-7.08A8.96 8.96 0 0039.5 0h-30zm39 9c0-2.26-.83-4.32-2.2-5.9l-5.9 32.15h8.1V9z",fill:"#0A559E"}),o().createElement("path",{d:"M.5 34.5h48V39a9 9 0 01-9 9h-30a9 9 0 01-9-9v-4.5z",fill:"#DAAF0A"}),o().createElement("path",{d:"M11.51 14.53a41.62 41.62 0 011.62 3.37c.31.66.62 1.35.92 2.06l.85 2 .84-2A118.3 118.3 0 0117.52 16c.3-.59.54-1.08.76-1.47h2.56a78.41 78.41 0 01.6 6c.07 1.1.15 2.2.2 3.32.08 1.12.14 2.17.19 3.15h-2.74a323.86 323.86 0 00-.14-3.96 106.97 106.97 0 00-.27-4.32l-.72 1.67-.8 1.84a163.42 163.42 0 01-1.34 3.19h-1.97a177.69 177.69 0 00-1.36-3.19l-.78-1.84-.72-1.67a106.97 106.97 0 00-.27 4.32L10.58 27H7.84L8 23.85l.22-3.33a71.5 71.5 0 01.61-6h2.68zm21.02 0v2.39h-3.76V27h-2.8V16.92H22.2v-2.4h10.33zm5.95 8.8a1.77 1.77 0 00-.24-.92c-.15-.28-.42-.5-.8-.68a5.7 5.7 0 00-1.56-.42 17.2 17.2 0 00-2.44-.14 129 129 0 00.52-6.64h6.75v2.25h-4.5l-.1 1.26a18.04 18.04 0 01-.08 1.04c1.75.12 3.04.53 3.87 1.24.84.7 1.26 1.67 1.26 2.92 0 .57-.1 1.1-.3 1.6-.21.5-.52.92-.93 1.28-.4.36-.92.64-1.54.84a7.79 7.79 0 01-3.19.23 9.62 9.62 0 01-1.03-.15c-.32-.06-.61-.13-.88-.2a3.46 3.46 0 01-.6-.22l.48-2.21c.3.13.7.26 1.18.4.5.11 1.08.17 1.77.17.83 0 1.43-.16 1.8-.48.37-.34.56-.73.56-1.17zm-22.79 15.9c-.65 0-1.12.18-1.42.54-.29.36-.43.86-.43 1.49 0 .3.04.58.1.83.08.25.19.46.33.64a1.51 1.51 0 001.3.57 6.32 6.32 0 00.7-.05v-2.17h1.4v3.1a5.05 5.05 0 01-.81.2 6.85 6.85 0 01-1.38.12c-.47 0-.9-.08-1.28-.22a2.67 2.67 0 01-.97-.63 2.86 2.86 0 01-.63-1.02 4.07 4.07 0 01-.22-1.37c0-.53.08-.99.25-1.39a2.94 2.94 0 011.65-1.66 3.46 3.46 0 011.23-.21 4.41 4.41 0 011.4.2 2.65 2.65 0 01.67.27l-.41 1.13a3.42 3.42 0 00-.67-.26 2.67 2.67 0 00-.8-.12zm4.46 2.03c0 .3.04.58.1.82.09.25.2.46.33.64a1.5 1.5 0 001.23.55c.25 0 .48-.05.69-.14.2-.1.38-.23.52-.4.14-.19.25-.4.32-.65.08-.24.12-.52.12-.82 0-.31-.04-.59-.12-.83a1.74 1.74 0 00-.32-.64 1.36 1.36 0 00-.52-.41 1.6 1.6 0 00-.7-.15 1.55 1.55 0 00-.7.15 1.45 1.45 0 00-.52.42 1.94 1.94 0 00-.32.64 2.91 2.91 0 00-.11.82zm4.76 0c0 .53-.08 1-.24 1.4a2.9 2.9 0 01-.65 1.03c-.28.27-.6.47-.99.6a3.54 3.54 0 01-1.22.22 3.49 3.49 0 01-1.21-.21 2.8 2.8 0 01-.99-.61 2.94 2.94 0 01-.67-1.02c-.16-.4-.24-.88-.24-1.41 0-.54.09-1 .25-1.4a2.85 2.85 0 011.66-1.65 3.44 3.44 0 011.2-.21c.42 0 .82.07 1.2.2a2.75 2.75 0 011.66 1.65c.16.4.24.87.24 1.4zm5.34 1.91v1.2h-4.17v-6.23h1.4v5.03h2.77zm2.3.07l.23.01h.32c.7 0 1.22-.17 1.55-.53.35-.35.52-.84.52-1.46 0-.66-.17-1.15-.49-1.49-.32-.34-.84-.5-1.54-.5a5.06 5.06 0 00-.3 0l-.28.02v3.95zm4.07-1.98c0 .54-.09 1-.26 1.4a2.6 2.6 0 01-.72 1 3 3 0 01-1.12.6 5.24 5.24 0 01-1.5.2c-.25 0-.54-.01-.88-.04a6.77 6.77 0 01-.99-.12v-6.08a13.74 13.74 0 011.92-.15c.53 0 1.02.06 1.45.18.44.12.81.3 1.12.57.32.25.56.58.72.99.17.4.26.88.26 1.45z",fill:"#fff"}))}};const K=function(e){var t=e.icon,r=e.className,n=e.size,a=e.onClick,i=$[t];return i?o().createElement(i,{className:r,style:{width:n,height:n},onClick:a}):null},J=function(e){var t,r,n=e.account,i=e.size,c=e.icon_class_name,l=e.appstore_icon_class_name,s=e.appstoreIconOnClickHandler;return n.is_mt&&n.platform_icon?o().createElement(K,{icon:n.platform_icon,size:i,className:l,onClick:s}):o().createElement(a.Icon,{icon:n.platform_icon||"IcCurrency-".concat(null==n||null===(t=n.currency)||void 0===t?void 0:t.toLowerCase()),size:i,className:c,data_testid:"dt_account_platform_icon_".concat(n.platform_icon||"currency_".concat(null==n||null===(r=n.currency)||void 0===r?void 0:r.toLowerCase()))})};var X=r("./components/crypto-fiat-converter/index.ts"),Q=r("./components/error-dialog/index.ts"),Z=r("./components/percentage-selector/index.ts"),ee=r("react-router");function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function re(){re=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new z(n||[]);return o(i,"_invoke",{value:S(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",d="suspendedYield",h="executing",p="completed",y={};function v(){}function _(){}function g(){}var b={};s(b,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(j([])));E&&E!==r&&n.call(E,i)&&(b=E);var x=g.prototype=v.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==te(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function S(t,r,n){var o=m;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===p){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=A(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?p:d,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=p,n.method="throw",n.arg=s.arg)}}}function A(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,A(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function j(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(te(t)+" is not iterable")}return _.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:_,configurable:!0}),_.displayName=s(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},k(O.prototype),s(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new O(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(x),s(x,l,"Generator"),s(x,i,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=j,z.prototype={constructor:z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:j(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function ne(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ie=(0,d.observer)((function(e){var t=e.onClose,r=e.history,n=(0,h.A)(),i=n.common,l=n.client,s=n.traders_hub,u=(0,p.q)().account_transfer,f=i.is_from_derivgo,m=i.is_from_outside_cashier,d=l.loginid,y=l.switchAccount,v=s.closeAccountTransferModal,_=(0,j.Y)().isDesktop,g=u.receipt,b=u.resetAccountTransfer,w=u.selected_from,x=u.selected_to,k=u.setShouldSwitchAccount,O=oe(o().useState(!1),2),S=O[0],A=O[1],L=oe(o().useState({}),2),C=L[0],z=L[1];o().useEffect((function(){return function(){b(),v()}}),[b]);var N=function(){r.push(c.routes.statement),b()},T=function(){var e,t=(e=re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(C.value);case 2:N();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){ne(a,n,o,i,c,"next",e)}function c(e){ne(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),P=function(){A(!S)};return o().createElement("div",{className:"account-transfer-receipt__crypto"},o().createElement(a.Text,{as:"h2",color:"prominent",align:"center",weight:"bold",className:"cashier__header"},o().createElement(E.Localize,{i18n_default_text:"Your funds have been transferred"})),o().createElement("div",{className:"account-transfer-receipt__crypto--amount"},o().createElement(a.Text,{as:"p",size:"l",weight:"bold",color:"profit-success"},o().createElement(E.Localize,{i18n_default_text:"{{amount}} {{currency}}",values:{amount:g.amount_transferred,currency:(0,c.getCurrencyDisplayCode)(w.currency)}}))),o().createElement("div",{className:"account-transfer-receipt__crypto--details-wrapper"},o().createElement("div",{className:"crypto-transfer-from"},o().createElement("div",{className:"crypto-transfer-from-details"},o().createElement(J,{account:w,size:32}),o().createElement(a.Text,{as:"p",size:"s",weight:"bold"},o().createElement(E.Localize,{i18n_default_text:w.text}))),!f&&o().createElement(a.Text,{as:"p",size:"s",color:"less-prominent",align:"center"},w.value)),o().createElement(a.Icon,{className:"crypto-transferred-icon",icon:"IcArrowDownBold"}),o().createElement("div",{className:"crypto-transfer-to"},o().createElement("div",{className:"crypto-transfer-to-details"},o().createElement(J,{account:x,size:32}),o().createElement(a.Text,{as:"p",size:"s",weight:"bold"},o().createElement(E.Localize,{i18n_default_text:x.text}))),!f&&o().createElement(a.Text,{as:"p",size:"s",color:"less-prominent",align:"center"},x.value))),o().createElement("div",{className:"account-transfer-receipt__crypto--form-submit"},!f&&o().createElement(a.Button,{className:"account-transfer-receipt__button",has_effect:!0,text:(0,E.localize)("View transaction details"),onClick:function(){x.value===d||(x.is_mt||x.is_dxtrade||x.is_ctrader)&&w.value===d?N():(k(!0),z(x.is_mt?w:x),P())},secondary:!0,large:!0}),o().createElement(a.Button,{className:"account-transfer-receipt__button",has_effect:!0,text:m?(0,E.localize)("Close"):(0,E.localize)("Make a new transfer"),onClick:m?t:b,primary:!0,large:!0})),o().createElement(a.Modal,{is_open:S,toggleModal:P,has_close_icon:!_,className:"account_transfer_switch_modal",small:!0,title:(0,E.localize)("Switch to ".concat(C.currency," account?"))},o().createElement(a.Modal.Body,null,o().createElement(E.Localize,{i18n_default_text:"Were switching over to your {{currency}} account to view the transaction.",values:{currency:C.currency}})),o().createElement(a.Modal.Footer,null,o().createElement(a.Button,{has_effect:!0,text:(0,E.localize)("Cancel"),onClick:function(){k(!1),P()},secondary:!0,large:!0}),o().createElement(a.Button,{has_effect:!0,text:(0,E.localize)("Switch to ".concat(C.currency," account")),onClick:T,primary:!0,large:!0}))))}));const ce=(0,ee.withRouter)(ie);function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},se.apply(null,arguments)}function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function fe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function me(e,t,r){return(t=function(e){var t=function(e){if("object"!=le(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=le(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==le(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return he(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?he(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var pe,ye=function(e){var t=e.account,r=e.idx,n=e.is_pending_verification,i=e.is_verification_failed,l=e.is_verification_needed,s=e.is_account_unavailable,u=e.is_server_maintenance,f=t.is_dxtrade||t.is_ctrader||t.is_mt,m=n||l||i||u||s;return o().createElement(o().Fragment,{key:r},(t.currency||t.platform_icon)&&o().createElement("div",{className:"account-transfer-form__icon"},o().createElement(J,{account:t,size:16})),o().createElement("div",{className:"account-transfer-form__currency-wrapper"},o().createElement(a.Text,{size:"xxs",line_height:"xs",styles:{color:"prominent",fontWeight:"inherit"}},f?t.text:(0,c.getCurrencyName)(t.currency)),o().createElement(a.Text,{size:"xxxs",align:"left",color:"less-prominent"},t.value)),o().createElement("span",{className:"account-transfer-form__balance"},m?n?o().createElement(a.Text,{color:"warning",size:"xs"},o().createElement(E.Localize,{i18n_default_text:"In review"})):l?o().createElement(a.Text,{color:"info-blue",size:"xs"},o().createElement(E.Localize,{i18n_default_text:"Needs verification"})):i?o().createElement(a.Text,{color:"red",size:"xs"},o().createElement(E.Localize,{i18n_default_text:"Failed"})):u?o().createElement(a.StatusBadge,{account_status:"under_maintenance",icon:"IcAlertWarning",text:"Server Maintenance"}):s?o().createElement(a.StatusBadge,{account_status:c.TRADING_PLATFORM_STATUS.UNAVAILABLE,icon:"IcAlertWarning",text:"Unavailable"}):void 0:o().createElement(a.Money,{amount:t.balance,currency:t.currency,has_sign:Boolean(t.balance&&Number(t.balance)<0),show_currency:!0})))},ve=[],_e=[],ge=[],be=[],we=[],Ee=[],xe=[],ke=[],Oe=!1,Se=(0,d.observer)((function(e){var t,r=e.error,n=e.onClickDeposit,i=e.onClickNotes,l=e.onClose,s=e.TradingPlatformStatusData,u=de(o().useState("right"),2),f=u[0],m=u[1],d=(0,h.A)(),y=d.client,v=d.common.is_from_outside_cashier,_=d.traders_hub.closeAccountTransferModal,g=(0,j.Y)(),b=g.isDesktop,x=g.isMobile,k=y.account_limits,O=y.authentication_status,S=y.getLimits,N=(0,C.A)(),T=(0,p.q)(),P=T.account_transfer,I=T.crypto_fiat_converter,D=T.general_store,M=(0,z.A)().handleSubscription,F=P.account_transfer_amount,R=P.accounts_list,U=P.onChangeTransferFrom,G=P.onChangeTransferTo,B=P.requestTransferBetweenAccounts,Y=P.selected_from,W=P.selected_to,V=P.setAccountTransferAmount,q=P.error.setErrorMessage,H=P.setTransferPercentageSelectorResult,$=P.transfer_limit,K=P.validateTransferFromAmount,J=P.validateTransferToAmount,ee=P.is_transfer_confirm,te=D.percentage,re=D.should_percentage_reset,ne=I.converter_from_amount,oe=I.converter_from_error,ae=I.converter_to_amount,ie=I.converter_to_error,le=I.onChangeConverterFromAmount,ue=I.onChangeConverterToAmount,he=I.resetConverter,Se=W.status===c.MT5_ACCOUNT_STATUS.MIGRATED_WITH_POSITION||W.status===c.MT5_ACCOUNT_STATUS.MIGRATED_WITHOUT_POSITION,Ae=de(o().useState({}),2),Le=Ae[0],Ce=Ae[1],ze=de(o().useState({}),2),je=ze[0],Ne=ze[1],Te=de(o().useState(),2),Pe=Te[0],Ie=Te[1],De=k.daily_transfers,Me=null==De?void 0:De.mt5,Fe=null==De?void 0:De.ctrader,Re=null==De?void 0:De.dxtrade,Ue=null==De?void 0:De.internal,Ge=W.is_mt||Y.is_mt,Be=W.is_ctrader||Y.is_ctrader,Ye=W.is_dxtrade||Y.is_dxtrade,We="pending"===N,Ve="needs_verification"===N,qe="failed"===N,He=We||Ve||qe,$e=[Y.status,W.status].includes(c.MT5_ACCOUNT_STATUS.UNAVAILABLE),Ke=[Y.status,W.status].includes(c.MT5_ACCOUNT_STATUS.UNDER_MAINTENANCE),Je=(0,c.getPlatformSettings)(c.CFD_PLATFORMS.DXTRADE).name,Xe=(0,w.useHistory)(),Qe=function(e){if(!e)return(0,E.localize)("This field is required.");if(Ve||qe)return o().createElement(E.Localize,{i18n_default_text:"<0>Verify your account to transfer funds.</0> <1>Verify now</1>",components:[o().createElement(a.Text,{color:"var(--status-info)",key:0,size:x?"xxxs":"xxs"}),o().createElement(w.Link,{className:"account-transfer-form__link",key:1,onClick:_,to:"/account/proof-of-identity"})]});if(We)return o().createElement(a.Text,{color:"var(--status-info)",size:x?"xxxs":"xxs"},o().createElement(E.Localize,{i18n_default_text:"Unavailable as your documents are still under review"}));var t=(0,c.validNumber)(e,{type:"float",decimals:(0,c.getDecimalPlaces)(Y.currency||""),min:Number($.min),max:Number($.max)}),r=t.is_ok,n=t.message;return r?void 0!==Y.balance&&Number(Y.balance)<Number(e)?(0,E.localize)("Insufficient balance"):void 0:n},Ze=function(e,t){var r=t.is_mt,n=t.is_ctrader,o=t.is_dxtrade;return"from"===e?r?xe:n?ge:o?we:ve:"to"===e?r?ke:n?be:o?Ee:_e:[]};o().useEffect((function(){if(null!=Y&&Y.currency&&null!=W&&W.currency){var e="right"===f,t=e?Y.currency:W.currency,r=e?W.currency:Y.currency;M(t,r)}}),[Y,W,f,M]),o().useEffect((function(){S()}),[S]),o().useEffect((function(){ve=[],xe=[],ge=[],we=[],_e=[],ke=[],be=[],Ee=[],R.forEach((function(e,t){var r,n,a=e.value===Y.value;n=e.is_mt?c.CFD_PLATFORMS.MT5:e.is_ctrader?c.CFD_PLATFORMS.CTRADER:c.CFD_PLATFORMS.DXTRADE;var i=(null==s||null===(r=s.find((function(e){return(null==e?void 0:e.platform)===n})))||void 0===r?void 0:r.status)===c.TRADING_PLATFORM_STATUS.MAINTENANCE||e.status===c.MT5_ACCOUNT_STATUS.UNDER_MAINTENANCE,l=e.status===c.MT5_ACCOUNT_STATUS.UNAVAILABLE,u=o().createElement(ye,{idx:t,account:e,is_pending_verification:We,is_selected_from:a,is_account_unavailable:l,is_verification_failed:qe,is_verification_needed:Ve,is_server_maintenance:i}),f=e.value,m=e.is_mt||e.is_ctrader||e.is_dxtrade;if(Ze("from",e).push({text:u,value:f,is_mt:e.is_mt,is_ctrader:e.is_ctrader,is_dxtrade:e.is_dxtrade,nativepicker_text:"".concat(m?e.market_type:(0,c.getCurrencyName)(e.currency)," (").concat(e.balance," ").concat(m?e.currency:e.text,")")}),!(Y.is_mt&&(e.is_dxtrade||e.is_ctrader)||Y.is_dxtrade&&(e.is_mt||e.is_ctrader)||Y.is_ctrader&&(e.is_mt||e.is_dxtrade)||a)){var d=Y.is_mt&&e.is_mt,h=Y.is_ctrader&&e.is_ctrader,p=Y.is_dxtrade&&e.is_dxtrade,y=d||h||p;Ze("to",e).push({text:u,value:f,is_mt:e.is_mt,is_ctrader:e.is_ctrader,is_dxtrade:e.is_dxtrade,disabled:y,nativepicker_text:"".concat(m?e.market_type:(0,c.getCurrencyName)(e.currency)," (").concat(e.balance," ").concat(m?e.currency:e.text,")")})}})),Ce(fe(fe(fe(fe({},xe.length&&me({},(0,E.localize)("Deriv MT5 accounts"),xe)),ge.length&&me({},(0,E.localize)("Deriv cTrader accounts"),ge)),we.length&&me({},(0,E.localize)("{{platform_name_dxtrade}} accounts",{platform_name_dxtrade:Je}),we)),ve.length&&me({},(0,E.localize)("Deriv accounts"),ve))),Ne(fe(fe(fe(fe({},ke.length&&me({},(0,E.localize)("Deriv MT5 accounts"),ke)),be.length&&me({},(0,E.localize)("Deriv cTrader accounts"),be)),Ee.length&&me({},(0,E.localize)("{{platform_name_dxtrade}} accounts",{platform_name_dxtrade:Je}),Ee)),_e.length&&me({},(0,E.localize)("Deriv accounts"),_e)))}),[R,W,Y]),o().useEffect((function(){var e,t;if(pe=Number(null!==(e=Ge?null==Me?void 0:Me.available:Be?null==Fe?void 0:Fe.available:Ye?null==Re?void 0:Re.available:null==Ue?void 0:Ue.available)&&void 0!==e?e:0),Oe=!pe,Se)t=o().createElement(E.Localize,{i18n_default_text:"You can no longer open new positions with this account."});else if($e)t=o().createElement(E.Localize,{i18n_default_text:"The server is temporarily unavailable for this account. Were working to resolve this."});else if(Ke)t=o().createElement(E.Localize,{i18n_default_text:"Were currently performing server maintenance. Service may be affected.",components:[o().createElement("strong",{key:0})]});else{var r=pe>1?"transfers":"transfer";t=o().createElement(E.Localize,{i18n_default_text:"You have {{remaining_transfers}} {{transfer_text}} remaining for today.",values:{remaining_transfers:pe,transfer_text:r}})}Ie(t),he()}),[k,Se,Y,W]);var et=(null==Y?void 0:Y.is_mt)&&(null==Y||null===(t=Y.status)||void 0===t?void 0:t.includes("poa_failed"))&&"verified"!==(null==O?void 0:O.document_status),tt=(0,E.localize)("You will be able to transfer funds between MT5 accounts and other accounts once your address is verified."),rt=function(){return o().createElement(E.Localize,{i18n_default_text:"Please <0>resubmit</0> your proof of address to transfer funds between MT5 and Deriv accounts.",components:[o().createElement(w.Link,{key:0,to:c.routes.proof_of_address,className:"link dark"})]})},nt=function(){(0,c.startPerformanceEventTimer)("load_cashier_time"),n&&n(),Xe.push(c.routes.cashier_deposit)},ot=function(){return o().createElement("div",{className:"account-transfer-form__button-link",onClick:i},o().createElement(a.Text,{size:"xs",weight:"bold",color:"red"},o().createElement(E.Localize,{i18n_default_text:"Notes "})))};return ee?o().createElement(ce,{onClose:l}):o().createElement("div",{className:"cashier__wrapper account-transfer-form__wrapper","data-testid":"dt_account_transfer_form_wrapper"},!v&&o().createElement(a.Text,{as:"h2",color:"prominent",weight:"bold",align:"center",className:"cashier__header account-transfer-form__header"},(0,E.localize)("Transfer between your accounts in Deriv")),o().createElement(L.l1,{initialValues:{amount:F||"",converter_from_amount:ne||"",converter_to_amount:ae||""},onSubmit:function(){B({amount:F?Number(F):0})},validateOnBlur:!1,enableReinitialize:!0},(function(e){var t,n,i=e.errors,l=e.handleChange,s=e.isSubmitting,u=e.setFieldValue,d=e.setFieldError,h=e.values;return o().createElement(o().Fragment,null,s||0===R.length?o().createElement("div",{className:"cashier__loader-wrapper","data-testid":"dt_cashier_loader_wrapper"},o().createElement(a.Loading,{className:"cashier__loader",is_fullscreen:!1})):o().createElement(o().Fragment,null,Oe&&o().createElement("div",{className:"account-transfer-form__inline-warning-message"},o().createElement(a.InlineMessage,{message:(0,E.localize)("You have reached the maximum daily transfers. Please try again tomorrow."),size:"sm"})),o().createElement(L.lV,{className:"account-transfer-form",noValidate:!0},o().createElement("div",{className:"cashier__drop-down-wrapper account-transfer-form__drop-down-wrapper","data-testid":"dt_account_transfer_form_drop_down_wrapper"},o().createElement(a.Dropdown,{id:"transfer_from",className:A()("account-transfer-form__drop-down",{"account-transfer-form__drop-down--disabled":He}),classNameDisplay:"cashier__drop-down-display",classNameDisplaySpan:"cashier__drop-down-display-span",classNameItems:"cashier__drop-down-items",classNameLabel:"cashier__drop-down-label",disabled:He,test_id:"dt_account_transfer_form_drop_down",is_large:!0,label:(0,E.localize)("From"),list:Le,list_height:"404",name:"transfer_from",value:Y.value,onChange:function(e){U(e),l(e),u("amount",""),setTimeout((function(){return d("amount","")}))},error:Y.error}),o().createElement(a.Dropdown,{id:"transfer_to",className:"account-transfer-form__drop-down account-transfer-form__drop-down--to-dropdown",classNameDisplay:"cashier__drop-down-display",classNameDisplaySpan:"cashier__drop-down-display-span",classNameItems:"cashier__drop-down-items",classNameLabel:"cashier__drop-down-label",cclassNameHint:A()("account-transfer-form__hint",{"account-transfer-form__hint__disabled":Oe}),test_id:"dt_account_transfer_form_to_dropdown",is_large:!0,label:(0,E.localize)("To"),list:je,list_height:"404",initial_height_offset:b?180:160,name:"transfer_to",value:W.value,onChange:function(e){G(e),u("amount",""),setTimeout((function(){return d("amount","")}))},hint:Pe,error:null!==(t=et?"pending"===(null==O?void 0:O.document_status)?tt:o().createElement(rt,null):null)&&void 0!==t?t:W.error})),Y.currency===W.currency?o().createElement(L.D0,{name:"amount",validate:Qe},(function(e){var t=e.field;return o().createElement(a.Input,se({},t,{onChange:function(e){q({code:"",message:""}),l(e),V(e.target.value)},className:A()("cashier__input dc-input--no-placeholder account-transfer-form__input",{"account-transfer-form__input-fit-content":!v}),classNameHint:A()("account-transfer-form__hint",{"account-transfer-form__hint__disabled":et||Oe}),"data-testid":"dt_account_transfer_form_input",name:"amount",type:"text",label:(0,E.localize)("Amount"),error:i.amount?i.amount:"",required:!0,trailing_icon:Y.currency?o().createElement("span",{className:A()("symbols","symbols--".concat(Y.currency.toLowerCase()))},(0,c.getCurrencyDisplayCode)(Y.currency)):void 0,autoComplete:"off",maxLength:30,hint:$.max?o().createElement(E.Localize,{i18n_default_text:"Transfer limits: <0 /> - <1 />",components:[o().createElement(a.Money,{key:0,amount:$.min,currency:Y.currency,show_currency:!0}),o().createElement(a.Money,{key:1,amount:$.max,currency:Y.currency,show_currency:!0})]}):"",disabled:et}))})):o().createElement("div",{className:et?"account-transfer-form__crypto--disabled":""},o().createElement("div",{className:"account-transfer-form__crypto--percentage-selector"},o().createElement(Z.A,{amount:Y.balance?Number(Y.balance):0,from_account:Y.value,getCalculatedAmount:H,percentage:te,should_percentage_reset:re,to_account:W.value,from_currency:Y.currency||"",to_currency:W.currency||""})),o().createElement(X.A,{arrow_icon_direction:f,from_currency:Y.currency||"",to_currency:W.currency||"",hint:$.max?o().createElement(E.Localize,{i18n_default_text:"Transfer limits: <0 /> - <1 />",components:[o().createElement(a.Money,{key:0,amount:$.min,currency:Y.currency,show_currency:!0}),o().createElement(a.Money,{key:1,amount:$.max,currency:Y.currency,show_currency:!0})]}):"",onChangeConverterFromAmount:le,onChangeConverterToAmount:ue,resetConverter:he,setArrowIconDirection:m,validateFromAmount:K,validateToAmount:J})),o().createElement("div",{className:A()("cashier__form-submit","account-transfer-form__form-buttons",{"account-transfer-form__form-buttons--with-notes":v}),"data-testid":"dt_account_transfer_form_submit"},v&&o().createElement(ot,null),o().createElement("div",{className:"account-transfer-form__form-buttons__default"},o().createElement(a.Button,{is_disabled:qe,secondary:!0,large:!0,onClick:nt},o().createElement(E.Localize,{i18n_default_text:"Deposit"})),o().createElement(a.Button,{className:"account-transfer-form__submit-button",type:"submit",is_disabled:s||Oe||!!Y.error||!!W.error||Y.balance&&!Number(Y.balance)||!!oe||!!ie||!!i.amount||(n=h.amount,Y.currency===W.currency?!n:!ne)||et||$e||Ke,primary:!0,large:!0},o().createElement(E.Localize,{i18n_default_text:"Transfer"})))),!v&&o().createElement(Q.A,{error:r}))))})))}));Se.displayName="AccountTransferForm";const Ae=Se;var Le=function(e){var t=e.children;return o().createElement("div",{className:"account-transfer-form__bullet-wrapper"},o().createElement("div",{className:"account-transfer-form__bullet"}),o().createElement(a.Text,{size:"xxs"},t))},Ce=(0,d.observer)((function(){var e=(0,c.getPlatformSettings)("dxtrade").name,t=(0,c.getPlatformSettings)("mt5").name,r=(0,c.getPlatformSettings)("ctrader").name,i=(0,h.A)().client,l=i.account_limits,s=i.is_dxtrade_allowed,u=(0,p.q)().account_transfer,f=u.minimum_fee,m=u.selected_from,d=u.selected_to,y=u.transfer_fee,v=l.daily_transfers,_=null==v?void 0:v.mt5,g=null==v?void 0:v.ctrader,b=null==v?void 0:v.dxtrade,w=null==v?void 0:v.internal,x={internal:null==w?void 0:w.allowed,mt5:null==_?void 0:_.allowed,ctrader:null==g?void 0:g.allowed,dxtrade:null==b?void 0:b.allowed},k=m.currency||"",O=m.is_crypto&&d.is_crypto,S=d.is_dxtrade||m.is_dxtrade,A=d.is_mt||m.is_mt,L=(0,n.useCallback)((function(){return 0===y?s?o().createElement(E.Localize,{i18n_default_text:"We do not charge a transfer fee for transfers in the same currency between your Deriv fiat and {{platform_name_mt5}} accounts, between your Deriv fiat and {{platform_name_ctrader}} accounts, and between your Deriv fiat and {{platform_name_dxtrade}} accounts.",values:{platform_name_dxtrade:e,platform_name_mt5:t,platform_name_ctrader:r}}):o().createElement(E.Localize,{i18n_default_text:"Youll not be charged a transfer fee for transfers in the same currency between your Deriv fiat and {{platform_name_mt5}} accounts.",values:{platform_name_mt5:t}}):1===y?s?o().createElement(E.Localize,{i18n_default_text:"Well charge a 1% transfer fee for transfers in different currencies between your Deriv fiat and {{platform_name_mt5}} accounts and between your Deriv fiat and {{platform_name_dxtrade}} accounts.",values:{platform_name_dxtrade:e,platform_name_mt5:t}}):o().createElement(E.Localize,{i18n_default_text:"Well charge a 1% transfer fee for transfers in different currencies between your Deriv fiat and {{platform_name_mt5}} accounts.",values:{platform_name_mt5:t}}):2===y&&O?o().createElement(E.Localize,{i18n_default_text:"Well charge a 2% transfer fee or {{minimum_fee}} {{currency}}, whichever is higher, for transfers between your Deriv cryptocurrency accounts.",values:{minimum_fee:f,currency:(0,c.getCurrencyDisplayCode)(k)}}):2===y&&(A||S)?s?o().createElement(E.Localize,{i18n_default_text:"Well charge a 2% transfer fee or {{minimum_fee}} {{currency}}, whichever is higher, for transfers between your Deriv cryptocurrency and Deriv MT5 accounts and between your Deriv cryptocurrency and {{platform_name_dxtrade}} accounts.",values:{minimum_fee:f,currency:(0,c.getCurrencyDisplayCode)(k),platform_name_dxtrade:e}}):o().createElement(E.Localize,{i18n_default_text:"Well charge a 2% transfer fee or {{minimum_fee}} {{currency}}, whichever is higher, for transfers between your Deriv cryptocurrency and Deriv MT5 accounts.",values:{minimum_fee:f,currency:(0,c.getCurrencyDisplayCode)(k)}}):2!==y||A||S?null:o().createElement(E.Localize,{i18n_default_text:"Well charge a 2% transfer fee or {{minimum_fee}} {{currency}}, whichever is higher, for transfers between your Deriv fiat and Deriv cryptocurrency accounts.",values:{minimum_fee:f,currency:(0,c.getCurrencyDisplayCode)(k)}})}),[k,O,s,S,A,f,e,t,r,y,m.value,d.value]),C=(0,n.useCallback)((function(){return s?o().createElement(o().Fragment,null,o().createElement(Le,null,o().createElement(E.Localize,{i18n_default_text:"You may transfer between your Deriv fiat, cryptocurrency, {{platform_name_mt5}}, {{platform_name_ctrader}}, and {{platform_name_dxtrade}} accounts.",values:{platform_name_dxtrade:e,platform_name_mt5:t,platform_name_ctrader:r}})),o().createElement(Le,null,o().createElement(E.Localize,{i18n_default_text:"Each day, you can make up to {{ allowed_internal }} transfers between your Deriv accounts, up to {{ allowed_mt5 }} transfers between your Deriv and {{platform_name_mt5}} accounts, up to {{ allowed_ctrader }} transfers between your Deriv and {{platform_name_ctrader}} accounts, and up to {{ allowed_dxtrade }} transfers between your Deriv and {{platform_name_dxtrade}} accounts.",values:{allowed_internal:null==x?void 0:x.internal,allowed_mt5:null==x?void 0:x.mt5,allowed_dxtrade:null==x?void 0:x.dxtrade,allowed_ctrader:null==x?void 0:x.ctrader,platform_name_dxtrade:e,platform_name_mt5:t,platform_name_ctrader:r}}))):o().createElement(o().Fragment,null,o().createElement(Le,null,o().createElement(E.Localize,{i18n_default_text:"You may transfer between your Deriv fiat, cryptocurrency, and {{platform_name_mt5}} accounts.",values:{platform_name_mt5:t}})),o().createElement(Le,null,o().createElement(E.Localize,{i18n_default_text:"Each day, you can make up to {{ allowed_internal }} transfers between your Deriv accounts and up to {{ allowed_mt5 }} transfers between your Deriv and {{platform_name_mt5}} accounts.",values:{allowed_internal:null==x?void 0:x.internal,allowed_mt5:null==x?void 0:x.mt5,platform_name_mt5:t}})))}),[null==x?void 0:x.dxtrade,null==x?void 0:x.internal,null==x?void 0:x.ctrader,null==x?void 0:x.mt5,s,e,t,r,m.value,d.value]);return o().createElement(a.SideNote,{title:o().createElement(E.Localize,{i18n_default_text:"Notes"})},C(),o().createElement(Le,null,o().createElement(E.Localize,{i18n_default_text:"Transfer limits may vary depending on the exchange rates."})),o().createElement(Le,null,L()," ",o().createElement(E.Localize,{i18n_default_text:"Please bear in mind that some transfers may not be possible."})),o().createElement(Le,null,o().createElement(E.Localize,{i18n_default_text:"Transfers may be unavailable due to high volatility or technical issues and when the exchange markets are closed."})))}));const ze=Ce;function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function Ne(){Ne=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new z(n||[]);return o(i,"_invoke",{value:S(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",d="suspendedYield",h="executing",p="completed",y={};function v(){}function _(){}function g(){}var b={};s(b,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(j([])));E&&E!==r&&n.call(E,i)&&(b=E);var x=g.prototype=v.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==je(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function S(t,r,n){var o=m;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===p){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=A(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?p:d,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=p,n.method="throw",n.arg=s.arg)}}}function A(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,A(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function j(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(je(t)+" is not iterable")}return _.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:_,configurable:!0}),_.displayName=s(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},k(O.prototype),s(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new O(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(x),s(x,l,"Generator"),s(x,i,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=j,z.prototype={constructor:z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:j(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function Te(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ie=(0,d.observer)((function(e){var t=e.onClickDeposit,r=e.onClickNotes,n=e.onClose,l=(0,h.A)().client,s=(0,p.q)(),u=s.account_transfer,f=s.general_store,d=u.accounts_list,w=u.error,E=u.has_no_account,x=u.has_no_accounts_balance,S=u.is_transfer_locked,A=u.onMountAccountTransfer,L=u.setAccountTransferAmount,C=u.setIsTransferConfirm,z=f.is_loading,j=(0,i.A)(),N=m().data,T=l.is_switching,P=l.is_virtual,I=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o().useState(!0),2),D=I[0],M=I[1];return o().useEffect((function(){var e;return A(),(e=Ne().mark((function e(){return Ne().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.WS.wait("authorize","website_status","get_settings","paymentagent_list");case 3:M(!1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){Te(a,n,o,i,c,"next",e)}function c(e){Te(a,n,o,i,c,"throw",e)}i(void 0)}))})(),function(){L(""),C(!1)}}),[]),P?o().createElement(y.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(b.A,null)):z||T||D||!N?o().createElement(y.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(a.Loading,{className:"cashier__loader",is_fullscreen:!1})):j?o().createElement(y.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(v.A,null)):S?o().createElement(y.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(k,null)):w.is_show_full_page||w.message&&!d.length?o().createElement(y.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(_.A,{error:w})):E?o().createElement(y.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(O,null)):x?o().createElement(y.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(g.A,{onClickDeposit:t})):o().createElement(y.A,{hide_breadcrumb:!0,right:o().createElement(ze,null)},o().createElement(Ae,{onClose:n,error:w,onClickDeposit:t,onClickNotes:r,TradingPlatformStatusData:N}))}));const De=Ie},"./pages/deposit/index.ts":(e,t,r)=>{r.d(t,{default:()=>xe});var n=r("react"),o=r.n(n),a=r("../../hooks/src/useDepositLocked.ts"),i=r("../../hooks/src/useCurrentCurrencyConfig.ts"),c=r("mobx-react-lite"),l=r("../../stores/src/useStore.ts"),s=r("./stores/useCashierStores.tsx"),u=r("@deriv-com/analytics");const f=function(){var e=(0,l.A)().client.account_list,t=(0,l.A)().client.active_accounts.some((function(e){return 0===e.is_virtual}));return e.filter((function(e){return!e.is_virtual})).some((function(e){return"Real"!==e.title&&"Investment"!==e.title}))||!t};var m=r("react-router"),d=r("./components/page-container/index.ts"),h=r("@deriv/components"),p=r("@deriv/translations");const y=(0,c.observer)((function(){var e=(0,l.A)().client.loginid,t=(0,i.A)();return o().createElement(h.InlineMessage,{type:"information",size:"sm",message:o().createElement(p.Localize,{i18n_default_text:"This is your <0>{{currency}}</0> account {{loginid}}.",values:{currency:null==t?void 0:t.display_code,loginid:e},components:[o().createElement("strong",{key:0})]})})}));var v=r("../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js");const _=(0,c.observer)((function(e){var t=e.title,r=e.description,n=e.depositCategory,a=e.onClick,i=e.children,c=(0,l.A)(),s=c.client,f=c.ui,m=s.currency,d=s.loginid,p=(0,v.Y)().isMobile,y=f.is_dark_mode_on;return o().createElement("div",null,o().createElement(h.Text,{size:p?"s":"sm",weight:"bold",color:"prominent"},t),o().createElement("div",{className:"cashier-onboarding-card__container","data-testid":"dt_cashier_onboarding_card",onClick:function(){null==a||a(),u.Analytics.trackEvent("ce_cashier_deposit_onboarding_form",{action:"click_deposit_card",form_name:"ce_cashier_deposit_onboarding_form",deposit_category:n,currency:m,login_id:d})}},o().createElement("div",{className:"cashier-onboarding-card__content"},o().createElement(h.Text,{size:p?"xxs":"xs",className:"cashier-onboarding-card__description"},r),o().createElement(h.Icon,{icon:y?"IcChevronRightBoldDark":"IcChevronRightBold",size:16})),i))})),g=function(e){var t=e.icons;return o().createElement("div",{"data-testid":"dt_cashier_onboarding_icon-marquee"},o().createElement(h.NewsTicker,{speed:10,className:"cashier-onboarding-icon-marquee"},o().createElement("div",{className:"cashier-onboarding-icon-marquee__container"},t.map((function(e,t){return o().createElement(h.Icon,{key:"".concat(e).concat(t),icon:e,width:72,height:45})})))))};var b=["IcCashierBitcoin","IcCashierEthereum","IcCashierLiteCoin","IcCashierUsdCoin","IcCashierTether"];const w=(0,c.observer)((function(){var e=(0,l.A)().ui,t=(0,s.q)().general_store,r=e.openRealAccountSignup,n=e.shouldNavigateAfterChooseCrypto,a=e.is_dark_mode_on,c=t.setDepositTarget,u=function(){var e=(0,l.A)().client,t=e.account_list,r=e.is_crypto;return t.some((function(e){return r(e.title||"USD")}))}(),f=(0,i.A)();return o().createElement(_,{title:(0,p.localize)("Deposit cryptocurrencies"),description:(0,p.localize)("We accept the following cryptocurrencies:"),depositCategory:"crypto",onClick:function(){c("/cashier/deposit"),f.is_crypto||u?(r("choose"),n("/cashier/deposit")):r("add_crypto")}},o().createElement(g,{icons:b.map((function(e){return"".concat(e).concat(a?"Dark":"Light")}))}))}));var E=r("../../hooks/src/useCurrencyConfig.ts");const x=function(){var e=(0,l.A)().client.account_list,t=(0,E.A)().getConfig;return e.some((function(e){var r;return"Real"!==e.title&&(null===(r=t(e.title||""))||void 0===r?void 0:r.is_fiat)}))};function k(e){return k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k(e)}function O(){O=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new N(n||[]);return o(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",d="suspendedYield",h="executing",p="completed",y={};function v(){}function _(){}function g(){}var b={};s(b,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(T([])));E&&E!==r&&n.call(E,i)&&(b=E);var x=g.prototype=v.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==k(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,r,n){var o=m;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===p){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?p:d,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=p,n.method="throw",n.arg=s.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(k(t)+" is not iterable")}return _.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:_,configurable:!0}),_.displayName=s(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},S(A.prototype),s(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(x),s(x,l,"Generator"),s(x,i,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function S(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}const A=(0,c.observer)((function(e){var t,r,n=e.is_visible,a=void 0!==n&&n,i=e.onCancel,c=e.onSwitchDone,s=(0,l.A)().client.switchAccount,u=function(){var e=(0,l.A)().client,t=e.account_list,r=e.is_crypto;return t.filter((function(e){return!e.is_virtual&&!r(e.title||"")}))}(),f=null==u||null===(t=u[0])||void 0===t?void 0:t.loginid,m=null==u||null===(r=u[0])||void 0===r?void 0:r.title,d=function(){var e,t=(e=O().mark((function e(){return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(f);case 2:c();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){S(a,n,o,i,c,"next",e)}function c(e){S(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();return o().createElement(h.Dialog,{title:(0,p.localize)("Switch account?"),confirm_button_text:(0,p.localize)("Switch account"),cancel_button_text:(0,p.localize)("Cancel"),onConfirm:d,onCancel:i,is_visible:a,dismissable:!1,has_close_icon:!1,portal_element_id:"modal_root"},(0,p.localize)("To deposit money, please switch to your {{currency_symbol}} account.",{currency_symbol:m}))}));function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var C=["IcCashierCreditDebit","IcCashierInstantBankTransfer","IcCashierEwallet","IcCashierLocalPaymentMethods"];const z=(0,c.observer)((function(){var e=(0,l.A)().ui,t=(0,s.q)().general_store,r=e.openRealAccountSignup,a=e.is_dark_mode_on,c=t.setDepositTarget,u=t.setIsDeposit,f=(0,i.A)(),m=x(),d=(null==f?void 0:f.is_crypto)&&m,h=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return L(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?L(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)(!1),2),y=h[0],v=h[1];return o().createElement(o().Fragment,null,o().createElement(_,{title:(0,p.localize)("Deposit via bank wire, credit card, and e-wallet"),description:(0,p.localize)("Deposit via the following payment methods:"),depositCategory:"fiat",onClick:y?void 0:function(){c("/cashier/deposit"),d?v(!0):null!=f&&f.is_crypto?r("add_fiat"):u(!0)}},o().createElement(g,{icons:C.map((function(e){return"".concat(e).concat(a?"Dark":"Light")}))})),d&&o().createElement(A,{is_visible:y,onCancel:function(){return v(!1)},onSwitchDone:function(){v(!1),u(!0)}}))}));var j=["IcCashierBanxa"];const N=(0,c.observer)((function(){var e=(0,l.A)(),t=e.client,r=e.ui,n=t.available_onramp_currencies,a=t.account_list,c=(0,s.q)().general_store,u=r.openRealAccountSignup,f=r.shouldNavigateAfterChooseCrypto,m=r.is_dark_mode_on,d=c.setDepositTarget,h=(0,i.A)(),y=a.some((function(e){return e.title&&n.includes(e.title)}));return o().createElement(_,{title:null!=h&&h.is_crypto?(0,p.localize)("Buy cryptocurrencies"):(0,p.localize)("Buy cryptocurrencies via fiat onramp"),description:(0,p.localize)("Choose any of these exchanges to buy cryptocurrencies:"),depositCategory:"fiat_onramp",onClick:function(){d("/cashier/on-ramp"),y?(u("choose"),f("/cashier/on-ramp")):u("add_crypto")}},o().createElement(g,{icons:j.map((function(e){return"".concat(e).concat(m?"Dark":"Light")}))}))}));var T=r("../../hooks/src/useP2PSettings.ts");function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}var I=["p2p_settings"];function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function F(e,t,r){return(t=function(e){var t=function(e){if("object"!=P(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==P(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var R=r("../../hooks/src/useIsP2PEnabled.ts");function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const G=(0,c.observer)((function(){var e=(0,l.A)().ui,t=(0,s.q)().general_store,r=e.openRealAccountSignup,a=t.setDepositTarget,c=(0,m.useHistory)(),u=function(){var e,t=(0,l.A)().client.active_accounts,r=(0,T.A)(),n=r.p2p_settings,o=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,I),a=t.filter((function(e){return!e.is_virtual})).map((function(e){var t;return null===(t=e.currency)||void 0===t?void 0:t.toLowerCase()})),i=Boolean(null==n||null===(e=n.supported_currencies)||void 0===e?void 0:e.some((function(e){return a.includes(e)})));return M(M({},o),{},{data:i})}().data,f=(0,R.A)().is_p2p_enabled,d=x(),h=(0,i.A)(),y=(null==h?void 0:h.is_crypto)&&d,v=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)(!1),2),g=v[0],b=v[1];return f||u?o().createElement(o().Fragment,null,o().createElement(_,{title:(0,p.localize)("Deposit with Deriv P2P"),description:(0,p.localize)("Deposit with your local currency via peer-to-peer exchange with fellow traders in your country."),depositCategory:"p2p",onClick:g?void 0:function(){a("/cashier/p2p"),y?b(!0):null!=h&&h.is_crypto?r("add_fiat"):c.push("/cashier/p2p")}}),y&&o().createElement(A,{is_visible:g,onCancel:function(){return b(!1)},onSwitchDone:function(){b(!1),c.push("/cashier/p2p")}})):null}));var B=r("../../hooks/src/usePaymentAgentList.ts");const Y=(0,c.observer)((function(){var e=(0,l.A)().ui,t=(0,s.q)().general_store,r=e.openRealAccountSignup,n=e.shouldNavigateAfterChooseCrypto,a=t.setDepositTarget,i=t.setShouldShowAllAvailableCurrencies,c=(0,B.A)().data;return Boolean(null==c?void 0:c.length)?o().createElement(_,{title:(0,p.localize)("Deposit via payment agents"),description:(0,p.localize)("Deposit in your local currency via an authorised, independent payment agent in your country."),depositCategory:"payment_agent",onClick:function(){i(!0),a("/cashier/payment-agent"),r("choose"),n("/cashier/payment-agent")}}):null}));var W=r("./components/side-notes/index.ts");const V=(0,c.observer)((function(){var e=(0,l.A)().ui,t=(0,s.q)().general_store,r=e.openRealAccountSignup,n=t.setDepositTarget,a=(0,i.A)();return o().createElement(h.SideNote,{description:(0,p.localize)("Don't want to trade in {{currency_code}}? You can open another cryptocurrency account.",{currency_code:null==a?void 0:a.display_code}),action:{onClick:function(){n("/cashier/deposit"),r("add_crypto")},label:(0,p.localize)("Manage your accounts")}})}));var q=r("@deriv/utils");const H=(0,c.observer)((function(){var e=(0,l.A)().common.is_from_derivgo;return o().createElement(h.SideNote,{description:o().createElement(p.Localize,{i18n_default_text:"To change your account currency, contact us via <0>live chat</0>.",components:[e?o().createElement("span",null):o().createElement("a",{key:0,className:"link link--orange",onClick:q.Chat.open})]})})})),$=(0,c.observer)((function(){var e=(0,i.A)();return o().createElement(o().Fragment,null,o().createElement(W.u,{transaction_type:"deposit"}),(null==e?void 0:e.is_crypto)&&o().createElement(V,null),(null==e?void 0:e.is_fiat)&&o().createElement(H,null))})),K=(0,c.observer)((function(){var e=(0,m.useHistory)(),t=(0,l.A)(),r=t.client,a=t.ui,i=r.loginid,c=(0,s.q)().general_store.setIsCashierOnboarding,h=a.toggleSetCurrencyModal,p=f();return(0,n.useEffect)((function(){i&&u.Analytics.trackEvent("ce_cashier_deposit_onboarding_form",{action:"open",form_name:"ce_cashier_deposit_onboarding_form",login_id:i})}),[i]),(0,n.useEffect)((function(){return c(!0),function(){c(!1),!p&&window.location.pathname.includes("/cashier")&&(e.push("/"),h())}}),[p,e,c,h]),o().createElement(d.A,{hide_breadcrumb:!0,right:o().createElement($,null)},o().createElement(y,null),o().createElement(z,null),o().createElement(w,null),o().createElement(N,null),o().createElement(Y,null),o().createElement(G,null))}));var J=r("./components/deposit-sub-page-analytics-event-tracker/index.ts"),X=r("../../api/src/useMutation.ts");function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}var Z=["data","mutate"];function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re(e,t,r){return(t=function(e){var t=function(e){if("object"!=Q(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=Q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Q(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ne=r("@deriv/shared");function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}const ae=function(e){var t=e.error,r=(0,p.localize)("Please refresh the page and try again.");return t&&"object"===oe(t)&&"message"in t&&"string"==typeof t.message&&(r=t.message),o().createElement(h.EmptyState,{icon:"IcTriangleExclamationXl",title:(0,p.localize)("Something went wrong"),description:r,action:{label:(0,p.localize)("Refresh page"),onClick:function(){return window.location.reload()},tertiary:!0}})};function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const ce=(0,c.observer)((function(){var e=function(){var e,t,r=(0,l.A)().ui.is_dark_mode_on,o=(0,X.A)("cashier"),a=o.data,i=o.mutate,c=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(o,Z),s=r?"on":"off",u=null===(e=new URL(window.location.href).searchParams.get("lang"))||void 0===e?void 0:e.toLowerCase();if("string"==typeof(null==a?void 0:a.cashier)){var f=new URL(a.cashier);f.searchParams.set("DarkMode",s),u&&f.searchParams.set("Lang",u),t=f.toString()}var m=(0,n.useCallback)((function(){return i({payload:{cashier:"deposit",provider:"doughflow"}})}),[i]);return(0,n.useEffect)((function(){m()}),[m]),te(te({},c),{},{resend:m,data:t})}(),t=e.data,r=e.error,a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ie(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ie(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)(!0),2),i=a[0],c=a[1];return(0,n.useEffect)((function(){c(!0)}),[t]),i||(0,ne.setPerformanceValue)("load_fiat_deposit_cashier_time"),r?o().createElement(ae,{error:r}):o().createElement(o().Fragment,null,i&&o().createElement(h.Loading,{is_fullscreen:!1}),t&&o().createElement("iframe",{key:t,className:"deposit-fiat-iframe__iframe",onLoad:function(){return c(!1)},src:t,style:{display:i?"none":"block"},"data-testid":"dt_deposit_fiat_iframe_iframe"}))})),le=(0,c.observer)((function(){var e=(0,l.A)(),t=e.common,r=e.traders_hub,n=t.is_from_derivgo,a=r.is_low_risk_cr_eu_real,i=function(){return q.Chat.open()};return o().createElement(d.A,{hide_breadcrumb:a,right:o().createElement(o().Fragment,null,o().createElement(W.u,{transaction_type:"deposit"}),o().createElement(h.SideNote,{description:o().createElement(p.Localize,{i18n_default_text:"To change your account currency, contact us via <0>live chat</0>.",components:[n?o().createElement("span",null):o().createElement("span",{key:0,className:"link",onClick:i,onKeyDown:i})]})}))},o().createElement(J.U,{deposit_category:"fiat"}),o().createElement(ce,null))})),se=function(e){var t=e.vertical,r=void 0!==t&&t;return o().createElement("div",{className:r?"divider__vertical":"divider__horizontal"})};var ue=r("./modules/deposit-crypto/components/index.ts"),fe=r("react-router-dom");const me=function(){return o().createElement(h.SideNote,{description:o().createElement(p.Localize,{i18n_default_text:"Looking for a way to buy cryptocurrencies? <0>Try Fiat onramp</0>.",components:[o().createElement(fe.Link,{key:0,className:"link link--orange",to:"/cashier/on-ramp"})]})})},de=(0,c.observer)((function(){var e=(0,v.Y)().isDesktop,t=(0,s.q)().general_store,r=(0,i.A)(),a=t.setIsDeposit,c=r.platform.ramp.length>0;return(0,n.useEffect)((function(){return a(!0),function(){a(!1)}}),[a]),o().createElement(d.A,{right:e?o().createElement(ue.Ij,null):void 0},o().createElement(J.U,{deposit_category:"crypto"}),(null==r?void 0:r.is_tUSDT)&&o().createElement(ue.C6,null),o().createElement(ue.JT,null),o().createElement(ue.nQ,null),(!e||c)&&o().createElement(se,null),c&&o().createElement("div",{style:{alignSelf:e?"center":"unset"}},o().createElement(me,null)),!e&&o().createElement(ue.Ij,null))}));var he=r("./components/transactions-crypto-history/index.ts"),pe=r("../../hooks/src/useIsTNCNeeded.ts"),ye=r("./components/cashier-locked/index.ts");function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function _e(e){return function(e){if(Array.isArray(e))return ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return ge(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ge(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function be(){be=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new z(n||[]);return o(i,"_invoke",{value:S(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",d="suspendedYield",h="executing",p="completed",y={};function v(){}function _(){}function g(){}var b={};s(b,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(j([])));E&&E!==r&&n.call(E,i)&&(b=E);var x=g.prototype=v.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==ve(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function S(t,r,n){var o=m;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===p){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=A(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?p:d,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=p,n.method="throw",n.arg=s.arg)}}}function A(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,A(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function j(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(ve(t)+" is not iterable")}return _.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:_,configurable:!0}),_.displayName=s(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},k(O.prototype),s(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new O(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(x),s(x,l,"Generator"),s(x,i,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=j,z.prototype={constructor:z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:j(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function we(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}const Ee=(0,c.observer)((function(){var e,t,r,n=(0,l.A)().client,a=n.account_status,i=n.is_financial_account,c=n.is_financial_information_incomplete,s=n.is_trading_experience_incomplete,u=n.is_virtual,f=n.updateAccountStatus,m=null==a||null===(e=a.authentication)||void 0===e?void 0:e.identity,d=null==a||null===(t=a.authentication)||void 0===t?void 0:t.document,y=null==a||null===(r=a.authentication)||void 0===r?void 0:r.needs_verification,v=null==y?void 0:y.includes("identity"),_=null==y?void 0:y.includes("document"),g="none"!==(null==m?void 0:m.status),b="none"!==(null==d?void 0:d.status),w=(0,fe.useHistory)(),E=(0,pe.A)(),x=function(){var e,t=(e=be().mark((function e(){var t;return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne.WS.tncApproval();case 2:return e.next=4,ne.WS.getSettings();case 4:if(u||null!=a&&null!==(t=a.status)&&void 0!==t&&t.includes("deposit_attempt")){e.next=7;break}return e.next=7,f();case 7:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){we(a,n,o,i,c,"next",e)}function c(e){we(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),k=[].concat(_e(v&&g?[{content:(0,p.localize)("Check proof of identity document verification status"),status:"action",onClick:function(){return w.push(ne.routes.proof_of_identity)}}]:[]),_e(_&&b?[{content:(0,p.localize)("Check proof of address document verification status"),status:"action",onClick:function(){return w.push(ne.routes.proof_of_address)}}]:[]),_e(E?[{content:o().createElement(p.Localize,{i18n_default_text:"Accept our updated <0>terms and conditions</0>",components:[o().createElement(h.StaticUrl,{key:0,className:"link",href:"terms-and-conditions",is_document:!1})]}),status:"button-action",onClick:function(){return x()},button_text:(0,p.localize)("I accept")}]:[]),_e(i&&(c||s)?[{content:(0,p.localize)("Complete the financial assessment form"),status:"action",onClick:function(){return w.push(ne.routes.financial_assessment)}}]:[]));return o().createElement(o().Fragment,null,k.length?o().createElement("div",{className:"cashier-locked"},o().createElement(h.Icon,{icon:"IcCashierDepositLock",className:"cashier-locked__icon"}),o().createElement(h.Text,{as:"h2",weight:"bold",align:"center",className:"cashier-locked__title"},(0,p.localize)("Deposits are locked")),o().createElement(h.Text,{as:"p",align:"center",size:"xs",className:"cashier-locked__desc"},(0,p.localize)("To enable this feature you must complete the following:")),o().createElement(h.Checklist,{className:"cashier-locked__checklist",items:k})):o().createElement(ye.A,null))})),xe=(0,c.observer)((function(){var e=(0,l.A)().traders_hub,t=(0,a.A)(),r=(0,i.A)(),n=(0,s.q)(),c=n.transaction_history,u=n.general_store,f=e.is_low_risk_cr_eu_real,m=c.is_transactions_crypto_visible,h=u.is_deposit;return t?o().createElement(d.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(Ee,null)):m?o().createElement(d.A,{hide_breadcrumb:!0},o().createElement(he.A,null)):r&&(h||f)?r.platform.cashier.includes("crypto")?o().createElement(de,null):o().createElement(le,null):o().createElement(K,null)}))},"./pages/on-ramp/index.ts":(e,t,r)=>{r.d(t,{default:()=>A});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("../../hooks/src/useCashierLocked.ts"),c=r("../../hooks/src/useDepositLocked.ts"),l=r("@deriv/shared"),s=r("@deriv/translations"),u=r("mobx-react-lite"),f=r("../../stores/src/useStore.ts"),m=r("../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js"),d=r("./components/cashier-locked/index.ts"),h=r("./stores/useCashierStores.tsx");const p=(0,u.observer)((function(e){var t=e.provider,r=(0,f.A)().ui.is_dark_mode_on,n=(0,m.Y)().isMobile,i=(0,h.q)().onramp.setSelectedProvider,c=t.getPaymentIcons(),l=t.name.toLowerCase().replace(" ","-"),u=n?56:128;return o().createElement("div",{className:"on-ramp__provider"},o().createElement("div",{className:"on-ramp__provider-logo"},o().createElement(a.Icon,{data_testid:r?"dt_provider_icon_dark":"dt_provider_icon_light",icon:r?t.icon.dark:t.icon.light,width:u,height:u})),o().createElement(a.Text,{size:"s",color:"prominent",weight:"bold",line_height:"l",className:"on-ramp__provider-name"},t.name),o().createElement(a.Text,{size:"xs",line_height:"m",as:"p",className:"on-ramp__provider-description"},t.getDescription()),o().createElement("div",{className:"on-ramp__provider-payment-icons"},o().createElement("div",{className:"on-ramp__provider-payment-icons-shadow"}),o().createElement(a.NewsTicker,{speed:10},c.map((function(e){var t=r?e.dark:e.light;return o().createElement(a.Icon,{data_testid:r?"dt_payment_icon_dark":"dt_payment_icon_light",icon:t,key:t,size:40})})))),o().createElement(a.Button,{id:"gtm-onramp-provider-select--".concat(l),className:"on-ramp__provider-button",type:"button",has_effect:!0,onClick:function(){return i(t)},text:(0,s.localize)("Select"),primary:!0,small:n}))}));var y=r("../../../node_modules/classnames/index.js"),v=r.n(y);function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return g(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const b=(0,u.observer)((function(){var e,t=(0,f.A)().ui.is_dark_mode_on,r=(0,m.Y)(),n=r.isDesktop,i=r.isMobile,c=(0,h.q)().onramp,u=c.api_error,d=c.deposit_address,p=c.is_deposit_address_loading,y=c.is_requesting_widget_html,g=c.onClickDisclaimerContinue,b=c.onClickGoToDepositPage,w=c.selected_provider,E=c.setIsOnRampModalOpen,x=c.should_show_dialog,k=c.should_show_widget,O=c.widget_error,S=c.widget_html,A=o().useRef(null),L=_((0,a.useCopyToClipboard)(),3),C=L[0],z=L[1],j=L[2];return o().useEffect((function(){return function(){return clearTimeout(e)}}),[]),o().useEffect((function(){k&&S&&(null==w||w.onMountWidgetContainer(A))}),[w,k,S]),null===w?null:p||k&&y?o().createElement(a.Loading,{is_fullscreen:n}):k?o().createElement("div",{className:v()("on-ramp__widget-container",{"on-ramp__widget-container--error":O}),ref:A},O?o().createElement("div",{className:"on-ramp__widget-container-error"},O):o().createElement("div",{dangerouslySetInnerHTML:{__html:S||""}})):x?o().createElement("div",{className:"on-ramp__popup-no-deposit-address"},o().createElement(a.Text,{size:"xs",className:"on-ramp__popup-no-deposit-address-text"},u?o().createElement(s.Localize,{i18n_default_text:"Please go to the Deposit page to get an address."}):o().createElement(s.Localize,{i18n_default_text:"Please go to the Deposit page to generate an address. Then come back here to continue with your transaction."})),o().createElement(a.Button.Group,{className:"on-ramp__popup-no-deposit-address-buttons"},o().createElement(a.Button,{text:(0,s.localize)("Cancel"),onClick:function(){return E(!1)},secondary:!0,large:!0}),o().createElement(a.Button,{text:(0,s.localize)("Go to Deposit page"),onClick:b,primary:!0,large:!0}))):o().createElement("div",{className:"on-ramp__popup","data-testid":"dti_on-ramp_popup"},w.should_show_deposit_address&&o().createElement(o().Fragment,null,o().createElement("div",{className:"on-ramp__popup-deposit"},o().createElement(a.Text,{size:i?"xxs":"xs",color:"general",line_height:i?"m":"l",align:n?"center":"left"},o().createElement(s.Localize,{i18n_default_text:"Please copy the crypto address you see below. You'll need it to deposit your cryptocurrency."})),o().createElement("div",{className:"on-ramp__popup-deposit-address"},o().createElement(a.Popover,{zIndex:"9998",alignment:"right",message:(0,s.localize)("Copied!"),is_open:C},o().createElement("input",{className:v()("on-ramp__popup-deposit-address-text",{"on-ramp__popup-deposit-address-text--dark":t}),defaultValue:d||"",disabled:!0,onFocus:function(e){return e.preventDefault()}}),o().createElement(a.Icon,{className:"on-ramp__popup-deposit-address-icon",data_testid:"dti_deposit_address_icon",icon:n?"icClipboard":"IcCopy",size:16,onClick:function(){z(d||""),e=setTimeout((function(){j(!1)}),500)}}))),o().createElement("div",{className:"on-ramp__popup-deposit-address-hint"},o().createElement(a.HintBox,{icon:"IcInfo",is_info:!0,message:(0,s.localize)("This address can only be used ONCE. Please copy a new one for your next transaction.")}))),o().createElement("div",{className:"on-ramp__popup-divider"})),o().createElement("div",{className:"on-ramp__popup-disclaimer"},o().createElement(a.Text,{line_height:"m",weight:"bold",color:"prominent",as:"p",className:"on-ramp__popup-disclaimer-title"},o().createElement(s.Localize,{i18n_default_text:"Disclaimer"})),o().createElement(a.Text,{size:i?"xxs":"xs",line_height:"l",color:"general",as:"p",className:"on-ramp__popup-disclaimer-text"},o().createElement(s.Localize,{i18n_default_text:"By clicking 'Continue' you will be redirected to {{ service }}, a third-party payment service provider. Please note that {{ website_name }} is not responsible for the content or services provided by {{ service }}. If you encounter any issues related to {{ service }} services, you must contact {{ service }} directly.",values:{service:w.name,website_name:l.website_name}}))),!k&&d&&o().createElement("div",{className:"on-ramp__popup-buttons"},o().createElement(a.Button.Group,null,o().createElement(a.Button,{large:!0,onClick:function(){return E(!1)},secondary:!0,text:(0,s.localize)("Cancel")}),o().createElement(a.Button,{id:"gtm-onramp-provider-continue--".concat((0,l.getKebabCase)(w.name)),large:!0,onClick:g,primary:!0,text:(0,s.localize)("Continue")}))))}));var w=r("./components/deposit-sub-page-analytics-event-tracker/index.ts"),E=r("./components/page-container/index.ts");function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var O=function(){return o().createElement(a.SideNote,{title:o().createElement(s.Localize,{i18n_default_text:"What is Fiat onramp?"})},o().createElement(s.Localize,{i18n_default_text:"Fiat onramp is a cashier service that allows you to convert fiat currencies to crypto to top up your Deriv crypto accounts. Listed here are third-party crypto exchanges. Youll need to create an account with them to use their services.",key:0}))},S=function(){return o().createElement("div",{className:"on-ramp__info"},o().createElement(a.Text,{color:"prominent",size:"s",weight:"bold",className:"on-ramp__info-header",as:"p"},o().createElement(s.Localize,{i18n_default_text:"What is Fiat onramp?"})),o().createElement("div",{className:"on-ramp__info-content"},o().createElement(a.ReadMore,{expand_text:(0,s.localize)("See more"),text:(0,s.localize)("Fiat onramp is a cashier service that allows you to convert fiat currencies to crypto to top up your Deriv crypto accounts. Listed here are third-party crypto exchanges. Youll need to create an account with them to use their services."),collapse_length:140,className:"on-ramp__read-more"})))};const A=(0,u.observer)((function(e){var t=e.menu_options,r=(0,f.A)(),n=r.common,u=r.client,y=(0,h.q)(),v=y.onramp,_=y.general_store,g=v.filtered_onramp_providers,k=v.is_onramp_modal_open,A=v.onMountOnramp,L=v.onUnmountOnramp,C=v.onramp_popup_modal_title,z=v.resetPopup,j=v.setIsOnRampModalOpen,N=v.should_show_dialog,T=(0,m.Y)().isDesktop,P=_.is_loading,I=(0,i.A)(),D=u.is_switching,M=n.routeTo,F=(0,c.A)(),R=x(o().useState(l.routes.cashier_onramp),2),U=R[0],G=R[1];return o().useEffect((function(){t&&U!==l.routes.cashier_onramp&&M(U)}),[t,M,U]),o().useEffect((function(){return A(),function(){L()}}),[A,L]),D||P?o().createElement(E.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(a.Loading,{className:"cashier-onboarding__loader",is_fullscreen:!0})):F||I?o().createElement(E.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(d.A,null)):o().createElement(E.A,{hide_breadcrumb:!0,right:T?o().createElement(O,{key:0}):void 0},o().createElement("div",{className:"cashier__wrapper cashier__wrapper--align-left on-ramp"},o().createElement(w.U,{deposit_category:"fiat_onramp"}),!T&&o().createElement(o().Fragment,null,o().createElement(a.SelectNative,{data_testid:"dt_on_ramp_select_native",className:"on-ramp__selector",label:"",list_items:(null!=t?t:[]).map((function(e){return{text:e.label,value:e.path}})),value:U,should_show_empty_option:!1,hide_top_placeholder:!1,onChange:function(e){e.currentTarget.value!==U&&G(e.currentTarget.value)}}),o().createElement(S,null)),o().createElement(a.Text,{color:T?"general":"less-prominent",weight:T?"bold":"normal",align:"center",line_height:"m",className:"on-ramp__page-header",as:"p"},o().createElement(s.Localize,{i18n_default_text:"Select payment channel"})),g.map((function(e){return o().createElement(p,{key:e.name,provider:e})})),o().createElement(a.Modal,{className:"on-ramp__modal",has_close_icon:!0,is_open:k,small:N,title:C,toggleModal:function(){return j(!k)},onUnmount:z,width:N?"44rem":"62.8rem"},o().createElement(a.Modal.Body,null,o().createElement(b,null)))))}))},"./pages/payment-agent-transfer/index.ts":(e,t,r)=>{r.d(t,{default:()=>F});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("../../hooks/src/useCashierLocked.ts"),c=r("mobx-react-lite"),l=r("../../stores/src/useStore.ts"),s=r("./stores/useCashierStores.tsx"),u=r("../../../node_modules/classnames/index.js"),f=r.n(u),m=r("../../../node_modules/formik/dist/formik.esm.js"),d=r("@deriv/shared"),h=r("@deriv/translations"),p=r("../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js"),y=r("./components/error-dialog/index.ts");function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_.apply(null,arguments)}function g(){g=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof _?t:_,i=Object.create(a.prototype),c=new N(n||[]);return o(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",d="suspendedYield",h="executing",p="completed",y={};function _(){}function b(){}function w(){}var E={};s(E,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(T([])));k&&k!==r&&n.call(k,i)&&(E=k);var O=w.prototype=_.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==v(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,r,n){var o=m;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===p){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?p:d,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=p,n.method="throw",n.arg=s.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(v(t)+" is not iterable")}return b.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=s(w,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,s(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),s(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),s(O,l,"Generator"),s(O,i,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function b(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e,t,r){return(t=function(e){var t=function(e){if("object"!=v(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==v(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k=function(e,t){var r=t.balance,n=t.currency,o=t.transfer_limit,a={loginid:"",amount:"",description:""};e.loginid&&/^[A-Za-z]+\d+$/.test(e.loginid)||(a.loginid=(0,h.localize)("Please enter a valid client login ID."));var i=(0,d.validNumber)(e.amount,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:"float",decimals:(0,d.getDecimalPlaces)(n)},o.min_withdrawal&&{min:Number(o.min_withdrawal),max:Number(r)>=Number(o.min_withdrawal)&&o.max_withdrawal&&Number(r)<Number(o.max_withdrawal)?Number(r):Number(o.max_withdrawal)})),c=i.is_ok,l=i.message;return e.amount?Number(r)<Number(e.amount)?a.amount=(0,h.localize)("Insufficient balance."):!c&&l&&(a.amount=l):a.amount=(0,h.localize)("This field is required."),e.description&&!/^[0-9A-Za-z .,'-]{0,250}$/.test(e.description.replace(/\n/g," "))&&(a.description=(0,h.localize)("Please enter a valid description.")),Object.fromEntries(Object.entries(a).filter((function(e){var t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return w(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e,2);return t[0],!!t[1]})))};const O=(0,c.observer)((function(){var e=(0,l.A)().client,t=e.balance,r=e.currency,n=(0,p.Y)().isDesktop,i=(0,s.q)().payment_agent_transfer,c=i.confirm,u=c.amount,v=c.description,w=c.client_id,E=i.error,x=i.requestTryPaymentAgentTransfer,O=i.transfer_limit,S=E.setErrorMessage,A=function(e){return k(e,{balance:void 0!==t?String(t):"",currency:r,transfer_limit:O})},L=function(){var e,t=(e=g().mark((function e(t,n){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x({amount:Number(t.amount),currency:r,description:t.description.replace(/\n/g," "),transfer_to:t.loginid});case 2:e.sent.error&&n.setSubmitting(!1);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){b(a,n,o,i,c,"next",e)}function c(e){b(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e,r){return t.apply(this,arguments)}}(),C={loginid:w||"",amount:(null==u?void 0:u.toString())||"",description:v||""};return o().createElement("div",{className:"cashier__wrapper payment-agent-transfer-form__container","data-testid":"dt_payment_agent_transfer_form_container"},n&&o().createElement(a.Text,{as:"h2",color:"prominent",weight:"bold",align:"center",className:"cashier__header"},o().createElement(h.Localize,{i18n_default_text:"Transfer to client"})),o().createElement(m.l1,{initialValues:C,isInitialValid:!Object.keys(A(C)).length,validate:A,onSubmit:L},(function(e){var t=e.errors,n=e.isSubmitting,i=e.isValid,c=e.touched,l=e.handleChange;return o().createElement(m.lV,{noValidate:!0,className:"payment-agent-transfer-form"},o().createElement(m.D0,{name:"loginid"},(function(e){var r=e.field;return o().createElement(a.Input,_({},r,{onChange:function(e){S({code:"",message:""}),l(e)},className:"payment-agent-transfer-form__input","data-testid":"dt_payment_agent_transfer_form_input_loginid",type:"text",label:(0,h.localize)("Client account number"),error:c.loginid&&t.loginid||"",required:!0,autoComplete:"off",maxLength:20}))})),o().createElement(m.D0,{name:"amount"},(function(e){var n=e.field;return o().createElement(a.Input,_({},n,{onChange:function(e){S({code:"",message:""}),l(e)},className:"payment-agent-transfer-form__input dc-input--no-placeholder","data-testid":"dt_payment_agent_transfer_form_input_amount",type:"text",label:(0,h.localize)("Amount"),error:c.amount&&t.amount||"",required:!0,trailing_icon:o().createElement("span",{className:f()("symbols","symbols--".concat((r||"").toLowerCase()))},(0,d.getCurrencyDisplayCode)(r)),autoComplete:"off",maxLength:30}))})),o().createElement(m.D0,{name:"description"},(function(e){var r=e.field;return o().createElement(a.Input,_({},r,{onChange:function(e){S({code:"",message:""}),l(e)},className:"payment-agent-transfer-form__input-area","data-testid":"dt_payment_agent_transfer_form_input_description",type:"textarea",label:(0,h.localize)("Description"),error:t.description,required:!0,autoComplete:"off",has_character_counter:!0,max_characters:250}))})),o().createElement("div",{className:"cashier__form-submit"},o().createElement(a.Button,{className:"cashier__form-submit-button payment-agent-transfer-form__submit-button",type:"submit",is_disabled:!i||n,primary:!0,large:!0},o().createElement(h.Localize,{i18n_default_text:"Transfer"}))),o().createElement(y.A,{error:E}))})))}));var S=r("./components/page-container/index.ts"),A=r("./components/cashier-locked/index.ts"),L=r("./components/error/index.ts"),C=r("./components/no-balance/index.ts"),z=r("./components/cashier-container/virtual/index.ts"),j=r("./components/transfer-confirm/index.ts"),N=(0,c.observer)((function(){var e=(0,l.A)().client,t=(0,s.q)().payment_agent_transfer,r=e.currency,n=e.loginid,i=t.confirm,c=i.amount,u=i.description,f=i.client_id,m=i.client_name,d=t.error,p=t.requestPaymentAgentTransfer,y=t.setIsTryTransferSuccessful;return o().createElement(j.A,{data:[{label:(0,h.localize)("From account number"),value:n||"",item_key:"transfer_from"},{label:[(0,h.localize)("To account number"),(0,h.localize)("Account holder name")],value:[(null==f?void 0:f.toUpperCase())||"",m||""],item_key:"transfer_to"},{label:(0,h.localize)("Amount"),value:o().createElement(a.Money,{currency:r,amount:c,show_currency:!0}),item_key:"amount"},{label:(0,h.localize)("Description"),value:u||"",item_key:"description"}],error:d,onClickBack:function(){y(!1)},onClickConfirm:function(){p({amount:Number(c),currency:r,description:u||"",transfer_to:f||""})}})}));const T=N;var P=r("react-router"),I=(0,c.observer)((function(e){var t,r=e.history,n=(0,l.A)(),i=n.client,c=n.common,u=i.currency,f=i.loginid,m=c.is_from_derivgo,p=(0,s.q)().payment_agent_transfer,y=p.receipt,v=p.resetPaymentAgentTransfer;return o().createElement("div",{className:"cashier__wrapper payment-agent-transfer-receipt__wrapper","data-testid":"dt_payment_agent_transfer_receipt_wrapper"},o().createElement("div",{className:"cashier__success"},o().createElement(a.Text,{as:"h2",color:"prominent",align:"center",weight:"bold",className:"cashier__header"},o().createElement(h.Localize,{i18n_default_text:"You've transferred"})," ",(0,d.formatMoney)(u,Number(y.amount_transferred),!0)," ",(0,d.getCurrencyDisplayCode)(u)),o().createElement("div",{className:"cashier__transferred-details-wrapper"},o().createElement("span",{className:"account-transfer__transfer-details-from"},o().createElement(a.Icon,{icon:"IcCurrency-".concat(u.toLowerCase())}),o().createElement("span",{className:"cashier__transferred-details"},o().createElement(a.Text,{size:"xs",line_height:"xs",weight:"bold"},(0,d.getCurrencyName)(u)),o().createElement(a.Text,{size:"xs",line_height:"xs",color:"less-prominent"},f))),o().createElement(a.Icon,{className:"cashier__transferred-icon",icon:"IcArrowLeftBold"}),o().createElement("span",{className:"account-transfer__transfer-details-to"},o().createElement(a.Icon,{icon:"IcCashierPaymentAgent"}),o().createElement("span",{className:"cashier__transferred-details"},o().createElement(a.Text,{size:"xs",line_height:"xs",weight:"bold"},y.client_name),o().createElement(a.Text,{size:"xs",line_height:"xs",color:"less-prominent"},(null===(t=y.client_id)||void 0===t?void 0:t.toUpperCase())||""))))),o().createElement("div",{className:"cashier__form-submit"},!m&&o().createElement(a.Button,{className:"cashier__form-submit-button",has_effect:!0,text:(0,h.localize)("View transactions"),onClick:function(){return function(e,t){e.push(d.routes.statement),t()}(r,v)},secondary:!0,large:!0}),o().createElement(a.Button,{className:"cashier__form-submit-button cashier__done-button",has_effect:!0,text:(0,h.localize)("Make a new transfer"),onClick:v,primary:!0,large:!0})))}));const D=(0,P.withRouter)(I);var M=(0,c.observer)((function(){var e=(0,l.A)().client,t=e.balance,r=e.is_virtual,n=e.is_switching,c=(0,s.q)(),u=c.general_store,f=c.payment_agent_transfer,m=u.is_loading,d=(0,i.A)(),h=f.error,p=f.is_transfer_successful,y=f.is_try_transfer_successful,v=f.onMountPaymentAgentTransfer,_=f.resetPaymentAgentTransfer;return o().useEffect((function(){r||v()}),[r,v]),o().useEffect((function(){return function(){_()}}),[_]),r?o().createElement(S.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(z.A,null)):m||n?o().createElement(S.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(a.Loading,{className:"cashier__loader",is_fullscreen:!1})):d?o().createElement(S.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(A.A,null)):h.is_show_full_page?o().createElement(S.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(L.A,{error:h})):Number(t)?y?o().createElement(S.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(T,null)):p?o().createElement(S.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(D,null)):o().createElement(S.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(O,{error:h})):o().createElement(S.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(C.A,null))}));const F=M},"./pages/payment-agent/index.ts":(e,t,r)=>{r.d(t,{default:()=>Te});var n=r("react"),o=r.n(n),a=r("@deriv/components"),i=r("../../hooks/src/useCashierLocked.ts"),c=r("mobx-react-lite"),l=r("../../stores/src/useStore.ts"),s=r("../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js"),u=r("./stores/useCashierStores.tsx"),f=r("../../../node_modules/classnames/index.js"),m=r.n(f),d=r("@deriv/translations"),h=r("mobx"),p=r("@deriv/shared");const y={Alipay:["alipay"],Bank:["bank","bankdeposit","banks","banktransfer","bankwire","bankwiretransfer","localbankwire","localbank","localbanks","localbanktransfer"],Bankbri:["bri","bankbri"],Bca:["bca","grupbca"],Bch:["bch"],Bni:["bni"],Bitcoin:["bitcoin","btc"],Card:["card","cards","visa","mastercard"],Cimbniaga:["cimbniaga"],Crypto:["crypto","cryptos","cryptocurrencies","cryptocurrency","weacceptcrypto"],Dai:["dai"],Diamondbank:["diamondbank"],Eth:["eth","ethd","ethereum"],Ewallet:["ewallet","ewallets","ewalletpayment","skrill"],Firstbank:["firstbank"],Gtbank:["gtbank"],Icbc:["icbc"],Libertyreserve:["libertyreserve"],LiteCoin:["ltc","litecoin"],Mandiri:["mandiri"],Mandirisyariah:["mandirisyariah"],Moneygram:["moneygram"],Paypal:["paypal"],PerfectMoney:["perfectmoneyandwebmoney","perfectmoney"],Permatabank:["permatabank"],Tether:["tether"],Verve:["verve"],WebMoney:["perfectmoneyandwebmoney","webmoney"],Wechatpay:["wechatpay"],Zenithbank:["zenithbank"]};var v=r("./utils/utility.ts");function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}var g=["action","children","className","has_red_color","icon","is_link","title"];function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b.apply(null,arguments)}function w(e,t,r){return(t=function(e){var t=function(e){if("object"!=_(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==_(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const E=function(e){var t=e.action,r=e.children,n=e.className,i=e.has_red_color,c=e.icon,l=e.is_link,s=e.title,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,g),f=Array.isArray(r)?r:[r];return o().createElement("div",{className:m()("payment-agent-detail",n&&w({},n,!!n))},c&&o().createElement("div",{className:"payment-agent-detail__icon-wrapper"},o().createElement(a.Icon,{icon:c,data_testid:"dt_payment_agent_detail_icon"})),o().createElement("div",{className:"payment-agent-detail__desc-wrapper"},s&&o().createElement(a.Text,{as:"p",line_height:"s",size:"xs"},s),f.map((function(e,r){return o().createElement(o().Fragment,{key:r},t||l?o().createElement(a.Text,b({as:"a",color:i?"red":"prominent","data-testid":"dt_payment_agent_detail_link",href:(t?"".concat(t,":"):"")+e,line_height:"s",size:s?"xs":"xxs",weight:"bold",className:"payment-agent-detail__link"},u),e,r===f.length-1?"":", "):o().createElement(a.Text,{as:"p",className:"payment-agent-detail__paragraph","data-testid":"dt_payment_agent_detail_paragraph",line_height:"s",size:s?"xs":"xxs",weight:"bold"},e))}))))},x=function(e){var t,r,n,i=e.is_dark_mode_on,c=e.payment_agent,l=(0,h.toJS)(c.urls);return o().createElement("div",{className:"payment-agent-card__description-container"},o().createElement(a.Text,{as:"p",line_height:"s",size:"xs",weight:"bold"},c.name),c.further_information&&o().createElement(a.Text,{as:"p",className:"payment-agent-card__description-container-further-information",line_height:"s",size:"xs"},(0,p.capitalizeFirstLetter)(c.further_information).replace(/( ?Skril?l,? ?)|( ?Net?tel?ler,? ?)/gi,"")),l&&o().createElement(E,{has_red_color:!0,is_link:!0,rel:"noopener noreferrer",target:"_blank"},l.map((function(e){return e.url}))),!!((n=c.supported_banks)&&n.length>0)&&!n.every((function(e){return""===(0,v.D)(e.payment_method,y,!0)}))&&o().createElement("div",{className:"payment-agent-card__description-container-icons-container"},(t=c.supported_banks,r=null==t?void 0:t.map((function(e){return(0,v.D)(e.payment_method,y,!0)})).filter(Boolean),Array.from(new Set(r))).map((function(e){return o().createElement(a.Icon,{data_testid:"dt_payment_method_icon",key:e,icon:"IcCashier".concat(e).concat(i?"Dark":"Light")})}))))};var k=function(e){var t=e.phone_numbers;return o().createElement(E,{action:"tel",icon:"IcPhone",title:o().createElement(d.Localize,{i18n_default_text:"Phone number"})},t.map((function(e){return e.phone_number})))},O=function(e){var t=e.min_withdrawal,r=e.max_withdrawal,n=e.currency;return o().createElement(E,{icon:"IcAccountTransfer",title:o().createElement(d.Localize,{i18n_default_text:"Transfer limit"})},o().createElement(o().Fragment,null,o().createElement(a.Money,{amount:t||"",currency:n,show_currency:!0}),o().createElement(a.Text,{size:"xs"}," - "),o().createElement(a.Money,{amount:r||"",currency:n,show_currency:!0})))},S=function(e){var t=e.deposit_commission;return o().createElement(E,{icon:"IcCashierCommissionDeposit",className:"deposit-commission",title:o().createElement(d.Localize,{i18n_default_text:"Commission on deposits"})},"".concat(t,"%"))},A=function(e){var t=e.withdrawal_commission;return o().createElement(E,{icon:"IcCashierCommissionWithdrawal",className:"withdrawal_commission",title:o().createElement(d.Localize,{i18n_default_text:"Commission on withdrawal"})},"".concat(t,"%"))};const L=function(e){var t=e.payment_agent,r=t.phone_numbers,n=t.min_withdrawal,a=t.max_withdrawal,i=t.currency,c=t.deposit_commission,l=t.withdrawal_commission,s=(0,h.toJS)(r);return o().createElement("div",{className:"payment-agent-deposit-details"},s&&o().createElement(k,{phone_numbers:r}),n&&a&&o().createElement(O,{min_withdrawal:n,max_withdrawal:a,currency:i}),c&&o().createElement(S,{deposit_commission:c}),l&&o().createElement(A,{withdrawal_commission:l}))};var C=r("../../../node_modules/formik/dist/formik.esm.js"),z=r("./components/error-dialog/index.ts");function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function N(){return N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N.apply(null,arguments)}function T(){T=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new z(n||[]);return o(i,"_invoke",{value:S(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",d="suspendedYield",h="executing",p="completed",y={};function v(){}function _(){}function g(){}var b={};s(b,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(N([])));E&&E!==r&&n.call(E,i)&&(b=E);var x=g.prototype=v.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==j(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function S(t,r,n){var o=m;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===p){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=A(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?p:d,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=p,n.method="throw",n.arg=s.arg)}}}function A(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,A(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function N(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(j(t)+" is not iterable")}return _.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:_,configurable:!0}),_.displayName=s(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},k(O.prototype),s(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new O(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(x),s(x,l,"Generator"),s(x,i,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=N,z.prototype={constructor:z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:N(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function P(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e,t,r){return(t=function(e){var t=function(e){if("object"!=j(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==j(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M=(0,c.observer)((function(e){var t=e.payment_agent,r=(0,l.A)().client,n=(0,u.q)(),i=n.general_store,c=n.payment_agent,s=r.balance,f=r.currency,h=r.verification_code.payment_agent_withdraw,y=i.is_crypto,v=i.is_loading,_=c.error,g=c.onMountPaymentAgentWithdraw,b=c.agents,w=c.requestTryPaymentAgentWithdraw,E=c.selected_bank;o().useEffect((function(){g()}),[g]);var x=o().useRef(null);o().useEffect((function(){x.current&&(x.current.value="")}),[E]);var k=function(){var e,r=(e=T().mark((function e(r){return T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w({loginid:t.paymentagent_loginid,currency:f,amount:Number(r.amount),verification_code:h});case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){P(a,n,o,i,c,"next",e)}function c(e){P(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}();return v||!b.length?o().createElement(a.Loading,{className:"cashier__loader",is_fullscreen:!1}):o().createElement("div",{className:"payment-agent-listed-withdraw-form"},o().createElement(a.Text,{as:"p",className:"payment-agent-listed-withdraw-form__header",line_height:"s",size:"xs",weight:"bold"},o().createElement(d.Localize,{i18n_default_text:"Withdrawal amount"})),o().createElement(C.l1,{initialValues:{amount:""},validate:function(e){return function(e,t){var r=t.balance,n=t.currency,o=t.payment_agent,a={},i=(0,p.validNumber)(e.amount,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:"float",decimals:(0,p.getDecimalPlaces)(n)},o.min_withdrawal&&{min:Number(o.min_withdrawal),max:o.max_withdrawal?Number(o.max_withdrawal):void 0})),c=i.is_ok,l=i.message;return e.amount?!c&&l?a.amount=l:Number(r)<Number(e.amount)&&(a.amount=(0,d.localize)("Insufficient balance.")):a.amount=(0,d.localize)("This field is required."),a}(e,{balance:s,currency:f,payment_agent:b.find((function(e){return e.value===t.paymentagent_loginid}))})},onSubmit:k},(function(e){var r=e.errors,n=e.isSubmitting,i=e.isValid,c=e.touched,l=e.values;return o().createElement(C.lV,{className:"payment-agent-listed-withdraw-form__form"},o().createElement(C.D0,{name:"amount"},(function(e){var n,i,l=e.field;return o().createElement(a.Input,N({},l,{className:m()("dc-input--no-placeholder",{"dc-input--crypto-hint":y}),type:"text",label:(0,d.localize)("Enter amount"),error:c.amount&&r.amount||"",required:!0,autoComplete:"off",maxLength:30,hint:b.find((function(e){return e.value===t.paymentagent_loginid}))&&o().createElement(d.Localize,{i18n_default_text:"Withdrawal limits: <0 />-<1 />",components:[o().createElement(a.Money,{key:0,amount:(null===(n=b.find((function(e){return e.value===t.paymentagent_loginid})))||void 0===n?void 0:n.min_withdrawal)||"",currency:t.currency,show_currency:!0}),o().createElement(a.Money,{key:1,amount:(null===(i=b.find((function(e){return e.value===t.paymentagent_loginid})))||void 0===i?void 0:i.max_withdrawal)||"",currency:t.currency,show_currency:!0})]}),ref:x,trailing_icon:o().createElement("span",{className:m()("symbols","symbols--".concat(f.toLowerCase()))},(0,p.getCurrencyDisplayCode)(f))}))})),o().createElement(a.Button,{type:"submit",is_disabled:!i||n||!l.amount,primary:!0,large:!0},o().createElement(d.Localize,{i18n_default_text:"Continue"})))})),o().createElement(z.A,{error:_,className:"payment-agent-list__error-dialog"}))}));const F=M,R=function(e){var t=e.is_dark_mode_on,r=void 0!==t&&t,n=e.is_deposit,i=void 0!==n&&n,c=e.payment_agent,l={header:o().createElement(x,{is_dark_mode_on:r,payment_agent:c}),content:i?o().createElement(L,{payment_agent:c}):o().createElement(F,{payment_agent:c})};return o().createElement("div",{className:m()("payment-agent-card",{"payment-agent-card--dark":r})},o().createElement(a.ExpansionPanel,{message:l}))};var U=r("../../../node_modules/lodash.debounce/index.js"),G=r.n(U);function B(){return B=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B.apply(null,arguments)}const Y=function(e){var t=e.className,r=e.onClear,n=e.onSearch,i=e.placeholder,c=e.search_term,l=e.setIsSearchLoading;o().useEffect((function(){return r}),[]);var s=function(e,t){if(!t.trim()&&c)r();else if(!t.trim())return;l(!0),e()};return o().createElement("div",{className:m()("cashier-search-box",t)},o().createElement(C.l1,{initialValues:{search:""},onSubmit:function(e){var t=e.search;n(t)}},(function(e){var t=e.submitForm,n=e.values.search,c=e.setFieldValue;return o().createElement(C.lV,null,o().createElement(C.D0,{name:"search"},(function(e){var l=e.field;return o().createElement(a.Input,B({},l,{type:"text",name:"search",placeholder:i,onKeyUp:function(){return s(t,n)},onKeyDown:function(){return s(t,n)},leading_icon:o().createElement(a.Icon,{icon:"IcSearch",data_testid:"dt_search_icon"}),trailing_icon:n?o().createElement(a.Icon,{color:"general",data_testid:"dt_close_icon",icon:"IcCloseCircle",onClick:function(){return function(e){e("search",""),r()}(c)}}):null}))})))})))};var W=(0,c.observer)((function(){var e=(0,u.q)().payment_agent,t=e.filterPaymentAgentList,r=e.setIsSearchLoading,n=e.search_term,a=e.setSearchTerm,i=G()((function(){t()}),500);return o().createElement(Y,{onClear:function(){a(""),t()},onSearch:function(e){a(e.trim()),i()},placeholder:(0,d.localize)("Search payment agent name"),search_term:n,setIsSearchLoading:r})}));const V=W;function q(e){return q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q(e)}function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H.apply(null,arguments)}function $(){$=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new z(n||[]);return o(i,"_invoke",{value:S(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",d="suspendedYield",h="executing",p="completed",y={};function v(){}function _(){}function g(){}var b={};s(b,i,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(j([])));E&&E!==r&&n.call(E,i)&&(b=E);var x=g.prototype=v.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==q(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function S(t,r,n){var o=m;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===p){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=A(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?p:d,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=p,n.method="throw",n.arg=s.arg)}}}function A(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,A(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function z(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function j(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(q(t)+" is not iterable")}return _.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:_,configurable:!0}),_.displayName=s(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},k(O.prototype),s(O.prototype,c,(function(){return this})),t.AsyncIterator=O,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new O(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(x),s(x,l,"Generator"),s(x,i,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=j,z.prototype={constructor:z,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),C(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;C(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:j(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function K(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}var J=(0,c.observer)((function(e){var t=e.setIsUnlistedWithdraw,r=(0,l.A)().client,n=r.balance,i=r.currency,c=r.verification_code.payment_agent_withdraw,s=(0,u.q)().payment_agent,f=s.error,h=s.onMountPaymentAgentWithdraw,y=s.requestTryPaymentAgentWithdraw;o().useEffect((function(){h()}),[h]);var v=function(){var e,t=(e=$().mark((function e(t){return $().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y({loginid:t.account_number,currency:i,amount:Number(t.amount),verification_code:c});case 2:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){K(a,n,o,i,c,"next",e)}function c(e){K(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return o().createElement("div",{className:"payment-agent-withdraw-form"},o().createElement("div",{className:"payment-agent-withdraw-form__page-return"},o().createElement(a.Icon,{data_testid:"dt-back-arrow-icon",icon:"icArrowLeftBold",onClick:function(){return t(!1)}}),o().createElement(a.Text,{as:"p",line_height:"m",size:"xs",weight:"bold"},o().createElement(d.Localize,{i18n_default_text:"Back to list"}))),o().createElement(C.l1,{initialValues:{account_number:"",amount:""},validate:function(e){return function(e,t){var r=t.balance,n=t.currency,o={},a=(0,p.validNumber)(e.amount,{type:"float",decimals:(0,p.getDecimalPlaces)(n)}),i=a.is_ok,c=a.message;return e.amount?!i&&c?o.amount=c:void 0!==r&&Number(r)<Number(e.amount)?o.amount=(0,d.localize)("Insufficient balance."):e.account_number?/^CR\d+$/.test(e.account_number)||(o.account_number=(0,d.localize)("Please enter a valid account number. Example: CR123456789")):o.account_number=(0,d.localize)("This field is required."):o.amount=(0,d.localize)("This field is required."),o}(e,{balance:n,currency:i})},onSubmit:v},(function(e){var t=e.errors,r=e.isSubmitting,n=e.isValid,c=e.touched,l=e.values,s=e.setFieldValue;return o().createElement(C.lV,{className:"payment-agent-withdraw-form__form"},o().createElement(C.D0,{name:"account_number"},(function(e){var r=e.field;return o().createElement(a.Input,H({},r,{type:"text",className:"payment-agent-withdraw-form__form-account-number",label:(0,d.localize)("Enter the payment agent account number"),error:c.account_number&&t.account_number||void 0,hint:(0,d.localize)("Example: CR123456789"),required:!0,autoComplete:"off",maxLength:30,trailing_icon:t.account_number===(0,d.localize)("Please enter a valid account number. Example: CR123456789")?o().createElement(a.Icon,{icon:"IcCloseCircleRed",onClick:function(){s("account_number","")}}):null}))})),o().createElement("div",{className:"payment-agent-withdraw-form__form-amount"},o().createElement(C.D0,{name:"amount"},(function(e){var r=e.field;return o().createElement(a.Input,H({},r,{type:"text",label:(0,d.localize)("Enter amount"),error:c.amount&&t.amount||void 0,required:!0,autoComplete:"off",maxLength:30,trailing_icon:o().createElement("span",{className:m()("symbols","symbols--".concat(i.toLowerCase()))},(0,p.getCurrencyDisplayCode)(i))}))})),o().createElement(a.Button,{type:"submit",is_disabled:!n||r||!l.account_number||!l.amount,primary:!0,large:!0},o().createElement(d.Localize,{i18n_default_text:"Continue"}))))})),o().createElement(a.Text,{as:"p",color:"less-prominent",line_height:"s",size:"xxs"},o().createElement(d.Localize,{i18n_default_text:"Note: {{website_name}} does not charge any transfer fees.",values:{website_name:p.website_name}})),o().createElement(z.A,{error:f,className:"payment-agent-list__error-dialog"}))}));const X=J;var Q=r("./components/transfer-confirm/index.ts"),Z=(0,c.observer)((function(){var e=(0,l.A)().client,t=e.loginid,r=e.verification_code,n=(0,u.q)().payment_agent,i=n.confirm,c=i.amount,s=i.currency,f=i.loginid,m=i.payment_agent_name,h=n.error,p=n.requestPaymentAgentWithdraw,y=n.setIsTryWithdrawSuccessful;return o().createElement(Q.A,{data:[{label:(0,d.localize)("From account number"),value:t||"",item_key:"transfer_from"},{label:[(0,d.localize)("To account number"),(0,d.localize)("Account holder name")],value:[f.toUpperCase(),m],item_key:"transfer_to"},{label:(0,d.localize)("Amount"),value:o().createElement(a.Money,{currency:s,amount:c,show_currency:!0}),item_key:"amount"}],error:h,is_payment_agent_withdraw:!0,onClickBack:function(){y(!1)},onClickConfirm:function(){p({loginid:f,currency:s,amount:c,verification_code:r.payment_agent_withdraw})}})}));const ee=Z;var te=r("react-router"),re=function(e){var t=e.email,r=e.phone_numbers,n=e.urls;return o().createElement("div",{className:"payment-agent-receipt__transferred-contact"},r&&o().createElement(E,{action:"tel",icon:"IcPhone"},r.map((function(e){return e.phone_number}))),t&&o().createElement(E,{action:"mailto",icon:"IcEmailOutlineNew",rel:"noopener noreferrer",target:"_blank"},t),n&&o().createElement(E,{icon:"IcWebsite",is_link:!0,rel:"noopener noreferrer",target:"_blank"},n.map((function(e){return e.url}))))},ne=(0,c.observer)((function(e){var t=e.history,r=(0,l.A)(),n=r.client,i=r.common,c=(0,u.q)().payment_agent,f=n.currency,h=i.is_from_derivgo,y=(0,s.Y)(),v=y.isDesktop,_=y.isMobile,g=c.receipt,b=c.resetPaymentAgent;return o().useEffect((function(){return function(){return b()}}),[b]),o().createElement("div",{className:"cashier__wrapper--align-center payment-agent-receipt"},o().createElement(a.Text,{as:"h1",align:"center",color:"prominent",line_height:"m",size:_?"xsm":"sm",weight:"bold",className:m()("payment-agent-receipt__header",{"payment-agent-receipt__header-listed":g.payment_agent_name,"payment-agent-receipt__header-unlisted":!g.payment_agent_name})},o().createElement(d.Localize,{i18n_default_text:"Youve transferred {{amount}} {{currency}}",values:{amount:g.amount_transferred,currency:f}})),o().createElement(a.Text,{as:"p",align:"center",color:"prominent",line_height:"m",size:"xs",weight:"bold"},o().createElement(d.Localize,{i18n_default_text:"Important notice to receive your funds"})),o().createElement(a.Text,{as:"p",align:"center",color:"prominent",size:"xxs",line_height:"m",className:m()("payment-agent-receipt__explanation",{"payment-agent-receipt__explanation-unlisted":!g.payment_agent_name})},o().createElement(d.Localize,{i18n_default_text:"{{ text }}. <0></0>You can view the summary of this transaction in your email.",components:v?[]:[o().createElement("br",{key:0})],values:{text:g.payment_agent_name?(0,d.localize)("To receive your funds, contact the payment agent with the details below"):(0,d.localize)("To receive your funds, contact the payment agent")},key:0})),g.payment_agent_name&&o().createElement("div",{className:"payment-agent-receipt__transferred-contact-wrapper"},o().createElement(a.Text,{align:"center",as:"p",size:"xxs",line_height:"m",weight:"bold"},o().createElement(d.Localize,{i18n_default_text:"<0>{{payment_agent}}</0><1>'s</1> contact details",components:[o().createElement("span",{key:0}),o().createElement("span",{key:1})],values:{payment_agent:g.payment_agent_name},options:{interpolation:{escapeValue:!1}}})),g.payment_agent_email&&g.payment_agent_phone&&g.payment_agent_url&&o().createElement(re,{email:g.payment_agent_email,phone_numbers:g.payment_agent_phone,urls:g.payment_agent_url})),o().createElement("div",{className:"cashier__form-submit"},!h&&o().createElement(a.Button,{className:"cashier__form-submit-button",has_effect:!0,text:(0,d.localize)("View transaction"),onClick:function(){return function(e,t){e.push(p.routes.statement),t()}(t,b)},secondary:!0,large:!0}),o().createElement(a.Button,{className:"cashier__form-submit-button cashier__done-button",has_effect:!0,text:(0,d.localize)("Make a new withdrawal"),onClick:b,primary:!0,large:!0})))}));const oe=(0,te.withRouter)(ne),ae=function(){return o().createElement("div",{className:"missing-payment-method-note"},o().createElement(a.Text,{as:"p",className:"missing-payment-method-note__title",size:"xs",line_height:"m",weight:"bold"},o().createElement(d.Localize,{i18n_default_text:"Note"})),o().createElement(a.Text,{as:"p",size:"xxs",line_height:"s"},o().createElement(d.Localize,{i18n_default_text:"Some payment methods may not be listed here but payment agents may still offer them. If you cant find your favourite method, contact the payment agents directly to check further."})))},ie=function(){return o().createElement("div",{className:"payment-agent-disclaimer"},o().createElement(a.Text,{as:"p",className:"payment-agent-disclaimer__title",size:"xs",line_height:"m",weight:"bold"},o().createElement(d.Localize,{i18n_default_text:"DISCLAIMER"})),o().createElement(a.Text,{as:"p",size:"xxs",line_height:"s"},o().createElement(d.Localize,{i18n_default_text:"{{website_name}} is not affiliated with any payment agents. Customers deal with payment agents at their sole risk. Customers are advised to check the credentials of payment agents and the accuracy of any information about payment agents (on {{website_name}} or elsewhere) before using their services.",values:{website_name:p.website_name}})))};var ce=(0,c.observer)((function(){var e=(0,u.q)().payment_agent,t=e.is_withdraw_successful,r=e.is_try_withdraw_successful;return t||r?o().createElement(o().Fragment,null,o().createElement(a.SideNote,{key:0},o().createElement(ie,null))):o().createElement(o().Fragment,null,o().createElement(a.SideNote,{key:0},o().createElement(ie,null)),o().createElement(a.SideNote,{key:1},o().createElement(ae,null)))}));const le=ce;function se(e,t){if(e){if("string"==typeof e)return ue(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var fe=function(){return o().createElement("div",{className:"payment-agent-list__search-warning cashier__wrapper--align-center"},o().createElement(a.Icon,{icon:"IcCashierSearch",size:64}),o().createElement(a.Text,{as:"p",line_height:"m",size:"xs",weight:"bold"},o().createElement(d.Localize,{i18n_default_text:"No payment agents found for your search"})),o().createElement(a.Text,{as:"p",line_height:"m",size:"xs"},o().createElement(d.Localize,{i18n_default_text:"Try changing your search criteria."})))},me=(0,c.observer)((function(e){var t=e.is_deposit,r=(0,l.A)().ui,n=r.app_contents_scroll_ref,i=r.is_dark_mode_on,c=(0,u.q)().payment_agent,f=c.has_payment_agent_search_warning,m=c.is_search_loading,h=c.is_try_withdraw_successful,p=c.is_withdraw_successful,y=c.onChangePaymentMethod,v=c.filtered_list,_=c.selected_bank,g=c.supported_banks,b=(0,s.Y)().isDesktop;o().useEffect((function(){return function(){y({target:{value:"0"}})}}),[y]),o().useEffect((function(){null!=n&&n.current&&(n.current.scrollTop=0)}),[h,p]);var w=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||se(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o().useState(!1),2),E=w[0],x=w[1],k=[{text:o().createElement(d.Localize,{i18n_default_text:"All payment methods"}),value:0}].concat(function(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||se(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(g));return h?o().createElement(ee,null):p?o().createElement(oe,null):E?o().createElement(X,{setIsUnlistedWithdraw:x}):o().createElement(o().Fragment,null,o().createElement("div",{className:"payment-agent-list__side-note-container"},b?null:o().createElement(le,null)),o().createElement("div",{className:"payment-agent-list__list-header"},t?o().createElement(a.Text,{as:"p",line_height:"s",size:"xs"},o().createElement(d.Localize,{i18n_default_text:"Contact your preferred payment agent for payment instructions and make your deposit."})):o().createElement(a.Text,{as:"p",line_height:"s",size:"xs"},o().createElement(d.Localize,{i18n_default_text:"Choose your preferred payment agent and enter your withdrawal amount. If your payment agent is not listed, <0>search for them using their account number</0>.",components:[o().createElement("span",{"data-testid":"dt_withdrawal_link",key:0,className:"link",onClick:function(){return x(!E)}})]}))),o().createElement("div",{className:"payment-agent-list__list-selector"},o().createElement(V,null),g.length>=1&&o().createElement(o().Fragment,null,o().createElement(a.DesktopWrapper,null,o().createElement(a.Dropdown,{id:"payment_methods",classNameItems:"cashier__drop-down-items",list:k,name:"payment_methods",value:_,onChange:y})),o().createElement(a.MobileWrapper,null,o().createElement(a.SelectNative,{hide_top_placeholder:!1,placeholder:(0,d.localize)("All payment methods"),name:"payment_methods",list_items:g,value:0===_?"":_.toString(),label:0===_?(0,d.localize)("All payment methods"):(0,d.localize)("Type"),onChange:function(e){return y({target:{name:"payment_methods",value:e.target.value?e.target.value.toLowerCase():"0"}})},use_text:!1})))),m?o().createElement(a.Loading,{is_fullscreen:!1,className:"payment-agent-list__search-loader"}):o().createElement("div",null,f?o().createElement(fe,null):v.map((function(e){return o().createElement(R,{key:"".concat(e.name,"-").concat(e.email,"-").concat(e.currency),is_dark_mode_on:i,is_deposit:t,payment_agent:e})}))))}));const de=me;var he=(0,c.observer)((function(){var e=(0,u.q)(),t=e.payment_agent,r=e.general_store;return o().useEffect((function(){t.onMountPaymentAgentList()}),[t]),o().createElement("div",null,r.is_loading?o().createElement(a.Loading,{is_fullscreen:!1}):o().createElement(de,{is_deposit:!0}))}));const pe=he;var ye=r("../../hooks/src/useVerifyEmail.ts"),ve=r("./components/email-verification-empty-state/index.ts"),_e=r("react-router-dom"),ge=r("./components/error/index.ts");function be(e){return function(e){if(Array.isArray(e))return we(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return we(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?we(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Ee=function(e){var t=e.item;return o().createElement("div",{className:"cashier__wrapper--align-center payment-agent-withdrawal-locked"},t.title&&o().createElement(a.Text,{align:"center",as:"p",className:"payment-agent-withdrawal-locked__title",line_height:"s",size:"s"},t.title),o().createElement(a.Text,{align:"center",as:"p",className:"payment-agent-withdrawal-locked__text",line_height:"s",size:"xs"},t.content),o().createElement(a.Button,{className:"payment-agent-withdrawal-locked__btn-confirm",onClick:t.onConfirm,primary:!0,large:!0,type:"button"},o().createElement(d.Localize,{i18n_default_text:t.btn_confirm_text})))};const xe=(0,_e.withRouter)((function(e){var t=e.error,r=e.history,n=[].concat(be("PaymentAgentWithdrawSameMethod"===t.code?[{btn_confirm_text:(0,d.localize)("OK"),content:(0,d.localize)("To withdraw your funds, please choose the same payment method you used to make your deposits."),onConfirm:function(){return r.push(p.routes.cashier_withdrawal)}}]:[]),be("PaymentAgentUseOtherMethod"===t.code?[{btn_confirm_text:(0,d.localize)("OK"),content:o().createElement(d.Localize,{i18n_default_text:"Please use an e-wallet that you have used for deposits previously. Ensure the e-wallet supports withdrawal. See the list of e-wallets that support withdrawals <0>here</0>.",components:[o().createElement(a.StaticUrl,{key:0,className:"link",href:"/payment-methods"})]}),onConfirm:function(){return r.push(p.routes.cashier_withdrawal)},title:(0,d.localize)("Please use an e-wallet to withdraw your funds.")}]:[]));return t.onClickButton||"PaymentAgentWithdrawSameMethod"!==t.code&&"PaymentAgentUseOtherMethod"!==t.code?o().createElement(ge.A,{error:t}):o().createElement(o().Fragment,null,n.map((function(e){return o().createElement(Ee,{item:e,key:e.title})})))}));var ke=(0,c.observer)((function(){var e=(0,ye.A)("paymentagent_withdraw"),t=(0,l.A)().client,r=(0,u.q)().payment_agent,n=t.verification_code.payment_agent_withdraw;return o().useEffect((function(){r.active_tab_index&&!n&&t.is_authorize&&e.send()}),[r.active_tab_index,n,t.is_authorize]),e.is_loading?o().createElement(a.Loading,{is_fullscreen:!1}):e.error&&"code"in e.error?o().createElement(xe,{error:e.error}):e.has_been_sent?o().createElement(ve.A,{type:"paymentagent_withdraw"}):n||r.is_withdraw?o().createElement(de,null):null}));const Oe=ke;var Se=r("./components/deposit-sub-page-analytics-event-tracker/index.ts"),Ae=(0,c.observer)((function(){var e=(0,u.q)().payment_agent,t=(0,l.A)().common.current_language,r=(0,s.Y)().isDesktop;return o().createElement("div",{className:"payment-agent-list cashier__wrapper--align-left"},o().createElement(Se.U,{deposit_category:"payment_agent"}),o().createElement("div",{className:m()("payment-agent-list__instructions",{"payment-agent-list__instructions-hide-tabs":e.is_try_withdraw_successful}),key:t},o().createElement(a.Tabs,{active_index:e.active_tab_index,className:"tabs--desktop",onTabItemClick:e.setActiveTab,top:!0,header_fit_content:r,center:!1,bottom:!1,active_icon_color:"",background_color:"",fit_content:!1,icon_color:"",icon_size:0,is_100vw:!1,is_full_width:!1,is_overflow_hidden:!1,is_scrollable:!1,should_update_hash:!1,single_tab_has_no_label:!1},o().createElement("div",{label:(0,d.localize)("Deposit")},o().createElement(pe,null)),o().createElement("div",{label:(0,d.localize)("Withdrawal")},o().createElement(Oe,null)))))}));const Le=Ae;var Ce=r("./components/page-container/index.ts"),ze=r("./components/cashier-locked/index.ts"),je=r("./components/cashier-container/virtual/index.ts"),Ne=(0,c.observer)((function(){var e=(0,s.Y)().isDesktop,t=(0,l.A)().client,r=t.is_switching,n=t.is_virtual,c=t.verification_code.payment_agent_withdraw,f=(0,u.q)().payment_agent,m=(0,i.A)(),d=f.is_withdraw,h=f.active_tab_index,p=f.setActiveTabIndex;return p(c||d||h?1:0),o().useEffect((function(){return function(){p(0)}}),[]),r?o().createElement(Ce.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(a.Loading,{className:"cashier__loader",is_fullscreen:!1})):n?o().createElement(Ce.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(je.A,null)):m?o().createElement(Ce.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(ze.A,null)):o().createElement(Ce.A,{hide_breadcrumb:!0,right:e?o().createElement(le,null):o().createElement(o().Fragment,null)},o().createElement(Le,null))}));const Te=Ne},"./pages/withdrawal/index.ts":(e,t,r)=>{r.d(t,{default:()=>pe});var n=r("react"),o=r.n(n),a=r("react-router-dom"),i=r("@deriv/components"),c=r("../../hooks/src/useCurrentCurrencyConfig.ts"),l=r("mobx-react-lite"),s=r("../../stores/src/useStore.ts"),u=r("./components/side-notes/index.ts"),f=r("./modules/deposit-crypto/components/index.ts"),m=r("./stores/useCashierStores.tsx"),d=r("./components/page-container/index.ts"),h=r("./components/error/index.ts"),p=r("./components/no-balance/index.ts"),y=r("./components/transactions-crypto-history/index.ts"),v=r("../../../node_modules/formik/dist/formik.esm.js"),_=r("../../hooks/src/useExchangeRate.ts"),g=r("@deriv-com/analytics"),b=r("../../../node_modules/@deriv-com/utils/dist/deriv-utils.js");const w=JSON.parse('{"cs_chat_livechat":true,"cs_chat_whatsapp":true,"marketing_growthbook":true,"passkeys":true,"tracking_GTM":true,"tracking_datadog":true,"tracking_hotjar":true,"tracking_rudderstack":true}');function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function k(){k=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,i=Object.create(a.prototype),c=new N(n||[]);return o(i,"_invoke",{value:L(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",d="suspendedYield",h="executing",p="completed",y={};function v(){}function _(){}function g(){}var b={};s(b,i,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(T([])));x&&x!==r&&n.call(x,i)&&(b=x);var O=g.prototype=v.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,c){var l=f(e[o],e,a);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==E(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,r,n){var o=m;return function(a,i){if(o===h)throw Error("Generator is already running");if(o===p){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===y)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=h;var s=f(t,r,n);if("normal"===s.type){if(o=n.done?p:d,s.arg===y)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=p,n.method="throw",n.arg=s.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,y;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,y):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(E(t)+" is not iterable")}return _.prototype=g,o(O,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:_,configurable:!0}),_.displayName=s(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),s(A.prototype,c,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),s(O,l,"Generator"),s(O,i,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),y}},t}function O(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}function S(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){O(a,n,o,i,c,"next",e)}function c(e){O(a,n,o,i,c,"throw",e)}i(void 0)}))}}var A=function(){var e=S(k().mark((function e(){var t,r;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=(t="")){e.next=4;break}throw new Error("Remote Config URL is not set!");case 4:return e.next=6,fetch(t);case 6:if((r=e.sent).ok){e.next=9;break}throw new Error("Remote Config Server is out of reach!");case 9:return e.abrupt("return",r.json());case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();const L=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)(w),2),r=t[0],o=t[1],a=(0,n.useRef)(!1);return(0,n.useEffect)((function(){return a.current=!0,function(){a.current=!1}}),[]),(0,n.useEffect)((function(){e&&A().then(function(){var e=S(k().mark((function e(t){var n,i;return k().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.BF.hashObject(t);case 2:return n=e.sent,e.next=5,b.BF.hashObject(r);case 5:i=e.sent,n!==i&&a.current&&o(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("Remote Config error: ",e)}))}),[e,r]),{data:r}};function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const N=function(e){var t=e.featureFlag,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,n.useState)(null===g.Analytics||void 0===g.Analytics?void 0:g.Analytics.isFeatureOn(t)),2),o=r[0],a=r[1],i=function(){var e=C((0,n.useState)(!1),2),t=e[0],r=e[1],o=L(!0).data,a=C((0,n.useState)(!0),2),i=a[0],c=a[1];return(0,n.useEffect)((function(){var e;if(null!=o&&o.marketing_growthbook){var t=0;e=setInterval((function(){var n;if(t>20)return clearInterval(e),void c(!1);t+=1,null!==g.Analytics&&void 0!==g.Analytics&&null!==(n=g.Analytics.getInstances())&&void 0!==n&&n.ab&&(r(!0),clearInterval(e))}),500)}else c(!1);return function(){clearInterval(e)}}),[o.marketing_growthbook]),{isGBLoaded:t,isGBAvailable:i}}().isGBLoaded;return(0,n.useEffect)((function(){var e;if(i&&null!==g.Analytics&&void 0!==g.Analytics&&null!==(e=g.Analytics.getInstances())&&void 0!==e&&e.ab){var r,n=function(){var e=null===g.Analytics||void 0===g.Analytics?void 0:g.Analytics.isFeatureOn(t);a(e)};n(),null===g.Analytics||void 0===g.Analytics||null===(r=g.Analytics.getInstances())||void 0===r||null===(r=r.ab)||void 0===r||null===(r=r.GrowthBook)||void 0===r||r.setRenderer((function(){n()}))}}),[i,t]),[o,i]};var T=r("@deriv/shared"),P=r("@deriv/translations"),I=r("./components/crypto-fiat-converter/index.ts"),D=r("./components/percentage-selector/index.ts"),M=r("@deriv/utils"),F=r("../../api/src/useSubscription.ts");function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return U(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const G=function(){var e,t,r,o=(0,F.A)("crypto_estimations"),a=o.subscribe,i=o.data,c=o.error,l=o.unsubscribe,s=R((0,n.useState)({}),2),u=s[0],f=s[1],m=R((0,n.useState)({}),2),d=m[0],h=m[1],p=R((0,n.useState)("BTC"),2),y=p[0],v=p[1],_=R((0,n.useState)(),2),g=_[0],b=_[1],w=R((0,n.useState)(0),2),E=w[0],x=w[1],k=R((0,n.useState)(""),2),O=k[0],S=k[1],A=(0,n.useRef)(null);return(0,n.useEffect)((function(){var e,t,r;null!=i&&null!==(e=i.crypto_estimations)&&void 0!==e&&null!==(e=e[y].withdrawal_fee)&&void 0!==e&&e.expiry_time&&h(null!==(t=null==i||null===(r=i.crypto_estimations)||void 0===r?void 0:r[y].withdrawal_fee)&&void 0!==t?t:{})}),[y,i]),(0,n.useEffect)((function(){c&&b(c)}),[c]),(0,n.useEffect)((function(){if(null!=d&&d.expiry_time&&0===E){var e;f(d);var t=(0,M.toMoment)();S("".concat(t.utc().format("HH:mm:ss")," GMT"));var r=(0,M.epochToMoment)(null!==(e=null==d?void 0:d.expiry_time)&&void 0!==e?e:0).diff(t,"seconds")-1;x(r)}}),[E,null==d?void 0:d.expiry_time]),(0,n.useEffect)((function(){return A.current=setTimeout((function(){1===E?(clearTimeout(A.current),x((function(e){return e-1}))):E>0&&x((function(e){return e-1}))}),1e3),function(){A&&clearInterval(A.current)}}),[E]),{count_down:E,crypto_estimations_fee:null!==(e=null==u?void 0:u.value)&&void 0!==e?e:0,crypto_estimations_fee_unique_id:null!==(t=null==u?void 0:u.unique_id)&&void 0!==t?t:"",crypto_estimations_fee_expiry_time:null!==(r=null==u?void 0:u.expiry_time)&&void 0!==r?r:0,error:g,getCryptoEstimations:a,setCurrencyCode:v,server_time:O,unsubscribeCryptoEstimations:l}};function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const Y=(0,l.observer)((function(){var e=(0,m.q)(),t=e.crypto_fiat_converter,r=e.withdraw,n=(0,s.A)().client.currency,a=t.converter_from_amount,c=r.error,l=r.setCryptoEstimationsFeeUniqueId,u=r.setCryptoEstimationsFee,f=G(),d=f.getCryptoEstimations,h=f.error,p=f.crypto_estimations_fee,y=f.crypto_estimations_fee_unique_id,v=f.count_down,_=f.server_time,g=f.setCurrencyCode,b=f.unsubscribeCryptoEstimations,w=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?B(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o().useState(!1),2),E=w[0],x=w[1],k=(0,T.getDecimalPlaces)(n);return o().useEffect((function(){h&&(c.setErrorMessage({code:h.code,message:h.message}),x(!E))}),[h]),o().useEffect((function(){E?y&&(l(y),u(p)):(l(""),u(0))}),[E,y,l]),o().useEffect((function(){return function(){b()}}),[]),o().createElement(o().Fragment,null,o().createElement("div",{className:"withdrawal-crypto-priority__checkbox-div"},o().createElement(i.Checkbox,{name:"priority_withdrawal",onChange:function(){E||(g(n),d({payload:{currency_code:n}})),x(!E)},label:o().createElement(P.Localize,{i18n_default_text:"Priority withdrawal"}),value:E}),o().createElement(i.Popover,{message:o().createElement(P.Localize,{i18n_default_text:"Pay a small fee to prioritise your withdrawal, this fee will be deducted from the withdrawal amount."}),zIndex:"9999",alignment:"top",icon:"info",disable_message_icon:!0})),E&&y&&o().createElement("div",{className:"withdrawal-crypto-priority__info"},o().createElement("div",{className:"withdrawal-crypto-priority__info--flex"},o().createElement(i.Text,{as:"p",size:"xxs",line_height:"l"},o().createElement(P.Localize,{i18n_default_text:"Withdrawal amount:"})),o().createElement(i.Text,{as:"p",size:"xxs",line_height:"l"},Number(a).toFixed(k)," ",n)),o().createElement("div",{className:"withdrawal-crypto-priority__info--flex"},o().createElement(i.Text,{as:"p",size:"xxs",line_height:"l"},o().createElement(P.Localize,{i18n_default_text:"Transaction fee"}),o().createElement(i.Text,{as:"span",size:"xxs",line_height:"l",weight:"lighter"},"(",v,"s)"),":"),o().createElement(i.Popover,{message:o().createElement(P.Localize,{i18n_default_text:"Fee calculated at {{ time_stamp }}",values:{time_stamp:_}}),zIndex:"9999",alignment:"top",icon:"info",disable_target_icon:!0,disable_message_icon:!0},o().createElement(i.Text,{as:"p",size:"xxs",line_height:"l",className:"text-decoration-underline "},Number(p).toFixed(k)," ",n))),o().createElement("hr",{className:"withdrawal-crypto-priority__info-divider"}),o().createElement("div",{className:"withdrawal-crypto-priority__info--flex"},o().createElement(i.Text,{as:"p",size:"xxs",line_height:"l"},o().createElement(P.Localize,{i18n_default_text:"Amount received:"})),o().createElement(i.Text,{as:"p",size:"xxs",line_height:"l",weight:"bold"},Number(a)?(parseFloat(Number(a).toFixed(k))-Number(p)).toFixed(k):Number(a).toFixed(k)," ",n))))}));function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W.apply(null,arguments)}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return q(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var H=function(e){var t=e.currency,r=(0,T.getCurrencyName)(t),n=T.CryptoConfig.get()[t].display_code;return o().createElement(o().Fragment,null,o().createElement(i.Text,{as:"h2",color:"prominent",weight:"bold",align:"center",className:"cashier__header"},o().createElement(P.Localize,{i18n_default_text:"Withdraw {{currency}} ({{currency_symbol}}) to your wallet",values:{currency:r,currency_symbol:n}})),o().createElement(i.InlineMessage,null,o().createElement(i.Text,{as:"ul",className:"withdrawal-crypto-form__inline-list",size:"xxs"},o().createElement("li",null,o().createElement(P.Localize,{i18n_default_text:"Do not enter an address linked to an initial coin offering (ICO) purchase or crowdsale. If you do, the initial coin offering (ICO) tokens will not be credited into your account."})),o().createElement("li",null,o().createElement(P.Localize,{i18n_default_text:"Please note that your maximum and minimum withdrawal limits arent fixed. They change due to the high volatility of cryptocurrency."})))))};const $=(0,l.observer)((function(){var e=V(o().useState("right"),2),t=e[0],r=e[1],n=(0,s.A)().client,a=n.balance,c=n.currency,l=n.current_fiat_currency,u=void 0===l?"USD":l,f=n.verification_code.payment_withdraw,d=(0,m.q)(),h=d.crypto_fiat_converter,p=d.general_store,y=d.withdraw,g=c,b=y.blockchain_address,w=y.onMountCryptoWithdraw,E=y.requestWithdraw,x=y.setBlockchainAddress,k=y.setWithdrawPercentageSelectorResult,O=y.validateWithdrawFromAmount,S=y.validateWithdrawToAmount,A=h.converter_from_error,L=h.converter_to_error,C=h.onChangeConverterFromAmount,z=h.onChangeConverterToAmount,j=h.resetConverter,T=p.is_loading,M=p.percentage,F=p.percentageSelectorSelectionStatus,R=p.should_percentage_reset,U=(0,_.A)().handleSubscription,G=V(N({featureFlag:"priority_crypto_withdrawal"}),2),B=G[0],q=G[1];o().useEffect((function(){if(u&&g){var e="right"===t;U(e?g:u,e?u:g)}}),[u,g,U,t]),o().useEffect((function(){return w(f),function(){F(!1)}}),[]);var $=function(e){return e?e.length<25||e.length>64?(0,P.localize)("Your wallet address should have 25 to 64 characters."):void 0:(0,P.localize)("This field is required.")};return T?o().createElement(i.Loading,null):o().createElement("div",{className:"withdrawal-crypto-form__wrapper","data-testid":"dt_withdrawal_crypto_form"},o().createElement(H,{currency:c}),o().createElement(v.l1,{initialValues:{address:"",priority_withdrawal:!1},onSubmit:function(){return E(f)}},(function(e){var n=e.errors,l=e.isSubmitting,s=e.touched,f=e.setFieldTouched,m=e.handleChange,d=e.handleSubmit,h=e.values;return o().createElement("form",{className:"withdrawal-crypto-form",onSubmit:d,autoComplete:"off"},o().createElement(v.D0,{name:"address",validate:$},(function(e){var t=e.field;return o().createElement(i.Input,W({},t,{onChange:function(e){m(e),x(e.target.value),f("address",!0,!1)},className:"cashier__input withdraw__input","data-testid":"dt_address_input",type:"text",label:o().createElement(P.Localize,{i18n_default_text:"Your {{currency_symbol}} wallet address",values:{currency_symbol:null==c?void 0:c.toUpperCase()}}),error:s.address?n.address:"",required:!0,autoComplete:"off"}))})),o().createElement("div",{className:"withdrawal-crypto-form__percentage-container"},o().createElement("div",{className:"withdrawal-crypto-form__percentage-selector"},o().createElement(D.A,{amount:Number(a),getCalculatedAmount:k,percentage:M,should_percentage_reset:R,from_currency:g,to_currency:u||"USD"})),o().createElement(I.A,{arrow_icon_direction:t,from_currency:g,onChangeConverterFromAmount:C,onChangeConverterToAmount:z,resetConverter:j,setArrowIconDirection:r,to_currency:u||"USD",validateFromAmount:O,validateToAmount:S}),Boolean(q&&B)&&o().createElement(Y,null),o().createElement("div",{className:"withdrawal-crypto-form__submit"},o().createElement(i.Button,{className:"cashier__form-submit-button",is_disabled:!!$(h.address)||!!A||!!L||l||!b,type:"submit",primary:!0,large:!0},o().createElement(P.Localize,{i18n_default_text:"Withdraw"})))))})))}));var K=r("../../hooks/src/useCryptoTransactions.ts"),J=r("../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js"),X=r("./utils/utility.ts"),Q=r("./modules/transactions-crypto/helpers/index.ts");function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ee=function(e){var t=e.last_transaction,r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Z(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(o().useState({status_color:"warning",status_name:"In review"}),2),n=r[0],a=r[1],c={warning:"orange",unsuccessful:"red",default:"green"};return o().useEffect((function(){if(t){var e=(0,Q.n)(t),r=e.status_color,n=e.status_name;a({status_color:r,status_name:n})}}),[t]),o().createElement(i.Text,{as:"p",color:"prominent",weight:"bold",align:"center",className:"withdrawal-crypto-receipt__status"},o().createElement(i.Icon,{icon:"IcCircleDynamicColor",color:c[n.status_color]||c.default,size:8,className:"withdrawal-crypto-receipt__status-icon"}),n.status_name)},te=function(e){var t,r,n=e.account,a=e.is_mobile;return o().createElement("div",{className:"withdrawal-crypto-receipt__account-info"},o().createElement("div",{className:"withdrawal-crypto-receipt__account-info-detail"},o().createElement(i.Icon,{icon:(null==n?void 0:n.platform_icon)||"IcCurrency-".concat(null==n||null===(t=n.currency)||void 0===t?void 0:t.toLowerCase()),size:32}),o().createElement(i.Text,{color:"prominent",weight:"bold",size:a?"xxs":"s",align:"center",className:"withdrawal-crypto-receipt__account-info-detail-text"},null==n||null===(r=n.currency)||void 0===r?void 0:r.toUpperCase())),o().createElement(i.Text,{color:"less-prominent",size:a?"xs":"s",align:"center",className:"withdrawal-crypto-receipt__account-info-detail-text"},null==n?void 0:n.value))},re=function(e){var t=e.account,r=e.blockchain_address,n=e.is_mobile,a=(0,X.l)(t);return o().createElement("div",{className:"withdrawal-crypto-receipt__account-info"},o().createElement("div",{className:"withdrawal-crypto-receipt__account-info-detail"},o().createElement(i.Icon,{icon:"IcCashierWithdrawWallet",size:32}),o().createElement(i.Text,{color:"prominent",weight:"bold",align:"center",className:"withdrawal-crypto-receipt__account-info-detail-text"},o().createElement(P.Localize,{i18n_default_text:"{{account_text}} wallet",values:{account_text:a}}))),o().createElement("div",{className:"withdrawal-crypto-receipt__account-info-address"},o().createElement(i.Text,{color:"less-prominent",as:"p",size:n?"xxs":"xs",align:"center",className:"withdrawal-crypto-receipt__account-info-detail-text"},r),o().createElement(i.Clipboard,{text_copy:r,info_message:n?"":(0,P.localize)("copy"),icon:"IcCashierClipboard",success_message:(0,P.localize)("copied!"),popoverAlignment:n?"left":"bottom"})))};const ne=(0,l.observer)((function(){var e=(0,s.A)().client,t=e.currency,r=e.is_switching,n=(0,J.Y)().isMobile,a=(0,m.q)(),l=a.account_transfer,u=a.general_store,f=a.transaction_history,d=a.withdraw,h=l.selected_from,p=u.cashier_route_tab_index,y=f.setIsTransactionsCryptoVisible,v=d.blockchain_address,_=d.resetWithdrawForm,g=d.setIsWithdrawConfirmed,b=d.withdraw_amount,w=d.crypto_estimations_fee,E=(0,K.A)().last_transaction,x=(0,c.A)();return o().useEffect((function(){return function(){g(!1),_()}}),[r,p]),o().createElement("div",{className:"withdrawal-crypto-receipt__wrapper"},o().createElement(i.Text,{as:"h2",color:"prominent",weight:"bold",align:"center",className:"cashier__header"},o().createElement(P.Localize,{i18n_default_text:"Your withdrawal will be processed within 24 hours"})),o().createElement("div",{className:"withdrawal-crypto-receipt__detail"},o().createElement(ee,{last_transaction:E}),o().createElement(i.Text,{as:"p",color:"profit-success",weight:"bold",align:"center",size:n?"m":"l",className:"withdrawal-crypto-receipt__crypto"},o().createElement(P.Localize,{i18n_default_text:"{{withdraw_amount}} {{currency_symbol}}",values:{withdraw_amount:b,currency_symbol:null==t?void 0:t.toUpperCase()}})),o().createElement(te,{account:h,is_mobile:n}),o().createElement(i.Icon,{className:"withdrawal-crypto-receipt__icon",icon:"IcArrowDown",size:30}),o().createElement(re,{account:h,blockchain_address:v,is_mobile:n})),!!w&&o().createElement("div",{className:"withdrawal-crypto-receipt__transfer-fee-info"},o().createElement(i.Text,{as:"p",align:"center",size:n?"xxxs":"xxs"},o().createElement(P.Localize,{i18n_default_text:"Amount received"})),o().createElement(i.Text,{as:"p",align:"center",size:n?"xsm":"m",weight:"bold"},o().createElement(P.Localize,{i18n_default_text:"{{transaction_amount}} {{currency_symbol}}",values:{transaction_amount:(Number(b)-Number(w)).toFixed(null==x?void 0:x.fractional_digits),currency_symbol:null==t?void 0:t.toUpperCase()}})),o().createElement(i.Text,{as:"p",align:"center",size:n?"xxxs":"xxs"},o().createElement(P.Localize,{i18n_default_text:"(Transaction fee: {{transaction_fee}} {{currency_symbol}})",values:{transaction_fee:Number(w).toFixed(null==x?void 0:x.fractional_digits),currency_symbol:null==t?void 0:t.toUpperCase()}}))),o().createElement("div",{className:"withdrawal-crypto-receipt__button-wrapper"},o().createElement(i.Button,{id:"withdraw_transaction",className:"withdrawal-crypto-receipt__button withdrawal-crypto-receipt__button-left",text:(0,P.localize)("View transaction history"),onClick:function(){return y(!0)},secondary:!0}),o().createElement(i.Button,{id:"withdrawal-crypto-receipt",className:"withdrawal-crypto-receipt__button",has_effect:!0,text:(0,P.localize)("Make a new withdrawal"),onClick:function(){return g(!1)},primary:!0})))}));var oe=r("./components/cashier-container/index.ts");const ae=(0,l.observer)((function(){var e=(0,s.A)().client.verification_code.payment_withdraw,t=(0,m.q)().withdraw.onMountWithdraw;return o().useEffect((function(){t(e)}),[]),o().createElement(oe.L,null)}));var ie=r("./components/cashier-locked/index.ts");function ce(e){return function(e){if(Array.isArray(e))return le(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return le(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?le(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const se=(0,l.observer)((function(){var e=(0,s.A)().client.account_status,t=(0,m.q)().withdraw,r=t.is_10k_withdrawal_limit_reached,n=t.error.is_ask_financial_risk_approval,c=(null==e?void 0:e.authentication)||{},l=c.document,u=c.identity,f=c.needs_verification,d=r&&"verified"!==(null==u?void 0:u.status),h="none"!==(null==u?void 0:u.status),p=r&&((null==f?void 0:f.includes("document"))||"verified"!==(null==l?void 0:l.status)),y="none"!==(null==l?void 0:l.status),v=r&&n,_=(0,a.useHistory)(),g=[].concat(ce(d?[{content:h?(0,P.localize)("Check proof of identity document verification status"):(0,P.localize)("Upload a proof of identity to verify your identity"),status:"action",onClick:function(){return _.push(T.routes.proof_of_identity)}}]:[]),ce(p?[{content:y?(0,P.localize)("Check proof of address document verification status"):(0,P.localize)("Upload a proof of address to verify your address"),status:"action",onClick:function(){return _.push(T.routes.proof_of_address)}}]:[]),ce(v?[{content:(0,P.localize)("Complete the financial assessment form"),status:"action",onClick:function(){return _.push(T.routes.financial_assessment)}}]:[]));return o().createElement(o().Fragment,null,g.length?o().createElement("div",{className:"cashier-locked"},o().createElement(i.Icon,{icon:"IcCashierWithdrawalLock",className:"cashier-locked__icon"}),o().createElement(i.Text,{as:"h2",weight:"bold",align:"center",className:"cashier-locked__title"},o().createElement(P.Localize,{i18n_default_text:"You have reached the withdrawal limit.<0/>Please upload your proof of identity and address to lift the limit to continue your withdrawal.",components:[o().createElement("br",{key:0})]})),o().createElement(o().Fragment,null,o().createElement(i.Checklist,{className:"cashier-locked__checklist",items:g}))):o().createElement(ie.A,null))}));var ue=r("../../hooks/src/useVerifyEmail.ts"),fe=r("./components/email-verification-empty-state/index.ts");const me=(0,l.observer)((function(){var e=(0,ue.A)("payment_withdraw");return e.error?o().createElement(h.A,{error:e.error}):e.has_been_sent?o().createElement(fe.A,{type:"payment_withdraw"}):o().createElement(i.EmptyState,{icon:"IcWithdrawRequestVerification",title:(0,P.localize)("Confirm your identity to make a withdrawal."),description:o().createElement(o().Fragment,null,o().createElement(P.Localize,{i18n_default_text:"Hit the button below, and we'll email you a verification link."}),o().createElement("br",null),o().createElement("br",null),o().createElement(P.Localize,{i18n_default_text:"This is to confirm that it's you making the withdrawal request."})),action:{label:(0,P.localize)("Send email"),onClick:function(){return e.send()}}})}));var de=(0,l.observer)((function(){var e=(0,s.A)().client.verification_code.payment_withdraw;return o().createElement(o().Fragment,null,o().createElement(f.Ij,null),e&&o().createElement(u.u,{transaction_type:"withdraw"}))})),he=(0,l.observer)((function(){var e=(0,s.A)().client.verification_code.payment_withdraw,t=(0,m.q)(),r=t.iframe,n=t.withdraw,a=r.iframe_url,l=n.is_withdraw_confirmed,f=(0,c.A)();if(!f)return o().createElement(i.Loading,{is_fullscreen:!1});var h=f.platform.cashier.includes("crypto");return h||!e&&!a?h&&e&&!l?o().createElement(d.A,{hide_breadcrumb:!0,right:o().createElement(de,null)},o().createElement($,null)):l?o().createElement(d.A,{hide_breadcrumb:!0,right:o().createElement(de,null)},o().createElement(ne,null)):o().createElement(d.A,{hide_breadcrumb:!0,right:h?o().createElement(de,null):o().createElement(o().Fragment,null)},o().createElement(me,null)):o().createElement(d.A,{hide_breadcrumb:!0,right:o().createElement(u.u,{transaction_type:"withdraw"})},o().createElement(ae,null))}));const pe=(0,l.observer)((function(){var e=(0,s.A)().client,t=e.balance,r=e.is_switching,n=e.verification_code.payment_withdraw,c=e.setVerificationCode,l=e.account_limits,u=(0,m.q)(),f=u.withdraw,v=u.transaction_history,_=v.is_transactions_crypto_visible,g=v.setIsTransactionsCryptoVisible,b=(0,a.useHistory)(),w=new URLSearchParams(b.location.search),E=null==w?void 0:w.get("action"),x=f.check10kLimit,k=f.error.setErrorMessage,O=f.willMountWithdraw,S=f.error,A=f.is_10k_withdrawal_limit_reached,L=f.is_withdrawal_locked;return o().useEffect((function(){return function(){k({code:"",message:""})}}),[k]),o().useEffect((function(){x()}),[x,null==l?void 0:l.remainder]),o().useEffect((function(){return function(){return c("","payment_withdraw")}}),[c]),o().useEffect((function(){return function(){return O(n)}}),[O]),o().useEffect((function(){"crypto_transactions_withdraw"===E&&g(!0)}),[E,g]),r||void 0===A?o().createElement(d.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(i.Loading,{className:"cashier__loader",is_fullscreen:!1})):L||A?o().createElement(d.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(se,null)):Number(t)?S.is_show_full_page&&S.message?o().createElement(d.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(h.A,{error:S})):_?o().createElement(d.A,{hide_breadcrumb:!0},o().createElement(y.A,null)):o().createElement(he,null):o().createElement(d.A,{hide_breadcrumb:!0,right:o().createElement(o().Fragment,null)},o().createElement(p.A,null))}))},"./stores/useCashierStores.tsx":(e,t,r)=>{r.d(t,{g:()=>c,q:()=>l});var n=r("react"),o=r.n(n),a=r("../../stores/src/useStore.ts"),i=(0,n.createContext)(null),c=function(e){var t=e.children,r=(0,a.A)().modules;return o().createElement(i.Provider,{value:null==r?void 0:r.cashier},t)},l=function(){var e=(0,n.useContext)(i);if(!e)throw new Error("useCashierStore must be used within CashierStoreContext");return e}},"./utils/utility.ts":(e,t,r)=>{r.d(t,{D:()=>c,l:()=>i});var n=r("@deriv/shared");function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var i=function(e){return e.is_dxtrade||e.is_mt?e.text:(0,n.getCurrencyDisplayCode)(e.text)},c=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=r?e.replace(/[' ,-]/g,"").toLowerCase():e,a=Object.entries(t).reduce((function(e,t){var r=o(t,2),a=r[0];return r[1].some((function(e){return e===n}))?a:e}),"");return r?a:a||e}},"../../hooks/src/useCashierLocked.ts":(e,t,r)=>{r.d(t,{A:()=>o});var n=r("../../stores/src/useStore.ts");const o=function(){var e,t=(0,n.A)().client.account_status;return(null==t||null===(e=t.status)||void 0===e?void 0:e.some((function(e){return"cashier_locked"===e})))||!1}},"../../hooks/src/useCryptoTransactions.ts":(e,t,r)=>{r.d(t,{A:()=>h});var n=r("react"),o=r("../../api/src/useSubscription.ts");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var i=["subscribe","data"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||m(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||m(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){if(e){if("string"==typeof e)return d(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const h=function(){var e,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],r=(0,o.A)("cashier_payments"),a=r.subscribe,c=r.data,s=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(r,i),m=f((0,n.useState)(),2),d=m[0],h=m[1];(0,n.useEffect)((function(){t&&a()}),[a,t]),(0,n.useEffect)((function(){h((function(e){var t,r=null==c||null===(t=c.cashier_payments)||void 0===t?void 0:t.crypto;if(!r)return e;if(!e)return r;var n=u(e);return r.forEach((function(e){var t=n.findIndex((function(t){return t.id===e.id}));-1===t?n.push(e):n[t]=e})),n}))}),[null==c||null===(e=c.cashier_payments)||void 0===e?void 0:e.crypto]);var p=(0,n.useMemo)((function(){return null==d?void 0:d.map((function(e){return l(l({},e),{},{is_deposit:"deposit"===e.transaction_type,is_withdrawal:"withdrawal"===e.transaction_type})}))}),[d]),y=(0,n.useMemo)((function(){return null==p?void 0:p.sort((function(e,t){return t.submit_date-e.submit_date}))}),[p]),v=p&&p.length>0;return l({data:y,last_transaction:null==p?void 0:p[0],has_transactions:v,subscribe:a},s)}},"../../hooks/src/useCurrencyConfig.ts":(e,t,r)=>{r.d(t,{A:()=>u});var n=r("react"),o=r("../../api/src/useQuery.ts");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var i=["data"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const u=function(){var e,t=(0,o.A)("website_status"),r=t.data,a=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(t,i),c=(0,n.useMemo)((function(){var e;if(null!=r&&null!==(e=r.website_status)&&void 0!==e&&e.currencies_config){var t=r.website_status.currencies_config;return Object.keys(t).map((function(e){var r=t[e];return l(l({},r),{},{is_crypto:"crypto"===(null==r?void 0:r.type),is_fiat:"fiat"===(null==r?void 0:r.type),is_AUD:"AUD"===e,is_USD:"USD"===e,is_EUR:"EUR"===e,is_GBP:"GBP"===e,is_BTC:"BTC"===e,is_ETH:"ETH"===e,is_LTC:"LTC"===e,is_DAI:"DAI"===e,is_IDK:"IDK"===e,is_PAX:"PAX"===e,is_USB:"USB"===e,is_USDT:"UST"===e,is_TUSD:"TUSD"===e,is_BUSD:"BUSD"===e,is_EURS:"EURS"===e,is_eUSDT:"eUSDT"===e,is_tUSDT:"tUSDT"===e,is_USDC:"USDC"===e,is_USDK:"USDK"===e,code:e,display_code:"UST"===e?"USDT":e,icon:"IcCurrency".concat(e[0].toUpperCase()+e.slice(1).toLowerCase()),platform:null==r?void 0:r.platform})})).reduce((function(e,t){return l(l({},e),{},s({},t.code,t))}),{})}}),[null==r||null===(e=r.website_status)||void 0===e?void 0:e.currencies_config]);return l({getConfig:(0,n.useCallback)((function(e){return null==c?void 0:c[e]}),[c]),currencies_config:c},a)}},"../../hooks/src/useCurrentCurrencyConfig.ts":(e,t,r)=>{r.d(t,{A:()=>a});var n=r("../../stores/src/useStore.ts"),o=r("../../hooks/src/useCurrencyConfig.ts");const a=function(){var e=(0,n.A)().client.currency;return(0,(0,o.A)().getConfig)(e)}},"../../hooks/src/useDepositLocked.ts":(e,t,r)=>{r.d(t,{A:()=>a});var n=r("../../stores/src/useStore.ts");var o=r("../../hooks/src/useIsTNCNeeded.ts");const a=function(){var e=(0,n.A)().client,t=e.is_deposit_lock,r=e.is_trading_experience_incomplete,a=e.landing_company_shortcode,i=e.is_account_to_be_closed_by_residence,c=function(){var e=(0,n.A)(),t=e.client,r=e.traders_hub,o=t.is_authentication_needed,a=r.is_low_risk_cr_eu_real;return o&&a}(),l=(0,o.A)(),s=function(){var e=(0,n.A)().client,t=e.is_financial_account,r=e.is_financial_information_incomplete,o=e.is_trading_experience_incomplete;return t&&(r||o)}();return t||c||l||("maltainvest"===a?r:s)||i}},"../../hooks/src/useExchangeRate.ts":(e,t,r)=>{r.d(t,{A:()=>o});var n=r("../../stores/src/useStore.ts");const o=function(){var e=(0,n.A)().client,t=e.exchange_rates;return{handleSubscription:e.subscribeToExchangeRate,exchange_rates:t,getExchangeRate:e.getExchangeRate,unsubscribe:e.unsubscribeFromExchangeRate,unsubscribeAll:e.unsubscribeFromAllExchangeRates}}},"../../hooks/src/useHasMaltaInvestAccount.ts":(e,t,r)=>{r.d(t,{A:()=>o});var n=r("../../stores/src/useStore.ts");const o=function(){return(0,n.A)().client.active_accounts.some((function(e){return"maltainvest"===e.landing_company_shortcode}))}},"../../hooks/src/useIsP2PEnabled.ts":(e,t,r)=>{r.d(t,{A:()=>u});var n=r("react"),o=r.n(n),a=r("../../hooks/node_modules/js-cookie/src/js.cookie.js"),i=r.n(a),c=r("@deriv/shared"),l=r("../../stores/src/useStore.ts"),s=r("../../hooks/src/useP2PSettings.ts");const u=function(){var e,t=(0,s.A)(),r=t.p2p_settings,n=t.rest,a=n.isLoading,u=n.isSubscribed,f=(0,l.A)(),m=f.client,d=f.traders_hub,h=m.currency,p=m.email,y=m.is_virtual,v=m.loginid,_=m.setIsP2PEnabled,g=d.is_low_risk_cr_eu_real,b=Boolean(null==r||null===(e=r.supported_currencies)||void 0===e?void 0:e.includes(h.toLocaleLowerCase()))&&!y&&!g;return o().useEffect((function(){if(_(b),p&&v){var e=/deriv\.(com|me|be)/.test(window.location.hostname)?c.deriv_urls.DERIV_HOST_NAME:window.location.hostname;i().set("is_p2p_disabled",(!b).toString(),{domain:e,secure:!0,sameSite:"none"})}}),[p,b,v,_]),{is_p2p_enabled:b,is_p2p_enabled_loading:a,is_p2p_enabled_success:u}}},"../../hooks/src/useIsSystemMaintenance.ts":(e,t,r)=>{r.d(t,{A:()=>o});var n=r("../../stores/src/useStore.ts");const o=function(){var e,t=(0,n.A)().client.account_status;return(null==t||null===(e=t.cashier_validation)||void 0===e?void 0:e.some((function(e){return"system_maintenance"===e})))||!1}},"../../hooks/src/useIsTNCNeeded.ts":(e,t,r)=>{r.d(t,{A:()=>o});var n=r("../../stores/src/useStore.ts");const o=function(){var e=(0,n.A)().client,t=e.account_settings,r=e.landing_company_shortcode,o=(t||{}).tnc_status;return o&&0===o[r]}},"../../hooks/src/useMFAccountStatus.ts":(e,t,r)=>{r.d(t,{A:()=>u});var n=r("@deriv/shared"),o=r("../../hooks/src/useHasMaltaInvestAccount.ts"),a=r("react"),i=r("../../stores/src/useStore.ts");function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function l(){l=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(e){f=function(e,t,r){return e[t]=r}}function m(e,t,r,n){var a=t&&t.prototype instanceof g?t:g,i=Object.create(a.prototype),c=new N(n||[]);return o(i,"_invoke",{value:L(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=m;var h="suspendedStart",p="suspendedYield",y="executing",v="completed",_={};function g(){}function b(){}function w(){}var E={};f(E,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(T([])));k&&k!==r&&n.call(k,i)&&(E=k);var O=w.prototype=g.prototype=Object.create(E);function S(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,l){var s=d(e[o],e,a);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==c(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):t.resolve(f).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,l)}))}l(s.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function L(t,r,n){var o=h;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===v){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var l=C(c,n);if(l){if(l===_)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=y;var s=d(t,r,n);if("normal"===s.type){if(o=n.done?v:p,s.arg===_)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(o=v,n.method="throw",n.arg=s.arg)}}}function C(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,C(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),_;var a=d(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,_;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,_):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,_)}function z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function T(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(c(t)+" is not iterable")}return b.prototype=w,o(O,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:b,configurable:!0}),b.displayName=f(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,f(e,u,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},S(A.prototype),f(A.prototype,s,(function(){return this})),t.AsyncIterator=A,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new A(m(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(O),f(O,u,"Generator"),f(O,i,(function(){return this})),f(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=T,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,_):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),_},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),_}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:T(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),_}},t}function s(e,t,r,n,o,a,i){try{var c=e[a](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,o)}const u=function(){var e=(0,i.A)().client.is_eu,t=(0,o.A)(),r=function(){var e,t,r,o,c=(0,i.A)().client||{},u=c.account_status,f=c.updateAccountStatus;(0,a.useEffect)((function(){function e(){var t;return t=l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:case"end":return e.stop()}}),e)})),e=function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function i(e){s(a,n,o,i,c,"next",e)}function c(e){s(a,n,o,i,c,"throw",e)}i(void 0)}))},e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var m=null==u?void 0:u.authentication,d=null==m||null===(e=m.identity)||void 0===e?void 0:e.status,h=null==m||null===(t=m.identity)||void 0===t||null===(t=t.services)||void 0===t||null===(t=t.onfido)||void 0===t?void 0:t.status,p=null==m||null===(r=m.identity)||void 0===r||null===(r=r.services)||void 0===r||null===(r=r.manual)||void 0===r?void 0:r.status,y=null==m||null===(o=m.document)||void 0===o?void 0:o.status,v="none",_="verified",g="pending",b=y&&["rejected","expired","suspected"].includes(y),w=y===g,E=y===v,x=[h,p].includes(_),k=[h,p].includes(g)&&!x,O=[h,p].every((function(e){return e===v})),S=d===_&&y===_;return{mf_account_status:y&&h&&p?!O&&!k&&!x||b?n.ACCOUNT_BADGE_STATUS.FAILED:O||E?n.ACCOUNT_BADGE_STATUS.NEEDS_VERIFICATION:k||w?n.ACCOUNT_BADGE_STATUS.PENDING:null:null,kyc_status:S?{}:{poi_status:d,poa_status:y,valid_tin:1,required_tin:1}}}().mf_account_status;return e&&t&&r&&[n.ACCOUNT_BADGE_STATUS.PENDING,n.ACCOUNT_BADGE_STATUS.FAILED,n.ACCOUNT_BADGE_STATUS.NEEDS_VERIFICATION].includes(r)?r:null}},"../../hooks/src/useP2PSettings.ts":(e,t,r)=>{r.d(t,{A:()=>a});var n=r("react"),o=r("../../stores/src/stores/P2PSettingsContext.tsx");const a=function(){var e=(0,n.useContext)(o.A);if(!e)throw new Error("useP2PSettingsContext must be used within a P2PSettingsProvider");return e}},"../../hooks/src/usePaymentAgentList.ts":(e,t,r)=>{r.d(t,{A:()=>s});var n=r("../../api/src/useQuery.ts"),o=r("../../stores/src/useStore.ts");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var i=["data"];function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){return(t=function(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const s=function(e){var t,r=(0,o.A)().client.residence,a=(0,n.A)("paymentagent_list",{payload:{paymentagent_list:r,currency:e},options:{enabled:Boolean(r)}}),s=a.data,u=function(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(a,i);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({data:null==s||null===(t=s.paymentagent_list)||void 0===t?void 0:t.list},u)}},"../../hooks/src/useVerifyEmail.ts":(e,t,r)=>{r.d(t,{A:()=>f});var n=r("react"),o=r("../../api/src/useMutation.ts"),a=r("../../stores/src/useStore.ts");function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const l=function(e){var t=e.from,r=e.to,o=void 0===r?0:r,a=e.increment,c=void 0!==a&&a,l=i((0,n.useState)(t),2),s=l[0],u=l[1],f=i((0,n.useState)(!1),2),m=f[0],d=f[1];(0,n.useEffect)((function(){var e;return m&&(e=setTimeout((function(){s===o?h():u((function(e){return c?e+1:e-1}))}),1e3)),function(){return clearTimeout(e)}}),[s,m,o,c]);var h=function(){return d(!1)},p=function(){return u(t)};return{count:s,is_running:m,start:function(){return d(!0)},pause:h,reset:p,stop:function(){h(),p()}}};function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],l=!0,s=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const f=function(e){var t=(0,o.A)("verify_email"),r=l({from:60}),i=(0,a.A)().client,c=s((0,n.useState)(0),2),u=c[0],f=c[1],m=(0,n.useCallback)((function(n){var o=null!=n?n:i.email;o&&(r.is_running||(r.reset(),r.start(),f((function(e){return e+1})),t.mutate({payload:{verify_email:o,type:e}})))}),[t,i.email,r,e]),d=(0,n.useCallback)((function(){t.mutate({payload:{verify_email:i.email,type:e}})}),[t,i.email,e]);return{WS:t,is_loading:t.isLoading,error:t.error,data:t.data,counter:r.count,is_counter_running:r.is_running,sent_count:u,has_been_sent:0!==u,send:m,sendPhoneNumberVerifyEmail:d}}},"../../stores/src/storeContext.ts":(e,t,r)=>{r.d(t,{A:()=>n});const n=(0,r("react").createContext)(null)},"../../stores/src/stores/P2PSettingsContext.tsx":(e,t,r)=>{r.d(t,{A:()=>n});const n=(0,r("react").createContext)(null)},"../../stores/src/useStore.ts":(e,t,r)=>{r.d(t,{A:()=>a});var n=r("react"),o=r("../../stores/src/storeContext.ts");const a=function(){var e=(0,n.useContext)(o.A);if(!e)throw new Error("useStore must be used within StoreProvider");return e}}}]);