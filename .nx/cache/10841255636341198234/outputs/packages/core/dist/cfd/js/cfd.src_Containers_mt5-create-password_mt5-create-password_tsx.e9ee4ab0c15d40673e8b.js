"use strict";(self.webpackChunk_deriv_cfd=self.webpackChunk_deriv_cfd||[]).push([["src_Containers_cfd-password-modal-tnc_tsx","src_Containers_mt5-create-password_mt5-create-password_tsx"],{"./src/Containers/cfd-password-modal-tnc.tsx":(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var r=a("react"),n=a.n(r),o=a("@deriv/shared"),s=a("@deriv/stores"),c=a("@deriv/components"),l=a("@deriv/translations"),d=a("@deriv/hooks");const i=function(e){var t,a,r=e.platform,o=e.product,s=e.need_tnc,i=(0,d.useIsSelectedMT5AccountCreated)().available_account_to_create;return n().createElement("div",{className:"cfd-password-modal-info"},n().createElement("div",{className:"cfd-password-modal-info__icon"},n().createElement(c.Icon,{icon:"IcInfoLight"})),n().createElement(c.Text,{size:"xxxs"},s?n().createElement(l.Localize,{i18n_default_text:"You are adding your {{platform}} {{product}} account under {{company}}, regulated by the {{regulatory_authority}} (license no.<0/>)",values:{platform:r,product:o,company:null==i?void 0:i.name,regulatory_authority:null!==(t=null==i?void 0:i.regulatory_authority)&&void 0!==t?t:""},components:[n().createElement("span",{key:0,dangerouslySetInnerHTML:{__html:null!==(a=null==i?void 0:i.licence_number)&&void 0!==a?a:""}})]}):n().createElement(l.Localize,{i18n_default_text:"You are adding your {{platform}} {{product}} account under {{company}}.",values:{platform:r,product:o,company:null==i?void 0:i.name}})))},u=(0,s.observer)((function(e){var t,a=e.class_name,r=e.is_checked,s=e.jurisdiction_selected_shortcode,i=e.onCheck,u=(0,d.useIsSelectedMT5AccountCreated)().available_account_to_create;return n().createElement("div",{className:a},n().createElement(c.Checkbox,{value:r,onChange:i,label:n().createElement(c.Text,{as:"p",size:"xxs",line_height:"m"},n().createElement(l.Localize,{i18n_default_text:"I confirm and accept {{company}} 's <0>terms and conditions</0>",values:{company:null==u?void 0:u.name},components:[n().createElement(c.StaticUrl,{key:0,className:"link link--no-underline",href:null===(t=o.DBVI_COMPANY_NAMES[s])||void 0===t?void 0:t.tnc_url,is_document:!0})]})),defaultChecked:!!r}))}));var m=a("./src/Stores/Modules/CFD/Helpers/useCfdStores.tsx"),p=a("classnames"),_=a.n(p);const f=(0,s.observer)((function(e){var t=e.platform,a=e.checked,r=e.onCheck,s=e.className,c=e.need_tnc,l=(0,m.E)(),d=l.jurisdiction_selected_shortcode,p=l.account_title;return n().createElement("div",{className:_()("cfd-password-modal-tnc",s)},n().createElement(i,{jurisdiction_selected_shortcode:d,platform:(0,o.getCFDPlatformLabel)(t),product:p,need_tnc:c}),c&&n().createElement(u,{is_checked:a,onCheck:r,class_name:"cfd-password-modal__checkbox",jurisdiction_selected_shortcode:d}))}))},"./src/Containers/mt5-create-password/mt5-create-password.tsx":(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var r=a("react"),n=a.n(r),o=a("formik"),s=a("@deriv/components"),c=a("@deriv/shared"),l=a("@deriv/translations"),d=a("./src/Stores/Modules/CFD/Helpers/useCfdStores.tsx"),i=a("./src/Helpers/cfd-config.ts"),u=a("./src/Containers/cfd-password-modal-tnc.tsx");function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var r,n,o,s,c=[],l=!0,d=!1;try{if(o=(a=a.call(e)).next,0===t){if(Object(a)!==a)return;l=!1}else for(;!(l=(r=o.call(a)).done)&&(c.push(r.value),c.length!==t);l=!0);}catch(e){d=!0,n=e}finally{try{if(!l&&null!=a.return&&(s=a.return(),Object(s)!==s))return}finally{if(d)throw n}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?p(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=Array(t);a<t;a++)r[a]=e[a];return r}const _=function(e){var t=e.password,a=e.platform,r=e.validatePassword,p=e.onSubmit,_=e.error_message,f=e.need_tnc,v=(0,d.E)().account_type,h=m(n().useState(!(f&&v.category===i.XJ.REAL)),2),w=h[0],y=h[1];return n().createElement(o.Formik,{initialValues:{password:t},enableReinitialize:!0,validate:r,onSubmit:p},(function(e){var t=e.errors,r=e.isSubmitting,o=e.handleBlur,d=e.handleChange,m=e.handleSubmit,p=e.setFieldTouched,h=e.touched,b=e.values,g=e.validateForm;return n().createElement(n().Fragment,null,n().createElement("form",{className:"mt5-password-modal-form"},n().createElement("div",{className:"mt5-password-modal__content dc-modal__container_mt5-password-modal__body","data-testid":"dt_mt5_create_password"},n().createElement("div",{className:"mt5-password-modal__create-password-content"},n().createElement("div",{className:"mt5-password-modal__create-password-icon"},n().createElement(s.Icon,{icon:"IcMt5Password",size:100})),n().createElement(s.Text,{size:"xs",align:"left",className:"mt5-password-modal__create-password-description"},n().createElement(l.Localize,{i18n_default_text:"Create a password for your {{platform}} account:",values:{platform:(0,c.getCFDPlatformNames)(a)}})),n().createElement("div",{className:"mt5-password-modal__mt5-input-element"},n().createElement(s.PasswordMeter,{input:b.password,has_error:!(!h.password||!t.password),custom_feedback_messages:(0,c.getErrorMessages)().password_warnings},(function(e){var r=e.has_warning;return n().createElement(s.PasswordInput,{autoComplete:"new-password",label:(0,l.localize)("{{platform}} password",{platform:(0,c.getCFDPlatformLabel)(a)}),error:h.password&&t.password||(0===b.password.length?_:""),name:"password",value:b.password,onBlur:o,onChange:function(e){!function(e,t,a,r){t(e),a().then((function(){r("password",!0)}))}(e,d,g,p)},data_testId:"dt_".concat(a,"_password"),hint:(!r||0===b.password.length)&&(0,l.localize)("This password works for all your Deriv MT5 accounts.")})}))),v.category===i.XJ.REAL&&n().createElement(u.default,{platform:a,checked:w,onCheck:function(){return y((function(e){return!e}))},need_tnc:f})),n().createElement("div",{className:"mt5-password-modal__submit-button"},n().createElement(s.FormSubmitButton,{is_disabled:!b.password||!w||Object.keys(t).length>0,is_loading:r,label:(0,l.localize)("Create account"),onClick:m})))))}))}}}]);