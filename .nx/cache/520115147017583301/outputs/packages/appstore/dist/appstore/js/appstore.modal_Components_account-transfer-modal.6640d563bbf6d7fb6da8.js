/*! For license information please see appstore.modal_Components_account-transfer-modal.6640d563bbf6d7fb6da8.js.LICENSE.txt */
"use strict";(self.webpackChunk_deriv_appstore=self.webpackChunk_deriv_appstore||[]).push([[331],{8987:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Ye});var n=r(9155),a=r.n(n),o=r(4442),i=r(3877),c=r(6464),l=r(5299),s=r(4530),u=r(2641);const d=function(){var e,t=(0,s.A)().client.account_status;return(null==t||null===(e=t.status)||void 0===e?void 0:e.some((function(e){return"cashier_locked"===e})))||!1};var m=r(8539),f=r(1016),_=r(992),h=r.n(_),p=r(5221),y=a().lazy((function(){return r.e(932).then(r.bind(r,5163))}));const v=(0,l.observer)((function(e){var t=e.children,r=e.hide_breadcrumb,n=void 0!==r&&r,o=e.left,c=e.right,l=(0,s.A)(),u=l.client,d=l.common.is_from_outside_cashier,m=(0,p.Y)().isDesktop,f=!u.is_authorize;return a().createElement("div",{className:h()("page-container",{"page-container--modal":d})},f&&a().createElement(i.Loading,{is_fullscreen:!1}),!f&&a().createElement("div",{className:"page-container__content"},!d&&m&&o&&a().createElement("div",{className:"page-container__sidebar--left"},o),a().createElement(i.ThemedScrollbars,{className:h()("page-container__main",{"page-container__main--modal":d}),height:"calc(100svh - 8rem)",is_scrollbar_hidden:!0},!n&&a().createElement(y,null),!d&&!m&&o&&a().createElement("div",{className:"page-container__sidebar--left"},o),t,!d&&!m&&c&&a().createElement("div",{className:"page-container__sidebar--right"},c)),!d&&m&&c&&a().createElement("div",{className:"page-container__sidebar--right"},c)))}));var g=r(2707),b=r(8989);const E=function(){var e,t=(0,s.A)().client.account_status;return(null==t||null===(e=t.cashier_validation)||void 0===e?void 0:e.some((function(e){return"system_maintenance"===e})))||!1};const w=function(){var e=(0,s.A)(),t=e.client,r=e.traders_hub,n=t.is_authentication_needed,a=r.is_low_risk_cr_eu_real;return n&&a};const x=function(){var e=(0,s.A)().client,t=e.is_financial_account,r=e.is_financial_information_incomplete,n=e.is_trading_experience_incomplete;return t&&(r||n)};const k=function(){var e=(0,s.A)().client,t=e.account_settings,r=e.landing_company_shortcode,n=(t||{}).tnc_status;return n&&0===n[r]};const C=function(){var e=(0,s.A)().client,t=e.is_deposit_lock,r=e.is_trading_experience_incomplete,n=e.landing_company_shortcode,a=e.is_account_to_be_closed_by_residence,o=w(),i=k(),c=x();return t||o||i||("maltainvest"===n?r:c)||a};const N=function(){return(0,s.A)().client.is_duplicate_dob_phone};var z=r(2086);const L=function(e){var t=e.cashier_validation,r=e.closeAccountTransferModal,n=e.excluded_until,o=e.history,i=e.is_crypto,l=e.is_eu,s=e.is_system_maintenance,d=e.is_cashier_locked,m=e.is_deposit_locked,f=e.is_withdrawal_locked,_=e.is_identity_verification_needed,h=e.is_pending_verification,p=e.is_duplicate_dob_phone,y=e.is_account_to_be_closed_by_residence,v=e.account_time_of_closure,g=null==t?void 0:t.includes("no_residence"),b=null==t?void 0:t.includes("unwelcome_status"),E=null==t?void 0:t.includes("SelfExclusion"),w=null==t?void 0:t.includes("no_withdrawal_or_trading_status"),x=null==t?void 0:t.includes("only_pa_withdrawals_allowed_status"),k=null==t?void 0:t.includes("WithdrawServiceUnavailableForPA"),C=null==t?void 0:t.includes("withdrawal_locked_status"),N=null==t?void 0:t.includes("documents_expired"),L=null==t?void 0:t.includes("cashier_locked_status"),A=null==t?void 0:t.includes("disabled_status"),T=null==t?void 0:t.includes("FinancialAssessmentRequired"),S=null==t?void 0:t.includes("ASK_CURRENCY"),I=null==t?void 0:t.includes("ASK_AUTHENTICATE"),D=null==t?void 0:t.includes("ASK_FINANCIAL_RISK_APPROVAL"),O=null==t?void 0:t.includes("ASK_TIN_INFORMATION"),P=null==t?void 0:t.includes("ASK_SELF_EXCLUSION_MAX_TURNOVER_SET"),M=null==t?void 0:t.includes("ASK_FIX_DETAILS"),j=null==t?void 0:t.includes("PACommisionWithdrawalLimit"),F=o.location.pathname;if(y&&F===c.routes.cashier_deposit)return{icon:"IcCashierNoBalance",title:(0,u.localize)("Deposits disabled"),description:a().createElement(u.Localize,{i18n_default_text:"Due to business changes, client accounts in your country are to be closed. Withdraw any remaining funds by {{date}}.",values:{date:(0,c.formatDate)(v,"DD MMM YYYY")}})};if(s)return i&&f?{icon:"IcCashierLocked",title:(0,u.localize)("Withdrawals are locked"),description:(0,u.localize)("Withdrawals are temporarily unavailable due to system maintenance. You can make your withdrawals when the maintenance is complete.")}:i&&m?{icon:"IcCashierLocked",title:(0,u.localize)("Cashier is locked"),description:(0,u.localize)("Deposits are temporarily unavailable due to system maintenance. You can make your deposits when the maintenance is complete.")}:{icon:"IcCashierUnderMaintenance",title:(0,u.localize)("Cashier is currently down for maintenance"),description:a().createElement(u.Localize,{i18n_default_text:"Please check back in a few minutes.<0></0>Thank you for your patience.",components:[a().createElement("br",{key:0})]})};if(d){if(g)return{icon:"IcCashierLocked",title:(0,u.localize)("Cashier is locked"),description:(0,u.localize)("You’ve not set your country of residence. To access Cashier, please update your country of residence in the Personal details section in your account settings.")};if(N)return{icon:"IcCashierLocked",title:(0,u.localize)("Cashier is locked"),description:(0,u.localize)("The identification documents you submitted have expired. Please submit valid identity documents to unlock Cashier. ")};if(L)return{icon:"IcCashierLocked",title:(0,u.localize)("Cashier is locked"),description:a().createElement(u.Localize,{i18n_default_text:"Your cashier is currently locked. Please contact us via <0>live chat</0> to find out how to unlock it.",components:[a().createElement("span",{key:0,className:"link link--orange",onClick:z.Chat.open})]})};if(A)return{icon:"IcCashierLocked",title:(0,u.localize)("Cashier is locked"),description:a().createElement(u.Localize,{i18n_default_text:"Your account is temporarily disabled. Please contact us via <0>live chat</0> to enable deposits and withdrawals again.",components:[a().createElement("span",{key:0,className:"link link--orange",onClick:z.Chat.open})]})};if(S)return{icon:"IcCashierLocked",title:(0,u.localize)("Cashier is locked"),description:(0,u.localize)("Please set your account currency to enable deposits and withdrawals.")};if(I&&_)return{icon:"IcCashierLocked",title:(0,u.localize)("Cashier is locked"),description:a().createElement(u.Localize,{i18n_default_text:"Please submit your <0>proof of identity</0> to authenticate your account and access your Cashier.",components:[a().createElement("a",{key:0,className:"link",href:"/account/proof-of-identity"})]})};if(I){if(l){return{icon:"IcCashierLocked",title:(0,u.localize)("Cashier is locked"),description:function(){var e;switch(F){case c.routes.cashier_deposit:e=a().createElement(u.Localize,{i18n_default_text:"You can make a new deposit once the verification of your account is complete."});break;case c.routes.cashier_withdrawal:e=a().createElement(u.Localize,{i18n_default_text:"You can make a withdrawal once the verification of your account is complete."});break;case c.routes.cashier_acc_transfer:e=a().createElement(u.Localize,{i18n_default_text:"You can make a funds transfer once the verification of your account is complete."})}return e}(),action:{onClick:function(){o.push(c.routes.proof_of_identity),r()},label:(0,u.localize)("Verify now")}}}return{icon:"IcCashierLocked",title:(0,u.localize)("Cashier is locked"),description:a().createElement(u.Localize,{i18n_default_text:"Your account has not been authenticated. Please submit your <0>proof of identity</0> and <1>proof of address</1> to authenticate your account and access your cashier.",components:[a().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/proof-of-identity"}),a().createElement("a",{key:1,className:"link",rel:"noopener noreferrer",href:"/account/proof-of-address"})]})}}if(l&&h){return{icon:"IcCashierLocked",title:(0,u.localize)("Cashier is locked"),description:function(){var e;switch(F){case c.routes.cashier_deposit:e=a().createElement(u.Localize,{i18n_default_text:"You cannot make further deposits as your documents are still under review. We will notify you by email within 3 days once your verification is approved."});break;case c.routes.cashier_withdrawal:e=a().createElement(u.Localize,{i18n_default_text:"You cannot make a withdrawal as your documents are still under review. We will notify you by email within 3 days once your verification is approved."});break;case c.routes.cashier_acc_transfer:e=a().createElement(u.Localize,{i18n_default_text:"You cannot make a fund transfer as your documents are still under review. We will notify you by email within 3 days once your verification is approved."})}return e}()}}if(D)return{icon:"IcCashierLocked",title:(0,u.localize)("Cashier is locked"),description:a().createElement(u.Localize,{i18n_default_text:"Please complete the <0>Appropriateness Test</0> to access your cashier.",components:[a().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/financial-assessment","data-testid":"dt_financial_assessment_link"})]})};if(T)return{icon:"IcCashierLocked",title:(0,u.localize)("Cashier is locked"),description:a().createElement(u.Localize,{i18n_default_text:"Your cashier is locked. Please complete the <0>financial assessment</0> to unlock it.",components:[a().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/financial-assessment","data-testid":"dt_financial_assessment_link"})]})};if(O)return{icon:"IcCashierLocked",title:(0,u.localize)("Cashier is locked"),description:a().createElement(u.Localize,{i18n_default_text:"You have not provided your tax identification number. This information is necessary for legal and regulatory requirements. Please go to <0>Personal details</0> in your account settings, and fill in your latest tax identification number.",components:[a().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/personal-details"})]})};if(P)return{icon:"IcCashierLocked",title:(0,u.localize)("Cashier is locked"),description:a().createElement(u.Localize,{i18n_default_text:"Your access to Cashier has been temporarily disabled as you have not set your 30-day turnover limit. Please go to <0>Self-exclusion</0> and set your 30-day turnover limit.",components:[a().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/self-exclusion"})]})};if(M)return{icon:"IcCashierLocked",title:(0,u.localize)("Cashier is locked"),description:a().createElement(u.Localize,{i18n_default_text:"Your <0>personal details</0> are incomplete. Please go to your account settings and complete your personal details to enable deposits and withdrawals.",components:[a().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/personal-details"})]})}}if(m){if(p)return{icon:"IcAccountError",title:(0,u.localize)("Account already exists"),description:a().createElement(u.Localize,{i18n_default_text:"Your details match an existing account. You can't <0/>make deposits or trade with a new account. <0/>Need help? Reach out via live chat.",components:[a().createElement("br",{key:0})]})};if(M)return{icon:"IcCashierDepositLock",title:(0,u.localize)("Deposits are locked"),description:a().createElement(u.Localize,{i18n_default_text:"Your <0>personal details</0> are incomplete. Please go to your account settings and complete your personal details to enable deposits.",components:[a().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/personal-details"})]})};if(E)return{icon:"IcCashierDepositLock",title:(0,u.localize)("Deposits are locked"),description:a().createElement(u.Localize,{i18n_default_text:"You have chosen to exclude yourself from trading on our website until {{exclude_until}}. If you are unable to place a trade or deposit after your self-exclusion period, please contact us via <0>live chat</0>.",values:{exclude_until:(0,c.formatDate)(n,"DD MMM, YYYY")},components:[a().createElement("span",{key:0,className:"link link--orange",onClick:z.Chat.open})]})};if(b)return{icon:"IcCashierDepositLock",title:(0,u.localize)("Deposits are locked"),description:a().createElement(u.Localize,{i18n_default_text:"Please contact us via <0>live chat</0>.",components:[a().createElement("span",{key:0,className:"link link--orange",onClick:z.Chat.open})]})}}if(f){if(T)return{icon:"IcCashierWithdrawalLock",title:(0,u.localize)("Withdrawals are locked"),description:a().createElement(u.Localize,{i18n_default_text:"You can only make deposits. Please complete the <0>financial assessment</0> to unlock withdrawals.",components:[a().createElement("a",{key:0,className:"link",href:"/account/financial-assessment","data-testid":"dt_financial_assessment_link"})]})};if(I)return{icon:"IcCashierWithdrawalLock",title:(0,u.localize)("Withdrawals are locked"),description:a().createElement(u.Localize,{i18n_default_text:"Your account has not been authenticated. Please submit your <0>proof of identity</0> and <1>proof of address</1> to authenticate your account and request for withdrawals.",components:[a().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/proof-of-identity"}),a().createElement("a",{key:1,className:"link",rel:"noopener noreferrer",href:"/account/proof-of-address"})]})};if(M)return{icon:"IcCashierWithdrawalLock",title:(0,u.localize)("Withdrawals are locked"),description:a().createElement(u.Localize,{i18n_default_text:"Your <0>personal details</0> are incomplete. Please go to your account settings and complete your personal details to enable withdrawals.",components:[a().createElement("a",{key:0,className:"link",rel:"noopener noreferrer",href:"/account/personal-details"})]})};if(k)return{icon:"IcCashierWithdrawalLock",title:(0,u.localize)("Withdrawals are locked"),description:(0,u.localize)("This feature is not available for payment agents.")};if(w)return{icon:"IcCashierWithdrawalLock",title:(0,u.localize)("Withdrawals are locked"),description:a().createElement(u.Localize,{i18n_default_text:"Unfortunately, you can only make deposits. Please contact us via <0>live chat</0> to enable withdrawals.",components:[a().createElement("span",{key:0,className:"link link--orange",onClick:z.Chat.open})]})};if(C)return{icon:"IcCashierWithdrawalLock",title:(0,u.localize)("Withdrawals are locked"),description:a().createElement(u.Localize,{i18n_default_text:"Unfortunately, you can only make deposits. Please contact us via <0>live chat</0> to enable withdrawals.",components:[a().createElement("span",{key:0,className:"link link--orange",onClick:z.Chat.open})]})};if(x)return{icon:"IcCashierWithdrawalLock",title:(0,u.localize)("Withdrawals are locked"),description:a().createElement(u.Localize,{i18n_default_text:"You can only make deposits. Please contact us via <0>live chat</0> for more information.",components:[a().createElement("span",{key:0,className:"link link--orange",onClick:z.Chat.open})]})};if(j)return{icon:"IcCashierWithdrawalLock",title:(0,u.localize)("Cashier is locked for withdrawals"),description:(0,u.localize)("It seems that you've no commissions to withdraw at the moment. You can make withdrawals once you receive your commissions.")}}return{icon:"IcCashierLocked",title:(0,u.localize)("Cashier is locked"),description:a().createElement(u.Localize,{i18n_default_text:"Your cashier is currently locked. Please contact us via <0>live chat</0> to find out how to unlock it.",components:[a().createElement("span",{key:0,className:"link link--orange",onClick:z.Chat.open})]})}};const A=(0,l.observer)((function(){var e,t=(0,s.A)(),r=t.client,n=t.traders_hub.closeAccountTransferModal,o=r.account_status,l=r.accounts,u=r.current_currency_type,m=r.is_eu,f=r.is_withdrawal_lock,_=r.loginid,h=r.is_identity_verification_needed,p=r.is_account_to_be_closed_by_residence,y=r.account_time_of_closure,v=(0,b.A)(),w=d(),x=E(),k=C(),z=N(),A=(0,g.useHistory)(),T=L({cashier_validation:null==o?void 0:o.cashier_validation,closeAccountTransferModal:n,excluded_until:_?null===(e=l[_])||void 0===e?void 0:e.excluded_until:void 0,history:A,is_crypto:"crypto"===u,is_eu:m,is_system_maintenance:x,is_cashier_locked:w,is_deposit_locked:k,is_withdrawal_locked:f,is_identity_verification_needed:h,is_pending_verification:v===c.ACCOUNT_BADGE_STATUS.PENDING,is_duplicate_dob_phone:z,is_account_to_be_closed_by_residence:p,account_time_of_closure:y});return a().createElement("div",{className:"cashier-locked"},a().createElement(i.EmptyState,{icon:T.icon,title:T.title,description:T.description,action:T.action}))}));var T=function(e){var t=e.header,r=e.message,n=e.button_link,o=e.onClickButton,c=e.button_text,l=e.footer,s=(0,p.Y)().isMobile;return a().createElement("div",{className:"cashier__wrapper cashier__wrapper-error"},a().createElement(i.Icon,{icon:"IcCashierError",className:"error__icon"}),t&&a().createElement(i.Text,{as:"h2",color:"loss-danger",weight:"bold",align:"center",className:"error__header"},t),r&&a().createElement(i.Text,{as:"p",align:"center",size:s?"xxs":"xs",line_height:"s",className:"cashier__paragraph"},r),n&&a().createElement(i.ButtonLink,{className:"error__button",to:n,onClick:o,size:"large"},a().createElement("span",{className:"dc-btn__text"},c)),!n&&c&&a().createElement(i.Button,{className:"error__button",onClick:o,text:c,primary:!0,large:!0}),l&&a().createElement(i.Text,{as:"h2",size:"xxs"},l))};const S=function(e){var t,r=e.error,n={address_city:(0,u.localize)("Town/City"),address_line_1:(0,u.localize)("First line of home address"),address_postcode:(0,u.localize)("Postal Code/ZIP"),address_state:(0,u.localize)("State/Province"),email:(0,u.localize)("Email address"),phone:(0,u.localize)("Telephone"),residence:(0,u.localize)("Country of Residence")},o=function(){"function"==typeof r.onClickButton&&r.onClickButton(),c()},c=function(){var e;null===(e=r.setErrorMessage)||void 0===e||e.call(r,{code:"",message:""})};switch(r.code){case"InvalidToken":t=a().createElement(T,{header:(0,u.localize)("Email verification failed"),message:a().createElement(u.Localize,{i18n_default_text:"The verification link you used is invalid or expired. Please request for a new one."}),onClickButton:o,button_text:(0,u.localize)("Resend email")});break;case"ASK_FIX_DETAILS":t=a().createElement(T,{header:(0,u.localize)("Update your personal details"),message:a().createElement(a().Fragment,null,a().createElement(u.Localize,{i18n_default_text:"We can't validate your personal details because there is some information missing."})," ",Array.isArray(r.fields)?a().createElement(u.Localize,{i18n_default_text:"Please update your {{details}} to continue.",values:{details:r.fields.map((function(e){return n[e]||e})).join(", "),interpolation:{escapeValue:!1}}}):a().createElement(u.Localize,{i18n_default_text:"Please update your details to continue."})),button_link:"/account/personal-details",onClickButton:o,button_text:(0,u.localize)("Update my details"),footer:a().createElement(u.Localize,{i18n_default_text:"Need help? <0>Contact us</0>.",components:[a().createElement(i.StaticUrl,{key:0,className:"link",href:"help-centre",is_document:!1})]})});break;case"WrongResponse":t=a().createElement(T,{header:r.message,onClickButton:o,button_text:(0,u.localize)("Try again")});break;case"PaymentAgentWithdrawError":t=a().createElement(T,{header:r.message,onClickButton:o});break;default:t=a().createElement(T,{header:r.message})}return t};var I=(0,l.observer)((function(e){var t=e.history,r=e.onClickDeposit,n=(0,s.A)().client.currency,o=(0,f.q)().general_store.setCashierTabIndex,l=C();return a().createElement("div",{className:"cashier__wrapper cashier__no-balance"},a().createElement(i.Icon,{icon:"IcCashierNoBalance",className:"cashier__no-balance-icon",size:116}),a().createElement(i.Text,{as:"h2",weight:"bold",align:"center"},a().createElement(u.Localize,{i18n_default_text:"You have no funds in your {{currency}} account",values:{currency:(0,c.getCurrencyDisplayCode)(n)}})),!l&&a().createElement(a().Fragment,null,a().createElement(i.Text,{as:"p",size:"xs",line_height:"s",align:"center",className:"cashier__text"},a().createElement(u.Localize,{i18n_default_text:"Please make a deposit to use this feature."})),a().createElement(i.Button,{style:{marginTop:"2rem"},className:"cashier__no-balance-button",has_effect:!0,text:(0,u.localize)("Deposit now"),onClick:function(){(0,c.startPerformanceEventTimer)("load_cashier_time"),r?r():(o(0),t.push(c.routes.cashier_deposit))},primary:!0,large:!0})))}));const D=(0,o.withRouter)(I);var O=(0,l.observer)((function(){var e=(0,s.A)().ui,t=e.is_dark_mode_on,r=e.toggleAccountsDialog,n=(0,p.Y)().isMobile;return a().createElement("div",{className:"cashier__wrapper virtual","data-testid":"dt_cashier_wrapper_id"},a().createElement(a().Fragment,null,a().createElement("div",{"data-testid":t?"dt_virtual_account_switch_icon_dark_id":"dt_virtual_account_switch_icon_light_id",className:h()("virtual__account-switch-icon",t?"virtual__account-switch-icon--dark":"virtual__account-switch-icon--light")}),a().createElement(i.Text,{as:"h2",align:"center",weight:"bold",color:"prominent",className:"virtual__header"},a().createElement(u.Localize,{i18n_default_text:"You are using a demo account"})),a().createElement(i.Text,{as:"p",size:n?"xxs":"xs",line_height:"s",align:"center",className:"cashier__paragraph cashier__text"},a().createElement(u.Localize,{i18n_default_text:"You need to switch to a real money account to use this feature.<0/>You can do this by selecting a real account from the <1>Account Switcher.</1>",components:[a().createElement("br",{key:0}),a().createElement("span",{key:1,className:"virtual__account-switch-text",onClick:function(){r()}})]}))))}));const P=(0,o.withRouter)(O);function M(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?j(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const F=(0,l.observer)((function(){var e=(0,s.A)().client,t=e.is_financial_account,r=e.is_financial_information_incomplete,n=e.is_trading_experience_incomplete,l=(0,o.useHistory)(),d=M(t&&(r||n)?[{content:(0,u.localize)("Complete the financial assessment form"),status:"action",onClick:function(){return l.push(c.routes.financial_assessment)}}]:[]);return a().createElement("div",{className:"cashier-locked"},a().createElement(i.Icon,{icon:"IcMoneyTransfer",className:"cashier-locked__icon"}),a().createElement(i.Text,{as:"h2",weight:"bold",align:"center",className:"cashier-locked__title"},(0,u.localize)("Transfers are locked")),a().createElement(a().Fragment,null,a().createElement("p",{className:"cashier-locked__desc"},(0,u.localize)("To enable this feature you must complete the following:")),a().createElement(i.Checklist,{className:"cashier-locked__checklist",items:d})))}));const Y=(0,l.observer)((function(){var e=(0,s.A)(),t=e.common.is_from_derivgo,r=e.traders_hub.closeModal,n=(0,o.useHistory)();return a().useEffect((function(){r()}),[]),a().createElement("div",{className:"cashier__wrapper cashier__no-balance"},a().createElement(i.Icon,{icon:"IcCashierNoBalance",className:"cashier__no-balance-icon",size:116}),a().createElement(i.Text,{as:"h2",weight:"bold",align:"center"},a().createElement(u.Localize,{i18n_default_text:"You only have one account"})),a().createElement(i.Text,{as:"p",size:"xs",line_height:"s",align:"center"},a().createElement(u.Localize,{i18n_default_text:"Transferring funds will require you to create a second account."})),!t&&a().createElement(i.Button,{className:"account-transfer-no-account__button",primary:!0,large:!0,onClick:function(){n.push(c.routes.traders_hub)}},a().createElement(u.Localize,{i18n_default_text:"Back to Trader's Hub"})))}));var W=r(6991),U=r(1660),B=r(3908);const R=function(e){var t,r,n=e.account,o=e.size,c=e.icon_class_name,l=e.appstore_icon_class_name,s=e.appstoreIconOnClickHandler;return n.is_mt&&n.platform_icon?a().createElement(B.A,{icon:n.platform_icon,size:o,className:l,onClick:s}):a().createElement(i.Icon,{icon:n.platform_icon||"IcCurrency-".concat(null==n||null===(t=n.currency)||void 0===t?void 0:t.toLowerCase()),size:o,className:c,data_testid:"dt_account_platform_icon_".concat(n.platform_icon||"currency_".concat(null==n||null===(r=n.currency)||void 0===r?void 0:r.toLowerCase()))})};function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G.apply(null,arguments)}var q=function(e){var t=e.children,r=e.className;return a().createElement("fieldset",null,a().createElement("div",{className:r},t))},V=(0,l.observer)((function(e){var t=e.arrow_icon_direction,r=e.from_currency,n=e.hint,o=e.onChangeConverterFromAmount,l=e.onChangeConverterToAmount,s=e.resetConverter,d=e.setArrowIconDirection,m=e.to_currency,_=e.validateFromAmount,h=e.validateToAmount,y=(0,f.q)().crypto_fiat_converter,v=(0,U.A)().exchange_rates,g=(0,p.Y)().isDesktop,b=y.converter_from_amount,E=y.converter_from_error,w=y.converter_to_error,x=y.converter_to_amount,k=(0,W.j7)().handleChange;return a().useEffect((function(){return function(){return s()}}),[]),a().useEffect((function(){d("right")}),[r]),a().createElement("div",{className:"crypto-fiat-converter"},a().createElement(W.D0,{name:"converter_from_amount",validate:_},(function(e){var t=e.field;return a().createElement(i.Input,G({},t,{onFocus:function(){d("right")},onChange:function(e){var t,n,a=null!==(t=null==v||null===(n=v[r])||void 0===n?void 0:n[m])&&void 0!==t?t:0,i=Number(e.target.value)*a;o(e,r,m,i),k(e)},type:"text",error:E,label:(0,u.localize)("Amount ({{currency}})",{currency:(0,c.getCurrencyDisplayCode)(r)}),value:b,autoComplete:"off",required:!0,hint:n,classNameHint:"crypto-fiat-converter__hint","data-testid":"dt_converter_from_amount_input"}))})),g?a().createElement("div",{className:"crypto-fiat-converter__arrow-container"},"right"===t?a().createElement(i.Icon,{icon:"IcArrowRightBold",id:"arrow_right_bold",data_testid:"dti_arrow_right_bold"}):a().createElement(i.Icon,{icon:"IcArrowLeftBold",id:"arrow_left_bold",data_testid:"dti_arrow_left_bold"})):"right"===t?a().createElement(i.Icon,{icon:"IcArrowDownBold"}):a().createElement(i.Icon,{icon:"IcArrowUpBold"}),a().createElement(W.D0,{name:"converter_to_amount",validate:h},(function(e){var t=e.field;return a().createElement(q,{className:"input-group"},a().createElement(i.Input,G({},t,{onFocus:function(){d("left")},onChange:function(e){var t,n,a=null!==(t=null==v||null===(n=v[m])||void 0===n?void 0:n[r])&&void 0!==t?t:0,o=Number(e.target.value)*a;l(e,m,r,o),k(e)},type:"text",error:w,label:(0,u.localize)("Amount ({{currency}})",{currency:(0,c.getCurrencyDisplayCode)(m)}),value:x,autoComplete:"off",hint:(0,u.localize)("Approximate value"),classNameHint:"crypto-fiat-converter__hint","data-testid":"dt_converter_to_amount_input"})))})))}));const H=V;function K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?X(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var $=(0,l.observer)((function(e){var t,r=e.className,n=e.error,l=void 0===n?{}:n,d=(0,s.A)().ui,m=d.disableApp,f=d.enableApp,_=(0,o.useHistory)(),h=K(a().useState(!1),2),p=h[0],y=h[1],v=K(a().useState({title:"",cancel_button_text:void 0,confirm_button_text:"",onConfirm:void 0,message:""}),2),g=v[0],b=v[1],E=a().useCallback((function(){l.setErrorMessage&&l.setErrorMessage({code:"",message:""},null,!1),x(!1)}),[l]),w=a().useCallback((function(e,t){e&&["Fiat2CryptoTransferOverLimit","Crypto2FiatTransferOverLimit","Crypto2CryptoTransferOverLimit","CryptoLimitAgeVerified"].includes(e)?b({title:(0,u.localize)("Please verify your identity"),cancel_button_text:(0,u.localize)("Cancel"),confirm_button_text:(0,u.localize)("Verify identity"),onConfirm:function(){return _.push(c.routes.proof_of_identity)},message:t}):"FinancialAssessmentRequired"===e?b({title:(0,u.localize)("Cashier Error"),cancel_button_text:void 0,confirm_button_text:(0,u.localize)("OK"),onConfirm:void 0,message:a().createElement(u.Localize,{i18n_default_text:"Please complete your <0>financial assessment</0>.",components:[a().createElement(o.Link,{to:c.routes.financial_assessment,key:0,className:"link",onClick:E})]})}):e&&["CryptoMissingRequiredParameter","CryptoWithdrawalBalanceExceeded","CryptoWithdrawalLimitExceeded","CryptoWithdrawalMaxReached","CryptoWithdrawalNotAuthenticated","CryptoWithdrawalError"].includes(e)?b({title:(0,u.localize)("Error"),cancel_button_text:void 0,confirm_button_text:(0,u.localize)("Retry"),onConfirm:void 0,message:t,has_close_icon:!0}):b("CryptoWithdrawalReadMore"===e?{title:"",cancel_button_text:void 0,confirm_button_text:(0,u.localize)("OK"),onConfirm:void 0,message:t}:"ShareMyAdsError"===e?{title:(0,u.localize)("Deriv P2P unavailable"),confirm_button_text:(0,u.localize)("OK"),message:t,has_close_icon:!0}:{title:(0,u.localize)("Cashier Error"),cancel_button_text:void 0,confirm_button_text:(0,u.localize)("OK"),onConfirm:void 0,message:t})}),[E,_]);a().useEffect((function(){l.message&&w(l.code,l.message)}),[l.code,l.message,w]),a().useEffect((function(){x(!!l.message)}),[l.message]),a().useEffect((function(){return function(){return E()}}),[]);var x=function(e){y(e)};return a().createElement(i.Dialog,{title:g.title,confirm_button_text:g.confirm_button_text,cancel_button_text:g.cancel_button_text,className:r,onConfirm:function(){"function"==typeof g.onConfirm&&g.onConfirm(),E()},onEscapeButtonCancel:E,onCancel:g.cancel_button_text?E:void 0,disableApp:m,enableApp:f,is_visible:p,portal_element_id:"modal_root",dismissable:!1,has_close_icon:null!==(t=g.has_close_icon)&&void 0!==t&&t},g.message)}));const Z=$;function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Q(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Q(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const ee=function(e){var t=e.amount,r=e.from_account,n=e.getCalculatedAmount,o=e.percentage,l=e.should_percentage_reset,s=e.to_account,d=e.from_currency,m=e.to_currency,f=J(a().useState("0"),2),_=f[0],h=f[1],p=(0,U.A)().exchange_rates;a().useEffect((function(){if(l)for(var e=1;e<=4;e++){var t=document.getElementById(String(e));t&&(t.style.backgroundColor="var(--general-section-1)")}}),[l]),a().useEffect((function(){h(o||0)}),[o]),a().useEffect((function(){y({target:{id:0}},0)}),[r,s]);var y=function(e,r){var a,o,i=r,l=r>0&&r===Number(_);l&&(i-=25),h(i||0);var s=null!==(a=null==p||null===(o=p[d])||void 0===o?void 0:o[m])&&void 0!==a?a:1,u=t*(i/100)*s;n((t*(i/100)).toFixed((0,c.getDecimalPlaces)(d)),u);for(var f=1;f<=4;f++){var y=document.getElementById(String(f));y&&(f<e.target.id||f===Number(e.target.id)&&!l?y.style.backgroundColor="var(--status-success)":y.style.backgroundColor="var(--general-section-1)")}},v=(0,c.formatMoney)(d,t,!0),g=(0,c.getCurrencyDisplayCode)(d);return a().createElement(a().Fragment,null,a().createElement("div",{className:"percentage-selector","data-testid":"dt_percentage_selector_id"},a().createElement("div",{className:"percentage-selector__block-container"},a().createElement(i.Text,{color:"prominent",size:"xs",className:"percentage-selector__text"},"25%"),a().createElement("div",{id:"1",className:"percentage-selector-block",onClick:function(e){return y(e,25)},"data-testid":"dt_percentage_selector_block_id_1"})),a().createElement("div",{className:"percentage-selector__block-container"},a().createElement(i.Text,{color:"prominent",size:"xs",className:"percentage-selector__text"},"50%"),a().createElement("div",{id:"2",className:"percentage-selector-block",onClick:function(e){return y(e,50)},"data-testid":"dt_percentage_selector_block_id_2"})),a().createElement("div",{className:"percentage-selector__block-container"},a().createElement(i.Text,{color:"prominent",size:"xs",className:"percentage-selector__text"},"75%"),a().createElement("div",{id:"3",className:"percentage-selector-block",onClick:function(e){return y(e,75)},"data-testid":"dt_percentage_selector_block_id_3"})),a().createElement("div",{className:"percentage-selector__block-container"},a().createElement(i.Text,{color:"prominent",size:"xs",className:"percentage-selector__text"},a().createElement(u.Localize,{i18n_default_text:"All"})),a().createElement("div",{id:"4",className:"percentage-selector-block",onClick:function(e){return y(e,100)},"data-testid":"dt_percentage_selector_block_id_4"}))),a().createElement(i.Text,{color:"less-prominent",size:"xxs",line_height:"l",className:"percentage-selector__text"},a().createElement(u.Localize,{i18n_default_text:"{{selected_percentage}}% of available balance ({{format_amount}} {{currency__display_code}})",values:{selected_percentage:_,format_amount:v,currency__display_code:g}})))};function te(e){return te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},te(e)}function re(){re=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:N(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",_="executing",h="completed",p={};function y(){}function v(){}function g(){}var b={};s(b,i,(function(){return this}));var E=Object.getPrototypeOf,w=E&&E(E(S([])));w&&w!==r&&n.call(w,i)&&(b=w);var x=g.prototype=y.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==te(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function N(t,r,n){var a=m;return function(o,i){if(a===_)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=z(c,n);if(l){if(l===p)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=_;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function z(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,z(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,p;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function S(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(te(t)+" is not iterable")}return v.prototype=g,a(x,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:v,configurable:!0}),v.displayName=s(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},k(C.prototype),s(C.prototype,c,(function(){return this})),t.AsyncIterator=C,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new C(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(x),s(x,l,"Generator"),s(x,i,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=S,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;A(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:S(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),p}},t}function ne(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return oe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?oe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ie=(0,l.observer)((function(e){var t=e.onClose,r=e.history,n=(0,s.A)(),o=n.common,l=n.client,d=n.traders_hub,m=(0,f.q)().account_transfer,_=o.is_from_derivgo,h=o.is_from_outside_cashier,y=l.loginid,v=l.switchAccount,g=d.closeAccountTransferModal,b=(0,p.Y)().isDesktop,E=m.receipt,w=m.resetAccountTransfer,x=m.selected_from,k=m.selected_to,C=m.setShouldSwitchAccount,N=ae(a().useState(!1),2),z=N[0],L=N[1],A=ae(a().useState({}),2),T=A[0],S=A[1];a().useEffect((function(){return function(){w(),g()}}),[w]);var I=function(){r.push(c.routes.statement),w()},D=function(){var e,t=(e=re().mark((function e(){return re().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(T.value);case 2:I();case 3:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){ne(o,n,a,i,c,"next",e)}function c(e){ne(o,n,a,i,c,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}(),O=function(){L(!z)};return a().createElement("div",{className:"account-transfer-receipt__crypto"},a().createElement(i.Text,{as:"h2",color:"prominent",align:"center",weight:"bold",className:"cashier__header"},a().createElement(u.Localize,{i18n_default_text:"Your funds have been transferred"})),a().createElement("div",{className:"account-transfer-receipt__crypto--amount"},a().createElement(i.Text,{as:"p",size:"l",weight:"bold",color:"profit-success"},a().createElement(u.Localize,{i18n_default_text:"{{amount}} {{currency}}",values:{amount:E.amount_transferred,currency:(0,c.getCurrencyDisplayCode)(x.currency)}}))),a().createElement("div",{className:"account-transfer-receipt__crypto--details-wrapper"},a().createElement("div",{className:"crypto-transfer-from"},a().createElement("div",{className:"crypto-transfer-from-details"},a().createElement(R,{account:x,size:32}),a().createElement(i.Text,{as:"p",size:"s",weight:"bold"},a().createElement(u.Localize,{i18n_default_text:x.text}))),!_&&a().createElement(i.Text,{as:"p",size:"s",color:"less-prominent",align:"center"},x.value)),a().createElement(i.Icon,{className:"crypto-transferred-icon",icon:"IcArrowDownBold"}),a().createElement("div",{className:"crypto-transfer-to"},a().createElement("div",{className:"crypto-transfer-to-details"},a().createElement(R,{account:k,size:32}),a().createElement(i.Text,{as:"p",size:"s",weight:"bold"},a().createElement(u.Localize,{i18n_default_text:k.text}))),!_&&a().createElement(i.Text,{as:"p",size:"s",color:"less-prominent",align:"center"},k.value))),a().createElement("div",{className:"account-transfer-receipt__crypto--form-submit"},!_&&a().createElement(i.Button,{className:"account-transfer-receipt__button",has_effect:!0,text:(0,u.localize)("View transaction details"),onClick:function(){k.value===y||(k.is_mt||k.is_dxtrade||k.is_ctrader)&&x.value===y?I():(C(!0),S(k.is_mt?x:k),O())},secondary:!0,large:!0}),a().createElement(i.Button,{className:"account-transfer-receipt__button",has_effect:!0,text:h?(0,u.localize)("Close"):(0,u.localize)("Make a new transfer"),onClick:h?t:w,primary:!0,large:!0})),a().createElement(i.Modal,{is_open:z,toggleModal:O,has_close_icon:!b,className:"account_transfer_switch_modal",small:!0,title:(0,u.localize)("Switch to ".concat(T.currency," account?"))},a().createElement(i.Modal.Body,null,a().createElement(u.Localize,{i18n_default_text:"We’re switching over to your {{currency}} account to view the transaction.",values:{currency:T.currency}})),a().createElement(i.Modal.Footer,null,a().createElement(i.Button,{has_effect:!0,text:(0,u.localize)("Cancel"),onClick:function(){C(!1),O()},secondary:!0,large:!0}),a().createElement(i.Button,{has_effect:!0,text:(0,u.localize)("Switch to ".concat(T.currency," account")),onClick:D,primary:!0,large:!0}))))}));const ce=(0,g.withRouter)(ie);function le(e){return le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},le(e)}function se(){return se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},se.apply(null,arguments)}function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){me(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function me(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=le(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=le(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==le(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return _e(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_e(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var he,pe=function(e){var t=e.account,r=e.idx,n=e.is_pending_verification,o=e.is_verification_failed,l=e.is_verification_needed,s=e.is_account_unavailable,d=e.is_server_maintenance,m=t.is_dxtrade||t.is_ctrader||t.is_mt,f=n||l||o||d||s;return a().createElement(a().Fragment,{key:r},(t.currency||t.platform_icon)&&a().createElement("div",{className:"account-transfer-form__icon"},a().createElement(R,{account:t,size:16})),a().createElement("div",{className:"account-transfer-form__currency-wrapper"},a().createElement(i.Text,{size:"xxs",line_height:"xs",styles:{color:"prominent",fontWeight:"inherit"}},m?t.text:(0,c.getCurrencyName)(t.currency)),a().createElement(i.Text,{size:"xxxs",align:"left",color:"less-prominent"},t.value)),a().createElement("span",{className:"account-transfer-form__balance"},f?n?a().createElement(i.Text,{color:"warning",size:"xs"},a().createElement(u.Localize,{i18n_default_text:"In review"})):l?a().createElement(i.Text,{color:"info-blue",size:"xs"},a().createElement(u.Localize,{i18n_default_text:"Needs verification"})):o?a().createElement(i.Text,{color:"red",size:"xs"},a().createElement(u.Localize,{i18n_default_text:"Failed"})):d?a().createElement(i.StatusBadge,{account_status:"under_maintenance",icon:"IcAlertWarning",text:"Server Maintenance"}):s?a().createElement(i.StatusBadge,{account_status:c.TRADING_PLATFORM_STATUS.UNAVAILABLE,icon:"IcAlertWarning",text:"Unavailable"}):void 0:a().createElement(i.Money,{amount:t.balance,currency:t.currency,has_sign:Boolean(t.balance&&Number(t.balance)<0),show_currency:!0})))},ye=[],ve=[],ge=[],be=[],Ee=[],we=[],xe=[],ke=[],Ce=!1,Ne=(0,l.observer)((function(e){var t,r=e.error,n=e.onClickDeposit,l=e.onClickNotes,d=e.onClose,m=e.TradingPlatformStatusData,_=fe(a().useState("right"),2),y=_[0],v=_[1],g=(0,s.A)(),E=g.client,w=g.common.is_from_outside_cashier,x=g.traders_hub.closeAccountTransferModal,k=(0,p.Y)(),C=k.isDesktop,N=k.isMobile,z=E.account_limits,L=E.authentication_status,A=E.getLimits,T=(0,b.A)(),S=(0,f.q)(),I=S.account_transfer,D=S.crypto_fiat_converter,O=S.general_store,P=(0,U.A)().handleSubscription,M=I.account_transfer_amount,j=I.accounts_list,F=I.onChangeTransferFrom,Y=I.onChangeTransferTo,B=I.requestTransferBetweenAccounts,R=I.selected_from,G=I.selected_to,q=I.setAccountTransferAmount,V=I.error.setErrorMessage,K=I.setTransferPercentageSelectorResult,X=I.transfer_limit,$=I.validateTransferFromAmount,J=I.validateTransferToAmount,Q=I.is_transfer_confirm,te=O.percentage,re=O.should_percentage_reset,ne=D.converter_from_amount,ae=D.converter_from_error,oe=D.converter_to_amount,ie=D.converter_to_error,le=D.onChangeConverterFromAmount,ue=D.onChangeConverterToAmount,_e=D.resetConverter,Ne=G.status===c.MT5_ACCOUNT_STATUS.MIGRATED_WITH_POSITION||G.status===c.MT5_ACCOUNT_STATUS.MIGRATED_WITHOUT_POSITION,ze=fe(a().useState({}),2),Le=ze[0],Ae=ze[1],Te=fe(a().useState({}),2),Se=Te[0],Ie=Te[1],De=fe(a().useState(),2),Oe=De[0],Pe=De[1],Me=z.daily_transfers,je=null==Me?void 0:Me.mt5,Fe=null==Me?void 0:Me.ctrader,Ye=null==Me?void 0:Me.dxtrade,We=null==Me?void 0:Me.internal,Ue=G.is_mt||R.is_mt,Be=G.is_ctrader||R.is_ctrader,Re=G.is_dxtrade||R.is_dxtrade,Ge="pending"===T,qe="needs_verification"===T,Ve="failed"===T,He=Ge||qe||Ve,Ke=[R.status,G.status].includes(c.MT5_ACCOUNT_STATUS.UNAVAILABLE),Xe=[R.status,G.status].includes(c.MT5_ACCOUNT_STATUS.UNDER_MAINTENANCE),$e=(0,c.getPlatformSettings)(c.CFD_PLATFORMS.DXTRADE).name,Ze=(0,o.useHistory)(),Je=function(e){if(!e)return(0,u.localize)("This field is required.");if(qe||Ve)return a().createElement(u.Localize,{i18n_default_text:"<0>Verify your account to transfer funds.</0> <1>Verify now</1>",components:[a().createElement(i.Text,{color:"var(--status-info)",key:0,size:N?"xxxs":"xxs"}),a().createElement(o.Link,{className:"account-transfer-form__link",key:1,onClick:x,to:"/account/proof-of-identity"})]});if(Ge)return a().createElement(i.Text,{color:"var(--status-info)",size:N?"xxxs":"xxs"},a().createElement(u.Localize,{i18n_default_text:"Unavailable as your documents are still under review"}));var t=(0,c.validNumber)(e,{type:"float",decimals:(0,c.getDecimalPlaces)(R.currency||""),min:Number(X.min),max:Number(X.max)}),r=t.is_ok,n=t.message;return r?void 0!==R.balance&&Number(R.balance)<Number(e)?(0,u.localize)("Insufficient balance"):void 0:n},Qe=function(e,t){var r=t.is_mt,n=t.is_ctrader,a=t.is_dxtrade;return"from"===e?r?xe:n?ge:a?Ee:ye:"to"===e?r?ke:n?be:a?we:ve:[]};a().useEffect((function(){if(null!=R&&R.currency&&null!=G&&G.currency){var e="right"===y,t=e?R.currency:G.currency,r=e?G.currency:R.currency;P(t,r)}}),[R,G,y,P]),a().useEffect((function(){A()}),[A]),a().useEffect((function(){ye=[],xe=[],ge=[],Ee=[],ve=[],ke=[],be=[],we=[],j.forEach((function(e,t){var r,n=e.value===R.value,o="";o=e.is_mt?c.CFD_PLATFORMS.MT5:e.is_ctrader?c.CFD_PLATFORMS.CTRADER:c.CFD_PLATFORMS.DXTRADE;var i=(null==m||null===(r=m.find((function(e){return(null==e?void 0:e.platform)===o})))||void 0===r?void 0:r.status)===c.TRADING_PLATFORM_STATUS.MAINTENANCE||e.status===c.MT5_ACCOUNT_STATUS.UNDER_MAINTENANCE,l=e.status===c.MT5_ACCOUNT_STATUS.UNAVAILABLE,s=a().createElement(pe,{idx:t,account:e,is_pending_verification:Ge,is_selected_from:n,is_account_unavailable:l,is_verification_failed:Ve,is_verification_needed:qe,is_server_maintenance:i}),u=e.value,d=e.is_mt||e.is_ctrader||e.is_dxtrade;if(Qe("from",e).push({text:s,value:u,is_mt:e.is_mt,is_ctrader:e.is_ctrader,is_dxtrade:e.is_dxtrade,nativepicker_text:"".concat(d?e.market_type:(0,c.getCurrencyName)(e.currency)," (").concat(e.balance," ").concat(d?e.currency:e.text,")")}),!(R.is_mt&&(e.is_dxtrade||e.is_ctrader)||R.is_dxtrade&&(e.is_mt||e.is_ctrader)||R.is_ctrader&&(e.is_mt||e.is_dxtrade)||n)){var f=R.is_mt&&e.is_mt,_=R.is_ctrader&&e.is_ctrader,h=R.is_dxtrade&&e.is_dxtrade,p=f||_||h;Qe("to",e).push({text:s,value:u,is_mt:e.is_mt,is_ctrader:e.is_ctrader,is_dxtrade:e.is_dxtrade,disabled:p,nativepicker_text:"".concat(d?e.market_type:(0,c.getCurrencyName)(e.currency)," (").concat(e.balance," ").concat(d?e.currency:e.text,")")})}})),Ae(de(de(de(de({},xe.length&&me({},(0,u.localize)("Deriv MT5 accounts"),xe)),ge.length&&me({},(0,u.localize)("Deriv cTrader accounts"),ge)),Ee.length&&me({},(0,u.localize)("{{platform_name_dxtrade}} accounts",{platform_name_dxtrade:$e}),Ee)),ye.length&&me({},(0,u.localize)("Deriv accounts"),ye))),Ie(de(de(de(de({},ke.length&&me({},(0,u.localize)("Deriv MT5 accounts"),ke)),be.length&&me({},(0,u.localize)("Deriv cTrader accounts"),be)),we.length&&me({},(0,u.localize)("{{platform_name_dxtrade}} accounts",{platform_name_dxtrade:$e}),we)),ve.length&&me({},(0,u.localize)("Deriv accounts"),ve)))}),[j,G,R]),a().useEffect((function(){var e,t;if(he=Number(null!==(e=Ue?null==je?void 0:je.available:Be?null==Fe?void 0:Fe.available:Re?null==Ye?void 0:Ye.available:null==We?void 0:We.available)&&void 0!==e?e:0),Ce=!he,Ne)t=a().createElement(u.Localize,{i18n_default_text:"You can no longer open new positions with this account."});else if(Ke)t=a().createElement(u.Localize,{i18n_default_text:"The server is temporarily unavailable for this account. We’re working to resolve this."});else if(Xe)t=a().createElement(u.Localize,{i18n_default_text:"We’re currently performing server maintenance. Service may be affected.",components:[a().createElement("strong",{key:0})]});else{var r=he>1?"transfers":"transfer";t=a().createElement(u.Localize,{i18n_default_text:"You have {{remaining_transfers}} {{transfer_text}} remaining for today.",values:{remaining_transfers:he,transfer_text:r}})}Pe(t),_e()}),[z,Ne,R,G]);var et=(null==R?void 0:R.is_mt)&&(null==R||null===(t=R.status)||void 0===t?void 0:t.includes("poa_failed"))&&"verified"!==(null==L?void 0:L.document_status),tt=(0,u.localize)("You will be able to transfer funds between MT5 accounts and other accounts once your address is verified."),rt=function(){return a().createElement(u.Localize,{i18n_default_text:"Please <0>resubmit</0> your proof of address to transfer funds between MT5 and Deriv accounts.",components:[a().createElement(o.Link,{key:0,to:c.routes.proof_of_address,className:"link dark"})]})},nt=function(){(0,c.startPerformanceEventTimer)("load_cashier_time"),n&&n(),Ze.push(c.routes.cashier_deposit)},at=function(){return a().createElement("div",{className:"account-transfer-form__button-link",onClick:l},a().createElement(i.Text,{size:"xs",weight:"bold",color:"red"},a().createElement(u.Localize,{i18n_default_text:"Notes "})))};return Q?a().createElement(ce,{onClose:d}):a().createElement("div",{className:"cashier__wrapper account-transfer-form__wrapper","data-testid":"dt_account_transfer_form_wrapper"},!w&&a().createElement(i.Text,{as:"h2",color:"prominent",weight:"bold",align:"center",className:"cashier__header account-transfer-form__header"},(0,u.localize)("Transfer between your accounts in Deriv")),a().createElement(W.l1,{initialValues:{amount:M||"",converter_from_amount:ne||"",converter_to_amount:oe||""},onSubmit:function(){B({amount:M?Number(M):0})},validateOnBlur:!1,enableReinitialize:!0},(function(e){var t,n,o=e.errors,l=e.handleChange,s=e.isSubmitting,d=e.setFieldValue,m=e.setFieldError,f=e.values;return a().createElement(a().Fragment,null,s||0===j.length?a().createElement("div",{className:"cashier__loader-wrapper","data-testid":"dt_cashier_loader_wrapper"},a().createElement(i.Loading,{className:"cashier__loader",is_fullscreen:!1})):a().createElement(a().Fragment,null,Ce&&a().createElement("div",{className:"account-transfer-form__inline-warning-message"},a().createElement(i.InlineMessage,{message:(0,u.localize)("You have reached the maximum daily transfers. Please try again tomorrow."),size:"sm"})),a().createElement(W.lV,{className:"account-transfer-form",noValidate:!0},a().createElement("div",{className:"cashier__drop-down-wrapper account-transfer-form__drop-down-wrapper","data-testid":"dt_account_transfer_form_drop_down_wrapper"},a().createElement(i.Dropdown,{id:"transfer_from",className:h()("account-transfer-form__drop-down",{"account-transfer-form__drop-down--disabled":He}),classNameDisplay:"cashier__drop-down-display",classNameDisplaySpan:"cashier__drop-down-display-span",classNameItems:"cashier__drop-down-items",classNameLabel:"cashier__drop-down-label",disabled:He,test_id:"dt_account_transfer_form_drop_down",is_large:!0,label:(0,u.localize)("From"),list:Le,list_height:"404",name:"transfer_from",value:R.value,onChange:function(e){F(e),l(e),d("amount",""),setTimeout((function(){return m("amount","")}))},error:R.error}),a().createElement(i.Dropdown,{id:"transfer_to",className:"account-transfer-form__drop-down account-transfer-form__drop-down--to-dropdown",classNameDisplay:"cashier__drop-down-display",classNameDisplaySpan:"cashier__drop-down-display-span",classNameItems:"cashier__drop-down-items",classNameLabel:"cashier__drop-down-label",cclassNameHint:h()("account-transfer-form__hint",{"account-transfer-form__hint__disabled":Ce}),test_id:"dt_account_transfer_form_to_dropdown",is_large:!0,label:(0,u.localize)("To"),list:Se,list_height:"404",initial_height_offset:C?180:160,name:"transfer_to",value:G.value,onChange:function(e){Y(e),d("amount",""),setTimeout((function(){return m("amount","")}))},hint:Oe,error:null!==(t=et?"pending"===(null==L?void 0:L.document_status)?tt:a().createElement(rt,null):null)&&void 0!==t?t:G.error})),R.currency===G.currency?a().createElement(W.D0,{name:"amount",validate:Je},(function(e){var t=e.field;return a().createElement(i.Input,se({},t,{onChange:function(e){V({code:"",message:""}),l(e),q(e.target.value)},className:h()("cashier__input dc-input--no-placeholder account-transfer-form__input",{"account-transfer-form__input-fit-content":!w}),classNameHint:h()("account-transfer-form__hint",{"account-transfer-form__hint__disabled":et||Ce}),"data-testid":"dt_account_transfer_form_input",name:"amount",type:"text",label:(0,u.localize)("Amount"),error:o.amount?o.amount:"",required:!0,trailing_icon:R.currency?a().createElement("span",{className:h()("symbols","symbols--".concat(R.currency.toLowerCase()))},(0,c.getCurrencyDisplayCode)(R.currency)):void 0,autoComplete:"off",maxLength:30,hint:X.max?a().createElement(u.Localize,{i18n_default_text:"Transfer limits: <0 /> - <1 />",components:[a().createElement(i.Money,{key:0,amount:X.min,currency:R.currency,show_currency:!0}),a().createElement(i.Money,{key:1,amount:X.max,currency:R.currency,show_currency:!0})]}):"",disabled:et}))})):a().createElement("div",{className:et?"account-transfer-form__crypto--disabled":""},a().createElement("div",{className:"account-transfer-form__crypto--percentage-selector"},a().createElement(ee,{amount:R.balance?Number(R.balance):0,from_account:R.value,getCalculatedAmount:K,percentage:te,should_percentage_reset:re,to_account:G.value,from_currency:R.currency||"",to_currency:G.currency||""})),a().createElement(H,{arrow_icon_direction:y,from_currency:R.currency||"",to_currency:G.currency||"",hint:X.max?a().createElement(u.Localize,{i18n_default_text:"Transfer limits: <0 /> - <1 />",components:[a().createElement(i.Money,{key:0,amount:X.min,currency:R.currency,show_currency:!0}),a().createElement(i.Money,{key:1,amount:X.max,currency:R.currency,show_currency:!0})]}):"",onChangeConverterFromAmount:le,onChangeConverterToAmount:ue,resetConverter:_e,setArrowIconDirection:v,validateFromAmount:$,validateToAmount:J})),a().createElement("div",{className:h()("cashier__form-submit","account-transfer-form__form-buttons",{"account-transfer-form__form-buttons--with-notes":w}),"data-testid":"dt_account_transfer_form_submit"},w&&a().createElement(at,null),a().createElement("div",{className:"account-transfer-form__form-buttons__default"},a().createElement(i.Button,{is_disabled:Ve,secondary:!0,large:!0,onClick:nt},a().createElement(u.Localize,{i18n_default_text:"Deposit"})),a().createElement(i.Button,{className:"account-transfer-form__submit-button",type:"submit",is_disabled:s||Ce||!!R.error||!!G.error||R.balance&&!Number(R.balance)||!!ae||!!ie||!!o.amount||(n=f.amount,R.currency===G.currency?!n:!ne)||et||Ke||Xe,primary:!0,large:!0},a().createElement(u.Localize,{i18n_default_text:"Transfer"})))),!w&&a().createElement(Z,{error:r}))))})))}));Ne.displayName="AccountTransferForm";const ze=Ne;var Le=function(e){var t=e.children;return a().createElement("div",{className:"account-transfer-form__bullet-wrapper"},a().createElement("div",{className:"account-transfer-form__bullet"}),a().createElement(i.Text,{size:"xxs"},t))},Ae=(0,l.observer)((function(){var e=(0,c.getPlatformSettings)("dxtrade").name,t=(0,c.getPlatformSettings)("mt5").name,r=(0,c.getPlatformSettings)("ctrader").name,o=(0,s.A)().client,l=o.account_limits,d=o.is_dxtrade_allowed,m=(0,f.q)().account_transfer,_=m.minimum_fee,h=m.selected_from,p=m.selected_to,y=m.transfer_fee,v=l.daily_transfers,g=null==v?void 0:v.mt5,b=null==v?void 0:v.ctrader,E=null==v?void 0:v.dxtrade,w=null==v?void 0:v.internal,x={internal:null==w?void 0:w.allowed,mt5:null==g?void 0:g.allowed,ctrader:null==b?void 0:b.allowed,dxtrade:null==E?void 0:E.allowed},k=h.currency||"",C=h.is_crypto&&p.is_crypto,N=p.is_dxtrade||h.is_dxtrade,z=p.is_mt||h.is_mt,L=(0,n.useCallback)((function(){return 0===y?d?a().createElement(u.Localize,{i18n_default_text:"We do not charge a transfer fee for transfers in the same currency between your Deriv fiat and {{platform_name_mt5}} accounts, between your Deriv fiat and {{platform_name_ctrader}} accounts, and between your Deriv fiat and {{platform_name_dxtrade}} accounts.",values:{platform_name_dxtrade:e,platform_name_mt5:t,platform_name_ctrader:r}}):a().createElement(u.Localize,{i18n_default_text:"You’ll not be charged a transfer fee for transfers in the same currency between your Deriv fiat and {{platform_name_mt5}} accounts.",values:{platform_name_mt5:t}}):1===y?d?a().createElement(u.Localize,{i18n_default_text:"We’ll charge a 1% transfer fee for transfers in different currencies between your Deriv fiat and {{platform_name_mt5}} accounts and between your Deriv fiat and {{platform_name_dxtrade}} accounts.",values:{platform_name_dxtrade:e,platform_name_mt5:t}}):a().createElement(u.Localize,{i18n_default_text:"We’ll charge a 1% transfer fee for transfers in different currencies between your Deriv fiat and {{platform_name_mt5}} accounts.",values:{platform_name_mt5:t}}):2===y&&C?a().createElement(u.Localize,{i18n_default_text:"We’ll charge a 2% transfer fee or {{minimum_fee}} {{currency}}, whichever is higher, for transfers between your Deriv cryptocurrency accounts.",values:{minimum_fee:_,currency:(0,c.getCurrencyDisplayCode)(k)}}):2===y&&(z||N)?d?a().createElement(u.Localize,{i18n_default_text:"We’ll charge a 2% transfer fee or {{minimum_fee}} {{currency}}, whichever is higher, for transfers between your Deriv cryptocurrency and Deriv MT5 accounts and between your Deriv cryptocurrency and {{platform_name_dxtrade}} accounts.",values:{minimum_fee:_,currency:(0,c.getCurrencyDisplayCode)(k),platform_name_dxtrade:e}}):a().createElement(u.Localize,{i18n_default_text:"We’ll charge a 2% transfer fee or {{minimum_fee}} {{currency}}, whichever is higher, for transfers between your Deriv cryptocurrency and Deriv MT5 accounts.",values:{minimum_fee:_,currency:(0,c.getCurrencyDisplayCode)(k)}}):2!==y||z||N?null:a().createElement(u.Localize,{i18n_default_text:"We’ll charge a 2% transfer fee or {{minimum_fee}} {{currency}}, whichever is higher, for transfers between your Deriv fiat and Deriv cryptocurrency accounts.",values:{minimum_fee:_,currency:(0,c.getCurrencyDisplayCode)(k)}})}),[k,C,d,N,z,_,e,t,r,y,h.value,p.value]),A=(0,n.useCallback)((function(){return d?a().createElement(a().Fragment,null,a().createElement(Le,null,a().createElement(u.Localize,{i18n_default_text:"You may transfer between your Deriv fiat, cryptocurrency, {{platform_name_mt5}}, {{platform_name_ctrader}}, and {{platform_name_dxtrade}} accounts.",values:{platform_name_dxtrade:e,platform_name_mt5:t,platform_name_ctrader:r}})),a().createElement(Le,null,a().createElement(u.Localize,{i18n_default_text:"Each day, you can make up to {{ allowed_internal }} transfers between your Deriv accounts, up to {{ allowed_mt5 }} transfers between your Deriv and {{platform_name_mt5}} accounts, up to {{ allowed_ctrader }} transfers between your Deriv and {{platform_name_ctrader}} accounts, and up to {{ allowed_dxtrade }} transfers between your Deriv and {{platform_name_dxtrade}} accounts.",values:{allowed_internal:null==x?void 0:x.internal,allowed_mt5:null==x?void 0:x.mt5,allowed_dxtrade:null==x?void 0:x.dxtrade,allowed_ctrader:null==x?void 0:x.ctrader,platform_name_dxtrade:e,platform_name_mt5:t,platform_name_ctrader:r}}))):a().createElement(a().Fragment,null,a().createElement(Le,null,a().createElement(u.Localize,{i18n_default_text:"You may transfer between your Deriv fiat, cryptocurrency, and {{platform_name_mt5}} accounts.",values:{platform_name_mt5:t}})),a().createElement(Le,null,a().createElement(u.Localize,{i18n_default_text:"Each day, you can make up to {{ allowed_internal }} transfers between your Deriv accounts and up to {{ allowed_mt5 }} transfers between your Deriv and {{platform_name_mt5}} accounts.",values:{allowed_internal:null==x?void 0:x.internal,allowed_mt5:null==x?void 0:x.mt5,platform_name_mt5:t}})))}),[null==x?void 0:x.dxtrade,null==x?void 0:x.internal,null==x?void 0:x.ctrader,null==x?void 0:x.mt5,d,e,t,r,h.value,p.value]);return a().createElement(i.SideNote,{title:a().createElement(u.Localize,{i18n_default_text:"Notes"})},A(),a().createElement(Le,null,a().createElement(u.Localize,{i18n_default_text:"Transfer limits may vary depending on the exchange rates."})),a().createElement(Le,null,L()," ",a().createElement(u.Localize,{i18n_default_text:"Please bear in mind that some transfers may not be possible."})),a().createElement(Le,null,a().createElement(u.Localize,{i18n_default_text:"Transfers may be unavailable due to high volatility or technical issues and when the exchange markets are closed."})))}));const Te=Ae;function Se(e){return Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Se(e)}function Ie(){Ie=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,a=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof y?t:y,i=Object.create(o.prototype),c=new T(n||[]);return a(i,"_invoke",{value:N(e,r,c)}),i}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var m="suspendedStart",f="suspendedYield",_="executing",h="completed",p={};function y(){}function v(){}function g(){}var b={};s(b,i,(function(){return this}));var E=Object.getPrototypeOf,w=E&&E(E(S([])));w&&w!==r&&n.call(w,i)&&(b=w);var x=g.prototype=y.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(a,o,i,c){var l=d(e[a],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==Se(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(u).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,c)}))}c(l.arg)}var o;a(this,"_invoke",{value:function(e,n){function a(){return new t((function(t,a){r(e,n,t,a)}))}return o=o?o.then(a,a):a()}})}function N(t,r,n){var a=m;return function(o,i){if(a===_)throw Error("Generator is already running");if(a===h){if("throw"===o)throw i;return{value:e,done:!0}}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var l=z(c,n);if(l){if(l===p)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=_;var s=d(t,r,n);if("normal"===s.type){if(a=n.done?h:f,s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a=h,n.method="throw",n.arg=s.arg)}}}function z(t,r){var n=r.method,a=t.iterator[n];if(a===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,z(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var o=d(a,t.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,p;var i=o.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,p):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function L(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(L,this),this.reset(!0)}function S(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,o=function r(){for(;++a<t.length;)if(n.call(t,a))return r.value=t[a],r.done=!1,r;return r.value=e,r.done=!0,r};return o.next=o}}throw new TypeError(Se(t)+" is not iterable")}return v.prototype=g,a(x,"constructor",{value:g,configurable:!0}),a(g,"constructor",{value:v,configurable:!0}),v.displayName=s(g,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,l,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},k(C.prototype),s(C.prototype,c,(function(){return this})),t.AsyncIterator=C,t.async=function(e,r,n,a,o){void 0===o&&(o=Promise);var i=new C(u(e,r,n,a),o);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(x),s(x,l,"Generator"),s(x,i,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=S,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function a(n,a){return c.type="throw",c.arg=t,r.next=n,a&&(r.method="next",r.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],c=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(l&&s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;A(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:S(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),p}},t}function De(e,t,r,n,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,a)}function Oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o,i,c=[],l=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=o.call(r)).done)&&(c.push(n.value),c.length!==t);l=!0);}catch(e){s=!0,a=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pe(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var Me=(0,l.observer)((function(e){var t=e.onClickDeposit,r=e.onClickNotes,n=e.onClose,o=(0,s.A)().client,l=(0,f.q)(),u=l.account_transfer,_=l.general_store,h=u.accounts_list,p=u.error,y=u.has_no_account,g=u.has_no_accounts_balance,b=u.is_transfer_locked,E=u.onMountAccountTransfer,w=u.setAccountTransferAmount,x=u.setIsTransferConfirm,k=_.is_loading,C=d(),N=(0,m.A)().data,z=o.is_switching,L=o.is_virtual,T=Oe(a().useState(!0),2),I=T[0],O=T[1];return a().useEffect((function(){var e;return E(),(e=Ie().mark((function e(){return Ie().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.WS.wait("authorize","website_status","get_settings","paymentagent_list");case 3:O(!1),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){De(o,n,a,i,c,"next",e)}function c(e){De(o,n,a,i,c,"throw",e)}i(void 0)}))})(),function(){w(""),x(!1)}}),[]),L?a().createElement(v,{hide_breadcrumb:!0,right:a().createElement(a().Fragment,null)},a().createElement(P,null)):k||z||I||!N?a().createElement(v,{hide_breadcrumb:!0,right:a().createElement(a().Fragment,null)},a().createElement(i.Loading,{className:"cashier__loader",is_fullscreen:!1})):C?a().createElement(v,{hide_breadcrumb:!0,right:a().createElement(a().Fragment,null)},a().createElement(A,null)):b?a().createElement(v,{hide_breadcrumb:!0,right:a().createElement(a().Fragment,null)},a().createElement(F,null)):p.is_show_full_page||p.message&&!h.length?a().createElement(v,{hide_breadcrumb:!0,right:a().createElement(a().Fragment,null)},a().createElement(S,{error:p})):y?a().createElement(v,{hide_breadcrumb:!0,right:a().createElement(a().Fragment,null)},a().createElement(Y,null)):g?a().createElement(v,{hide_breadcrumb:!0,right:a().createElement(a().Fragment,null)},a().createElement(D,{onClickDeposit:t})):a().createElement(v,{hide_breadcrumb:!0,right:a().createElement(Te,null)},a().createElement(ze,{onClose:n,error:p,onClickDeposit:t,onClickNotes:r,TradingPlatformStatusData:N}))}));const je=Me;var Fe=(0,l.observer)((function(e){var t,r=e.is_modal_open,n=e.toggleModal,l=(0,s.A)(),d=l.modules.cashier,m=d.account_transfer,f=m.is_transfer_confirm,_=m.should_switch_account,h=m.setShouldSwitchAccount,p=m.error,y=d.general_store.setActiveTab,v=l.traders_hub,g=v.closeModal,b=v.setSelectedAccount,E=(0,o.useHistory)();a().useEffect((function(){return r&&y("account_transfer"),function(){r&&(h(!1),b({}),y("deposit"),g())}}),[r,p.code]);var w=!f&&a().createElement(u.Localize,{i18n_default_text:"Transfer funds to your accounts"});return null!==(t=p.code)&&void 0!==t&&t.length?a().createElement(Z,{error:p}):a().createElement(i.Modal,{className:_?"account-transfer-modal":"",has_close_icon:!f,is_open:r,is_title_centered:f,small:!0,title:w,toggleModal:n,should_header_stick_body:!1},a().createElement(i.Modal.Body,null,a().createElement(je,{onClickDeposit:function(){n(),E.push(c.routes.cashier_deposit)},onClickNotes:function(){n(),E.push(c.routes.cashier_acc_transfer)},onClose:n})))}));const Ye=Fe}}]);
//# sourceMappingURL=appstore.modal_Components_account-transfer-modal.6640d563bbf6d7fb6da8.js.map