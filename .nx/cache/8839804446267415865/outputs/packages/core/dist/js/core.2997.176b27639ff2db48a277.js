(self.webpackChunk=self.webpackChunk||[]).push([[2997],{630965:(e,r,t)=>{var n;self,e.exports=(n=t(286326),(()=>{"use strict";var e={"../../../node_modules/object-assign/index.js":e=>{var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(r).map((function(e){return r[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,c,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var l in a=Object(arguments[i]))t.call(a,l)&&(s[l]=a[l]);if(r){c=r(a);for(var u=0;u<c.length;u++)n.call(a,c[u])&&(s[c[u]]=a[c[u]])}}return s}},"../../../node_modules/react/cjs/react-jsx-runtime.production.min.js":(e,r,t)=>{t("../../../node_modules/object-assign/index.js");var n=t("react"),o=60103;if("function"==typeof Symbol&&Symbol.for){var a=Symbol.for;o=a("react.element"),a("react.fragment")}var c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,i={key:!0,ref:!0,__self:!0,__source:!0};function l(e,r,t){var n,a={},l=null,u=null;for(n in void 0!==t&&(l=""+t),void 0!==r.key&&(l=""+r.key),void 0!==r.ref&&(u=r.ref),r)s.call(r,n)&&!i.hasOwnProperty(n)&&(a[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps)void 0===a[n]&&(a[n]=r[n]);return{$$typeof:o,type:e,key:l,ref:u,props:a,_owner:c.current}}r.jsx=l,r.jsxs=l},"../../../node_modules/react/jsx-runtime.js":(e,r,t)=>{e.exports=t("../../../node_modules/react/cjs/react-jsx-runtime.production.min.js")},react:e=>{e.exports=n}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var a=r[n]={exports:{}};return e[n](a,a.exports,t),a.exports}t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var o={};function a(e){var r,t,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(r=0;r<o;r++)e[r]&&(t=a(e[r]))&&(n&&(n+=" "),n+=t)}else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}t.d(o,{default:()=>i}),t("react");const c=function(){for(var e,r,t=0,n="",o=arguments.length;t<o;t++)(e=arguments[t])&&(r=a(e))&&(n&&(n+=" "),n+=r);return n};var s=t("../../../node_modules/react/jsx-runtime.js");const i=e=>{let{children:r,label:t,className:n,is_title_enabled:o=!0,is_fiat:a,item_count:i,description:l}=e;return(0,s.jsxs)("div",{className:n,children:[o&&(0,s.jsx)("h2",{className:c(`${n}--is-header`,{"currency-selector__is-crypto":!a}),children:t}),a&&(0,s.jsx)("div",{className:"currency-selector__description",children:l}),(0,s.jsx)("div",{className:c("currency-list__items",{"currency-list__items__center":i<4,"currency-list__items__is-fiat":a,"currency-list__items__is-crypto":!a}),children:r})]})};return o.default})())},960923:(e,r,t)=>{var n,o,a,c;self,e.exports=(n=t(57886),o=t(189137),a=t(33118),c=t(286326),(()=>{"use strict";var e={"../../../node_modules/object-assign/index.js":e=>{var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(r).map((function(e){return r[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,c,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var l in a=Object(arguments[i]))t.call(a,l)&&(s[l]=a[l]);if(r){c=r(a);for(var u=0;u<c.length;u++)n.call(a,c[u])&&(s[c[u]]=a[c[u]])}}return s}},"../../../node_modules/react/cjs/react-jsx-runtime.production.min.js":(e,r,t)=>{t("../../../node_modules/object-assign/index.js");var n=t("react"),o=60103;if("function"==typeof Symbol&&Symbol.for){var a=Symbol.for;o=a("react.element"),a("react.fragment")}var c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,i={key:!0,ref:!0,__self:!0,__source:!0};function l(e,r,t){var n,a={},l=null,u=null;for(n in void 0!==t&&(l=""+t),void 0!==r.key&&(l=""+r.key),void 0!==r.ref&&(u=r.ref),r)s.call(r,n)&&!i.hasOwnProperty(n)&&(a[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps)void 0===a[n]&&(a[n]=r[n]);return{$$typeof:o,type:e,key:l,ref:u,props:a,_owner:c.current}}r.jsx=l,r.jsxs=l},"../../../node_modules/react/jsx-runtime.js":(e,r,t)=>{e.exports=t("../../../node_modules/react/cjs/react-jsx-runtime.production.min.js")},"@deriv/components":e=>{e.exports=n},"@deriv/shared":e=>{e.exports=o},"@deriv/translations":e=>{e.exports=a},react:e=>{e.exports=c}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var a=r[n]={exports:{}};return e[n](a,a.exports,t),a.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var s={};t.d(s,{default:()=>f});var i=t("react"),l=t.n(i);function u(e){var r,t,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(r=0;r<o;r++)e[r]&&(t=u(e[r]))&&(n&&(n+=" "),n+=t)}else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}const d=function(){for(var e,r,t=0,n="",o=arguments.length;t<o;t++)(e=arguments[t])&&(r=u(e))&&(n&&(n+=" "),n+=r);return n};var _=t("@deriv/components"),p=t("@deriv/shared"),h=t("@deriv/translations"),y=t("../../../node_modules/react/jsx-runtime.js");const m=e=>{let r,{id:t}=e;return r=/^UST$/i.test(t)?(0,y.jsx)(h.Localize,{i18n_default_text:"Tether as an Omni token (USDT) is a version of Tether that is hosted on the Omni layer on the Bitcoin blockchain.",components:[(0,y.jsx)("br",{},0)]}):/^tUSDT$/i.test(t)?(0,y.jsx)(h.Localize,{i18n_default_text:"Tether as a TRC20 token (tUSDT) is a version of Tether that is hosted on Tron."}):(0,y.jsx)(h.Localize,{i18n_default_text:"Tether as an ERC20 token (eUSDT) is a version of Tether that is hosted on Ethereum."}),(0,y.jsx)(_.Popover,{alignment:"top",className:"currency-list__popover",disable_message_icon:!0,icon:"info",is_bubble_hover_enabled:!0,message:r,zIndex:"9999"})},f=e=>{let{field:{name:r,value:t,onChange:n,onBlur:o},icon:a,id:c,label:s,second_line_label:i,onClick:u,className:h,...f}=e;return(0,y.jsxs)(l().Fragment,{children:[(0,y.jsx)("input",{name:r,id:c,type:"radio",value:c,checked:c===t,onChange:n,onBlur:o,disabled:f.selected,className:d(h,"currency-list__radio-button"),...f}),(0,y.jsx)("label",{htmlFor:c,className:d("currency-list__item",{"currency-list__item--selected":c===t,"currency-list__item--current":f.selected}),onClick:u,children:a?(0,y.jsxs)(l().Fragment,{children:[(0,y.jsx)(_.Icon,{className:"currency-list__icon",icon:a}),(0,y.jsxs)("div",{className:"label currency-list__item-text",children:[(0,y.jsx)("div",{className:"currency-list__item-label",children:s}),(0,y.jsx)("div",{className:"currency-list__item-code",children:i})]})]}):(0,y.jsxs)(l().Fragment,{children:[(0,y.jsx)(_.Icon,{className:"currency-list__icon",icon:`IcCurrency-${c?.toLowerCase()}`}),c&&/^(UST|eUSDT|tUSDT)$/i.test(c)&&(0,y.jsx)(m,{id:c}),(0,y.jsxs)("div",{className:"label currency-list__item-text",children:[(0,y.jsx)("div",{className:"currency-list__item-label",children:s}),(0,y.jsxs)("div",{className:"currency-list__item-code",children:["(",(0,p.getCurrencyDisplayCode)(c),")"]})]})]})})]})};return s.default})())},370611:(e,r,t)=>{var n,o;self,e.exports=(n=t(189137),o=t(33118),(()=>{"use strict";var e={"@deriv/shared":e=>{e.exports=n},"@deriv/translations":e=>{e.exports=o}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var a=r[n]={exports:{}};return e[n](a,a.exports,t),a.exports}t.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var a={};t.d(a,{default:()=>l});var c=t("@deriv/shared"),s=t("@deriv/translations");const i={currency:{supported_in:["maltainvest","svg"],default_value:"",rules:[["req",(0,s.localize)("Select an item")]]}},l=(e,r)=>{let{real_account_signup_target:t}=e;return{header:{active_title:(0,s.localize)("Select your preferred currency"),title:(0,s.localize)("Account currency")},body:r,form_value:(0,c.getDefaultFields)(t,i),props:{validate:(0,c.generateValidationFunction)(t,i)},passthrough:["legal_allowed_currencies"],icon:"IcDashboardCurrency"}};return a.default})())},622831:(e,r,t)=>{var n,o,a;self,e.exports=(n=t(596176),o=t(57886),a=t(286326),(()=>{"use strict";var e={"../../../node_modules/object-assign/index.js":e=>{var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var r={},t=0;t<10;t++)r["_"+String.fromCharCode(t)]=t;if("0123456789"!==Object.getOwnPropertyNames(r).map((function(e){return r[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,c,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),i=1;i<arguments.length;i++){for(var l in a=Object(arguments[i]))t.call(a,l)&&(s[l]=a[l]);if(r){c=r(a);for(var u=0;u<c.length;u++)n.call(a,c[u])&&(s[c[u]]=a[c[u]])}}return s}},"../../../node_modules/react/cjs/react-jsx-runtime.production.min.js":(e,r,t)=>{t("../../../node_modules/object-assign/index.js");var n=t("react"),o=60103;if("function"==typeof Symbol&&Symbol.for){var a=Symbol.for;o=a("react.element"),a("react.fragment")}var c=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,i={key:!0,ref:!0,__self:!0,__source:!0};function l(e,r,t){var n,a={},l=null,u=null;for(n in void 0!==t&&(l=""+t),void 0!==r.key&&(l=""+r.key),void 0!==r.ref&&(u=r.ref),r)s.call(r,n)&&!i.hasOwnProperty(n)&&(a[n]=r[n]);if(e&&e.defaultProps)for(n in r=e.defaultProps)void 0===a[n]&&(a[n]=r[n]);return{$$typeof:o,type:e,key:l,ref:u,props:a,_owner:c.current}}r.jsx=l,r.jsxs=l},"../../../node_modules/react/jsx-runtime.js":(e,r,t)=>{e.exports=t("../../../node_modules/react/cjs/react-jsx-runtime.production.min.js")},"@deriv-com/translations":e=>{e.exports=n},"@deriv/components":e=>{e.exports=o},react:e=>{e.exports=a},"../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js":(e,r,n)=>{n.d(r,{Y:()=>d});var o=n("react"),a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof t.g<"u"?t.g:typeof self<"u"?self:{},c="object"==typeof a&&a&&a.Object===Object&&a,s="object"==typeof self&&self&&self.Object===Object&&self;c||s||Function("return this")();var i=typeof window<"u"?o.useLayoutEffect:o.useEffect,l=typeof window>"u";function u(e,{defaultValue:r=!1,initializeWithValue:t=!0}={}){const n=e=>l?r:window.matchMedia(e).matches,[a,c]=(0,o.useState)((()=>t?n(e):r));function s(){c(n(e))}return i((()=>{const r=window.matchMedia(e);return s(),r.addListener?r.addListener(s):r.addEventListener("change",s),()=>{r.removeListener?r.removeListener(s):r.removeEventListener("change",s)}}),[e]),a}const d=()=>({isDesktop:u("(min-width: 1280px)"),isMobile:u("(max-width: 600px)"),isTablet:u("(min-width: 601px) and (max-width: 1279px)"),isTabletPortrait:u("(min-width: 601px) and (max-width: 1279px) and (orientation: portrait)"),isMobileOrTabletLandscape:u("(max-width: 1279px) and (orientation: landscape)")})}},r={};function c(t){var n=r[t];if(void 0!==n)return n.exports;var o=r[t]={exports:{}};return e[t](o,o.exports,c),o.exports}c.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return c.d(r,{a:r}),r},c.d=(e,r)=>{for(var t in r)c.o(r,t)&&!c.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},c.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r);var s={};c.d(s,{default:()=>h});var i=c("react"),l=c.n(i),u=c("@deriv/components"),d=c("@deriv-com/translations"),_=c("../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js"),p=c("../../../node_modules/react/jsx-runtime.js");const h=e=>{let{show_risk_modal:r,handleAcceptRisk:t,title:n,button_text:o,body_content:a,has_sub_header:c=!1}=e;const{isDesktop:s}=(0,_.Y)(),{localize:i}=(0,d.useTranslations)();return(0,p.jsx)(l().Fragment,{children:s?(0,p.jsxs)(u.Modal,{width:"44rem",title:n,height:"41rem",is_open:r,className:"center-risk-modal",toggleModal:t,has_close_icon:!1,children:[(0,p.jsxs)(u.Modal.Body,{children:[(0,p.jsx)(u.Icon,{icon:"IcRedWarning",size:"63"}),(0,p.jsx)(u.Text,{as:"p",size:"xs",align:"center",line_height:"s",className:"risk-acceptance__text",children:a})]}),(0,p.jsx)(u.Modal.Footer,{children:(0,p.jsx)(u.Button,{type:"button",large:!0,text:o??i("OK"),primary:!0,onClick:t})})]}):(0,p.jsxs)(u.MobileDialog,{visible:r,title:c?i("Trading Experience Assessment"):n,portal_element_id:"modal_root",has_close_icon:!1,children:[(0,p.jsxs)(u.Modal.Body,{className:"risk-tolerance-modal",children:[c?(0,p.jsxs)(u.Text,{size:"xs",line_height:"s",weight:"bold",as:"p",className:"risk-tolerance-modal__title",children:[n,(0,p.jsx)("div",{className:"risk-tolerance-modal__title--separator"})]}):null,(0,p.jsxs)("div",{className:"risk-tolerance-modal__wrapper",children:[(0,p.jsx)(u.Icon,{icon:"IcRedWarning",size:"65"}),(0,p.jsx)(u.Text,{as:"p",size:"xs",align:"center",line_height:"l",className:"risk-acceptance__text",children:a})]})]}),(0,p.jsx)(u.Modal.Footer,{className:"risk-tolerance-modal__footer",children:(0,p.jsx)(u.Button,{type:"button",large:!0,text:o??i("OK"),primary:!0,onClick:t})})]})})};return s.default})())},697845:(e,r,t)=>{"use strict";t.d(r,{A:()=>S});var n=t(286326),o=t(237064),a=t(824223),c=t(57886),s=t(189137),i=t(679955),l=t(414646),u=t(33118),d=t(836870);const _=e=>{let r,{id:t}=e;return r=/^UST$/i.test(t)?(0,d.jsx)(u.Localize,{i18n_default_text:"Tether as an Omni token (USDT) is a version of Tether that is hosted on the Omni layer on the Bitcoin blockchain.",components:[(0,d.jsx)("br",{},0)]}):/^tUSDT$/i.test(t)?(0,d.jsx)(u.Localize,{i18n_default_text:"Tether as a TRC20 token (tUSDT) is a version of Tether that is hosted on Tron."}):(0,d.jsx)(u.Localize,{i18n_default_text:"Tether as an ERC20 token (eUSDT) is a version of Tether that is hosted on Ethereum."}),(0,d.jsx)(c.Popover,{alignment:"top",className:"currency-list__popover",disable_message_icon:!0,icon:"info",is_bubble_hover_enabled:!0,message:r,zIndex:"9999"})},p=["field","icon","id","label","second_line_label","onClick","className"];function h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?h(Object(t),!0).forEach((function(r){m(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function m(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const f=e=>{let{field:{name:r,value:t,onChange:a,onBlur:i},icon:l,id:u,label:h,second_line_label:m,onClick:f,className:g}=e,b=function(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(r.includes(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,p);return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)("input",y({name:r,id:u,type:"radio",value:u,checked:u===t,onChange:a,onBlur:i,disabled:b.selected,className:(0,o.A)(g,"currency-list__radio-button")},b)),(0,d.jsx)("label",{htmlFor:u,className:(0,o.A)("currency-list__item",{"currency-list__item--selected":u===t,"currency-list__item--current":b.selected}),onClick:f,children:l?(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(c.Icon,{className:"currency-list__icon",icon:l}),(0,d.jsxs)("div",{className:"label currency-list__item-text",children:[(0,d.jsx)("div",{className:"currency-list__item-label",children:h}),(0,d.jsx)("div",{className:"currency-list__item-code",children:m})]})]}):(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(c.Icon,{className:"currency-list__icon",icon:`IcCurrency-${null==u?void 0:u.toLowerCase()}`}),u&&/^(UST|eUSDT|tUSDT)$/i.test(u)&&(0,d.jsx)(_,{id:u}),(0,d.jsxs)("div",{className:"label currency-list__item-text",children:[(0,d.jsx)("div",{className:"currency-list__item-label",children:h}),(0,d.jsxs)("div",{className:"currency-list__item-code",children:["(",(0,s.getCurrencyDisplayCode)(u),")"]})]})]})})]})},g=e=>{let{children:r,label:t,className:n,is_title_enabled:a=!0,is_fiat:c,item_count:s,description:i}=e;return(0,d.jsxs)("div",{className:n,children:[a&&(0,d.jsx)("h2",{className:(0,o.A)(`${n}--is-header`,{"currency-selector__is-crypto":!c}),children:t}),c&&(0,d.jsx)("div",{className:"currency-selector__description",children:i}),(0,d.jsx)("div",{className:(0,o.A)("currency-list__items",{"currency-list__items__center":s<4,"currency-list__items__is-fiat":c,"currency-list__items__is-crypto":!c}),children:r})]})};var b=t(628977),v=t(919796);function x(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function j(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?x(Object(t),!0).forEach((function(r){w(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function w(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const O=()=>(0,d.jsx)("div",{className:"currency-hr"}),S=(0,i.observer)((e=>{let{getCurrentStep:r,goToNextStep:t,goToStep:i,onSubmit:_,onSave:p,onCancel:h,goToPreviousStep:y,set_currency:m,validate:x,has_cancel:w=!1,has_wallet_account:S,value:N}=e;const{client:C,ui:z}=(0,l.A)(),{currency:P,has_active_real_account:A,upgradeable_currencies:k,available_crypto_currencies:T,has_fiat:I,accounts:D}=C,E=Boolean(P),{real_account_signup:L,real_account_signup_target:M,resetRealAccountSignupParams:F}=z,{isMobile:R,isDesktop:B}=(0,v.Y)(),Y=k.filter((e=>String(e.type)===s.CURRENCY_TYPE.CRYPTO)),U=k.filter((e=>String(e.type)===s.CURRENCY_TYPE.FIAT)),[W,$]=n.useState(!1),V=!!Object.values(D).filter((e=>e.landing_company_shortcode===M)).length;n.useEffect((()=>{null!=L&&L.error_code&&$(!0)}),[null==L?void 0:L.error_code]),n.useEffect((()=>{if(W&&null!=L&&L.error_details){const e=Object.keys(null==L?void 0:L.error_details),r=Object.keys((0,s.getAddressDetailsFields)()).filter((r=>e.includes(r)));(null==r?void 0:r.length)>0?i(3):t(),F(),$(!1)}}),[W]);return(0,d.jsx)(a.Formik,{initialValues:N,onSubmit:(e,n)=>{_(r?r()-1:null,e,n.setSubmitting,t)},validate:e=>{const t=((null==r?void 0:r())||1)-1;null==p||p(t,e);const{errors:n}=(0,b.E)(x(e));return n},children:e=>{let{handleSubmit:t,values:i}=e;return(0,d.jsx)(c.AutoHeightWrapper,{default_height:450,children:e=>{var l,_;let{setRef:b,height:v}=e;return(0,d.jsxs)("form",{ref:b,onSubmit:t,className:"currency-selector","data-testid":"currency_selector_form",children:[(0,d.jsx)(c.Div100vhContainer,{className:(0,o.A)("currency-selector__container",{"currency-selector__container--no-top-margin":!E&&A&&R}),height_offset:!E&&A?"89px":"159px",is_disabled:B,children:(0,d.jsxs)(c.ThemedScrollbars,{height:v,children:[!(null==U||!U.length)&&(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(g,{className:"currency-selector__radio-group currency-selector__radio-group--with-margin",is_fiat:!0,item_count:U.length,children:(0,s.reorderCurrencies)(U).map((e=>(0,d.jsx)(a.Field,{component:f,name:"currency",id:e.value,label:e.name,selected:V&&I},e.value)))}),!(null===(l=(0,s.reorderCurrencies)(Y,"crypto"))||void 0===l||!l.length)&&(0,d.jsx)(O,{})]}),!(null===(_=(0,s.reorderCurrencies)(Y,"crypto"))||void 0===_||!_.length)&&(0,d.jsx)(n.Fragment,{children:(0,d.jsx)(g,{is_title_enabled:!1,className:"currency-selector__radio-group currency-selector__radio-group--with-margin",item_count:(0,s.reorderCurrencies)(Y,"crypto").length,children:(0,s.reorderCurrencies)(Y,"crypto").map((e=>{var r;return(0,d.jsx)(a.Field,{component:f,selected:0===(null==T||null===(r=T.filter((r=>r.value===e.value)))||void 0===r?void 0:r.length),name:"currency",id:e.value,label:e.name},e.value)}))})})]})}),(0,d.jsx)(c.Modal.Footer,{has_separator:!0,is_bypassed:R,children:(0,d.jsx)(c.FormSubmitButton,j({className:m?"currency-selector--set-currency":"currency-selector--deriv-account",is_disabled:!i.currency,is_center:!1,is_absolute:m,label:m?(0,u.localize)("Set currency"):S?(0,u.localize)("Finish"):(0,u.localize)("Next")},w?{cancel_label:(0,u.localize)("Previous"),has_cancel:!0,onCancel:()=>(e=>{const t=r()-1;null==p||p(t,e),h(t,y)})(i)}:{}))})]})}})}})}))},628977:(e,r,t)=>{"use strict";function n(e){const r={},t={};return Object.keys(e).forEach((n=>{const o=e[n];Array.isArray(o)&&("warn"===o[0]?r[n]=o[1]:"error"===o[0]&&(t[n]=o[1]))})),{warnings:r,errors:t}}t.d(r,{E:()=>n})},922087:(e,r,t)=>{"use strict";t.d(r,{S:()=>a,fN:()=>o,yt:()=>c});var n=t(33118);const o={SUCCESS:1,WARN:0,DANGER:-1,PENDING:-2},a=e=>{switch(e){case"svg":return(0,n.localize)("Options & Multipliers");case"maltainvest":return(0,n.localize)("Multipliers");default:return(0,n.localize)("Deriv")}},c=e=>{const{landing_company_shortcode:r=""}=e;return o.SUCCESS}},652997:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>We});var n=t(286326),o=t(291218),a=t(255530),c=t.n(a),s=t(919796),i=t(622831),l=t.n(i),u=t(109582),d=t.n(u),_=t(57886),p=t(189137),h=t(33118),y=t(679955),m=t(414646),f=t(824223),g=t(597598),b=t.n(g),v=t(427596),x=t(630965),j=t.n(x),w=t(960923),O=t.n(w);function S(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function N(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?S(Object(t),!0).forEach((function(r){C(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function C(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const z=e=>e.filter((e=>{let{platform:r}=e;return r.ramp.length>0})),P=(e,r,t)=>{const n=[];return e.forEach((e=>{n.push(N(N({},e),{},{has_payment_agent:!(null==r||!r.filter((r=>r.currencies===e.value)).length),is_disabled:null==t?void 0:t.some((r=>r.title===e.value&&r.is_disabled))}))})),n};var A=t(836870);const k=e=>{let{message:r}=e;return(0,A.jsx)("div",{className:"add-currency__note-wrapper",children:(0,A.jsx)(_.Text,{as:"p",color:"prominent",align:"center",size:"xxs",className:"add-currency__note",children:r})})},T=()=>[(0,A.jsx)(h.Localize,{i18n_default_text:"Choose your preferred cryptocurrency"},0),(0,A.jsx)(h.Localize,{i18n_default_text:"You can open an account for each cryptocurrency."},1),(0,A.jsx)(h.Localize,{i18n_default_text:"Add a real account"},2),(0,A.jsx)(h.Localize,{i18n_default_text:"Choose a currency you would like to trade with."},3),(0,A.jsx)(h.Localize,{i18n_default_text:"Choose a currency"},4)],I=e=>{let{heading:r,subheading:t}=e;return(0,A.jsxs)(n.Fragment,{children:[(0,A.jsx)(_.Text,{as:"h1",color:"prominent",align:"center",weight:"bold",className:"add-crypto-currency__title",children:r}),(0,A.jsx)(_.Text,{as:"h3",size:"xxs",color:"prominent",align:"center",className:"add-crypto-currency__sub-title",children:t})]})},D="crypto",E=(0,y.observer)((e=>{let{form_error:r,is_add_fiat:t,onClickBack:n,onSubmit:o,should_show_crypto_only:a,should_show_fiat_only:c,value:i,hasNoAvailableCrypto:l}=e;const{isDesktop:u}=(0,s.Y)(),{client:d,modules:y,ui:g}=(0,m.A)(),{available_crypto_currencies:b,upgradeable_currencies:v,has_fiat:x}=d,{should_show_cancel:w}=g,{cashier:S}=y,N=S.general_store.deposit_target,C=()=>(0,p.reorderCurrencies)(v.filter((e=>"fiat"===e.type))),P=()=>{const e=N===p.routes.cashier_onramp?z(v):v.filter((e=>e.type===D));return(0,p.reorderCurrencies)(e,D)},E=()=>!x&&!a,L=e=>-1===b.map((e=>e.value)).indexOf(e.value);return(0,A.jsx)(f.Formik,{initialValues:{currency:i.currency},onSubmit:o,children:e=>{let{handleSubmit:o,values:a,errors:s,touched:i,isSubmitting:d}=e;return(0,A.jsxs)("form",{onSubmit:o,children:[!E()&&(0,A.jsx)(I,{heading:T()[0],subheading:T()[1]}),E()&&(0,A.jsx)(I,{heading:t?T()[4]:T()[2],subheading:T()[3]}),E()&&(0,A.jsx)(_.ThemedScrollbars,{children:(0,A.jsx)(j(),{id:"fiat_currency",is_fiat:!0,className:"currency-selector__radio-group currency-selector__radio-group--with-margin",value:a.currency,error:s.currency,touched:i.currency,is_title_enabled:E(),item_count:C().length,children:C().map((e=>(0,A.jsx)(f.Field,{component:O(),name:"currency",id:e.value,label:e.name},e.value)))})}),E()&&(0,A.jsx)(_.Text,{as:"p",color:"prominent",size:"xxs",align:"center",className:"currency-selector__deposit-warn",children:(0,A.jsx)(h.Localize,{i18n_default_text:"You’ll not be able to change currency once you have made a deposit."})}),l()&&(0,A.jsx)("div",{className:"account-wizard--disabled-message",children:(0,A.jsx)(_.Text,{as:"p",align:"center",size:"xxs",className:"account-wizard--disabled-message-description",children:(0,h.localize)("You already have an account for each of the cryptocurrencies available on {{deriv}}.",{deriv:p.website_name})})}),!c&&(0!==b.length?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(_.ThemedScrollbars,{height:(0,p.isMobile)()?window.innerHeight-240:"460px",children:(0,A.jsx)(j(),{id:"crypto_currency",className:"currency-selector__radio-group currency-selector__radio-group--with-margin",label:(0,h.localize)("Cryptocurrencies"),value:a.currency,error:s.currency,touched:i.currency,is_title_enabled:E(),item_count:P().length,children:P().map((e=>(0,A.jsx)(f.Field,{component:O(),name:"currency",id:e.value,label:e.name,selected:L(e)},e.value)))})}),N===p.routes.cashier_onramp&&(0,A.jsx)(k,{message:(0,h.localize)("Some currencies may not be supported by fiat onramp.")})]}):(0,A.jsx)(_.ThemedScrollbars,{children:(0,A.jsx)(j(),{id:"crypto_currency",className:"currency-selector__radio-group currency-selector__radio-group--with-margin",label:(0,h.localize)("Cryptocurrencies"),is_title_enabled:E(),item_count:P().length,children:P().map((e=>(0,A.jsx)(f.Field,{component:O(),name:"currency",id:e.value,label:e.name,selected:!0},e.value)))})})),(0,A.jsx)(_.FormSubmitButton,{className:"currency-selector__button",is_disabled:d||!a.currency,label:(0,h.localize)("Add account"),is_absolute:u,form_error:r,has_cancel:w,cancel_label:(0,h.localize)("Back"),cancel_icon:(0,A.jsx)(_.Icon,{icon:"IcArrowLeftBold"}),onCancel:()=>n()})]})}})}));E.propTypes={hasNoAvailableCrypto:b().func,form_error:b().string,onSubmit:b().func,should_show_crypto_only:b().bool,should_show_fiat_only:b().bool,value:b().shape({crypto:b().string,fiat:b().string,currency:b().string}),onClickBack:b().func,is_add_fiat:b().bool};const L=E,M="crypto",F=(0,y.observer)((e=>{let{onSubmit:r,hasNoAvailableCrypto:t,is_add_crypto:o,is_add_fiat:a}=e;const{client:s,modules:i,ui:l}=(0,m.A)(),{available_crypto_currencies:u,has_fiat:d,upgradeable_currencies:y}=s,{cashier:g}=i,b=g.general_store.setShouldShowAllAvailableCurrencies,x=g.general_store.deposit_target,{openRealAccountSignup:w}=l,[S]=n.useState(""),[N]=n.useState({crypto:"",fiat:""}),{data:C,isLoading:z}=(0,v.A)(),T=n.useMemo((()=>{const e=P(y,C);return{crypto:(0,p.reorderCurrencies)(null==e?void 0:e.filter((e=>e.type===M&&u.some((r=>r.value===e.value)))),M),fiat:(0,p.reorderCurrencies)(null==e?void 0:e.filter((e=>"fiat"===e.type&&!u.some((r=>r.value===e.value)))))}}),[C,u,y]),I=()=>{w("choose"),x===p.routes.cashier_pa&&b(!0)},D=()=>(0,A.jsxs)("div",{children:[(0,A.jsx)(_.Text,{as:"h1",color:"prominent",align:"center",weight:"bold",className:"add-currency__title",children:(0,h.localize)("Fiat currencies")}),!!d&&(0,A.jsx)(_.Text,{as:"p",color:"prominent",align:"center",size:"xxs",className:"add-currency__sub-title",children:(0,h.localize)("You are limited to one fiat account only.")}),z?(0,A.jsx)(_.Loading,{is_fullscreen:!1}):(0,A.jsx)(j(),{id:"crypto_currency",className:"currency-selector__radio-group currency-selector__radio-group--with-margin",item_count:T.fiat.length,children:T.fiat.map((e=>(0,A.jsx)(f.Field,{component:O(),name:"currency",id:e.value,label:e.name,icon:e.icon,second_line_label:e.second_line_label,onClick:e.onClick,selected:d},e.value)))})]}),E=()=>(0,A.jsxs)("div",{children:[(0,A.jsx)(_.Text,{as:"h1",color:"prominent",align:"center",weight:"bold",className:"add-currency__title",children:(0,h.localize)("Cryptocurrencies")}),(0,A.jsx)(_.Text,{as:"p",color:"prominent",align:"center",size:"xxs",className:"add-currency__sub-title",children:(0,h.localize)("You can open an account for each cryptocurrency.")}),z?(0,A.jsx)(_.Loading,{is_fullscreen:!1}):(0,A.jsx)(j(),{id:"crypto_currency",className:"currency-selector__radio-group currency-selector__radio-group--with-margin",item_count:T.crypto.length,children:T.crypto.map((e=>(0,A.jsx)(f.Field,{component:O(),name:"currency",id:e.value,label:e.name,icon:e.icon,second_line_label:e.second_line_label,onClick:e.onClick,selected:x===p.routes.cashier_pa&&!e.has_payment_agent},e.value)))})]});return o?(0,A.jsx)(_.ThemedScrollbars,{autohide:!1,children:(0,A.jsx)("div",{className:c()("add-crypto-currency cashier-deposit",{"account-wizard--disabled":t()}),children:(0,A.jsx)(L,{className:"account-wizard__body",onSubmit:r,onClickBack:I,value:N,form_error:S,should_show_crypto_only:!0,hasNoAvailableCrypto:t})})}):a?(0,A.jsx)(_.ThemedScrollbars,{autohide:!1,children:(0,A.jsx)("div",{className:"change-currency",children:(0,A.jsx)(L,{className:"account-wizard__body",onSubmit:r,value:N,form_error:S,should_show_fiat_only:!0,hasNoAvailableCrypto:t,is_add_fiat:!0})})}):(0,A.jsx)(f.Formik,{initialValues:{currency:N.currency},onSubmit:r,children:e=>{let{handleSubmit:r,values:t,isSubmitting:n}=e;return(0,A.jsxs)("form",{onSubmit:r,children:[(0,A.jsx)(_.ThemedScrollbars,{height:(0,p.isMobile)()?window.innerHeight-190:"460px",children:(0,A.jsxs)("div",{children:[(0,A.jsx)(_.Text,{as:"p",color:"prominent",weight:"bold",align:"center",className:"add-currency__wizard-header",children:(0,h.localize)("Choose your currency")}),(0,A.jsx)(D,{}),(0,A.jsx)("div",{className:"add-currency__underline"}),(0,A.jsx)(E,{})]})}),(0,A.jsx)(k,{message:(0,h.localize)("Some currencies may not be supported by payment agents in your country.")}),(0,A.jsx)(_.FormSubmitButton,{className:"currency-selector__button",is_disabled:n||!t.currency,label:(0,h.localize)("Add account"),is_absolute:!0,form_error:S,has_cancel:!0,cancel_label:(0,h.localize)("Back"),cancel_icon:(0,A.jsx)(_.Icon,{icon:"IcArrowLeftBold"}),onCancel:()=>I()})]})}})}));F.propTypes={onSubmit:b().func,is_add_crypto:b().bool,is_add_fiat:b().bool,hasNoAvailableCrypto:b().func};const R=F;var B=t(391289),Y=t(712949);const U=(0,y.observer)((e=>{var r;let{value:t,onSubmit:n,form_error:o,can_change_fiat_currency:a,current_currency_type:c}=e;const{client:s,ui:i}=(0,m.A)(),{upgradeable_currencies:l,currency:u,current_fiat_currency:d}=s,{closeRealAccountSignup:y}=i,g=()=>(0,p.reorderCurrencies)(l.filter((e=>"fiat"===e.type))),b="fiat"===c,v=(0,A.jsx)(h.Localize,{i18n_default_text:"If you want to change your account currency, please contact us via <0>live chat</0>.",components:[(0,A.jsx)("span",{className:"link link--orange",onClick:()=>{y(),Y.Chat.open()}},0)]}),x=(0,A.jsx)(h.Localize,{i18n_default_text:"Please switch to your {{fiat_currency}} account to change currencies.",values:{fiat_currency:null==d||null===(r=d.toUpperCase)||void 0===r?void 0:r.call(d)}}),w=b?v:x;return(0,A.jsx)(f.Formik,{initialValues:{fiat:t.fiat},onSubmit:n,children:e=>{let{handleSubmit:r,values:t,errors:n,touched:c,isSubmitting:s}=e;return(0,A.jsxs)("form",{onSubmit:e=>{e.preventDefault(),r()},children:[(0,A.jsx)(_.Text,{as:"h1",color:"prominent",weight:"bold",align:"center",className:"change-currency__title",children:(0,A.jsx)(h.Localize,{i18n_default_text:"Change your currency"})}),(0,A.jsx)(_.Text,{as:"h3",size:"xxs",align:"center",className:"change-currency__sub-title",children:(0,A.jsx)(h.Localize,{i18n_default_text:"Choose the currency you would like to trade with."})}),!a&&(0,A.jsx)("div",{className:"account-wizard--disabled-message",children:(0,A.jsx)(_.Text,{as:"p",align:"center",size:"xxs",className:"account-wizard--disabled-message-description",children:w})}),(0,A.jsx)(j(),{id:"fiat",label:(0,h.localize)("Cryptocurrencies"),className:"currency-selector__radio-group currency-selector__radio-group--with-margin",value:t.fiat,error:n.fiat,touched:c.fiat,is_title_enabled:!1,item_count:g().length,children:g().map((e=>(0,A.jsx)(f.Field,{component:O(),name:"fiat",id:e.value,label:e.name,selected:e.value===u},e.value)))}),(0,A.jsx)(_.FormSubmitButton,{className:"change-currency__button",is_disabled:s||!t.fiat,label:(0,h.localize)("Change currency"),is_absolute:!(0,p.isMobile)(),form_error:o})]})}})}));U.propTypes={onSubmit:b().func,closeModal:b().func,value:b().shape({crypto:b().string,fiat:b().string}),form_error:b().string,can_change_fiat_currency:b().bool,current_currency_type:b().string,current_fiat_currency:b().string};const W=U;var $=t(945331);const V=(0,y.observer)((e=>{const{deposit_target:r,is_add_crypto:t,is_add_currency:o,is_add_fiat:a,is_loading:s,onError:i,onSuccessSetAccountCurrency:l,setLoading:u,onClose:d}=e,{client:y,modules:f,ui:g,traders_hub:b}=(0,m.A)(),{available_crypto_currencies:v,can_change_fiat_currency:x,current_currency_type:j,has_fiat:w,setAccountCurrency:O,createCryptoAccount:S,is_low_risk:N,loginid:C}=y,{cashier:z}=f,{show_eu_related_content:P}=b,{manage_real_account_tab_index:k,setShouldShowCancel:T,resetRealAccountSignupTarget:I}=g,D=z.general_store.setIsDeposit,E=(null!=k?k:w&&0===(null==v?void 0:v.length))?1:0,[M,F]=n.useState(E),[Y]=n.useState(""),[U]=n.useState({crypto:"",fiat:""});n.useEffect((()=>((async()=>{u(!0),await B.WS.mt5LoginList(),u(!1)})(),()=>T(!1))),[]);const V=e=>{u(!0),Object.entries(e).map((e=>{let[t,n]=e;t===p.CURRENCY_TYPE.FIAT?O(n).then((e=>{l(e.passthrough.previous_currency,e.echo_req.set_account_currency,r)})).catch((e=>{i(e)})).finally((()=>u(!1))):S(n).then((()=>{l("",n,r),I(),D(!0)})).catch((e=>{i(e)})).finally((()=>u(!1)))}))},q=()=>0===v.length&&w;if(s)return(0,A.jsx)($.A,{});const G=w&&(0,A.jsx)("div",{className:c()("change-currency",{"account-wizard--disabled":!x}),children:(0,A.jsx)(W,{className:"account-wizard__body",onSubmit:V,value:U,form_error:Y,can_change_fiat_currency:x,current_currency_type:j,closeModal:d})});if(o||t||a)return(0,A.jsx)(R,{onSubmit:V,value:U,form_error:Y,should_show_crypto_only:!0,hasNoAvailableCrypto:q,is_add_crypto:t,is_add_fiat:a,is_add_currency:o});const K=null==C?void 0:C.startsWith("MF");return(0,A.jsx)(_.ThemedScrollbars,{is_bypassed:(0,p.isMobile)(),autohide:!1,children:P&&!N&&w||K?G:(0,A.jsxs)(_.Tabs,{active_index:M,className:"account-wizard add-or-manage tabs--desktop",onTabItemClick:e=>{F(e)},top:!0,header_fit_content:(0,p.isDesktop)(),children:[(0,A.jsx)("div",{label:(0,h.localize)("Cryptocurrencies"),children:(0,A.jsx)("div",{className:c()("add-crypto-currency",{"account-wizard--disabled":q()}),children:(0,A.jsx)(L,{className:"account-wizard__body",onSubmit:V,value:U,form_error:Y,should_show_crypto_only:!0,hasNoAvailableCrypto:q})})}),(0,A.jsx)("div",{label:(0,h.localize)("Fiat currencies"),children:w?G:(0,A.jsx)(L,{className:"account-wizard__body",onSubmit:V,value:U,form_error:Y,should_show_fiat_only:!0,hasNoAvailableCrypto:q})})]})})}));V.propTypes={onClose:b().func,onError:b().func,onSuccessSetAccountCurrency:b().func,is_loading:b().bool,is_add_crypto:b().bool,setLoading:b().func,is_add_fiat:b().bool,is_add_currency:b().bool,deposit_target:b().string};const q=V,G="crypto",K=(0,y.observer)((()=>{const{client:e,modules:r,ui:t}=(0,m.A)(),{account_list:o,available_crypto_currencies:a,currency:c,has_fiat:s,upgradeable_currencies:i,switchAccount:l}=e,{cashier:u}=r,{closeRealAccountSignup:d,continueRouteAfterChooseCrypto:y,openRealAccountSignup:g,setShouldShowCancel:b}=t,x=u.general_store.deposit_target,w=u.general_store.should_show_all_available_currencies,S=u.general_store.setShouldShowAllAvailableCurrencies,[N]=n.useState(""),[C]=n.useState({crypto:""}),{data:k,isLoading:T}=(0,v.A)();n.useEffect((()=>()=>S(!1)),[S]);const I=n.useMemo((()=>{const e=()=>0===(null==i?void 0:i.filter((e=>e.type===G&&!o.some((r=>r.title===e.value)))).length),r=P(i,k,o),t=z(i),n=(()=>{var e;let n;n=x===p.routes.cashier_onramp?t:w?r:null==r?void 0:r.filter((e=>e.type===G&&!a.some((r=>r.value===e.value))));const c=null===(e=n)||void 0===e?void 0:e.filter((e=>o.some((r=>r.title===e.value))));return(0,p.reorderCurrencies)(c,G)})();return(()=>{switch(x){case p.routes.cashier_pa:return!s||!e();case p.routes.cashier_onramp:return i.filter((e=>e.type===G&&e.platform.ramp.length>0&&!o.some((r=>r.title===e.value)))).length>0;default:return!e()}})()&&n.push({value:"plus",name:x===p.routes.cashier_pa?(0,h.localize)("Add a new"):(0,h.localize)("Add new"),second_line_label:x===p.routes.cashier_pa?(0,h.localize)("account"):(0,h.localize)("crypto account"),icon:"IcAddAccount",onClick:()=>(g(x===p.routes.cashier_pa?"add_currency":"add_crypto"),void b(!0)),has_payment_agent:!0}),n}),[o,k,a,x,s,i,w,g,b]),D=async e=>{Object.entries(e).map((e=>{let[r,t]=e;r&&(d(),t!==c&&(async e=>{const r=o.filter((r=>r.title===e)).map((e=>e.loginid))[0];r&&await l(r)})(t),y())}))};return(0,A.jsx)(f.Formik,{initialValues:{currency:C.currency},onSubmit:e=>{D(e)},children:e=>{let{handleSubmit:r,values:t,isSubmitting:n}=e;return(0,A.jsxs)("form",{onSubmit:r,children:[(0,A.jsx)(_.Text,{as:"h1",color:"prominent",align:"center",weight:"bold",className:"add-crypto-currency__title",children:x===p.routes.cashier_pa?(0,h.localize)("Choose an account or add a new one"):(0,h.localize)("Choose one of your accounts or add a new cryptocurrency account")}),(0,A.jsx)(_.ThemedScrollbars,{children:T?(0,A.jsx)(_.Loading,{is_fullscreen:!1,className:"currency-list__loading-wrapper"}):(0,A.jsx)(j(),{id:"crypto_currency",className:"currency-selector__radio-group currency-selector__radio-group--with-margin",item_count:I.length,children:I.map((e=>(0,A.jsx)(f.Field,{component:O(),name:"currency",id:e.value,label:e.name,icon:e.icon,second_line_label:e.second_line_label,onClick:e.onClick,selected:!(!e.is_disabled&&x!==p.routes.cashier_pa)&&!e.has_payment_agent},e.value)))})}),(0,A.jsx)(_.FormSubmitButton,{className:"currency-selector__button",is_disabled:n||!t.currency,label:(0,h.localize)("Continue"),is_absolute:!0,form_error:N})]})}})})),H=e=>{let{current:r,closeRealAccountSignup:t,deposit_target:o,redirectToLegacyPlatform:a,deposit_real_account_signup_target:i,history:l,onSubmit:u,setIsDeposit:d}=e;const{isDesktop:y}=(0,s.Y)(),m=()=>(0,A.jsx)(_.Icon,{icon:`IcCurrency-${r.toLowerCase()}`,height:120,width:90}),f=e=>{let{className:r}=e;return(0,A.jsx)(_.Icon,{className:r,icon:"IcCheckmarkCircle",color:"green"})},g=()=>{t(),d(!1),a()};return(0,A.jsxs)(n.Fragment,{children:[y&&(0,A.jsx)("div",{onClick:g,className:"finished-add-currency__close",children:(0,A.jsx)(_.Icon,{icon:"IcCross"})}),(0,A.jsxs)(_.Div100vhContainer,{className:"finished-add-currency__dialog",is_disabled:y,height_offset:"40px",children:[(0,A.jsxs)("div",{className:c()("status-dialog__header",{"status-dialog__header--center":!y}),children:[(0,A.jsx)(m,{}),(0,A.jsx)(f,{className:"bottom-right-overlay"})]}),(0,A.jsxs)("div",{className:c()("status-dialog__body",{"status-dialog__body--no-grow":!y}),children:[(0,A.jsx)(_.Text,{as:"h2",align:"center",className:"status-dialog__message-header",weight:"bold",children:(0,A.jsx)(h.Localize,{i18n_default_text:"Your account is ready"})}),(0,A.jsx)(_.Text,{as:"p",align:"center",children:(0,A.jsx)(h.Localize,{i18n_default_text:"Fund your account to start trading."})})]}),(0,A.jsxs)("div",{className:"finished-add-currency__footer",children:[(0,A.jsx)(_.Button,{onClick:g,text:(0,h.localize)("Maybe later"),secondary:!0}),(0,A.jsx)(_.Button,{onClick:["add_crypto","add_fiat","add_currency"].includes(i)?()=>{t(),l.push(o),o===p.routes.cashier_deposit&&d(!0),a()}:u,text:(0,h.localize)("Deposit now"),primary:!0})]})]})]})},J=n.memo(H),Q=e=>{let{prev:r,current:t}=e;return r?(0,A.jsx)(h.Localize,{i18n_default_text:"<0>You have successfully changed your currency to {{currency}}.</0><0>Make a deposit now to start trading.</0>",values:{currency:(0,p.getCurrencyDisplayCode)(t)},components:[(0,A.jsx)(_.Text,{as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs"},t)]}):(0,A.jsx)(h.Localize,{i18n_default_text:"<0>You have added a {{currency}} account.</0><0> Make a deposit now to start trading.</0>",values:{currency:(0,p.getCurrencyDisplayCode)(t)},components:[(0,A.jsx)(_.Text,{as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs"},t)]})},X=e=>{let{current:r,closeRealAccountSignup:t,deposit_target:n,deposit_real_account_signup_target:o,history:a,onCancel:s,onSubmit:i,prev:l,setIsDeposit:u}=e;const d=()=>l?(0,A.jsx)(_.Icon,{icon:`IcCurrency-${l.toLowerCase()}`,height:120,width:90}):null,y=()=>(0,A.jsx)(_.Icon,{icon:`IcCurrency-${r.toLowerCase()}`,height:120,width:90}),m=()=>l?(0,A.jsx)(_.Icon,{icon:"IcArrowPointerRight",color:"red",width:50,height:20}):null,f=e=>{let{className:r}=e;return(0,A.jsx)(_.Icon,{className:r,icon:"IcCheckmarkCircle",color:"green"})};return(0,A.jsxs)(_.Div100vhContainer,{className:"status-dialog",is_disabled:(0,p.isDesktop)(),height_offset:"40px",children:[(0,A.jsxs)("div",{className:c()("status-dialog__header",{"status-dialog__header--center":(0,p.isMobile)(),"status-dialog__header--set-currency":l}),children:[(0,A.jsx)(d,{}),(0,A.jsx)(m,{}),(0,A.jsx)(y,{}),(0,A.jsx)(f,{className:"bottom-right-overlay"})]}),(0,A.jsxs)("div",{className:c()("status-dialog__body",{"status-dialog__body--no-grow":(0,p.isMobile)()}),children:[(0,A.jsx)(_.Text,{as:"h2",align:"center",className:"status-dialog__message-header",weight:"bold",children:(0,A.jsx)(h.Localize,{i18n_default_text:"Success!"})}),(0,A.jsx)(Q,{prev:l,current:r})]}),(0,A.jsxs)("div",{className:"status-dialog__footer",children:[(0,A.jsx)(_.Button,{onClick:()=>{s(),u(!1)},text:(0,h.localize)("Maybe later"),secondary:!0}),(0,A.jsx)(_.Button,{onClick:["add_crypto","add_fiat","add_currency"].includes(o)?()=>{t(),a.push(n),n===p.routes.cashier_deposit&&u(!0)}:i,text:(0,h.localize)("Deposit now"),primary:!0})]})]})},Z=n.memo(X);var ee=t(370611),re=t.n(ee),te=t(697845);const ne=["setLoading","onSuccessSetAccountCurrency","onError","is_loading"];function oe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function ae(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?oe(Object(t),!0).forEach((function(r){ce(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):oe(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function ce(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const se=(0,y.observer)((e=>{let{setLoading:r,onSuccessSetAccountCurrency:t,onError:o,is_loading:a}=e,s=function(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(r.includes(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,ne);const{client:i}=(0,m.A)(),{available_crypto_currencies:l,has_fiat:u,landing_company_shortcode:d,setAccountCurrency:y}=i,f=n.useState(""),g=n.useState({currency:""}),b=()=>0===l.length&&u&&s.currency;return a?(0,A.jsx)($.A,{}):(0,A.jsxs)("div",{className:c()("set-currency-modal",{"set-currency-modal--disabled":b()}),children:[b()&&(0,A.jsx)("div",{className:"set-currency-modal--disabled-message",children:(0,A.jsx)("p",{children:(0,h.localize)("You already have an account for each of the cryptocurrencies available on {{deriv}}.",{deriv:p.website_name})})}),(0,A.jsxs)("div",{className:"set-currency-modal__heading-container",children:[(0,A.jsx)(_.Text,{as:"p",size:"xs",line_height:"s",align:"center",className:"set-currency-modal__heading-container__main-heading",children:(0,h.localize)("You have an account that do not have currency assigned. Please choose a currency to trade with this account.")}),(0,A.jsx)(_.Text,{as:"p",weight:"bold",align:"center",className:"set-currency-modal__heading-container__sub-heading",children:(0,h.localize)("Select your preferred currency")})]}),(0,A.jsx)(te.A,ae({className:"account-wizard__body",onSubmit:(e,n,a)=>{((e,n)=>{r(!0);const{currency:a}=e;a&&y(a).then((e=>{n(!1),t("",e.echo_req.set_account_currency)})).catch((e=>{o(e)})).finally((()=>r(!1)))})(n,a)},value:g,form_error:f,set_currency:!0,validate:(0,p.generateValidationFunction)(d,re())},s))]})})),ie=["text","onConfirm"];function le(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function ue(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?le(Object(t),!0).forEach((function(r){de(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):le(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function de(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const _e=e=>{let{code:r}=e;switch(r){case"DuplicateAccount":return(0,A.jsx)(_.Text,{as:"h1",align:"center",weight:"bold",children:(0,A.jsx)(h.Localize,{i18n_default_text:"Account already exists"})});case"InvalidAccount":return(0,A.jsx)(_.Text,{as:"h2",size:(0,p.isMobile)()?"xs":"s",align:"center",weight:"bold",line_height:"xxl",children:(0,A.jsx)(h.Localize,{i18n_default_text:"You can’t add another real account"})});case"InputValidationFailed":case"PoBoxInAddress":case"InvalidPhone":return(0,A.jsx)(_.Text,{as:"h1",align:"center",weight:"bold",line_height:"xxl",children:(0,A.jsx)(h.Localize,{i18n_default_text:"Invalid inputs"})});default:return(0,A.jsx)(_.Text,{as:"h1",align:"center",weight:"bold",children:(0,A.jsx)(h.Localize,{i18n_default_text:"Something’s not right"})})}},pe=e=>{let{code:r,message:t,details:n}=e;switch("PoBoxInAddress"===r?n.error_details={address_line_1:t}:"InvalidPhone"===r&&(n.error_details={phone:t}),r){case"DuplicateAccount":return(0,A.jsx)("p",{children:(0,A.jsx)(h.Localize,{i18n_default_text:"Your details match an existing account. If you need help, contact us via <0>live chat</0>.",components:[(0,A.jsx)("span",{className:"chat-inline",onClick:Y.Chat.open},0)]})});case"InvalidAccount":return(0,A.jsx)(_.Text,{size:(0,p.isMobile)()?"xxs":"xs",align:"center",children:t});case"InputValidationFailed":case"PoBoxInAddress":case"InvalidPhone":return(0,A.jsxs)("div",{className:"input_validation_failed",children:[(0,A.jsx)(_.Text,{align:"center",weight:"normal",line_height:"xxl",children:(0,A.jsx)(h.Localize,{i18n_default_text:"We don’t accept the following inputs for:"})}),Object.keys(null==n?void 0:n.error_details).map((e=>(0,A.jsxs)("div",{className:"invalid_fields_input",children:[(0,A.jsx)(_.Text,{size:"xs",weight:"bold",children:(0,p.getSignupFormFields)()[e]}),(0,A.jsx)(_.Text,{size:"xs",weight:"bold",children:" : "}),(0,A.jsx)(_.Text,{size:"xs",children:n[e]})]},e)))]});default:return(0,A.jsx)("p",{children:t})}},he=e=>{let{text:r,onConfirm:t}=e,n=function(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(r.includes(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(e,ie);return(0,A.jsx)(_.Button,ue(ue({primary:!0,onClick:t,large:!0},n),{},{children:r}))},ye=e=>{let{code:r,onConfirm:t}=e;switch(r){case"DuplicateCurrency":case"CurrencyTypeNotAllowed":return(0,A.jsx)(he,{text:(0,h.localize)("Try a different currency"),onConfirm:t});case"DuplicateAccount":return(0,A.jsx)(he,{text:(0,h.localize)("Go to live chat"),onConfirm:()=>Y.Chat.open()});case"InputValidationFailed":case"PoBoxInAddress":case"InvalidPhone":return(0,A.jsx)(he,{text:(0,h.localize)("Let’s try again"),onConfirm:t});case"InvalidAccount":return(0,A.jsx)(he,{text:(0,h.localize)("OK"),onConfirm:t});default:return(0,A.jsx)(_.StaticUrl,{href:"help-centre/"+("InvalidAccount"===r?"account#who-can-open-an-account":""),type:"button",className:"dc-btn dc-btn--primary",children:(0,A.jsx)(_.Text,{weight:"bold",color:"white",size:"xxs",children:(0,A.jsx)(h.Localize,{i18n_default_text:"OK"})})})}},me=e=>{let{message:r,code:t,onConfirm:n,className:o,error_field:a={}}=e;const s=["InputValidationFailed","PoBoxInAddress","InvalidPhone"].includes(t);return(0,A.jsxs)("div",{className:c()("account-wizard--error",{[`account-wizard--error__${o}`]:o}),children:[(0,A.jsx)(_.Icon,{icon:s?"IcInvalidError":"IcAccountError",size:s?"64":"InvalidAccount"===t?"96":"115"}),(0,A.jsx)(_e,{code:t}),(0,A.jsx)(pe,{code:t,message:r,details:a}),(0,A.jsx)("div",{className:"account-wizard--error__cta",children:(0,A.jsx)(ye,{code:t,onConfirm:n})})]})};me.propTypes={code:b().string,error_field:b().object,message:b().string,onConfirm:b().func,className:b().string};const fe=me;var ge=t(922087);const be=()=>(0,A.jsx)(_.Text,{as:"h2",align:"center",className:"status-dialog__message-header",weight:"bold",children:(0,A.jsx)(h.Localize,{i18n_default_text:"Your account is ready"})}),ve=e=>{let{is_fully_authenticated:r,landing_company_shortcode:t,status:n=ge.fN.SUCCESS}=e,o="";if("maltainvest"===t)o=r?[(0,A.jsx)(h.Localize,{i18n_default_text:"You have added a Deriv Financial account."},0),(0,A.jsx)(h.Localize,{i18n_default_text:"Make a deposit now to start trading."},1)]:(0,A.jsx)(h.Localize,{i18n_default_text:"We need proof of your identity and address before you can start trading."});else switch(n){case ge.fN.WARN:o=(0,A.jsx)(h.Localize,{i18n_default_text:"To get trading, please confirm where you live."});break;case ge.fN.DANGER:o=(0,A.jsx)(h.Localize,{i18n_default_text:"To get trading, please confirm who you are, and where you live."});break;case ge.fN.PENDING:o=(0,A.jsx)(h.Localize,{i18n_default_text:"You'll be able to get trading as soon as verification is complete."});break;default:o=(0,A.jsx)(h.Localize,{i18n_default_text:"Fund your account to start trading."})}return Array.isArray(o)?(0,A.jsx)(A.Fragment,{children:o.map(((e,r)=>(0,A.jsx)(_.Text,{as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs",children:e},r)))}):(0,A.jsx)(_.Text,{as:"p",align:"center",className:"status-dialog__message-text",color:"general",size:"xs",children:o})};ve.propTypes={is_fully_authenticated:b().bool,landing_company_shortcode:b().string,status:b().number};const xe=e=>{let{status:r,landing_company_shortcode:t,closeModal:n,closeModalAndOpenCashier:o,closeModalAndOpenPOI:a,closeModalAndOpenPOA:c,is_fully_authenticated:s}=e;const{label:i,action:l}=(e=>{let{landing_company_shortcode:r,is_fully_authenticated:t,closeModalAndOpenCashier:n,closeModalAndOpenPOI:o}=e;return"maltainvest"===r?t?{label:(0,h.localize)("Deposit"),action:n}:{label:(0,h.localize)("Submit proof"),action:o}:{label:(0,h.localize)("Deposit"),action:n}})({status:r,landing_company_shortcode:t,is_fully_authenticated:s,closeModal:n,closeModalAndOpenCashier:o,closeModalAndOpenPOI:a,closeModalAndOpenPOA:c});return(0,A.jsx)(_.Button,{primary:!0,text:i,onClick:l})},je=e=>{let{closeModal:r,is_bypassed:t}=e;return t?null:(0,A.jsx)(_.Button,{secondary:!0,text:(0,h.localize)("Maybe later"),onClick:r})},we=e=>{let{status:r,landing_company_shortcode:t,is_fully_authenticated:n,closeModal:o,closeModalAndOpenCashier:a,closeModalAndOpenPOA:c,closeModalAndOpenPOI:s}=e;return(0,A.jsxs)("div",{className:"status-dialog__footer",children:[(0,A.jsx)(je,{closeModal:o,is_bypassed:r===ge.fN.PENDING}),(0,A.jsx)(xe,{status:r,landing_company_shortcode:t,closeModal:o,closeModalAndOpenCashier:a,closeModalAndOpenPOI:s,closeModalAndOpenPOA:c,is_fully_authenticated:n})]})};we.propTypes={status:b().number,landing_company_shortcode:b().string,is_fully_authenticated:b().bool,closeModal:b().func,closeModalAndOpenCashier:b().func,closeModalAndOpenPOA:b().func,closeModalAndOpenPOI:b().func};const Oe=e=>{let{currency:r}=e;return(0,A.jsx)(_.Icon,{icon:`IcCurrency-${r.toLowerCase()}`,size:120})},Se=e=>{let{className:r}=e;return(0,A.jsx)(_.Icon,{className:r,icon:"IcCheckmarkCircle",color:"green",size:24})},Ne=e=>{let{className:r}=e;return(0,A.jsx)(_.Icon,{className:r,icon:"IcAlertDanger",size:24})},Ce=e=>{let{className:r}=e;return(0,A.jsx)(_.Icon,{className:r,icon:"IcCrossCircle",size:24,color:"red"})},ze=e=>{let{closeModal:r}=e;return(0,A.jsx)("div",{onClick:r,className:"status-dialog__close",children:(0,A.jsx)(_.Icon,{icon:"IcCross"})})},Pe=(0,y.observer)((e=>{let{closeModal:r,currency:t,history:n,icon_size:o}=e;const{isDesktop:a}=(0,s.Y)(),{client:i}=(0,m.A)(),{landing_company_shortcode:l,is_fully_authenticated:u}=i,d=()=>(0,ge.yt)({landing_company_shortcode:l});return(0,A.jsxs)(_.Div100vhContainer,{className:"status-dialog",is_disabled:a,height_offset:"40px",children:[a&&(0,A.jsx)(ze,{closeModal:r}),(0,A.jsxs)("div",{className:c()("status-dialog__header",{"status-dialog__header--large":"large"===o,"status-dialog__header--xlarge":"xlarge"===o}),children:[(0,A.jsx)(Oe,{currency:t}),d()===ge.fN.SUCCESS&&(0,A.jsx)(Se,{className:"bottom-right-overlay"}),d()===ge.fN.WARN&&(0,A.jsx)(Ne,{className:"bottom-right-overlay"}),d()===ge.fN.DANGER&&(0,A.jsx)(Ce,{className:"bottom-right-overlay"})]}),(0,A.jsxs)("div",{className:c()("status-dialog__body",{"status-dialog__body--no-grow":!a}),children:[(0,A.jsx)(be,{}),(0,A.jsx)(ve,{is_fully_authenticated:u,landing_company_shortcode:l,status:d()})]}),(0,A.jsx)(we,{closeModal:r,closeModalAndOpenPOI:()=>{r(),n.push(p.routes.proof_of_identity)},closeModalAndOpenPOA:()=>{r(),n.push(p.routes.proof_of_address)},closeModalAndOpenCashier:()=>{r(),n.push(p.routes.cashier_deposit)},is_fully_authenticated:u,landing_company_shortcode:l,status:d()})]})}));Pe.defaultProps={icon_size:"large"},Pe.propTypes={closeModal:b().func,currency:b().string,history:b().object,icon:b().object,icon_size:b().string};const Ae=(0,o.withRouter)(Pe),ke=e=>{let{icon:r,color:t}=e;return(0,A.jsx)(_.Icon,{className:"status-container__body-status-icon",icon:r,color:t,size:32})},Te=(0,y.observer)((e=>{let{closeModal:r,currency:t}=e;const{isDesktop:n}=(0,s.Y)(),{client:o,ui:a}=(0,m.A)(),{landing_company_shortcode:c}=o,{setShouldShowOneTimeDepositModal:i}=a,l=()=>(0,ge.yt)({landing_company_shortcode:c});return(0,A.jsxs)(_.Div100vhContainer,{className:"status-container",is_disabled:n,height_offset:"40px",children:[n&&(0,A.jsx)("div",{onClick:r,className:"status-container__header",children:(0,A.jsx)(_.Icon,{icon:"IcCross"})}),(0,A.jsxs)("div",{className:"status-container__body",children:[(0,A.jsxs)("div",{className:"status-container__body-icon",children:[(0,A.jsx)(_.Icon,{icon:`IcCurrency-${t.toLowerCase()}`,size:96}),l()===ge.fN.SUCCESS&&(0,A.jsx)(ke,{icon:"IcCheckmarkCircle",color:"green"}),l()===ge.fN.WARN&&(0,A.jsx)(ke,{icon:"IcAlertDanger"}),l()===ge.fN.DANGER&&(0,A.jsx)(ke,{icon:"IcCrossCircle",color:"red"})]}),(0,A.jsx)(_.Text,{className:"status-container__body-text",as:"h2",align:"center",weight:"bold",size:"s",line_height:"m",children:(0,A.jsx)(h.Localize,{i18n_default_text:"Deposit now to start trading"})}),(0,A.jsx)(_.Text,{as:"p",align:"center",size:"xs",line_height:"sm",children:(0,A.jsx)(h.Localize,{i18n_default_text:"Your {{ currency }} account is ready.",values:{currency:t}})})]}),(0,A.jsxs)("div",{className:"status-container__footer",children:[l()!==ge.fN.PENDING&&(0,A.jsx)(_.Button,{secondary:!0,text:(0,h.localize)("Maybe later"),wide:!n,onClick:r}),(0,A.jsx)(_.Button,{className:"status-container__button",primary:!0,text:(0,h.localize)("Deposit"),onClick:()=>{r(),i(!0)},wide:!n})]})]})}));Te.propTypes={closeModal:b().func,currency:b().string,closeModalAndOpenDeposit:b().func};const Ie=(0,o.withRouter)(Te);var De=t(281476);function Ee(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Le(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Ee(Object(t),!0).forEach((function(r){Me(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ee(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function Me(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const Fe=n.lazy((()=>(0,p.moduleLoader)((()=>t.e(9636).then(t.bind(t,935489)))))),Re={account_wizard:0,add_or_manage_account:1,finished_set_currency:2,status_dialog:3,new_status_dialog:11,set_currency:4,signup_error:5,choose_crypto_currency:6,add_currency:7,finished_add_currency:8,restricted_country_signup_error:9,invalid_input_error:10};let Be=0;const Ye=e=>{let{currency:r,real_account_signup_target:t}=e;const n="deposit_cash"===t;return!("maltainvest"===t)&&!r||Be===Re.set_currency?(0,A.jsx)(h.Localize,{i18n_default_text:"Set a currency for your real account"}):n?(0,A.jsx)(h.Localize,{i18n_default_text:"Add a Deriv Gaming account"}):"maltainvest"===t?(0,A.jsx)(h.Localize,{i18n_default_text:"Setup your account"}):(0,A.jsx)(h.Localize,{i18n_default_text:"Add a Deriv account"})},Ue=(0,y.observer)((e=>{let{history:r,state_index:t,is_trading_experience_incomplete:o}=e;const{isDesktop:a}=(0,s.Y)(),{ui:i,client:u,traders_hub:y,modules:f}=(0,m.A)(),{available_crypto_currencies:g,currency:b,fetchAccountSettings:v,has_fiat:x,has_active_real_account:j,is_from_restricted_country:w,realAccountSignup:O,redirectToLegacyPlatform:S}=u,{closeRealAccountSignup:N,deposit_real_account_signup_target:C,is_real_acc_signup_on:z,real_account_signup_target:P,setIsTradingAssessmentForNewUserEnabled:k,setIsClosingCreateRealAccountModal:T,setRealAccountSignupParams:I,setShouldShowAppropriatenessWarningModal:D,setShouldShowRiskWarningModal:E,should_show_appropriateness_warning_modal:L,should_show_risk_warning_modal:M,setShouldShowOneTimeDepositModal:F,toggleAccountSuccessModal:B,real_account_signup:Y,is_trading_assessment_for_new_user_enabled:U}=i,{show_eu_related_content:W}=y,{deposit_target:$,setDepositTarget:V}=f.cashier.general_store,G=f.cashier.general_store.setIsDeposit,H=f.cashier.general_store.should_show_all_available_currencies,[Q,X]=n.useState(null),[ee,re]=n.useState(!1),[te,ne]=n.useState(null),[oe,ae]=n.useState(!1),[ce,ie]=n.useState({}),[le,ue]=n.useState(""),[de]=n.useState([{action:"signup",body:e=>(0,A.jsx)(n.Suspense,{fallback:(0,A.jsx)(_.UILoader,{}),children:(0,A.jsx)(Fe,{setIsRiskWarningVisible:ae,onFinishSuccess:me,onNewFinishSuccess:ge,onOpenDepositModal:ye,onOpenWelcomeModal:be,is_loading:e.is_loading,setLoading:je,onError:we,onClose:Se,realAccountSignup:O,setRealAccountFormData:ie})}),title:Ye},{action:"multi",body:e=>(0,A.jsx)(q,{onSuccessSetAccountCurrency:xe,is_loading:e.is_loading,setLoading:je,onError:we,is_add_crypto:"add_crypto"===e.real_account_signup_target,is_add_fiat:"add_fiat"===e.real_account_signup_target,is_add_currency:"add_currency"===e.real_account_signup_target,deposit_target:e.deposit_target,onClose:Se}),title:e=>{var r;return"add_crypto"===e.real_account_signup_target?(0,h.localize)("Create a cryptocurrency account"):"add_fiat"===e.real_account_signup_target?(0,h.localize)("Add a Deriv real account"):"add_currency"===e.real_account_signup_target?(0,h.localize)("Create a new account"):e.has_fiat&&0===(null===(r=e.available_crypto_currencies)||void 0===r?void 0:r.length)?(0,h.localize)("Manage account"):(0,h.localize)("Add or manage account")}},{body:e=>(0,A.jsx)(Z,{prev:e.state_value.previous_currency,current:e.state_value.current_currency,onCancel:Oe,onSubmit:ve,deposit_real_account_signup_target:e.deposit_real_account_signup_target,deposit_target:e.deposit_target,closeRealAccountSignup:N,setIsDeposit:G,history:r}),title:e=>{var r;return e.has_fiat&&0===(null===(r=e.available_crypto_currencies)||void 0===r?void 0:r.length)?(0,h.localize)("Manage account"):(0,h.localize)("Add or manage account")}},{body:e=>(0,A.jsx)(Ae,{currency:e.state_value.currency,closeModal:Oe})},{body:e=>(0,A.jsx)(se,{is_loading:e.is_loading,setLoading:je,onError:we,onClose:Se,onSuccessSetAccountCurrency:xe}),title:Ye},{body:e=>{var r;return(0,A.jsx)(fe,{message:e.state_value.error_message||(null===(r=e.state_value.error_code)||void 0===r?void 0:r.message_to_client),code:e.state_value.error_code,onConfirm:()=>Ne(e.state_value.error_code)})},title:e=>{var r;return"add_crypto"===(null==e?void 0:e.real_account_signup_target)?(0,h.localize)("Create a cryptocurrency account"):"add_fiat"===(null==e?void 0:e.real_account_signup_target)?(0,h.localize)("Add a Deriv real account"):"add_currency"===(null==e?void 0:e.real_account_signup_target)?(0,h.localize)("Create a new account"):null!=e&&e.has_fiat&&0===(null==e||null===(r=e.available_crypto_currencies)||void 0===r?void 0:r.length)?(0,h.localize)("Manage account"):$e?null:(0,h.localize)("Add or manage account")}},{body:()=>(0,A.jsx)(K,{className:"account-wizard__body",onError:we}),title:e=>e.should_show_all_available_currencies?(0,h.localize)("Choose an account"):(0,h.localize)("Choose a cryptocurrency account")},{body:()=>(0,A.jsx)(R,{className:"account-wizard__body",onError:we}),title:()=>(0,h.localize)("Create a new account")},{body:e=>(0,A.jsx)(J,{redirectToLegacyPlatform:S,prev:e.state_value.previous_currency,current:e.state_value.current_currency,onSubmit:ve,deposit_real_account_signup_target:e.deposit_real_account_signup_target,deposit_target:e.deposit_target,closeRealAccountSignup:N,setIsDeposit:G,history:r})},{body:e=>{var r;return(0,A.jsx)(fe,{message:e.state_value.error_message||(null===(r=e.state_value.error_code)||void 0===r?void 0:r.message_to_client),code:e.state_value.error_code,onConfirm:N,className:"restricted-country-error"})}},{body:e=>{var r;return(0,A.jsx)(fe,{message:e.state_value.error_message||(null===(r=e.state_value.error_code)||void 0===r?void 0:r.message_to_client),code:e.state_value.error_code,onConfirm:Ne,error_field:e.state_value,className:"invalid-input-error"})}},{body:e=>(0,A.jsx)(Ie,{currency:e.state_value.currency,closeModal:Oe})}]),[_e,pe]=n.useState(!1),he=n.useCallback((e=>{"maltainvest"!==P&&De.Analytics.trackEvent("ce_real_account_signup_form",Le({form_source:document.referrer,form_name:"real_account_signup_form",landing_company:P},e))}),[P]);n.useEffect((()=>{z&&"svg"===P&&he({action:"open"})}),[z,P,he]);const ye=()=>{N(),u.is_mf_account?B():F(!0)},me=e=>{I({active_modal_index:Re.status_dialog,currency:e})},ge=e=>{I({active_modal_index:Re.new_status_dialog,currency:e})},be=e=>{N(),I({currency:e})},ve=()=>{N(),r.push(p.routes.cashier_deposit)},xe=(e,r,t)=>{I({previous_currency:e,current_currency:r,active_modal_index:t?Re.finished_add_currency:Re.finished_set_currency})},je=e=>{re(e)},we=(e,r)=>{var t;r&&(e=>{localStorage.setItem("real_account_signup_wizard",JSON.stringify(e.map((e=>"object"==typeof e.form_value&&e.form_value))))})(r),X(null===(t=de[Ce()])||void 0===t?void 0:t.action),ne(e),he({action:"other_error",real_signup_error_message:e})};n.useEffect((()=>(ue((0,h.localize)("Risk Tolerance Warning")),()=>k(o))),[]),n.useEffect((()=>{te&&I(Le({active_modal_index:["InputValidationFailed","PoBoxInAddress","InvalidPhone"].includes(te.code)?Re.invalid_input_error:Re.signup_error,error_message:te.message,error_code:te.code},"InputValidationFailed"===te.code&&{error_details:te.details}))}),[te]),n.useEffect((()=>{w&&I({active_modal_index:Re.restricted_country_signup_error,error_message:(0,h.localize)("Adding more real accounts has been restricted for your country."),error_code:"InvalidAccount"})}),[w,z]);const Oe=e=>{"noopener noreferrer"===(null==e?void 0:e.target.getAttribute("rel"))||null!=e&&e.target.closest(".redirect-notice")||null!=e&&e.target.closest(".dc-popover__bubble")||(Ce()===Re.status_dialog&&Ce()===Re.new_status_dialog||(sessionStorage.removeItem("post_real_account_signup"),localStorage.removeItem("real_account_signup_wizard")),N())},Se=e=>{!e||"noopener noreferrer"===(null==e?void 0:e.target.getAttribute("rel"))||null!=e&&e.target.closest(".redirect-notice")||null!=e&&e.target.closest(".dc-popover__bubble")||(Ce()===Re.status_dialog&&Ce()===Re.new_status_dialog||(sessionStorage.removeItem("post_real_account_signup"),localStorage.removeItem("real_account_signup_wizard")),$===p.routes.cashier_onramp&&V(""),"signup"!==de[Ce()].action?(N(),S()):T(!0))},Ne=e=>{je(!0),I({active_modal_index:"multi"===Q||["CurrencyTypeNotAllowed","DuplicateCurrency"].includes(e)?Re.add_or_manage_account:Re.account_wizard})},Ce=()=>"choose"===P?(Be=Re.choose_crypto_currency,Be):["add_crypto","add_fiat","add_currency"].includes(P)?(Be=Re.add_or_manage_account,Be):(Be=-1===Y.active_modal_index?j&&b&&"manage"===P?Re.add_or_manage_account:"set_currency"===P?Re.set_currency:Re.account_wizard:Y.active_modal_index,Be),{title:ze,body:Pe}=de[Ce()],{account_wizard:ke,add_or_manage_account:Te,finished_set_currency:Ee,status_dialog:Me,new_status_dialog:Ue,set_currency:We,signup_error:$e,restricted_country_signup_error:Ve,invalid_input_error:qe}=Re,Ge=[ke,Te,We,$e].includes(Ce()),Ke=async()=>{je(!0);try{const e=await O(Le(Le({},ce),{},{accept_risk:1}));p.WS.authorized.getAccountStatus().then((r=>{var t;const{get_account_status:n}=r;var o,a;(D(!1),"maltainvest"!==P||null!=n&&null!==(t=n.status)&&void 0!==t&&t.includes("cashier_locked"))?(me(null==e||null===(o=e.new_account_maltainvest)||void 0===o?void 0:o.currency.toLowerCase()),ge(null==e||null===(a=e.new_account_maltainvest)||void 0===a?void 0:a.currency.toLowerCase())):ye()}))}catch(e){}finally{v(),je(!1)}},He=async()=>{je(!0),pe(!0);try{await O(Le(Le({},ce),{},{accept_risk:0}))}catch(e){ue((0,h.localize)("24-hour Cool Down Warning")),"AppropriatenessTestFailed"===e.code&&(D(!1),E(!0))}finally{v(),je(!1)}},Je=()=>{N(),E(!1),pe(!1)};return _e?(0,A.jsx)(l(),{show_risk_modal:_e,title:le,handleAcceptRisk:Je,body_content:(0,A.jsx)(h.Localize,{i18n_default_text:"CFDs and other financial instruments come with a high risk of losing money rapidly due to leverage. You should consider whether you understand how CFDs and other financial instruments work and whether you can afford to take the risk of losing your money. <0/><0/> As you have declined our previous warning, you would need to wait 24 hours before you can proceed further.",components:[(0,A.jsx)("br",{},0)]})}):U&&M?(0,A.jsx)(l(),{show_risk_modal:M,title:le,handleAcceptRisk:Je,body_content:(0,A.jsx)(h.Localize,{i18n_default_text:"CFDs and other financial instruments come with a high risk of losing money rapidly due to leverage. You should consider whether you understand how CFDs and other financial instruments work and whether you can afford to take the high risk of losing your money. <0/><0/> To continue, kindly note that you would need to wait 24 hours before you can proceed further.",components:[(0,A.jsx)("br",{},0)]})}):L?(0,A.jsx)(d(),{show_risk_modal:L,body_content:(0,A.jsxs)(_.Text,{as:"p",size:"xs",children:[(0,A.jsx)(h.Localize,{i18n_default_text:"In providing our services to you, we are required to ask you for some information to assess if a given product or service is appropriate for you and whether you have the experience and knowledge to understand the risks involved.<0/><0/>",components:[(0,A.jsx)("br",{},0)]}),(0,A.jsx)(h.Localize,{i18n_default_text:"On the basis of the information provided in relation to your knowledge and experience, we consider that the investments available via this website are not appropriate for you.<0/><0/>",components:[(0,A.jsx)("br",{},0)]}),(0,A.jsx)(h.Localize,{i18n_default_text:"By clicking ‘Accept’ and proceeding with the account opening, you should note that you may be exposing yourself to risks. These risks, which may be significant, include the risk of losing the entire sum invested, and you may not have the knowledge and experience to properly assess or mitigate them."})]}),footer_content:(0,A.jsxs)(n.Fragment,{children:[(0,A.jsx)(_.Button,{type:"button",large:!0,text:(0,h.localize)("Decline"),secondary:!0,onClick:He}),(0,A.jsx)(_.Button,{type:"button",large:!0,text:(0,h.localize)("Accept"),primary:!0,onClick:Ke,is_loading:ee})]})}):(0,A.jsx)(n.Fragment,{children:z&&(0,A.jsx)(n.Fragment,{children:a?(0,A.jsx)(_.Modal,{id:"real_account_signup_modal",className:c()("real-account-signup-modal",{"dc-modal__container_real-account-signup-modal--error":[$e,Ve,qe].includes(Ce()),"dc-modal__container_real-account-signup-modal--success":[Ee,Me].includes(Ce())}),is_open:z,is_risk_warning_visible:oe,has_close_icon:"samoa"!==P,is_title_centered:"samoa"===P,renderTitle:()=>ze&&![Ee,Me].includes(Ce())?(0,A.jsx)(ze,{available_crypto_currencies:g,currency:b,has_fiat:x,is_eu:W,real_account_signup_target:P,should_show_all_available_currencies:H}):null,toggleModal:Se,height:(()=>{if(w)return"304px";if([qe,Me,Ue,$e].includes(Ce()))return"auto";if(!b||Ce()===Re.set_currency)return"688px";if(j&&b){if(W&&Ce()===Re.add_or_manage_account)return"420px";if([Re.finished_set_currency,Re.finished_add_currency].includes(Ce()))return"auto"}return"740px"})(),width:w||[Re.invalid_input_error,Re.signup_error].includes(Ce())?"440px":Ge?"955px":"auto",elements_to_ignore:[document.querySelector(".modal-root")],children:(0,A.jsx)(Pe,{state_value:Y,passthrough:t,is_loading:ee,real_account_signup_target:P,deposit_real_account_signup_target:C,deposit_target:$})}):(0,A.jsx)(_.MobileDialog,{portal_element_id:"modal_root",wrapper_classname:"account-signup-mobile-dialog",visible:z,onClose:Se,has_full_height:Ce()===Re.signup_error,renderTitle:()=>ze?(0,A.jsx)(ze,{currency:b,real_account_signup_target:P,should_show_all_available_currencies:H}):null,children:(0,A.jsx)(Pe,{state_value:Y,passthrough:t,is_loading:ee,real_account_signup_target:P,deposit_real_account_signup_target:C,deposit_target:$})})})})})),We=(0,o.withRouter)(Ue)},945331:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});t(286326);var n=t(57886),o=t(836870);function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function c(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){s(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function s(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const i=e=>(0,o.jsx)("div",{className:"account-signup-loader",children:(0,o.jsx)(n.Loading,c(c({},e),{},{is_fullscreen:!1}))})},427596:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var n=t(773835),o=t(414646);const a=["data"];function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e,r,t){return(r=function(e){var r=function(e,r){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,r||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const i=e=>{var r;const{client:t}=(0,o.A)(),{residence:i}=t,l=(0,n.A)("paymentagent_list",{payload:{paymentagent_list:i,currency:e},options:{enabled:Boolean(i)}}),{data:u}=l,d=function(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(r.includes(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.includes(t)||{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}(l,a);return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){s(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({data:null==u||null===(r=u.paymentagent_list)||void 0===r?void 0:r.list},d)}}}]);
//# sourceMappingURL=core.2997.176b27639ff2db48a277.js.map