"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[189,536,4363,7516,9337],{397114:(e,t,r)=>{r.d(t,{A:()=>c});r(286326);var s=r(836870);const n=["styles"];function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const c=e=>{let{styles:t={}}=e,r=function(e,t){if(null==e)return{};var r,s,n=function(e,t){if(null==e)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,n);return(0,s.jsxs)("svg",a(a({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},r),{},{children:[(0,s.jsx)("path",{d:"M0 9.33A9.33 9.33 0 019.33 0h5.34A9.33 9.33 0 0124 9.33v5.34A9.33 9.33 0 0114.67 24H9.33A9.33 9.33 0 010 14.67V9.33z",fill:"#FF444F"}),(0,s.jsx)("path",{d:"M15.06 4.97l-.78 4.4H11.6c-2.51 0-4.9 2.02-5.34 4.53l-.19 1.06c-.44 2.51 1.23 4.54 3.74 4.54h2.24a4.11 4.11 0 003.89-3.3L18 4.5l-2.94.47zm-1.91 10.81c-.1.57-.6 1.03-1.17 1.03h-1.36c-1.13 0-1.88-.92-1.69-2.05l.12-.66a2.55 2.55 0 012.4-2.04h2.36l-.66 3.72z",fill:"#fff"})]}))}},188752:(e,t,r)=>{r.r(t),r.d(t,{default:()=>j});r(286326);var s=r(189137),n=r(596176),i=r(836870);const a=e=>{switch(e){case s.ACCOUNT_BADGE_STATUS.PENDING:return{text:(0,i.jsx)(n.Localize,{i18n_default_text:"In review"}),icon:"IcMt5Pending"};case s.ACCOUNT_BADGE_STATUS.FAILED:return{text:(0,i.jsx)(n.Localize,{i18n_default_text:"Failed"}),icon:"IcMt5Failed",icon_size:"18"};case s.ACCOUNT_BADGE_STATUS.NEEDS_VERIFICATION:return{text:(0,i.jsx)(n.Localize,{i18n_default_text:"Needs Verification"}),icon:"IcMt5Verification",icon_size:"18"};default:return{text:"",icon:""}}};var o=r(57886),c=r(33118),l=r(679955),d=r(414646);const u=["icon"];function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const m=e=>{let{icon:t}=e,r=function(e,t){if(null==e)return{};var r,s,n=function(e,t){if(null==e)return{};var r={};for(var s in e)if({}.hasOwnProperty.call(e,s)){if(t.includes(s))continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}(e,u);return(0,i.jsx)(o.Icon,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({icon:`IcCurrency${(0,s.capitalizeFirstLetter)(t.toLowerCase())}`},r))};var b=r(255530),v=r.n(b),f=r(263851),x=r(478784);const j=(0,l.observer)((e=>{let{is_visible:t}=e;const{client:r,traders_hub:n,ui:l}=(0,d.A)(),{account_list:u,accounts:_,switchAccount:h,has_any_real_account:b,account_status:j,loginid:p}=r,{closeModal:g,selected_region:y}=n,{openRealAccountSignup:A,toggleSetCurrencyModal:N}=l,O=(0,f.A)(),{text:w,icon:T}=a(O),S=(0,x.A)();let C;return(0,i.jsxs)(o.Modal,{is_open:t,toggleModal:g,width:"422px",height:"422px",children:[(0,i.jsxs)("div",{className:"currency-selection-modal__header",children:[(0,i.jsx)(o.Text,{"line-height":"m",weight:"bold",children:(0,c.localize)("Select account")}),(0,i.jsx)(o.Icon,{className:"close-icon",icon:"IcCross",onClick:()=>g()})]}),(0,i.jsx)("div",{className:"currency-selection-modal__body",children:u.filter((e=>!1==!!e.is_disabled&&(!e.is_virtual&&"Non-EU"===y&&e.loginid.startsWith("CR")||"EU"===y&&e.loginid.startsWith("MF")))).map((e=>{let{icon:t,loginid:r}=e;const{balance:n,currency:a}=_[r],c=p===r;return(0,i.jsxs)("div",{className:v()("currency-item-card",{"currency-item-card--active":c}),onClick:async()=>{r!==p&&((0,s.startPerformanceEventTimer)("switch_currency_accounts_time"),await h(r)),g()},children:[(0,i.jsx)(m,{className:"currency-item-card__icons",icon:a?t:"UNKNOWN",size:32}),(0,i.jsxs)("div",{className:"currency-item-card__details",children:[(0,i.jsx)(o.Text,{size:"xs",children:(0,s.getCurrencyName)(a)}),(0,i.jsx)(o.Text,{color:c?"prominent":"less-prominent",size:"xxs",children:r})]}),(0,i.jsx)("div",{className:"currency-item-card__balance",children:O?(0,i.jsx)(o.StatusBadge,{account_status:O,icon:T,text:w}):(0,i.jsx)(o.Text,{size:"xs",color:"prominent",children:(0,i.jsx)(o.Money,{amount:n,currency:a,show_currency:!0})})})]},r)}))}),(0,i.jsx)("div",{className:"currency-selection-modal__bottom-controls",children:(0,i.jsx)(o.Button,{className:"block-button",onClick:()=>{clearTimeout(C),C=setTimeout((()=>{b&&!S?N():A("manage")}),500),g()},secondary:!0,large:!0,children:(0,c.localize)("Add or manage account")})})]})}))},563:(e,t,r)=>{r.d(t,{A:()=>b});var s=r(286326),n=r(291218),i=r(57886),a=r(673285),o=r(189137),c=r(414646),l=r(33118),d=r(852691),u=r(139313),_=r(190552),h=r(836870);const m=s.memo((()=>{const{client:e,ui:t}=(0,c.A)(),{has_any_real_account:r,has_wallet:m,is_virtual:b}=e,{toggleNeedRealAccountForCashierModal:v,toggleReadyToDepositModal:f}=t,x=(0,n.useHistory)(),j=(0,a.A)();return(0,h.jsxs)(s.Fragment,{children:[m&&(0,h.jsx)("div",{className:"traders-hub-header__menu-right--items--onboarding",children:(0,h.jsx)(_.A,{})}),(0,h.jsx)("div",{className:"traders-hub-header__menu-right--items--notifications",children:(0,h.jsx)(u.A,{})}),(0,h.jsx)(d.Sm,{className:"traders-hub-header__setting",to:o.routes.personal_details,children:(0,h.jsx)(i.Icon,{icon:"IcUserOutline",size:20})}),!m&&(0,h.jsx)("div",{className:"traders-hub-header__cashier-button",children:(0,h.jsx)(i.Button,{primary:!0,small:!0,onClick:()=>{!r&&b||j?r?x.location.pathname===o.routes.traders_hub&&v():f():x.push(o.routes.cashier_deposit)},children:(0,h.jsx)(l.Localize,{i18n_default_text:"Cashier"})})})]})}));m.displayName="DefaultMobileLinks";const b=m},139313:(e,t,r)=>{r.d(t,{A:()=>l});r(286326);var s=r(679955),n=r(414646),i=r(33118),a=r(450552),o=r(189137),c=r(836870);const l=(0,s.observer)((()=>{const{notifications:e}=(0,n.A)(),{is_notifications_visible:t,notifications:r,toggleNotificationsModal:s}=e;return(0,c.jsx)("div",{"data-testid":"dt_traders_hub_show_notifications",className:"traders-hub-header__notification",children:(0,c.jsx)(a.zU,{count:r.length,is_visible:t,toggleDialog:s,tooltip_message:(0,c.jsx)(i.Localize,{i18n_default_text:"View notifications"}),showPopover:!o.isTabletOs})})}))},655673:(e,t,r)=>{r.r(t),r.d(t,{default:()=>O});var s=r(286326),n=r(255530),i=r.n(n),a=r(57886),o=r(919796),c=r(189137),l=r(679955),d=r(414646),u=r(33118),_=r(450552),h=r(976327),m=r(989186),b=r(852691),v=r(397114),f=r(652997),x=r(878262),j=r(188752),p=r(563),g=r(139313),y=r(190552),A=r(838549),N=r(836870);const O=(0,l.observer)((()=>{const{client:e,common:t,traders_hub:r,ui:n}=(0,d.A)(),{is_logged_in:l,is_mt5_allowed:O}=e,{platform:w}=t,{modal_data:T}=r,{header_extension:S,is_app_disabled:C,is_route_modal_on:I}=n,{isDesktop:P}=(0,o.Y)(),E=(0,N.jsx)(b.Sm,{className:"traders-hub-header__setting",to:c.routes.personal_details,children:(0,N.jsx)(a.Icon,{icon:"IcUserOutline",size:20})});return(0,N.jsxs)("header",{className:i()("traders-hub-header",{"traders-hub-header--is-disabled":C||I,"traders-hub-header--is-hidden":c.platforms[w]}),children:[(0,N.jsxs)("div",{className:"traders-hub-header__menu-left",children:[P?(0,N.jsxs)(s.Fragment,{children:[(0,N.jsx)("div",{className:"traders-hub-header-wallets__logo",children:(0,N.jsx)(a.StaticUrl,{href:"/",children:(0,N.jsx)(v.A,{})})}),(0,N.jsx)("div",{className:"traders-hub-header__divider"}),(0,N.jsx)(A.A,{})]}):(0,N.jsxs)(s.Fragment,{children:[(0,N.jsx)(m.A,{platform_config:(z=h.A,z.filter((e=>e.link_to!==c.routes.mt5||!l||O)))}),S&&l&&(0,N.jsx)("div",{children:S}),(0,N.jsx)("div",{className:"traders-hub-header__logo-wrapper",children:(0,N.jsx)("div",{className:"traders-hub-header-wallets__logo",children:(0,N.jsx)(a.StaticUrl,{href:"/",children:(0,N.jsx)(v.A,{})})})})]}),(0,N.jsx)(_.$2,{is_traders_hub_routes:!0})]}),P?(0,N.jsxs)(s.Fragment,{children:[(0,N.jsxs)("div",{className:"traders-hub-header__menu-right",children:[(0,N.jsx)("div",{className:"traders-hub-header__divider"}),(0,N.jsxs)("div",{className:"traders-hub-header__menu-right--items",children:[(0,N.jsx)("div",{className:"traders-hub-header__menu-right--items--onboarding",children:(0,N.jsx)(y.A,{})}),(0,N.jsx)("div",{className:"traders-hub-header__menu-right--items--notifications",children:(0,N.jsx)(g.A,{})}),(0,N.jsx)(a.Popover,{classNameBubble:"account-settings-toggle__tooltip",alignment:"bottom",message:(0,N.jsx)(u.Localize,{i18n_default_text:"Manage account settings"}),should_disable_pointer_events:!0,zIndex:"9999",children:E})]})]}),(0,N.jsx)(f.default,{})]}):(0,N.jsxs)(s.Fragment,{children:[(0,N.jsx)("div",{className:"traders-hub-header__mobile-parent",children:(0,N.jsx)("div",{className:"traders-hub-header__menu-middle",children:(0,N.jsx)(p.A,{})})}),(0,N.jsx)(f.default,{})]}),(0,N.jsx)(x.default,{}),(0,N.jsx)(j.default,{is_visible:"currency_selection"===T.active_modal})]});var z}))},838549:(e,t,r)=>{r.d(t,{A:()=>_});r(286326);var s=r(291218),n=r(255530),i=r.n(n),a=r(57886),o=r(189137),c=r(679955),l=r(414646),d=r(33118),u=r(836870);const _=(0,c.observer)((()=>{const{ui:e}=(0,l.A)(),{is_dark_mode_on:t}=e,r=(0,s.useHistory)(),n=(0,s.useLocation)(),{pathname:c}=n,_=t?"IcAppstoreHomeDark":"IcAppstoreTradersHubHomeUpdated";return(0,u.jsxs)("div",{"data-testid":"dt_traders_hub_home_button",className:i()("traders-hub-header__tradershub",{"traders-hub-header__tradershub--active":c===o.routes.traders_hub||c===o.routes.traders_hub_v2}),onClick:()=>r.push(o.routes.traders_hub),children:[(0,u.jsx)("div",{className:"traders-hub-header__tradershub--home-logo",children:(0,u.jsx)(a.Icon,{icon:_,size:t?15:17})}),(0,u.jsx)(a.Text,{className:"traders-hub-header__tradershub--text",children:(0,u.jsx)(d.Localize,{i18n_default_text:"Trader's Hub"})})]})}))},190552:(e,t,r)=>{r.d(t,{A:()=>d});r(286326);var s=r(291218),n=r(57886),i=r(189137),a=r(679955),o=r(414646),c=r(33118),l=r(836870);const d=(0,a.observer)((()=>{const e=(0,s.useHistory)(),{ui:t}=(0,o.A)(),{is_dark_mode_on:r,is_mobile:a,setIsWalletsOnboardingTourGuideVisible:d}=t,u=(0,l.jsx)(n.Icon,{data_testid:"dt_traders_hub_onboarding_icon",icon:r?"IcAppstoreTradingHubOnboardingDark":"IcAppstoreTradingHubOnboarding",size:20,onClick:()=>{d(!0),e.location.pathname!==i.routes.traders_hub&&e.push(i.routes.traders_hub)}});return(0,l.jsx)("div",{"data-testid":"dt_traders_hub_onboarding",children:(0,l.jsx)("div",{className:"traders-hub-header__tradershub--onboarding--logo",children:i.isTabletOs?u:(0,l.jsx)(n.Popover,{classNameBubble:"account-settings-toggle__tooltip",alignment:"bottom",message:!a&&(0,l.jsx)(c.Localize,{i18n_default_text:"View tutorial"}),should_disable_pointer_events:!0,zIndex:"9999",children:u})})})}))},878262:(e,t,r)=>{r.r(t),r.d(t,{default:()=>l});r(286326);var s=r(57886),n=r(478784),i=r(33118),a=r(679955),o=r(414646),c=r(836870);const l=(0,a.observer)((()=>{const{client:e,ui:t}=(0,o.A)(),{is_virtual:r}=e,{is_set_currency_modal_visible:a,openRealAccountSignup:l,toggleSetCurrencyModal:d}=t,u=(0,n.A)();return(0,c.jsxs)(s.Modal,{id:"dt_set_account_currency_modal",has_close_icon:!1,is_open:a,small:!0,toggleModal:d,title:u?(0,i.localize)("You have an account that needs action"):(0,i.localize)("No currency assigned to your account"),children:[(0,c.jsx)(s.Modal.Body,{children:(0,i.localize)("Please set a currency for your existing real account before creating another account.")}),(0,c.jsx)(s.Modal.Footer,{children:r?(0,c.jsx)(s.Button,{has_effect:!0,text:(0,i.localize)("OK"),onClick:d,primary:!0}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(s.Button,{has_effect:!0,text:(0,i.localize)("Cancel"),onClick:d,secondary:!0}),(0,c.jsx)(s.Button,{has_effect:!0,text:(0,i.localize)("Set currency"),onClick:()=>{d(),setTimeout((()=>{l("set_currency")}),250)},primary:!0})]})})]})}))},471879:(e,t,r)=>{r.d(t,{A:()=>a});var s=r(286326),n=r(414646),i=r(189137);const a=()=>{var e,t,r,a;const{client:o}=(0,n.A)(),{account_status:c,updateAccountStatus:l}=o||{};(0,s.useEffect)((()=>{!async function(){await l()}()}),[]);const d=null==c?void 0:c.authentication,u=null==d||null===(e=d.identity)||void 0===e?void 0:e.status,_=null==d||null===(t=d.identity)||void 0===t||null===(t=t.services)||void 0===t||null===(t=t.onfido)||void 0===t?void 0:t.status,h=null==d||null===(r=d.identity)||void 0===r||null===(r=r.services)||void 0===r||null===(r=r.manual)||void 0===r?void 0:r.status,m=null==d||null===(a=d.document)||void 0===a?void 0:a.status,b="none",v="verified",f="pending",x=m&&["rejected","expired","suspected"].includes(m),j=m===f,p=m===b,g=[_,h].includes(v),y=[_,h].includes(f)&&!g,A=[_,h].every((e=>e===b)),N=u===v&&m===v;return{mf_account_status:m&&_&&h?!A&&(!y&&!g)||x?i.ACCOUNT_BADGE_STATUS.FAILED:A||p?i.ACCOUNT_BADGE_STATUS.NEEDS_VERIFICATION:y||j?i.ACCOUNT_BADGE_STATUS.PENDING:null:null,kyc_status:N?{}:{poi_status:u,poa_status:m,valid_tin:1,required_tin:1}}}},654846:(e,t,r)=>{r.d(t,{A:()=>n});var s=r(414646);const n=()=>{const{client:e}=(0,s.A)(),{active_accounts:t}=e;return t.some((e=>0===e.is_virtual))}},478784:(e,t,r)=>{r.d(t,{A:()=>i});var s=r(414646),n=r(654846);const i=()=>{const{client:e}=(0,s.A)(),{account_list:t}=e,r=(0,n.A)();return t.filter((e=>!e.is_virtual)).some((e=>"Real"!==e.title&&"Investment"!==e.title))||!r}},263851:(e,t,r)=>{r.d(t,{A:()=>o});var s=r(189137),n=r(56752),i=r(471879),a=r(414646);const o=()=>{const{client:{is_eu:e}}=(0,a.A)(),t=(0,n.A)(),{mf_account_status:r}=(0,i.A)();return e&&t&&r&&[s.ACCOUNT_BADGE_STATUS.PENDING,s.ACCOUNT_BADGE_STATUS.FAILED,s.ACCOUNT_BADGE_STATUS.NEEDS_VERIFICATION].includes(r)?r:null}}}]);
//# sourceMappingURL=core.traders-hub-header-wallets.59e9f15c7bdc668b63ca.js.map