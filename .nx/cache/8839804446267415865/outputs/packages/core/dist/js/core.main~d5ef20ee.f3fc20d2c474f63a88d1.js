/*! For license information please see core.main~d5ef20ee.f3fc20d2c474f63a88d1.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[1434],{109582:(e,t,n)=>{var r,o,i;self,e.exports=(r=n(596176),o=n(57886),i=n(286326),(()=>{"use strict";var e={"../../../node_modules/object-assign/index.js":e=>{var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var i,a,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in i=Object(arguments[c]))n.call(i,l)&&(s[l]=i[l]);if(t){a=t(i);for(var g=0;g<a.length;g++)r.call(i,a[g])&&(s[a[g]]=i[a[g]])}}return s}},"../../../node_modules/react/cjs/react-jsx-runtime.production.min.js":(e,t,n)=>{n("../../../node_modules/object-assign/index.js");var r=n("react"),o=60103;if("function"==typeof Symbol&&Symbol.for){var i=Symbol.for;o=i("react.element"),i("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,i={},l=null,g=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(g=t.ref),t)s.call(t,r)&&!c.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:l,ref:g,props:i,_owner:a.current}}t.jsx=l,t.jsxs=l},"../../../node_modules/react/jsx-runtime.js":(e,t,n)=>{e.exports=n("../../../node_modules/react/cjs/react-jsx-runtime.production.min.js")},"@deriv-com/translations":e=>{e.exports=r},"@deriv/components":e=>{e.exports=o},react:e=>{e.exports=i},"../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js":(e,t,r)=>{r.d(t,{Y:()=>d});var o=r("react"),i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof n.g<"u"?n.g:typeof self<"u"?self:{},a="object"==typeof i&&i&&i.Object===Object&&i,s="object"==typeof self&&self&&self.Object===Object&&self;a||s||Function("return this")();var c=typeof window<"u"?o.useLayoutEffect:o.useEffect,l=typeof window>"u";function g(e,{defaultValue:t=!1,initializeWithValue:n=!0}={}){const r=e=>l?t:window.matchMedia(e).matches,[i,a]=(0,o.useState)((()=>n?r(e):t));function s(){a(r(e))}return c((()=>{const t=window.matchMedia(e);return s(),t.addListener?t.addListener(s):t.addEventListener("change",s),()=>{t.removeListener?t.removeListener(s):t.removeEventListener("change",s)}}),[e]),i}const d=()=>({isDesktop:g("(min-width: 1280px)"),isMobile:g("(max-width: 600px)"),isTablet:g("(min-width: 601px) and (max-width: 1279px)"),isTabletPortrait:g("(min-width: 601px) and (max-width: 1279px) and (orientation: portrait)"),isMobileOrTabletLandscape:g("(max-width: 1279px) and (orientation: landscape)")})}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var s={};a.d(s,{default:()=>I});var c=a("react"),l=a.n(c),g=a("@deriv/components"),d=a("@deriv-com/translations"),u=a("../../../node_modules/@deriv-com/ui/dist/hooks/useDevice.js"),_=a("../../../node_modules/react/jsx-runtime.js");const I=e=>{let{show_risk_modal:t,body_content:n,footer_content:r}=e;const{isDesktop:o}=(0,u.Y)(),{localize:i}=(0,d.useTranslations)();return(0,_.jsx)(l().Fragment,{children:o?(0,_.jsxs)(g.Modal,{width:"44rem",has_close_icon:!1,title:i("Appropriateness Test Warning"),is_open:t,children:[(0,_.jsx)(g.Modal.Body,{children:n}),(0,_.jsx)(g.Modal.Footer,{children:r})]}):(0,_.jsxs)(g.MobileDialog,{wrapper_classname:"test-warning",portal_element_id:"modal_root",visible:t,title:i("Appropriateness Test Warning"),has_close_icon:!1,children:[(0,_.jsx)(g.Modal.Body,{children:n}),(0,_.jsx)(g.Modal.Footer,{children:r})]})})};return s.default})())},819178:(module,__unused_webpack_exports,__webpack_require__)=>{var factory;self,factory=(__WEBPACK_EXTERNAL_MODULE__deriv_shared__,__WEBPACK_EXTERNAL_MODULE__deriv_translations__,__WEBPACK_EXTERNAL_MODULE_mobx__,__WEBPACK_EXTERNAL_MODULE_react__)=>(()=>{"use strict";var __webpack_modules__={"./constants/constants.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nvar map_action = {\n  withdraw: 'payment_withdraw',\n  payment_agent: 'payment_agent_withdraw'\n};\nvar icon_payment_methods = {\n  Alipay: ['alipay'],\n  Bank: ['bank', 'bankdeposit', 'banks', 'banktransfer', 'bankwire', 'bankwiretransfer', 'localbankwire', 'localbank', 'localbanks', 'localbanktransfer'],\n  Bankbri: ['bri', 'bankbri'],\n  Bca: ['bca', 'grupbca'],\n  Bch: ['bch'],\n  Bni: ['bni'],\n  Bitcoin: ['bitcoin', 'btc'],\n  Card: ['card', 'cards', 'visa', 'mastercard'],\n  Cimbniaga: ['cimbniaga'],\n  Crypto: ['crypto', 'cryptos', 'cryptocurrencies', 'cryptocurrency', 'weacceptcrypto'],\n  Dai: ['dai'],\n  Diamondbank: ['diamondbank'],\n  Eth: ['eth', 'ethd', 'ethereum'],\n  Ewallet: ['ewallet', 'ewallets', 'ewalletpayment', 'skrill'],\n  Firstbank: ['firstbank'],\n  Gtbank: ['gtbank'],\n  Icbc: ['icbc'],\n  Libertyreserve: ['libertyreserve'],\n  LiteCoin: ['ltc', 'litecoin'],\n  Mandiri: ['mandiri'],\n  Mandirisyariah: ['mandirisyariah'],\n  Moneygram: ['moneygram'],\n  Paypal: ['paypal'],\n  PerfectMoney: ['perfectmoneyandwebmoney', 'perfectmoney'],\n  Permatabank: ['permatabank'],\n  Tether: ['tether'],\n  Verve: ['verve'],\n  WebMoney: ['perfectmoneyandwebmoney', 'webmoney'],\n  Wechatpay: ['wechatpay'],\n  Zenithbank: ['zenithbank']\n};\nvar payment_methods = {\n  AbokiFX: ['AbokiFX', 'A BOKI FX'],\n  'ABSA Bank': ['Absa', 'ABSA', 'ABSA Bank', 'ABSABank', 'ABSABANK', 'Absabank', 'ABSA Bank Transfer', 'ABSA Cash Send', 'Absa fund transfer and orange money services', 'ABSA GHANA LIMITED', 'Direct deposit FNB and ABSA'],\n  'Access bank': ['Access bank', 'Access Bank', 'Accessbank', 'AccessBank', 'ACCESS BANK', 'Acess Bank'],\n  'Access forex': ['Access Forex', 'ACCESS FOREX', 'Access forex'],\n  'Afriland First Bank': ['Afriland First Bank', 'AFRILAND FIRST BANK'],\n  'Airtel Mobile money': ['Airtel Mobile money', 'airtel', 'Airtel', 'AIRTEL MOBILE MONEY', 'airtel money', 'Airtel money', 'Airtelmoney', 'Airtel Money', 'AirtelMoney', 'AIRTELMONEY', 'AIRTEL MONEY', 'Airtel Tigo', 'AirtelTigo cash', 'all mobile money'],\n  Airtm: ['airtm', 'Airtm'],\n  AlfalahBank: ['AlfalahBank', 'bank alfalfa', 'Alflah Bank'],\n  'All banks': ['All banks', 'All local banks', 'All local Banks', 'All local banks ZWL', 'All Local Bank transfer', 'bank', 'Bank', 'BANK', 'banks', 'Banks', 'local banks', 'Local banks', 'Local Banks', 'Pakistani Local All banks', 'Local Indian banks', 'LocalBanks'],\n  Astropay: ['astropay', 'Astropay', 'Astro Pay'],\n  'ATM transfer': ['ATM', 'ATMDeposits', 'ATMdeposit', 'ATM transfer', 'ATM Transfer', 'BanktransferATM', 'FNB ATM deposit'],\n  AzamPesa: ['AzamPesa', 'Azampesa'],\n  'Banco Bradesco': ['Banco Bradesco', 'Bradesco'],\n  'Banco de Pichincha': ['Banco de Pichincha', 'BANCO DE PICHINCHA', 'Pichincha'],\n  'Banco de Produbanco': ['Banco de Produbanco', 'BANCO DE PRODUBANCO'],\n  'Banco del Pacifico': ['Banco del Pacifico', 'BANCO DE PACIFICO', 'Pacifico'],\n  'Banco Internacional': ['Banco Internacional', 'BANCO INTERNACIONAL'],\n  'Banco Internacional de Moçambique (BIM)': ['Banco Internacional de Moçambique (BIM)', 'Bim', 'Transferencia Bim'],\n  'Bancobu Bank eNoti': ['Bancobu Bank eNoti', 'Bancobu e-noti'],\n  'Bank AL Habib': ['Bank AL Habib', 'bank al habib', 'Bank Alhabib'],\n  'Bank Negara Indonesia (BNI)': ['Bank Negara Indonesia (BNI)', 'BNI', 'BankBNI'],\n  'Bank Of Ceylon (BOC)': ['Bank Of Ceylon (BOC)', 'Bankofceylon', 'Boc Peoples Bank'],\n  'Bank Rakyat Indonesia (BRI)': ['Bank Rakyat Indonesia (BRI)', 'BankBri', 'BankBRI', 'BRI', 'BRI dan Ewallet'],\n  'Bank transfer': ['All Local Bank payment Accept', 'All local bank payments', 'All Local Bank transfer', 'bank', 'Bank', 'BANK', 'Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe', 'Bank and E-wallet', 'bank deposit', 'Bank deposit', 'Bankdeposit', 'Bank Deposit', 'Bank deposits', 'bank ewallet', 'bank payment', 'banks', 'Banks', 'Bank to Bank account transfer', 'bank transfer', 'Bank transfer', 'Banktransfer', 'Bank Transfer', 'BankTransfer', 'BANK TRANSFER', 'BANKTRANSFER', 'bank transfer and all form of E-payments', 'Bank Transfer and all Forms of E-payments', 'BanktransferATM', 'bank transfers', 'Bank transfers', 'Bank Transfers', 'Ban transfer', 'Depositos direto em conta', 'Direct deposit FNB and ABSA', 'E-wallet Bank transfer', 'Internet Banking', 'Internet transfer', 'Internet Transfer', 'LocalBank', 'local banks', 'Local banks', 'Local Banks', 'Local bank transfer', 'Local bank Transfers', 'Local deposits', 'Local deposit', 'local deposits', 'BANKTRANSFERS', 'Bank Deposits', 'Bank deposit and transfer', 'Bank transfer and e-wallets', 'BankDeposit', 'Fiat', 'LOCALBANK', 'OnlineTransfer', 'ZWbanktransfers', 'localbanktransfer', 'Bank transfer Bank wire'],\n  'Bank wire': ['bank', 'Bank', 'BANK', 'bank payment', 'banks', 'Banks', 'bank wire', 'bankwire', 'Bank wire', 'Bankwire', 'Bank Wire', 'BankWire', 'BANKWIRE', 'Bank wire and e-wallets', 'Bank wire and E-wallets', 'Bank wires', 'Bankwires', 'bank wires and e-wallet', 'Bank wires and e-wallets', 'BankWire transfer', 'E-wallets and bank wires', 'local bank wire', 'LocalBankWire', 'LocalBankwire', 'Wire Bank Transfer', 'WIRE TRANSFER', 'Bank Wire transfer', 'Fiat', 'OnlineTransfer', 'Bank transfer Bank wire'],\n  BankABC: ['BankABC', 'BANCABC BANK'],\n  'Bank BTN': ['Bank BTN', 'BTN'],\n  'Bank of the Philippine Islands (BPI)': ['Bank of the Philippine Islands (BPI)', 'BPI'],\n  'BCA bank': ['BCA bank', 'BCA', 'BankBCA', 'bca'],\n  'BDO Unibank': ['BDO Unibank', 'BDO'],\n  BHIM: ['BHIM', 'Bhim', 'Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe'],\n  'BMCE Bank': ['BMCE Bank', 'Bmce Bank'],\n  'CABS Bank': ['CABS Bank', 'Cabs bank', 'CABS transfer'],\n  Card: ['Card', 'card', 'cards', 'Cards', 'Credit card', 'Debit Card', 'Mastercard', 'MasterCard', 'visa', 'Visa', 'VISA', 'Visa card', 'Bank cards', 'Carteiras Electronicas', 'Fiat', 'Master card'],\n  Cash: ['cash', 'Cash', 'Cash deposit', 'Cash deposits', 'Cash in USD or Local', 'electronic transfers and cash deposits', 'FNB cash deposit', 'physical local and foreign bank notes', 'USD', 'USD cash', 'Cash Deposit', 'Fiat', 'INR', 'USDCash', 'Zwcash'],\n  'Cash send ABSA bank': ['Cash send ABSA bank', 'ABSA Cash Send', 'Cashsend', 'Cash Send', 'CashSend', 'cash send Absa', 'Cash send Absa bank'],\n  'Chipper Cash': ['Chipper Cash', 'Chipper', 'Chippercash', 'Chipperchash'],\n  'CIH Bank': ['CIH Bank', 'Cih Bank'],\n  CIMB: ['CIMB', 'CIMBNIAGA', 'NIAGA'],\n  'City Hopper': ['City hopper', 'City Hopper'],\n  'Co-operative Bank of Kenya': ['Co-operative Bank of Kenya', 'cooperativebank'],\n  'Commercial Bank': ['Commercial Bank', 'Commercialbank'],\n  'CRDB Bank': ['CRDB Bank', 'CRDBBANK'],\n  Crypto: ['Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe', 'bitcoin', 'Bitcoin', 'BITCOIN', 'bitcoins', 'Bitcoins', 'btc', 'BTC', 'btc smega', 'Cripto', 'crypto', 'Crypto', 'Cyptocurrency', 'cryptocurrencies', 'Cryptocurrencies', 'Crypto Currencies', 'CRYPTOCURRENCIES', 'cryptocurrency', 'Cryptocurrency', 'CRYPTOCURRENCY', 'Cryptos', 'ETH', 'eUSDT', 'EUSDT', 'LTC', 'Tether', 'TRON', 'USDC', 'USDT', 'UST', 'We accept Crypto', 'BCH', 'Btc', 'Criptomoedas', 'Crypto Payment', 'Crypto transfer', 'CryptoTransfer', 'E-Wallets and Crypto', 'E-wallets and Crypto', 'Ethereum', 'Etherium', 'Litecoin', 'Skrill Neteller Crypto', 'SkrillCrypto', 'Tether ERC20', 'Tether Omni', 'Thether', 'Usdt', 'cryptos', 'ethereum', 'litecoin'],\n  'Diamond Bank': ['Diamond bank', 'Diamond Bank', 'DiamondBank'],\n  'E-Mola': ['E-Mola', 'E-mola', 'Emola'],\n  'E-money': ['E-money', 'e money'],\n  'E-payment': ['E-payment', 'all form of E-payments', 'All form of E-payments', 'all forms of E-payments', 'and all other forms of Epayment', 'bank transfer and all form of E-payments', 'Bank Transfer and all Forms of E-payments', 'E-payments', 'Epayments', 'All forms of E-Payments', 'DigitalPayment', 'OnlineTransfer', 'all forms of E-Payment'],\n  'E-transfer': ['E-transfer', 'electronic transfers and cash deposits', 'E-Transfers', 'OnlineTransfer'],\n  'E-wallet': ['Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe', 'Bank and E-wallet', 'bank ewallet', 'Bank wire and e-wallets', 'Bank wire and E-wallets', 'bank wires and e-wallet', 'Bank wires and e-wallets', 'Digital Wallets', 'electronic wallets', 'e-wallers', 'e-wallet', 'ewallet', 'eWallet', 'E-wallet', 'Ewallet', 'EWALLET', 'E-wallet Bank transfer', 'E wallet FNB', 'E-wallet payment', 'Ewallet payment', 'e-wallets', 'ewallets', 'e-Wallets', 'e-WALLETS', 'E- wallets', 'E-wallets', 'Ewallets', 'E-Wallets', 'E-wallets and bank wires', 'fnb ewallet', 'MY WALLET', 'wallet', 'Bank transfer and e-wallets', 'E-Wallets and Crypto', 'E-wallets and Crypto', 'E-Wallet', 'EWallets', 'Fiat', 'OnlineTransfer', 'ewalllets', 'ewalltets', 'local bank wallets and Orange money'],\n  Easypaisa: ['easypaisa', 'Easy paisa', 'Easypaisa', 'Easy Paisa', 'EasyPaisaTransfer'],\n  Ecobank: ['Ecobank', 'Eco Bank', 'ECO BANK', 'Eco bank Transfers'],\n  EcoCash: ['Eco cash', 'Ecocash', 'EcoCash', 'ECOCASH', 'Ecocash FCA', 'Ecocash method', 'ECOCASH WALLET', 'Ecocash ZWL', 'EcocashMobileMoney', 'Zwecocash'],\n  'Electronic Funds Transfer (EFT)': ['Electronic Funds Transfer (EFT)', 'EFT'],\n  'Equity Bank': ['Equity bank', 'Equity Bank', 'equitybankmoneytransfer'],\n  'EU Mobile Money': ['EU Mobile Money', 'all mobile money', 'EU MONEY'],\n  EzyPesa: ['EzyPesa', 'Ezypesa', 'Ezzy pesa', 'Ezzy Pesa', 'EzzyPesa'],\n  FasaPay: ['fasapay', 'Fasa pay', 'FasaPay'],\n  'Fast Payment': ['Fast payment', 'Fast Payment'],\n  'Faysal Bank': ['Faysal Bank', 'FaysalBank'],\n  'FBC Bank': ['FBC Bank', 'FBC BANK'],\n  'Fidelity Bank': ['Fidelity Bank', 'fidelitybank'],\n  Finbank: ['Finbank', 'Fin bank', 'FinBank'],\n  'First Bank of Nigeria': ['First Bank of Nigeria', 'First bank', 'First Bank', 'FirstBank', 'FIRST BANK', 'Firstbank'],\n  'First City Monument Bank (FCMB)': ['First City Monument Bank (FCMB)', 'FCMB', 'fcmb'],\n  'First MicroFinanceBank (FMFB)': ['First MicroFinanceBank (FMFB)', 'FMFB'],\n  'First National Bank (FNB)': ['First National Bank (FNB)', 'Direct deposit FNB and ABSA', 'E wallet FNB', 'First National Bank', 'fnb', 'FNB', 'FNB ATM deposit', 'Fnbbank', 'FNB Bank', 'FNBB Bank Transfer', 'FNB cash deposit', 'fnb ewallet', 'FNB First National Bank', 'FNB pay2cell', 'FNB pay to cell', 'FNB pay to sell', 'Pay to cell FNB', 'FNB bank transfer', 'FNBB', 'FNBBank', 'FirNationalBank', 'First National Bank of Botswana', 'Firstnationalbank', 'Fnb'],\n  Gmoney: ['Gmoney', 'GMONEY'],\n  'Google Pay': ['Google Pay', 'Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe', 'Google pay', 'gpay', 'Gpay', 'GPay'],\n  'Grup BCA': ['Grup BCA', 'GrupBCA'],\n  'GT bank': ['GT bank', 'Gtb', 'GTB', 'Gt Bank', 'GT Bank', 'GTBank', 'GT BANK', 'Gtbank', 'Guarantee Trust Bank', 'GuarantyTrustBank'],\n  Halopesa: ['halopesa', 'Halo pesa', 'Halopesa', 'Halo Pesa', 'HaloPesa', 'HALOPESA'],\n  'Hatton National Bank': ['Hatton National Bank', 'HattonNationalBank'],\n  HBL: ['HBL', 'HBLMFB', 'KONNET HBL'],\n  Help2Pay: ['Help2Pay', 'help2pay'],\n  'HNB Bank': ['HNB Bank', 'HNB'],\n  'IMPS Transfer': ['imps', 'Imps', 'IMPS', 'IMPS Transfer'],\n  'ING Bank': ['ING Bank', 'ING'],\n  Innbucks: ['Innbucks', 'INNBUCKS'],\n  'Instant Money': ['Instant Money', 'InstantMoney', 'Instant money stambic bank', 'Instant money stanbic', 'Instant money'],\n  'Inter Bank Fund Transfer': ['Inter Bank Fund Transfer', 'InterBankfundtransfer', 'Interbank Transfer'],\n  'Itau Bank': ['Itau Bank', 'Itau'],\n  IZI: ['IZI', 'Izzy'],\n  JazzCash: ['JazzCash', 'jazzcash', 'Jazz cash', 'Jazzcash', 'Jazz-Cash', 'JazzCashTransfer'],\n  JENIUS: ['JENIUS', 'Jenius'],\n  Jeton: ['Jeton', 'jeton', 'JetonWallet'],\n  'Key Stone Bank': ['Key Stone Bank', 'Keystone'],\n  'Kuda Bank': ['Kuda Bank', 'KUDA BANK', 'Kuda MFB', 'KudaMFB', 'KUDA MICROFINANCE BANK 2014563937', 'Kuda Microfinance', 'KUDA'],\n  'Luno Wallet': ['Luno Wallet', 'Luno', 'Luno crypto wallet', 'Luno e-wallet', 'Luno ewallet', 'luno'],\n  'Mandiri Bank': ['Mandiri Bank', 'Mandiri', 'MANDIRI', 'MandiriSyariah', 'BankMandiri'],\n  'Meezan Bank': ['Meezan Bank', 'MeezanBank'],\n  'Millenium Bim Visa': ['Millenium Bim Visa', 'Millenium Bim'],\n  MIX: ['mix', 'Mix', 'MIX', 'Mixed'],\n  'Mobile money': ['all mobile money', 'mobile banking', 'Mobile banking', 'Mobile money', 'Mobile Money', 'MobileMoney', 'Mobile money MTN', 'Mobile Money transfer', 'MOBILE MONEY TRANSFER', 'Mobile money transfers', 'Mobilemoneyoption', 'OnlineTransfer'],\n  'Mojo Mula': ['Mojo money', 'Mojo Mula', 'MOJO MULA', 'MoMo pay', 'Mojo Moolah'],\n  MoMo: ['MoMo', 'MOMO', 'MoMo pay', 'MTN MOMO', 'MTNMOMO'],\n  MoneyGram: ['Moneygram', 'Money Gram', 'MoneyGram', 'Money grame'],\n  'M-PESA': ['AbesafaricomMpesa Transfers', 'mpesa', 'M pesa', 'M-pesa', 'Mpesa', 'M Pesa', 'M-Pesa', 'MPesa', 'M PESA', 'M-PESA', 'MPESA', 'M-Pesa Tigo-Pesa T-Pesa', 'Pesa', 'safaricom mpesa', 'MPESA 0710393947 Albert Kyalo', 'VodacomMpesa'],\n  'MTN MOMO': ['all mobile money', 'Mobile money MTN', 'MoMo', 'MOMO', 'MTN', 'MTN mobile money', 'MTN Mobile money', 'MTN Mobile Money', 'MTN MOBILE MONEY', 'MTNMOBILEMONEY', 'MTN MOMO', 'MTNMOMO', 'MTN MONEY'],\n  'Mukuru money transfers': ['Mukuru', 'Mukuru money transfers', 'MukuruMoneyTransfer', 'USDMukurutransfer'],\n  'MyZaka Mascom Money': ['MyZaka Mascom Money', 'mascom', 'mascom myZaka', 'Mascom MyZaka', 'myzaka', 'My zaka', 'Myzaka', 'MyZaka', 'My zaka mascom money', 'my Zaka', 'myzaaka'],\n  Neft: ['neft', 'Neft', 'NEFT'],\n  Nequi: ['Nequi', 'Nequi o Daviplata al 300 6839026'],\n  Neteller: ['neTeller', 'Neteller', 'NETELLER', 'NETelle', 'Skrill Neteller Crypto', 'neteller', 'netteller'],\n  'Nigeria local bank': ['Nigeria Local', 'Nigeria local bank', 'NIGERIA LOCAL BANK'],\n  'NMB Bank': ['NMB Bank', 'NATIONALMICROFINANCEBANK', 'Nmb bank'],\n  'One Money': ['OM', 'Onemoney', 'One Money', 'One money service', 'OneMoney', 'OneMoneyMobileMoney'],\n  Opay: ['Opay', 'OPAY'],\n  'Orange Money Transfer': ['Absa fund transfer and orange money services', 'Orange Cameroon', 'orange money', 'orangemoney', 'Orange money', 'Orangemoney', 'Orange Money', 'OrangeMoney', 'ORANGE MONEY', 'Orange Money Transfer', 'local bank wallets and Orange money'],\n  PalmPay: ['PalmPay', 'PALMPAY'],\n  'Pay safe Card': ['paysafecard', 'Pay safe Card'],\n  Pay2Cell: ['FNB pay2cell', 'FNB pay to cell', 'FNB pay to sell', 'Pay2cell', 'Pay2Cell', 'PAY2CELL', 'pay to cell', 'Pay to cell', 'Paytocell', 'Pay to Cell', 'Pay to cell FNB', 'PayToCell', 'pay2cell'],\n  'Payment Checks': ['Payment checks', 'Payment Checks'],\n  PayPal: ['Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe', 'Paypal', 'PayPal', 'PAYPAL', 'paypal'],\n  PayTM: ['Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe', 'Paytm', 'PayTM'],\n  'Perfect Money': ['Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe', 'perfect money', 'perfectmoney', 'Perfect money', 'Perfectmoney', 'Perfect Money', 'PerfectMoney', 'PERFECT MONEY', 'Perfect Money and Webmoney', 'PM', 'PERFECTMONEY', 'PERFECT'],\n  'Permata Bank': ['Permata Bank', 'PermataBank', 'PERMATA'],\n  PhonePhe: ['PhonePhe', 'Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe', 'Phonepay', 'phonepe', 'Phonepe', 'PhonePe', 'Phone pay', 'PhonePay'],\n  Pix: ['Pix', 'PIX'],\n  'Polaris Bank': ['Polaris Bank', 'Polaris'],\n  'Ponto 24': ['Conta movel', 'Conta Movel', 'ContamovelBCI', 'Ponto 24', 'Ponto24'],\n  'Pos deposit': ['Pos', 'POS', 'Pos deposit'],\n  'Postal transfer': ['Postal transfer', 'Egyptian postal transfers'],\n  RIA: ['Ria', 'RIA'],\n  'RTGS Transfers': ['RTGS Transfers', 'rtgs', 'RTGS', 'Rtgs bank transfer', 'RTGS transfers', 'Rtgs'],\n  Safaricom: ['Safaricom', 'AbesafaricomMpesa Transfers', 'AbeSafaricomMpesaTransfers', 'safaricom mpesa'],\n  'Sama Money': ['Sama Money', 'Sama money'],\n  ShopeePay: ['ShopeePay', 'SHOPEEPAY'],\n  Skrill: ['Skrill', 'Skill', 'Skril', 'skrill', 'SKRILL', 'skrillpayments', 'Skrll', 'SkrillCrypto', 'Skrill Neteller Crypto'],\n  Smega: ['btc smega', 'smega', 'Smega'],\n  'Standard Bank Namibia': ['Standard Bank Namibia', 'Standard Bank', 'StandardBank'],\n  'Stanbic Bank': ['Instant money stambic bank', 'Instant money stanbic', 'stanbic', 'Stanbic', 'Stanbic Bank', 'StanbicBank', 'Stanbic Bank Transfer', 'Stanbic Money Transfer', 'Standbic', 'Stanbic IBTC', 'Stanbic bank'],\n  'Standard Charted Bank': ['STANCHART', 'Standard Charted Bank', 'Standard chartered', 'Standard chartered bank', 'Standard Chartered Bank Transfer', 'Standard Chatterd Bank'],\n  'Steward remit': ['Steward remit', 'Steward Remmitt'],\n  'T-pesa': ['M-Pesa Tigo-Pesa T-Pesa', 'Pesa', 'T-pesa', 'Tpesa', 'T PESA', 'TTCLpesa'],\n  'Tigo Cash': ['Tigo', 'Tigo Cash', 'AirtelTigo cash'],\n  'Tigo Mobile Money': ['Tigo Mobile Money', 'Airtel Tigo', 'all mobile money', 'Tigo', 'TIGO MOBILE MONEY', 'TIGOMOBILEMONEY', 'AirtelTigo cash'],\n  'Tigo Pesa': ['M-Pesa Tigo-Pesa T-Pesa', 'Pesa', 'Tigo', 'tigopesa', 'Tigo pesa', 'Tigopesa', 'Tigo Pesa', 'TigoPesa', 'TIGO PESA', 'TTCLpesa', 'TIGOPESA'],\n  'Transferencia bancaria': ['Transferencia bancaria', 'Transferencia Eletronica TED', 'Transferencias bancarias', 'Ted', 'Transferencia Bancaria'],\n  'UBA Bank': ['UBA', 'UBA Bank', 'UBA BANK'],\n  'Union Bank': ['Union Bank', 'Unionbank', 'Union'],\n  'United Bank Limited (UBL)': ['United Bank Limited (UBL)', 'UBL Bank'],\n  UPI: ['All UPI Transfer', 'Banks BHIMUP BTC Ewallet GooglePay LocalBank Paypal Paytm Perfect Money PhonePhe', 'upi', 'UPI', 'UPI transfer', 'AmazonUPI', 'PaytmUPI', 'Upi'],\n  'USSD code transfer': ['USSD code transfer', 'Or USSD transfer from all Nigeria banks', 'USSD Code', 'USSD CODE', 'Ussd code Transfer from all Nigerian banks', 'Ussd transfer', 'USSD transfer', 'USSD Transfer', 'ussd transfer'],\n  Vodacom: ['Vodacom', 'VodacomMpesa'],\n  'Vodafone Cash': ['Vodafon Cash Methods', 'Vodafone cash', 'Vodafone Cash', 'VODAFONE CASH', 'VODAFONECASH'],\n  Webmoney: ['Perfect Money and Webmoney', 'Webmoney', 'WebMoney', 'Web Money', 'Web money'],\n  'WeChat Pay': ['WeChat Pay', 'WeChatPay'],\n  'Wema Bank': ['Wema Bank', 'Wema'],\n  WesternUnion: ['Western union', 'Western Union', 'WesternUnion', 'westernunion'],\n  Wise: ['Wise', 'transferwise'],\n  'World Remit': ['World remit', 'World Remit', 'CoinbaseworldRemit'],\n  'Zanaco bank': ['ZANACO', 'Zanaco bank'],\n  'Zenith bank': ['Zenith bank', 'Zenithbank', 'Zenith Bank', 'ZenithBank', 'ZENITH BANK', 'Zenith', 'zenithbank'],\n  Zipit: ['Zipit', 'ZIPIT', 'ZIPIT bank transfers']\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  map_action: map_action,\n  icon_payment_methods: icon_payment_methods,\n  payment_methods: payment_methods\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb25zdGFudHMvY29uc3RhbnRzLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQWdCQTtBQUNBO0FBQ0E7QUFrQkE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNERBO0FBZ0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWtCQTtBQWlCQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFxREE7QUFDQTtBQUNBO0FBQ0E7QUFlQTtBQUNBO0FBNENBO0FBQ0E7QUFDQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUEwQkE7QUFDQTtBQVFBO0FBQ0E7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFrQkE7QUFlQTtBQUNBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQWVBO0FBQ0E7QUFPQTtBQUNBO0FBY0E7QUFDQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFhQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFhQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBVUE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2Nhc2hpZXIvLi9jb25zdGFudHMvY29uc3RhbnRzLnRzP2FlMDciXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgbWFwX2FjdGlvbiA9IHtcbiAgICB3aXRoZHJhdzogJ3BheW1lbnRfd2l0aGRyYXcnLFxuICAgIHBheW1lbnRfYWdlbnQ6ICdwYXltZW50X2FnZW50X3dpdGhkcmF3Jyxcbn0gYXMgY29uc3Q7XG5cbmNvbnN0IGljb25fcGF5bWVudF9tZXRob2RzID0ge1xuICAgIEFsaXBheTogWydhbGlwYXknXSxcbiAgICBCYW5rOiBbXG4gICAgICAgICdiYW5rJyxcbiAgICAgICAgJ2JhbmtkZXBvc2l0JyxcbiAgICAgICAgJ2JhbmtzJyxcbiAgICAgICAgJ2Jhbmt0cmFuc2ZlcicsXG4gICAgICAgICdiYW5rd2lyZScsXG4gICAgICAgICdiYW5rd2lyZXRyYW5zZmVyJyxcbiAgICAgICAgJ2xvY2FsYmFua3dpcmUnLFxuICAgICAgICAnbG9jYWxiYW5rJyxcbiAgICAgICAgJ2xvY2FsYmFua3MnLFxuICAgICAgICAnbG9jYWxiYW5rdHJhbnNmZXInLFxuICAgIF0sXG4gICAgQmFua2JyaTogWydicmknLCAnYmFua2JyaSddLFxuICAgIEJjYTogWydiY2EnLCAnZ3J1cGJjYSddLFxuICAgIEJjaDogWydiY2gnXSxcbiAgICBCbmk6IFsnYm5pJ10sXG4gICAgQml0Y29pbjogWydiaXRjb2luJywgJ2J0YyddLFxuICAgIENhcmQ6IFsnY2FyZCcsICdjYXJkcycsICd2aXNhJywgJ21hc3RlcmNhcmQnXSxcbiAgICBDaW1ibmlhZ2E6IFsnY2ltYm5pYWdhJ10sXG4gICAgQ3J5cHRvOiBbJ2NyeXB0bycsICdjcnlwdG9zJywgJ2NyeXB0b2N1cnJlbmNpZXMnLCAnY3J5cHRvY3VycmVuY3knLCAnd2VhY2NlcHRjcnlwdG8nXSxcbiAgICBEYWk6IFsnZGFpJ10sXG4gICAgRGlhbW9uZGJhbms6IFsnZGlhbW9uZGJhbmsnXSxcbiAgICBFdGg6IFsnZXRoJywgJ2V0aGQnLCAnZXRoZXJldW0nXSxcbiAgICBFd2FsbGV0OiBbJ2V3YWxsZXQnLCAnZXdhbGxldHMnLCAnZXdhbGxldHBheW1lbnQnLCAnc2tyaWxsJ10sXG4gICAgRmlyc3RiYW5rOiBbJ2ZpcnN0YmFuayddLFxuICAgIEd0YmFuazogWydndGJhbmsnXSxcbiAgICBJY2JjOiBbJ2ljYmMnXSxcbiAgICBMaWJlcnR5cmVzZXJ2ZTogWydsaWJlcnR5cmVzZXJ2ZSddLFxuICAgIExpdGVDb2luOiBbJ2x0YycsICdsaXRlY29pbiddLFxuICAgIE1hbmRpcmk6IFsnbWFuZGlyaSddLFxuICAgIE1hbmRpcmlzeWFyaWFoOiBbJ21hbmRpcmlzeWFyaWFoJ10sXG4gICAgTW9uZXlncmFtOiBbJ21vbmV5Z3JhbSddLFxuICAgIFBheXBhbDogWydwYXlwYWwnXSxcbiAgICBQZXJmZWN0TW9uZXk6IFsncGVyZmVjdG1vbmV5YW5kd2VibW9uZXknLCAncGVyZmVjdG1vbmV5J10sXG4gICAgUGVybWF0YWJhbms6IFsncGVybWF0YWJhbmsnXSxcbiAgICBUZXRoZXI6IFsndGV0aGVyJ10sXG4gICAgVmVydmU6IFsndmVydmUnXSxcbiAgICBXZWJNb25leTogWydwZXJmZWN0bW9uZXlhbmR3ZWJtb25leScsICd3ZWJtb25leSddLFxuICAgIFdlY2hhdHBheTogWyd3ZWNoYXRwYXknXSxcbiAgICBaZW5pdGhiYW5rOiBbJ3plbml0aGJhbmsnXSxcbn0gYXMgY29uc3Q7XG5cbmNvbnN0IHBheW1lbnRfbWV0aG9kcyA9IHtcbiAgICBBYm9raUZYOiBbJ0Fib2tpRlgnLCAnQSBCT0tJIEZYJ10sXG4gICAgJ0FCU0EgQmFuayc6IFtcbiAgICAgICAgJ0Fic2EnLFxuICAgICAgICAnQUJTQScsXG4gICAgICAgICdBQlNBIEJhbmsnLFxuICAgICAgICAnQUJTQUJhbmsnLFxuICAgICAgICAnQUJTQUJBTksnLFxuICAgICAgICAnQWJzYWJhbmsnLFxuICAgICAgICAnQUJTQSBCYW5rIFRyYW5zZmVyJyxcbiAgICAgICAgJ0FCU0EgQ2FzaCBTZW5kJyxcbiAgICAgICAgJ0Fic2EgZnVuZCB0cmFuc2ZlciBhbmQgb3JhbmdlIG1vbmV5IHNlcnZpY2VzJyxcbiAgICAgICAgJ0FCU0EgR0hBTkEgTElNSVRFRCcsXG4gICAgICAgICdEaXJlY3QgZGVwb3NpdCBGTkIgYW5kIEFCU0EnLFxuICAgIF0sXG4gICAgJ0FjY2VzcyBiYW5rJzogWydBY2Nlc3MgYmFuaycsICdBY2Nlc3MgQmFuaycsICdBY2Nlc3NiYW5rJywgJ0FjY2Vzc0JhbmsnLCAnQUNDRVNTIEJBTksnLCAnQWNlc3MgQmFuayddLFxuICAgICdBY2Nlc3MgZm9yZXgnOiBbJ0FjY2VzcyBGb3JleCcsICdBQ0NFU1MgRk9SRVgnLCAnQWNjZXNzIGZvcmV4J10sXG4gICAgJ0FmcmlsYW5kIEZpcnN0IEJhbmsnOiBbJ0FmcmlsYW5kIEZpcnN0IEJhbmsnLCAnQUZSSUxBTkQgRklSU1QgQkFOSyddLFxuICAgICdBaXJ0ZWwgTW9iaWxlIG1vbmV5JzogW1xuICAgICAgICAnQWlydGVsIE1vYmlsZSBtb25leScsXG4gICAgICAgICdhaXJ0ZWwnLFxuICAgICAgICAnQWlydGVsJyxcbiAgICAgICAgJ0FJUlRFTCBNT0JJTEUgTU9ORVknLFxuICAgICAgICAnYWlydGVsIG1vbmV5JyxcbiAgICAgICAgJ0FpcnRlbCBtb25leScsXG4gICAgICAgICdBaXJ0ZWxtb25leScsXG4gICAgICAgICdBaXJ0ZWwgTW9uZXknLFxuICAgICAgICAnQWlydGVsTW9uZXknLFxuICAgICAgICAnQUlSVEVMTU9ORVknLFxuICAgICAgICAnQUlSVEVMIE1PTkVZJyxcbiAgICAgICAgJ0FpcnRlbCBUaWdvJyxcbiAgICAgICAgJ0FpcnRlbFRpZ28gY2FzaCcsXG4gICAgICAgICdhbGwgbW9iaWxlIG1vbmV5JyxcbiAgICBdLFxuICAgIEFpcnRtOiBbJ2FpcnRtJywgJ0FpcnRtJ10sXG4gICAgQWxmYWxhaEJhbms6IFsnQWxmYWxhaEJhbmsnLCAnYmFuayBhbGZhbGZhJywgJ0FsZmxhaCBCYW5rJ10sXG4gICAgJ0FsbCBiYW5rcyc6IFtcbiAgICAgICAgJ0FsbCBiYW5rcycsXG4gICAgICAgICdBbGwgbG9jYWwgYmFua3MnLFxuICAgICAgICAnQWxsIGxvY2FsIEJhbmtzJyxcbiAgICAgICAgJ0FsbCBsb2NhbCBiYW5rcyBaV0wnLFxuICAgICAgICAnQWxsIExvY2FsIEJhbmsgdHJhbnNmZXInLFxuICAgICAgICAnYmFuaycsXG4gICAgICAgICdCYW5rJyxcbiAgICAgICAgJ0JBTksnLFxuICAgICAgICAnYmFua3MnLFxuICAgICAgICAnQmFua3MnLFxuICAgICAgICAnbG9jYWwgYmFua3MnLFxuICAgICAgICAnTG9jYWwgYmFua3MnLFxuICAgICAgICAnTG9jYWwgQmFua3MnLFxuICAgICAgICAnUGFraXN0YW5pIExvY2FsIEFsbCBiYW5rcycsXG4gICAgICAgICdMb2NhbCBJbmRpYW4gYmFua3MnLFxuICAgICAgICAnTG9jYWxCYW5rcycsXG4gICAgXSxcbiAgICBBc3Ryb3BheTogWydhc3Ryb3BheScsICdBc3Ryb3BheScsICdBc3RybyBQYXknXSxcbiAgICAnQVRNIHRyYW5zZmVyJzogW1xuICAgICAgICAnQVRNJyxcbiAgICAgICAgJ0FUTURlcG9zaXRzJyxcbiAgICAgICAgJ0FUTWRlcG9zaXQnLFxuICAgICAgICAnQVRNIHRyYW5zZmVyJyxcbiAgICAgICAgJ0FUTSBUcmFuc2ZlcicsXG4gICAgICAgICdCYW5rdHJhbnNmZXJBVE0nLFxuICAgICAgICAnRk5CIEFUTSBkZXBvc2l0JyxcbiAgICBdLFxuICAgIEF6YW1QZXNhOiBbJ0F6YW1QZXNhJywgJ0F6YW1wZXNhJ10sXG4gICAgJ0JhbmNvIEJyYWRlc2NvJzogWydCYW5jbyBCcmFkZXNjbycsICdCcmFkZXNjbyddLFxuICAgICdCYW5jbyBkZSBQaWNoaW5jaGEnOiBbJ0JhbmNvIGRlIFBpY2hpbmNoYScsICdCQU5DTyBERSBQSUNISU5DSEEnLCAnUGljaGluY2hhJ10sXG4gICAgJ0JhbmNvIGRlIFByb2R1YmFuY28nOiBbJ0JhbmNvIGRlIFByb2R1YmFuY28nLCAnQkFOQ08gREUgUFJPRFVCQU5DTyddLFxuICAgICdCYW5jbyBkZWwgUGFjaWZpY28nOiBbJ0JhbmNvIGRlbCBQYWNpZmljbycsICdCQU5DTyBERSBQQUNJRklDTycsICdQYWNpZmljbyddLFxuICAgICdCYW5jbyBJbnRlcm5hY2lvbmFsJzogWydCYW5jbyBJbnRlcm5hY2lvbmFsJywgJ0JBTkNPIElOVEVSTkFDSU9OQUwnXSxcbiAgICAnQmFuY28gSW50ZXJuYWNpb25hbCBkZSBNb8OnYW1iaXF1ZSAoQklNKSc6IFsnQmFuY28gSW50ZXJuYWNpb25hbCBkZSBNb8OnYW1iaXF1ZSAoQklNKScsICdCaW0nLCAnVHJhbnNmZXJlbmNpYSBCaW0nXSxcbiAgICAnQmFuY29idSBCYW5rIGVOb3RpJzogWydCYW5jb2J1IEJhbmsgZU5vdGknLCAnQmFuY29idSBlLW5vdGknXSxcbiAgICAnQmFuayBBTCBIYWJpYic6IFsnQmFuayBBTCBIYWJpYicsICdiYW5rIGFsIGhhYmliJywgJ0JhbmsgQWxoYWJpYiddLFxuICAgICdCYW5rIE5lZ2FyYSBJbmRvbmVzaWEgKEJOSSknOiBbJ0JhbmsgTmVnYXJhIEluZG9uZXNpYSAoQk5JKScsICdCTkknLCAnQmFua0JOSSddLFxuICAgICdCYW5rIE9mIENleWxvbiAoQk9DKSc6IFsnQmFuayBPZiBDZXlsb24gKEJPQyknLCAnQmFua29mY2V5bG9uJywgJ0JvYyBQZW9wbGVzIEJhbmsnXSxcbiAgICAnQmFuayBSYWt5YXQgSW5kb25lc2lhIChCUkkpJzogWydCYW5rIFJha3lhdCBJbmRvbmVzaWEgKEJSSSknLCAnQmFua0JyaScsICdCYW5rQlJJJywgJ0JSSScsICdCUkkgZGFuIEV3YWxsZXQnXSxcbiAgICAnQmFuayB0cmFuc2Zlcic6IFtcbiAgICAgICAgJ0FsbCBMb2NhbCBCYW5rIHBheW1lbnQgQWNjZXB0JyxcbiAgICAgICAgJ0FsbCBsb2NhbCBiYW5rIHBheW1lbnRzJyxcbiAgICAgICAgJ0FsbCBMb2NhbCBCYW5rIHRyYW5zZmVyJyxcbiAgICAgICAgJ2JhbmsnLFxuICAgICAgICAnQmFuaycsXG4gICAgICAgICdCQU5LJyxcbiAgICAgICAgJ0JhbmtzIEJISU1VUCBCVEMgRXdhbGxldCBHb29nbGVQYXkgTG9jYWxCYW5rIFBheXBhbCBQYXl0bSBQZXJmZWN0IE1vbmV5IFBob25lUGhlJyxcbiAgICAgICAgJ0JhbmsgYW5kIEUtd2FsbGV0JyxcbiAgICAgICAgJ2JhbmsgZGVwb3NpdCcsXG4gICAgICAgICdCYW5rIGRlcG9zaXQnLFxuICAgICAgICAnQmFua2RlcG9zaXQnLFxuICAgICAgICAnQmFuayBEZXBvc2l0JyxcbiAgICAgICAgJ0JhbmsgZGVwb3NpdHMnLFxuICAgICAgICAnYmFuayBld2FsbGV0JyxcbiAgICAgICAgJ2JhbmsgcGF5bWVudCcsXG4gICAgICAgICdiYW5rcycsXG4gICAgICAgICdCYW5rcycsXG4gICAgICAgICdCYW5rIHRvIEJhbmsgYWNjb3VudCB0cmFuc2ZlcicsXG4gICAgICAgICdiYW5rIHRyYW5zZmVyJyxcbiAgICAgICAgJ0JhbmsgdHJhbnNmZXInLFxuICAgICAgICAnQmFua3RyYW5zZmVyJyxcbiAgICAgICAgJ0JhbmsgVHJhbnNmZXInLFxuICAgICAgICAnQmFua1RyYW5zZmVyJyxcbiAgICAgICAgJ0JBTksgVFJBTlNGRVInLFxuICAgICAgICAnQkFOS1RSQU5TRkVSJyxcbiAgICAgICAgJ2JhbmsgdHJhbnNmZXIgYW5kIGFsbCBmb3JtIG9mIEUtcGF5bWVudHMnLFxuICAgICAgICAnQmFuayBUcmFuc2ZlciBhbmQgYWxsIEZvcm1zIG9mIEUtcGF5bWVudHMnLFxuICAgICAgICAnQmFua3RyYW5zZmVyQVRNJyxcbiAgICAgICAgJ2JhbmsgdHJhbnNmZXJzJyxcbiAgICAgICAgJ0JhbmsgdHJhbnNmZXJzJyxcbiAgICAgICAgJ0JhbmsgVHJhbnNmZXJzJyxcbiAgICAgICAgJ0JhbiB0cmFuc2ZlcicsXG4gICAgICAgICdEZXBvc2l0b3MgZGlyZXRvIGVtIGNvbnRhJyxcbiAgICAgICAgJ0RpcmVjdCBkZXBvc2l0IEZOQiBhbmQgQUJTQScsXG4gICAgICAgICdFLXdhbGxldCBCYW5rIHRyYW5zZmVyJyxcbiAgICAgICAgJ0ludGVybmV0IEJhbmtpbmcnLFxuICAgICAgICAnSW50ZXJuZXQgdHJhbnNmZXInLFxuICAgICAgICAnSW50ZXJuZXQgVHJhbnNmZXInLFxuICAgICAgICAnTG9jYWxCYW5rJyxcbiAgICAgICAgJ2xvY2FsIGJhbmtzJyxcbiAgICAgICAgJ0xvY2FsIGJhbmtzJyxcbiAgICAgICAgJ0xvY2FsIEJhbmtzJyxcbiAgICAgICAgJ0xvY2FsIGJhbmsgdHJhbnNmZXInLFxuICAgICAgICAnTG9jYWwgYmFuayBUcmFuc2ZlcnMnLFxuICAgICAgICAnTG9jYWwgZGVwb3NpdHMnLFxuICAgICAgICAnTG9jYWwgZGVwb3NpdCcsXG4gICAgICAgICdsb2NhbCBkZXBvc2l0cycsXG4gICAgICAgICdCQU5LVFJBTlNGRVJTJyxcbiAgICAgICAgJ0JhbmsgRGVwb3NpdHMnLFxuICAgICAgICAnQmFuayBkZXBvc2l0IGFuZCB0cmFuc2ZlcicsXG4gICAgICAgICdCYW5rIHRyYW5zZmVyIGFuZCBlLXdhbGxldHMnLFxuICAgICAgICAnQmFua0RlcG9zaXQnLFxuICAgICAgICAnRmlhdCcsXG4gICAgICAgICdMT0NBTEJBTksnLFxuICAgICAgICAnT25saW5lVHJhbnNmZXInLFxuICAgICAgICAnWldiYW5rdHJhbnNmZXJzJyxcbiAgICAgICAgJ2xvY2FsYmFua3RyYW5zZmVyJyxcbiAgICAgICAgJ0JhbmsgdHJhbnNmZXIgQmFuayB3aXJlJyxcbiAgICBdLFxuICAgICdCYW5rIHdpcmUnOiBbXG4gICAgICAgICdiYW5rJyxcbiAgICAgICAgJ0JhbmsnLFxuICAgICAgICAnQkFOSycsXG4gICAgICAgICdiYW5rIHBheW1lbnQnLFxuICAgICAgICAnYmFua3MnLFxuICAgICAgICAnQmFua3MnLFxuICAgICAgICAnYmFuayB3aXJlJyxcbiAgICAgICAgJ2Jhbmt3aXJlJyxcbiAgICAgICAgJ0Jhbmsgd2lyZScsXG4gICAgICAgICdCYW5rd2lyZScsXG4gICAgICAgICdCYW5rIFdpcmUnLFxuICAgICAgICAnQmFua1dpcmUnLFxuICAgICAgICAnQkFOS1dJUkUnLFxuICAgICAgICAnQmFuayB3aXJlIGFuZCBlLXdhbGxldHMnLFxuICAgICAgICAnQmFuayB3aXJlIGFuZCBFLXdhbGxldHMnLFxuICAgICAgICAnQmFuayB3aXJlcycsXG4gICAgICAgICdCYW5rd2lyZXMnLFxuICAgICAgICAnYmFuayB3aXJlcyBhbmQgZS13YWxsZXQnLFxuICAgICAgICAnQmFuayB3aXJlcyBhbmQgZS13YWxsZXRzJyxcbiAgICAgICAgJ0JhbmtXaXJlIHRyYW5zZmVyJyxcbiAgICAgICAgJ0Utd2FsbGV0cyBhbmQgYmFuayB3aXJlcycsXG4gICAgICAgICdsb2NhbCBiYW5rIHdpcmUnLFxuICAgICAgICAnTG9jYWxCYW5rV2lyZScsXG4gICAgICAgICdMb2NhbEJhbmt3aXJlJyxcbiAgICAgICAgJ1dpcmUgQmFuayBUcmFuc2ZlcicsXG4gICAgICAgICdXSVJFIFRSQU5TRkVSJyxcbiAgICAgICAgJ0JhbmsgV2lyZSB0cmFuc2ZlcicsXG4gICAgICAgICdGaWF0JyxcbiAgICAgICAgJ09ubGluZVRyYW5zZmVyJyxcbiAgICAgICAgJ0JhbmsgdHJhbnNmZXIgQmFuayB3aXJlJyxcbiAgICBdLFxuICAgIEJhbmtBQkM6IFsnQmFua0FCQycsICdCQU5DQUJDIEJBTksnXSxcbiAgICAnQmFuayBCVE4nOiBbJ0JhbmsgQlROJywgJ0JUTiddLFxuICAgICdCYW5rIG9mIHRoZSBQaGlsaXBwaW5lIElzbGFuZHMgKEJQSSknOiBbJ0Jhbmsgb2YgdGhlIFBoaWxpcHBpbmUgSXNsYW5kcyAoQlBJKScsICdCUEknXSxcbiAgICAnQkNBIGJhbmsnOiBbJ0JDQSBiYW5rJywgJ0JDQScsICdCYW5rQkNBJywgJ2JjYSddLFxuICAgICdCRE8gVW5pYmFuayc6IFsnQkRPIFVuaWJhbmsnLCAnQkRPJ10sXG4gICAgQkhJTTogWydCSElNJywgJ0JoaW0nLCAnQmFua3MgQkhJTVVQIEJUQyBFd2FsbGV0IEdvb2dsZVBheSBMb2NhbEJhbmsgUGF5cGFsIFBheXRtIFBlcmZlY3QgTW9uZXkgUGhvbmVQaGUnXSxcbiAgICAnQk1DRSBCYW5rJzogWydCTUNFIEJhbmsnLCAnQm1jZSBCYW5rJ10sXG4gICAgJ0NBQlMgQmFuayc6IFsnQ0FCUyBCYW5rJywgJ0NhYnMgYmFuaycsICdDQUJTIHRyYW5zZmVyJ10sXG4gICAgQ2FyZDogW1xuICAgICAgICAnQ2FyZCcsXG4gICAgICAgICdjYXJkJyxcbiAgICAgICAgJ2NhcmRzJyxcbiAgICAgICAgJ0NhcmRzJyxcbiAgICAgICAgJ0NyZWRpdCBjYXJkJyxcbiAgICAgICAgJ0RlYml0IENhcmQnLFxuICAgICAgICAnTWFzdGVyY2FyZCcsXG4gICAgICAgICdNYXN0ZXJDYXJkJyxcbiAgICAgICAgJ3Zpc2EnLFxuICAgICAgICAnVmlzYScsXG4gICAgICAgICdWSVNBJyxcbiAgICAgICAgJ1Zpc2EgY2FyZCcsXG4gICAgICAgICdCYW5rIGNhcmRzJyxcbiAgICAgICAgJ0NhcnRlaXJhcyBFbGVjdHJvbmljYXMnLFxuICAgICAgICAnRmlhdCcsXG4gICAgICAgICdNYXN0ZXIgY2FyZCcsXG4gICAgXSxcbiAgICBDYXNoOiBbXG4gICAgICAgICdjYXNoJyxcbiAgICAgICAgJ0Nhc2gnLFxuICAgICAgICAnQ2FzaCBkZXBvc2l0JyxcbiAgICAgICAgJ0Nhc2ggZGVwb3NpdHMnLFxuICAgICAgICAnQ2FzaCBpbiBVU0Qgb3IgTG9jYWwnLFxuICAgICAgICAnZWxlY3Ryb25pYyB0cmFuc2ZlcnMgYW5kIGNhc2ggZGVwb3NpdHMnLFxuICAgICAgICAnRk5CIGNhc2ggZGVwb3NpdCcsXG4gICAgICAgICdwaHlzaWNhbCBsb2NhbCBhbmQgZm9yZWlnbiBiYW5rIG5vdGVzJyxcbiAgICAgICAgJ1VTRCcsXG4gICAgICAgICdVU0QgY2FzaCcsXG4gICAgICAgICdDYXNoIERlcG9zaXQnLFxuICAgICAgICAnRmlhdCcsXG4gICAgICAgICdJTlInLFxuICAgICAgICAnVVNEQ2FzaCcsXG4gICAgICAgICdad2Nhc2gnLFxuICAgIF0sXG4gICAgJ0Nhc2ggc2VuZCBBQlNBIGJhbmsnOiBbXG4gICAgICAgICdDYXNoIHNlbmQgQUJTQSBiYW5rJyxcbiAgICAgICAgJ0FCU0EgQ2FzaCBTZW5kJyxcbiAgICAgICAgJ0Nhc2hzZW5kJyxcbiAgICAgICAgJ0Nhc2ggU2VuZCcsXG4gICAgICAgICdDYXNoU2VuZCcsXG4gICAgICAgICdjYXNoIHNlbmQgQWJzYScsXG4gICAgICAgICdDYXNoIHNlbmQgQWJzYSBiYW5rJyxcbiAgICBdLFxuICAgICdDaGlwcGVyIENhc2gnOiBbJ0NoaXBwZXIgQ2FzaCcsICdDaGlwcGVyJywgJ0NoaXBwZXJjYXNoJywgJ0NoaXBwZXJjaGFzaCddLFxuICAgICdDSUggQmFuayc6IFsnQ0lIIEJhbmsnLCAnQ2loIEJhbmsnXSxcbiAgICBDSU1COiBbJ0NJTUInLCAnQ0lNQk5JQUdBJywgJ05JQUdBJ10sXG4gICAgJ0NpdHkgSG9wcGVyJzogWydDaXR5IGhvcHBlcicsICdDaXR5IEhvcHBlciddLFxuICAgICdDby1vcGVyYXRpdmUgQmFuayBvZiBLZW55YSc6IFsnQ28tb3BlcmF0aXZlIEJhbmsgb2YgS2VueWEnLCAnY29vcGVyYXRpdmViYW5rJ10sXG4gICAgJ0NvbW1lcmNpYWwgQmFuayc6IFsnQ29tbWVyY2lhbCBCYW5rJywgJ0NvbW1lcmNpYWxiYW5rJ10sXG4gICAgJ0NSREIgQmFuayc6IFsnQ1JEQiBCYW5rJywgJ0NSREJCQU5LJ10sXG4gICAgQ3J5cHRvOiBbXG4gICAgICAgICdCYW5rcyBCSElNVVAgQlRDIEV3YWxsZXQgR29vZ2xlUGF5IExvY2FsQmFuayBQYXlwYWwgUGF5dG0gUGVyZmVjdCBNb25leSBQaG9uZVBoZScsXG4gICAgICAgICdiaXRjb2luJyxcbiAgICAgICAgJ0JpdGNvaW4nLFxuICAgICAgICAnQklUQ09JTicsXG4gICAgICAgICdiaXRjb2lucycsXG4gICAgICAgICdCaXRjb2lucycsXG4gICAgICAgICdidGMnLFxuICAgICAgICAnQlRDJyxcbiAgICAgICAgJ2J0YyBzbWVnYScsXG4gICAgICAgICdDcmlwdG8nLFxuICAgICAgICAnY3J5cHRvJyxcbiAgICAgICAgJ0NyeXB0bycsXG4gICAgICAgICdDeXB0b2N1cnJlbmN5JyxcbiAgICAgICAgJ2NyeXB0b2N1cnJlbmNpZXMnLFxuICAgICAgICAnQ3J5cHRvY3VycmVuY2llcycsXG4gICAgICAgICdDcnlwdG8gQ3VycmVuY2llcycsXG4gICAgICAgICdDUllQVE9DVVJSRU5DSUVTJyxcbiAgICAgICAgJ2NyeXB0b2N1cnJlbmN5JyxcbiAgICAgICAgJ0NyeXB0b2N1cnJlbmN5JyxcbiAgICAgICAgJ0NSWVBUT0NVUlJFTkNZJyxcbiAgICAgICAgJ0NyeXB0b3MnLFxuICAgICAgICAnRVRIJyxcbiAgICAgICAgJ2VVU0RUJyxcbiAgICAgICAgJ0VVU0RUJyxcbiAgICAgICAgJ0xUQycsXG4gICAgICAgICdUZXRoZXInLFxuICAgICAgICAnVFJPTicsXG4gICAgICAgICdVU0RDJyxcbiAgICAgICAgJ1VTRFQnLFxuICAgICAgICAnVVNUJyxcbiAgICAgICAgJ1dlIGFjY2VwdCBDcnlwdG8nLFxuICAgICAgICAnQkNIJyxcbiAgICAgICAgJ0J0YycsXG4gICAgICAgICdDcmlwdG9tb2VkYXMnLFxuICAgICAgICAnQ3J5cHRvIFBheW1lbnQnLFxuICAgICAgICAnQ3J5cHRvIHRyYW5zZmVyJyxcbiAgICAgICAgJ0NyeXB0b1RyYW5zZmVyJyxcbiAgICAgICAgJ0UtV2FsbGV0cyBhbmQgQ3J5cHRvJyxcbiAgICAgICAgJ0Utd2FsbGV0cyBhbmQgQ3J5cHRvJyxcbiAgICAgICAgJ0V0aGVyZXVtJyxcbiAgICAgICAgJ0V0aGVyaXVtJyxcbiAgICAgICAgJ0xpdGVjb2luJyxcbiAgICAgICAgJ1NrcmlsbCBOZXRlbGxlciBDcnlwdG8nLFxuICAgICAgICAnU2tyaWxsQ3J5cHRvJyxcbiAgICAgICAgJ1RldGhlciBFUkMyMCcsXG4gICAgICAgICdUZXRoZXIgT21uaScsXG4gICAgICAgICdUaGV0aGVyJyxcbiAgICAgICAgJ1VzZHQnLFxuICAgICAgICAnY3J5cHRvcycsXG4gICAgICAgICdldGhlcmV1bScsXG4gICAgICAgICdsaXRlY29pbicsXG4gICAgXSxcbiAgICAnRGlhbW9uZCBCYW5rJzogWydEaWFtb25kIGJhbmsnLCAnRGlhbW9uZCBCYW5rJywgJ0RpYW1vbmRCYW5rJ10sXG4gICAgJ0UtTW9sYSc6IFsnRS1Nb2xhJywgJ0UtbW9sYScsICdFbW9sYSddLFxuICAgICdFLW1vbmV5JzogWydFLW1vbmV5JywgJ2UgbW9uZXknXSxcbiAgICAnRS1wYXltZW50JzogW1xuICAgICAgICAnRS1wYXltZW50JyxcbiAgICAgICAgJ2FsbCBmb3JtIG9mIEUtcGF5bWVudHMnLFxuICAgICAgICAnQWxsIGZvcm0gb2YgRS1wYXltZW50cycsXG4gICAgICAgICdhbGwgZm9ybXMgb2YgRS1wYXltZW50cycsXG4gICAgICAgICdhbmQgYWxsIG90aGVyIGZvcm1zIG9mIEVwYXltZW50JyxcbiAgICAgICAgJ2JhbmsgdHJhbnNmZXIgYW5kIGFsbCBmb3JtIG9mIEUtcGF5bWVudHMnLFxuICAgICAgICAnQmFuayBUcmFuc2ZlciBhbmQgYWxsIEZvcm1zIG9mIEUtcGF5bWVudHMnLFxuICAgICAgICAnRS1wYXltZW50cycsXG4gICAgICAgICdFcGF5bWVudHMnLFxuICAgICAgICAnQWxsIGZvcm1zIG9mIEUtUGF5bWVudHMnLFxuICAgICAgICAnRGlnaXRhbFBheW1lbnQnLFxuICAgICAgICAnT25saW5lVHJhbnNmZXInLFxuICAgICAgICAnYWxsIGZvcm1zIG9mIEUtUGF5bWVudCcsXG4gICAgXSxcbiAgICAnRS10cmFuc2Zlcic6IFsnRS10cmFuc2ZlcicsICdlbGVjdHJvbmljIHRyYW5zZmVycyBhbmQgY2FzaCBkZXBvc2l0cycsICdFLVRyYW5zZmVycycsICdPbmxpbmVUcmFuc2ZlciddLFxuICAgICdFLXdhbGxldCc6IFtcbiAgICAgICAgJ0JhbmtzIEJISU1VUCBCVEMgRXdhbGxldCBHb29nbGVQYXkgTG9jYWxCYW5rIFBheXBhbCBQYXl0bSBQZXJmZWN0IE1vbmV5IFBob25lUGhlJyxcbiAgICAgICAgJ0JhbmsgYW5kIEUtd2FsbGV0JyxcbiAgICAgICAgJ2JhbmsgZXdhbGxldCcsXG4gICAgICAgICdCYW5rIHdpcmUgYW5kIGUtd2FsbGV0cycsXG4gICAgICAgICdCYW5rIHdpcmUgYW5kIEUtd2FsbGV0cycsXG4gICAgICAgICdiYW5rIHdpcmVzIGFuZCBlLXdhbGxldCcsXG4gICAgICAgICdCYW5rIHdpcmVzIGFuZCBlLXdhbGxldHMnLFxuICAgICAgICAnRGlnaXRhbCBXYWxsZXRzJyxcbiAgICAgICAgJ2VsZWN0cm9uaWMgd2FsbGV0cycsXG4gICAgICAgICdlLXdhbGxlcnMnLFxuICAgICAgICAnZS13YWxsZXQnLFxuICAgICAgICAnZXdhbGxldCcsXG4gICAgICAgICdlV2FsbGV0JyxcbiAgICAgICAgJ0Utd2FsbGV0JyxcbiAgICAgICAgJ0V3YWxsZXQnLFxuICAgICAgICAnRVdBTExFVCcsXG4gICAgICAgICdFLXdhbGxldCBCYW5rIHRyYW5zZmVyJyxcbiAgICAgICAgJ0Ugd2FsbGV0IEZOQicsXG4gICAgICAgICdFLXdhbGxldCBwYXltZW50JyxcbiAgICAgICAgJ0V3YWxsZXQgcGF5bWVudCcsXG4gICAgICAgICdlLXdhbGxldHMnLFxuICAgICAgICAnZXdhbGxldHMnLFxuICAgICAgICAnZS1XYWxsZXRzJyxcbiAgICAgICAgJ2UtV0FMTEVUUycsXG4gICAgICAgICdFLSB3YWxsZXRzJyxcbiAgICAgICAgJ0Utd2FsbGV0cycsXG4gICAgICAgICdFd2FsbGV0cycsXG4gICAgICAgICdFLVdhbGxldHMnLFxuICAgICAgICAnRS13YWxsZXRzIGFuZCBiYW5rIHdpcmVzJyxcbiAgICAgICAgJ2ZuYiBld2FsbGV0JyxcbiAgICAgICAgJ01ZIFdBTExFVCcsXG4gICAgICAgICd3YWxsZXQnLFxuICAgICAgICAnQmFuayB0cmFuc2ZlciBhbmQgZS13YWxsZXRzJyxcbiAgICAgICAgJ0UtV2FsbGV0cyBhbmQgQ3J5cHRvJyxcbiAgICAgICAgJ0Utd2FsbGV0cyBhbmQgQ3J5cHRvJyxcbiAgICAgICAgJ0UtV2FsbGV0JyxcbiAgICAgICAgJ0VXYWxsZXRzJyxcbiAgICAgICAgJ0ZpYXQnLFxuICAgICAgICAnT25saW5lVHJhbnNmZXInLFxuICAgICAgICAnZXdhbGxsZXRzJyxcbiAgICAgICAgJ2V3YWxsdGV0cycsXG4gICAgICAgICdsb2NhbCBiYW5rIHdhbGxldHMgYW5kIE9yYW5nZSBtb25leScsXG4gICAgXSxcbiAgICBFYXN5cGFpc2E6IFsnZWFzeXBhaXNhJywgJ0Vhc3kgcGFpc2EnLCAnRWFzeXBhaXNhJywgJ0Vhc3kgUGFpc2EnLCAnRWFzeVBhaXNhVHJhbnNmZXInXSxcbiAgICBFY29iYW5rOiBbJ0Vjb2JhbmsnLCAnRWNvIEJhbmsnLCAnRUNPIEJBTksnLCAnRWNvIGJhbmsgVHJhbnNmZXJzJ10sXG4gICAgRWNvQ2FzaDogW1xuICAgICAgICAnRWNvIGNhc2gnLFxuICAgICAgICAnRWNvY2FzaCcsXG4gICAgICAgICdFY29DYXNoJyxcbiAgICAgICAgJ0VDT0NBU0gnLFxuICAgICAgICAnRWNvY2FzaCBGQ0EnLFxuICAgICAgICAnRWNvY2FzaCBtZXRob2QnLFxuICAgICAgICAnRUNPQ0FTSCBXQUxMRVQnLFxuICAgICAgICAnRWNvY2FzaCBaV0wnLFxuICAgICAgICAnRWNvY2FzaE1vYmlsZU1vbmV5JyxcbiAgICAgICAgJ1p3ZWNvY2FzaCcsXG4gICAgXSxcbiAgICAnRWxlY3Ryb25pYyBGdW5kcyBUcmFuc2ZlciAoRUZUKSc6IFsnRWxlY3Ryb25pYyBGdW5kcyBUcmFuc2ZlciAoRUZUKScsICdFRlQnXSxcbiAgICAnRXF1aXR5IEJhbmsnOiBbJ0VxdWl0eSBiYW5rJywgJ0VxdWl0eSBCYW5rJywgJ2VxdWl0eWJhbmttb25leXRyYW5zZmVyJ10sXG4gICAgJ0VVIE1vYmlsZSBNb25leSc6IFsnRVUgTW9iaWxlIE1vbmV5JywgJ2FsbCBtb2JpbGUgbW9uZXknLCAnRVUgTU9ORVknXSxcbiAgICBFenlQZXNhOiBbJ0V6eVBlc2EnLCAnRXp5cGVzYScsICdFenp5IHBlc2EnLCAnRXp6eSBQZXNhJywgJ0V6enlQZXNhJ10sXG4gICAgRmFzYVBheTogWydmYXNhcGF5JywgJ0Zhc2EgcGF5JywgJ0Zhc2FQYXknXSxcbiAgICAnRmFzdCBQYXltZW50JzogWydGYXN0IHBheW1lbnQnLCAnRmFzdCBQYXltZW50J10sXG4gICAgJ0ZheXNhbCBCYW5rJzogWydGYXlzYWwgQmFuaycsICdGYXlzYWxCYW5rJ10sXG4gICAgJ0ZCQyBCYW5rJzogWydGQkMgQmFuaycsICdGQkMgQkFOSyddLFxuICAgICdGaWRlbGl0eSBCYW5rJzogWydGaWRlbGl0eSBCYW5rJywgJ2ZpZGVsaXR5YmFuayddLFxuICAgIEZpbmJhbms6IFsnRmluYmFuaycsICdGaW4gYmFuaycsICdGaW5CYW5rJ10sXG4gICAgJ0ZpcnN0IEJhbmsgb2YgTmlnZXJpYSc6IFtcbiAgICAgICAgJ0ZpcnN0IEJhbmsgb2YgTmlnZXJpYScsXG4gICAgICAgICdGaXJzdCBiYW5rJyxcbiAgICAgICAgJ0ZpcnN0IEJhbmsnLFxuICAgICAgICAnRmlyc3RCYW5rJyxcbiAgICAgICAgJ0ZJUlNUIEJBTksnLFxuICAgICAgICAnRmlyc3RiYW5rJyxcbiAgICBdLFxuICAgICdGaXJzdCBDaXR5IE1vbnVtZW50IEJhbmsgKEZDTUIpJzogWydGaXJzdCBDaXR5IE1vbnVtZW50IEJhbmsgKEZDTUIpJywgJ0ZDTUInLCAnZmNtYiddLFxuICAgICdGaXJzdCBNaWNyb0ZpbmFuY2VCYW5rIChGTUZCKSc6IFsnRmlyc3QgTWljcm9GaW5hbmNlQmFuayAoRk1GQiknLCAnRk1GQiddLFxuICAgICdGaXJzdCBOYXRpb25hbCBCYW5rIChGTkIpJzogW1xuICAgICAgICAnRmlyc3QgTmF0aW9uYWwgQmFuayAoRk5CKScsXG4gICAgICAgICdEaXJlY3QgZGVwb3NpdCBGTkIgYW5kIEFCU0EnLFxuICAgICAgICAnRSB3YWxsZXQgRk5CJyxcbiAgICAgICAgJ0ZpcnN0IE5hdGlvbmFsIEJhbmsnLFxuICAgICAgICAnZm5iJyxcbiAgICAgICAgJ0ZOQicsXG4gICAgICAgICdGTkIgQVRNIGRlcG9zaXQnLFxuICAgICAgICAnRm5iYmFuaycsXG4gICAgICAgICdGTkIgQmFuaycsXG4gICAgICAgICdGTkJCIEJhbmsgVHJhbnNmZXInLFxuICAgICAgICAnRk5CIGNhc2ggZGVwb3NpdCcsXG4gICAgICAgICdmbmIgZXdhbGxldCcsXG4gICAgICAgICdGTkIgRmlyc3QgTmF0aW9uYWwgQmFuaycsXG4gICAgICAgICdGTkIgcGF5MmNlbGwnLFxuICAgICAgICAnRk5CIHBheSB0byBjZWxsJyxcbiAgICAgICAgJ0ZOQiBwYXkgdG8gc2VsbCcsXG4gICAgICAgICdQYXkgdG8gY2VsbCBGTkInLFxuICAgICAgICAnRk5CIGJhbmsgdHJhbnNmZXInLFxuICAgICAgICAnRk5CQicsXG4gICAgICAgICdGTkJCYW5rJyxcbiAgICAgICAgJ0Zpck5hdGlvbmFsQmFuaycsXG4gICAgICAgICdGaXJzdCBOYXRpb25hbCBCYW5rIG9mIEJvdHN3YW5hJyxcbiAgICAgICAgJ0ZpcnN0bmF0aW9uYWxiYW5rJyxcbiAgICAgICAgJ0ZuYicsXG4gICAgXSxcbiAgICBHbW9uZXk6IFsnR21vbmV5JywgJ0dNT05FWSddLFxuICAgICdHb29nbGUgUGF5JzogW1xuICAgICAgICAnR29vZ2xlIFBheScsXG4gICAgICAgICdCYW5rcyBCSElNVVAgQlRDIEV3YWxsZXQgR29vZ2xlUGF5IExvY2FsQmFuayBQYXlwYWwgUGF5dG0gUGVyZmVjdCBNb25leSBQaG9uZVBoZScsXG4gICAgICAgICdHb29nbGUgcGF5JyxcbiAgICAgICAgJ2dwYXknLFxuICAgICAgICAnR3BheScsXG4gICAgICAgICdHUGF5JyxcbiAgICBdLFxuICAgICdHcnVwIEJDQSc6IFsnR3J1cCBCQ0EnLCAnR3J1cEJDQSddLFxuICAgICdHVCBiYW5rJzogW1xuICAgICAgICAnR1QgYmFuaycsXG4gICAgICAgICdHdGInLFxuICAgICAgICAnR1RCJyxcbiAgICAgICAgJ0d0IEJhbmsnLFxuICAgICAgICAnR1QgQmFuaycsXG4gICAgICAgICdHVEJhbmsnLFxuICAgICAgICAnR1QgQkFOSycsXG4gICAgICAgICdHdGJhbmsnLFxuICAgICAgICAnR3VhcmFudGVlIFRydXN0IEJhbmsnLFxuICAgICAgICAnR3VhcmFudHlUcnVzdEJhbmsnLFxuICAgIF0sXG4gICAgSGFsb3Blc2E6IFsnaGFsb3Blc2EnLCAnSGFsbyBwZXNhJywgJ0hhbG9wZXNhJywgJ0hhbG8gUGVzYScsICdIYWxvUGVzYScsICdIQUxPUEVTQSddLFxuICAgICdIYXR0b24gTmF0aW9uYWwgQmFuayc6IFsnSGF0dG9uIE5hdGlvbmFsIEJhbmsnLCAnSGF0dG9uTmF0aW9uYWxCYW5rJ10sXG4gICAgSEJMOiBbJ0hCTCcsICdIQkxNRkInLCAnS09OTkVUIEhCTCddLFxuICAgIEhlbHAyUGF5OiBbJ0hlbHAyUGF5JywgJ2hlbHAycGF5J10sXG4gICAgJ0hOQiBCYW5rJzogWydITkIgQmFuaycsICdITkInXSxcbiAgICAnSU1QUyBUcmFuc2Zlcic6IFsnaW1wcycsICdJbXBzJywgJ0lNUFMnLCAnSU1QUyBUcmFuc2ZlciddLFxuICAgICdJTkcgQmFuayc6IFsnSU5HIEJhbmsnLCAnSU5HJ10sXG4gICAgSW5uYnVja3M6IFsnSW5uYnVja3MnLCAnSU5OQlVDS1MnXSxcbiAgICAnSW5zdGFudCBNb25leSc6IFtcbiAgICAgICAgJ0luc3RhbnQgTW9uZXknLFxuICAgICAgICAnSW5zdGFudE1vbmV5JyxcbiAgICAgICAgJ0luc3RhbnQgbW9uZXkgc3RhbWJpYyBiYW5rJyxcbiAgICAgICAgJ0luc3RhbnQgbW9uZXkgc3RhbmJpYycsXG4gICAgICAgICdJbnN0YW50IG1vbmV5JyxcbiAgICBdLFxuICAgICdJbnRlciBCYW5rIEZ1bmQgVHJhbnNmZXInOiBbJ0ludGVyIEJhbmsgRnVuZCBUcmFuc2ZlcicsICdJbnRlckJhbmtmdW5kdHJhbnNmZXInLCAnSW50ZXJiYW5rIFRyYW5zZmVyJ10sXG4gICAgJ0l0YXUgQmFuayc6IFsnSXRhdSBCYW5rJywgJ0l0YXUnXSxcbiAgICBJWkk6IFsnSVpJJywgJ0l6enknXSxcbiAgICBKYXp6Q2FzaDogWydKYXp6Q2FzaCcsICdqYXp6Y2FzaCcsICdKYXp6IGNhc2gnLCAnSmF6emNhc2gnLCAnSmF6ei1DYXNoJywgJ0phenpDYXNoVHJhbnNmZXInXSxcbiAgICBKRU5JVVM6IFsnSkVOSVVTJywgJ0plbml1cyddLFxuICAgIEpldG9uOiBbJ0pldG9uJywgJ2pldG9uJywgJ0pldG9uV2FsbGV0J10sXG4gICAgJ0tleSBTdG9uZSBCYW5rJzogWydLZXkgU3RvbmUgQmFuaycsICdLZXlzdG9uZSddLFxuICAgICdLdWRhIEJhbmsnOiBbXG4gICAgICAgICdLdWRhIEJhbmsnLFxuICAgICAgICAnS1VEQSBCQU5LJyxcbiAgICAgICAgJ0t1ZGEgTUZCJyxcbiAgICAgICAgJ0t1ZGFNRkInLFxuICAgICAgICAnS1VEQSBNSUNST0ZJTkFOQ0UgQkFOSyAyMDE0NTYzOTM3JyxcbiAgICAgICAgJ0t1ZGEgTWljcm9maW5hbmNlJyxcbiAgICAgICAgJ0tVREEnLFxuICAgIF0sXG4gICAgJ0x1bm8gV2FsbGV0JzogWydMdW5vIFdhbGxldCcsICdMdW5vJywgJ0x1bm8gY3J5cHRvIHdhbGxldCcsICdMdW5vIGUtd2FsbGV0JywgJ0x1bm8gZXdhbGxldCcsICdsdW5vJ10sXG4gICAgJ01hbmRpcmkgQmFuayc6IFsnTWFuZGlyaSBCYW5rJywgJ01hbmRpcmknLCAnTUFORElSSScsICdNYW5kaXJpU3lhcmlhaCcsICdCYW5rTWFuZGlyaSddLFxuICAgICdNZWV6YW4gQmFuayc6IFsnTWVlemFuIEJhbmsnLCAnTWVlemFuQmFuayddLFxuICAgICdNaWxsZW5pdW0gQmltIFZpc2EnOiBbJ01pbGxlbml1bSBCaW0gVmlzYScsICdNaWxsZW5pdW0gQmltJ10sXG4gICAgTUlYOiBbJ21peCcsICdNaXgnLCAnTUlYJywgJ01peGVkJ10sXG4gICAgJ01vYmlsZSBtb25leSc6IFtcbiAgICAgICAgJ2FsbCBtb2JpbGUgbW9uZXknLFxuICAgICAgICAnbW9iaWxlIGJhbmtpbmcnLFxuICAgICAgICAnTW9iaWxlIGJhbmtpbmcnLFxuICAgICAgICAnTW9iaWxlIG1vbmV5JyxcbiAgICAgICAgJ01vYmlsZSBNb25leScsXG4gICAgICAgICdNb2JpbGVNb25leScsXG4gICAgICAgICdNb2JpbGUgbW9uZXkgTVROJyxcbiAgICAgICAgJ01vYmlsZSBNb25leSB0cmFuc2ZlcicsXG4gICAgICAgICdNT0JJTEUgTU9ORVkgVFJBTlNGRVInLFxuICAgICAgICAnTW9iaWxlIG1vbmV5IHRyYW5zZmVycycsXG4gICAgICAgICdNb2JpbGVtb25leW9wdGlvbicsXG4gICAgICAgICdPbmxpbmVUcmFuc2ZlcicsXG4gICAgXSxcbiAgICAnTW9qbyBNdWxhJzogWydNb2pvIG1vbmV5JywgJ01vam8gTXVsYScsICdNT0pPIE1VTEEnLCAnTW9NbyBwYXknLCAnTW9qbyBNb29sYWgnXSxcbiAgICBNb01vOiBbJ01vTW8nLCAnTU9NTycsICdNb01vIHBheScsICdNVE4gTU9NTycsICdNVE5NT01PJ10sXG4gICAgTW9uZXlHcmFtOiBbJ01vbmV5Z3JhbScsICdNb25leSBHcmFtJywgJ01vbmV5R3JhbScsICdNb25leSBncmFtZSddLFxuICAgICdNLVBFU0EnOiBbXG4gICAgICAgICdBYmVzYWZhcmljb21NcGVzYSBUcmFuc2ZlcnMnLFxuICAgICAgICAnbXBlc2EnLFxuICAgICAgICAnTSBwZXNhJyxcbiAgICAgICAgJ00tcGVzYScsXG4gICAgICAgICdNcGVzYScsXG4gICAgICAgICdNIFBlc2EnLFxuICAgICAgICAnTS1QZXNhJyxcbiAgICAgICAgJ01QZXNhJyxcbiAgICAgICAgJ00gUEVTQScsXG4gICAgICAgICdNLVBFU0EnLFxuICAgICAgICAnTVBFU0EnLFxuICAgICAgICAnTS1QZXNhIFRpZ28tUGVzYSBULVBlc2EnLFxuICAgICAgICAnUGVzYScsXG4gICAgICAgICdzYWZhcmljb20gbXBlc2EnLFxuICAgICAgICAnTVBFU0EgMDcxMDM5Mzk0NyBBbGJlcnQgS3lhbG8nLFxuICAgICAgICAnVm9kYWNvbU1wZXNhJyxcbiAgICBdLFxuICAgICdNVE4gTU9NTyc6IFtcbiAgICAgICAgJ2FsbCBtb2JpbGUgbW9uZXknLFxuICAgICAgICAnTW9iaWxlIG1vbmV5IE1UTicsXG4gICAgICAgICdNb01vJyxcbiAgICAgICAgJ01PTU8nLFxuICAgICAgICAnTVROJyxcbiAgICAgICAgJ01UTiBtb2JpbGUgbW9uZXknLFxuICAgICAgICAnTVROIE1vYmlsZSBtb25leScsXG4gICAgICAgICdNVE4gTW9iaWxlIE1vbmV5JyxcbiAgICAgICAgJ01UTiBNT0JJTEUgTU9ORVknLFxuICAgICAgICAnTVROTU9CSUxFTU9ORVknLFxuICAgICAgICAnTVROIE1PTU8nLFxuICAgICAgICAnTVROTU9NTycsXG4gICAgICAgICdNVE4gTU9ORVknLFxuICAgIF0sXG4gICAgJ011a3VydSBtb25leSB0cmFuc2ZlcnMnOiBbJ011a3VydScsICdNdWt1cnUgbW9uZXkgdHJhbnNmZXJzJywgJ011a3VydU1vbmV5VHJhbnNmZXInLCAnVVNETXVrdXJ1dHJhbnNmZXInXSxcbiAgICAnTXlaYWthIE1hc2NvbSBNb25leSc6IFtcbiAgICAgICAgJ015WmFrYSBNYXNjb20gTW9uZXknLFxuICAgICAgICAnbWFzY29tJyxcbiAgICAgICAgJ21hc2NvbSBteVpha2EnLFxuICAgICAgICAnTWFzY29tIE15WmFrYScsXG4gICAgICAgICdteXpha2EnLFxuICAgICAgICAnTXkgemFrYScsXG4gICAgICAgICdNeXpha2EnLFxuICAgICAgICAnTXlaYWthJyxcbiAgICAgICAgJ015IHpha2EgbWFzY29tIG1vbmV5JyxcbiAgICAgICAgJ215IFpha2EnLFxuICAgICAgICAnbXl6YWFrYScsXG4gICAgXSxcbiAgICBOZWZ0OiBbJ25lZnQnLCAnTmVmdCcsICdORUZUJ10sXG4gICAgTmVxdWk6IFsnTmVxdWknLCAnTmVxdWkgbyBEYXZpcGxhdGEgYWwgMzAwIDY4MzkwMjYnXSxcbiAgICBOZXRlbGxlcjogWyduZVRlbGxlcicsICdOZXRlbGxlcicsICdORVRFTExFUicsICdORVRlbGxlJywgJ1NrcmlsbCBOZXRlbGxlciBDcnlwdG8nLCAnbmV0ZWxsZXInLCAnbmV0dGVsbGVyJ10sXG4gICAgJ05pZ2VyaWEgbG9jYWwgYmFuayc6IFsnTmlnZXJpYSBMb2NhbCcsICdOaWdlcmlhIGxvY2FsIGJhbmsnLCAnTklHRVJJQSBMT0NBTCBCQU5LJ10sXG4gICAgJ05NQiBCYW5rJzogWydOTUIgQmFuaycsICdOQVRJT05BTE1JQ1JPRklOQU5DRUJBTksnLCAnTm1iIGJhbmsnXSxcbiAgICAnT25lIE1vbmV5JzogWydPTScsICdPbmVtb25leScsICdPbmUgTW9uZXknLCAnT25lIG1vbmV5IHNlcnZpY2UnLCAnT25lTW9uZXknLCAnT25lTW9uZXlNb2JpbGVNb25leSddLFxuICAgIE9wYXk6IFsnT3BheScsICdPUEFZJ10sXG4gICAgJ09yYW5nZSBNb25leSBUcmFuc2Zlcic6IFtcbiAgICAgICAgJ0Fic2EgZnVuZCB0cmFuc2ZlciBhbmQgb3JhbmdlIG1vbmV5IHNlcnZpY2VzJyxcbiAgICAgICAgJ09yYW5nZSBDYW1lcm9vbicsXG4gICAgICAgICdvcmFuZ2UgbW9uZXknLFxuICAgICAgICAnb3JhbmdlbW9uZXknLFxuICAgICAgICAnT3JhbmdlIG1vbmV5JyxcbiAgICAgICAgJ09yYW5nZW1vbmV5JyxcbiAgICAgICAgJ09yYW5nZSBNb25leScsXG4gICAgICAgICdPcmFuZ2VNb25leScsXG4gICAgICAgICdPUkFOR0UgTU9ORVknLFxuICAgICAgICAnT3JhbmdlIE1vbmV5IFRyYW5zZmVyJyxcbiAgICAgICAgJ2xvY2FsIGJhbmsgd2FsbGV0cyBhbmQgT3JhbmdlIG1vbmV5JyxcbiAgICBdLFxuICAgIFBhbG1QYXk6IFsnUGFsbVBheScsICdQQUxNUEFZJ10sXG4gICAgJ1BheSBzYWZlIENhcmQnOiBbJ3BheXNhZmVjYXJkJywgJ1BheSBzYWZlIENhcmQnXSxcbiAgICBQYXkyQ2VsbDogW1xuICAgICAgICAnRk5CIHBheTJjZWxsJyxcbiAgICAgICAgJ0ZOQiBwYXkgdG8gY2VsbCcsXG4gICAgICAgICdGTkIgcGF5IHRvIHNlbGwnLFxuICAgICAgICAnUGF5MmNlbGwnLFxuICAgICAgICAnUGF5MkNlbGwnLFxuICAgICAgICAnUEFZMkNFTEwnLFxuICAgICAgICAncGF5IHRvIGNlbGwnLFxuICAgICAgICAnUGF5IHRvIGNlbGwnLFxuICAgICAgICAnUGF5dG9jZWxsJyxcbiAgICAgICAgJ1BheSB0byBDZWxsJyxcbiAgICAgICAgJ1BheSB0byBjZWxsIEZOQicsXG4gICAgICAgICdQYXlUb0NlbGwnLFxuICAgICAgICAncGF5MmNlbGwnLFxuICAgIF0sXG4gICAgJ1BheW1lbnQgQ2hlY2tzJzogWydQYXltZW50IGNoZWNrcycsICdQYXltZW50IENoZWNrcyddLFxuICAgIFBheVBhbDogW1xuICAgICAgICAnQmFua3MgQkhJTVVQIEJUQyBFd2FsbGV0IEdvb2dsZVBheSBMb2NhbEJhbmsgUGF5cGFsIFBheXRtIFBlcmZlY3QgTW9uZXkgUGhvbmVQaGUnLFxuICAgICAgICAnUGF5cGFsJyxcbiAgICAgICAgJ1BheVBhbCcsXG4gICAgICAgICdQQVlQQUwnLFxuICAgICAgICAncGF5cGFsJyxcbiAgICBdLFxuICAgIFBheVRNOiBbJ0JhbmtzIEJISU1VUCBCVEMgRXdhbGxldCBHb29nbGVQYXkgTG9jYWxCYW5rIFBheXBhbCBQYXl0bSBQZXJmZWN0IE1vbmV5IFBob25lUGhlJywgJ1BheXRtJywgJ1BheVRNJ10sXG4gICAgJ1BlcmZlY3QgTW9uZXknOiBbXG4gICAgICAgICdCYW5rcyBCSElNVVAgQlRDIEV3YWxsZXQgR29vZ2xlUGF5IExvY2FsQmFuayBQYXlwYWwgUGF5dG0gUGVyZmVjdCBNb25leSBQaG9uZVBoZScsXG4gICAgICAgICdwZXJmZWN0IG1vbmV5JyxcbiAgICAgICAgJ3BlcmZlY3Rtb25leScsXG4gICAgICAgICdQZXJmZWN0IG1vbmV5JyxcbiAgICAgICAgJ1BlcmZlY3Rtb25leScsXG4gICAgICAgICdQZXJmZWN0IE1vbmV5JyxcbiAgICAgICAgJ1BlcmZlY3RNb25leScsXG4gICAgICAgICdQRVJGRUNUIE1PTkVZJyxcbiAgICAgICAgJ1BlcmZlY3QgTW9uZXkgYW5kIFdlYm1vbmV5JyxcbiAgICAgICAgJ1BNJyxcbiAgICAgICAgJ1BFUkZFQ1RNT05FWScsXG4gICAgICAgICdQRVJGRUNUJyxcbiAgICBdLFxuICAgICdQZXJtYXRhIEJhbmsnOiBbJ1Blcm1hdGEgQmFuaycsICdQZXJtYXRhQmFuaycsICdQRVJNQVRBJ10sXG4gICAgUGhvbmVQaGU6IFtcbiAgICAgICAgJ1Bob25lUGhlJyxcbiAgICAgICAgJ0JhbmtzIEJISU1VUCBCVEMgRXdhbGxldCBHb29nbGVQYXkgTG9jYWxCYW5rIFBheXBhbCBQYXl0bSBQZXJmZWN0IE1vbmV5IFBob25lUGhlJyxcbiAgICAgICAgJ1Bob25lcGF5JyxcbiAgICAgICAgJ3Bob25lcGUnLFxuICAgICAgICAnUGhvbmVwZScsXG4gICAgICAgICdQaG9uZVBlJyxcbiAgICAgICAgJ1Bob25lIHBheScsXG4gICAgICAgICdQaG9uZVBheScsXG4gICAgXSxcbiAgICBQaXg6IFsnUGl4JywgJ1BJWCddLFxuICAgICdQb2xhcmlzIEJhbmsnOiBbJ1BvbGFyaXMgQmFuaycsICdQb2xhcmlzJ10sXG4gICAgJ1BvbnRvIDI0JzogWydDb250YSBtb3ZlbCcsICdDb250YSBNb3ZlbCcsICdDb250YW1vdmVsQkNJJywgJ1BvbnRvIDI0JywgJ1BvbnRvMjQnXSxcbiAgICAnUG9zIGRlcG9zaXQnOiBbJ1BvcycsICdQT1MnLCAnUG9zIGRlcG9zaXQnXSxcbiAgICAnUG9zdGFsIHRyYW5zZmVyJzogWydQb3N0YWwgdHJhbnNmZXInLCAnRWd5cHRpYW4gcG9zdGFsIHRyYW5zZmVycyddLFxuICAgIFJJQTogWydSaWEnLCAnUklBJ10sXG4gICAgJ1JUR1MgVHJhbnNmZXJzJzogWydSVEdTIFRyYW5zZmVycycsICdydGdzJywgJ1JUR1MnLCAnUnRncyBiYW5rIHRyYW5zZmVyJywgJ1JUR1MgdHJhbnNmZXJzJywgJ1J0Z3MnXSxcbiAgICBTYWZhcmljb206IFsnU2FmYXJpY29tJywgJ0FiZXNhZmFyaWNvbU1wZXNhIFRyYW5zZmVycycsICdBYmVTYWZhcmljb21NcGVzYVRyYW5zZmVycycsICdzYWZhcmljb20gbXBlc2EnXSxcbiAgICAnU2FtYSBNb25leSc6IFsnU2FtYSBNb25leScsICdTYW1hIG1vbmV5J10sXG4gICAgU2hvcGVlUGF5OiBbJ1Nob3BlZVBheScsICdTSE9QRUVQQVknXSxcbiAgICBTa3JpbGw6IFtcbiAgICAgICAgJ1NrcmlsbCcsXG4gICAgICAgICdTa2lsbCcsXG4gICAgICAgICdTa3JpbCcsXG4gICAgICAgICdza3JpbGwnLFxuICAgICAgICAnU0tSSUxMJyxcbiAgICAgICAgJ3NrcmlsbHBheW1lbnRzJyxcbiAgICAgICAgJ1NrcmxsJyxcbiAgICAgICAgJ1NrcmlsbENyeXB0bycsXG4gICAgICAgICdTa3JpbGwgTmV0ZWxsZXIgQ3J5cHRvJyxcbiAgICBdLFxuICAgIFNtZWdhOiBbJ2J0YyBzbWVnYScsICdzbWVnYScsICdTbWVnYSddLFxuICAgICdTdGFuZGFyZCBCYW5rIE5hbWliaWEnOiBbJ1N0YW5kYXJkIEJhbmsgTmFtaWJpYScsICdTdGFuZGFyZCBCYW5rJywgJ1N0YW5kYXJkQmFuayddLFxuICAgICdTdGFuYmljIEJhbmsnOiBbXG4gICAgICAgICdJbnN0YW50IG1vbmV5IHN0YW1iaWMgYmFuaycsXG4gICAgICAgICdJbnN0YW50IG1vbmV5IHN0YW5iaWMnLFxuICAgICAgICAnc3RhbmJpYycsXG4gICAgICAgICdTdGFuYmljJyxcbiAgICAgICAgJ1N0YW5iaWMgQmFuaycsXG4gICAgICAgICdTdGFuYmljQmFuaycsXG4gICAgICAgICdTdGFuYmljIEJhbmsgVHJhbnNmZXInLFxuICAgICAgICAnU3RhbmJpYyBNb25leSBUcmFuc2ZlcicsXG4gICAgICAgICdTdGFuZGJpYycsXG4gICAgICAgICdTdGFuYmljIElCVEMnLFxuICAgICAgICAnU3RhbmJpYyBiYW5rJyxcbiAgICBdLFxuICAgICdTdGFuZGFyZCBDaGFydGVkIEJhbmsnOiBbXG4gICAgICAgICdTVEFOQ0hBUlQnLFxuICAgICAgICAnU3RhbmRhcmQgQ2hhcnRlZCBCYW5rJyxcbiAgICAgICAgJ1N0YW5kYXJkIGNoYXJ0ZXJlZCcsXG4gICAgICAgICdTdGFuZGFyZCBjaGFydGVyZWQgYmFuaycsXG4gICAgICAgICdTdGFuZGFyZCBDaGFydGVyZWQgQmFuayBUcmFuc2ZlcicsXG4gICAgICAgICdTdGFuZGFyZCBDaGF0dGVyZCBCYW5rJyxcbiAgICBdLFxuICAgICdTdGV3YXJkIHJlbWl0JzogWydTdGV3YXJkIHJlbWl0JywgJ1N0ZXdhcmQgUmVtbWl0dCddLFxuICAgICdULXBlc2EnOiBbJ00tUGVzYSBUaWdvLVBlc2EgVC1QZXNhJywgJ1Blc2EnLCAnVC1wZXNhJywgJ1RwZXNhJywgJ1QgUEVTQScsICdUVENMcGVzYSddLFxuICAgICdUaWdvIENhc2gnOiBbJ1RpZ28nLCAnVGlnbyBDYXNoJywgJ0FpcnRlbFRpZ28gY2FzaCddLFxuICAgICdUaWdvIE1vYmlsZSBNb25leSc6IFtcbiAgICAgICAgJ1RpZ28gTW9iaWxlIE1vbmV5JyxcbiAgICAgICAgJ0FpcnRlbCBUaWdvJyxcbiAgICAgICAgJ2FsbCBtb2JpbGUgbW9uZXknLFxuICAgICAgICAnVGlnbycsXG4gICAgICAgICdUSUdPIE1PQklMRSBNT05FWScsXG4gICAgICAgICdUSUdPTU9CSUxFTU9ORVknLFxuICAgICAgICAnQWlydGVsVGlnbyBjYXNoJyxcbiAgICBdLFxuICAgICdUaWdvIFBlc2EnOiBbXG4gICAgICAgICdNLVBlc2EgVGlnby1QZXNhIFQtUGVzYScsXG4gICAgICAgICdQZXNhJyxcbiAgICAgICAgJ1RpZ28nLFxuICAgICAgICAndGlnb3Blc2EnLFxuICAgICAgICAnVGlnbyBwZXNhJyxcbiAgICAgICAgJ1RpZ29wZXNhJyxcbiAgICAgICAgJ1RpZ28gUGVzYScsXG4gICAgICAgICdUaWdvUGVzYScsXG4gICAgICAgICdUSUdPIFBFU0EnLFxuICAgICAgICAnVFRDTHBlc2EnLFxuICAgICAgICAnVElHT1BFU0EnLFxuICAgIF0sXG4gICAgJ1RyYW5zZmVyZW5jaWEgYmFuY2FyaWEnOiBbXG4gICAgICAgICdUcmFuc2ZlcmVuY2lhIGJhbmNhcmlhJyxcbiAgICAgICAgJ1RyYW5zZmVyZW5jaWEgRWxldHJvbmljYSBURUQnLFxuICAgICAgICAnVHJhbnNmZXJlbmNpYXMgYmFuY2FyaWFzJyxcbiAgICAgICAgJ1RlZCcsXG4gICAgICAgICdUcmFuc2ZlcmVuY2lhIEJhbmNhcmlhJyxcbiAgICBdLFxuICAgICdVQkEgQmFuayc6IFsnVUJBJywgJ1VCQSBCYW5rJywgJ1VCQSBCQU5LJ10sXG4gICAgJ1VuaW9uIEJhbmsnOiBbJ1VuaW9uIEJhbmsnLCAnVW5pb25iYW5rJywgJ1VuaW9uJ10sXG4gICAgJ1VuaXRlZCBCYW5rIExpbWl0ZWQgKFVCTCknOiBbJ1VuaXRlZCBCYW5rIExpbWl0ZWQgKFVCTCknLCAnVUJMIEJhbmsnXSxcbiAgICBVUEk6IFtcbiAgICAgICAgJ0FsbCBVUEkgVHJhbnNmZXInLFxuICAgICAgICAnQmFua3MgQkhJTVVQIEJUQyBFd2FsbGV0IEdvb2dsZVBheSBMb2NhbEJhbmsgUGF5cGFsIFBheXRtIFBlcmZlY3QgTW9uZXkgUGhvbmVQaGUnLFxuICAgICAgICAndXBpJyxcbiAgICAgICAgJ1VQSScsXG4gICAgICAgICdVUEkgdHJhbnNmZXInLFxuICAgICAgICAnQW1hem9uVVBJJyxcbiAgICAgICAgJ1BheXRtVVBJJyxcbiAgICAgICAgJ1VwaScsXG4gICAgXSxcbiAgICAnVVNTRCBjb2RlIHRyYW5zZmVyJzogW1xuICAgICAgICAnVVNTRCBjb2RlIHRyYW5zZmVyJyxcbiAgICAgICAgJ09yIFVTU0QgdHJhbnNmZXIgZnJvbSBhbGwgTmlnZXJpYSBiYW5rcycsXG4gICAgICAgICdVU1NEIENvZGUnLFxuICAgICAgICAnVVNTRCBDT0RFJyxcbiAgICAgICAgJ1Vzc2QgY29kZSBUcmFuc2ZlciBmcm9tIGFsbCBOaWdlcmlhbiBiYW5rcycsXG4gICAgICAgICdVc3NkIHRyYW5zZmVyJyxcbiAgICAgICAgJ1VTU0QgdHJhbnNmZXInLFxuICAgICAgICAnVVNTRCBUcmFuc2ZlcicsXG4gICAgICAgICd1c3NkIHRyYW5zZmVyJyxcbiAgICBdLFxuICAgIFZvZGFjb206IFsnVm9kYWNvbScsICdWb2RhY29tTXBlc2EnXSxcbiAgICAnVm9kYWZvbmUgQ2FzaCc6IFsnVm9kYWZvbiBDYXNoIE1ldGhvZHMnLCAnVm9kYWZvbmUgY2FzaCcsICdWb2RhZm9uZSBDYXNoJywgJ1ZPREFGT05FIENBU0gnLCAnVk9EQUZPTkVDQVNIJ10sXG4gICAgV2VibW9uZXk6IFsnUGVyZmVjdCBNb25leSBhbmQgV2VibW9uZXknLCAnV2VibW9uZXknLCAnV2ViTW9uZXknLCAnV2ViIE1vbmV5JywgJ1dlYiBtb25leSddLFxuICAgICdXZUNoYXQgUGF5JzogWydXZUNoYXQgUGF5JywgJ1dlQ2hhdFBheSddLFxuICAgICdXZW1hIEJhbmsnOiBbJ1dlbWEgQmFuaycsICdXZW1hJ10sXG4gICAgV2VzdGVyblVuaW9uOiBbJ1dlc3Rlcm4gdW5pb24nLCAnV2VzdGVybiBVbmlvbicsICdXZXN0ZXJuVW5pb24nLCAnd2VzdGVybnVuaW9uJ10sXG4gICAgV2lzZTogWydXaXNlJywgJ3RyYW5zZmVyd2lzZSddLFxuICAgICdXb3JsZCBSZW1pdCc6IFsnV29ybGQgcmVtaXQnLCAnV29ybGQgUmVtaXQnLCAnQ29pbmJhc2V3b3JsZFJlbWl0J10sXG4gICAgJ1phbmFjbyBiYW5rJzogWydaQU5BQ08nLCAnWmFuYWNvIGJhbmsnXSxcbiAgICAnWmVuaXRoIGJhbmsnOiBbJ1plbml0aCBiYW5rJywgJ1plbml0aGJhbmsnLCAnWmVuaXRoIEJhbmsnLCAnWmVuaXRoQmFuaycsICdaRU5JVEggQkFOSycsICdaZW5pdGgnLCAnemVuaXRoYmFuayddLFxuICAgIFppcGl0OiBbJ1ppcGl0JywgJ1pJUElUJywgJ1pJUElUIGJhbmsgdHJhbnNmZXJzJ10sXG59IGFzIGNvbnN0O1xuXG5leHBvcnQgZGVmYXVsdCB7IG1hcF9hY3Rpb24sIGljb25fcGF5bWVudF9tZXRob2RzLCBwYXltZW50X21ldGhvZHMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./constants/constants.ts\n")},"./pages/account-transfer/account-transfer-get-selected-error/account-transfer-get-selected-error.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/translations */ "@deriv/translations");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_1__);\n\n\nvar AccountTransferGetSelectedError = function AccountTransferGetSelectedError(selected_value) {\n  var is_from_account = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  if (is_from_account) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.Localize, {\n      i18n_default_text: "Transfer from {{selected_value}} is not allowed, Please choose another account from dropdown",\n      values: {\n        selected_value: selected_value\n      }\n    });\n  }\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default().createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.Localize, {\n    i18n_default_text: "Transfer to {{selected_value}} is not allowed, Please choose another account from dropdown",\n    values: {\n      selected_value: selected_value\n    }\n  });\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (AccountTransferGetSelectedError);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9hY2NvdW50LXRyYW5zZmVyL2FjY291bnQtdHJhbnNmZXItZ2V0LXNlbGVjdGVkLWVycm9yL2FjY291bnQtdHJhbnNmZXItZ2V0LXNlbGVjdGVkLWVycm9yLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvY2FzaGllci8uL3BhZ2VzL2FjY291bnQtdHJhbnNmZXIvYWNjb3VudC10cmFuc2Zlci1nZXQtc2VsZWN0ZWQtZXJyb3IvYWNjb3VudC10cmFuc2Zlci1nZXQtc2VsZWN0ZWQtZXJyb3IudHN4PzFjNTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IExvY2FsaXplIH0gZnJvbSAnQGRlcml2L3RyYW5zbGF0aW9ucyc7XG5cbmNvbnN0IEFjY291bnRUcmFuc2ZlckdldFNlbGVjdGVkRXJyb3IgPSAoc2VsZWN0ZWRfdmFsdWU/OiBzdHJpbmcsIGlzX2Zyb21fYWNjb3VudCA9IGZhbHNlKSA9PiB7XG4gICAgaWYgKGlzX2Zyb21fYWNjb3VudCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPExvY2FsaXplXG4gICAgICAgICAgICAgICAgaTE4bl9kZWZhdWx0X3RleHQ9J1RyYW5zZmVyIGZyb20ge3tzZWxlY3RlZF92YWx1ZX19IGlzIG5vdCBhbGxvd2VkLCBQbGVhc2UgY2hvb3NlIGFub3RoZXIgYWNjb3VudCBmcm9tIGRyb3Bkb3duJ1xuICAgICAgICAgICAgICAgIHZhbHVlcz17eyBzZWxlY3RlZF92YWx1ZSB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8TG9jYWxpemVcbiAgICAgICAgICAgIGkxOG5fZGVmYXVsdF90ZXh0PSdUcmFuc2ZlciB0byB7e3NlbGVjdGVkX3ZhbHVlfX0gaXMgbm90IGFsbG93ZWQsIFBsZWFzZSBjaG9vc2UgYW5vdGhlciBhY2NvdW50IGZyb20gZHJvcGRvd24nXG4gICAgICAgICAgICB2YWx1ZXM9e3sgc2VsZWN0ZWRfdmFsdWUgfX1cbiAgICAgICAgLz5cbiAgICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQWNjb3VudFRyYW5zZmVyR2V0U2VsZWN0ZWRFcnJvcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/account-transfer/account-transfer-get-selected-error/account-transfer-get-selected-error.tsx\n')},"./pages/account-transfer/account-transfer-get-selected-error/index.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _account_transfer_get_selected_error__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./account-transfer-get-selected-error */ "./pages/account-transfer/account-transfer-get-selected-error/account-transfer-get-selected-error.tsx");\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_account_transfer_get_selected_error__WEBPACK_IMPORTED_MODULE_0__["default"]);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9hY2NvdW50LXRyYW5zZmVyL2FjY291bnQtdHJhbnNmZXItZ2V0LXNlbGVjdGVkLWVycm9yL2luZGV4LnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9jYXNoaWVyLy4vcGFnZXMvYWNjb3VudC10cmFuc2Zlci9hY2NvdW50LXRyYW5zZmVyLWdldC1zZWxlY3RlZC1lcnJvci9pbmRleC50cz9kNzJhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBY2NvdW50VHJhbnNmZXJHZXRTZWxlY3RlZEVycm9yIGZyb20gJy4vYWNjb3VudC10cmFuc2Zlci1nZXQtc2VsZWN0ZWQtZXJyb3InO1xuXG5leHBvcnQgZGVmYXVsdCBBY2NvdW50VHJhbnNmZXJHZXRTZWxlY3RlZEVycm9yO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/account-transfer/account-transfer-get-selected-error/index.ts\n')},"./pages/on-ramp/on-ramp-providers.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/translations */ \"@deriv/translations\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_0__);\n\nvar createBanxaProvider = function createBanxaProvider(store) {\n  return {\n    icon: {\n      dark: 'IcCashierBanxaDark',\n      light: 'IcCashierBanxaLight'\n    },\n    name: 'Banxa',\n    getDescription: function getDescription() {\n      return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_0__.localize)('A fast and secure fiat-to-crypto payment service. Deposit cryptocurrencies from anywhere in the world using your credit/debit cards and bank transfers.');\n    },\n    getAllowedResidencies: function getAllowedResidencies() {\n      return ['*'];\n    },\n    getPaymentIcons: function getPaymentIcons() {\n      return [{\n        dark: 'IcCashierVisaDark',\n        light: 'IcCashierVisaLight'\n      }, {\n        dark: 'IcCashierMastercardDark',\n        light: 'IcCashierMastercardLight'\n      }, {\n        dark: 'IcCashierBpayDark',\n        light: 'IcCashierBpayLight'\n      }, {\n        dark: 'IcCashierSepaDark',\n        light: 'IcCashierSepaLight'\n      }, {\n        dark: 'IcCashierBlueshyftDark',\n        light: 'IcCashierBlueshyftLight'\n      }, {\n        dark: 'IcCashierFlexepinDark',\n        light: 'IcCashierFlexepinLight'\n      }, {\n        dark: 'IcCashierPayIdDark',\n        light: 'IcCashierPayIdLight'\n      }, {\n        dark: 'IcCashierPoliDark',\n        light: 'IcCashierPoliLight'\n      }, {\n        dark: 'IcCashierApplePay',\n        light: 'IcCashierApplePay'\n      }, {\n        dark: 'IcCashierInteracEtransfer',\n        light: 'IcCashierInteracEtransfer'\n      }, {\n        dark: 'IcCashierIdeal',\n        light: 'IcCashierIdeal'\n      }, {\n        dark: 'IcCashierPostBillPayDark',\n        light: 'IcCashierPostBillPayLight'\n      }, {\n        dark: 'IcCashierSofort',\n        light: 'IcCashierSofort'\n      }];\n    },\n    getScriptDependencies: function getScriptDependencies() {\n      return [];\n    },\n    // None.\n    getDefaultFromCurrency: function getDefaultFromCurrency() {\n      return '';\n    },\n    getFromCurrencies: function getFromCurrencies() {\n      return ['*'];\n    },\n    getToCurrencies: function getToCurrencies() {\n      return ['*'];\n    },\n    getWidgetHtml: function getWidgetHtml() {\n      return new Promise(function (resolve, reject) {\n        store.WS.serviceToken({\n          service_token: 1,\n          service: 'banxa',\n          referrer: window.location.href\n        }).then(function (response) {\n          if (response.error) {\n            reject(response.error.message);\n          } else {\n            var url = response.service_token.banxa.url;\n            if (url) {\n              // Don't remove this as we can't use window.open here since it will not work on safari.\n              var link = document.createElement('a');\n              link.href = url;\n              link.target = '_blank';\n              link.click();\n            }\n\n            // Resolving empty will/should redirect user.\n            resolve('');\n          }\n        });\n      });\n    },\n    onMountWidgetContainer: function onMountWidgetContainer() {\n      return undefined;\n    },\n    should_show_deposit_address: false\n  };\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (createBanxaProvider);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9vbi1yYW1wL29uLXJhbXAtcHJvdmlkZXJzLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBR0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9jYXNoaWVyLy4vcGFnZXMvb24tcmFtcC9vbi1yYW1wLXByb3ZpZGVycy50cz8xMDJlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGxvY2FsaXplIH0gZnJvbSAnQGRlcml2L3RyYW5zbGF0aW9ucyc7XG5pbXBvcnQgT25SYW1wU3RvcmUgZnJvbSAnLi4vLi4vc3RvcmVzL29uLXJhbXAtc3RvcmUnO1xuXG5jb25zdCBjcmVhdGVCYW54YVByb3ZpZGVyID0gKHN0b3JlOiBPblJhbXBTdG9yZSkgPT4gKHtcbiAgICBpY29uOiB7IGRhcms6ICdJY0Nhc2hpZXJCYW54YURhcmsnLCBsaWdodDogJ0ljQ2FzaGllckJhbnhhTGlnaHQnIH0sXG4gICAgbmFtZTogJ0JhbnhhJyxcbiAgICBnZXREZXNjcmlwdGlvbjogKCkgPT5cbiAgICAgICAgbG9jYWxpemUoXG4gICAgICAgICAgICAnQSBmYXN0IGFuZCBzZWN1cmUgZmlhdC10by1jcnlwdG8gcGF5bWVudCBzZXJ2aWNlLiBEZXBvc2l0IGNyeXB0b2N1cnJlbmNpZXMgZnJvbSBhbnl3aGVyZSBpbiB0aGUgd29ybGQgdXNpbmcgeW91ciBjcmVkaXQvZGViaXQgY2FyZHMgYW5kIGJhbmsgdHJhbnNmZXJzLidcbiAgICAgICAgKSxcbiAgICBnZXRBbGxvd2VkUmVzaWRlbmNpZXM6ICgpID0+IFsnKiddLFxuICAgIGdldFBheW1lbnRJY29uczogKCkgPT4gW1xuICAgICAgICB7IGRhcms6ICdJY0Nhc2hpZXJWaXNhRGFyaycsIGxpZ2h0OiAnSWNDYXNoaWVyVmlzYUxpZ2h0JyB9LFxuICAgICAgICB7IGRhcms6ICdJY0Nhc2hpZXJNYXN0ZXJjYXJkRGFyaycsIGxpZ2h0OiAnSWNDYXNoaWVyTWFzdGVyY2FyZExpZ2h0JyB9LFxuICAgICAgICB7IGRhcms6ICdJY0Nhc2hpZXJCcGF5RGFyaycsIGxpZ2h0OiAnSWNDYXNoaWVyQnBheUxpZ2h0JyB9LFxuICAgICAgICB7IGRhcms6ICdJY0Nhc2hpZXJTZXBhRGFyaycsIGxpZ2h0OiAnSWNDYXNoaWVyU2VwYUxpZ2h0JyB9LFxuICAgICAgICB7IGRhcms6ICdJY0Nhc2hpZXJCbHVlc2h5ZnREYXJrJywgbGlnaHQ6ICdJY0Nhc2hpZXJCbHVlc2h5ZnRMaWdodCcgfSxcbiAgICAgICAgeyBkYXJrOiAnSWNDYXNoaWVyRmxleGVwaW5EYXJrJywgbGlnaHQ6ICdJY0Nhc2hpZXJGbGV4ZXBpbkxpZ2h0JyB9LFxuICAgICAgICB7IGRhcms6ICdJY0Nhc2hpZXJQYXlJZERhcmsnLCBsaWdodDogJ0ljQ2FzaGllclBheUlkTGlnaHQnIH0sXG4gICAgICAgIHsgZGFyazogJ0ljQ2FzaGllclBvbGlEYXJrJywgbGlnaHQ6ICdJY0Nhc2hpZXJQb2xpTGlnaHQnIH0sXG4gICAgICAgIHsgZGFyazogJ0ljQ2FzaGllckFwcGxlUGF5JywgbGlnaHQ6ICdJY0Nhc2hpZXJBcHBsZVBheScgfSxcbiAgICAgICAgeyBkYXJrOiAnSWNDYXNoaWVySW50ZXJhY0V0cmFuc2ZlcicsIGxpZ2h0OiAnSWNDYXNoaWVySW50ZXJhY0V0cmFuc2ZlcicgfSxcbiAgICAgICAgeyBkYXJrOiAnSWNDYXNoaWVySWRlYWwnLCBsaWdodDogJ0ljQ2FzaGllcklkZWFsJyB9LFxuICAgICAgICB7IGRhcms6ICdJY0Nhc2hpZXJQb3N0QmlsbFBheURhcmsnLCBsaWdodDogJ0ljQ2FzaGllclBvc3RCaWxsUGF5TGlnaHQnIH0sXG4gICAgICAgIHsgZGFyazogJ0ljQ2FzaGllclNvZm9ydCcsIGxpZ2h0OiAnSWNDYXNoaWVyU29mb3J0JyB9LFxuICAgIF0sXG4gICAgZ2V0U2NyaXB0RGVwZW5kZW5jaWVzOiAoKSA9PiBbXSwgLy8gTm9uZS5cbiAgICBnZXREZWZhdWx0RnJvbUN1cnJlbmN5OiAoKSA9PiAnJyxcbiAgICBnZXRGcm9tQ3VycmVuY2llczogKCkgPT4gWycqJ10sXG4gICAgZ2V0VG9DdXJyZW5jaWVzOiAoKSA9PiBbJyonXSxcbiAgICBnZXRXaWRnZXRIdG1sOiAoKSA9PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBzdG9yZS5XUy5zZXJ2aWNlVG9rZW4oe1xuICAgICAgICAgICAgICAgIHNlcnZpY2VfdG9rZW46IDEsXG4gICAgICAgICAgICAgICAgc2VydmljZTogJ2JhbnhhJyxcbiAgICAgICAgICAgICAgICByZWZlcnJlcjogd2luZG93LmxvY2F0aW9uLmhyZWYsXG4gICAgICAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KHJlc3BvbnNlLmVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdXJsIH0gPSByZXNwb25zZS5zZXJ2aWNlX3Rva2VuLmJhbnhhO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICh1cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHJlbW92ZSB0aGlzIGFzIHdlIGNhbid0IHVzZSB3aW5kb3cub3BlbiBoZXJlIHNpbmNlIGl0IHdpbGwgbm90IHdvcmsgb24gc2FmYXJpLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsuaHJlZiA9IHVybDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmsudGFyZ2V0ID0gJ19ibGFuayc7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBSZXNvbHZpbmcgZW1wdHkgd2lsbC9zaG91bGQgcmVkaXJlY3QgdXNlci5cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgb25Nb3VudFdpZGdldENvbnRhaW5lcjogKCkgPT4gdW5kZWZpbmVkLFxuICAgIHNob3VsZF9zaG93X2RlcG9zaXRfYWRkcmVzczogZmFsc2UsXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgY3JlYXRlQmFueGFQcm92aWRlcjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./pages/on-ramp/on-ramp-providers.ts\n")},"./stores/account-transfer-store.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ AccountTransferStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ "mobx");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ "@deriv/shared");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @deriv/translations */ "@deriv/translations");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _pages_account_transfer_account_transfer_get_selected_error__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../pages/account-transfer/account-transfer-get-selected-error */ "./pages/account-transfer/account-transfer-get-selected-error/index.ts");\n/* harmony import */ var _error_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./error-store */ "./stores/error-store.ts");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\n\n\n\n\nvar hasTransferNotAllowedLoginid = function hasTransferNotAllowedLoginid(loginid) {\n  return loginid === null || loginid === void 0 ? void 0 : loginid.startsWith(\'MX\');\n};\nvar AccountTransferStore = /*#__PURE__*/function () {\n  function AccountTransferStore(WS, root_store) {\n    var _this = this;\n    _classCallCheck(this, AccountTransferStore);\n    this.WS = WS;\n    this.root_store = root_store;\n    this.accounts_list = [];\n    this.error = new _error_store__WEBPACK_IMPORTED_MODULE_4__["default"]();\n    this.has_no_account = false;\n    this.has_no_accounts_balance = false;\n    this.is_transfer_confirm = false;\n    this.is_transfer_successful = false;\n    this.is_mt5_transfer_in_progress = false;\n    this.minimum_fee = null;\n    this.receipt = {\n      amount_transferred: \'\'\n    };\n    this.selected_from = {};\n    this.selected_to = {};\n    this.account_transfer_amount = \'\';\n    this.should_switch_account = false;\n    this.transfer_fee = null;\n    this.transfer_limit = {};\n    this.requestTransferBetweenAccounts = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref) {\n        var amount, _this$root_store, client, modules, common, setLoading, is_from_derivgo, is_logged_in, responseMt5LoginList, responseTradingPlatformAccountsList, setAccountStatus, setBalanceOtherAccounts, is_mt_transfer, currency, transfer_between_accounts, account_status_response, _transfer_between_acc;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              amount = _ref.amount;\n              _this$root_store = _this.root_store, client = _this$root_store.client, modules = _this$root_store.modules, common = _this$root_store.common;\n              setLoading = modules.cashier.general_store.setLoading;\n              is_from_derivgo = common.is_from_derivgo;\n              is_logged_in = client.is_logged_in, responseMt5LoginList = client.responseMt5LoginList, responseTradingPlatformAccountsList = client.responseTradingPlatformAccountsList, setAccountStatus = client.setAccountStatus, setBalanceOtherAccounts = client.setBalanceOtherAccounts;\n              if (is_logged_in) {\n                _context.next = 7;\n                break;\n              }\n              return _context.abrupt("return", null);\n            case 7:\n              setLoading(true);\n              _this.error.setErrorMessage({\n                code: \'\',\n                message: \'\'\n              });\n              is_mt_transfer = _this.selected_from.is_mt || _this.selected_to.is_mt;\n              if (is_mt_transfer) _this.setIsMT5TransferInProgress(true);\n              currency = _this.selected_from.currency;\n              _context.next = 14;\n              return _this.WS.authorized.transferBetweenAccounts(_this.selected_from.value, _this.selected_to.value, currency, amount);\n            case 14:\n              transfer_between_accounts = _context.sent;\n              if (!is_from_derivgo && transfer_between_accounts && Array.isArray(transfer_between_accounts.accounts)) {\n                transfer_between_accounts.accounts = transfer_between_accounts.accounts || [];\n              }\n              if (is_mt_transfer) _this.setIsMT5TransferInProgress(false);\n              if (!transfer_between_accounts.error) {\n                _context.next = 26;\n                break;\n              }\n              if (!(transfer_between_accounts.error.code === \'Fiat2CryptoTransferOverLimit\')) {\n                _context.next = 23;\n                break;\n              }\n              _context.next = 21;\n              return _this.WS.authorized.getAccountStatus();\n            case 21:\n              account_status_response = _context.sent;\n              if (!account_status_response.error) {\n                setAccountStatus(account_status_response.get_account_status);\n              }\n            case 23:\n              _this.error.setErrorMessage(transfer_between_accounts.error);\n              _context.next = 30;\n              break;\n            case 26:\n              _this.setReceiptTransfer({\n                amount: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.formatMoney)(currency || \'\', amount, true)\n              });\n              (_transfer_between_acc = transfer_between_accounts.accounts) === null || _transfer_between_acc === void 0 || _transfer_between_acc.forEach(function (account) {\n                _this.setBalanceByLoginId(account.loginid || \'\', account.balance || \'\');\n                if (account.loginid === _this.selected_from.value) {\n                  _this.setBalanceSelectedFrom(account.balance || \'\');\n                } else if (account.loginid === _this.selected_to.value) {\n                  _this.setBalanceSelectedTo(account.balance || \'\');\n                }\n                // if one of the accounts was mt5\n                if (account.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5) {\n                  Promise.all([_this.WS.mt5LoginList(), _this.WS.balanceAll()]).then(function (_ref3) {\n                    var _ref4 = _slicedToArray(_ref3, 2),\n                      mt5_login_list_response = _ref4[0],\n                      balance_response = _ref4[1];\n                    // update the balance for account switcher by renewing the mt5_login_list response\n                    responseMt5LoginList(mt5_login_list_response);\n                    // update total balance since MT5 total only comes in non-stream balance call\n                    setBalanceOtherAccounts(balance_response.balance);\n                  });\n                }\n                // if one of the accounts was dxtrade\n                if (account.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE) {\n                  Promise.all([_this.WS.tradingPlatformAccountsList(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE), _this.WS.balanceAll()]).then(function (_ref5) {\n                    var _ref6 = _slicedToArray(_ref5, 2),\n                      dxtrade_login_list_response = _ref6[0],\n                      balance_response = _ref6[1];\n                    // update the balance for account switcher by renewing the dxtrade_login_list_response\n                    responseTradingPlatformAccountsList(dxtrade_login_list_response);\n                    // update total balance since Dxtrade total only comes in non-stream balance call\n                    setBalanceOtherAccounts(balance_response.balance);\n                  });\n                }\n                // if one of the accounts was ctrader\n                if (account.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.CTRADER) {\n                  Promise.all([_this.WS.tradingPlatformAccountsList(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.CTRADER), _this.WS.balanceAll()]).then(function (_ref7) {\n                    var _ref8 = _slicedToArray(_ref7, 2),\n                      ctrader_login_list_response = _ref8[0],\n                      balance_response = _ref8[1];\n                    // update the balance for account switcher by renewing the ctrader_login_list_response\n                    responseTradingPlatformAccountsList(ctrader_login_list_response);\n                    setBalanceOtherAccounts(balance_response.balance);\n                  });\n                }\n              });\n              _this.setAccountTransferAmount(null);\n              _this.setIsTransferConfirm(true);\n            case 30:\n              setLoading(false);\n              return _context.abrupt("return", transfer_between_accounts);\n            case 32:\n            case "end":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    this.resetAccountTransfer = /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _this.setIsTransferConfirm(false);\n            _this.setTransferLimit();\n          case 2:\n          case "end":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(this, {\n      accounts_list: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      error: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      has_no_account: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      has_no_accounts_balance: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_transfer_confirm: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_transfer_successful: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_mt5_transfer_in_progress: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      minimum_fee: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      receipt: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      selected_from: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      selected_to: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      account_transfer_amount: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      should_switch_account: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      transfer_fee: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      transfer_limit: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_transfer_locked: mobx__WEBPACK_IMPORTED_MODULE_0__.computed,\n      setBalanceByLoginId: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setBalanceSelectedFrom: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setBalanceSelectedTo: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onMountAccountTransfer: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setHasNoAccountsBalance: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setHasNoAccount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setTransferFee: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setMinimumFee: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setTransferLimit: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      sortAccountsTransfer: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setSelectedFrom: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setSelectedTo: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setAccounts: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsTransferConfirm: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setAccountTransferAmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsTransferSuccessful: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsMT5TransferInProgress: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setReceiptTransfer: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onChangeTransferFrom: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onChangeTransferTo: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      resetAccountTransfer: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setTransferPercentageSelectorResult: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setShouldSwitchAccount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      validateTransferFromAmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      validateTransferToAmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n  }\n  return _createClass(AccountTransferStore, [{\n    key: "is_transfer_locked",\n    get: function get() {\n      var _this$root_store$clie = this.root_store.client,\n        is_financial_account = _this$root_store$clie.is_financial_account,\n        is_financial_information_incomplete = _this$root_store$clie.is_financial_information_incomplete,\n        is_trading_experience_incomplete = _this$root_store$clie.is_trading_experience_incomplete,\n        account_status = _this$root_store$clie.account_status;\n      if (!(account_status !== null && account_status !== void 0 && account_status.status)) return false;\n      var need_financial_assessment = is_financial_account && (is_financial_information_incomplete || is_trading_experience_incomplete);\n      return need_financial_assessment && this.error.is_ask_financial_risk_approval;\n    }\n  }, {\n    key: "setShouldSwitchAccount",\n    value: function setShouldSwitchAccount(value) {\n      this.should_switch_account = value;\n    }\n  }, {\n    key: "setBalanceByLoginId",\n    value: function setBalanceByLoginId(loginid, balance) {\n      var account = this.accounts_list.find(function (acc) {\n        return loginid === acc.value;\n      });\n      if (account) account.balance = balance;\n    }\n  }, {\n    key: "setBalanceSelectedFrom",\n    value: function setBalanceSelectedFrom(balance) {\n      this.selected_from.balance = balance;\n    }\n  }, {\n    key: "setBalanceSelectedTo",\n    value: function setBalanceSelectedTo(balance) {\n      this.selected_to.balance = balance;\n    }\n\n    // possible transfers:\n    // 1. fiat to crypto & vice versa\n    // 2. fiat to mt & vice versa\n    // 3. crypto to mt & vice versa\n  }, {\n    key: "onMountAccountTransfer",\n    value: function () {\n      var _onMountAccountTransfer = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var _this$root_store2, client, common, modules, _modules$cashier$gene, onMountCommon, setLoading, setOnRemount, active_accounts, is_logged_in, is_from_derivgo, is_from_outside_cashier, has_updated_account_balance, _this$accounts_list, transfer_between_accounts, cfd_transfer_to_login_id, obj_values;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _this$root_store2 = this.root_store, client = _this$root_store2.client, common = _this$root_store2.common, modules = _this$root_store2.modules;\n              _modules$cashier$gene = modules.cashier.general_store, onMountCommon = _modules$cashier$gene.onMountCommon, setLoading = _modules$cashier$gene.setLoading, setOnRemount = _modules$cashier$gene.setOnRemount;\n              active_accounts = client.active_accounts, is_logged_in = client.is_logged_in;\n              is_from_derivgo = common.is_from_derivgo, is_from_outside_cashier = common.is_from_outside_cashier;\n              setLoading(true);\n              setOnRemount(this.onMountAccountTransfer);\n              _context3.next = 8;\n              return onMountCommon();\n            case 8:\n              _context3.next = 10;\n              return this.WS.wait(\'website_status\');\n            case 10:\n              // check if some balance update has come in since the last mount\n              has_updated_account_balance = this.has_no_accounts_balance && Object.keys(active_accounts).find(function (account) {\n                return !active_accounts[Number(account)].is_virtual && active_accounts[Number(account)].balance;\n              });\n              if (has_updated_account_balance) {\n                this.setHasNoAccountsBalance(false);\n              }\n\n              // various issues happen when loading from cache\n              // e.g. new account may have been created, transfer may have been done elsewhere, etc\n              // so on load of this page just call it again\n              if (!is_logged_in) {\n                _context3.next = 29;\n                break;\n              }\n              _context3.next = 15;\n              return this.WS.authorized.transferBetweenAccounts();\n            case 15:\n              transfer_between_accounts = _context3.sent;\n              if (!transfer_between_accounts.error) {\n                _context3.next = 20;\n                break;\n              }\n              this.error.setErrorMessage(transfer_between_accounts.error, this.onMountAccountTransfer);\n              setLoading(false);\n              return _context3.abrupt("return");\n            case 20:\n              if (!is_from_derivgo) {\n                transfer_between_accounts.accounts = transfer_between_accounts.accounts || [];\n              }\n              if (this.canDoAccountTransfer(transfer_between_accounts.accounts)) {\n                _context3.next = 23;\n                break;\n              }\n              return _context3.abrupt("return");\n            case 23:\n              _context3.next = 25;\n              return this.sortAccountsTransfer(transfer_between_accounts, is_from_derivgo, is_from_outside_cashier);\n            case 25:\n              this.setTransferFee();\n              this.setMinimumFee();\n              this.setTransferLimit();\n              if (((_this$accounts_list = this.accounts_list) === null || _this$accounts_list === void 0 ? void 0 : _this$accounts_list.length) > 0) {\n                cfd_transfer_to_login_id = sessionStorage.getItem(\'cfd_transfer_to_login_id\');\n                sessionStorage.removeItem(\'cfd_transfer_to_login_id\');\n                obj_values = this.accounts_list.find(function (account) {\n                  return account.value === cfd_transfer_to_login_id;\n                });\n                if (obj_values) {\n                  if (hasTransferNotAllowedLoginid(obj_values.value)) {\n                    // check if selected to is not allowed account\n                    obj_values.error = (0,_pages_account_transfer_account_transfer_get_selected_error__WEBPACK_IMPORTED_MODULE_3__["default"])(obj_values.value);\n                  }\n                  this.setSelectedTo(obj_values);\n                }\n              }\n            case 29:\n              setLoading(false);\n            case 30:\n            case "end":\n              return _context3.stop();\n          }\n        }, _callee3, this);\n      }));\n      function onMountAccountTransfer() {\n        return _onMountAccountTransfer.apply(this, arguments);\n      }\n      return onMountAccountTransfer;\n    }()\n  }, {\n    key: "canDoAccountTransfer",\n    value: function canDoAccountTransfer(accounts) {\n      var can_transfer = true;\n      // should have at least one account with balance\n      if (!(accounts !== null && accounts !== void 0 && accounts.find(function (account) {\n        return Number(account.balance) > 0;\n      }))) {\n        can_transfer = false;\n        this.setHasNoAccountsBalance(true);\n      } else {\n        this.setHasNoAccountsBalance(false);\n      }\n      // should have at least two real-money accounts\n      if (accounts && accounts.length <= 1) {\n        can_transfer = false;\n        this.setHasNoAccount(true);\n      } else {\n        this.setHasNoAccount(false);\n      }\n      if (!can_transfer) {\n        this.root_store.modules.cashier.general_store.setLoading(false);\n      }\n      return can_transfer;\n    }\n  }, {\n    key: "setHasNoAccountsBalance",\n    value: function setHasNoAccountsBalance(has_no_accounts_balance) {\n      this.has_no_accounts_balance = has_no_accounts_balance;\n    }\n  }, {\n    key: "setHasNoAccount",\n    value: function setHasNoAccount(has_no_account) {\n      this.has_no_account = has_no_account;\n    }\n  }, {\n    key: "setTransferFee",\n    value: function setTransferFee() {\n      var transfer_fee = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getPropertyValue)((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getCurrencies)(), [this.selected_from.currency || \'\', \'transfer_between_accounts\', \'fees\', this.selected_to.currency || \'\']);\n      this.transfer_fee = Number(transfer_fee || 0);\n    }\n  }, {\n    key: "setMinimumFee",\n    value: function setMinimumFee() {\n      var decimals = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getDecimalPlaces)(this.selected_from.currency || \'\');\n      // we need .toFixed() so that it doesn\'t display in scientific notation, e.g. 1e-8 for currencies with 8 decimal places\n      this.minimum_fee = (1 / Math.pow(10, decimals)).toFixed(decimals);\n    }\n  }, {\n    key: "setTransferLimit",\n    value: function setTransferLimit() {\n      var _transfer_limits$find;\n      var transfer_limits = [{\n        limits: \'limits_mt5\',\n        is_transfer: this.selected_from.is_mt || this.selected_to.is_mt\n      }, {\n        limits: \'limits_dxtrade\',\n        is_transfer: this.selected_from.is_dxtrade || this.selected_to.is_dxtrade\n      }, {\n        limits: \'limits_ctrader\',\n        is_transfer: this.selected_from.is_ctrader || this.selected_to.is_ctrader\n      }];\n      var limits_key = ((_transfer_limits$find = transfer_limits.find(function (option) {\n        return option.is_transfer;\n      })) === null || _transfer_limits$find === void 0 ? void 0 : _transfer_limits$find.limits) || \'limits\';\n      var transfer_limit = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getPropertyValue)((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getCurrencies)(), [this.selected_from.currency || \'\', \'transfer_between_accounts\', limits_key]);\n      var balance = this.selected_from.balance;\n      var decimal_places = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getDecimalPlaces)(this.selected_from.currency || \'\');\n      // we need .toFixed() so that it doesn\'t display in scientific notation, e.g. 1e-8 for currencies with 8 decimal places\n      this.transfer_limit = {\n        max: !(transfer_limit !== null && transfer_limit !== void 0 && transfer_limit.max) || Number(balance) >= ((transfer_limit === null || transfer_limit === void 0 ? void 0 : transfer_limit.min) || 0) && Number(balance) <= (transfer_limit === null || transfer_limit === void 0 ? void 0 : transfer_limit.max) ? balance : transfer_limit === null || transfer_limit === void 0 ? void 0 : transfer_limit.max.toFixed(decimal_places),\n        min: transfer_limit !== null && transfer_limit !== void 0 && transfer_limit.min ? (+(transfer_limit === null || transfer_limit === void 0 ? void 0 : transfer_limit.min)).toFixed(decimal_places) : \'\'\n      };\n    }\n\n    // Using Partial for type to bypass \'msg_type\' and \'echo_req\' from response type\n  }, {\n    key: "sortAccountsTransfer",\n    value: function () {\n      var _sortAccountsTransfer = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(response_accounts, is_from_derivgo, is_from_outside_cashier) {\n        var _yield$this$WS$storag,\n          _yield$this$WS$tradin,\n          _yield$this$WS$tradin2,\n          _transfer_between_acc2,\n          _this2 = this;\n        var transfer_between_accounts, mt5_login_list, dxtrade_accounts_list, ctrader_accounts_list, accounts, arr_accounts;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.t0 = response_accounts;\n              if (_context4.t0) {\n                _context4.next = 5;\n                break;\n              }\n              _context4.next = 4;\n              return this.WS.authorized.transferBetweenAccounts();\n            case 4:\n              _context4.t0 = _context4.sent;\n            case 5:\n              transfer_between_accounts = _context4.t0;\n              if (this.accounts_list.length) {\n                _context4.next = 9;\n                break;\n              }\n              if (!transfer_between_accounts.error) {\n                _context4.next = 9;\n                break;\n              }\n              return _context4.abrupt("return");\n            case 9:\n              if (!is_from_derivgo && transfer_between_accounts && Array.isArray(transfer_between_accounts.accounts)) {\n                transfer_between_accounts.accounts = transfer_between_accounts.accounts || [];\n              }\n              _context4.next = 12;\n              return this.WS.storage.mt5LoginList();\n            case 12:\n              _context4.t2 = _yield$this$WS$storag = _context4.sent;\n              _context4.t1 = _context4.t2 === null;\n              if (_context4.t1) {\n                _context4.next = 16;\n                break;\n              }\n              _context4.t1 = _yield$this$WS$storag === void 0;\n            case 16:\n              if (!_context4.t1) {\n                _context4.next = 20;\n                break;\n              }\n              _context4.t3 = void 0;\n              _context4.next = 21;\n              break;\n            case 20:\n              _context4.t3 = _yield$this$WS$storag.mt5_login_list;\n            case 21:\n              mt5_login_list = _context4.t3;\n              _context4.next = 24;\n              return this.WS.tradingPlatformAccountsList(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE);\n            case 24:\n              _context4.t5 = _yield$this$WS$tradin = _context4.sent;\n              _context4.t4 = _context4.t5 === null;\n              if (_context4.t4) {\n                _context4.next = 28;\n                break;\n              }\n              _context4.t4 = _yield$this$WS$tradin === void 0;\n            case 28:\n              if (!_context4.t4) {\n                _context4.next = 32;\n                break;\n              }\n              _context4.t6 = void 0;\n              _context4.next = 33;\n              break;\n            case 32:\n              _context4.t6 = _yield$this$WS$tradin.trading_platform_accounts;\n            case 33:\n              dxtrade_accounts_list = _context4.t6;\n              _context4.next = 36;\n              return this.WS.tradingPlatformAccountsList(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.CTRADER);\n            case 36:\n              _context4.t8 = _yield$this$WS$tradin2 = _context4.sent;\n              _context4.t7 = _context4.t8 === null;\n              if (_context4.t7) {\n                _context4.next = 40;\n                break;\n              }\n              _context4.t7 = _yield$this$WS$tradin2 === void 0;\n            case 40:\n              if (!_context4.t7) {\n                _context4.next = 44;\n                break;\n              }\n              _context4.t9 = void 0;\n              _context4.next = 45;\n              break;\n            case 44:\n              _context4.t9 = _yield$this$WS$tradin2.trading_platform_accounts;\n            case 45:\n              ctrader_accounts_list = _context4.t9;\n              // TODO: remove this temporary mapping when API adds market_type and sub_account_type to transfer_between_accounts\n              accounts = (_transfer_between_acc2 = transfer_between_accounts.accounts) === null || _transfer_between_acc2 === void 0 ? void 0 : _transfer_between_acc2.map(function (account) {\n                if (account.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5 && Array.isArray(mt5_login_list) && mt5_login_list.length) {\n                  // account_type in transfer_between_accounts (mt5|binary)\n                  // gets overridden by account_type in mt5_login_list (demo|real)\n                  // since in cashier all these are real accounts, the mt5 account type is what we want to keep\n                  var found_account = mt5_login_list.find(function (acc) {\n                    return acc.login === account.loginid;\n                  });\n                  if (found_account === undefined) return account;\n                  return _objectSpread(_objectSpread(_objectSpread({}, account), found_account), {}, {\n                    account_type: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5\n                  });\n                }\n                if (account.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.CTRADER && Array.isArray(ctrader_accounts_list) && ctrader_accounts_list.length) {\n                  var _found_account = ctrader_accounts_list.find(function (acc) {\n                    return acc.account_id === account.loginid;\n                  });\n                  if (_found_account === undefined) return account;\n                  return _objectSpread(_objectSpread(_objectSpread({}, account), _found_account), {}, {\n                    account_type: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.CTRADER\n                  });\n                }\n                if (account.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE && Array.isArray(dxtrade_accounts_list) && dxtrade_accounts_list.length) {\n                  // account_type in transfer_between_accounts (mt5|binary)\n                  // gets overridden by account_type in dxtrade_accounts_list (demo|real)\n                  // since in cashier all these are real accounts, the mt5 account type is what we want to keep\n                  var _found_account2 = dxtrade_accounts_list.find(function (acc) {\n                    return acc.account_id === account.loginid;\n                  });\n                  if (_found_account2 === undefined) return account;\n                  return _objectSpread(_objectSpread(_objectSpread({}, account), _found_account2), {}, {\n                    account_type: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE\n                  });\n                }\n                return account;\n              }); // sort accounts as follows:\n              // for MT5, synthetic, financial, financial stp\n              // for non-MT5, fiat, crypto (alphabetically by currency)\n              // should have more than one account\n              if (transfer_between_accounts.accounts && transfer_between_accounts.accounts.length > 1) {\n                accounts === null || accounts === void 0 || accounts.sort(function (a, b) {\n                  var a_is_mt = a.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5;\n                  var b_is_mt = b.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5;\n                  var a_is_crypto = !a_is_mt && (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isCryptocurrency)(a.currency || \'\');\n                  var b_is_crypto = !b_is_mt && (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isCryptocurrency)(b.currency || \'\');\n                  var a_is_fiat = !a_is_mt && !a_is_crypto;\n                  var b_is_fiat = !b_is_mt && !b_is_crypto;\n                  if (a_is_mt && b_is_mt) {\n                    if (a.market_type === \'synthetic\') {\n                      return -1;\n                    }\n                    // Remove (\'sub_account_type\' in a) when api-types is updated\n                    if (\'sub_account_type\' in a && a.sub_account_type === \'financial\') {\n                      return b.market_type === \'synthetic\' ? 1 : -1;\n                    }\n                    return 1;\n                  } else if (a_is_crypto && b_is_crypto || a_is_fiat && b_is_fiat) {\n                    return a.currency && b.currency && a.currency < b.currency ? -1 : 1;\n                  } else if (a_is_crypto && b_is_mt || a_is_fiat && b_is_crypto || a_is_fiat && b_is_mt) {\n                    return -1;\n                  }\n                  return a_is_mt ? -1 : 1;\n                });\n              }\n              arr_accounts = [];\n              this.setSelectedTo({}); // set selected to empty each time so we can redetermine its value on reload\n\n              accounts === null || accounts === void 0 || accounts.forEach(function (account) {\n                var _cfd_platforms, _cfd_platforms2, _account$landing_comp, _account$landing_comp2, _account$landing_comp3, _account$currency, _this2$root_store$tra;\n                var cfd_platforms = {\n                  mt5: {\n                    name: \'Deriv MT5\',\n                    icon: \'IcMt5\'\n                  },\n                  ctrader: {\n                    name: \'Deriv cTrader\',\n                    icon: \'IcBrand\'\n                  },\n                  dxtrade: {\n                    name: \'Deriv X\',\n                    icon: \'IcRebranding\'\n                  }\n                };\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                var is_cfd = Object.keys(cfd_platforms).includes(account.account_type);\n                var cfd_text_display = (_cfd_platforms = cfd_platforms[account.account_type]) === null || _cfd_platforms === void 0 ? void 0 : _cfd_platforms.name;\n                var cfd_icon_display = "".concat((_cfd_platforms2 = cfd_platforms[account.account_type]) === null || _cfd_platforms2 === void 0 ? void 0 : _cfd_platforms2.icon).concat( true && (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getCFDAccount)({\n                  market_type: account.market_type,\n                  sub_account_type: account.sub_account_type,\n                  platform: account.account_type,\n                  is_eu: _this2.root_store.client.is_eu,\n                  is_transfer_form: true\n                }) || \'\');\n                var non_eu_accounts = account.landing_company_short && account.landing_company_short !== \'svg\' && account.landing_company_short !== \'bvi\' ? ((_account$landing_comp = account.landing_company_short) === null || _account$landing_comp === void 0 ? void 0 : _account$landing_comp.charAt(0).toUpperCase()) + ((_account$landing_comp2 = account.landing_company_short) === null || _account$landing_comp2 === void 0 ? void 0 : _account$landing_comp2.slice(1)) : (_account$landing_comp3 = account.landing_company_short) === null || _account$landing_comp3 === void 0 ? void 0 : _account$landing_comp3.toUpperCase();\n                var cfd_account_text_display = account.account_type === \'mt5\' ? "".concat((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getCFDAccountDisplay)({\n                  market_type: account.market_type,\n                  sub_account_type: account.sub_account_type,\n                  platform: account.account_type,\n                  is_eu: _this2.root_store.client.is_eu,\n                  product: account.product,\n                  shortcode: account.landing_company_short\n                }), " ").concat(_this2.root_store.client.is_eu ? \'\' : non_eu_accounts) : "".concat(cfd_text_display, " ").concat((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getCFDAccountDisplay)({\n                  market_type: account.market_type,\n                  sub_account_type: account.sub_account_type,\n                  platform: account.account_type,\n                  is_eu: _this2.root_store.client.is_eu,\n                  is_transfer_form: true,\n                  product: account.product\n                }) || \'\');\n                var account_text_display = is_cfd ? cfd_account_text_display : (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getCurrencyDisplayCode)(account.currency !== \'eUSDT\' ? (_account$currency = account.currency) === null || _account$currency === void 0 ? void 0 : _account$currency.toUpperCase() : account.currency);\n                var combined_cfd_mt5_account = (_this2$root_store$tra = _this2.root_store.traders_hub) === null || _this2$root_store$tra === void 0 ? void 0 : _this2$root_store$tra.combined_cfd_mt5_accounts.find(function (x) {\n                  return x.login === account.login;\n                });\n                var short_code_and_region = combined_cfd_mt5_account !== null && combined_cfd_mt5_account !== void 0 && combined_cfd_mt5_account.short_code_and_region ? " ".concat(combined_cfd_mt5_account === null || combined_cfd_mt5_account === void 0 ? void 0 : combined_cfd_mt5_account.short_code_and_region) : \'\';\n                var obj_values = _objectSpread({\n                  text: is_cfd && account.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5 && combined_cfd_mt5_account ? "".concat(combined_cfd_mt5_account.sub_title).concat(short_code_and_region) : account_text_display,\n                  value: account.loginid,\n                  balance: account.balance,\n                  currency: account.currency,\n                  is_crypto: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isCryptocurrency)(account.currency),\n                  is_mt: account.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5,\n                  is_ctrader: account.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.CTRADER,\n                  is_dxtrade: account.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE\n                }, is_cfd && {\n                  platform_icon: account.account_type === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5 && combined_cfd_mt5_account ? combined_cfd_mt5_account.icon : cfd_icon_display,\n                  status: account === null || account === void 0 ? void 0 : account.status,\n                  market_type: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getCFDAccount)({\n                    market_type: account.market_type,\n                    sub_account_type: account.sub_account_type,\n                    platform: account.account_type,\n                    is_eu: _this2.root_store.client.is_eu\n                  })\n                });\n\n                // set current logged in client as the default transfer from account\n                if (account.loginid === _this2.root_store.client.loginid) {\n                  // check if selected from is not allowed account\n                  if (hasTransferNotAllowedLoginid(obj_values.value)) {\n                    obj_values.error = (0,_pages_account_transfer_account_transfer_get_selected_error__WEBPACK_IMPORTED_MODULE_3__["default"])(obj_values.value, true);\n                  }\n                  _this2.setSelectedFrom(obj_values);\n                } else if ((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isEmptyObject)(_this2.selected_to)) {\n                  var _this2$root_store$tra2, _this2$root_store$tra3;\n                  if (hasTransferNotAllowedLoginid(obj_values.value)) {\n                    // check if selected to is not allowed account\n                    obj_values.error = (0,_pages_account_transfer_account_transfer_get_selected_error__WEBPACK_IMPORTED_MODULE_3__["default"])(obj_values.value);\n                  }\n                  var login = (_this2$root_store$tra2 = _this2.root_store.traders_hub) === null || _this2$root_store$tra2 === void 0 ? void 0 : _this2$root_store$tra2.selected_account.login;\n                  var account_id = (_this2$root_store$tra3 = _this2.root_store.traders_hub) === null || _this2$root_store$tra3 === void 0 ? void 0 : _this2$root_store$tra3.selected_account.account_id;\n\n                  //if from appstore -> set selected account as the default transfer to account\n                  //if not from appstore -> set the first available account as the default transfer to account\n                  if (!is_from_outside_cashier || [account_id, login].includes(account.loginid)) {\n                    _this2.setSelectedTo(obj_values);\n                  }\n                }\n                arr_accounts.push(obj_values);\n              });\n              this.setAccounts(arr_accounts);\n            case 52:\n            case "end":\n              return _context4.stop();\n          }\n        }, _callee4, this);\n      }));\n      function sortAccountsTransfer(_x2, _x3, _x4) {\n        return _sortAccountsTransfer.apply(this, arguments);\n      }\n      return sortAccountsTransfer;\n    }()\n  }, {\n    key: "setSelectedFrom",\n    value: function setSelectedFrom(obj_values) {\n      this.selected_from = obj_values;\n    }\n  }, {\n    key: "setSelectedTo",\n    value: function setSelectedTo(obj_values) {\n      this.selected_to = obj_values;\n    }\n  }, {\n    key: "setAccounts",\n    value: function setAccounts(arr_accounts) {\n      this.accounts_list = arr_accounts;\n    }\n  }, {\n    key: "setIsTransferConfirm",\n    value: function setIsTransferConfirm(is_transfer_confirm) {\n      this.is_transfer_confirm = is_transfer_confirm;\n    }\n  }, {\n    key: "setAccountTransferAmount",\n    value: function setAccountTransferAmount(amount) {\n      this.account_transfer_amount = amount;\n    }\n  }, {\n    key: "setIsTransferSuccessful",\n    value: function setIsTransferSuccessful(is_transfer_successful) {\n      this.is_transfer_successful = is_transfer_successful;\n    }\n  }, {\n    key: "setIsMT5TransferInProgress",\n    value: function setIsMT5TransferInProgress(is_mt5_transfer_in_progress) {\n      this.is_mt5_transfer_in_progress = is_mt5_transfer_in_progress;\n    }\n  }, {\n    key: "setReceiptTransfer",\n    value: function setReceiptTransfer(_ref10) {\n      var amount = _ref10.amount;\n      this.receipt = {\n        amount_transferred: amount\n      };\n    }\n  }, {\n    key: "onChangeTransferFrom",\n    value: function onChangeTransferFrom(_ref11) {\n      var _this3 = this;\n      var target = _ref11.target;\n      this.error.setErrorMessage({\n        code: \'\',\n        message: \'\'\n      });\n      this.selected_from.error = \'\';\n      var accounts = this.accounts_list;\n      var selected_from = accounts.find(function (account) {\n        return account.value === target.value;\n      });\n      var platforms = [\'is_mt\', \'is_ctrader\', \'is_dxtrade\'];\n      var isBetweenCFDsTransfer = platforms.some(function (from_platform) {\n        return platforms.some(function (to_platform) {\n          var _this3$selected_to;\n          return (selected_from === null || selected_from === void 0 ? void 0 : selected_from[from_platform]) && ((_this3$selected_to = _this3.selected_to) === null || _this3$selected_to === void 0 ? void 0 : _this3$selected_to[to_platform]);\n        });\n      });\n\n      // if new value of selected_from is the same as the current selected_to\n      // switch the value of selected_from and selected_to\n      if ((selected_from === null || selected_from === void 0 ? void 0 : selected_from.value) === this.selected_to.value) {\n        this.onChangeTransferTo({\n          target: {\n            value: this.selected_from.value\n          }\n        });\n      } else if (isBetweenCFDsTransfer) {\n        // not allowed to transfer from MT5 to MT5\n        // not allowed to transfer from DerivX to DerivX\n        // not allowed to transfer from cTrader to cTrader\n        // not allowed to transfer between MT5 and DerivX and visa versa\n        // not allowed to transfer between DerivX and cTrader and visa versa\n        // not allowed to transfer between MT5 and cTrader and visa versa\n        // if new value of selected_from is different from selected_to\n        // switch the value of selected_to to current client loginid\n        this.onChangeTransferTo({\n          target: {\n            value: this.root_store.client.loginid\n          }\n        });\n      }\n      if (selected_from && hasTransferNotAllowedLoginid(selected_from === null || selected_from === void 0 ? void 0 : selected_from.value)) {\n        selected_from.error = (0,_pages_account_transfer_account_transfer_get_selected_error__WEBPACK_IMPORTED_MODULE_3__["default"])(selected_from === null || selected_from === void 0 ? void 0 : selected_from.value, true);\n      }\n      this.selected_from = selected_from || {};\n      this.setTransferFee();\n      this.setMinimumFee();\n      this.setTransferLimit();\n    }\n  }, {\n    key: "onChangeTransferTo",\n    value: function onChangeTransferTo(_ref12) {\n      var target = _ref12.target;\n      this.error.setErrorMessage({\n        code: \'\',\n        message: \'\'\n      });\n      this.selected_to.error = \'\';\n      var accounts = this.accounts_list;\n      this.selected_to = accounts.find(function (account) {\n        return account.value === target.value;\n      }) || {};\n      if (hasTransferNotAllowedLoginid(this.selected_to.value)) {\n        this.selected_to.error = (0,_pages_account_transfer_account_transfer_get_selected_error__WEBPACK_IMPORTED_MODULE_3__["default"])(this.selected_to.value);\n      }\n      this.setTransferFee();\n      this.setMinimumFee();\n      this.setTransferLimit();\n    }\n  }, {\n    key: "setTransferPercentageSelectorResult",\n    value: function setTransferPercentageSelectorResult(amount, exchanged_amount) {\n      var _this$root_store$modu = this.root_store.modules.cashier,\n        crypto_fiat_converter = _this$root_store$modu.crypto_fiat_converter,\n        general_store = _this$root_store$modu.general_store;\n      var selected_from_currency = this.selected_from.currency;\n      var selected_to_currency = this.selected_to.currency;\n      if (Number(amount) > 0 || Number(this.selected_from.balance) === 0) {\n        crypto_fiat_converter.setConverterFromAmount(amount);\n        this.validateTransferFromAmount();\n        crypto_fiat_converter.onChangeConverterFromAmount({\n          target: {\n            value: amount\n          }\n        }, selected_from_currency, selected_to_currency, exchanged_amount);\n      } else {\n        crypto_fiat_converter.resetConverter();\n      }\n      crypto_fiat_converter.setIsTimerVisible(false);\n      general_store.percentageSelectorSelectionStatus(false);\n    }\n  }, {\n    key: "validateTransferFromAmount",\n    value: function validateTransferFromAmount() {\n      var _this$root_store$modu2, _this$root_store$modu3;\n      var converter_from_amount = (_this$root_store$modu2 = this.root_store.modules.cashier) === null || _this$root_store$modu2 === void 0 ? void 0 : _this$root_store$modu2.crypto_fiat_converter.converter_from_amount;\n      var setConverterFromError = (_this$root_store$modu3 = this.root_store.modules.cashier) === null || _this$root_store$modu3 === void 0 ? void 0 : _this$root_store$modu3.crypto_fiat_converter.setConverterFromError;\n      if (!converter_from_amount) {\n        setConverterFromError((0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)(\'This field is required.\'));\n      } else {\n        var _validNumber = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.validNumber)(converter_from_amount, {\n            type: \'float\',\n            decimals: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getDecimalPlaces)(this.selected_from.currency || \'\'),\n            min: Number(this.transfer_limit.min),\n            max: Number(this.transfer_limit.max)\n          }),\n          is_ok = _validNumber.is_ok,\n          message = _validNumber.message;\n        if (!is_ok) {\n          setConverterFromError(message || \'\');\n        } else if (Number(this.selected_from.balance) < Number(converter_from_amount)) {\n          setConverterFromError((0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)(\'Insufficient funds\'));\n        } else {\n          setConverterFromError(\'\');\n        }\n      }\n    }\n  }, {\n    key: "validateTransferToAmount",\n    value: function validateTransferToAmount() {\n      var _this$root_store$modu4, _this$root_store$modu5;\n      var converter_to_amount = (_this$root_store$modu4 = this.root_store.modules.cashier) === null || _this$root_store$modu4 === void 0 ? void 0 : _this$root_store$modu4.crypto_fiat_converter.converter_to_amount;\n      var setConverterToError = (_this$root_store$modu5 = this.root_store.modules.cashier) === null || _this$root_store$modu5 === void 0 ? void 0 : _this$root_store$modu5.crypto_fiat_converter.setConverterToError;\n      if (converter_to_amount) {\n        var currency = this.selected_to.currency;\n        var _validNumber2 = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.validNumber)(converter_to_amount, {\n            type: \'float\',\n            decimals: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getDecimalPlaces)(currency || \'\')\n          }),\n          is_ok = _validNumber2.is_ok,\n          message = _validNumber2.message;\n        if (!is_ok) {\n          setConverterToError(message || \'\');\n        } else {\n          setConverterToError(\'\');\n        }\n      }\n    }\n  }]);\n}();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvYWNjb3VudC10cmFuc2Zlci1zdG9yZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBR0E7QUFhQTtBQUVBO0FBR0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBR0E7QUFBQTtBQUFBO0FBRkE7QUFDQTtBQStDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMmRBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBSUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFNQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUEzbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBRUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUE1REE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUErREE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBTUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUVBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBT0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFNQTtBQUNBO0FBQUE7QUFHQTtBQUlBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQW5OQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXNOQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUF5R0E7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQUFBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9jYXNoaWVyLy4vc3RvcmVzL2FjY291bnQtdHJhbnNmZXItc3RvcmUudHM/M2MyZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhY3Rpb24sIGNvbXB1dGVkLCBtYWtlT2JzZXJ2YWJsZSwgb2JzZXJ2YWJsZSB9IGZyb20gJ21vYngnO1xuXG5pbXBvcnQgdHlwZSB7IFRyYW5zZmVyQmV0d2VlbkFjY291bnRzUmVzcG9uc2UgfSBmcm9tICdAZGVyaXYvYXBpLXR5cGVzJztcbmltcG9ydCB7XG4gICAgQ0ZEX1BMQVRGT1JNUyxcbiAgICBmb3JtYXRNb25leSxcbiAgICBnZXRDRkRBY2NvdW50LFxuICAgIGdldENGREFjY291bnREaXNwbGF5LFxuICAgIGdldEN1cnJlbmNpZXMsXG4gICAgZ2V0Q3VycmVuY3lEaXNwbGF5Q29kZSxcbiAgICBnZXREZWNpbWFsUGxhY2VzLFxuICAgIGdldFByb3BlcnR5VmFsdWUsXG4gICAgaXNDcnlwdG9jdXJyZW5jeSxcbiAgICBpc0VtcHR5T2JqZWN0LFxuICAgIHZhbGlkTnVtYmVyLFxufSBmcm9tICdAZGVyaXYvc2hhcmVkJztcbmltcG9ydCB7IGxvY2FsaXplIH0gZnJvbSAnQGRlcml2L3RyYW5zbGF0aW9ucyc7XG5cbmltcG9ydCBBY2NvdW50VHJhbnNmZXJHZXRTZWxlY3RlZEVycm9yIGZyb20gJy4uL3BhZ2VzL2FjY291bnQtdHJhbnNmZXIvYWNjb3VudC10cmFuc2Zlci1nZXQtc2VsZWN0ZWQtZXJyb3InO1xuaW1wb3J0IHR5cGUgeyBUQWNjb3VudCwgVFBsYXRmb3JtSWNvbiwgVFJvb3RTdG9yZSwgVFRyYW5zZmVyQWNjb3VudCwgVFdlYlNvY2tldCB9IGZyb20gJy4uL3R5cGVzJztcblxuaW1wb3J0IEVycm9yU3RvcmUgZnJvbSAnLi9lcnJvci1zdG9yZSc7XG5cbmNvbnN0IGhhc1RyYW5zZmVyTm90QWxsb3dlZExvZ2luaWQgPSAobG9naW5pZD86IHN0cmluZykgPT4gbG9naW5pZD8uc3RhcnRzV2l0aCgnTVgnKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWNjb3VudFRyYW5zZmVyU3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgV1M6IFRXZWJTb2NrZXQsXG4gICAgICAgIHB1YmxpYyByb290X3N0b3JlOiBUUm9vdFN0b3JlXG4gICAgKSB7XG4gICAgICAgIG1ha2VPYnNlcnZhYmxlKHRoaXMsIHtcbiAgICAgICAgICAgIGFjY291bnRzX2xpc3Q6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBlcnJvcjogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGhhc19ub19hY2NvdW50OiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaGFzX25vX2FjY291bnRzX2JhbGFuY2U6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc190cmFuc2Zlcl9jb25maXJtOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfdHJhbnNmZXJfc3VjY2Vzc2Z1bDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGlzX210NV90cmFuc2Zlcl9pbl9wcm9ncmVzczogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIG1pbmltdW1fZmVlOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgcmVjZWlwdDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIHNlbGVjdGVkX2Zyb206IG9ic2VydmFibGUsXG4gICAgICAgICAgICBzZWxlY3RlZF90bzogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGFjY291bnRfdHJhbnNmZXJfYW1vdW50OiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgc2hvdWxkX3N3aXRjaF9hY2NvdW50OiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgdHJhbnNmZXJfZmVlOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgdHJhbnNmZXJfbGltaXQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc190cmFuc2Zlcl9sb2NrZWQ6IGNvbXB1dGVkLFxuICAgICAgICAgICAgc2V0QmFsYW5jZUJ5TG9naW5JZDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0QmFsYW5jZVNlbGVjdGVkRnJvbTogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0QmFsYW5jZVNlbGVjdGVkVG86IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uTW91bnRBY2NvdW50VHJhbnNmZXI6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldEhhc05vQWNjb3VudHNCYWxhbmNlOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRIYXNOb0FjY291bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldFRyYW5zZmVyRmVlOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRNaW5pbXVtRmVlOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRUcmFuc2ZlckxpbWl0OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzb3J0QWNjb3VudHNUcmFuc2ZlcjogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0U2VsZWN0ZWRGcm9tOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRTZWxlY3RlZFRvOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRBY2NvdW50czogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0SXNUcmFuc2ZlckNvbmZpcm06IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldEFjY291bnRUcmFuc2ZlckFtb3VudDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0SXNUcmFuc2ZlclN1Y2Nlc3NmdWw6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldElzTVQ1VHJhbnNmZXJJblByb2dyZXNzOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRSZWNlaXB0VHJhbnNmZXI6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uQ2hhbmdlVHJhbnNmZXJGcm9tOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBvbkNoYW5nZVRyYW5zZmVyVG86IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHJlc2V0QWNjb3VudFRyYW5zZmVyOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRUcmFuc2ZlclBlcmNlbnRhZ2VTZWxlY3RvclJlc3VsdDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0U2hvdWxkU3dpdGNoQWNjb3VudDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgdmFsaWRhdGVUcmFuc2ZlckZyb21BbW91bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHZhbGlkYXRlVHJhbnNmZXJUb0Ftb3VudDogYWN0aW9uLmJvdW5kLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBhY2NvdW50c19saXN0OiBUQWNjb3VudFtdID0gW107XG4gICAgZXJyb3IgPSBuZXcgRXJyb3JTdG9yZSgpO1xuICAgIGhhc19ub19hY2NvdW50ID0gZmFsc2U7XG4gICAgaGFzX25vX2FjY291bnRzX2JhbGFuY2UgPSBmYWxzZTtcbiAgICBpc190cmFuc2Zlcl9jb25maXJtID0gZmFsc2U7XG4gICAgaXNfdHJhbnNmZXJfc3VjY2Vzc2Z1bCA9IGZhbHNlO1xuICAgIGlzX210NV90cmFuc2Zlcl9pbl9wcm9ncmVzcyA9IGZhbHNlO1xuICAgIG1pbmltdW1fZmVlOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICByZWNlaXB0ID0ge1xuICAgICAgICBhbW91bnRfdHJhbnNmZXJyZWQ6ICcnLFxuICAgIH07XG4gICAgc2VsZWN0ZWRfZnJvbTogVEFjY291bnQgPSB7fTtcbiAgICBzZWxlY3RlZF90bzogVEFjY291bnQgPSB7fTtcbiAgICBhY2NvdW50X3RyYW5zZmVyX2Ftb3VudDogc3RyaW5nIHwgbnVsbCA9ICcnO1xuICAgIHNob3VsZF9zd2l0Y2hfYWNjb3VudCA9IGZhbHNlO1xuICAgIHRyYW5zZmVyX2ZlZT86IG51bWJlciB8IG51bGwgPSBudWxsO1xuICAgIHRyYW5zZmVyX2xpbWl0OiB7IG1pbj86IHN0cmluZyB8IG51bWJlcjsgbWF4Pzogc3RyaW5nIHwgbnVtYmVyIH0gPSB7fTtcblxuICAgIGdldCBpc190cmFuc2Zlcl9sb2NrZWQoKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGlzX2ZpbmFuY2lhbF9hY2NvdW50LFxuICAgICAgICAgICAgaXNfZmluYW5jaWFsX2luZm9ybWF0aW9uX2luY29tcGxldGUsXG4gICAgICAgICAgICBpc190cmFkaW5nX2V4cGVyaWVuY2VfaW5jb21wbGV0ZSxcbiAgICAgICAgICAgIGFjY291bnRfc3RhdHVzLFxuICAgICAgICB9ID0gdGhpcy5yb290X3N0b3JlLmNsaWVudDtcblxuICAgICAgICBpZiAoIWFjY291bnRfc3RhdHVzPy5zdGF0dXMpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjb25zdCBuZWVkX2ZpbmFuY2lhbF9hc3Nlc3NtZW50ID1cbiAgICAgICAgICAgIGlzX2ZpbmFuY2lhbF9hY2NvdW50ICYmIChpc19maW5hbmNpYWxfaW5mb3JtYXRpb25faW5jb21wbGV0ZSB8fCBpc190cmFkaW5nX2V4cGVyaWVuY2VfaW5jb21wbGV0ZSk7XG5cbiAgICAgICAgcmV0dXJuIG5lZWRfZmluYW5jaWFsX2Fzc2Vzc21lbnQgJiYgdGhpcy5lcnJvci5pc19hc2tfZmluYW5jaWFsX3Jpc2tfYXBwcm92YWw7XG4gICAgfVxuXG4gICAgc2V0U2hvdWxkU3dpdGNoQWNjb3VudCh2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLnNob3VsZF9zd2l0Y2hfYWNjb3VudCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHNldEJhbGFuY2VCeUxvZ2luSWQobG9naW5pZDogc3RyaW5nLCBiYWxhbmNlOiBzdHJpbmcgfCBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgYWNjb3VudCA9IHRoaXMuYWNjb3VudHNfbGlzdC5maW5kKGFjYyA9PiBsb2dpbmlkID09PSBhY2MudmFsdWUpO1xuICAgICAgICBpZiAoYWNjb3VudCkgYWNjb3VudC5iYWxhbmNlID0gYmFsYW5jZTtcbiAgICB9XG5cbiAgICBzZXRCYWxhbmNlU2VsZWN0ZWRGcm9tKGJhbGFuY2U6IHN0cmluZyB8IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLnNlbGVjdGVkX2Zyb20uYmFsYW5jZSA9IGJhbGFuY2U7XG4gICAgfVxuXG4gICAgc2V0QmFsYW5jZVNlbGVjdGVkVG8oYmFsYW5jZTogc3RyaW5nIHwgbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRfdG8uYmFsYW5jZSA9IGJhbGFuY2U7XG4gICAgfVxuXG4gICAgLy8gcG9zc2libGUgdHJhbnNmZXJzOlxuICAgIC8vIDEuIGZpYXQgdG8gY3J5cHRvICYgdmljZSB2ZXJzYVxuICAgIC8vIDIuIGZpYXQgdG8gbXQgJiB2aWNlIHZlcnNhXG4gICAgLy8gMy4gY3J5cHRvIHRvIG10ICYgdmljZSB2ZXJzYVxuICAgIGFzeW5jIG9uTW91bnRBY2NvdW50VHJhbnNmZXIoKSB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50LCBjb21tb24sIG1vZHVsZXMgfSA9IHRoaXMucm9vdF9zdG9yZTtcbiAgICAgICAgY29uc3QgeyBvbk1vdW50Q29tbW9uLCBzZXRMb2FkaW5nLCBzZXRPblJlbW91bnQgfSA9IG1vZHVsZXMuY2FzaGllci5nZW5lcmFsX3N0b3JlO1xuICAgICAgICBjb25zdCB7IGFjdGl2ZV9hY2NvdW50cywgaXNfbG9nZ2VkX2luIH0gPSBjbGllbnQ7XG4gICAgICAgIGNvbnN0IHsgaXNfZnJvbV9kZXJpdmdvLCBpc19mcm9tX291dHNpZGVfY2FzaGllciB9ID0gY29tbW9uO1xuXG4gICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIHNldE9uUmVtb3VudCh0aGlzLm9uTW91bnRBY2NvdW50VHJhbnNmZXIpO1xuICAgICAgICBhd2FpdCBvbk1vdW50Q29tbW9uKCk7XG4gICAgICAgIGF3YWl0IHRoaXMuV1Mud2FpdCgnd2Vic2l0ZV9zdGF0dXMnKTtcblxuICAgICAgICAvLyBjaGVjayBpZiBzb21lIGJhbGFuY2UgdXBkYXRlIGhhcyBjb21lIGluIHNpbmNlIHRoZSBsYXN0IG1vdW50XG4gICAgICAgIGNvbnN0IGhhc191cGRhdGVkX2FjY291bnRfYmFsYW5jZSA9XG4gICAgICAgICAgICB0aGlzLmhhc19ub19hY2NvdW50c19iYWxhbmNlICYmXG4gICAgICAgICAgICBPYmplY3Qua2V5cyhhY3RpdmVfYWNjb3VudHMpLmZpbmQoXG4gICAgICAgICAgICAgICAgYWNjb3VudCA9PiAhYWN0aXZlX2FjY291bnRzW051bWJlcihhY2NvdW50KV0uaXNfdmlydHVhbCAmJiBhY3RpdmVfYWNjb3VudHNbTnVtYmVyKGFjY291bnQpXS5iYWxhbmNlXG4gICAgICAgICAgICApO1xuICAgICAgICBpZiAoaGFzX3VwZGF0ZWRfYWNjb3VudF9iYWxhbmNlKSB7XG4gICAgICAgICAgICB0aGlzLnNldEhhc05vQWNjb3VudHNCYWxhbmNlKGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHZhcmlvdXMgaXNzdWVzIGhhcHBlbiB3aGVuIGxvYWRpbmcgZnJvbSBjYWNoZVxuICAgICAgICAvLyBlLmcuIG5ldyBhY2NvdW50IG1heSBoYXZlIGJlZW4gY3JlYXRlZCwgdHJhbnNmZXIgbWF5IGhhdmUgYmVlbiBkb25lIGVsc2V3aGVyZSwgZXRjXG4gICAgICAgIC8vIHNvIG9uIGxvYWQgb2YgdGhpcyBwYWdlIGp1c3QgY2FsbCBpdCBhZ2FpblxuICAgICAgICBpZiAoaXNfbG9nZ2VkX2luKSB7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzID0gYXdhaXQgdGhpcy5XUy5hdXRob3JpemVkLnRyYW5zZmVyQmV0d2VlbkFjY291bnRzKCk7XG5cbiAgICAgICAgICAgIGlmICh0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvci5zZXRFcnJvck1lc3NhZ2UodHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50cy5lcnJvciwgdGhpcy5vbk1vdW50QWNjb3VudFRyYW5zZmVyKTtcbiAgICAgICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghaXNfZnJvbV9kZXJpdmdvKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50cy5hY2NvdW50cyA9IHRyYW5zZmVyX2JldHdlZW5fYWNjb3VudHMuYWNjb3VudHMgfHwgW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdGhpcy5jYW5Eb0FjY291bnRUcmFuc2Zlcih0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzLmFjY291bnRzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXdhaXQgdGhpcy5zb3J0QWNjb3VudHNUcmFuc2Zlcih0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzLCBpc19mcm9tX2Rlcml2Z28sIGlzX2Zyb21fb3V0c2lkZV9jYXNoaWVyKTtcbiAgICAgICAgICAgIHRoaXMuc2V0VHJhbnNmZXJGZWUoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0TWluaW11bUZlZSgpO1xuICAgICAgICAgICAgdGhpcy5zZXRUcmFuc2ZlckxpbWl0KCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmFjY291bnRzX2xpc3Q/Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjZmRfdHJhbnNmZXJfdG9fbG9naW5faWQgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjZmRfdHJhbnNmZXJfdG9fbG9naW5faWQnKTtcbiAgICAgICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCdjZmRfdHJhbnNmZXJfdG9fbG9naW5faWQnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBvYmpfdmFsdWVzID0gdGhpcy5hY2NvdW50c19saXN0LmZpbmQoYWNjb3VudCA9PiBhY2NvdW50LnZhbHVlID09PSBjZmRfdHJhbnNmZXJfdG9fbG9naW5faWQpO1xuICAgICAgICAgICAgICAgIGlmIChvYmpfdmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNUcmFuc2Zlck5vdEFsbG93ZWRMb2dpbmlkKG9ial92YWx1ZXMudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBzZWxlY3RlZCB0byBpcyBub3QgYWxsb3dlZCBhY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmpfdmFsdWVzLmVycm9yID0gQWNjb3VudFRyYW5zZmVyR2V0U2VsZWN0ZWRFcnJvcihvYmpfdmFsdWVzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkVG8ob2JqX3ZhbHVlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cblxuICAgIGNhbkRvQWNjb3VudFRyYW5zZmVyKGFjY291bnRzOiBUcmFuc2ZlckJldHdlZW5BY2NvdW50c1Jlc3BvbnNlWydhY2NvdW50cyddKSB7XG4gICAgICAgIGxldCBjYW5fdHJhbnNmZXIgPSB0cnVlO1xuICAgICAgICAvLyBzaG91bGQgaGF2ZSBhdCBsZWFzdCBvbmUgYWNjb3VudCB3aXRoIGJhbGFuY2VcbiAgICAgICAgaWYgKCFhY2NvdW50cz8uZmluZChhY2NvdW50ID0+IE51bWJlcihhY2NvdW50LmJhbGFuY2UpID4gMCkpIHtcbiAgICAgICAgICAgIGNhbl90cmFuc2ZlciA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5zZXRIYXNOb0FjY291bnRzQmFsYW5jZSh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0SGFzTm9BY2NvdW50c0JhbGFuY2UoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNob3VsZCBoYXZlIGF0IGxlYXN0IHR3byByZWFsLW1vbmV5IGFjY291bnRzXG4gICAgICAgIGlmIChhY2NvdW50cyAmJiBhY2NvdW50cy5sZW5ndGggPD0gMSkge1xuICAgICAgICAgICAgY2FuX3RyYW5zZmVyID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnNldEhhc05vQWNjb3VudCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2V0SGFzTm9BY2NvdW50KGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNhbl90cmFuc2Zlcikge1xuICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLm1vZHVsZXMuY2FzaGllci5nZW5lcmFsX3N0b3JlLnNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYW5fdHJhbnNmZXI7XG4gICAgfVxuXG4gICAgc2V0SGFzTm9BY2NvdW50c0JhbGFuY2UoaGFzX25vX2FjY291bnRzX2JhbGFuY2U6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5oYXNfbm9fYWNjb3VudHNfYmFsYW5jZSA9IGhhc19ub19hY2NvdW50c19iYWxhbmNlO1xuICAgIH1cblxuICAgIHNldEhhc05vQWNjb3VudChoYXNfbm9fYWNjb3VudDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB0aGlzLmhhc19ub19hY2NvdW50ID0gaGFzX25vX2FjY291bnQ7XG4gICAgfVxuXG4gICAgc2V0VHJhbnNmZXJGZWUoKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zZmVyX2ZlZSA9IGdldFByb3BlcnR5VmFsdWUoZ2V0Q3VycmVuY2llcygpLCBbXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkX2Zyb20uY3VycmVuY3kgfHwgJycsXG4gICAgICAgICAgICAndHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50cycsXG4gICAgICAgICAgICAnZmVlcycsXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkX3RvLmN1cnJlbmN5IHx8ICcnLFxuICAgICAgICBdKTtcbiAgICAgICAgdGhpcy50cmFuc2Zlcl9mZWUgPSBOdW1iZXIodHJhbnNmZXJfZmVlIHx8IDApO1xuICAgIH1cblxuICAgIHNldE1pbmltdW1GZWUoKSB7XG4gICAgICAgIGNvbnN0IGRlY2ltYWxzID0gZ2V0RGVjaW1hbFBsYWNlcyh0aGlzLnNlbGVjdGVkX2Zyb20uY3VycmVuY3kgfHwgJycpO1xuICAgICAgICAvLyB3ZSBuZWVkIC50b0ZpeGVkKCkgc28gdGhhdCBpdCBkb2Vzbid0IGRpc3BsYXkgaW4gc2NpZW50aWZpYyBub3RhdGlvbiwgZS5nLiAxZS04IGZvciBjdXJyZW5jaWVzIHdpdGggOCBkZWNpbWFsIHBsYWNlc1xuICAgICAgICB0aGlzLm1pbmltdW1fZmVlID0gKDEgLyAxMCAqKiBkZWNpbWFscykudG9GaXhlZChkZWNpbWFscyk7XG4gICAgfVxuXG4gICAgc2V0VHJhbnNmZXJMaW1pdCgpIHtcbiAgICAgICAgY29uc3QgdHJhbnNmZXJfbGltaXRzID0gW1xuICAgICAgICAgICAgeyBsaW1pdHM6ICdsaW1pdHNfbXQ1JywgaXNfdHJhbnNmZXI6IHRoaXMuc2VsZWN0ZWRfZnJvbS5pc19tdCB8fCB0aGlzLnNlbGVjdGVkX3RvLmlzX210IH0sXG4gICAgICAgICAgICB7IGxpbWl0czogJ2xpbWl0c19keHRyYWRlJywgaXNfdHJhbnNmZXI6IHRoaXMuc2VsZWN0ZWRfZnJvbS5pc19keHRyYWRlIHx8IHRoaXMuc2VsZWN0ZWRfdG8uaXNfZHh0cmFkZSB9LFxuICAgICAgICAgICAgeyBsaW1pdHM6ICdsaW1pdHNfY3RyYWRlcicsIGlzX3RyYW5zZmVyOiB0aGlzLnNlbGVjdGVkX2Zyb20uaXNfY3RyYWRlciB8fCB0aGlzLnNlbGVjdGVkX3RvLmlzX2N0cmFkZXIgfSxcbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCBsaW1pdHNfa2V5ID0gdHJhbnNmZXJfbGltaXRzLmZpbmQob3B0aW9uID0+IG9wdGlvbi5pc190cmFuc2Zlcik/LmxpbWl0cyB8fCAnbGltaXRzJztcblxuICAgICAgICBjb25zdCB0cmFuc2Zlcl9saW1pdCA9IGdldFByb3BlcnR5VmFsdWUoZ2V0Q3VycmVuY2llcygpLCBbXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkX2Zyb20uY3VycmVuY3kgfHwgJycsXG4gICAgICAgICAgICAndHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50cycsXG4gICAgICAgICAgICBsaW1pdHNfa2V5LFxuICAgICAgICBdKTtcbiAgICAgICAgY29uc3QgYmFsYW5jZSA9IHRoaXMuc2VsZWN0ZWRfZnJvbS5iYWxhbmNlO1xuICAgICAgICBjb25zdCBkZWNpbWFsX3BsYWNlcyA9IGdldERlY2ltYWxQbGFjZXModGhpcy5zZWxlY3RlZF9mcm9tLmN1cnJlbmN5IHx8ICcnKTtcbiAgICAgICAgLy8gd2UgbmVlZCAudG9GaXhlZCgpIHNvIHRoYXQgaXQgZG9lc24ndCBkaXNwbGF5IGluIHNjaWVudGlmaWMgbm90YXRpb24sIGUuZy4gMWUtOCBmb3IgY3VycmVuY2llcyB3aXRoIDggZGVjaW1hbCBwbGFjZXNcbiAgICAgICAgdGhpcy50cmFuc2Zlcl9saW1pdCA9IHtcbiAgICAgICAgICAgIG1heDpcbiAgICAgICAgICAgICAgICAhdHJhbnNmZXJfbGltaXQ/Lm1heCB8fFxuICAgICAgICAgICAgICAgIChOdW1iZXIoYmFsYW5jZSkgPj0gKHRyYW5zZmVyX2xpbWl0Py5taW4gfHwgMCkgJiYgTnVtYmVyKGJhbGFuY2UpIDw9IHRyYW5zZmVyX2xpbWl0Py5tYXgpXG4gICAgICAgICAgICAgICAgICAgID8gYmFsYW5jZVxuICAgICAgICAgICAgICAgICAgICA6IHRyYW5zZmVyX2xpbWl0Py5tYXgudG9GaXhlZChkZWNpbWFsX3BsYWNlcyksXG4gICAgICAgICAgICBtaW46IHRyYW5zZmVyX2xpbWl0Py5taW4gPyAoK3RyYW5zZmVyX2xpbWl0Py5taW4pLnRvRml4ZWQoZGVjaW1hbF9wbGFjZXMpIDogJycsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gVXNpbmcgUGFydGlhbCBmb3IgdHlwZSB0byBieXBhc3MgJ21zZ190eXBlJyBhbmQgJ2VjaG9fcmVxJyBmcm9tIHJlc3BvbnNlIHR5cGVcbiAgICBhc3luYyBzb3J0QWNjb3VudHNUcmFuc2ZlcihcbiAgICAgICAgcmVzcG9uc2VfYWNjb3VudHM/OiBQYXJ0aWFsPFRyYW5zZmVyQmV0d2VlbkFjY291bnRzUmVzcG9uc2U+IHwgbnVsbCxcbiAgICAgICAgaXNfZnJvbV9kZXJpdmdvPzogYm9vbGVhbixcbiAgICAgICAgaXNfZnJvbV9vdXRzaWRlX2Nhc2hpZXI/OiBib29sZWFuXG4gICAgKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zZmVyX2JldHdlZW5fYWNjb3VudHMgPSByZXNwb25zZV9hY2NvdW50cyB8fCAoYXdhaXQgdGhpcy5XUy5hdXRob3JpemVkLnRyYW5zZmVyQmV0d2VlbkFjY291bnRzKCkpO1xuICAgICAgICBpZiAoIXRoaXMuYWNjb3VudHNfbGlzdC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICh0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc19mcm9tX2Rlcml2Z28gJiYgdHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50cyAmJiBBcnJheS5pc0FycmF5KHRyYW5zZmVyX2JldHdlZW5fYWNjb3VudHMuYWNjb3VudHMpKSB7XG4gICAgICAgICAgICB0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzLmFjY291bnRzID0gdHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50cy5hY2NvdW50cyB8fCBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG10NV9sb2dpbl9saXN0ID0gKGF3YWl0IHRoaXMuV1Muc3RvcmFnZS5tdDVMb2dpbkxpc3QoKSk/Lm10NV9sb2dpbl9saXN0O1xuICAgICAgICAvLyBUT0RPOiBtb3ZlIGB0cmFkaW5nUGxhdGZvcm1BY2NvdW50c0xpc3RgIHRvIGRlcml2LWFwaSB0byB1c2Ugc3RvcmFnZVxuICAgICAgICBjb25zdCBkeHRyYWRlX2FjY291bnRzX2xpc3QgPSAoYXdhaXQgdGhpcy5XUy50cmFkaW5nUGxhdGZvcm1BY2NvdW50c0xpc3QoQ0ZEX1BMQVRGT1JNUy5EWFRSQURFKSlcbiAgICAgICAgICAgID8udHJhZGluZ19wbGF0Zm9ybV9hY2NvdW50cztcblxuICAgICAgICBjb25zdCBjdHJhZGVyX2FjY291bnRzX2xpc3QgPSAoYXdhaXQgdGhpcy5XUy50cmFkaW5nUGxhdGZvcm1BY2NvdW50c0xpc3QoQ0ZEX1BMQVRGT1JNUy5DVFJBREVSKSlcbiAgICAgICAgICAgID8udHJhZGluZ19wbGF0Zm9ybV9hY2NvdW50cztcblxuICAgICAgICAvLyBUT0RPOiByZW1vdmUgdGhpcyB0ZW1wb3JhcnkgbWFwcGluZyB3aGVuIEFQSSBhZGRzIG1hcmtldF90eXBlIGFuZCBzdWJfYWNjb3VudF90eXBlIHRvIHRyYW5zZmVyX2JldHdlZW5fYWNjb3VudHNcbiAgICAgICAgY29uc3QgYWNjb3VudHMgPSB0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzLmFjY291bnRzPy5tYXAoYWNjb3VudCA9PiB7XG4gICAgICAgICAgICBpZiAoYWNjb3VudC5hY2NvdW50X3R5cGUgPT09IENGRF9QTEFURk9STVMuTVQ1ICYmIEFycmF5LmlzQXJyYXkobXQ1X2xvZ2luX2xpc3QpICYmIG10NV9sb2dpbl9saXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIGFjY291bnRfdHlwZSBpbiB0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzIChtdDV8YmluYXJ5KVxuICAgICAgICAgICAgICAgIC8vIGdldHMgb3ZlcnJpZGRlbiBieSBhY2NvdW50X3R5cGUgaW4gbXQ1X2xvZ2luX2xpc3QgKGRlbW98cmVhbClcbiAgICAgICAgICAgICAgICAvLyBzaW5jZSBpbiBjYXNoaWVyIGFsbCB0aGVzZSBhcmUgcmVhbCBhY2NvdW50cywgdGhlIG10NSBhY2NvdW50IHR5cGUgaXMgd2hhdCB3ZSB3YW50IHRvIGtlZXBcbiAgICAgICAgICAgICAgICBjb25zdCBmb3VuZF9hY2NvdW50ID0gbXQ1X2xvZ2luX2xpc3QuZmluZChhY2MgPT4gYWNjLmxvZ2luID09PSBhY2NvdW50LmxvZ2luaWQpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kX2FjY291bnQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGFjY291bnQ7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5hY2NvdW50LCAuLi5mb3VuZF9hY2NvdW50LCBhY2NvdW50X3R5cGU6IENGRF9QTEFURk9STVMuTVQ1IH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgYWNjb3VudC5hY2NvdW50X3R5cGUgPT09IENGRF9QTEFURk9STVMuQ1RSQURFUiAmJlxuICAgICAgICAgICAgICAgIEFycmF5LmlzQXJyYXkoY3RyYWRlcl9hY2NvdW50c19saXN0KSAmJlxuICAgICAgICAgICAgICAgIGN0cmFkZXJfYWNjb3VudHNfbGlzdC5sZW5ndGhcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kX2FjY291bnQgPSBjdHJhZGVyX2FjY291bnRzX2xpc3QuZmluZChhY2MgPT4gYWNjLmFjY291bnRfaWQgPT09IGFjY291bnQubG9naW5pZCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoZm91bmRfYWNjb3VudCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gYWNjb3VudDtcblxuICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLmFjY291bnQsIC4uLmZvdW5kX2FjY291bnQsIGFjY291bnRfdHlwZTogQ0ZEX1BMQVRGT1JNUy5DVFJBREVSIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgYWNjb3VudC5hY2NvdW50X3R5cGUgPT09IENGRF9QTEFURk9STVMuRFhUUkFERSAmJlxuICAgICAgICAgICAgICAgIEFycmF5LmlzQXJyYXkoZHh0cmFkZV9hY2NvdW50c19saXN0KSAmJlxuICAgICAgICAgICAgICAgIGR4dHJhZGVfYWNjb3VudHNfbGlzdC5sZW5ndGhcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIC8vIGFjY291bnRfdHlwZSBpbiB0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzIChtdDV8YmluYXJ5KVxuICAgICAgICAgICAgICAgIC8vIGdldHMgb3ZlcnJpZGRlbiBieSBhY2NvdW50X3R5cGUgaW4gZHh0cmFkZV9hY2NvdW50c19saXN0IChkZW1vfHJlYWwpXG4gICAgICAgICAgICAgICAgLy8gc2luY2UgaW4gY2FzaGllciBhbGwgdGhlc2UgYXJlIHJlYWwgYWNjb3VudHMsIHRoZSBtdDUgYWNjb3VudCB0eXBlIGlzIHdoYXQgd2Ugd2FudCB0byBrZWVwXG4gICAgICAgICAgICAgICAgY29uc3QgZm91bmRfYWNjb3VudCA9IGR4dHJhZGVfYWNjb3VudHNfbGlzdC5maW5kKGFjYyA9PiBhY2MuYWNjb3VudF9pZCA9PT0gYWNjb3VudC5sb2dpbmlkKTtcblxuICAgICAgICAgICAgICAgIGlmIChmb3VuZF9hY2NvdW50ID09PSB1bmRlZmluZWQpIHJldHVybiBhY2NvdW50O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgLi4uYWNjb3VudCwgLi4uZm91bmRfYWNjb3VudCwgYWNjb3VudF90eXBlOiBDRkRfUExBVEZPUk1TLkRYVFJBREUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhY2NvdW50O1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gc29ydCBhY2NvdW50cyBhcyBmb2xsb3dzOlxuICAgICAgICAvLyBmb3IgTVQ1LCBzeW50aGV0aWMsIGZpbmFuY2lhbCwgZmluYW5jaWFsIHN0cFxuICAgICAgICAvLyBmb3Igbm9uLU1UNSwgZmlhdCwgY3J5cHRvIChhbHBoYWJldGljYWxseSBieSBjdXJyZW5jeSlcbiAgICAgICAgLy8gc2hvdWxkIGhhdmUgbW9yZSB0aGFuIG9uZSBhY2NvdW50XG4gICAgICAgIGlmICh0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzLmFjY291bnRzICYmIHRyYW5zZmVyX2JldHdlZW5fYWNjb3VudHMuYWNjb3VudHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgYWNjb3VudHM/LnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBhX2lzX210ID0gYS5hY2NvdW50X3R5cGUgPT09IENGRF9QTEFURk9STVMuTVQ1O1xuICAgICAgICAgICAgICAgIGNvbnN0IGJfaXNfbXQgPSBiLmFjY291bnRfdHlwZSA9PT0gQ0ZEX1BMQVRGT1JNUy5NVDU7XG4gICAgICAgICAgICAgICAgY29uc3QgYV9pc19jcnlwdG8gPSAhYV9pc19tdCAmJiBpc0NyeXB0b2N1cnJlbmN5KGEuY3VycmVuY3kgfHwgJycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJfaXNfY3J5cHRvID0gIWJfaXNfbXQgJiYgaXNDcnlwdG9jdXJyZW5jeShiLmN1cnJlbmN5IHx8ICcnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhX2lzX2ZpYXQgPSAhYV9pc19tdCAmJiAhYV9pc19jcnlwdG87XG4gICAgICAgICAgICAgICAgY29uc3QgYl9pc19maWF0ID0gIWJfaXNfbXQgJiYgIWJfaXNfY3J5cHRvO1xuICAgICAgICAgICAgICAgIGlmIChhX2lzX210ICYmIGJfaXNfbXQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGEubWFya2V0X3R5cGUgPT09ICdzeW50aGV0aWMnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlICgnc3ViX2FjY291bnRfdHlwZScgaW4gYSkgd2hlbiBhcGktdHlwZXMgaXMgdXBkYXRlZFxuICAgICAgICAgICAgICAgICAgICBpZiAoJ3N1Yl9hY2NvdW50X3R5cGUnIGluIGEgJiYgYS5zdWJfYWNjb3VudF90eXBlID09PSAnZmluYW5jaWFsJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGIubWFya2V0X3R5cGUgPT09ICdzeW50aGV0aWMnID8gMSA6IC0xO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoKGFfaXNfY3J5cHRvICYmIGJfaXNfY3J5cHRvKSB8fCAoYV9pc19maWF0ICYmIGJfaXNfZmlhdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEuY3VycmVuY3kgJiYgYi5jdXJyZW5jeSAmJiBhLmN1cnJlbmN5IDwgYi5jdXJyZW5jeSA/IC0xIDogMTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKChhX2lzX2NyeXB0byAmJiBiX2lzX210KSB8fCAoYV9pc19maWF0ICYmIGJfaXNfY3J5cHRvKSB8fCAoYV9pc19maWF0ICYmIGJfaXNfbXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFfaXNfbXQgPyAtMSA6IDE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcnJfYWNjb3VudHM6IFRUcmFuc2ZlckFjY291bnQgfCBUQWNjb3VudFtdID0gW107XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRUbyh7fSk7IC8vIHNldCBzZWxlY3RlZCB0byBlbXB0eSBlYWNoIHRpbWUgc28gd2UgY2FuIHJlZGV0ZXJtaW5lIGl0cyB2YWx1ZSBvbiByZWxvYWRcblxuICAgICAgICBhY2NvdW50cz8uZm9yRWFjaCgoYWNjb3VudDogVFRyYW5zZmVyQWNjb3VudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2ZkX3BsYXRmb3JtcyA9IHtcbiAgICAgICAgICAgICAgICBtdDU6IHsgbmFtZTogJ0Rlcml2IE1UNScsIGljb246ICdJY010NScgfSxcbiAgICAgICAgICAgICAgICBjdHJhZGVyOiB7IG5hbWU6ICdEZXJpdiBjVHJhZGVyJywgaWNvbjogJ0ljQnJhbmQnIH0sXG4gICAgICAgICAgICAgICAgZHh0cmFkZTogeyBuYW1lOiAnRGVyaXYgWCcsIGljb246ICdJY1JlYnJhbmRpbmcnIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1ub24tbnVsbC1hc3NlcnRpb25cbiAgICAgICAgICAgIGNvbnN0IGlzX2NmZCA9IE9iamVjdC5rZXlzKGNmZF9wbGF0Zm9ybXMpLmluY2x1ZGVzKGFjY291bnQuYWNjb3VudF90eXBlISk7XG4gICAgICAgICAgICBjb25zdCBjZmRfdGV4dF9kaXNwbGF5ID0gY2ZkX3BsYXRmb3Jtc1thY2NvdW50LmFjY291bnRfdHlwZSBhcyBrZXlvZiB0eXBlb2YgY2ZkX3BsYXRmb3Jtc10/Lm5hbWU7XG5cbiAgICAgICAgICAgIGNvbnN0IGNmZF9pY29uX2Rpc3BsYXkgPSBgJHtjZmRfcGxhdGZvcm1zW2FjY291bnQuYWNjb3VudF90eXBlIGFzIGtleW9mIHR5cGVvZiBjZmRfcGxhdGZvcm1zXT8uaWNvbn0ke1xuICAgICAgICAgICAgICAgICgnLScgJiZcbiAgICAgICAgICAgICAgICAgICAgZ2V0Q0ZEQWNjb3VudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXRfdHlwZTogYWNjb3VudC5tYXJrZXRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Yl9hY2NvdW50X3R5cGU6IGFjY291bnQuc3ViX2FjY291bnRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtOiBhY2NvdW50LmFjY291bnRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX2V1OiB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmlzX2V1LFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfdHJhbnNmZXJfZm9ybTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSkpIHx8XG4gICAgICAgICAgICAgICAgJydcbiAgICAgICAgICAgIH1gO1xuXG4gICAgICAgICAgICBjb25zdCBub25fZXVfYWNjb3VudHMgPVxuICAgICAgICAgICAgICAgIGFjY291bnQubGFuZGluZ19jb21wYW55X3Nob3J0ICYmXG4gICAgICAgICAgICAgICAgYWNjb3VudC5sYW5kaW5nX2NvbXBhbnlfc2hvcnQgIT09ICdzdmcnICYmXG4gICAgICAgICAgICAgICAgYWNjb3VudC5sYW5kaW5nX2NvbXBhbnlfc2hvcnQgIT09ICdidmknXG4gICAgICAgICAgICAgICAgICAgID8gYWNjb3VudC5sYW5kaW5nX2NvbXBhbnlfc2hvcnQ/LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgYWNjb3VudC5sYW5kaW5nX2NvbXBhbnlfc2hvcnQ/LnNsaWNlKDEpXG4gICAgICAgICAgICAgICAgICAgIDogYWNjb3VudC5sYW5kaW5nX2NvbXBhbnlfc2hvcnQ/LnRvVXBwZXJDYXNlKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGNmZF9hY2NvdW50X3RleHRfZGlzcGxheSA9XG4gICAgICAgICAgICAgICAgYWNjb3VudC5hY2NvdW50X3R5cGUgPT09ICdtdDUnXG4gICAgICAgICAgICAgICAgICAgID8gYCR7Z2V0Q0ZEQWNjb3VudERpc3BsYXkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXRfdHlwZTogYWNjb3VudC5tYXJrZXRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViX2FjY291bnRfdHlwZTogYWNjb3VudC5zdWJfYWNjb3VudF90eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybTogYWNjb3VudC5hY2NvdW50X3R5cGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGlzX2V1OiB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmlzX2V1LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9kdWN0OiBhY2NvdW50LnByb2R1Y3QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHNob3J0Y29kZTogYWNjb3VudC5sYW5kaW5nX2NvbXBhbnlfc2hvcnQsXG4gICAgICAgICAgICAgICAgICAgICAgfSl9ICR7dGhpcy5yb290X3N0b3JlLmNsaWVudC5pc19ldSA/ICcnIDogbm9uX2V1X2FjY291bnRzfWBcbiAgICAgICAgICAgICAgICAgICAgOiBgJHtjZmRfdGV4dF9kaXNwbGF5fSAke1xuICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRDRkRBY2NvdW50RGlzcGxheSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXRfdHlwZTogYWNjb3VudC5tYXJrZXRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yl9hY2NvdW50X3R5cGU6IGFjY291bnQuc3ViX2FjY291bnRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtOiBhY2NvdW50LmFjY291bnRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX2V1OiB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmlzX2V1LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfdHJhbnNmZXJfZm9ybTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2R1Y3Q6IGFjY291bnQucHJvZHVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSkgfHwgJydcbiAgICAgICAgICAgICAgICAgICAgICB9YDtcbiAgICAgICAgICAgIGNvbnN0IGFjY291bnRfdGV4dF9kaXNwbGF5ID0gaXNfY2ZkXG4gICAgICAgICAgICAgICAgPyBjZmRfYWNjb3VudF90ZXh0X2Rpc3BsYXlcbiAgICAgICAgICAgICAgICA6IGdldEN1cnJlbmN5RGlzcGxheUNvZGUoXG4gICAgICAgICAgICAgICAgICAgICAgYWNjb3VudC5jdXJyZW5jeSAhPT0gJ2VVU0RUJyA/IGFjY291bnQuY3VycmVuY3k/LnRvVXBwZXJDYXNlKCkgOiBhY2NvdW50LmN1cnJlbmN5XG4gICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBjb25zdCBjb21iaW5lZF9jZmRfbXQ1X2FjY291bnQgPSB0aGlzLnJvb3Rfc3RvcmUudHJhZGVyc19odWI/LmNvbWJpbmVkX2NmZF9tdDVfYWNjb3VudHMuZmluZChcbiAgICAgICAgICAgICAgICB4ID0+IHgubG9naW4gPT09IGFjY291bnQubG9naW5cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNob3J0X2NvZGVfYW5kX3JlZ2lvbiA9IGNvbWJpbmVkX2NmZF9tdDVfYWNjb3VudD8uc2hvcnRfY29kZV9hbmRfcmVnaW9uXG4gICAgICAgICAgICAgICAgPyBgICR7Y29tYmluZWRfY2ZkX210NV9hY2NvdW50Py5zaG9ydF9jb2RlX2FuZF9yZWdpb259YFxuICAgICAgICAgICAgICAgIDogJyc7XG5cbiAgICAgICAgICAgIGNvbnN0IG9ial92YWx1ZXM6IFRBY2NvdW50ID0ge1xuICAgICAgICAgICAgICAgIHRleHQ6XG4gICAgICAgICAgICAgICAgICAgIGlzX2NmZCAmJiBhY2NvdW50LmFjY291bnRfdHlwZSA9PT0gQ0ZEX1BMQVRGT1JNUy5NVDUgJiYgY29tYmluZWRfY2ZkX210NV9hY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICA/IGAke2NvbWJpbmVkX2NmZF9tdDVfYWNjb3VudC5zdWJfdGl0bGV9JHtzaG9ydF9jb2RlX2FuZF9yZWdpb259YFxuICAgICAgICAgICAgICAgICAgICAgICAgOiBhY2NvdW50X3RleHRfZGlzcGxheSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogYWNjb3VudC5sb2dpbmlkLFxuICAgICAgICAgICAgICAgIGJhbGFuY2U6IGFjY291bnQuYmFsYW5jZSxcbiAgICAgICAgICAgICAgICBjdXJyZW5jeTogYWNjb3VudC5jdXJyZW5jeSxcbiAgICAgICAgICAgICAgICBpc19jcnlwdG86IGlzQ3J5cHRvY3VycmVuY3koYWNjb3VudC5jdXJyZW5jeSksXG4gICAgICAgICAgICAgICAgaXNfbXQ6IGFjY291bnQuYWNjb3VudF90eXBlID09PSBDRkRfUExBVEZPUk1TLk1UNSxcbiAgICAgICAgICAgICAgICBpc19jdHJhZGVyOiBhY2NvdW50LmFjY291bnRfdHlwZSA9PT0gQ0ZEX1BMQVRGT1JNUy5DVFJBREVSLFxuICAgICAgICAgICAgICAgIGlzX2R4dHJhZGU6IGFjY291bnQuYWNjb3VudF90eXBlID09PSBDRkRfUExBVEZPUk1TLkRYVFJBREUsXG4gICAgICAgICAgICAgICAgLi4uKGlzX2NmZCAmJiB7XG4gICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtX2ljb246XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50LmFjY291bnRfdHlwZSA9PT0gQ0ZEX1BMQVRGT1JNUy5NVDUgJiYgY29tYmluZWRfY2ZkX210NV9hY2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjb21iaW5lZF9jZmRfbXQ1X2FjY291bnQuaWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogKGNmZF9pY29uX2Rpc3BsYXkgYXMgVFBsYXRmb3JtSWNvbiksXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogYWNjb3VudD8uc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBtYXJrZXRfdHlwZTogZ2V0Q0ZEQWNjb3VudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXRfdHlwZTogYWNjb3VudC5tYXJrZXRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Yl9hY2NvdW50X3R5cGU6IGFjY291bnQuc3ViX2FjY291bnRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtOiBhY2NvdW50LmFjY291bnRfdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX2V1OiB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmlzX2V1LFxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIHNldCBjdXJyZW50IGxvZ2dlZCBpbiBjbGllbnQgYXMgdGhlIGRlZmF1bHQgdHJhbnNmZXIgZnJvbSBhY2NvdW50XG4gICAgICAgICAgICBpZiAoYWNjb3VudC5sb2dpbmlkID09PSB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmxvZ2luaWQpIHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiBzZWxlY3RlZCBmcm9tIGlzIG5vdCBhbGxvd2VkIGFjY291bnRcbiAgICAgICAgICAgICAgICBpZiAoaGFzVHJhbnNmZXJOb3RBbGxvd2VkTG9naW5pZChvYmpfdmFsdWVzLnZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBvYmpfdmFsdWVzLmVycm9yID0gQWNjb3VudFRyYW5zZmVyR2V0U2VsZWN0ZWRFcnJvcihvYmpfdmFsdWVzLnZhbHVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkRnJvbShvYmpfdmFsdWVzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNFbXB0eU9iamVjdCh0aGlzLnNlbGVjdGVkX3RvKSkge1xuICAgICAgICAgICAgICAgIGlmIChoYXNUcmFuc2Zlck5vdEFsbG93ZWRMb2dpbmlkKG9ial92YWx1ZXMudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHNlbGVjdGVkIHRvIGlzIG5vdCBhbGxvd2VkIGFjY291bnRcbiAgICAgICAgICAgICAgICAgICAgb2JqX3ZhbHVlcy5lcnJvciA9IEFjY291bnRUcmFuc2ZlckdldFNlbGVjdGVkRXJyb3Iob2JqX3ZhbHVlcy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgbG9naW4gPSB0aGlzLnJvb3Rfc3RvcmUudHJhZGVyc19odWI/LnNlbGVjdGVkX2FjY291bnQubG9naW47XG4gICAgICAgICAgICAgICAgY29uc3QgYWNjb3VudF9pZCA9IHRoaXMucm9vdF9zdG9yZS50cmFkZXJzX2h1Yj8uc2VsZWN0ZWRfYWNjb3VudC5hY2NvdW50X2lkO1xuXG4gICAgICAgICAgICAgICAgLy9pZiBmcm9tIGFwcHN0b3JlIC0+IHNldCBzZWxlY3RlZCBhY2NvdW50IGFzIHRoZSBkZWZhdWx0IHRyYW5zZmVyIHRvIGFjY291bnRcbiAgICAgICAgICAgICAgICAvL2lmIG5vdCBmcm9tIGFwcHN0b3JlIC0+IHNldCB0aGUgZmlyc3QgYXZhaWxhYmxlIGFjY291bnQgYXMgdGhlIGRlZmF1bHQgdHJhbnNmZXIgdG8gYWNjb3VudFxuICAgICAgICAgICAgICAgIGlmICghaXNfZnJvbV9vdXRzaWRlX2Nhc2hpZXIgfHwgW2FjY291bnRfaWQsIGxvZ2luXS5pbmNsdWRlcyhhY2NvdW50LmxvZ2luaWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRUbyhvYmpfdmFsdWVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhcnJfYWNjb3VudHMucHVzaChvYmpfdmFsdWVzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc2V0QWNjb3VudHMoYXJyX2FjY291bnRzKTtcbiAgICB9XG5cbiAgICBzZXRTZWxlY3RlZEZyb20ob2JqX3ZhbHVlczogVEFjY291bnQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZF9mcm9tID0gb2JqX3ZhbHVlcztcbiAgICB9XG5cbiAgICBzZXRTZWxlY3RlZFRvKG9ial92YWx1ZXM6IFRBY2NvdW50KTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRfdG8gPSBvYmpfdmFsdWVzO1xuICAgIH1cblxuICAgIHNldEFjY291bnRzKGFycl9hY2NvdW50czogVFRyYW5zZmVyQWNjb3VudFtdKSB7XG4gICAgICAgIHRoaXMuYWNjb3VudHNfbGlzdCA9IGFycl9hY2NvdW50cztcbiAgICB9XG5cbiAgICBzZXRJc1RyYW5zZmVyQ29uZmlybShpc190cmFuc2Zlcl9jb25maXJtOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaXNfdHJhbnNmZXJfY29uZmlybSA9IGlzX3RyYW5zZmVyX2NvbmZpcm07XG4gICAgfVxuXG4gICAgc2V0QWNjb3VudFRyYW5zZmVyQW1vdW50KGFtb3VudDogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xuICAgICAgICB0aGlzLmFjY291bnRfdHJhbnNmZXJfYW1vdW50ID0gYW1vdW50O1xuICAgIH1cblxuICAgIHNldElzVHJhbnNmZXJTdWNjZXNzZnVsKGlzX3RyYW5zZmVyX3N1Y2Nlc3NmdWw6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pc190cmFuc2Zlcl9zdWNjZXNzZnVsID0gaXNfdHJhbnNmZXJfc3VjY2Vzc2Z1bDtcbiAgICB9XG5cbiAgICBzZXRJc01UNVRyYW5zZmVySW5Qcm9ncmVzcyhpc19tdDVfdHJhbnNmZXJfaW5fcHJvZ3Jlc3M6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pc19tdDVfdHJhbnNmZXJfaW5fcHJvZ3Jlc3MgPSBpc19tdDVfdHJhbnNmZXJfaW5fcHJvZ3Jlc3M7XG4gICAgfVxuXG4gICAgc2V0UmVjZWlwdFRyYW5zZmVyKHsgYW1vdW50IH06IHsgYW1vdW50OiBzdHJpbmcgfSk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlY2VpcHQgPSB7XG4gICAgICAgICAgICBhbW91bnRfdHJhbnNmZXJyZWQ6IGFtb3VudCxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBvbkNoYW5nZVRyYW5zZmVyRnJvbSh7IHRhcmdldCB9OiB7IHRhcmdldDogeyB2YWx1ZTogc3RyaW5nIH0gfSkge1xuICAgICAgICB0aGlzLmVycm9yLnNldEVycm9yTWVzc2FnZSh7IGNvZGU6ICcnLCBtZXNzYWdlOiAnJyB9KTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZF9mcm9tLmVycm9yID0gJyc7XG5cbiAgICAgICAgY29uc3QgYWNjb3VudHMgPSB0aGlzLmFjY291bnRzX2xpc3Q7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkX2Zyb20gPSBhY2NvdW50cy5maW5kKGFjY291bnQgPT4gYWNjb3VudC52YWx1ZSA9PT0gdGFyZ2V0LnZhbHVlKTtcblxuICAgICAgICBjb25zdCBwbGF0Zm9ybXMgPSBbJ2lzX210JywgJ2lzX2N0cmFkZXInLCAnaXNfZHh0cmFkZSddIGFzIGNvbnN0O1xuXG4gICAgICAgIGNvbnN0IGlzQmV0d2VlbkNGRHNUcmFuc2ZlciA9IHBsYXRmb3Jtcy5zb21lKGZyb21fcGxhdGZvcm0gPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHBsYXRmb3Jtcy5zb21lKHRvX3BsYXRmb3JtID0+IHNlbGVjdGVkX2Zyb20/Lltmcm9tX3BsYXRmb3JtXSAmJiB0aGlzLnNlbGVjdGVkX3RvPy5bdG9fcGxhdGZvcm1dKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaWYgbmV3IHZhbHVlIG9mIHNlbGVjdGVkX2Zyb20gaXMgdGhlIHNhbWUgYXMgdGhlIGN1cnJlbnQgc2VsZWN0ZWRfdG9cbiAgICAgICAgLy8gc3dpdGNoIHRoZSB2YWx1ZSBvZiBzZWxlY3RlZF9mcm9tIGFuZCBzZWxlY3RlZF90b1xuICAgICAgICBpZiAoc2VsZWN0ZWRfZnJvbT8udmFsdWUgPT09IHRoaXMuc2VsZWN0ZWRfdG8udmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMub25DaGFuZ2VUcmFuc2ZlclRvKHsgdGFyZ2V0OiB7IHZhbHVlOiB0aGlzLnNlbGVjdGVkX2Zyb20udmFsdWUgfSB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0JldHdlZW5DRkRzVHJhbnNmZXIpIHtcbiAgICAgICAgICAgIC8vIG5vdCBhbGxvd2VkIHRvIHRyYW5zZmVyIGZyb20gTVQ1IHRvIE1UNVxuICAgICAgICAgICAgLy8gbm90IGFsbG93ZWQgdG8gdHJhbnNmZXIgZnJvbSBEZXJpdlggdG8gRGVyaXZYXG4gICAgICAgICAgICAvLyBub3QgYWxsb3dlZCB0byB0cmFuc2ZlciBmcm9tIGNUcmFkZXIgdG8gY1RyYWRlclxuICAgICAgICAgICAgLy8gbm90IGFsbG93ZWQgdG8gdHJhbnNmZXIgYmV0d2VlbiBNVDUgYW5kIERlcml2WCBhbmQgdmlzYSB2ZXJzYVxuICAgICAgICAgICAgLy8gbm90IGFsbG93ZWQgdG8gdHJhbnNmZXIgYmV0d2VlbiBEZXJpdlggYW5kIGNUcmFkZXIgYW5kIHZpc2EgdmVyc2FcbiAgICAgICAgICAgIC8vIG5vdCBhbGxvd2VkIHRvIHRyYW5zZmVyIGJldHdlZW4gTVQ1IGFuZCBjVHJhZGVyIGFuZCB2aXNhIHZlcnNhXG4gICAgICAgICAgICAvLyBpZiBuZXcgdmFsdWUgb2Ygc2VsZWN0ZWRfZnJvbSBpcyBkaWZmZXJlbnQgZnJvbSBzZWxlY3RlZF90b1xuICAgICAgICAgICAgLy8gc3dpdGNoIHRoZSB2YWx1ZSBvZiBzZWxlY3RlZF90byB0byBjdXJyZW50IGNsaWVudCBsb2dpbmlkXG4gICAgICAgICAgICB0aGlzLm9uQ2hhbmdlVHJhbnNmZXJUbyh7IHRhcmdldDogeyB2YWx1ZTogdGhpcy5yb290X3N0b3JlLmNsaWVudC5sb2dpbmlkIH0gfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZWN0ZWRfZnJvbSAmJiBoYXNUcmFuc2Zlck5vdEFsbG93ZWRMb2dpbmlkKHNlbGVjdGVkX2Zyb20/LnZhbHVlKSkge1xuICAgICAgICAgICAgc2VsZWN0ZWRfZnJvbS5lcnJvciA9IEFjY291bnRUcmFuc2ZlckdldFNlbGVjdGVkRXJyb3Ioc2VsZWN0ZWRfZnJvbT8udmFsdWUsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZWxlY3RlZF9mcm9tID0gc2VsZWN0ZWRfZnJvbSB8fCB7fTtcbiAgICAgICAgdGhpcy5zZXRUcmFuc2ZlckZlZSgpO1xuICAgICAgICB0aGlzLnNldE1pbmltdW1GZWUoKTtcbiAgICAgICAgdGhpcy5zZXRUcmFuc2ZlckxpbWl0KCk7XG4gICAgfVxuXG4gICAgb25DaGFuZ2VUcmFuc2ZlclRvKHsgdGFyZ2V0IH06IHsgdGFyZ2V0OiB7IHZhbHVlOiBzdHJpbmcgfCB1bmRlZmluZWQgfSB9KSB7XG4gICAgICAgIHRoaXMuZXJyb3Iuc2V0RXJyb3JNZXNzYWdlKHsgY29kZTogJycsIG1lc3NhZ2U6ICcnIH0pO1xuICAgICAgICB0aGlzLnNlbGVjdGVkX3RvLmVycm9yID0gJyc7XG5cbiAgICAgICAgY29uc3QgYWNjb3VudHMgPSB0aGlzLmFjY291bnRzX2xpc3Q7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRfdG8gPSBhY2NvdW50cy5maW5kKGFjY291bnQgPT4gYWNjb3VudC52YWx1ZSA9PT0gdGFyZ2V0LnZhbHVlKSB8fCB7fTtcbiAgICAgICAgaWYgKGhhc1RyYW5zZmVyTm90QWxsb3dlZExvZ2luaWQodGhpcy5zZWxlY3RlZF90by52YWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRfdG8uZXJyb3IgPSBBY2NvdW50VHJhbnNmZXJHZXRTZWxlY3RlZEVycm9yKHRoaXMuc2VsZWN0ZWRfdG8udmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0VHJhbnNmZXJGZWUoKTtcbiAgICAgICAgdGhpcy5zZXRNaW5pbXVtRmVlKCk7XG4gICAgICAgIHRoaXMuc2V0VHJhbnNmZXJMaW1pdCgpO1xuICAgIH1cblxuICAgIHJlcXVlc3RUcmFuc2ZlckJldHdlZW5BY2NvdW50cyA9IGFzeW5jICh7IGFtb3VudCB9OiB7IGFtb3VudDogbnVtYmVyIH0pID0+IHtcbiAgICAgICAgY29uc3QgeyBjbGllbnQsIG1vZHVsZXMsIGNvbW1vbiB9ID0gdGhpcy5yb290X3N0b3JlO1xuICAgICAgICBjb25zdCB7IHNldExvYWRpbmcgfSA9IG1vZHVsZXMuY2FzaGllci5nZW5lcmFsX3N0b3JlO1xuICAgICAgICBjb25zdCB7IGlzX2Zyb21fZGVyaXZnbyB9ID0gY29tbW9uO1xuICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICBpc19sb2dnZWRfaW4sXG4gICAgICAgICAgICByZXNwb25zZU10NUxvZ2luTGlzdCxcbiAgICAgICAgICAgIHJlc3BvbnNlVHJhZGluZ1BsYXRmb3JtQWNjb3VudHNMaXN0LFxuICAgICAgICAgICAgc2V0QWNjb3VudFN0YXR1cyxcbiAgICAgICAgICAgIHNldEJhbGFuY2VPdGhlckFjY291bnRzLFxuICAgICAgICB9ID0gY2xpZW50O1xuXG4gICAgICAgIGlmICghaXNfbG9nZ2VkX2luKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIHRoaXMuZXJyb3Iuc2V0RXJyb3JNZXNzYWdlKHsgY29kZTogJycsIG1lc3NhZ2U6ICcnIH0pO1xuXG4gICAgICAgIGNvbnN0IGlzX210X3RyYW5zZmVyID0gdGhpcy5zZWxlY3RlZF9mcm9tLmlzX210IHx8IHRoaXMuc2VsZWN0ZWRfdG8uaXNfbXQ7XG5cbiAgICAgICAgaWYgKGlzX210X3RyYW5zZmVyKSB0aGlzLnNldElzTVQ1VHJhbnNmZXJJblByb2dyZXNzKHRydWUpO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbmN5ID0gdGhpcy5zZWxlY3RlZF9mcm9tLmN1cnJlbmN5O1xuICAgICAgICBjb25zdCB0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzID0gYXdhaXQgdGhpcy5XUy5hdXRob3JpemVkLnRyYW5zZmVyQmV0d2VlbkFjY291bnRzKFxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZF9mcm9tLnZhbHVlLFxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZF90by52YWx1ZSxcbiAgICAgICAgICAgIGN1cnJlbmN5LFxuICAgICAgICAgICAgYW1vdW50XG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKCFpc19mcm9tX2Rlcml2Z28gJiYgdHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50cyAmJiBBcnJheS5pc0FycmF5KHRyYW5zZmVyX2JldHdlZW5fYWNjb3VudHMuYWNjb3VudHMpKSB7XG4gICAgICAgICAgICB0cmFuc2Zlcl9iZXR3ZWVuX2FjY291bnRzLmFjY291bnRzID0gdHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50cy5hY2NvdW50cyB8fCBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc19tdF90cmFuc2ZlcikgdGhpcy5zZXRJc01UNVRyYW5zZmVySW5Qcm9ncmVzcyhmYWxzZSk7XG5cbiAgICAgICAgaWYgKHRyYW5zZmVyX2JldHdlZW5fYWNjb3VudHMuZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIGlzIGZpYXQyY3J5cHRvIHRyYW5zZmVyIGxpbWl0IGVycm9yLCB3ZSBuZWVkIHRvIHJlZnJlc2ggdGhlIGFjY291bnRfc3RhdHVzIGZvciBhdXRoZW50aWNhdGlvblxuICAgICAgICAgICAgaWYgKHRyYW5zZmVyX2JldHdlZW5fYWNjb3VudHMuZXJyb3IuY29kZSA9PT0gJ0ZpYXQyQ3J5cHRvVHJhbnNmZXJPdmVyTGltaXQnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWNjb3VudF9zdGF0dXNfcmVzcG9uc2UgPSBhd2FpdCB0aGlzLldTLmF1dGhvcml6ZWQuZ2V0QWNjb3VudFN0YXR1cygpO1xuICAgICAgICAgICAgICAgIGlmICghYWNjb3VudF9zdGF0dXNfcmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0QWNjb3VudFN0YXR1cyhhY2NvdW50X3N0YXR1c19yZXNwb25zZS5nZXRfYWNjb3VudF9zdGF0dXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZXJyb3Iuc2V0RXJyb3JNZXNzYWdlKHRyYW5zZmVyX2JldHdlZW5fYWNjb3VudHMuZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXRSZWNlaXB0VHJhbnNmZXIoeyBhbW91bnQ6IGZvcm1hdE1vbmV5KGN1cnJlbmN5IHx8ICcnLCBhbW91bnQsIHRydWUpIH0pO1xuICAgICAgICAgICAgdHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50cy5hY2NvdW50cz8uZm9yRWFjaChhY2NvdW50ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEJhbGFuY2VCeUxvZ2luSWQoYWNjb3VudC5sb2dpbmlkIHx8ICcnLCBhY2NvdW50LmJhbGFuY2UgfHwgJycpO1xuICAgICAgICAgICAgICAgIGlmIChhY2NvdW50LmxvZ2luaWQgPT09IHRoaXMuc2VsZWN0ZWRfZnJvbS52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEJhbGFuY2VTZWxlY3RlZEZyb20oYWNjb3VudC5iYWxhbmNlIHx8ICcnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFjY291bnQubG9naW5pZCA9PT0gdGhpcy5zZWxlY3RlZF90by52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEJhbGFuY2VTZWxlY3RlZFRvKGFjY291bnQuYmFsYW5jZSB8fCAnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIG9uZSBvZiB0aGUgYWNjb3VudHMgd2FzIG10NVxuICAgICAgICAgICAgICAgIGlmIChhY2NvdW50LmFjY291bnRfdHlwZSA9PT0gQ0ZEX1BMQVRGT1JNUy5NVDUpIHtcbiAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoW3RoaXMuV1MubXQ1TG9naW5MaXN0KCksIHRoaXMuV1MuYmFsYW5jZUFsbCgpXSkudGhlbihcbiAgICAgICAgICAgICAgICAgICAgICAgIChbbXQ1X2xvZ2luX2xpc3RfcmVzcG9uc2UsIGJhbGFuY2VfcmVzcG9uc2VdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBiYWxhbmNlIGZvciBhY2NvdW50IHN3aXRjaGVyIGJ5IHJlbmV3aW5nIHRoZSBtdDVfbG9naW5fbGlzdCByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTXQ1TG9naW5MaXN0KG10NV9sb2dpbl9saXN0X3Jlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdG90YWwgYmFsYW5jZSBzaW5jZSBNVDUgdG90YWwgb25seSBjb21lcyBpbiBub24tc3RyZWFtIGJhbGFuY2UgY2FsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEJhbGFuY2VPdGhlckFjY291bnRzKGJhbGFuY2VfcmVzcG9uc2UuYmFsYW5jZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIG9uZSBvZiB0aGUgYWNjb3VudHMgd2FzIGR4dHJhZGVcbiAgICAgICAgICAgICAgICBpZiAoYWNjb3VudC5hY2NvdW50X3R5cGUgPT09IENGRF9QTEFURk9STVMuRFhUUkFERSkge1xuICAgICAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLldTLnRyYWRpbmdQbGF0Zm9ybUFjY291bnRzTGlzdChDRkRfUExBVEZPUk1TLkRYVFJBREUpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5XUy5iYWxhbmNlQWxsKCksXG4gICAgICAgICAgICAgICAgICAgIF0pLnRoZW4oKFtkeHRyYWRlX2xvZ2luX2xpc3RfcmVzcG9uc2UsIGJhbGFuY2VfcmVzcG9uc2VdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGJhbGFuY2UgZm9yIGFjY291bnQgc3dpdGNoZXIgYnkgcmVuZXdpbmcgdGhlIGR4dHJhZGVfbG9naW5fbGlzdF9yZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUcmFkaW5nUGxhdGZvcm1BY2NvdW50c0xpc3QoZHh0cmFkZV9sb2dpbl9saXN0X3Jlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB0b3RhbCBiYWxhbmNlIHNpbmNlIER4dHJhZGUgdG90YWwgb25seSBjb21lcyBpbiBub24tc3RyZWFtIGJhbGFuY2UgY2FsbFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0QmFsYW5jZU90aGVyQWNjb3VudHMoYmFsYW5jZV9yZXNwb25zZS5iYWxhbmNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIG9uZSBvZiB0aGUgYWNjb3VudHMgd2FzIGN0cmFkZXJcbiAgICAgICAgICAgICAgICBpZiAoYWNjb3VudC5hY2NvdW50X3R5cGUgPT09IENGRF9QTEFURk9STVMuQ1RSQURFUikge1xuICAgICAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLldTLnRyYWRpbmdQbGF0Zm9ybUFjY291bnRzTGlzdChDRkRfUExBVEZPUk1TLkNUUkFERVIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5XUy5iYWxhbmNlQWxsKCksXG4gICAgICAgICAgICAgICAgICAgIF0pLnRoZW4oKFtjdHJhZGVyX2xvZ2luX2xpc3RfcmVzcG9uc2UsIGJhbGFuY2VfcmVzcG9uc2VdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGJhbGFuY2UgZm9yIGFjY291bnQgc3dpdGNoZXIgYnkgcmVuZXdpbmcgdGhlIGN0cmFkZXJfbG9naW5fbGlzdF9yZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VUcmFkaW5nUGxhdGZvcm1BY2NvdW50c0xpc3QoY3RyYWRlcl9sb2dpbl9saXN0X3Jlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldEJhbGFuY2VPdGhlckFjY291bnRzKGJhbGFuY2VfcmVzcG9uc2UuYmFsYW5jZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zZXRBY2NvdW50VHJhbnNmZXJBbW91bnQobnVsbCk7XG4gICAgICAgICAgICB0aGlzLnNldElzVHJhbnNmZXJDb25maXJtKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICByZXR1cm4gdHJhbnNmZXJfYmV0d2Vlbl9hY2NvdW50cztcbiAgICB9O1xuXG4gICAgcmVzZXRBY2NvdW50VHJhbnNmZXIgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0SXNUcmFuc2ZlckNvbmZpcm0oZmFsc2UpO1xuICAgICAgICB0aGlzLnNldFRyYW5zZmVyTGltaXQoKTtcbiAgICB9O1xuXG4gICAgc2V0VHJhbnNmZXJQZXJjZW50YWdlU2VsZWN0b3JSZXN1bHQoYW1vdW50OiBzdHJpbmcsIGV4Y2hhbmdlZF9hbW91bnQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCB7IGNyeXB0b19maWF0X2NvbnZlcnRlciwgZ2VuZXJhbF9zdG9yZSB9ID0gdGhpcy5yb290X3N0b3JlLm1vZHVsZXMuY2FzaGllcjtcblxuICAgICAgICBjb25zdCBzZWxlY3RlZF9mcm9tX2N1cnJlbmN5ID0gdGhpcy5zZWxlY3RlZF9mcm9tLmN1cnJlbmN5O1xuICAgICAgICBjb25zdCBzZWxlY3RlZF90b19jdXJyZW5jeSA9IHRoaXMuc2VsZWN0ZWRfdG8uY3VycmVuY3k7XG5cbiAgICAgICAgaWYgKE51bWJlcihhbW91bnQpID4gMCB8fCBOdW1iZXIodGhpcy5zZWxlY3RlZF9mcm9tLmJhbGFuY2UpID09PSAwKSB7XG4gICAgICAgICAgICBjcnlwdG9fZmlhdF9jb252ZXJ0ZXIuc2V0Q29udmVydGVyRnJvbUFtb3VudChhbW91bnQpO1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZVRyYW5zZmVyRnJvbUFtb3VudCgpO1xuICAgICAgICAgICAgY3J5cHRvX2ZpYXRfY29udmVydGVyLm9uQ2hhbmdlQ29udmVydGVyRnJvbUFtb3VudChcbiAgICAgICAgICAgICAgICB7IHRhcmdldDogeyB2YWx1ZTogYW1vdW50IH0gfSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZF9mcm9tX2N1cnJlbmN5LFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkX3RvX2N1cnJlbmN5LFxuICAgICAgICAgICAgICAgIGV4Y2hhbmdlZF9hbW91bnRcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjcnlwdG9fZmlhdF9jb252ZXJ0ZXIucmVzZXRDb252ZXJ0ZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBjcnlwdG9fZmlhdF9jb252ZXJ0ZXIuc2V0SXNUaW1lclZpc2libGUoZmFsc2UpO1xuICAgICAgICBnZW5lcmFsX3N0b3JlLnBlcmNlbnRhZ2VTZWxlY3RvclNlbGVjdGlvblN0YXR1cyhmYWxzZSk7XG4gICAgfVxuXG4gICAgdmFsaWRhdGVUcmFuc2ZlckZyb21BbW91bnQoKSB7XG4gICAgICAgIGNvbnN0IGNvbnZlcnRlcl9mcm9tX2Ftb3VudCA9IHRoaXMucm9vdF9zdG9yZS5tb2R1bGVzLmNhc2hpZXI/LmNyeXB0b19maWF0X2NvbnZlcnRlci5jb252ZXJ0ZXJfZnJvbV9hbW91bnQ7XG4gICAgICAgIGNvbnN0IHNldENvbnZlcnRlckZyb21FcnJvciA9IHRoaXMucm9vdF9zdG9yZS5tb2R1bGVzLmNhc2hpZXI/LmNyeXB0b19maWF0X2NvbnZlcnRlci5zZXRDb252ZXJ0ZXJGcm9tRXJyb3I7XG5cbiAgICAgICAgaWYgKCFjb252ZXJ0ZXJfZnJvbV9hbW91bnQpIHtcbiAgICAgICAgICAgIHNldENvbnZlcnRlckZyb21FcnJvcihsb2NhbGl6ZSgnVGhpcyBmaWVsZCBpcyByZXF1aXJlZC4nKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB7IGlzX29rLCBtZXNzYWdlIH0gPSB2YWxpZE51bWJlcihjb252ZXJ0ZXJfZnJvbV9hbW91bnQsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmxvYXQnLFxuICAgICAgICAgICAgICAgIGRlY2ltYWxzOiBnZXREZWNpbWFsUGxhY2VzKHRoaXMuc2VsZWN0ZWRfZnJvbS5jdXJyZW5jeSB8fCAnJyksXG4gICAgICAgICAgICAgICAgbWluOiBOdW1iZXIodGhpcy50cmFuc2Zlcl9saW1pdC5taW4pLFxuICAgICAgICAgICAgICAgIG1heDogTnVtYmVyKHRoaXMudHJhbnNmZXJfbGltaXQubWF4KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFpc19vaykge1xuICAgICAgICAgICAgICAgIHNldENvbnZlcnRlckZyb21FcnJvcihtZXNzYWdlIHx8ICcnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoTnVtYmVyKHRoaXMuc2VsZWN0ZWRfZnJvbS5iYWxhbmNlKSA8IE51bWJlcihjb252ZXJ0ZXJfZnJvbV9hbW91bnQpKSB7XG4gICAgICAgICAgICAgICAgc2V0Q29udmVydGVyRnJvbUVycm9yKGxvY2FsaXplKCdJbnN1ZmZpY2llbnQgZnVuZHMnKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldENvbnZlcnRlckZyb21FcnJvcignJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YWxpZGF0ZVRyYW5zZmVyVG9BbW91bnQoKSB7XG4gICAgICAgIGNvbnN0IGNvbnZlcnRlcl90b19hbW91bnQgPSB0aGlzLnJvb3Rfc3RvcmUubW9kdWxlcy5jYXNoaWVyPy5jcnlwdG9fZmlhdF9jb252ZXJ0ZXIuY29udmVydGVyX3RvX2Ftb3VudDtcbiAgICAgICAgY29uc3Qgc2V0Q29udmVydGVyVG9FcnJvciA9IHRoaXMucm9vdF9zdG9yZS5tb2R1bGVzLmNhc2hpZXI/LmNyeXB0b19maWF0X2NvbnZlcnRlci5zZXRDb252ZXJ0ZXJUb0Vycm9yO1xuXG4gICAgICAgIGlmIChjb252ZXJ0ZXJfdG9fYW1vdW50KSB7XG4gICAgICAgICAgICBjb25zdCBjdXJyZW5jeSA9IHRoaXMuc2VsZWN0ZWRfdG8uY3VycmVuY3k7XG4gICAgICAgICAgICBjb25zdCB7IGlzX29rLCBtZXNzYWdlIH0gPSB2YWxpZE51bWJlcihjb252ZXJ0ZXJfdG9fYW1vdW50LCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2Zsb2F0JyxcbiAgICAgICAgICAgICAgICBkZWNpbWFsczogZ2V0RGVjaW1hbFBsYWNlcyhjdXJyZW5jeSB8fCAnJyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghaXNfb2spIHtcbiAgICAgICAgICAgICAgICBzZXRDb252ZXJ0ZXJUb0Vycm9yKG1lc3NhZ2UgfHwgJycpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXRDb252ZXJ0ZXJUb0Vycm9yKCcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./stores/account-transfer-store.ts\n')},"./stores/base-store.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ BaseStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ "mobx");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ "@deriv/shared");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__);\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\n\n/**\n * BaseStore class is the base class for all defined stores in the application. It handles some stuff such as:\n *  1. Creating snapshot object from the store.\n *  2. Saving the store\'s snapshot in local/session storage and keeping them in sync.\n */\nvar BaseStore = /*#__PURE__*/function () {\n  /**\n   * Constructor of the base class that gets properties\' name of child which should be saved in storages\n   *\n   * @param {Object} options - An object that contains the following properties:\n   *     @property {Object}   root_store - An object that contains the root store of the app.\n   *     @property {String[]} local_storage_properties - A list of properties\' names that should be kept in localStorage.\n   *     @property {String[]} session_storage_properties - A list of properties\' names that should be kept in sessionStorage.\n   *     @property {Object}   validation_rules - An object that contains the validation rules for each property of the store.\n   *     @property {String}   store_name - Explicit store name for browser application storage (to bypass minification)\n   */\n  function BaseStore() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, BaseStore);\n    this.client_init_listener = null;\n    this.clientInitDisposer = null;\n    this.root_store = void 0;\n    this.switch_account_listener = null;\n    this.switchAccountDisposer = null;\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(this, {\n      onSwitchAccount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onClientInit: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      disposeSwitchAccount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onUnmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n    var root_store = options.root_store;\n    this.root_store = root_store;\n  }\n  return _createClass(BaseStore, [{\n    key: "onSwitchAccount",\n    value: function onSwitchAccount(listener) {\n      var _this = this;\n      if (listener) {\n        this.switch_account_listener = listener;\n        this.switchAccountDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.when)(function () {\n          var _this$root_store;\n          return !!((_this$root_store = _this.root_store) !== null && _this$root_store !== void 0 && _this$root_store.client.switch_broadcast);\n        }, function () {\n          try {\n            var _this$switch_account_;\n            var result = (_this$switch_account_ = _this.switch_account_listener) === null || _this$switch_account_ === void 0 ? void 0 : _this$switch_account_.call(_this);\n            if (result !== null && result !== void 0 && result.then && typeof result.then === \'function\') {\n              result.then(function () {\n                var _this$root_store2, _this$root_store2$cli, _this$root_store2$cli2;\n                (_this$root_store2 = _this.root_store) === null || _this$root_store2 === void 0 || (_this$root_store2$cli = (_this$root_store2$cli2 = _this$root_store2.client).switchEndSignal) === null || _this$root_store2$cli === void 0 || _this$root_store2$cli.call(_this$root_store2$cli2);\n                _this.onSwitchAccount(_this.switch_account_listener);\n              });\n            } else {\n              throw new Error(\'Switching account listeners are required to return a promise.\');\n            }\n          } catch (error) {\n            // there is no listener currently active. so we can just ignore the error raised from treating\n            // a null object as a function. Although, in development mode, we throw a console error.\n            if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n              console.error(error); // eslint-disable-line\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: "onClientInit",\n    value: function onClientInit(listener) {\n      var _this2 = this;\n      this.clientInitDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.when)(function () {\n        var _this2$root_store;\n        return !!((_this2$root_store = _this2.root_store) !== null && _this2$root_store !== void 0 && _this2$root_store.client.initialized_broadcast);\n      }, /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _this2$client_init_li, result;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              result = (_this2$client_init_li = _this2.client_init_listener) === null || _this2$client_init_li === void 0 ? void 0 : _this2$client_init_li.call(_this2);\n              if (!(result !== null && result !== void 0 && result.then && typeof result.then === \'function\')) {\n                _context.next = 6;\n                break;\n              }\n              result.then(function () {\n                var _this2$root_store2;\n                (_this2$root_store2 = _this2.root_store) === null || _this2$root_store2 === void 0 || _this2$root_store2.client.setInitialized(false);\n                _this2.onClientInit(_this2.client_init_listener);\n              });\n              _context.next = 7;\n              break;\n            case 6:\n              throw new Error(\'Client init listeners are required to return a promise.\');\n            case 7:\n              _context.next = 12;\n              break;\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context["catch"](0);\n              // there is no listener currently active. so we can just ignore the error raised from treating\n              // a null object as a function. Although, in development mode, we throw a console error.\n              if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n                console.error(_context.t0); // eslint-disable-line\n              }\n            case 12:\n            case "end":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 9]]);\n      })));\n      this.client_init_listener = listener;\n    }\n  }, {\n    key: "disposeSwitchAccount",\n    value: function disposeSwitchAccount() {\n      if (typeof this.switchAccountDisposer === \'function\') {\n        this.switchAccountDisposer();\n      }\n      this.switch_account_listener = null;\n    }\n  }, {\n    key: "onUnmount",\n    value: function onUnmount() {\n      this.disposeSwitchAccount();\n    }\n  }]);\n}();\n/**\n * An enum object to define LOCAL_STORAGE and SESSION_STORAGE\n */\nBaseStore.STORAGES = Object.freeze({\n  LOCAL_STORAGE: Symbol(\'LOCAL_STORAGE\'),\n  SESSION_STORAGE: Symbol(\'SESSION_STORAGE\')\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvYmFzZS1zdG9yZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUFDQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQW9CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBaEJBO0FBQ0E7QUFDQTtBQUNBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBcEdBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2Nhc2hpZXIvLi9zdG9yZXMvYmFzZS1zdG9yZS50cz8xZTg4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFjdGlvbiwgd2hlbiwgbWFrZU9ic2VydmFibGUgfSBmcm9tICdtb2J4JztcbmltcG9ydCB7IGlzUHJvZHVjdGlvbiB9IGZyb20gJ0BkZXJpdi9zaGFyZWQnO1xuaW1wb3J0IHsgVFJvb3RTdG9yZSB9IGZyb20gJy4uL3R5cGVzJztcblxudHlwZSBUTGlzdGVuZXJSZXNwb25zZSA9IHtcbiAgICB0aGVuOiAoZnVuYzogVm9pZEZ1bmN0aW9uKSA9PiB2b2lkO1xufTtcblxudHlwZSBUQmFzZVN0b3JlT3B0aW9ucyA9IHtcbiAgICByb290X3N0b3JlPzogVFJvb3RTdG9yZTtcbn07XG5cbi8qKlxuICogQmFzZVN0b3JlIGNsYXNzIGlzIHRoZSBiYXNlIGNsYXNzIGZvciBhbGwgZGVmaW5lZCBzdG9yZXMgaW4gdGhlIGFwcGxpY2F0aW9uLiBJdCBoYW5kbGVzIHNvbWUgc3R1ZmYgc3VjaCBhczpcbiAqICAxLiBDcmVhdGluZyBzbmFwc2hvdCBvYmplY3QgZnJvbSB0aGUgc3RvcmUuXG4gKiAgMi4gU2F2aW5nIHRoZSBzdG9yZSdzIHNuYXBzaG90IGluIGxvY2FsL3Nlc3Npb24gc3RvcmFnZSBhbmQga2VlcGluZyB0aGVtIGluIHN5bmMuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEJhc2VTdG9yZSB7XG4gICAgLyoqXG4gICAgICogQW4gZW51bSBvYmplY3QgdG8gZGVmaW5lIExPQ0FMX1NUT1JBR0UgYW5kIFNFU1NJT05fU1RPUkFHRVxuICAgICAqL1xuICAgIHN0YXRpYyBTVE9SQUdFUyA9IE9iamVjdC5mcmVlemUoe1xuICAgICAgICBMT0NBTF9TVE9SQUdFOiBTeW1ib2woJ0xPQ0FMX1NUT1JBR0UnKSxcbiAgICAgICAgU0VTU0lPTl9TVE9SQUdFOiBTeW1ib2woJ1NFU1NJT05fU1RPUkFHRScpLFxuICAgIH0pO1xuXG4gICAgY2xpZW50X2luaXRfbGlzdGVuZXI6IG51bGwgfCAoKCkgPT4gVExpc3RlbmVyUmVzcG9uc2UpID0gbnVsbDtcbiAgICBjbGllbnRJbml0RGlzcG9zZXI6IG51bGwgfCAoKCkgPT4gdm9pZCkgPSBudWxsO1xuICAgIHJvb3Rfc3RvcmU/OiBUUm9vdFN0b3JlO1xuICAgIHN3aXRjaF9hY2NvdW50X2xpc3RlbmVyOiBudWxsIHwgKCgpID0+IFRMaXN0ZW5lclJlc3BvbnNlKSA9IG51bGw7XG4gICAgc3dpdGNoQWNjb3VudERpc3Bvc2VyOiBudWxsIHwgKCgpID0+IHZvaWQpID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdG9yIG9mIHRoZSBiYXNlIGNsYXNzIHRoYXQgZ2V0cyBwcm9wZXJ0aWVzJyBuYW1lIG9mIGNoaWxkIHdoaWNoIHNob3VsZCBiZSBzYXZlZCBpbiBzdG9yYWdlc1xuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgLSBBbiBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICogICAgIEBwcm9wZXJ0eSB7T2JqZWN0fSAgIHJvb3Rfc3RvcmUgLSBBbiBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgcm9vdCBzdG9yZSBvZiB0aGUgYXBwLlxuICAgICAqICAgICBAcHJvcGVydHkge1N0cmluZ1tdfSBsb2NhbF9zdG9yYWdlX3Byb3BlcnRpZXMgLSBBIGxpc3Qgb2YgcHJvcGVydGllcycgbmFtZXMgdGhhdCBzaG91bGQgYmUga2VwdCBpbiBsb2NhbFN0b3JhZ2UuXG4gICAgICogICAgIEBwcm9wZXJ0eSB7U3RyaW5nW119IHNlc3Npb25fc3RvcmFnZV9wcm9wZXJ0aWVzIC0gQSBsaXN0IG9mIHByb3BlcnRpZXMnIG5hbWVzIHRoYXQgc2hvdWxkIGJlIGtlcHQgaW4gc2Vzc2lvblN0b3JhZ2UuXG4gICAgICogICAgIEBwcm9wZXJ0eSB7T2JqZWN0fSAgIHZhbGlkYXRpb25fcnVsZXMgLSBBbiBvYmplY3QgdGhhdCBjb250YWlucyB0aGUgdmFsaWRhdGlvbiBydWxlcyBmb3IgZWFjaCBwcm9wZXJ0eSBvZiB0aGUgc3RvcmUuXG4gICAgICogICAgIEBwcm9wZXJ0eSB7U3RyaW5nfSAgIHN0b3JlX25hbWUgLSBFeHBsaWNpdCBzdG9yZSBuYW1lIGZvciBicm93c2VyIGFwcGxpY2F0aW9uIHN0b3JhZ2UgKHRvIGJ5cGFzcyBtaW5pZmljYXRpb24pXG4gICAgICovXG4gICAgY29uc3RydWN0b3Iob3B0aW9uczogVEJhc2VTdG9yZU9wdGlvbnMgPSB7fSkge1xuICAgICAgICBtYWtlT2JzZXJ2YWJsZSh0aGlzLCB7XG4gICAgICAgICAgICBvblN3aXRjaEFjY291bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uQ2xpZW50SW5pdDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgZGlzcG9zZVN3aXRjaEFjY291bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uVW5tb3VudDogYWN0aW9uLmJvdW5kLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB7IHJvb3Rfc3RvcmUgfSA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMucm9vdF9zdG9yZSA9IHJvb3Rfc3RvcmU7XG4gICAgfVxuXG4gICAgb25Td2l0Y2hBY2NvdW50KGxpc3RlbmVyOiBudWxsIHwgKCgpID0+IFRMaXN0ZW5lclJlc3BvbnNlKSk6IHZvaWQge1xuICAgICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoX2FjY291bnRfbGlzdGVuZXIgPSBsaXN0ZW5lcjtcblxuICAgICAgICAgICAgdGhpcy5zd2l0Y2hBY2NvdW50RGlzcG9zZXIgPSB3aGVuKFxuICAgICAgICAgICAgICAgICgpID0+ICEhdGhpcy5yb290X3N0b3JlPy5jbGllbnQuc3dpdGNoX2Jyb2FkY2FzdCxcbiAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnN3aXRjaF9hY2NvdW50X2xpc3RlbmVyPy4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQ/LnRoZW4gJiYgdHlwZW9mIHJlc3VsdC50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvb3Rfc3RvcmU/LmNsaWVudC5zd2l0Y2hFbmRTaWduYWw/LigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uU3dpdGNoQWNjb3VudCh0aGlzLnN3aXRjaF9hY2NvdW50X2xpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTd2l0Y2hpbmcgYWNjb3VudCBsaXN0ZW5lcnMgYXJlIHJlcXVpcmVkIHRvIHJldHVybiBhIHByb21pc2UuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSBpcyBubyBsaXN0ZW5lciBjdXJyZW50bHkgYWN0aXZlLiBzbyB3ZSBjYW4ganVzdCBpZ25vcmUgdGhlIGVycm9yIHJhaXNlZCBmcm9tIHRyZWF0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhIG51bGwgb2JqZWN0IGFzIGEgZnVuY3Rpb24uIEFsdGhvdWdoLCBpbiBkZXZlbG9wbWVudCBtb2RlLCB3ZSB0aHJvdyBhIGNvbnNvbGUgZXJyb3IuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUHJvZHVjdGlvbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkNsaWVudEluaXQobGlzdGVuZXI6IG51bGwgfCAoKCkgPT4gVExpc3RlbmVyUmVzcG9uc2UpKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2xpZW50SW5pdERpc3Bvc2VyID0gd2hlbihcbiAgICAgICAgICAgICgpID0+ICEhdGhpcy5yb290X3N0b3JlPy5jbGllbnQuaW5pdGlhbGl6ZWRfYnJvYWRjYXN0LFxuICAgICAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuY2xpZW50X2luaXRfbGlzdGVuZXI/LigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Py50aGVuICYmIHR5cGVvZiByZXN1bHQudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm9vdF9zdG9yZT8uY2xpZW50LnNldEluaXRpYWxpemVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ2xpZW50SW5pdCh0aGlzLmNsaWVudF9pbml0X2xpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDbGllbnQgaW5pdCBsaXN0ZW5lcnMgYXJlIHJlcXVpcmVkIHRvIHJldHVybiBhIHByb21pc2UuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSBpcyBubyBsaXN0ZW5lciBjdXJyZW50bHkgYWN0aXZlLiBzbyB3ZSBjYW4ganVzdCBpZ25vcmUgdGhlIGVycm9yIHJhaXNlZCBmcm9tIHRyZWF0aW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgbnVsbCBvYmplY3QgYXMgYSBmdW5jdGlvbi4gQWx0aG91Z2gsIGluIGRldmVsb3BtZW50IG1vZGUsIHdlIHRocm93IGEgY29uc29sZSBlcnJvci5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Byb2R1Y3Rpb24oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5jbGllbnRfaW5pdF9saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgIH1cblxuICAgIGRpc3Bvc2VTd2l0Y2hBY2NvdW50KCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuc3dpdGNoQWNjb3VudERpc3Bvc2VyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLnN3aXRjaEFjY291bnREaXNwb3NlcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3dpdGNoX2FjY291bnRfbGlzdGVuZXIgPSBudWxsO1xuICAgIH1cblxuICAgIG9uVW5tb3VudCgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlU3dpdGNoQWNjb3VudCgpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./stores/base-store.ts\n')},"./stores/cashier-store.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ CashierStore)\n/* harmony export */ });\n/* harmony import */ var _account_transfer_store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./account-transfer-store */ "./stores/account-transfer-store.ts");\n/* harmony import */ var _crypto_fiat_converter_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./crypto-fiat-converter-store */ "./stores/crypto-fiat-converter-store.ts");\n/* harmony import */ var _error_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./error-store */ "./stores/error-store.ts");\n/* harmony import */ var _general_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./general-store */ "./stores/general-store.ts");\n/* harmony import */ var _iframe_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./iframe-store */ "./stores/iframe-store.ts");\n/* harmony import */ var _on_ramp_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./on-ramp-store */ "./stores/on-ramp-store.ts");\n/* harmony import */ var _payment_agent_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./payment-agent-store */ "./stores/payment-agent-store.ts");\n/* harmony import */ var _payment_agent_transfer_store__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./payment-agent-transfer-store */ "./stores/payment-agent-transfer-store.ts");\n/* harmony import */ var _transaction_history_store__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./transaction-history-store */ "./stores/transaction-history-store.ts");\n/* harmony import */ var _withdraw_store__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./withdraw-store */ "./stores/withdraw-store.ts");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\n\n\n\n\n\n\n\n\n\n\nvar CashierStore = /*#__PURE__*/_createClass(function CashierStore(root_store, WS) {\n  _classCallCheck(this, CashierStore);\n  this.root_store = root_store;\n  this.WS = WS;\n  this.account_transfer = void 0;\n  this.crypto_fiat_converter = void 0;\n  this.error = void 0;\n  this.general_store = void 0;\n  this.iframe = void 0;\n  this.onramp = void 0;\n  this.payment_agent_transfer = void 0;\n  this.payment_agent = void 0;\n  this.transaction_history = void 0;\n  this.withdraw = void 0;\n  this.account_transfer = new _account_transfer_store__WEBPACK_IMPORTED_MODULE_0__["default"](WS, root_store);\n  this.crypto_fiat_converter = new _crypto_fiat_converter_store__WEBPACK_IMPORTED_MODULE_1__["default"](root_store);\n  this.error = new _error_store__WEBPACK_IMPORTED_MODULE_2__["default"]();\n  this.general_store = new _general_store__WEBPACK_IMPORTED_MODULE_3__["default"](WS, root_store);\n  this.iframe = new _iframe_store__WEBPACK_IMPORTED_MODULE_4__["default"](root_store);\n  this.onramp = new _on_ramp_store__WEBPACK_IMPORTED_MODULE_5__["default"](WS, root_store);\n  this.payment_agent = new _payment_agent_store__WEBPACK_IMPORTED_MODULE_6__["default"](WS, root_store);\n  this.payment_agent_transfer = new _payment_agent_transfer_store__WEBPACK_IMPORTED_MODULE_7__["default"](WS, root_store);\n  this.transaction_history = new _transaction_history_store__WEBPACK_IMPORTED_MODULE_8__["default"](WS, root_store);\n  this.withdraw = new _withdraw_store__WEBPACK_IMPORTED_MODULE_9__["default"](WS, root_store);\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvY2FzaGllci1zdG9yZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFrQkE7QUFBQTtBQUZBO0FBQ0E7QUFiQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2Nhc2hpZXIvLi9zdG9yZXMvY2FzaGllci1zdG9yZS50cz8xMTM3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBBY2NvdW50VHJhbnNmZXJTdG9yZSBmcm9tICcuL2FjY291bnQtdHJhbnNmZXItc3RvcmUnO1xuaW1wb3J0IENyeXB0b0ZpYXRDb252ZXJ0ZXJTdG9yZSBmcm9tICcuL2NyeXB0by1maWF0LWNvbnZlcnRlci1zdG9yZSc7XG5pbXBvcnQgRXJyb3JTdG9yZSBmcm9tICcuL2Vycm9yLXN0b3JlJztcbmltcG9ydCBHZW5lcmFsU3RvcmUgZnJvbSAnLi9nZW5lcmFsLXN0b3JlJztcbmltcG9ydCBJZnJhbWVTdG9yZSBmcm9tICcuL2lmcmFtZS1zdG9yZSc7XG5pbXBvcnQgT25SYW1wU3RvcmUgZnJvbSAnLi9vbi1yYW1wLXN0b3JlJztcbmltcG9ydCBQYXltZW50QWdlbnRTdG9yZSBmcm9tICcuL3BheW1lbnQtYWdlbnQtc3RvcmUnO1xuaW1wb3J0IFBheW1lbnRBZ2VudFRyYW5zZmVyU3RvcmUgZnJvbSAnLi9wYXltZW50LWFnZW50LXRyYW5zZmVyLXN0b3JlJztcbmltcG9ydCBUcmFuc2FjdGlvbkhpc3RvcnlTdG9yZSBmcm9tICcuL3RyYW5zYWN0aW9uLWhpc3Rvcnktc3RvcmUnO1xuaW1wb3J0IFdpdGhkcmF3U3RvcmUgZnJvbSAnLi93aXRoZHJhdy1zdG9yZSc7XG5pbXBvcnQgdHlwZSB7IFRSb290U3RvcmUsIFRXZWJTb2NrZXQgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhc2hpZXJTdG9yZSB7XG4gICAgYWNjb3VudF90cmFuc2ZlcjogQWNjb3VudFRyYW5zZmVyU3RvcmU7XG4gICAgY3J5cHRvX2ZpYXRfY29udmVydGVyOiBDcnlwdG9GaWF0Q29udmVydGVyU3RvcmU7XG4gICAgZXJyb3I6IEVycm9yU3RvcmU7XG4gICAgZ2VuZXJhbF9zdG9yZTogR2VuZXJhbFN0b3JlO1xuICAgIGlmcmFtZTogSWZyYW1lU3RvcmU7XG4gICAgb25yYW1wOiBPblJhbXBTdG9yZTtcbiAgICBwYXltZW50X2FnZW50X3RyYW5zZmVyOiBQYXltZW50QWdlbnRUcmFuc2ZlclN0b3JlO1xuICAgIHBheW1lbnRfYWdlbnQ6IFBheW1lbnRBZ2VudFN0b3JlO1xuICAgIHRyYW5zYWN0aW9uX2hpc3Rvcnk6IFRyYW5zYWN0aW9uSGlzdG9yeVN0b3JlO1xuICAgIHdpdGhkcmF3OiBXaXRoZHJhd1N0b3JlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyByb290X3N0b3JlOiBUUm9vdFN0b3JlLFxuICAgICAgICBwdWJsaWMgV1M6IFRXZWJTb2NrZXRcbiAgICApIHtcbiAgICAgICAgdGhpcy5hY2NvdW50X3RyYW5zZmVyID0gbmV3IEFjY291bnRUcmFuc2ZlclN0b3JlKFdTLCByb290X3N0b3JlKTtcbiAgICAgICAgdGhpcy5jcnlwdG9fZmlhdF9jb252ZXJ0ZXIgPSBuZXcgQ3J5cHRvRmlhdENvbnZlcnRlclN0b3JlKHJvb3Rfc3RvcmUpO1xuICAgICAgICB0aGlzLmVycm9yID0gbmV3IEVycm9yU3RvcmUoKTtcbiAgICAgICAgdGhpcy5nZW5lcmFsX3N0b3JlID0gbmV3IEdlbmVyYWxTdG9yZShXUywgcm9vdF9zdG9yZSk7XG4gICAgICAgIHRoaXMuaWZyYW1lID0gbmV3IElmcmFtZVN0b3JlKHJvb3Rfc3RvcmUpO1xuICAgICAgICB0aGlzLm9ucmFtcCA9IG5ldyBPblJhbXBTdG9yZShXUywgcm9vdF9zdG9yZSk7XG4gICAgICAgIHRoaXMucGF5bWVudF9hZ2VudCA9IG5ldyBQYXltZW50QWdlbnRTdG9yZShXUywgcm9vdF9zdG9yZSk7XG4gICAgICAgIHRoaXMucGF5bWVudF9hZ2VudF90cmFuc2ZlciA9IG5ldyBQYXltZW50QWdlbnRUcmFuc2ZlclN0b3JlKFdTLCByb290X3N0b3JlKTtcbiAgICAgICAgdGhpcy50cmFuc2FjdGlvbl9oaXN0b3J5ID0gbmV3IFRyYW5zYWN0aW9uSGlzdG9yeVN0b3JlKFdTLCByb290X3N0b3JlKTtcbiAgICAgICAgdGhpcy53aXRoZHJhdyA9IG5ldyBXaXRoZHJhd1N0b3JlKFdTLCByb290X3N0b3JlKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./stores/cashier-store.ts\n')},"./stores/crypto-fiat-converter-store.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ CryptoFiatConverterStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ "mobx");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ "@deriv/shared");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__);\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\n\nvar CryptoFiatConverterStore = /*#__PURE__*/function () {\n  function CryptoFiatConverterStore(root_store) {\n    _classCallCheck(this, CryptoFiatConverterStore);\n    this.root_store = root_store;\n    this.converter_from_amount = \'\';\n    this.converter_to_amount = \'\';\n    this.converter_from_error = \'\';\n    this.converter_to_error = \'\';\n    this.is_timer_visible = false;\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(this, {\n      converter_from_amount: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      converter_to_amount: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      converter_from_error: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      converter_to_error: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_timer_visible: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      setConverterFromAmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setConverterToAmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setConverterFromError: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setConverterToError: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsTimerVisible: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      resetTimer: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      validateFromAmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      validateToAmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onChangeConverterFromAmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onChangeConverterToAmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      resetConverter: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n  }\n  return _createClass(CryptoFiatConverterStore, [{\n    key: "setConverterFromAmount",\n    value: function setConverterFromAmount(amount) {\n      this.converter_from_amount = amount;\n    }\n  }, {\n    key: "setConverterToAmount",\n    value: function setConverterToAmount(amount) {\n      this.converter_to_amount = amount;\n    }\n  }, {\n    key: "setConverterFromError",\n    value: function setConverterFromError(error) {\n      this.converter_from_error = error;\n    }\n  }, {\n    key: "setConverterToError",\n    value: function setConverterToError(error) {\n      this.converter_to_error = error;\n    }\n  }, {\n    key: "setIsTimerVisible",\n    value: function setIsTimerVisible(is_timer_visible) {\n      this.is_timer_visible = is_timer_visible;\n    }\n  }, {\n    key: "resetTimer",\n    value: function resetTimer() {\n      this.setIsTimerVisible(false);\n    }\n  }, {\n    key: "validateFromAmount",\n    value: function validateFromAmount() {\n      var _this$root_store$modu = this.root_store.modules.cashier,\n        account_transfer = _this$root_store$modu.account_transfer,\n        general_store = _this$root_store$modu.general_store,\n        withdraw = _this$root_store$modu.withdraw;\n      if (general_store.active_container === \'account_transfer\') {\n        account_transfer.validateTransferFromAmount();\n      } else {\n        withdraw.validateWithdrawFromAmount();\n      }\n    }\n  }, {\n    key: "validateToAmount",\n    value: function validateToAmount() {\n      var _this$root_store$modu2 = this.root_store.modules.cashier,\n        account_transfer = _this$root_store$modu2.account_transfer,\n        general_store = _this$root_store$modu2.general_store,\n        withdraw = _this$root_store$modu2.withdraw;\n      if (general_store.active_container === \'account_transfer\') {\n        account_transfer.validateTransferToAmount();\n      } else {\n        withdraw.validateWithdrawToAmount();\n      }\n    }\n  }, {\n    key: "onChangeConverterFromAmount",\n    value: function () {\n      var _onChangeConverterFromAmount = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref, from_currency, to_currency, converted_amount) {\n        var target, _this$root_store$modu3, account_transfer, general_store, decimals, amount;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              target = _ref.target;\n              _this$root_store$modu3 = this.root_store.modules.cashier, account_transfer = _this$root_store$modu3.account_transfer, general_store = _this$root_store$modu3.general_store;\n              this.resetTimer();\n              if (target.value) {\n                this.setConverterFromAmount(target.value);\n                this.validateFromAmount();\n                general_store.percentageSelectorSelectionStatus(true);\n                general_store.calculatePercentage();\n                if (this.converter_from_error) {\n                  this.setConverterToAmount(\'\');\n                  this.setConverterToError(\'\');\n                  this.setIsTimerVisible(false);\n                  account_transfer.setAccountTransferAmount(\'\');\n                } else {\n                  decimals = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getDecimalPlaces)(to_currency || \'\');\n                  amount = (converted_amount === null || converted_amount === void 0 ? void 0 : converted_amount.toFixed(decimals)) || \'1\';\n                  if (+amount || this.converter_from_amount) {\n                    this.setConverterToAmount(amount);\n                  } else {\n                    this.setConverterToAmount(\'\');\n                  }\n                  this.validateToAmount();\n                  this.setConverterToError(\'\');\n                  this.setIsTimerVisible(true);\n                  account_transfer.setAccountTransferAmount(target.value);\n                }\n              } else {\n                this.resetConverter();\n              }\n            case 4:\n            case "end":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function onChangeConverterFromAmount(_x, _x2, _x3, _x4) {\n        return _onChangeConverterFromAmount.apply(this, arguments);\n      }\n      return onChangeConverterFromAmount;\n    }()\n  }, {\n    key: "onChangeConverterToAmount",\n    value: function () {\n      var _onChangeConverterToAmount = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_ref2, to_currency, from_currency, converted_amount) {\n        var target, _this$root_store$modu4, account_transfer, general_store, decimals, amount;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              target = _ref2.target;\n              _this$root_store$modu4 = this.root_store.modules.cashier, account_transfer = _this$root_store$modu4.account_transfer, general_store = _this$root_store$modu4.general_store;\n              this.resetTimer();\n              if (target.value) {\n                this.setConverterToAmount(target.value);\n                this.validateToAmount();\n                if (this.converter_to_error) {\n                  this.setConverterFromAmount(\'\');\n                  this.setConverterFromError(\'\');\n                  this.setIsTimerVisible(false);\n                  account_transfer.setAccountTransferAmount(\'\');\n                } else {\n                  decimals = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getDecimalPlaces)(from_currency);\n                  amount = (converted_amount === null || converted_amount === void 0 ? void 0 : converted_amount.toFixed(decimals)) || \'1\';\n                  if (+amount || this.converter_to_amount) {\n                    this.setConverterFromAmount(amount);\n                  } else {\n                    this.setConverterFromAmount(\'\');\n                  }\n                  general_store.percentageSelectorSelectionStatus(true);\n                  general_store.calculatePercentage();\n                  this.validateFromAmount();\n                  if (this.converter_from_error) {\n                    this.setIsTimerVisible(false);\n                    account_transfer.setAccountTransferAmount(\'\');\n                  } else {\n                    this.setConverterFromError(\'\');\n                    this.setIsTimerVisible(true);\n                    account_transfer.setAccountTransferAmount(amount);\n                  }\n                }\n              } else {\n                this.resetConverter();\n              }\n            case 4:\n            case "end":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function onChangeConverterToAmount(_x5, _x6, _x7, _x8) {\n        return _onChangeConverterToAmount.apply(this, arguments);\n      }\n      return onChangeConverterToAmount;\n    }()\n  }, {\n    key: "resetConverter",\n    value: function resetConverter() {\n      var _this$root_store$modu5;\n      this.setConverterFromAmount(\'\');\n      this.setConverterToAmount(\'\');\n      this.setConverterFromError(\'\');\n      this.setConverterToError(\'\');\n      this.setIsTimerVisible(false);\n      (_this$root_store$modu5 = this.root_store.modules.cashier) === null || _this$root_store$modu5 === void 0 || _this$root_store$modu5.general_store.percentageSelectorSelectionStatus(true);\n    }\n  }]);\n}();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvY3J5cHRvLWZpYXQtY29udmVydGVyLXN0b3JlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQUNBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFBQTtBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQXZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQVNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBQUE7QUFBQTtBQUFBO0FBSEE7QUFBQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBbkNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUF5Q0E7QUFBQTtBQUFBO0FBQUE7QUFIQTtBQUFBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBeENBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBMENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2Nhc2hpZXIvLi9zdG9yZXMvY3J5cHRvLWZpYXQtY29udmVydGVyLXN0b3JlLnRzPzhlODUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWN0aW9uLCBvYnNlcnZhYmxlLCBtYWtlT2JzZXJ2YWJsZSB9IGZyb20gJ21vYngnO1xuaW1wb3J0IHsgZ2V0RGVjaW1hbFBsYWNlcyB9IGZyb20gJ0BkZXJpdi9zaGFyZWQnO1xuaW1wb3J0IHsgVFJvb3RTdG9yZSB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ3J5cHRvRmlhdENvbnZlcnRlclN0b3JlIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcm9vdF9zdG9yZTogVFJvb3RTdG9yZSkge1xuICAgICAgICBtYWtlT2JzZXJ2YWJsZSh0aGlzLCB7XG4gICAgICAgICAgICBjb252ZXJ0ZXJfZnJvbV9hbW91bnQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBjb252ZXJ0ZXJfdG9fYW1vdW50OiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgY29udmVydGVyX2Zyb21fZXJyb3I6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBjb252ZXJ0ZXJfdG9fZXJyb3I6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc190aW1lcl92aXNpYmxlOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgc2V0Q29udmVydGVyRnJvbUFtb3VudDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0Q29udmVydGVyVG9BbW91bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldENvbnZlcnRlckZyb21FcnJvcjogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0Q29udmVydGVyVG9FcnJvcjogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0SXNUaW1lclZpc2libGU6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHJlc2V0VGltZXI6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHZhbGlkYXRlRnJvbUFtb3VudDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgdmFsaWRhdGVUb0Ftb3VudDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgb25DaGFuZ2VDb252ZXJ0ZXJGcm9tQW1vdW50OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBvbkNoYW5nZUNvbnZlcnRlclRvQW1vdW50OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICByZXNldENvbnZlcnRlcjogYWN0aW9uLmJvdW5kLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjb252ZXJ0ZXJfZnJvbV9hbW91bnQgPSAnJztcbiAgICBjb252ZXJ0ZXJfdG9fYW1vdW50ID0gJyc7XG4gICAgY29udmVydGVyX2Zyb21fZXJyb3I6IHN0cmluZyB8IEpTWC5FbGVtZW50ID0gJyc7XG4gICAgY29udmVydGVyX3RvX2Vycm9yID0gJyc7XG4gICAgaXNfdGltZXJfdmlzaWJsZSA9IGZhbHNlO1xuXG4gICAgc2V0Q29udmVydGVyRnJvbUFtb3VudChhbW91bnQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLmNvbnZlcnRlcl9mcm9tX2Ftb3VudCA9IGFtb3VudDtcbiAgICB9XG5cbiAgICBzZXRDb252ZXJ0ZXJUb0Ftb3VudChhbW91bnQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLmNvbnZlcnRlcl90b19hbW91bnQgPSBhbW91bnQ7XG4gICAgfVxuXG4gICAgc2V0Q29udmVydGVyRnJvbUVycm9yKGVycm9yOiBzdHJpbmcgfCBKU1guRWxlbWVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNvbnZlcnRlcl9mcm9tX2Vycm9yID0gZXJyb3I7XG4gICAgfVxuXG4gICAgc2V0Q29udmVydGVyVG9FcnJvcihlcnJvcjogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY29udmVydGVyX3RvX2Vycm9yID0gZXJyb3I7XG4gICAgfVxuXG4gICAgc2V0SXNUaW1lclZpc2libGUoaXNfdGltZXJfdmlzaWJsZTogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB0aGlzLmlzX3RpbWVyX3Zpc2libGUgPSBpc190aW1lcl92aXNpYmxlO1xuICAgIH1cblxuICAgIHJlc2V0VGltZXIoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2V0SXNUaW1lclZpc2libGUoZmFsc2UpO1xuICAgIH1cblxuICAgIHZhbGlkYXRlRnJvbUFtb3VudCgpIHtcbiAgICAgICAgY29uc3QgeyBhY2NvdW50X3RyYW5zZmVyLCBnZW5lcmFsX3N0b3JlLCB3aXRoZHJhdyB9ID0gdGhpcy5yb290X3N0b3JlLm1vZHVsZXMuY2FzaGllcjtcblxuICAgICAgICBpZiAoZ2VuZXJhbF9zdG9yZS5hY3RpdmVfY29udGFpbmVyID09PSAnYWNjb3VudF90cmFuc2ZlcicpIHtcbiAgICAgICAgICAgIGFjY291bnRfdHJhbnNmZXIudmFsaWRhdGVUcmFuc2ZlckZyb21BbW91bnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpdGhkcmF3LnZhbGlkYXRlV2l0aGRyYXdGcm9tQW1vdW50KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB2YWxpZGF0ZVRvQW1vdW50KCkge1xuICAgICAgICBjb25zdCB7IGFjY291bnRfdHJhbnNmZXIsIGdlbmVyYWxfc3RvcmUsIHdpdGhkcmF3IH0gPSB0aGlzLnJvb3Rfc3RvcmUubW9kdWxlcy5jYXNoaWVyO1xuXG4gICAgICAgIGlmIChnZW5lcmFsX3N0b3JlLmFjdGl2ZV9jb250YWluZXIgPT09ICdhY2NvdW50X3RyYW5zZmVyJykge1xuICAgICAgICAgICAgYWNjb3VudF90cmFuc2Zlci52YWxpZGF0ZVRyYW5zZmVyVG9BbW91bnQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdpdGhkcmF3LnZhbGlkYXRlV2l0aGRyYXdUb0Ftb3VudCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgb25DaGFuZ2VDb252ZXJ0ZXJGcm9tQW1vdW50KFxuICAgICAgICB7IHRhcmdldCB9OiB7IHRhcmdldDogeyB2YWx1ZTogc3RyaW5nIH0gfSxcbiAgICAgICAgZnJvbV9jdXJyZW5jeT86IHN0cmluZyxcbiAgICAgICAgdG9fY3VycmVuY3k/OiBzdHJpbmcsXG4gICAgICAgIGNvbnZlcnRlZF9hbW91bnQ/OiBudW1iZXJcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBhY2NvdW50X3RyYW5zZmVyLCBnZW5lcmFsX3N0b3JlIH0gPSB0aGlzLnJvb3Rfc3RvcmUubW9kdWxlcy5jYXNoaWVyO1xuXG4gICAgICAgIHRoaXMucmVzZXRUaW1lcigpO1xuICAgICAgICBpZiAodGFyZ2V0LnZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnNldENvbnZlcnRlckZyb21BbW91bnQodGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGVGcm9tQW1vdW50KCk7XG4gICAgICAgICAgICBnZW5lcmFsX3N0b3JlLnBlcmNlbnRhZ2VTZWxlY3RvclNlbGVjdGlvblN0YXR1cyh0cnVlKTtcbiAgICAgICAgICAgIGdlbmVyYWxfc3RvcmUuY2FsY3VsYXRlUGVyY2VudGFnZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29udmVydGVyX2Zyb21fZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvbnZlcnRlclRvQW1vdW50KCcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvbnZlcnRlclRvRXJyb3IoJycpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SXNUaW1lclZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGFjY291bnRfdHJhbnNmZXIuc2V0QWNjb3VudFRyYW5zZmVyQW1vdW50KCcnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVjaW1hbHMgPSBnZXREZWNpbWFsUGxhY2VzKHRvX2N1cnJlbmN5IHx8ICcnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhbW91bnQgPSBjb252ZXJ0ZWRfYW1vdW50Py50b0ZpeGVkKGRlY2ltYWxzKSB8fCAnMSc7XG4gICAgICAgICAgICAgICAgaWYgKCthbW91bnQgfHwgdGhpcy5jb252ZXJ0ZXJfZnJvbV9hbW91bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDb252ZXJ0ZXJUb0Ftb3VudChhbW91bnQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udmVydGVyVG9BbW91bnQoJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnZhbGlkYXRlVG9BbW91bnQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldENvbnZlcnRlclRvRXJyb3IoJycpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SXNUaW1lclZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgYWNjb3VudF90cmFuc2Zlci5zZXRBY2NvdW50VHJhbnNmZXJBbW91bnQodGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXRDb252ZXJ0ZXIoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIG9uQ2hhbmdlQ29udmVydGVyVG9BbW91bnQoXG4gICAgICAgIHsgdGFyZ2V0IH06IHsgdGFyZ2V0OiB7IHZhbHVlOiBzdHJpbmcgfSB9LFxuICAgICAgICB0b19jdXJyZW5jeTogc3RyaW5nLFxuICAgICAgICBmcm9tX2N1cnJlbmN5OiBzdHJpbmcsXG4gICAgICAgIGNvbnZlcnRlZF9hbW91bnQ/OiBudW1iZXJcbiAgICApOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgY29uc3QgeyBhY2NvdW50X3RyYW5zZmVyLCBnZW5lcmFsX3N0b3JlIH0gPSB0aGlzLnJvb3Rfc3RvcmUubW9kdWxlcy5jYXNoaWVyO1xuXG4gICAgICAgIHRoaXMucmVzZXRUaW1lcigpO1xuICAgICAgICBpZiAodGFyZ2V0LnZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnNldENvbnZlcnRlclRvQW1vdW50KHRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlVG9BbW91bnQoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnZlcnRlcl90b19lcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udmVydGVyRnJvbUFtb3VudCgnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDb252ZXJ0ZXJGcm9tRXJyb3IoJycpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SXNUaW1lclZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGFjY291bnRfdHJhbnNmZXIuc2V0QWNjb3VudFRyYW5zZmVyQW1vdW50KCcnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGVjaW1hbHMgPSBnZXREZWNpbWFsUGxhY2VzKGZyb21fY3VycmVuY3kpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFtb3VudCA9IGNvbnZlcnRlZF9hbW91bnQ/LnRvRml4ZWQoZGVjaW1hbHMpIHx8ICcxJztcbiAgICAgICAgICAgICAgICBpZiAoK2Ftb3VudCB8fCB0aGlzLmNvbnZlcnRlcl90b19hbW91bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDb252ZXJ0ZXJGcm9tQW1vdW50KGFtb3VudCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDb252ZXJ0ZXJGcm9tQW1vdW50KCcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ2VuZXJhbF9zdG9yZS5wZXJjZW50YWdlU2VsZWN0b3JTZWxlY3Rpb25TdGF0dXModHJ1ZSk7XG4gICAgICAgICAgICAgICAgZ2VuZXJhbF9zdG9yZS5jYWxjdWxhdGVQZXJjZW50YWdlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy52YWxpZGF0ZUZyb21BbW91bnQoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb252ZXJ0ZXJfZnJvbV9lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldElzVGltZXJWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudF90cmFuc2Zlci5zZXRBY2NvdW50VHJhbnNmZXJBbW91bnQoJycpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udmVydGVyRnJvbUVycm9yKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRJc1RpbWVyVmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudF90cmFuc2Zlci5zZXRBY2NvdW50VHJhbnNmZXJBbW91bnQoYW1vdW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0Q29udmVydGVyKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXNldENvbnZlcnRlcigpIHtcbiAgICAgICAgdGhpcy5zZXRDb252ZXJ0ZXJGcm9tQW1vdW50KCcnKTtcbiAgICAgICAgdGhpcy5zZXRDb252ZXJ0ZXJUb0Ftb3VudCgnJyk7XG4gICAgICAgIHRoaXMuc2V0Q29udmVydGVyRnJvbUVycm9yKCcnKTtcbiAgICAgICAgdGhpcy5zZXRDb252ZXJ0ZXJUb0Vycm9yKCcnKTtcbiAgICAgICAgdGhpcy5zZXRJc1RpbWVyVmlzaWJsZShmYWxzZSk7XG4gICAgICAgIHRoaXMucm9vdF9zdG9yZS5tb2R1bGVzLmNhc2hpZXI/LmdlbmVyYWxfc3RvcmUucGVyY2VudGFnZVNlbGVjdG9yU2VsZWN0aW9uU3RhdHVzKHRydWUpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./stores/crypto-fiat-converter-store.ts\n')},"./stores/error-store.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ ErrorStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ "mobx");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ "@deriv/shared");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__);\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\n\nvar ErrorStore = /*#__PURE__*/function () {\n  function ErrorStore() {\n    _classCallCheck(this, ErrorStore);\n    this.message = \'\';\n    this.code = \'\';\n    this.fields = \'\';\n    this.is_show_full_page = false;\n    this.onClickButton = null;\n    this.is_self_exclusion_max_turnover_set = false;\n    this.is_ask_authentication = false;\n    this.is_ask_financial_risk_approval = false;\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(this, {\n      message: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      code: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      fields: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_show_full_page: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      onClickButton: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_self_exclusion_max_turnover_set: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_ask_authentication: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_ask_financial_risk_approval: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      setErrorMessage: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      handleCashierError: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setMessage: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsSelfExclusionMaxTurnoverSet: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsAskAuthentication: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsAskFinancialRiskApproval: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n  }\n  return _createClass(ErrorStore, [{\n    key: "setErrorMessage",\n    value: function setErrorMessage(error, onClickButton, is_show_full_page) {\n      var _error$details;\n      // for errors that need to show a button, reset the form\n      var error_object = _objectSpread({\n        onClickButton: onClickButton,\n        code: error.code,\n        message: error.message,\n        is_show_full_page: is_show_full_page || /InvalidToken|WrongResponse/.test(error.code)\n      }, (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getPropertyValue)(error, [\'details\', \'fields\']) && {\n        fields: (_error$details = error.details) === null || _error$details === void 0 ? void 0 : _error$details.fields\n      });\n      this.onClickButton = error_object.onClickButton;\n      this.code = error_object.code;\n      this.message = error_object.message;\n      this.is_show_full_page = error_object.is_show_full_page;\n      this.fields = error_object.fields;\n      this.is_self_exclusion_max_turnover_set = error_object === null || error_object === void 0 ? void 0 : error_object.is_self_exclusion_max_turnover_set;\n      this.is_ask_authentication = error_object === null || error_object === void 0 ? void 0 : error_object.is_ask_authentication;\n      this.is_ask_financial_risk_approval = error_object === null || error_object === void 0 ? void 0 : error_object.is_ask_financial_risk_approval;\n    }\n  }, {\n    key: "handleCashierError",\n    value: function handleCashierError(error) {\n      switch (error.code) {\n        case \'ASK_TNC_APPROVAL\':\n          this.setErrorMessage(error, null, true);\n          break;\n        case \'ASK_FIX_DETAILS\':\n          this.setErrorMessage(error, null, true);\n          break;\n        case \'ASK_SELF_EXCLUSION_MAX_TURNOVER_SET\':\n          this.setIsSelfExclusionMaxTurnoverSet(true);\n          break;\n        case \'ASK_AUTHENTICATE\':\n        case \'ASK_AGE_VERIFICATION\':\n          this.setIsAskAuthentication(true);\n          break;\n        case \'ASK_FINANCIAL_RISK_APPROVAL\':\n          this.setIsAskFinancialRiskApproval(true);\n          break;\n        default:\n          this.setErrorMessage(error);\n          this.setIsSelfExclusionMaxTurnoverSet(false);\n          this.setIsAskAuthentication(false);\n          this.setIsAskFinancialRiskApproval(false);\n      }\n    }\n  }, {\n    key: "setMessage",\n    value: function setMessage(value) {\n      this.message = value;\n    }\n  }, {\n    key: "setIsSelfExclusionMaxTurnoverSet",\n    value: function setIsSelfExclusionMaxTurnoverSet(value) {\n      this.is_self_exclusion_max_turnover_set = value;\n    }\n  }, {\n    key: "setIsAskAuthentication",\n    value: function setIsAskAuthentication(value) {\n      this.is_ask_authentication = value;\n    }\n  }, {\n    key: "setIsAskFinancialRiskApproval",\n    value: function setIsAskFinancialRiskApproval(value) {\n      this.is_ask_financial_risk_approval = value;\n    }\n  }]);\n}();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvZXJyb3Itc3RvcmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFtQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvY2FzaGllci8uL3N0b3Jlcy9lcnJvci1zdG9yZS50cz9mMTQ5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFjdGlvbiwgbWFrZU9ic2VydmFibGUsIG9ic2VydmFibGUgfSBmcm9tICdtb2J4JztcbmltcG9ydCB7IGdldFByb3BlcnR5VmFsdWUgfSBmcm9tICdAZGVyaXYvc2hhcmVkJztcbmltcG9ydCB7IFRTZXJ2ZXJFcnJvciB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXJyb3JTdG9yZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIG1ha2VPYnNlcnZhYmxlKHRoaXMsIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBjb2RlOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgZmllbGRzOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfc2hvd19mdWxsX3BhZ2U6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBvbkNsaWNrQnV0dG9uOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfc2VsZl9leGNsdXNpb25fbWF4X3R1cm5vdmVyX3NldDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGlzX2Fza19hdXRoZW50aWNhdGlvbjogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGlzX2Fza19maW5hbmNpYWxfcmlza19hcHByb3ZhbDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIHNldEVycm9yTWVzc2FnZTogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgaGFuZGxlQ2FzaGllckVycm9yOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRNZXNzYWdlOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRJc1NlbGZFeGNsdXNpb25NYXhUdXJub3ZlclNldDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0SXNBc2tBdXRoZW50aWNhdGlvbjogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0SXNBc2tGaW5hbmNpYWxSaXNrQXBwcm92YWw6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbWVzc2FnZSA9ICcnO1xuICAgIGNvZGUgPSAnJztcbiAgICBmaWVsZHM6IHN0cmluZyB8IHN0cmluZ1tdID0gJyc7XG4gICAgaXNfc2hvd19mdWxsX3BhZ2UgPSBmYWxzZTtcbiAgICBvbkNsaWNrQnV0dG9uOiBWb2lkRnVuY3Rpb24gfCAoKCkgPT4gUHJvbWlzZTx2b2lkPikgfCBudWxsID0gbnVsbDtcbiAgICBpc19zZWxmX2V4Y2x1c2lvbl9tYXhfdHVybm92ZXJfc2V0ID0gZmFsc2U7XG4gICAgaXNfYXNrX2F1dGhlbnRpY2F0aW9uID0gZmFsc2U7XG4gICAgaXNfYXNrX2ZpbmFuY2lhbF9yaXNrX2FwcHJvdmFsID0gZmFsc2U7XG5cbiAgICBzZXRFcnJvck1lc3NhZ2UoXG4gICAgICAgIGVycm9yOiBUU2VydmVyRXJyb3IsXG4gICAgICAgIG9uQ2xpY2tCdXR0b24/OiBWb2lkRnVuY3Rpb24gfCAoKCkgPT4gUHJvbWlzZTx2b2lkPikgfCBudWxsLFxuICAgICAgICBpc19zaG93X2Z1bGxfcGFnZT86IGJvb2xlYW5cbiAgICApOiB2b2lkIHtcbiAgICAgICAgLy8gZm9yIGVycm9ycyB0aGF0IG5lZWQgdG8gc2hvdyBhIGJ1dHRvbiwgcmVzZXQgdGhlIGZvcm1cbiAgICAgICAgY29uc3QgZXJyb3Jfb2JqZWN0ID0ge1xuICAgICAgICAgICAgb25DbGlja0J1dHRvbixcbiAgICAgICAgICAgIGNvZGU6IGVycm9yLmNvZGUsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgaXNfc2hvd19mdWxsX3BhZ2U6IGlzX3Nob3dfZnVsbF9wYWdlIHx8IC9JbnZhbGlkVG9rZW58V3JvbmdSZXNwb25zZS8udGVzdChlcnJvci5jb2RlKSxcbiAgICAgICAgICAgIC4uLihnZXRQcm9wZXJ0eVZhbHVlKGVycm9yLCBbJ2RldGFpbHMnLCAnZmllbGRzJ10pICYmIHtcbiAgICAgICAgICAgICAgICBmaWVsZHM6IGVycm9yLmRldGFpbHM/LmZpZWxkcyxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMub25DbGlja0J1dHRvbiA9IGVycm9yX29iamVjdC5vbkNsaWNrQnV0dG9uO1xuICAgICAgICB0aGlzLmNvZGUgPSBlcnJvcl9vYmplY3QuY29kZTtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gZXJyb3Jfb2JqZWN0Lm1lc3NhZ2U7XG4gICAgICAgIHRoaXMuaXNfc2hvd19mdWxsX3BhZ2UgPSBlcnJvcl9vYmplY3QuaXNfc2hvd19mdWxsX3BhZ2U7XG4gICAgICAgIHRoaXMuZmllbGRzID0gZXJyb3Jfb2JqZWN0LmZpZWxkcztcbiAgICAgICAgdGhpcy5pc19zZWxmX2V4Y2x1c2lvbl9tYXhfdHVybm92ZXJfc2V0ID0gZXJyb3Jfb2JqZWN0Py5pc19zZWxmX2V4Y2x1c2lvbl9tYXhfdHVybm92ZXJfc2V0O1xuICAgICAgICB0aGlzLmlzX2Fza19hdXRoZW50aWNhdGlvbiA9IGVycm9yX29iamVjdD8uaXNfYXNrX2F1dGhlbnRpY2F0aW9uO1xuICAgICAgICB0aGlzLmlzX2Fza19maW5hbmNpYWxfcmlza19hcHByb3ZhbCA9IGVycm9yX29iamVjdD8uaXNfYXNrX2ZpbmFuY2lhbF9yaXNrX2FwcHJvdmFsO1xuICAgIH1cblxuICAgIGhhbmRsZUNhc2hpZXJFcnJvcihlcnJvcjogVFNlcnZlckVycm9yKTogdm9pZCB7XG4gICAgICAgIHN3aXRjaCAoZXJyb3IuY29kZSkge1xuICAgICAgICAgICAgY2FzZSAnQVNLX1ROQ19BUFBST1ZBTCc6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRFcnJvck1lc3NhZ2UoZXJyb3IsIG51bGwsIHRydWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnQVNLX0ZJWF9ERVRBSUxTJzpcbiAgICAgICAgICAgICAgICB0aGlzLnNldEVycm9yTWVzc2FnZShlcnJvciwgbnVsbCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdBU0tfU0VMRl9FWENMVVNJT05fTUFYX1RVUk5PVkVSX1NFVCc6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJc1NlbGZFeGNsdXNpb25NYXhUdXJub3ZlclNldCh0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0FTS19BVVRIRU5USUNBVEUnOlxuICAgICAgICAgICAgY2FzZSAnQVNLX0FHRV9WRVJJRklDQVRJT04nOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0SXNBc2tBdXRoZW50aWNhdGlvbih0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ0FTS19GSU5BTkNJQUxfUklTS19BUFBST1ZBTCc6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJc0Fza0ZpbmFuY2lhbFJpc2tBcHByb3ZhbCh0cnVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRFcnJvck1lc3NhZ2UoZXJyb3IpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SXNTZWxmRXhjbHVzaW9uTWF4VHVybm92ZXJTZXQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SXNBc2tBdXRoZW50aWNhdGlvbihmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJc0Fza0ZpbmFuY2lhbFJpc2tBcHByb3ZhbChmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRNZXNzYWdlKHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tZXNzYWdlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgc2V0SXNTZWxmRXhjbHVzaW9uTWF4VHVybm92ZXJTZXQodmFsdWU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pc19zZWxmX2V4Y2x1c2lvbl9tYXhfdHVybm92ZXJfc2V0ID0gdmFsdWU7XG4gICAgfVxuXG4gICAgc2V0SXNBc2tBdXRoZW50aWNhdGlvbih2YWx1ZTogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB0aGlzLmlzX2Fza19hdXRoZW50aWNhdGlvbiA9IHZhbHVlO1xuICAgIH1cblxuICAgIHNldElzQXNrRmluYW5jaWFsUmlza0FwcHJvdmFsKHZhbHVlOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaXNfYXNrX2ZpbmFuY2lhbF9yaXNrX2FwcHJvdmFsID0gdmFsdWU7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./stores/error-store.ts\n')},"./stores/general-store.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ GeneralStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ "mobx");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ "@deriv/shared");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var Constants_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! Constants/constants */ "./constants/constants.ts");\n/* harmony import */ var _base_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base-store */ "./stores/base-store.ts");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\n\n\n\n\nvar GeneralStore = /*#__PURE__*/function (_BaseStore) {\n  function GeneralStore(WS, root_store) {\n    var _this;\n    _classCallCheck(this, GeneralStore);\n    _this = _callSuper(this, GeneralStore, [{\n      root_store: root_store\n    }]);\n    _this.WS = WS;\n    _this.root_store = root_store;\n    _this.active_container = \'deposit\';\n    _this.cashier_route_tab_index = 0;\n    _this.deposit_target = \'\';\n    _this.is_cashier_onboarding = true;\n    _this.is_deposit = false;\n    _this.is_loading = false;\n    _this.is_populating_values = false;\n    _this.onRemount = function () {\n      return _this;\n    };\n    _this.percentage = 0;\n    _this.payment_agent = null;\n    _this.should_percentage_reset = false;\n    _this.should_show_all_available_currencies = false;\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(_this, {\n      calculatePercentage: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      cashier_route_tab_index: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      deposit_target: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      init: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      is_cashier_onboarding: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_crypto: mobx__WEBPACK_IMPORTED_MODULE_0__.computed,\n      is_crypto_provider: mobx__WEBPACK_IMPORTED_MODULE_0__.computed,\n      is_deposit: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_loading: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      onMountCommon: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onRemount: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      percentage: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      percentageSelectorSelectionStatus: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      payment_agent: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      setAccountSwitchListener: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setActiveTab: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setCashierTabIndex: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setDepositTarget: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsCashierOnboarding: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsDeposit: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setLoading: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setOnRemount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setShouldShowAllAvailableCurrencies: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      should_percentage_reset: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      should_show_all_available_currencies: mobx__WEBPACK_IMPORTED_MODULE_0__.observable\n    });\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.reaction)(function () {\n      return [_this.root_store.client.switched, _this.root_store.client.is_logged_in, _this.root_store.client.currency];\n    }, function () {\n      _this.init();\n    });\n    return _this;\n  }\n  _inherits(GeneralStore, _BaseStore);\n  return _createClass(GeneralStore, [{\n    key: "setOnRemount",\n    value: function setOnRemount(func) {\n      this.onRemount = func;\n    }\n    /**\n     * @deprecated This is a legacy method and should not be used. Please use `is_crypto_provider` instead.\n     */\n  }, {\n    key: "is_crypto",\n    get: function get() {\n      var currency = this.root_store.client.currency;\n      return !!currency && (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isCryptocurrency)(currency);\n    }\n  }, {\n    key: "is_crypto_provider",\n    get: function get() {\n      var _this$root_store$clie = this.root_store.client,\n        currency = _this$root_store$clie.currency,\n        website_status = _this$root_store$clie.website_status;\n      //@ts-expect-error we need to update the api-types version\n      return website_status === null || website_status === void 0 ? void 0 : website_status.currencies_config[currency].platform.cashier.includes(\'crypto\');\n    }\n  }, {\n    key: "calculatePercentage",\n    value: function calculatePercentage() {\n      var amount = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.root_store.modules.cashier.crypto_fiat_converter.converter_from_amount;\n      var _this$root_store = this.root_store,\n        client = _this$root_store.client,\n        modules = _this$root_store.modules;\n      var account_transfer = modules.cashier.account_transfer;\n      if (this.active_container === \'account_transfer\') {\n        this.percentage = Number((Number(amount) / Number(account_transfer.selected_from.balance) * 100).toFixed(0));\n      } else {\n        this.percentage = Number((Number(amount) / Number(client.balance) * 100).toFixed(0));\n      }\n      if (!isFinite(this.percentage)) {\n        this.percentage = 0;\n      }\n    }\n  }, {\n    key: "percentageSelectorSelectionStatus",\n    value: function percentageSelectorSelectionStatus(should_percentage_reset) {\n      this.should_percentage_reset = should_percentage_reset;\n      if (should_percentage_reset) {\n        this.percentage = 0;\n      }\n    }\n  }, {\n    key: "setIsDeposit",\n    value: function setIsDeposit(is_deposit) {\n      this.is_deposit = is_deposit;\n    }\n  }, {\n    key: "setShouldShowAllAvailableCurrencies",\n    value: function setShouldShowAllAvailableCurrencies(value) {\n      this.should_show_all_available_currencies = value;\n    }\n  }, {\n    key: "setIsCashierOnboarding",\n    value: function setIsCashierOnboarding(is_cashier_onboarding) {\n      this.is_cashier_onboarding = is_cashier_onboarding;\n    }\n  }, {\n    key: "setDepositTarget",\n    value: function setDepositTarget(target) {\n      this.deposit_target = target;\n    }\n  }, {\n    key: "setAccountSwitchListener",\n    value: function setAccountSwitchListener() {\n      // cashier inits once and tries to stay active until switching account\n      // since cashier calls take a long time to respond or display in iframe\n      // so we don\'t have any unmount function here and everything gets reset on switch instead\n      this.disposeSwitchAccount();\n      this.onSwitchAccount(this.accountSwitcherListener);\n    }\n  }, {\n    key: "init",\n    value: function () {\n      var _init = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _this$root_store2, _this$root_store2$cli, is_logged_in, switched, modules, _modules$cashier, payment_agent, withdraw;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              if (!this.root_store.modules.cashier) {\n                _context.next = 10;\n                break;\n              }\n              _this$root_store2 = this.root_store, _this$root_store2$cli = _this$root_store2.client, is_logged_in = _this$root_store2$cli.is_logged_in, switched = _this$root_store2$cli.switched, modules = _this$root_store2.modules;\n              _modules$cashier = modules.cashier, payment_agent = _modules$cashier.payment_agent, withdraw = _modules$cashier.withdraw; // wait for client settings to be populated in client-store\n              _context.next = 5;\n              return this.WS.wait(\'get_settings\');\n            case 5:\n              if (!is_logged_in) {\n                _context.next = 10;\n                break;\n              }\n              if (switched) {\n                _context.next = 10;\n                break;\n              }\n              payment_agent.setPaymentAgentList().then(function () {\n                return payment_agent.filterPaymentAgentList();\n              });\n              // check if withdrawal limit is reached\n              // if yes, this will trigger to show a notification\n              _context.next = 10;\n              return withdraw.check10kLimit();\n            case 10:\n            case "end":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function init() {\n        return _init.apply(this, arguments);\n      }\n      return init;\n    }()\n  }, {\n    key: "onMountCommon",\n    value: function () {\n      var _onMountCommon = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(should_remount) {\n        var _this$root_store3, client, common, modules, is_from_derivgo, routeTo, _modules$cashier2, account_transfer, onramp, payment_agent, transaction_history;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _this$root_store3 = this.root_store, client = _this$root_store3.client, common = _this$root_store3.common, modules = _this$root_store3.modules;\n              is_from_derivgo = common.is_from_derivgo, routeTo = common.routeTo;\n              _modules$cashier2 = modules.cashier, account_transfer = _modules$cashier2.account_transfer, onramp = _modules$cashier2.onramp, payment_agent = _modules$cashier2.payment_agent, transaction_history = _modules$cashier2.transaction_history;\n              if (!(!client.is_logged_in || this.is_populating_values)) {\n                _context2.next = 5;\n                break;\n              }\n              return _context2.abrupt("return");\n            case 5:\n              this.is_populating_values = true;\n              if (should_remount) {\n                this.setOnRemount(this.onMountCommon);\n              }\n              // we need to see if client\'s country has PA\n              // if yes, we can show the PA tab in cashier\n              this.setLoading(true);\n              _context2.next = 10;\n              return payment_agent.setPaymentAgentList();\n            case 10:\n              payment_agent.filterPaymentAgentList();\n              this.setLoading(false);\n              if (!account_transfer.accounts_list.length) {\n                account_transfer.sortAccountsTransfer(null, is_from_derivgo);\n              }\n              if (!payment_agent.is_payment_agent_visible && window.location.pathname.endsWith(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.cashier_pa)) {\n                routeTo(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.cashier_deposit);\n              }\n              if (!onramp.is_onramp_tab_visible && window.location.pathname.endsWith(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.cashier_onramp)) {\n                routeTo(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.cashier_deposit);\n              }\n              if (!transaction_history.is_transactions_crypto_visible && window.location.pathname.endsWith(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.cashier_transactions_crypto)) {\n                routeTo(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.cashier_deposit);\n                transaction_history.setIsTransactionsCryptoVisible(true);\n              }\n            case 16:\n            case "end":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function onMountCommon(_x) {\n        return _onMountCommon.apply(this, arguments);\n      }\n      return onMountCommon;\n    }()\n  }, {\n    key: "setCashierTabIndex",\n    value: function setCashierTabIndex(index) {\n      this.cashier_route_tab_index = index;\n    }\n  }, {\n    key: "setLoading",\n    value: function setLoading(is_loading) {\n      this.is_loading = is_loading;\n    }\n  }, {\n    key: "setActiveTab",\n    value: function setActiveTab(container) {\n      if (this.active_container === \'payment_agent\' && container !== \'payment_agent\') {\n        this.root_store.modules.cashier.payment_agent.resetPaymentAgent();\n      }\n      this.active_container = container;\n    }\n  }, {\n    key: "accountSwitcherListener",\n    value: function accountSwitcherListener() {\n      var _this$root_store4 = this.root_store,\n        client = _this$root_store4.client,\n        modules = _this$root_store4.modules;\n      var _modules$cashier3 = modules.cashier,\n        iframe = _modules$cashier3.iframe,\n        payment_agent = _modules$cashier3.payment_agent;\n      var container = Constants_constants__WEBPACK_IMPORTED_MODULE_2__["default"].map_action[this.active_container];\n      client.setVerificationCode(\'\', container);\n      iframe.clearIframe();\n      this.payment_agent = payment_agent;\n      if (payment_agent.active_tab_index === 1 && window.location.pathname.endsWith(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.cashier_pa)) {\n        payment_agent.setActiveTab(1);\n      }\n      this.is_populating_values = false;\n      this.onRemount();\n      return Promise.resolve();\n    }\n  }]);\n}(_base_store__WEBPACK_IMPORTED_MODULE_3__["default"]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvZ2VuZXJhbC1zdG9yZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFLQTtBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUhBO0FBQ0E7QUFrREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUF4REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUlBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXNCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUlBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBcEJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFzQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUlBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBeENBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBMkNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2Nhc2hpZXIvLi9zdG9yZXMvZ2VuZXJhbC1zdG9yZS50cz8wYjQ3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFjdGlvbiwgY29tcHV0ZWQsIG9ic2VydmFibGUsIHJlYWN0aW9uLCBtYWtlT2JzZXJ2YWJsZSB9IGZyb20gJ21vYngnO1xuaW1wb3J0IHsgaXNDcnlwdG9jdXJyZW5jeSwgcm91dGVzIH0gZnJvbSAnQGRlcml2L3NoYXJlZCc7XG5pbXBvcnQgQ29uc3RhbnRzIGZyb20gJ0NvbnN0YW50cy9jb25zdGFudHMnO1xuaW1wb3J0IEJhc2VTdG9yZSBmcm9tICcuL2Jhc2Utc3RvcmUnO1xuaW1wb3J0IFBheW1lbnRBZ2VudFN0b3JlIGZyb20gJy4vcGF5bWVudC1hZ2VudC1zdG9yZSc7XG5pbXBvcnQgdHlwZSB7IFRSb290U3RvcmUsIFRXZWJTb2NrZXQgfSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdlbmVyYWxTdG9yZSBleHRlbmRzIEJhc2VTdG9yZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBXUzogVFdlYlNvY2tldCxcbiAgICAgICAgcHVibGljIHJvb3Rfc3RvcmU6IFRSb290U3RvcmVcbiAgICApIHtcbiAgICAgICAgc3VwZXIoeyByb290X3N0b3JlIH0pO1xuXG4gICAgICAgIG1ha2VPYnNlcnZhYmxlKHRoaXMsIHtcbiAgICAgICAgICAgIGNhbGN1bGF0ZVBlcmNlbnRhZ2U6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGNhc2hpZXJfcm91dGVfdGFiX2luZGV4OiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgZGVwb3NpdF90YXJnZXQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpbml0OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBpc19jYXNoaWVyX29uYm9hcmRpbmc6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc19jcnlwdG86IGNvbXB1dGVkLFxuICAgICAgICAgICAgaXNfY3J5cHRvX3Byb3ZpZGVyOiBjb21wdXRlZCxcbiAgICAgICAgICAgIGlzX2RlcG9zaXQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc19sb2FkaW5nOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgb25Nb3VudENvbW1vbjogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgb25SZW1vdW50OiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgcGVyY2VudGFnZTogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIHBlcmNlbnRhZ2VTZWxlY3RvclNlbGVjdGlvblN0YXR1czogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgcGF5bWVudF9hZ2VudDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIHNldEFjY291bnRTd2l0Y2hMaXN0ZW5lcjogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0QWN0aXZlVGFiOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRDYXNoaWVyVGFiSW5kZXg6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldERlcG9zaXRUYXJnZXQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldElzQ2FzaGllck9uYm9hcmRpbmc6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldElzRGVwb3NpdDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0TG9hZGluZzogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0T25SZW1vdW50OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRTaG91bGRTaG93QWxsQXZhaWxhYmxlQ3VycmVuY2llczogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2hvdWxkX3BlcmNlbnRhZ2VfcmVzZXQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBzaG91bGRfc2hvd19hbGxfYXZhaWxhYmxlX2N1cnJlbmNpZXM6IG9ic2VydmFibGUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJlYWN0aW9uKFxuICAgICAgICAgICAgKCkgPT4gW1xuICAgICAgICAgICAgICAgIHRoaXMucm9vdF9zdG9yZS5jbGllbnQuc3dpdGNoZWQsXG4gICAgICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLmNsaWVudC5pc19sb2dnZWRfaW4sXG4gICAgICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLmNsaWVudC5jdXJyZW5jeSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgYWN0aXZlX2NvbnRhaW5lcjpcbiAgICAgICAgfCAnYWNjb3VudF90cmFuc2ZlcidcbiAgICAgICAgfCAnZGVwb3NpdCdcbiAgICAgICAgfCAncGF5bWVudF9hZ2VudCdcbiAgICAgICAgfCAncGF5bWVudF9hZ2VudF90cmFuc2ZlcidcbiAgICAgICAgfCAnd2l0aGRyYXcnXG4gICAgICAgIHwgJ29ucmFtcCcgPSAnZGVwb3NpdCc7XG4gICAgY2FzaGllcl9yb3V0ZV90YWJfaW5kZXggPSAwO1xuICAgIGRlcG9zaXRfdGFyZ2V0OiAnL2Nhc2hpZXIvZGVwb3NpdCcgfCAnL2Nhc2hpZXIvb24tcmFtcCcgfCAnL2Nhc2hpZXIvcDJwJyB8ICcvY2FzaGllci9wYXltZW50LWFnZW50JyB8ICcnID0gJyc7XG4gICAgaXNfY2FzaGllcl9vbmJvYXJkaW5nID0gdHJ1ZTtcbiAgICBpc19kZXBvc2l0ID0gZmFsc2U7XG4gICAgaXNfbG9hZGluZyA9IGZhbHNlO1xuICAgIGlzX3BvcHVsYXRpbmdfdmFsdWVzID0gZmFsc2U7XG4gICAgb25SZW1vdW50OiBWb2lkRnVuY3Rpb24gPSAoKSA9PiB0aGlzO1xuICAgIHBlcmNlbnRhZ2UgPSAwO1xuICAgIHBheW1lbnRfYWdlbnQ6IFBheW1lbnRBZ2VudFN0b3JlIHwgbnVsbCA9IG51bGw7XG4gICAgc2hvdWxkX3BlcmNlbnRhZ2VfcmVzZXQgPSBmYWxzZTtcbiAgICBzaG91bGRfc2hvd19hbGxfYXZhaWxhYmxlX2N1cnJlbmNpZXMgPSBmYWxzZTtcblxuICAgIHNldE9uUmVtb3VudChmdW5jOiBWb2lkRnVuY3Rpb24pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vblJlbW91bnQgPSBmdW5jO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVwcmVjYXRlZCBUaGlzIGlzIGEgbGVnYWN5IG1ldGhvZCBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkLiBQbGVhc2UgdXNlIGBpc19jcnlwdG9fcHJvdmlkZXJgIGluc3RlYWQuXG4gICAgICovXG4gICAgZ2V0IGlzX2NyeXB0bygpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgeyBjdXJyZW5jeSB9ID0gdGhpcy5yb290X3N0b3JlLmNsaWVudDtcbiAgICAgICAgcmV0dXJuICEhY3VycmVuY3kgJiYgaXNDcnlwdG9jdXJyZW5jeShjdXJyZW5jeSk7XG4gICAgfVxuXG4gICAgZ2V0IGlzX2NyeXB0b19wcm92aWRlcigpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgeyBjdXJyZW5jeSwgd2Vic2l0ZV9zdGF0dXMgfSA9IHRoaXMucm9vdF9zdG9yZS5jbGllbnQ7XG4gICAgICAgIC8vQHRzLWV4cGVjdC1lcnJvciB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgYXBpLXR5cGVzIHZlcnNpb25cbiAgICAgICAgcmV0dXJuIHdlYnNpdGVfc3RhdHVzPy5jdXJyZW5jaWVzX2NvbmZpZ1tjdXJyZW5jeV0ucGxhdGZvcm0uY2FzaGllci5pbmNsdWRlcygnY3J5cHRvJyk7XG4gICAgfVxuXG4gICAgY2FsY3VsYXRlUGVyY2VudGFnZShhbW91bnQgPSB0aGlzLnJvb3Rfc3RvcmUubW9kdWxlcy5jYXNoaWVyLmNyeXB0b19maWF0X2NvbnZlcnRlci5jb252ZXJ0ZXJfZnJvbV9hbW91bnQpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgeyBjbGllbnQsIG1vZHVsZXMgfSA9IHRoaXMucm9vdF9zdG9yZTtcbiAgICAgICAgY29uc3QgeyBhY2NvdW50X3RyYW5zZmVyIH0gPSBtb2R1bGVzLmNhc2hpZXI7XG5cbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlX2NvbnRhaW5lciA9PT0gJ2FjY291bnRfdHJhbnNmZXInKSB7XG4gICAgICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgPSBOdW1iZXIoXG4gICAgICAgICAgICAgICAgKChOdW1iZXIoYW1vdW50KSAvIE51bWJlcihhY2NvdW50X3RyYW5zZmVyLnNlbGVjdGVkX2Zyb20uYmFsYW5jZSkpICogMTAwKS50b0ZpeGVkKDApXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wZXJjZW50YWdlID0gTnVtYmVyKCgoTnVtYmVyKGFtb3VudCkgLyBOdW1iZXIoY2xpZW50LmJhbGFuY2UpKSAqIDEwMCkudG9GaXhlZCgwKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0Zpbml0ZSh0aGlzLnBlcmNlbnRhZ2UpKSB7XG4gICAgICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgPSAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGVyY2VudGFnZVNlbGVjdG9yU2VsZWN0aW9uU3RhdHVzKHNob3VsZF9wZXJjZW50YWdlX3Jlc2V0OiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2hvdWxkX3BlcmNlbnRhZ2VfcmVzZXQgPSBzaG91bGRfcGVyY2VudGFnZV9yZXNldDtcblxuICAgICAgICBpZiAoc2hvdWxkX3BlcmNlbnRhZ2VfcmVzZXQpIHtcbiAgICAgICAgICAgIHRoaXMucGVyY2VudGFnZSA9IDA7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRJc0RlcG9zaXQoaXNfZGVwb3NpdDogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB0aGlzLmlzX2RlcG9zaXQgPSBpc19kZXBvc2l0O1xuICAgIH1cblxuICAgIHNldFNob3VsZFNob3dBbGxBdmFpbGFibGVDdXJyZW5jaWVzKHZhbHVlOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2hvdWxkX3Nob3dfYWxsX2F2YWlsYWJsZV9jdXJyZW5jaWVzID0gdmFsdWU7XG4gICAgfVxuXG4gICAgc2V0SXNDYXNoaWVyT25ib2FyZGluZyhpc19jYXNoaWVyX29uYm9hcmRpbmc6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pc19jYXNoaWVyX29uYm9hcmRpbmcgPSBpc19jYXNoaWVyX29uYm9hcmRpbmc7XG4gICAgfVxuXG4gICAgc2V0RGVwb3NpdFRhcmdldCh0YXJnZXQ6IHR5cGVvZiB0aGlzLmRlcG9zaXRfdGFyZ2V0KTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGVwb3NpdF90YXJnZXQgPSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgc2V0QWNjb3VudFN3aXRjaExpc3RlbmVyKCk6IHZvaWQge1xuICAgICAgICAvLyBjYXNoaWVyIGluaXRzIG9uY2UgYW5kIHRyaWVzIHRvIHN0YXkgYWN0aXZlIHVudGlsIHN3aXRjaGluZyBhY2NvdW50XG4gICAgICAgIC8vIHNpbmNlIGNhc2hpZXIgY2FsbHMgdGFrZSBhIGxvbmcgdGltZSB0byByZXNwb25kIG9yIGRpc3BsYXkgaW4gaWZyYW1lXG4gICAgICAgIC8vIHNvIHdlIGRvbid0IGhhdmUgYW55IHVubW91bnQgZnVuY3Rpb24gaGVyZSBhbmQgZXZlcnl0aGluZyBnZXRzIHJlc2V0IG9uIHN3aXRjaCBpbnN0ZWFkXG4gICAgICAgIHRoaXMuZGlzcG9zZVN3aXRjaEFjY291bnQoKTtcbiAgICAgICAgdGhpcy5vblN3aXRjaEFjY291bnQodGhpcy5hY2NvdW50U3dpdGNoZXJMaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgYXN5bmMgaW5pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMucm9vdF9zdG9yZS5tb2R1bGVzLmNhc2hpZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICBjbGllbnQ6IHsgaXNfbG9nZ2VkX2luLCBzd2l0Y2hlZCB9LFxuICAgICAgICAgICAgICAgIG1vZHVsZXMsXG4gICAgICAgICAgICB9ID0gdGhpcy5yb290X3N0b3JlO1xuICAgICAgICAgICAgY29uc3QgeyBwYXltZW50X2FnZW50LCB3aXRoZHJhdyB9ID0gbW9kdWxlcy5jYXNoaWVyO1xuXG4gICAgICAgICAgICAvLyB3YWl0IGZvciBjbGllbnQgc2V0dGluZ3MgdG8gYmUgcG9wdWxhdGVkIGluIGNsaWVudC1zdG9yZVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5XUy53YWl0KCdnZXRfc2V0dGluZ3MnKTtcblxuICAgICAgICAgICAgaWYgKGlzX2xvZ2dlZF9pbikge1xuICAgICAgICAgICAgICAgIGlmICghc3dpdGNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF5bWVudF9hZ2VudC5zZXRQYXltZW50QWdlbnRMaXN0KCkudGhlbigoKSA9PiBwYXltZW50X2FnZW50LmZpbHRlclBheW1lbnRBZ2VudExpc3QoKSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHdpdGhkcmF3YWwgbGltaXQgaXMgcmVhY2hlZFxuICAgICAgICAgICAgICAgICAgICAvLyBpZiB5ZXMsIHRoaXMgd2lsbCB0cmlnZ2VyIHRvIHNob3cgYSBub3RpZmljYXRpb25cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgd2l0aGRyYXcuY2hlY2sxMGtMaW1pdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIG9uTW91bnRDb21tb24oc2hvdWxkX3JlbW91bnQ/OiBib29sZWFuKSB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50LCBjb21tb24sIG1vZHVsZXMgfSA9IHRoaXMucm9vdF9zdG9yZTtcbiAgICAgICAgY29uc3QgeyBpc19mcm9tX2Rlcml2Z28sIHJvdXRlVG8gfSA9IGNvbW1vbjtcbiAgICAgICAgY29uc3QgeyBhY2NvdW50X3RyYW5zZmVyLCBvbnJhbXAsIHBheW1lbnRfYWdlbnQsIHRyYW5zYWN0aW9uX2hpc3RvcnkgfSA9IG1vZHVsZXMuY2FzaGllcjtcblxuICAgICAgICBpZiAoIWNsaWVudC5pc19sb2dnZWRfaW4gfHwgdGhpcy5pc19wb3B1bGF0aW5nX3ZhbHVlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5pc19wb3B1bGF0aW5nX3ZhbHVlcyA9IHRydWU7XG5cbiAgICAgICAgaWYgKHNob3VsZF9yZW1vdW50KSB7XG4gICAgICAgICAgICB0aGlzLnNldE9uUmVtb3VudCh0aGlzLm9uTW91bnRDb21tb24pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHdlIG5lZWQgdG8gc2VlIGlmIGNsaWVudCdzIGNvdW50cnkgaGFzIFBBXG4gICAgICAgIC8vIGlmIHllcywgd2UgY2FuIHNob3cgdGhlIFBBIHRhYiBpbiBjYXNoaWVyXG4gICAgICAgIHRoaXMuc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgYXdhaXQgcGF5bWVudF9hZ2VudC5zZXRQYXltZW50QWdlbnRMaXN0KCk7XG4gICAgICAgIHBheW1lbnRfYWdlbnQuZmlsdGVyUGF5bWVudEFnZW50TGlzdCgpO1xuICAgICAgICB0aGlzLnNldExvYWRpbmcoZmFsc2UpO1xuXG4gICAgICAgIGlmICghYWNjb3VudF90cmFuc2Zlci5hY2NvdW50c19saXN0Lmxlbmd0aCkge1xuICAgICAgICAgICAgYWNjb3VudF90cmFuc2Zlci5zb3J0QWNjb3VudHNUcmFuc2ZlcihudWxsLCBpc19mcm9tX2Rlcml2Z28pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFwYXltZW50X2FnZW50LmlzX3BheW1lbnRfYWdlbnRfdmlzaWJsZSAmJiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuZW5kc1dpdGgocm91dGVzLmNhc2hpZXJfcGEpKSB7XG4gICAgICAgICAgICByb3V0ZVRvKHJvdXRlcy5jYXNoaWVyX2RlcG9zaXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFvbnJhbXAuaXNfb25yYW1wX3RhYl92aXNpYmxlICYmIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5lbmRzV2l0aChyb3V0ZXMuY2FzaGllcl9vbnJhbXApKSB7XG4gICAgICAgICAgICByb3V0ZVRvKHJvdXRlcy5jYXNoaWVyX2RlcG9zaXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgIXRyYW5zYWN0aW9uX2hpc3RvcnkuaXNfdHJhbnNhY3Rpb25zX2NyeXB0b192aXNpYmxlICYmXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuZW5kc1dpdGgocm91dGVzLmNhc2hpZXJfdHJhbnNhY3Rpb25zX2NyeXB0bylcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByb3V0ZVRvKHJvdXRlcy5jYXNoaWVyX2RlcG9zaXQpO1xuICAgICAgICAgICAgdHJhbnNhY3Rpb25faGlzdG9yeS5zZXRJc1RyYW5zYWN0aW9uc0NyeXB0b1Zpc2libGUodHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRDYXNoaWVyVGFiSW5kZXgoaW5kZXg6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmNhc2hpZXJfcm91dGVfdGFiX2luZGV4ID0gaW5kZXg7XG4gICAgfVxuXG4gICAgc2V0TG9hZGluZyhpc19sb2FkaW5nOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaXNfbG9hZGluZyA9IGlzX2xvYWRpbmc7XG4gICAgfVxuXG4gICAgc2V0QWN0aXZlVGFiKGNvbnRhaW5lcjogdHlwZW9mIHRoaXMuYWN0aXZlX2NvbnRhaW5lcik6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5hY3RpdmVfY29udGFpbmVyID09PSAncGF5bWVudF9hZ2VudCcgJiYgY29udGFpbmVyICE9PSAncGF5bWVudF9hZ2VudCcpIHtcbiAgICAgICAgICAgIHRoaXMucm9vdF9zdG9yZS5tb2R1bGVzLmNhc2hpZXIucGF5bWVudF9hZ2VudC5yZXNldFBheW1lbnRBZ2VudCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hY3RpdmVfY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgIH1cblxuICAgIGFjY291bnRTd2l0Y2hlckxpc3RlbmVyKCkge1xuICAgICAgICBjb25zdCB7IGNsaWVudCwgbW9kdWxlcyB9ID0gdGhpcy5yb290X3N0b3JlO1xuICAgICAgICBjb25zdCB7IGlmcmFtZSwgcGF5bWVudF9hZ2VudCB9ID0gbW9kdWxlcy5jYXNoaWVyO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBDb25zdGFudHMubWFwX2FjdGlvblt0aGlzLmFjdGl2ZV9jb250YWluZXIgYXMga2V5b2YgdHlwZW9mIENvbnN0YW50cy5tYXBfYWN0aW9uXTtcblxuICAgICAgICBjbGllbnQuc2V0VmVyaWZpY2F0aW9uQ29kZSgnJywgY29udGFpbmVyKTtcbiAgICAgICAgaWZyYW1lLmNsZWFySWZyYW1lKCk7XG5cbiAgICAgICAgdGhpcy5wYXltZW50X2FnZW50ID0gcGF5bWVudF9hZ2VudDtcbiAgICAgICAgaWYgKHBheW1lbnRfYWdlbnQuYWN0aXZlX3RhYl9pbmRleCA9PT0gMSAmJiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuZW5kc1dpdGgocm91dGVzLmNhc2hpZXJfcGEpKSB7XG4gICAgICAgICAgICBwYXltZW50X2FnZW50LnNldEFjdGl2ZVRhYigxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuaXNfcG9wdWxhdGluZ192YWx1ZXMgPSBmYWxzZTtcblxuICAgICAgICB0aGlzLm9uUmVtb3VudCgpO1xuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./stores/general-store.ts\n')},"./stores/iframe-store.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ IframeStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ "mobx");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _constants_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants/constants */ "./constants/constants.ts");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\n\nvar IframeStore = /*#__PURE__*/function () {\n  function IframeStore(root_store) {\n    _classCallCheck(this, IframeStore);\n    this.root_store = root_store;\n    this.iframe_height = 0;\n    this.iframe_url = \'\';\n    this.is_session_timeout = true;\n    this.onIframeLoaded = null;\n    this.timeout_session = null;\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(this, {\n      iframe_height: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      iframe_url: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_session_timeout: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      timeout_session: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      setSessionTimeout: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      checkIframeLoaded: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      clearTimeoutCashierUrl: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setTimeoutCashierUrl: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIframeUrl: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setContainerHeight: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      clearIframe: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n    this.root_store = root_store;\n  }\n  return _createClass(IframeStore, [{\n    key: "setSessionTimeout",\n    value: function setSessionTimeout(is_session_time_out) {\n      this.is_session_timeout = is_session_time_out;\n      if (is_session_time_out) {\n        this.removeOnIframeLoaded();\n      }\n    }\n  }, {\n    key: "checkIframeLoaded",\n    value: function () {\n      var _checkIframeLoaded = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _this = this;\n        var _this$root_store, modules, ui, is_mobile, trusted_origins;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _this$root_store = this.root_store, modules = _this$root_store.modules, ui = _this$root_store.ui;\n              is_mobile = ui.is_mobile;\n              this.removeOnIframeLoaded();\n              trusted_origins = [\'https://cashier.deriv.com\', \'https://cashier.deriv.be\', \'https://cashier.deriv.me\', \'https://doughflow-test.4x.my\'];\n              this.onIframeLoaded = function (e) {\n                if (trusted_origins.includes(e.origin)) {\n                  modules.cashier.general_store.setLoading(false);\n                  // set the height of the container after content loads so that the\n                  // loading bar stays vertically centered until the end\n                  if (is_mobile) {\n                    _this.setContainerHeight(window.innerHeight - 100);\n                  } else {\n                    _this.setContainerHeight(window.innerHeight - 190);\n                  }\n                  // do not remove the listener\n                  // on every iframe screen change we need to update the height to more/less to match the new content\n                }\n              };\n              window.addEventListener(\'message\', this.onIframeLoaded, false);\n            case 6:\n            case "end":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function checkIframeLoaded() {\n        return _checkIframeLoaded.apply(this, arguments);\n      }\n      return checkIframeLoaded;\n    }()\n  }, {\n    key: "removeOnIframeLoaded",\n    value: function removeOnIframeLoaded() {\n      if (this.onIframeLoaded) {\n        window.removeEventListener(\'message\', this.onIframeLoaded, false);\n        this.onIframeLoaded = null;\n      }\n    }\n  }, {\n    key: "clearTimeoutCashierUrl",\n    value: function clearTimeoutCashierUrl() {\n      if (this.timeout_session) {\n        clearTimeout(this.timeout_session);\n      }\n    }\n  }, {\n    key: "setTimeoutCashierUrl",\n    value: function setTimeoutCashierUrl(is_withdrawal) {\n      var _this2 = this;\n      this.clearTimeoutCashierUrl();\n      if (is_withdrawal) {\n        this.timeout_session = setTimeout(function () {\n          _this2.setSessionTimeout(true);\n        }, 60000);\n      }\n    }\n  }, {\n    key: "setIframeUrl",\n    value: function setIframeUrl(url) {\n      var client = this.root_store.client;\n      if (url) {\n        this.iframe_url = url;\n        var container = this.root_store.modules.cashier.general_store.active_container;\n        if (container in _constants_constants__WEBPACK_IMPORTED_MODULE_1__["default"].map_action) {\n          var container_key = container;\n\n          // after we set iframe url we can clear verification code\n          client.setVerificationCode(\'\', _constants_constants__WEBPACK_IMPORTED_MODULE_1__["default"].map_action[container_key]);\n        }\n      } else {\n        this.iframe_url = \'\';\n      }\n    }\n  }, {\n    key: "setContainerHeight",\n    value: function setContainerHeight(height) {\n      this.iframe_height = height;\n    }\n  }, {\n    key: "clearIframe",\n    value: function clearIframe() {\n      this.setContainerHeight(0);\n      this.setIframeUrl(\'\');\n      this.clearTimeoutCashierUrl();\n      this.setSessionTimeout(true);\n    }\n  }]);\n}();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvaWZyYW1lLXN0b3JlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBQ0E7QUFBQTtBQU1BO0FBQUE7QUFBQTtBQUFBO0FBa0JBO0FBQ0E7QUFDQTtBQUNBO0FBcEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFFQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBNUJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBK0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvY2FzaGllci8uL3N0b3Jlcy9pZnJhbWUtc3RvcmUudHM/NDdlNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhY3Rpb24sIG1ha2VPYnNlcnZhYmxlLCBvYnNlcnZhYmxlIH0gZnJvbSAnbW9ieCc7XG5pbXBvcnQgQ29uc3RhbnRzIGZyb20gJy4uL2NvbnN0YW50cy9jb25zdGFudHMnO1xuaW1wb3J0IHsgVFJvb3RTdG9yZSB9IGZyb20gJy4uL3R5cGVzJztcblxudHlwZSBUT25JZnJhbWVMb2FkZWRDYWxsYmFjayA9IChldjogTWVzc2FnZUV2ZW50KSA9PiB2b2lkO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJZnJhbWVTdG9yZSB7XG4gICAgY29uc3RydWN0b3IocHVibGljIHJvb3Rfc3RvcmU6IFRSb290U3RvcmUpIHtcbiAgICAgICAgbWFrZU9ic2VydmFibGUodGhpcywge1xuICAgICAgICAgICAgaWZyYW1lX2hlaWdodDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGlmcmFtZV91cmw6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc19zZXNzaW9uX3RpbWVvdXQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICB0aW1lb3V0X3Nlc3Npb246IG9ic2VydmFibGUsXG4gICAgICAgICAgICBzZXRTZXNzaW9uVGltZW91dDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgY2hlY2tJZnJhbWVMb2FkZWQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGNsZWFyVGltZW91dENhc2hpZXJVcmw6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldFRpbWVvdXRDYXNoaWVyVXJsOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRJZnJhbWVVcmw6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldENvbnRhaW5lckhlaWdodDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgY2xlYXJJZnJhbWU6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5yb290X3N0b3JlID0gcm9vdF9zdG9yZTtcbiAgICB9XG5cbiAgICBpZnJhbWVfaGVpZ2h0ID0gMDtcbiAgICBpZnJhbWVfdXJsID0gJyc7XG4gICAgaXNfc2Vzc2lvbl90aW1lb3V0ID0gdHJ1ZTtcbiAgICBvbklmcmFtZUxvYWRlZDogVE9uSWZyYW1lTG9hZGVkQ2FsbGJhY2sgfCBudWxsID0gbnVsbDtcbiAgICB0aW1lb3V0X3Nlc3Npb246IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGw7XG5cbiAgICBzZXRTZXNzaW9uVGltZW91dChpc19zZXNzaW9uX3RpbWVfb3V0OiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaXNfc2Vzc2lvbl90aW1lb3V0ID0gaXNfc2Vzc2lvbl90aW1lX291dDtcbiAgICAgICAgaWYgKGlzX3Nlc3Npb25fdGltZV9vdXQpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlT25JZnJhbWVMb2FkZWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGNoZWNrSWZyYW1lTG9hZGVkKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBjb25zdCB7IG1vZHVsZXMsIHVpIH0gPSB0aGlzLnJvb3Rfc3RvcmU7XG4gICAgICAgIGNvbnN0IHsgaXNfbW9iaWxlIH0gPSB1aTtcblxuICAgICAgICB0aGlzLnJlbW92ZU9uSWZyYW1lTG9hZGVkKCk7XG5cbiAgICAgICAgY29uc3QgdHJ1c3RlZF9vcmlnaW5zID0gW1xuICAgICAgICAgICAgJ2h0dHBzOi8vY2FzaGllci5kZXJpdi5jb20nLFxuICAgICAgICAgICAgJ2h0dHBzOi8vY2FzaGllci5kZXJpdi5iZScsXG4gICAgICAgICAgICAnaHR0cHM6Ly9jYXNoaWVyLmRlcml2Lm1lJyxcbiAgICAgICAgICAgICdodHRwczovL2RvdWdoZmxvdy10ZXN0LjR4Lm15JyxcbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLm9uSWZyYW1lTG9hZGVkID0gKGU6IE1lc3NhZ2VFdmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRydXN0ZWRfb3JpZ2lucy5pbmNsdWRlcyhlLm9yaWdpbikpIHtcbiAgICAgICAgICAgICAgICBtb2R1bGVzLmNhc2hpZXIuZ2VuZXJhbF9zdG9yZS5zZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAvLyBzZXQgdGhlIGhlaWdodCBvZiB0aGUgY29udGFpbmVyIGFmdGVyIGNvbnRlbnQgbG9hZHMgc28gdGhhdCB0aGVcbiAgICAgICAgICAgICAgICAvLyBsb2FkaW5nIGJhciBzdGF5cyB2ZXJ0aWNhbGx5IGNlbnRlcmVkIHVudGlsIHRoZSBlbmRcbiAgICAgICAgICAgICAgICBpZiAoaXNfbW9iaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q29udGFpbmVySGVpZ2h0KHdpbmRvdy5pbm5lckhlaWdodCAtIDEwMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDb250YWluZXJIZWlnaHQod2luZG93LmlubmVySGVpZ2h0IC0gMTkwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gZG8gbm90IHJlbW92ZSB0aGUgbGlzdGVuZXJcbiAgICAgICAgICAgICAgICAvLyBvbiBldmVyeSBpZnJhbWUgc2NyZWVuIGNoYW5nZSB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGUgaGVpZ2h0IHRvIG1vcmUvbGVzcyB0byBtYXRjaCB0aGUgbmV3IGNvbnRlbnRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCB0aGlzLm9uSWZyYW1lTG9hZGVkLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgcmVtb3ZlT25JZnJhbWVMb2FkZWQoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLm9uSWZyYW1lTG9hZGVkKSB7XG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIHRoaXMub25JZnJhbWVMb2FkZWQsIGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMub25JZnJhbWVMb2FkZWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xlYXJUaW1lb3V0Q2FzaGllclVybCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMudGltZW91dF9zZXNzaW9uKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0X3Nlc3Npb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0VGltZW91dENhc2hpZXJVcmwoaXNfd2l0aGRyYXdhbD86IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5jbGVhclRpbWVvdXRDYXNoaWVyVXJsKCk7XG4gICAgICAgIGlmIChpc193aXRoZHJhd2FsKSB7XG4gICAgICAgICAgICB0aGlzLnRpbWVvdXRfc2Vzc2lvbiA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U2Vzc2lvblRpbWVvdXQodHJ1ZSk7XG4gICAgICAgICAgICB9LCA2MDAwMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRJZnJhbWVVcmwodXJsPzogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50IH0gPSB0aGlzLnJvb3Rfc3RvcmU7XG5cbiAgICAgICAgaWYgKHVybCkge1xuICAgICAgICAgICAgdGhpcy5pZnJhbWVfdXJsID0gdXJsO1xuXG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLnJvb3Rfc3RvcmUubW9kdWxlcy5jYXNoaWVyLmdlbmVyYWxfc3RvcmUuYWN0aXZlX2NvbnRhaW5lcjtcblxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lciBpbiBDb25zdGFudHMubWFwX2FjdGlvbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lcl9rZXkgPSBjb250YWluZXIgYXMga2V5b2YgdHlwZW9mIENvbnN0YW50cy5tYXBfYWN0aW9uO1xuXG4gICAgICAgICAgICAgICAgLy8gYWZ0ZXIgd2Ugc2V0IGlmcmFtZSB1cmwgd2UgY2FuIGNsZWFyIHZlcmlmaWNhdGlvbiBjb2RlXG4gICAgICAgICAgICAgICAgY2xpZW50LnNldFZlcmlmaWNhdGlvbkNvZGUoJycsIENvbnN0YW50cy5tYXBfYWN0aW9uW2NvbnRhaW5lcl9rZXldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaWZyYW1lX3VybCA9ICcnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0Q29udGFpbmVySGVpZ2h0KGhlaWdodDogbnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaWZyYW1lX2hlaWdodCA9IGhlaWdodDtcbiAgICB9XG5cbiAgICBjbGVhcklmcmFtZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZXRDb250YWluZXJIZWlnaHQoMCk7XG4gICAgICAgIHRoaXMuc2V0SWZyYW1lVXJsKCcnKTtcbiAgICAgICAgdGhpcy5jbGVhclRpbWVvdXRDYXNoaWVyVXJsKCk7XG4gICAgICAgIHRoaXMuc2V0U2Vzc2lvblRpbWVvdXQodHJ1ZSk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./stores/iframe-store.ts\n')},"./stores/on-ramp-store.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ OnRampStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ "mobx");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/translations */ "@deriv/translations");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @deriv/shared */ "@deriv/shared");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _pages_on_ramp_on_ramp_providers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../pages/on-ramp/on-ramp-providers */ "./pages/on-ramp/on-ramp-providers.ts");\n/* harmony import */ var _base_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./base-store */ "./stores/base-store.ts");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\n\n\n\n\n\nvar OnRampStore = /*#__PURE__*/function (_BaseStore) {\n  function OnRampStore(WS, root_store) {\n    var _this;\n    _classCallCheck(this, OnRampStore);\n    _this = _callSuper(this, OnRampStore, [{\n      root_store: root_store\n    }]);\n    _this.WS = WS;\n    _this.root_store = root_store;\n    /** @deprecated Use `useDepositCryptoAddress` from `@deriv/hooks` package instead. */\n    _this.api_error = null;\n    /** @deprecated Use `useDepositCryptoAddress` from `@deriv/hooks` package instead. */\n    _this.deposit_address = null;\n    _this.disposeGetWidgetHtmlReaction = null;\n    _this.disposeThirdPartyJsReaction = null;\n    /** @deprecated Use `useDepositCryptoAddress` from `@deriv/hooks` package instead. */\n    _this.is_deposit_address_loading = true;\n    _this.is_onramp_modal_open = false;\n    _this.is_requesting_widget_html = false;\n    _this.onramp_providers = [];\n    _this.selected_provider = null;\n    _this.should_show_widget = false;\n    _this.widget_error = null;\n    _this.widget_html = null;\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(_this, {\n      api_error: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      deposit_address: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_deposit_address_loading: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_onramp_modal_open: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_requesting_widget_html: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      onramp_providers: mobx__WEBPACK_IMPORTED_MODULE_0__.observable.shallow,\n      selected_provider: mobx__WEBPACK_IMPORTED_MODULE_0__.observable.ref,\n      should_show_widget: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      widget_error: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      widget_html: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_onramp_tab_visible: mobx__WEBPACK_IMPORTED_MODULE_0__.computed,\n      filtered_onramp_providers: mobx__WEBPACK_IMPORTED_MODULE_0__.computed,\n      onramp_popup_modal_title: mobx__WEBPACK_IMPORTED_MODULE_0__.computed,\n      should_show_dialog: mobx__WEBPACK_IMPORTED_MODULE_0__.computed,\n      onMountOnramp: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onUnmountOnramp: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onClickDisclaimerContinue: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onClickGoToDepositPage: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      pollApiForDepositAddress: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      resetPopup: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setApiError: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setDepositAddress: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsDepositAddressLoading: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsOnRampModalOpen: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsRequestingWidgetHtml: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setSelectedProvider: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setShouldShowWidget: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setOnrampProviders: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setWidgetError: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setWidgetHtml: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n    _this.WS = WS;\n    _this.onClientInit(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _this.setOnrampProviders([(0,_pages_on_ramp_on_ramp_providers__WEBPACK_IMPORTED_MODULE_3__["default"])(_this)]);\n          case 1:\n          case "end":\n            return _context.stop();\n        }\n      }, _callee);\n    })));\n    return _this;\n  }\n  _inherits(OnRampStore, _BaseStore);\n  return _createClass(OnRampStore, [{\n    key: "is_onramp_tab_visible",\n    get: /** @deprecated Use `useOnrampVisible` from `@deriv/hooks` package instead. */\n    function get() {\n      var client = this.root_store.client;\n      return !client.is_virtual && (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.isCryptocurrency)(client.currency) && this.filtered_onramp_providers.length > 0;\n    }\n  }, {\n    key: "filtered_onramp_providers",\n    get: function get() {\n      var client = this.root_store.client;\n      return this.onramp_providers\n      // Ensure provider supports this user\'s account currency.\n      .filter(function (provider) {\n        var to_currencies = provider.getToCurrencies();\n        return to_currencies.includes(\'*\') || to_currencies.includes(client.currency.toLowerCase());\n      })\n      // Ensure provider supports this user\'s residency.\n      .filter(function (provider) {\n        var allowed_residencies = provider.getAllowedResidencies();\n        return allowed_residencies.includes(\'*\') || allowed_residencies.includes(client.residence);\n      });\n    }\n  }, {\n    key: "onramp_popup_modal_title",\n    get: function get() {\n      if (this.should_show_widget) {\n        return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)(\'Payment channel\');\n      } else if (this.selected_provider) {\n        if (this.should_show_dialog) {\n          return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)(\'Our server cannot retrieve an address.\');\n        }\n        return \' \'; // Empty string to render header + close icon.\n      }\n      return undefined;\n    }\n  }, {\n    key: "should_show_dialog",\n    get: function get() {\n      return !!this.api_error;\n    }\n  }, {\n    key: "onMountOnramp",\n    value: function onMountOnramp() {\n      var _this2 = this;\n      this.disposeThirdPartyJsReaction = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.reaction)(function () {\n        return _this2.selected_provider;\n      }, /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(provider) {\n          var dependencies, _yield$import, loadjs, script_name;\n          return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n            while (1) switch (_context3.prev = _context3.next) {\n              case 0:\n                if (provider) {\n                  _context3.next = 2;\n                  break;\n                }\n                return _context3.abrupt("return");\n              case 2:\n                dependencies = provider.getScriptDependencies();\n                if (!(dependencies.length === 0)) {\n                  _context3.next = 5;\n                  break;\n                }\n                return _context3.abrupt("return");\n              case 5:\n                _context3.next = 7;\n                return __webpack_require__.e(/*! import() | loadjs */ "loadjs").then(__webpack_require__.t.bind(__webpack_require__, /*! loadjs */ "../../../node_modules/loadjs/dist/loadjs.umd.js", 23));\n              case 7:\n                _yield$import = _context3.sent;\n                loadjs = _yield$import["default"];\n                script_name = "".concat((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getKebabCase)(provider.name), "-onramp");\n                if (!loadjs.isDefined(script_name)) {\n                  loadjs(dependencies, script_name, {\n                    error: function () {\n                      var _error = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n                        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n                          while (1) switch (_context2.prev = _context2.next) {\n                            case 0:\n                              // eslint-disable-next-line no-console\n                              console.warn("Dependencies for onramp provider ".concat(provider.name, " could not be loaded."));\n                              _context2.next = 3;\n                              return _this2.setSelectedProvider(null);\n                            case 3:\n                            case "end":\n                              return _context2.stop();\n                          }\n                        }, _callee2);\n                      }));\n                      function error() {\n                        return _error.apply(this, arguments);\n                      }\n                      return error;\n                    }()\n                  });\n                }\n              case 11:\n              case "end":\n                return _context3.stop();\n            }\n          }, _callee3);\n        }));\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }());\n\n      // When "should_show_widget", attempt to fetch "selected_provider"\'s "widget_html".\n      this.disposeGetWidgetHtmlReaction = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.reaction)(function () {\n        return _this2.should_show_widget;\n      }, function (should_show_widget) {\n        if (should_show_widget) {\n          var _this2$selected_provi;\n          if (_this2.is_requesting_widget_html) {\n            return;\n          }\n          _this2.setIsRequestingWidgetHtml(true);\n          (_this2$selected_provi = _this2.selected_provider) === null || _this2$selected_provi === void 0 || _this2$selected_provi.getWidgetHtml().then(function (widget_html) {\n            if (widget_html) {\n              // Regular providers (iframe/JS embed)\n              _this2.setWidgetHtml(widget_html);\n            } else {\n              // An empty resolve (widget_html) identifies a redirect.\n              _this2.setShouldShowWidget(false);\n            }\n          })["catch"](function (error) {\n            _this2.setWidgetError(error);\n          })["finally"](function () {\n            return _this2.setIsRequestingWidgetHtml(false);\n          });\n        }\n      });\n    }\n  }, {\n    key: "onUnmountOnramp",\n    value: function onUnmountOnramp() {\n      if (typeof this.disposeThirdPartyJsReaction === \'function\') {\n        this.disposeThirdPartyJsReaction();\n      }\n      if (typeof this.disposeGetWidgetHtmlReaction === \'function\') {\n        this.disposeGetWidgetHtmlReaction();\n      }\n    }\n  }, {\n    key: "onClickDisclaimerContinue",\n    value: function onClickDisclaimerContinue() {\n      this.setShouldShowWidget(true);\n    }\n  }, {\n    key: "onClickGoToDepositPage",\n    value: function () {\n      var _onClickGoToDepositPage = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return this.pollApiForDepositAddress(false);\n            case 2:\n              window.open((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.websiteUrl)() + _deriv_shared__WEBPACK_IMPORTED_MODULE_2__.routes.cashier_deposit.substring(1));\n            case 3:\n            case "end":\n              return _context4.stop();\n          }\n        }, _callee4, this);\n      }));\n      function onClickGoToDepositPage() {\n        return _onClickGoToDepositPage.apply(this, arguments);\n      }\n      return onClickGoToDepositPage;\n    }() /** @deprecated Use `useDepositCryptoAddress` from `@deriv/hooks` package instead. */\n  }, {\n    key: "pollApiForDepositAddress",\n    value: (function () {\n      var _pollApiForDepositAddress = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(should_allow_empty_address) {\n        var _this3 = this;\n        var deposit_address_interval, getDepositAddressFromApi;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              // should_allow_empty_address: API returns empty deposit address for legacy accounts\n              // that have never generated a deposit address. Setting this to "true" will allow\n              // the user to be redirected to the Deposit page (where an address will be generated).\n              // Setting this to "false" will start polling the API for this deposit address.\n\n              this.setIsDepositAddressLoading(true);\n              this.setApiError(null);\n              deposit_address_interval = setInterval(function () {\n                return getDepositAddressFromApi;\n              }, 3000);\n              getDepositAddressFromApi = /*#__PURE__*/function () {\n                var _ref3 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n                  return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n                    while (1) switch (_context5.prev = _context5.next) {\n                      case 0:\n                        _context5.next = 2;\n                        return _this3.WS.authorized.cashier(\'deposit\', {\n                          provider: \'crypto\',\n                          type: \'api\'\n                        }).then(function (response) {\n                          var _response$cashier;\n                          var should_clear_interval = false;\n                          if (response.error) {\n                            _this3.setApiError(response.error);\n                            should_clear_interval = true;\n                          } else if (typeof response.cashier !== \'string\' && (_response$cashier = response.cashier) !== null && _response$cashier !== void 0 && _response$cashier.deposit) {\n                            var _response$cashier2;\n                            var address = (_response$cashier2 = response.cashier) === null || _response$cashier2 === void 0 ? void 0 : _response$cashier2.deposit.address;\n                            if (address || should_allow_empty_address) {\n                              _this3.setDepositAddress(address);\n                              should_clear_interval = true;\n                            }\n                          }\n                          if (should_clear_interval) {\n                            clearInterval(deposit_address_interval);\n                            _this3.setIsDepositAddressLoading(false);\n                          }\n                        });\n                      case 2:\n                      case "end":\n                        return _context5.stop();\n                    }\n                  }, _callee5);\n                }));\n                return function getDepositAddressFromApi() {\n                  return _ref3.apply(this, arguments);\n                };\n              }();\n              _context6.next = 6;\n              return getDepositAddressFromApi();\n            case 6:\n              setTimeout(function () {\n                clearInterval(deposit_address_interval);\n                _this3.setIsDepositAddressLoading(false);\n              }, 30000);\n            case 7:\n            case "end":\n              return _context6.stop();\n          }\n        }, _callee6, this);\n      }));\n      function pollApiForDepositAddress(_x2) {\n        return _pollApiForDepositAddress.apply(this, arguments);\n      }\n      return pollApiForDepositAddress;\n    }())\n  }, {\n    key: "resetPopup",\n    value: function () {\n      var _resetPopup = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7() {\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              this.setApiError(null);\n              this.setDepositAddress(null);\n              this.setIsDepositAddressLoading(true);\n              _context7.next = 5;\n              return this.setSelectedProvider(null);\n            case 5:\n              this.setShouldShowWidget(false);\n              this.setWidgetError(null);\n              this.setWidgetHtml(null);\n            case 8:\n            case "end":\n              return _context7.stop();\n          }\n        }, _callee7, this);\n      }));\n      function resetPopup() {\n        return _resetPopup.apply(this, arguments);\n      }\n      return resetPopup;\n    }() /** @deprecated Use `useDepositCryptoAddress` from `@deriv/hooks` package instead. */\n  }, {\n    key: "setApiError",\n    value: function setApiError(api_error) {\n      this.api_error = api_error;\n    }\n\n    /** @deprecated Use `useDepositCryptoAddress` from `@deriv/hooks` package instead. */\n  }, {\n    key: "setDepositAddress",\n    value: function setDepositAddress(deposit_address) {\n      this.deposit_address = deposit_address;\n    }\n\n    /** @deprecated Use `useDepositCryptoAddress` from `@deriv/hooks` package instead. */\n  }, {\n    key: "setIsDepositAddressLoading",\n    value: function setIsDepositAddressLoading(is_loading) {\n      this.is_deposit_address_loading = is_loading;\n    }\n  }, {\n    key: "setIsOnRampModalOpen",\n    value: function setIsOnRampModalOpen(is_open) {\n      this.is_onramp_modal_open = is_open;\n    }\n  }, {\n    key: "setIsRequestingWidgetHtml",\n    value: function setIsRequestingWidgetHtml(is_requesting_widget_html) {\n      this.is_requesting_widget_html = is_requesting_widget_html;\n    }\n  }, {\n    key: "setSelectedProvider",\n    value: function () {\n      var _setSelectedProvider = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(provider) {\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) switch (_context8.prev = _context8.next) {\n            case 0:\n              if (!provider) {\n                _context8.next = 7;\n                break;\n              }\n              this.selected_provider = provider;\n              this.setIsOnRampModalOpen(true);\n              _context8.next = 5;\n              return this.pollApiForDepositAddress(true);\n            case 5:\n              _context8.next = 9;\n              break;\n            case 7:\n              this.setIsOnRampModalOpen(false);\n              this.selected_provider = null;\n            case 9:\n            case "end":\n              return _context8.stop();\n          }\n        }, _callee8, this);\n      }));\n      function setSelectedProvider(_x3) {\n        return _setSelectedProvider.apply(this, arguments);\n      }\n      return setSelectedProvider;\n    }()\n  }, {\n    key: "setShouldShowWidget",\n    value: function setShouldShowWidget(should_show) {\n      this.should_show_widget = should_show;\n    }\n  }, {\n    key: "setOnrampProviders",\n    value: function setOnrampProviders(onramp_providers) {\n      this.onramp_providers = onramp_providers.slice();\n    }\n  }, {\n    key: "setWidgetError",\n    value: function setWidgetError(widget_error) {\n      this.widget_error = widget_error;\n    }\n  }, {\n    key: "setWidgetHtml",\n    value: function setWidgetHtml(widget_html) {\n      this.widget_html = widget_html;\n    }\n  }]);\n}(_base_store__WEBPACK_IMPORTED_MODULE_4__["default"]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvb24tcmFtcC1zdG9yZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSUE7QUFHQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFIQTtBQTZDQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFyREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQW1CQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFFQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFKQTtBQUFBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTs7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBSEE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQXJCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBdUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQXRDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBd0NBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBUkE7QUFBQTtBQUFBO0FBQUE7QUFVQTtBQUFBO0FBQUE7QUFFQTtBQUNBOztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBVEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFZQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9jYXNoaWVyLy4vc3RvcmVzL29uLXJhbXAtc3RvcmUudHM/MTgzMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhY3Rpb24sIGNvbXB1dGVkLCBvYnNlcnZhYmxlLCByZWFjdGlvbiwgbWFrZU9ic2VydmFibGUsIElSZWFjdGlvbkRpc3Bvc2VyIH0gZnJvbSAnbW9ieCc7XG5pbXBvcnQgeyBsb2NhbGl6ZSB9IGZyb20gJ0BkZXJpdi90cmFuc2xhdGlvbnMnO1xuaW1wb3J0IHsgZ2V0S2ViYWJDYXNlLCBpc0NyeXB0b2N1cnJlbmN5LCByb3V0ZXMsIHdlYnNpdGVVcmwgfSBmcm9tICdAZGVyaXYvc2hhcmVkJztcbmltcG9ydCBjcmVhdGVCYW54YVByb3ZpZGVyIGZyb20gJy4uL3BhZ2VzL29uLXJhbXAvb24tcmFtcC1wcm92aWRlcnMnO1xuaW1wb3J0IEJhc2VTdG9yZSBmcm9tICcuL2Jhc2Utc3RvcmUnO1xuaW1wb3J0IHR5cGUgeyBUV2ViU29ja2V0LCBUUm9vdFN0b3JlLCBUT25SYW1wUHJvdmlkZXIsIFRTZXJ2ZXJFcnJvciB9IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgT25SYW1wU3RvcmUgZXh0ZW5kcyBCYXNlU3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgV1M6IFRXZWJTb2NrZXQsXG4gICAgICAgIHB1YmxpYyByb290X3N0b3JlOiBUUm9vdFN0b3JlXG4gICAgKSB7XG4gICAgICAgIHN1cGVyKHsgcm9vdF9zdG9yZSB9KTtcblxuICAgICAgICBtYWtlT2JzZXJ2YWJsZSh0aGlzLCB7XG4gICAgICAgICAgICBhcGlfZXJyb3I6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBkZXBvc2l0X2FkZHJlc3M6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc19kZXBvc2l0X2FkZHJlc3NfbG9hZGluZzogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGlzX29ucmFtcF9tb2RhbF9vcGVuOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfcmVxdWVzdGluZ193aWRnZXRfaHRtbDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIG9ucmFtcF9wcm92aWRlcnM6IG9ic2VydmFibGUuc2hhbGxvdyxcbiAgICAgICAgICAgIHNlbGVjdGVkX3Byb3ZpZGVyOiBvYnNlcnZhYmxlLnJlZixcbiAgICAgICAgICAgIHNob3VsZF9zaG93X3dpZGdldDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIHdpZGdldF9lcnJvcjogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIHdpZGdldF9odG1sOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfb25yYW1wX3RhYl92aXNpYmxlOiBjb21wdXRlZCxcbiAgICAgICAgICAgIGZpbHRlcmVkX29ucmFtcF9wcm92aWRlcnM6IGNvbXB1dGVkLFxuICAgICAgICAgICAgb25yYW1wX3BvcHVwX21vZGFsX3RpdGxlOiBjb21wdXRlZCxcbiAgICAgICAgICAgIHNob3VsZF9zaG93X2RpYWxvZzogY29tcHV0ZWQsXG4gICAgICAgICAgICBvbk1vdW50T25yYW1wOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBvblVubW91bnRPbnJhbXA6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uQ2xpY2tEaXNjbGFpbWVyQ29udGludWU6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uQ2xpY2tHb1RvRGVwb3NpdFBhZ2U6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHBvbGxBcGlGb3JEZXBvc2l0QWRkcmVzczogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgcmVzZXRQb3B1cDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0QXBpRXJyb3I6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldERlcG9zaXRBZGRyZXNzOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRJc0RlcG9zaXRBZGRyZXNzTG9hZGluZzogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0SXNPblJhbXBNb2RhbE9wZW46IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldElzUmVxdWVzdGluZ1dpZGdldEh0bWw6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldFNlbGVjdGVkUHJvdmlkZXI6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldFNob3VsZFNob3dXaWRnZXQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldE9ucmFtcFByb3ZpZGVyczogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0V2lkZ2V0RXJyb3I6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldFdpZGdldEh0bWw6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5XUyA9IFdTO1xuXG4gICAgICAgIHRoaXMub25DbGllbnRJbml0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0T25yYW1wUHJvdmlkZXJzKFtjcmVhdGVCYW54YVByb3ZpZGVyKHRoaXMpXSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKiBAZGVwcmVjYXRlZCBVc2UgYHVzZURlcG9zaXRDcnlwdG9BZGRyZXNzYCBmcm9tIGBAZGVyaXYvaG9va3NgIHBhY2thZ2UgaW5zdGVhZC4gKi9cbiAgICBhcGlfZXJyb3I6IFRTZXJ2ZXJFcnJvciB8IG51bGwgPSBudWxsO1xuICAgIC8qKiBAZGVwcmVjYXRlZCBVc2UgYHVzZURlcG9zaXRDcnlwdG9BZGRyZXNzYCBmcm9tIGBAZGVyaXYvaG9va3NgIHBhY2thZ2UgaW5zdGVhZC4gKi9cbiAgICBkZXBvc2l0X2FkZHJlc3M6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgIGRpc3Bvc2VHZXRXaWRnZXRIdG1sUmVhY3Rpb246IElSZWFjdGlvbkRpc3Bvc2VyIHwgbnVsbCA9IG51bGw7XG4gICAgZGlzcG9zZVRoaXJkUGFydHlKc1JlYWN0aW9uOiBJUmVhY3Rpb25EaXNwb3NlciB8IG51bGwgPSBudWxsO1xuICAgIC8qKiBAZGVwcmVjYXRlZCBVc2UgYHVzZURlcG9zaXRDcnlwdG9BZGRyZXNzYCBmcm9tIGBAZGVyaXYvaG9va3NgIHBhY2thZ2UgaW5zdGVhZC4gKi9cbiAgICBpc19kZXBvc2l0X2FkZHJlc3NfbG9hZGluZyA9IHRydWU7XG4gICAgaXNfb25yYW1wX21vZGFsX29wZW4gPSBmYWxzZTtcbiAgICBpc19yZXF1ZXN0aW5nX3dpZGdldF9odG1sID0gZmFsc2U7XG4gICAgb25yYW1wX3Byb3ZpZGVyczogVE9uUmFtcFByb3ZpZGVyW10gPSBbXTtcbiAgICBzZWxlY3RlZF9wcm92aWRlcjogVE9uUmFtcFByb3ZpZGVyIHwgbnVsbCA9IG51bGw7XG4gICAgc2hvdWxkX3Nob3dfd2lkZ2V0ID0gZmFsc2U7XG4gICAgd2lkZ2V0X2Vycm9yOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICB3aWRnZXRfaHRtbDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgICAvKiogQGRlcHJlY2F0ZWQgVXNlIGB1c2VPbnJhbXBWaXNpYmxlYCBmcm9tIGBAZGVyaXYvaG9va3NgIHBhY2thZ2UgaW5zdGVhZC4gKi9cbiAgICBnZXQgaXNfb25yYW1wX3RhYl92aXNpYmxlKCkge1xuICAgICAgICBjb25zdCB7IGNsaWVudCB9ID0gdGhpcy5yb290X3N0b3JlO1xuXG4gICAgICAgIHJldHVybiAhY2xpZW50LmlzX3ZpcnR1YWwgJiYgaXNDcnlwdG9jdXJyZW5jeShjbGllbnQuY3VycmVuY3kpICYmIHRoaXMuZmlsdGVyZWRfb25yYW1wX3Byb3ZpZGVycy5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIGdldCBmaWx0ZXJlZF9vbnJhbXBfcHJvdmlkZXJzKCkge1xuICAgICAgICBjb25zdCB7IGNsaWVudCB9ID0gdGhpcy5yb290X3N0b3JlO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICB0aGlzLm9ucmFtcF9wcm92aWRlcnNcbiAgICAgICAgICAgICAgICAvLyBFbnN1cmUgcHJvdmlkZXIgc3VwcG9ydHMgdGhpcyB1c2VyJ3MgYWNjb3VudCBjdXJyZW5jeS5cbiAgICAgICAgICAgICAgICAuZmlsdGVyKHByb3ZpZGVyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9fY3VycmVuY2llcyA9IHByb3ZpZGVyLmdldFRvQ3VycmVuY2llcygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9fY3VycmVuY2llcy5pbmNsdWRlcygnKicpIHx8IHRvX2N1cnJlbmNpZXMuaW5jbHVkZXMoY2xpZW50LmN1cnJlbmN5LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLy8gRW5zdXJlIHByb3ZpZGVyIHN1cHBvcnRzIHRoaXMgdXNlcidzIHJlc2lkZW5jeS5cbiAgICAgICAgICAgICAgICAuZmlsdGVyKHByb3ZpZGVyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWxsb3dlZF9yZXNpZGVuY2llcyA9IHByb3ZpZGVyLmdldEFsbG93ZWRSZXNpZGVuY2llcygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsb3dlZF9yZXNpZGVuY2llcy5pbmNsdWRlcygnKicpIHx8IGFsbG93ZWRfcmVzaWRlbmNpZXMuaW5jbHVkZXMoY2xpZW50LnJlc2lkZW5jZSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBnZXQgb25yYW1wX3BvcHVwX21vZGFsX3RpdGxlKCkge1xuICAgICAgICBpZiAodGhpcy5zaG91bGRfc2hvd193aWRnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZSgnUGF5bWVudCBjaGFubmVsJyk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zZWxlY3RlZF9wcm92aWRlcikge1xuICAgICAgICAgICAgaWYgKHRoaXMuc2hvdWxkX3Nob3dfZGlhbG9nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplKCdPdXIgc2VydmVyIGNhbm5vdCByZXRyaWV2ZSBhbiBhZGRyZXNzLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICcgJzsgLy8gRW1wdHkgc3RyaW5nIHRvIHJlbmRlciBoZWFkZXIgKyBjbG9zZSBpY29uLlxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgZ2V0IHNob3VsZF9zaG93X2RpYWxvZygpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5hcGlfZXJyb3I7XG4gICAgfVxuXG4gICAgb25Nb3VudE9ucmFtcCgpIHtcbiAgICAgICAgdGhpcy5kaXNwb3NlVGhpcmRQYXJ0eUpzUmVhY3Rpb24gPSByZWFjdGlvbihcbiAgICAgICAgICAgICgpID0+IHRoaXMuc2VsZWN0ZWRfcHJvdmlkZXIsXG4gICAgICAgICAgICBhc3luYyBwcm92aWRlciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFwcm92aWRlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgZGVwZW5kZW5jaWVzID0gcHJvdmlkZXIuZ2V0U2NyaXB0RGVwZW5kZW5jaWVzKCk7XG4gICAgICAgICAgICAgICAgaWYgKGRlcGVuZGVuY2llcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHsgZGVmYXVsdDogbG9hZGpzIH0gPSBhd2FpdCBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJsb2FkanNcIiAqLyAnbG9hZGpzJyk7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NyaXB0X25hbWUgPSBgJHtnZXRLZWJhYkNhc2UocHJvdmlkZXIubmFtZSl9LW9ucmFtcGA7XG4gICAgICAgICAgICAgICAgaWYgKCFsb2FkanMuaXNEZWZpbmVkKHNjcmlwdF9uYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBsb2FkanMoZGVwZW5kZW5jaWVzLCBzY3JpcHRfbmFtZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgRGVwZW5kZW5jaWVzIGZvciBvbnJhbXAgcHJvdmlkZXIgJHtwcm92aWRlci5uYW1lfSBjb3VsZCBub3QgYmUgbG9hZGVkLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2V0U2VsZWN0ZWRQcm92aWRlcihudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICAvLyBXaGVuIFwic2hvdWxkX3Nob3dfd2lkZ2V0XCIsIGF0dGVtcHQgdG8gZmV0Y2ggXCJzZWxlY3RlZF9wcm92aWRlclwiJ3MgXCJ3aWRnZXRfaHRtbFwiLlxuICAgICAgICB0aGlzLmRpc3Bvc2VHZXRXaWRnZXRIdG1sUmVhY3Rpb24gPSByZWFjdGlvbihcbiAgICAgICAgICAgICgpID0+IHRoaXMuc2hvdWxkX3Nob3dfd2lkZ2V0LFxuICAgICAgICAgICAgc2hvdWxkX3Nob3dfd2lkZ2V0ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc2hvdWxkX3Nob3dfd2lkZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzX3JlcXVlc3Rpbmdfd2lkZ2V0X2h0bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SXNSZXF1ZXN0aW5nV2lkZ2V0SHRtbCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZF9wcm92aWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgPy5nZXRXaWRnZXRIdG1sKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKHdpZGdldF9odG1sID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkZ2V0X2h0bWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVndWxhciBwcm92aWRlcnMgKGlmcmFtZS9KUyBlbWJlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRXaWRnZXRIdG1sKHdpZGdldF9odG1sIGFzIHN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQW4gZW1wdHkgcmVzb2x2ZSAod2lkZ2V0X2h0bWwpIGlkZW50aWZpZXMgYSByZWRpcmVjdC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTaG91bGRTaG93V2lkZ2V0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFdpZGdldEVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuZmluYWxseSgoKSA9PiB0aGlzLnNldElzUmVxdWVzdGluZ1dpZGdldEh0bWwoZmFsc2UpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgb25Vbm1vdW50T25yYW1wKCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuZGlzcG9zZVRoaXJkUGFydHlKc1JlYWN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VUaGlyZFBhcnR5SnNSZWFjdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5kaXNwb3NlR2V0V2lkZ2V0SHRtbFJlYWN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLmRpc3Bvc2VHZXRXaWRnZXRIdG1sUmVhY3Rpb24oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQ2xpY2tEaXNjbGFpbWVyQ29udGludWUoKSB7XG4gICAgICAgIHRoaXMuc2V0U2hvdWxkU2hvd1dpZGdldCh0cnVlKTtcbiAgICB9XG5cbiAgICBhc3luYyBvbkNsaWNrR29Ub0RlcG9zaXRQYWdlKCkge1xuICAgICAgICBhd2FpdCB0aGlzLnBvbGxBcGlGb3JEZXBvc2l0QWRkcmVzcyhmYWxzZSk7XG4gICAgICAgIHdpbmRvdy5vcGVuKHdlYnNpdGVVcmwoKSArIHJvdXRlcy5jYXNoaWVyX2RlcG9zaXQuc3Vic3RyaW5nKDEpKTtcbiAgICB9XG5cbiAgICAvKiogQGRlcHJlY2F0ZWQgVXNlIGB1c2VEZXBvc2l0Q3J5cHRvQWRkcmVzc2AgZnJvbSBgQGRlcml2L2hvb2tzYCBwYWNrYWdlIGluc3RlYWQuICovXG4gICAgYXN5bmMgcG9sbEFwaUZvckRlcG9zaXRBZGRyZXNzKHNob3VsZF9hbGxvd19lbXB0eV9hZGRyZXNzOiBib29sZWFuKSB7XG4gICAgICAgIC8vIHNob3VsZF9hbGxvd19lbXB0eV9hZGRyZXNzOiBBUEkgcmV0dXJucyBlbXB0eSBkZXBvc2l0IGFkZHJlc3MgZm9yIGxlZ2FjeSBhY2NvdW50c1xuICAgICAgICAvLyB0aGF0IGhhdmUgbmV2ZXIgZ2VuZXJhdGVkIGEgZGVwb3NpdCBhZGRyZXNzLiBTZXR0aW5nIHRoaXMgdG8gXCJ0cnVlXCIgd2lsbCBhbGxvd1xuICAgICAgICAvLyB0aGUgdXNlciB0byBiZSByZWRpcmVjdGVkIHRvIHRoZSBEZXBvc2l0IHBhZ2UgKHdoZXJlIGFuIGFkZHJlc3Mgd2lsbCBiZSBnZW5lcmF0ZWQpLlxuICAgICAgICAvLyBTZXR0aW5nIHRoaXMgdG8gXCJmYWxzZVwiIHdpbGwgc3RhcnQgcG9sbGluZyB0aGUgQVBJIGZvciB0aGlzIGRlcG9zaXQgYWRkcmVzcy5cblxuICAgICAgICB0aGlzLnNldElzRGVwb3NpdEFkZHJlc3NMb2FkaW5nKHRydWUpO1xuICAgICAgICB0aGlzLnNldEFwaUVycm9yKG51bGwpO1xuXG4gICAgICAgIGNvbnN0IGRlcG9zaXRfYWRkcmVzc19pbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IGdldERlcG9zaXRBZGRyZXNzRnJvbUFwaSwgMzAwMCk7XG4gICAgICAgIGNvbnN0IGdldERlcG9zaXRBZGRyZXNzRnJvbUFwaSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuV1MuYXV0aG9yaXplZC5jYXNoaWVyKCdkZXBvc2l0JywgeyBwcm92aWRlcjogJ2NyeXB0bycsIHR5cGU6ICdhcGknIH0pLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBzaG91bGRfY2xlYXJfaW50ZXJ2YWwgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEFwaUVycm9yKHJlc3BvbnNlLmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkX2NsZWFyX2ludGVydmFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiByZXNwb25zZS5jYXNoaWVyICE9PSAnc3RyaW5nJyAmJiByZXNwb25zZS5jYXNoaWVyPy5kZXBvc2l0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFkZHJlc3MgPSByZXNwb25zZS5jYXNoaWVyPy5kZXBvc2l0LmFkZHJlc3M7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFkZHJlc3MgfHwgc2hvdWxkX2FsbG93X2VtcHR5X2FkZHJlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RGVwb3NpdEFkZHJlc3MoYWRkcmVzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRfY2xlYXJfaW50ZXJ2YWwgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZF9jbGVhcl9pbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGRlcG9zaXRfYWRkcmVzc19pbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SXNEZXBvc2l0QWRkcmVzc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGF3YWl0IGdldERlcG9zaXRBZGRyZXNzRnJvbUFwaSgpO1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZGVwb3NpdF9hZGRyZXNzX2ludGVydmFsKTtcbiAgICAgICAgICAgIHRoaXMuc2V0SXNEZXBvc2l0QWRkcmVzc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICB9LCAzMDAwMCk7XG4gICAgfVxuXG4gICAgYXN5bmMgcmVzZXRQb3B1cCgpIHtcbiAgICAgICAgdGhpcy5zZXRBcGlFcnJvcihudWxsKTtcbiAgICAgICAgdGhpcy5zZXREZXBvc2l0QWRkcmVzcyhudWxsKTtcbiAgICAgICAgdGhpcy5zZXRJc0RlcG9zaXRBZGRyZXNzTG9hZGluZyh0cnVlKTtcbiAgICAgICAgYXdhaXQgdGhpcy5zZXRTZWxlY3RlZFByb3ZpZGVyKG51bGwpO1xuICAgICAgICB0aGlzLnNldFNob3VsZFNob3dXaWRnZXQoZmFsc2UpO1xuICAgICAgICB0aGlzLnNldFdpZGdldEVycm9yKG51bGwpO1xuICAgICAgICB0aGlzLnNldFdpZGdldEh0bWwobnVsbCk7XG4gICAgfVxuXG4gICAgLyoqIEBkZXByZWNhdGVkIFVzZSBgdXNlRGVwb3NpdENyeXB0b0FkZHJlc3NgIGZyb20gYEBkZXJpdi9ob29rc2AgcGFja2FnZSBpbnN0ZWFkLiAqL1xuICAgIHNldEFwaUVycm9yKGFwaV9lcnJvcjogVFNlcnZlckVycm9yIHwgbnVsbCkge1xuICAgICAgICB0aGlzLmFwaV9lcnJvciA9IGFwaV9lcnJvcjtcbiAgICB9XG5cbiAgICAvKiogQGRlcHJlY2F0ZWQgVXNlIGB1c2VEZXBvc2l0Q3J5cHRvQWRkcmVzc2AgZnJvbSBgQGRlcml2L2hvb2tzYCBwYWNrYWdlIGluc3RlYWQuICovXG4gICAgc2V0RGVwb3NpdEFkZHJlc3MoZGVwb3NpdF9hZGRyZXNzOiBzdHJpbmcgfCBudWxsKSB7XG4gICAgICAgIHRoaXMuZGVwb3NpdF9hZGRyZXNzID0gZGVwb3NpdF9hZGRyZXNzO1xuICAgIH1cblxuICAgIC8qKiBAZGVwcmVjYXRlZCBVc2UgYHVzZURlcG9zaXRDcnlwdG9BZGRyZXNzYCBmcm9tIGBAZGVyaXYvaG9va3NgIHBhY2thZ2UgaW5zdGVhZC4gKi9cbiAgICBzZXRJc0RlcG9zaXRBZGRyZXNzTG9hZGluZyhpc19sb2FkaW5nOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuaXNfZGVwb3NpdF9hZGRyZXNzX2xvYWRpbmcgPSBpc19sb2FkaW5nO1xuICAgIH1cblxuICAgIHNldElzT25SYW1wTW9kYWxPcGVuKGlzX29wZW46IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5pc19vbnJhbXBfbW9kYWxfb3BlbiA9IGlzX29wZW47XG4gICAgfVxuXG4gICAgc2V0SXNSZXF1ZXN0aW5nV2lkZ2V0SHRtbChpc19yZXF1ZXN0aW5nX3dpZGdldF9odG1sOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuaXNfcmVxdWVzdGluZ193aWRnZXRfaHRtbCA9IGlzX3JlcXVlc3Rpbmdfd2lkZ2V0X2h0bWw7XG4gICAgfVxuXG4gICAgYXN5bmMgc2V0U2VsZWN0ZWRQcm92aWRlcihwcm92aWRlcj86IFRPblJhbXBQcm92aWRlciB8IG51bGwpIHtcbiAgICAgICAgaWYgKHByb3ZpZGVyKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkX3Byb3ZpZGVyID0gcHJvdmlkZXI7XG4gICAgICAgICAgICB0aGlzLnNldElzT25SYW1wTW9kYWxPcGVuKHRydWUpO1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5wb2xsQXBpRm9yRGVwb3NpdEFkZHJlc3ModHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNldElzT25SYW1wTW9kYWxPcGVuKGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRfcHJvdmlkZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0U2hvdWxkU2hvd1dpZGdldChzaG91bGRfc2hvdzogYm9vbGVhbikge1xuICAgICAgICB0aGlzLnNob3VsZF9zaG93X3dpZGdldCA9IHNob3VsZF9zaG93O1xuICAgIH1cblxuICAgIHNldE9ucmFtcFByb3ZpZGVycyhvbnJhbXBfcHJvdmlkZXJzOiBUT25SYW1wUHJvdmlkZXJbXSk6IHZvaWQge1xuICAgICAgICB0aGlzLm9ucmFtcF9wcm92aWRlcnMgPSBvbnJhbXBfcHJvdmlkZXJzLnNsaWNlKCk7XG4gICAgfVxuXG4gICAgc2V0V2lkZ2V0RXJyb3Iod2lkZ2V0X2Vycm9yOiBzdHJpbmcgfCBudWxsKSB7XG4gICAgICAgIHRoaXMud2lkZ2V0X2Vycm9yID0gd2lkZ2V0X2Vycm9yO1xuICAgIH1cblxuICAgIHNldFdpZGdldEh0bWwod2lkZ2V0X2h0bWw6IHN0cmluZyB8IG51bGwpIHtcbiAgICAgICAgdGhpcy53aWRnZXRfaHRtbCA9IHdpZGdldF9odG1sO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./stores/on-ramp-store.ts\n')},"./stores/payment-agent-store.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ PaymentAgentStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ "mobx");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ "@deriv/shared");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var Utils_utility__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! Utils/utility */ "./utils/utility.ts");\n/* harmony import */ var Constants_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! Constants/constants */ "./constants/constants.ts");\n/* harmony import */ var _error_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./error-store */ "./stores/error-store.ts");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\n\n\n\n\nvar PaymentAgentStore = /*#__PURE__*/function () {\n  function PaymentAgentStore(WS, root_store) {\n    var _this = this;\n    _classCallCheck(this, PaymentAgentStore);\n    this.WS = WS;\n    this.root_store = root_store;\n    this.list = [];\n    this.agents = [];\n    this.error = new _error_store__WEBPACK_IMPORTED_MODULE_4__["default"]();\n    this.filtered_list = [];\n    this.is_name_selected = true;\n    this.is_search_loading = false;\n    this.is_withdraw = false;\n    this.is_try_withdraw_successful = false;\n    this.is_withdraw_successful = false;\n    this.confirm = {};\n    this.receipt = {};\n    this.selected_bank = 0;\n    this.supported_banks = [];\n    this.active_tab_index = 0;\n    this.search_term = \'\';\n    this.has_payment_agent_search_warning = false;\n    this.onRemount = null;\n    this.resetPaymentAgent = function () {\n      var client = _this.root_store.client;\n      client.setVerificationCode(\'\', \'payment_agent_withdraw\');\n      _this.error.setErrorMessage({\n        code: \'\',\n        message: \'\'\n      });\n      _this.setIsWithdraw(false);\n      _this.setIsWithdrawSuccessful(false);\n      _this.setIsTryWithdrawSuccessful(false);\n      _this.setActiveTabIndex(0);\n    };\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(this, {\n      list: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      agents: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      error: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      filtered_list: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_name_selected: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_search_loading: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_withdraw: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_try_withdraw_successful: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_withdraw_successful: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      confirm: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      receipt: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      selected_bank: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      supported_banks: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      active_tab_index: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      search_term: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      has_payment_agent_search_warning: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      setActiveTabIndex: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setActiveTab: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      is_payment_agent_visible: mobx__WEBPACK_IMPORTED_MODULE_0__.computed,\n      getPaymentAgentList: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      getPaymentAgentDetails: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      addSupportedBank: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      clearSupportedBanks: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      sortSupportedBanks: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setList: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      clearList: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setPaymentAgentList: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      filterPaymentAgentList: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setSearchTerm: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsSearchLoading: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setPaymentAgentSearchWarning: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onChangePaymentMethod: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsWithdraw: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsTryWithdrawSuccessful: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsWithdrawSuccessful: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setConfirmation: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setReceipt: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      addPaymentAgent: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onMountPaymentAgentWithdraw: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      requestTryPaymentAgentWithdraw: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      resetPaymentAgent: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onMountPaymentAgentList: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      requestPaymentAgentWithdraw: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onRemount: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      setOnRemount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n    this.root_store = root_store;\n    this.WS = WS;\n  }\n  return _createClass(PaymentAgentStore, [{\n    key: "setActiveTabIndex",\n    value: function setActiveTabIndex(index) {\n      this.active_tab_index = index;\n    }\n  }, {\n    key: "setActiveTab",\n    value: function setActiveTab(index) {\n      if (this.active_tab_index === 1 && index === 0) {\n        this.resetPaymentAgent();\n      }\n      this.setActiveTabIndex(index);\n    }\n  }, {\n    key: "setOnRemount",\n    value: function setOnRemount(func) {\n      this.onRemount = func;\n    }\n  }, {\n    key: "is_payment_agent_visible",\n    get: function get() {\n      return !!(this.filtered_list.length || this.agents.length || this.has_payment_agent_search_warning);\n    }\n  }, {\n    key: "getPaymentAgentList",\n    value: function () {\n      var _getPaymentAgentList = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var _this$root_store$clie, residence, currency;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return this.WS.wait(\'get_settings\');\n            case 2:\n              _this$root_store$clie = this.root_store.client, residence = _this$root_store$clie.residence, currency = _this$root_store$clie.currency;\n              return _context.abrupt("return", this.WS.authorized.paymentAgentList(residence, currency));\n            case 4:\n            case "end":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function getPaymentAgentList() {\n        return _getPaymentAgentList.apply(this, arguments);\n      }\n      return getPaymentAgentList;\n    }()\n  }, {\n    key: "getPaymentAgentDetails",\n    value: function () {\n      var _getPaymentAgentDetails = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var _yield$this$WS$author, paymentagent_details;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return this.WS.authorized.paymentAgentDetails();\n            case 2:\n              _yield$this$WS$author = _context2.sent;\n              paymentagent_details = _yield$this$WS$author.paymentagent_details;\n              return _context2.abrupt("return", paymentagent_details);\n            case 5:\n            case "end":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function getPaymentAgentDetails() {\n        return _getPaymentAgentDetails.apply(this, arguments);\n      }\n      return getPaymentAgentDetails;\n    }()\n  }, {\n    key: "addSupportedBank",\n    value: function addSupportedBank(bank) {\n      var supported_bank_exists = this.supported_banks.find(function (supported_bank) {\n        return supported_bank.value === bank.toLowerCase();\n      });\n      if (!supported_bank_exists) {\n        this.supported_banks.push({\n          text: bank,\n          value: bank.toLowerCase()\n        });\n      }\n    }\n  }, {\n    key: "clearSupportedBanks",\n    value: function clearSupportedBanks() {\n      this.supported_banks = [];\n    }\n  }, {\n    key: "sortSupportedBanks",\n    value: function sortSupportedBanks() {\n      // sort supported banks alphabetically by value, the option \'All payment agents\' with value 0 should be on top\n      this.supported_banks.replace(this.supported_banks.slice().sort(function (a, b) {\n        if (a.value < b.value) {\n          return -1;\n        }\n        if (a.value > b.value) {\n          return 1;\n        }\n        return 0;\n      }));\n    }\n  }, {\n    key: "setList",\n    value: function setList(pa_list) {\n      this.list.push(pa_list);\n    }\n  }, {\n    key: "clearList",\n    value: function clearList() {\n      this.list = [];\n    }\n  }, {\n    key: "setPaymentAgentList",\n    value: function () {\n      var _setPaymentAgentList = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(pa_list) {\n        var _this2 = this;\n        var setLoading, _yield$this$getPaymen, payment_agent_list;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              setLoading = this.root_store.modules.cashier.general_store.setLoading;\n              _context3.prev = 1;\n              _context3.t0 = pa_list;\n              if (_context3.t0) {\n                _context3.next = 16;\n                break;\n              }\n              _context3.next = 6;\n              return this.getPaymentAgentList();\n            case 6:\n              _context3.t2 = _yield$this$getPaymen = _context3.sent.paymentagent_list;\n              _context3.t1 = _context3.t2 === null;\n              if (_context3.t1) {\n                _context3.next = 10;\n                break;\n              }\n              _context3.t1 = _yield$this$getPaymen === void 0;\n            case 10:\n              if (!_context3.t1) {\n                _context3.next = 14;\n                break;\n              }\n              _context3.t3 = void 0;\n              _context3.next = 15;\n              break;\n            case 14:\n              _context3.t3 = _yield$this$getPaymen.list;\n            case 15:\n              _context3.t0 = _context3.t3;\n            case 16:\n              payment_agent_list = _context3.t0;\n              this.clearList();\n              this.clearSupportedBanks();\n              payment_agent_list === null || payment_agent_list === void 0 || payment_agent_list.forEach(function (payment_agent) {\n                _this2.setList({\n                  currency: payment_agent.currencies,\n                  deposit_commission: payment_agent.deposit_commission,\n                  email: payment_agent.email,\n                  further_information: payment_agent.further_information,\n                  max_withdrawal: payment_agent.max_withdrawal,\n                  min_withdrawal: payment_agent.min_withdrawal,\n                  name: payment_agent.name,\n                  paymentagent_loginid: payment_agent.paymentagent_loginid,\n                  phone_numbers: payment_agent.phone_numbers,\n                  supported_banks: payment_agent.supported_payment_methods,\n                  urls: payment_agent === null || payment_agent === void 0 ? void 0 : payment_agent.urls,\n                  withdrawal_commission: payment_agent.withdrawal_commission\n                });\n                var supported_banks_array = payment_agent === null || payment_agent === void 0 ? void 0 : payment_agent.supported_payment_methods.map(function (bank) {\n                  if (bank.payment_method === undefined) return \'\';\n                  var payment_method = (0,Utils_utility__WEBPACK_IMPORTED_MODULE_2__.getNormalizedPaymentMethod)(bank.payment_method, Constants_constants__WEBPACK_IMPORTED_MODULE_3__["default"].payment_methods);\n                  //remove Skrill and Neteller from payment methods list (dropdown menu) as per mandate from Paysafe\n                  return [\'Neteller\', \'Skrill\'].includes(payment_method) ? \'\' : payment_method;\n                }).filter(Boolean);\n                supported_banks_array.forEach(function (bank) {\n                  return _this2.addSupportedBank(bank);\n                });\n              });\n              (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.shuffleArray)(this.list);\n              _context3.next = 27;\n              break;\n            case 23:\n              _context3.prev = 23;\n              _context3.t4 = _context3["catch"](1);\n              setLoading(false);\n              // eslint-disable-next-line no-console\n              console.error(_context3.t4);\n            case 27:\n              this.sortSupportedBanks();\n            case 28:\n            case "end":\n              return _context3.stop();\n          }\n        }, _callee3, this, [[1, 23]]);\n      }));\n      function setPaymentAgentList(_x) {\n        return _setPaymentAgentList.apply(this, arguments);\n      }\n      return setPaymentAgentList;\n    }()\n  }, {\n    key: "filterPaymentAgentList",\n    value: function filterPaymentAgentList(bank) {\n      var _this3 = this;\n      this.setPaymentAgentSearchWarning(false);\n      this.filtered_list = [];\n      if (bank || this.selected_bank) {\n        this.list.forEach(function (payment_agent) {\n          var supported_banks = payment_agent === null || payment_agent === void 0 ? void 0 : payment_agent.supported_banks;\n          if (supported_banks) {\n            var bank_index = supported_banks.map(function (supported_bank) {\n              return (0,Utils_utility__WEBPACK_IMPORTED_MODULE_2__.getNormalizedPaymentMethod)(supported_bank.payment_method || \'\', Constants_constants__WEBPACK_IMPORTED_MODULE_3__["default"].payment_methods).toLowerCase();\n            }).indexOf((bank || _this3.selected_bank).toString());\n            if (bank_index !== -1) _this3.filtered_list.push(payment_agent);\n          }\n        });\n      } else {\n        this.filtered_list = this.list;\n      }\n      if (this.search_term) {\n        this.filtered_list = this.filtered_list.filter(function (payment_agent) {\n          var _payment_agent$name;\n          return (_payment_agent$name = payment_agent.name) === null || _payment_agent$name === void 0 ? void 0 : _payment_agent$name.toLocaleLowerCase().includes(_this3.search_term.toLocaleLowerCase());\n        });\n        if (this.filtered_list.length === 0) {\n          this.setPaymentAgentSearchWarning(true);\n        }\n      }\n      this.setIsSearchLoading(false);\n      this.routeToCashierDepositIfAgentVisible();\n    }\n  }, {\n    key: "routeToCashierDepositIfAgentVisible",\n    value: function routeToCashierDepositIfAgentVisible() {\n      var common = this.root_store.common;\n      if (!this.is_payment_agent_visible && window.location.pathname.endsWith(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.cashier_pa)) {\n        common.routeTo(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.cashier_deposit);\n      }\n    }\n  }, {\n    key: "setSearchTerm",\n    value: function setSearchTerm(search_term) {\n      this.search_term = search_term;\n    }\n  }, {\n    key: "setIsSearchLoading",\n    value: function setIsSearchLoading(value) {\n      this.is_search_loading = value;\n    }\n  }, {\n    key: "setPaymentAgentSearchWarning",\n    value: function setPaymentAgentSearchWarning(value) {\n      this.has_payment_agent_search_warning = value;\n    }\n  }, {\n    key: "onChangePaymentMethod",\n    value: function onChangePaymentMethod(_ref) {\n      var target = _ref.target;\n      var value = target.value === \'0\' ? parseInt(target.value) : target.value;\n      this.selected_bank = value;\n      this.filterPaymentAgentList(value);\n    }\n  }, {\n    key: "setIsWithdraw",\n    value: function setIsWithdraw() {\n      var is_withdraw = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !this.is_withdraw;\n      this.is_withdraw = is_withdraw;\n    }\n  }, {\n    key: "setIsTryWithdrawSuccessful",\n    value: function setIsTryWithdrawSuccessful(is_try_withdraw_successful) {\n      this.error.setErrorMessage({\n        code: \'\',\n        message: \'\'\n      });\n      this.is_try_withdraw_successful = is_try_withdraw_successful;\n    }\n  }, {\n    key: "setIsWithdrawSuccessful",\n    value: function setIsWithdrawSuccessful(is_withdraw_successful) {\n      this.is_withdraw_successful = is_withdraw_successful;\n    }\n  }, {\n    key: "setConfirmation",\n    value: function setConfirmation(confirm) {\n      this.confirm = confirm;\n    }\n  }, {\n    key: "setReceipt",\n    value: function setReceipt(_ref2) {\n      var amount_transferred = _ref2.amount_transferred,\n        payment_agent_email = _ref2.payment_agent_email,\n        payment_agent_id = _ref2.payment_agent_id,\n        payment_agent_name = _ref2.payment_agent_name,\n        payment_agent_phone = _ref2.payment_agent_phone,\n        payment_agent_url = _ref2.payment_agent_url;\n      this.receipt = {\n        amount_transferred: amount_transferred,\n        payment_agent_email: payment_agent_email,\n        payment_agent_id: payment_agent_id,\n        payment_agent_name: payment_agent_name,\n        payment_agent_phone: payment_agent_phone,\n        payment_agent_url: payment_agent_url\n      };\n    }\n  }, {\n    key: "addPaymentAgent",\n    value: function addPaymentAgent(payment_agent) {\n      this.agents.push({\n        text: payment_agent.name,\n        value: payment_agent.paymentagent_loginid,\n        max_withdrawal: payment_agent.max_withdrawal,\n        min_withdrawal: payment_agent.min_withdrawal,\n        email: payment_agent.email,\n        phone_numbers: payment_agent.phone_numbers,\n        url: payment_agent.urls\n      });\n    }\n  }, {\n    key: "onMountPaymentAgentWithdraw",\n    value: function () {\n      var _onMountPaymentAgentWithdraw = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var _this4 = this;\n        var _this$root_store, common, modules, _modules$cashier$gene, setLoading, onMountCommon, _payment_agent_list$p, _payment_agent_list$p2, payment_agent_list;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _this$root_store = this.root_store, common = _this$root_store.common, modules = _this$root_store.modules;\n              _modules$cashier$gene = modules.cashier.general_store, setLoading = _modules$cashier$gene.setLoading, onMountCommon = _modules$cashier$gene.onMountCommon;\n              setLoading(true);\n              this.setOnRemount(function () {\n                return _this4.onMountPaymentAgentWithdraw;\n              });\n              _context4.next = 6;\n              return onMountCommon();\n            case 6:\n              this.setIsWithdraw(true);\n              this.setIsWithdrawSuccessful(false);\n              this.setReceipt({});\n              if (this.agents.length) {\n                _context4.next = 15;\n                break;\n              }\n              _context4.next = 12;\n              return this.getPaymentAgentList();\n            case 12:\n              payment_agent_list = _context4.sent;\n              (_payment_agent_list$p = payment_agent_list.paymentagent_list) === null || _payment_agent_list$p === void 0 || _payment_agent_list$p.list.forEach(function (payment_agent) {\n                _this4.addPaymentAgent(payment_agent);\n              });\n              if (!((_payment_agent_list$p2 = payment_agent_list.paymentagent_list) !== null && _payment_agent_list$p2 !== void 0 && _payment_agent_list$p2.list.length) && window.location.pathname.endsWith(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.cashier_pa)) {\n                common.routeTo(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.cashier_deposit);\n              }\n            case 15:\n              setLoading(false);\n            case 16:\n            case "end":\n              return _context4.stop();\n          }\n        }, _callee4, this);\n      }));\n      function onMountPaymentAgentWithdraw() {\n        return _onMountPaymentAgentWithdraw.apply(this, arguments);\n      }\n      return onMountPaymentAgentWithdraw;\n    }()\n  }, {\n    key: "requestTryPaymentAgentWithdraw",\n    value: function () {\n      var _requestTryPaymentAgentWithdraw = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(_ref3) {\n        var loginid, currency, amount, verification_code, payment_agent_withdraw, selected_agent;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              loginid = _ref3.loginid, currency = _ref3.currency, amount = _ref3.amount, verification_code = _ref3.verification_code;\n              this.error.setErrorMessage({\n                code: \'\',\n                message: \'\'\n              });\n              _context5.next = 4;\n              return this.WS.authorized.paymentAgentWithdraw({\n                loginid: loginid,\n                currency: currency,\n                amount: amount,\n                verification_code: verification_code,\n                dry_run: 1\n              });\n            case 4:\n              payment_agent_withdraw = _context5.sent;\n              if (Number(payment_agent_withdraw.paymentagent_withdraw) === 2) {\n                selected_agent = this.agents.find(function (agent) {\n                  return agent.value === loginid;\n                });\n                this.setConfirmation({\n                  amount: amount,\n                  currency: currency,\n                  loginid: loginid,\n                  payment_agent_name: (selected_agent === null || selected_agent === void 0 ? void 0 : selected_agent.text) || payment_agent_withdraw.paymentagent_name || \'\'\n                });\n                this.setIsTryWithdrawSuccessful(true);\n              } else {\n                this.error.setErrorMessage(payment_agent_withdraw.error, this.resetPaymentAgent);\n              }\n            case 6:\n            case "end":\n              return _context5.stop();\n          }\n        }, _callee5, this);\n      }));\n      function requestTryPaymentAgentWithdraw(_x2) {\n        return _requestTryPaymentAgentWithdraw.apply(this, arguments);\n      }\n      return requestTryPaymentAgentWithdraw;\n    }()\n  }, {\n    key: "onMountPaymentAgentList",\n    value: function () {\n      var _onMountPaymentAgentList = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        var _this5 = this;\n        var _this$root_store$modu, setLoading, onMountCommon;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              _this$root_store$modu = this.root_store.modules.cashier.general_store, setLoading = _this$root_store$modu.setLoading, onMountCommon = _this$root_store$modu.onMountCommon;\n              setLoading(true);\n              this.onRemount = function () {\n                return _this5.onMountPaymentAgentList;\n              };\n              _context6.next = 5;\n              return onMountCommon();\n            case 5:\n              _context6.next = 7;\n              return this.getPaymentAgentList();\n            case 7:\n              setLoading(false);\n            case 8:\n            case "end":\n              return _context6.stop();\n          }\n        }, _callee6, this);\n      }));\n      function onMountPaymentAgentList() {\n        return _onMountPaymentAgentList.apply(this, arguments);\n      }\n      return onMountPaymentAgentList;\n    }()\n  }, {\n    key: "requestPaymentAgentWithdraw",\n    value: function () {\n      var _requestPaymentAgentWithdraw = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(_ref4) {\n        var loginid, currency, amount, verification_code, payment_agent_withdraw, selected_agent;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              loginid = _ref4.loginid, currency = _ref4.currency, amount = _ref4.amount, verification_code = _ref4.verification_code;\n              this.error.setErrorMessage({\n                code: \'\',\n                message: \'\'\n              });\n              _context7.next = 4;\n              return this.WS.authorized.paymentAgentWithdraw({\n                loginid: loginid,\n                currency: currency,\n                amount: amount,\n                verification_code: verification_code\n              });\n            case 4:\n              payment_agent_withdraw = _context7.sent;\n              if (Number(payment_agent_withdraw.paymentagent_withdraw) === 1) {\n                selected_agent = this.agents.find(function (agent) {\n                  return agent.value === loginid;\n                });\n                this.setReceipt(_objectSpread({\n                  amount_transferred: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.formatMoney)(currency, amount, true)\n                }, selected_agent && {\n                  payment_agent_email: selected_agent.email,\n                  payment_agent_id: selected_agent.value,\n                  payment_agent_name: selected_agent.text,\n                  payment_agent_phone: selected_agent.phone_numbers,\n                  payment_agent_url: selected_agent.url\n                }));\n                this.setIsWithdrawSuccessful(true);\n                this.setIsTryWithdrawSuccessful(false);\n                this.setConfirmation({});\n              } else {\n                this.error.setErrorMessage(payment_agent_withdraw.error, this.resetPaymentAgent);\n              }\n            case 6:\n            case "end":\n              return _context7.stop();\n          }\n        }, _callee7, this);\n      }));\n      function requestPaymentAgentWithdraw(_x3) {\n        return _requestPaymentAgentWithdraw.apply(this, arguments);\n      }\n      return requestPaymentAgentWithdraw;\n    }()\n  }]);\n}();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvcGF5bWVudC1hZ2VudC1zdG9yZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBZ0JBO0FBR0E7QUFBQTtBQUFBO0FBRkE7QUFDQTtBQXNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMlJBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0V0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQXFCQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQU5BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFRQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBSEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFNQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQTFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQTRDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFTQTtBQUxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUF6QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQTJCQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFOQTtBQU9BO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQTFCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBc0NBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQVRBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFXQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBTEE7QUFNQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBMUJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9jYXNoaWVyLy4vc3RvcmVzL3BheW1lbnQtYWdlbnQtc3RvcmUudHM/MDVkNSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhY3Rpb24sIGNvbXB1dGVkLCBvYnNlcnZhYmxlLCBtYWtlT2JzZXJ2YWJsZSwgSU9ic2VydmFibGVBcnJheSB9IGZyb20gJ21vYngnO1xuaW1wb3J0IHsgUGF5bWVudEFnZW50RGV0YWlsc1Jlc3BvbnNlLCBQYXltZW50YWdlbnRMaXN0IH0gZnJvbSAnQGRlcml2L2FwaS10eXBlcyc7XG5pbXBvcnQgeyBmb3JtYXRNb25leSwgcm91dGVzLCBzaHVmZmxlQXJyYXkgfSBmcm9tICdAZGVyaXYvc2hhcmVkJztcbmltcG9ydCB7IGdldE5vcm1hbGl6ZWRQYXltZW50TWV0aG9kIH0gZnJvbSAnVXRpbHMvdXRpbGl0eSc7XG5pbXBvcnQgQ29uc3RhbnRzIGZyb20gJ0NvbnN0YW50cy9jb25zdGFudHMnO1xuaW1wb3J0IEVycm9yU3RvcmUgZnJvbSAnLi9lcnJvci1zdG9yZSc7XG5pbXBvcnQge1xuICAgIFRSb290U3RvcmUsXG4gICAgVFdlYlNvY2tldCxcbiAgICBUQWdlbnQsXG4gICAgVFBheW1lbnRBZ2VudCxcbiAgICBUUGF5bWVudEFnZW50V2l0aGRyYXdDb25maXJtLFxuICAgIFRQYXltZW50QWdlbnRXaXRoZHJhd1JlY2VpcHQsXG4gICAgVFBheW1lbnRBZ2VudFdpdGhkcmF3UmVxdWVzdCxcbiAgICBUU3VwcG9ydGVkQmFuayxcbiAgICBUUGFydGlhbFBheW1lbnRBZ2VudExpc3QsXG4gICAgVFRhcmdldCxcbiAgICBUU2VydmVyRXJyb3IsXG59IGZyb20gJy4uL3R5cGVzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGF5bWVudEFnZW50U3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgV1M6IFRXZWJTb2NrZXQsXG4gICAgICAgIHB1YmxpYyByb290X3N0b3JlOiBUUm9vdFN0b3JlXG4gICAgKSB7XG4gICAgICAgIG1ha2VPYnNlcnZhYmxlKHRoaXMsIHtcbiAgICAgICAgICAgIGxpc3Q6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBhZ2VudHM6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBlcnJvcjogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGZpbHRlcmVkX2xpc3Q6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc19uYW1lX3NlbGVjdGVkOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfc2VhcmNoX2xvYWRpbmc6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc193aXRoZHJhdzogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGlzX3RyeV93aXRoZHJhd19zdWNjZXNzZnVsOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfd2l0aGRyYXdfc3VjY2Vzc2Z1bDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGNvbmZpcm06IG9ic2VydmFibGUsXG4gICAgICAgICAgICByZWNlaXB0OiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgc2VsZWN0ZWRfYmFuazogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIHN1cHBvcnRlZF9iYW5rczogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGFjdGl2ZV90YWJfaW5kZXg6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBzZWFyY2hfdGVybTogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGhhc19wYXltZW50X2FnZW50X3NlYXJjaF93YXJuaW5nOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgc2V0QWN0aXZlVGFiSW5kZXg6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldEFjdGl2ZVRhYjogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgaXNfcGF5bWVudF9hZ2VudF92aXNpYmxlOiBjb21wdXRlZCxcbiAgICAgICAgICAgIGdldFBheW1lbnRBZ2VudExpc3Q6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGdldFBheW1lbnRBZ2VudERldGFpbHM6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGFkZFN1cHBvcnRlZEJhbms6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGNsZWFyU3VwcG9ydGVkQmFua3M6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNvcnRTdXBwb3J0ZWRCYW5rczogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0TGlzdDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgY2xlYXJMaXN0OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRQYXltZW50QWdlbnRMaXN0OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBmaWx0ZXJQYXltZW50QWdlbnRMaXN0OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRTZWFyY2hUZXJtOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRJc1NlYXJjaExvYWRpbmc6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldFBheW1lbnRBZ2VudFNlYXJjaFdhcm5pbmc6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uQ2hhbmdlUGF5bWVudE1ldGhvZDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0SXNXaXRoZHJhdzogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0SXNUcnlXaXRoZHJhd1N1Y2Nlc3NmdWw6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldElzV2l0aGRyYXdTdWNjZXNzZnVsOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRDb25maXJtYXRpb246IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldFJlY2VpcHQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGFkZFBheW1lbnRBZ2VudDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgb25Nb3VudFBheW1lbnRBZ2VudFdpdGhkcmF3OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICByZXF1ZXN0VHJ5UGF5bWVudEFnZW50V2l0aGRyYXc6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHJlc2V0UGF5bWVudEFnZW50OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBvbk1vdW50UGF5bWVudEFnZW50TGlzdDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgcmVxdWVzdFBheW1lbnRBZ2VudFdpdGhkcmF3OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBvblJlbW91bnQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBzZXRPblJlbW91bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5yb290X3N0b3JlID0gcm9vdF9zdG9yZTtcbiAgICAgICAgdGhpcy5XUyA9IFdTO1xuICAgIH1cblxuICAgIGxpc3Q6IFRQYXJ0aWFsUGF5bWVudEFnZW50TGlzdFtdID0gW107XG4gICAgYWdlbnRzOiBUQWdlbnRbXSA9IFtdO1xuICAgIGVycm9yID0gbmV3IEVycm9yU3RvcmUoKTtcbiAgICBmaWx0ZXJlZF9saXN0OiBUUGFydGlhbFBheW1lbnRBZ2VudExpc3RbXSA9IFtdO1xuICAgIGlzX25hbWVfc2VsZWN0ZWQgPSB0cnVlO1xuICAgIGlzX3NlYXJjaF9sb2FkaW5nID0gZmFsc2U7XG4gICAgaXNfd2l0aGRyYXcgPSBmYWxzZTtcbiAgICBpc190cnlfd2l0aGRyYXdfc3VjY2Vzc2Z1bCA9IGZhbHNlO1xuICAgIGlzX3dpdGhkcmF3X3N1Y2Nlc3NmdWwgPSBmYWxzZTtcbiAgICBjb25maXJtOiBUUGF5bWVudEFnZW50V2l0aGRyYXdDb25maXJtIHwgUmVjb3JkPHN0cmluZywgbmV2ZXI+ID0ge307XG4gICAgcmVjZWlwdDogVFBheW1lbnRBZ2VudFdpdGhkcmF3UmVjZWlwdCA9IHt9O1xuICAgIHNlbGVjdGVkX2Jhbms6IG51bWJlciB8IHN0cmluZyA9IDA7XG4gICAgc3VwcG9ydGVkX2JhbmtzOiBUU3VwcG9ydGVkQmFua1tdID0gW107XG4gICAgYWN0aXZlX3RhYl9pbmRleCA9IDA7XG4gICAgc2VhcmNoX3Rlcm0gPSAnJztcbiAgICBoYXNfcGF5bWVudF9hZ2VudF9zZWFyY2hfd2FybmluZyA9IGZhbHNlO1xuICAgIG9uUmVtb3VudDogVm9pZEZ1bmN0aW9uIHwgbnVsbCA9IG51bGw7XG5cbiAgICBzZXRBY3RpdmVUYWJJbmRleChpbmRleDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlX3RhYl9pbmRleCA9IGluZGV4O1xuICAgIH1cblxuICAgIHNldEFjdGl2ZVRhYihpbmRleDogbnVtYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZV90YWJfaW5kZXggPT09IDEgJiYgaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXRQYXltZW50QWdlbnQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc2V0QWN0aXZlVGFiSW5kZXgoaW5kZXgpO1xuICAgIH1cblxuICAgIHNldE9uUmVtb3VudChmdW5jOiBWb2lkRnVuY3Rpb24pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vblJlbW91bnQgPSBmdW5jO1xuICAgIH1cblxuICAgIGdldCBpc19wYXltZW50X2FnZW50X3Zpc2libGUoKSB7XG4gICAgICAgIHJldHVybiAhISh0aGlzLmZpbHRlcmVkX2xpc3QubGVuZ3RoIHx8IHRoaXMuYWdlbnRzLmxlbmd0aCB8fCB0aGlzLmhhc19wYXltZW50X2FnZW50X3NlYXJjaF93YXJuaW5nKTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRQYXltZW50QWdlbnRMaXN0KCkge1xuICAgICAgICAvLyB3YWl0IGZvciBnZXRfc2V0dGluZ3Mgc28gcmVzaWRlbmNlIGdldHMgcG9wdWxhdGVkIGluIGNsaWVudC1zdG9yZVxuICAgICAgICAvLyBUT0RPOiBzZXQgcmVzaWRlbmNlIGluIGNsaWVudC1zdG9yZSBmcm9tIGF1dGhvcml6ZSBzbyBpdCdzIGZhc3RlclxuICAgICAgICBhd2FpdCB0aGlzLldTLndhaXQoJ2dldF9zZXR0aW5ncycpO1xuICAgICAgICBjb25zdCB7IHJlc2lkZW5jZSwgY3VycmVuY3kgfSA9IHRoaXMucm9vdF9zdG9yZS5jbGllbnQ7XG4gICAgICAgIHJldHVybiB0aGlzLldTLmF1dGhvcml6ZWQucGF5bWVudEFnZW50TGlzdChyZXNpZGVuY2UsIGN1cnJlbmN5KTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRQYXltZW50QWdlbnREZXRhaWxzKCk6IFByb21pc2U8UGF5bWVudEFnZW50RGV0YWlsc1Jlc3BvbnNlWydwYXltZW50YWdlbnRfZGV0YWlscyddPiB7XG4gICAgICAgIGNvbnN0IHsgcGF5bWVudGFnZW50X2RldGFpbHMgfSA9IGF3YWl0IHRoaXMuV1MuYXV0aG9yaXplZC5wYXltZW50QWdlbnREZXRhaWxzKCk7XG4gICAgICAgIHJldHVybiBwYXltZW50YWdlbnRfZGV0YWlscztcbiAgICB9XG5cbiAgICBhZGRTdXBwb3J0ZWRCYW5rKGJhbms6IHN0cmluZykge1xuICAgICAgICBjb25zdCBzdXBwb3J0ZWRfYmFua19leGlzdHMgPSB0aGlzLnN1cHBvcnRlZF9iYW5rcy5maW5kKFxuICAgICAgICAgICAgc3VwcG9ydGVkX2JhbmsgPT4gc3VwcG9ydGVkX2JhbmsudmFsdWUgPT09IGJhbmsudG9Mb3dlckNhc2UoKVxuICAgICAgICApO1xuICAgICAgICBpZiAoIXN1cHBvcnRlZF9iYW5rX2V4aXN0cykge1xuICAgICAgICAgICAgdGhpcy5zdXBwb3J0ZWRfYmFua3MucHVzaCh7IHRleHQ6IGJhbmssIHZhbHVlOiBiYW5rLnRvTG93ZXJDYXNlKCkgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbGVhclN1cHBvcnRlZEJhbmtzKCkge1xuICAgICAgICB0aGlzLnN1cHBvcnRlZF9iYW5rcyA9IFtdO1xuICAgIH1cblxuICAgIHNvcnRTdXBwb3J0ZWRCYW5rcygpIHtcbiAgICAgICAgLy8gc29ydCBzdXBwb3J0ZWQgYmFua3MgYWxwaGFiZXRpY2FsbHkgYnkgdmFsdWUsIHRoZSBvcHRpb24gJ0FsbCBwYXltZW50IGFnZW50cycgd2l0aCB2YWx1ZSAwIHNob3VsZCBiZSBvbiB0b3BcbiAgICAgICAgKHRoaXMuc3VwcG9ydGVkX2JhbmtzIGFzIElPYnNlcnZhYmxlQXJyYXk8VFN1cHBvcnRlZEJhbms+KS5yZXBsYWNlKFxuICAgICAgICAgICAgdGhpcy5zdXBwb3J0ZWRfYmFua3Muc2xpY2UoKS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGEudmFsdWUgPCBiLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGEudmFsdWUgPiBiLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgc2V0TGlzdChwYV9saXN0OiBUUGFydGlhbFBheW1lbnRBZ2VudExpc3QpIHtcbiAgICAgICAgdGhpcy5saXN0LnB1c2gocGFfbGlzdCk7XG4gICAgfVxuXG4gICAgY2xlYXJMaXN0KCkge1xuICAgICAgICB0aGlzLmxpc3QgPSBbXTtcbiAgICB9XG5cbiAgICBhc3luYyBzZXRQYXltZW50QWdlbnRMaXN0KHBhX2xpc3Q/OiBUUGF5bWVudEFnZW50W10pIHtcbiAgICAgICAgY29uc3QgeyBzZXRMb2FkaW5nIH0gPSB0aGlzLnJvb3Rfc3RvcmUubW9kdWxlcy5jYXNoaWVyLmdlbmVyYWxfc3RvcmU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBwYXltZW50X2FnZW50X2xpc3QgPSBwYV9saXN0IHx8IChhd2FpdCB0aGlzLmdldFBheW1lbnRBZ2VudExpc3QoKSkucGF5bWVudGFnZW50X2xpc3Q/Lmxpc3Q7XG4gICAgICAgICAgICB0aGlzLmNsZWFyTGlzdCgpO1xuICAgICAgICAgICAgdGhpcy5jbGVhclN1cHBvcnRlZEJhbmtzKCk7XG4gICAgICAgICAgICBwYXltZW50X2FnZW50X2xpc3Q/LmZvckVhY2gocGF5bWVudF9hZ2VudCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRMaXN0KHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IHBheW1lbnRfYWdlbnQuY3VycmVuY2llcyxcbiAgICAgICAgICAgICAgICAgICAgZGVwb3NpdF9jb21taXNzaW9uOiBwYXltZW50X2FnZW50LmRlcG9zaXRfY29tbWlzc2lvbixcbiAgICAgICAgICAgICAgICAgICAgZW1haWw6IHBheW1lbnRfYWdlbnQuZW1haWwsXG4gICAgICAgICAgICAgICAgICAgIGZ1cnRoZXJfaW5mb3JtYXRpb246IHBheW1lbnRfYWdlbnQuZnVydGhlcl9pbmZvcm1hdGlvbixcbiAgICAgICAgICAgICAgICAgICAgbWF4X3dpdGhkcmF3YWw6IHBheW1lbnRfYWdlbnQubWF4X3dpdGhkcmF3YWwsXG4gICAgICAgICAgICAgICAgICAgIG1pbl93aXRoZHJhd2FsOiBwYXltZW50X2FnZW50Lm1pbl93aXRoZHJhd2FsLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBwYXltZW50X2FnZW50Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHBheW1lbnRhZ2VudF9sb2dpbmlkOiBwYXltZW50X2FnZW50LnBheW1lbnRhZ2VudF9sb2dpbmlkLFxuICAgICAgICAgICAgICAgICAgICBwaG9uZV9udW1iZXJzOiBwYXltZW50X2FnZW50LnBob25lX251bWJlcnMsXG4gICAgICAgICAgICAgICAgICAgIHN1cHBvcnRlZF9iYW5rczogcGF5bWVudF9hZ2VudC5zdXBwb3J0ZWRfcGF5bWVudF9tZXRob2RzLFxuICAgICAgICAgICAgICAgICAgICB1cmxzOiBwYXltZW50X2FnZW50Py51cmxzLFxuICAgICAgICAgICAgICAgICAgICB3aXRoZHJhd2FsX2NvbW1pc3Npb246IHBheW1lbnRfYWdlbnQud2l0aGRyYXdhbF9jb21taXNzaW9uLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1cHBvcnRlZF9iYW5rc19hcnJheSA9IHBheW1lbnRfYWdlbnQ/LnN1cHBvcnRlZF9wYXltZW50X21ldGhvZHNcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoYmFuazogeyBwYXltZW50X21ldGhvZD86IHN0cmluZyB9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFuay5wYXltZW50X21ldGhvZCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXltZW50X21ldGhvZCA9IGdldE5vcm1hbGl6ZWRQYXltZW50TWV0aG9kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhbmsucGF5bWVudF9tZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29uc3RhbnRzLnBheW1lbnRfbWV0aG9kc1xuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVtb3ZlIFNrcmlsbCBhbmQgTmV0ZWxsZXIgZnJvbSBwYXltZW50IG1ldGhvZHMgbGlzdCAoZHJvcGRvd24gbWVudSkgYXMgcGVyIG1hbmRhdGUgZnJvbSBQYXlzYWZlXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWydOZXRlbGxlcicsICdTa3JpbGwnXS5pbmNsdWRlcyhwYXltZW50X21ldGhvZCkgPyAnJyA6IHBheW1lbnRfbWV0aG9kO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKEJvb2xlYW4pO1xuICAgICAgICAgICAgICAgIHN1cHBvcnRlZF9iYW5rc19hcnJheS5mb3JFYWNoKChiYW5rOiBzdHJpbmcpID0+IHRoaXMuYWRkU3VwcG9ydGVkQmFuayhiYW5rKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNodWZmbGVBcnJheSh0aGlzLmxpc3QpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zb3J0U3VwcG9ydGVkQmFua3MoKTtcbiAgICB9XG5cbiAgICBmaWx0ZXJQYXltZW50QWdlbnRMaXN0KGJhbms/OiBudW1iZXIgfCBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zZXRQYXltZW50QWdlbnRTZWFyY2hXYXJuaW5nKGZhbHNlKTtcblxuICAgICAgICB0aGlzLmZpbHRlcmVkX2xpc3QgPSBbXTtcblxuICAgICAgICBpZiAoYmFuayB8fCB0aGlzLnNlbGVjdGVkX2JhbmspIHtcbiAgICAgICAgICAgIHRoaXMubGlzdC5mb3JFYWNoKHBheW1lbnRfYWdlbnQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN1cHBvcnRlZF9iYW5rcyA9IHBheW1lbnRfYWdlbnQ/LnN1cHBvcnRlZF9iYW5rcztcbiAgICAgICAgICAgICAgICBpZiAoc3VwcG9ydGVkX2JhbmtzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhbmtfaW5kZXggPSBzdXBwb3J0ZWRfYmFua3NcbiAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoc3VwcG9ydGVkX2JhbmsgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXROb3JtYWxpemVkUGF5bWVudE1ldGhvZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VwcG9ydGVkX2JhbmsucGF5bWVudF9tZXRob2QgfHwgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENvbnN0YW50cy5wYXltZW50X21ldGhvZHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5pbmRleE9mKChiYW5rIHx8IHRoaXMuc2VsZWN0ZWRfYmFuaykudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJhbmtfaW5kZXggIT09IC0xKSB0aGlzLmZpbHRlcmVkX2xpc3QucHVzaChwYXltZW50X2FnZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZmlsdGVyZWRfbGlzdCA9IHRoaXMubGlzdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zZWFyY2hfdGVybSkge1xuICAgICAgICAgICAgdGhpcy5maWx0ZXJlZF9saXN0ID0gdGhpcy5maWx0ZXJlZF9saXN0LmZpbHRlcihwYXltZW50X2FnZW50ID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF5bWVudF9hZ2VudC5uYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpLmluY2x1ZGVzKHRoaXMuc2VhcmNoX3Rlcm0udG9Mb2NhbGVMb3dlckNhc2UoKSk7XG4gICAgICAgICAgICB9KSBhcyBJT2JzZXJ2YWJsZUFycmF5PFRQYXJ0aWFsUGF5bWVudEFnZW50TGlzdD47XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmZpbHRlcmVkX2xpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRQYXltZW50QWdlbnRTZWFyY2hXYXJuaW5nKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRJc1NlYXJjaExvYWRpbmcoZmFsc2UpO1xuXG4gICAgICAgIHRoaXMucm91dGVUb0Nhc2hpZXJEZXBvc2l0SWZBZ2VudFZpc2libGUoKTtcbiAgICB9XG5cbiAgICByb3V0ZVRvQ2FzaGllckRlcG9zaXRJZkFnZW50VmlzaWJsZSgpIHtcbiAgICAgICAgY29uc3QgeyBjb21tb24gfSA9IHRoaXMucm9vdF9zdG9yZTtcblxuICAgICAgICBpZiAoIXRoaXMuaXNfcGF5bWVudF9hZ2VudF92aXNpYmxlICYmIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5lbmRzV2l0aChyb3V0ZXMuY2FzaGllcl9wYSkpIHtcbiAgICAgICAgICAgIGNvbW1vbi5yb3V0ZVRvKHJvdXRlcy5jYXNoaWVyX2RlcG9zaXQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0U2VhcmNoVGVybShzZWFyY2hfdGVybTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoX3Rlcm0gPSBzZWFyY2hfdGVybTtcbiAgICB9XG5cbiAgICBzZXRJc1NlYXJjaExvYWRpbmcodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5pc19zZWFyY2hfbG9hZGluZyA9IHZhbHVlO1xuICAgIH1cblxuICAgIHNldFBheW1lbnRBZ2VudFNlYXJjaFdhcm5pbmcodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5oYXNfcGF5bWVudF9hZ2VudF9zZWFyY2hfd2FybmluZyA9IHZhbHVlO1xuICAgIH1cblxuICAgIG9uQ2hhbmdlUGF5bWVudE1ldGhvZCh7IHRhcmdldCB9OiBUVGFyZ2V0KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGFyZ2V0LnZhbHVlID09PSAnMCcgPyBwYXJzZUludCh0YXJnZXQudmFsdWUpIDogdGFyZ2V0LnZhbHVlO1xuICAgICAgICB0aGlzLnNlbGVjdGVkX2JhbmsgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5maWx0ZXJQYXltZW50QWdlbnRMaXN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICBzZXRJc1dpdGhkcmF3KGlzX3dpdGhkcmF3ID0gIXRoaXMuaXNfd2l0aGRyYXcpIHtcbiAgICAgICAgdGhpcy5pc193aXRoZHJhdyA9IGlzX3dpdGhkcmF3O1xuICAgIH1cblxuICAgIHNldElzVHJ5V2l0aGRyYXdTdWNjZXNzZnVsKGlzX3RyeV93aXRoZHJhd19zdWNjZXNzZnVsOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuZXJyb3Iuc2V0RXJyb3JNZXNzYWdlKHsgY29kZTogJycsIG1lc3NhZ2U6ICcnIH0pO1xuICAgICAgICB0aGlzLmlzX3RyeV93aXRoZHJhd19zdWNjZXNzZnVsID0gaXNfdHJ5X3dpdGhkcmF3X3N1Y2Nlc3NmdWw7XG4gICAgfVxuXG4gICAgc2V0SXNXaXRoZHJhd1N1Y2Nlc3NmdWwoaXNfd2l0aGRyYXdfc3VjY2Vzc2Z1bDogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmlzX3dpdGhkcmF3X3N1Y2Nlc3NmdWwgPSBpc193aXRoZHJhd19zdWNjZXNzZnVsO1xuICAgIH1cblxuICAgIHNldENvbmZpcm1hdGlvbihjb25maXJtOiBUUGF5bWVudEFnZW50V2l0aGRyYXdDb25maXJtIHwgUmVjb3JkPHN0cmluZywgbmV2ZXI+KSB7XG4gICAgICAgIHRoaXMuY29uZmlybSA9IGNvbmZpcm07XG4gICAgfVxuXG4gICAgc2V0UmVjZWlwdCh7XG4gICAgICAgIGFtb3VudF90cmFuc2ZlcnJlZCxcbiAgICAgICAgcGF5bWVudF9hZ2VudF9lbWFpbCxcbiAgICAgICAgcGF5bWVudF9hZ2VudF9pZCxcbiAgICAgICAgcGF5bWVudF9hZ2VudF9uYW1lLFxuICAgICAgICBwYXltZW50X2FnZW50X3Bob25lLFxuICAgICAgICBwYXltZW50X2FnZW50X3VybCxcbiAgICB9OiBUUGF5bWVudEFnZW50V2l0aGRyYXdSZWNlaXB0KSB7XG4gICAgICAgIHRoaXMucmVjZWlwdCA9IHtcbiAgICAgICAgICAgIGFtb3VudF90cmFuc2ZlcnJlZCxcbiAgICAgICAgICAgIHBheW1lbnRfYWdlbnRfZW1haWwsXG4gICAgICAgICAgICBwYXltZW50X2FnZW50X2lkLFxuICAgICAgICAgICAgcGF5bWVudF9hZ2VudF9uYW1lLFxuICAgICAgICAgICAgcGF5bWVudF9hZ2VudF9waG9uZSxcbiAgICAgICAgICAgIHBheW1lbnRfYWdlbnRfdXJsLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGFkZFBheW1lbnRBZ2VudChwYXltZW50X2FnZW50OiBEZWVwUGFydGlhbDxQYXltZW50YWdlbnRMaXN0WydsaXN0J11bMF0+KSB7XG4gICAgICAgIHRoaXMuYWdlbnRzLnB1c2goe1xuICAgICAgICAgICAgdGV4dDogcGF5bWVudF9hZ2VudC5uYW1lLFxuICAgICAgICAgICAgdmFsdWU6IHBheW1lbnRfYWdlbnQucGF5bWVudGFnZW50X2xvZ2luaWQsXG4gICAgICAgICAgICBtYXhfd2l0aGRyYXdhbDogcGF5bWVudF9hZ2VudC5tYXhfd2l0aGRyYXdhbCxcbiAgICAgICAgICAgIG1pbl93aXRoZHJhd2FsOiBwYXltZW50X2FnZW50Lm1pbl93aXRoZHJhd2FsLFxuICAgICAgICAgICAgZW1haWw6IHBheW1lbnRfYWdlbnQuZW1haWwsXG4gICAgICAgICAgICBwaG9uZV9udW1iZXJzOiBwYXltZW50X2FnZW50LnBob25lX251bWJlcnMsXG4gICAgICAgICAgICB1cmw6IHBheW1lbnRfYWdlbnQudXJscyxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgb25Nb3VudFBheW1lbnRBZ2VudFdpdGhkcmF3KCkge1xuICAgICAgICBjb25zdCB7IGNvbW1vbiwgbW9kdWxlcyB9ID0gdGhpcy5yb290X3N0b3JlO1xuICAgICAgICBjb25zdCB7IHNldExvYWRpbmcsIG9uTW91bnRDb21tb24gfSA9IG1vZHVsZXMuY2FzaGllci5nZW5lcmFsX3N0b3JlO1xuXG4gICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIHRoaXMuc2V0T25SZW1vdW50KCgpID0+IHRoaXMub25Nb3VudFBheW1lbnRBZ2VudFdpdGhkcmF3KTtcbiAgICAgICAgYXdhaXQgb25Nb3VudENvbW1vbigpO1xuXG4gICAgICAgIHRoaXMuc2V0SXNXaXRoZHJhdyh0cnVlKTtcbiAgICAgICAgdGhpcy5zZXRJc1dpdGhkcmF3U3VjY2Vzc2Z1bChmYWxzZSk7XG4gICAgICAgIHRoaXMuc2V0UmVjZWlwdCh7fSk7XG5cbiAgICAgICAgaWYgKCF0aGlzLmFnZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHBheW1lbnRfYWdlbnRfbGlzdCA9IGF3YWl0IHRoaXMuZ2V0UGF5bWVudEFnZW50TGlzdCgpO1xuICAgICAgICAgICAgcGF5bWVudF9hZ2VudF9saXN0LnBheW1lbnRhZ2VudF9saXN0Py5saXN0LmZvckVhY2gocGF5bWVudF9hZ2VudCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRQYXltZW50QWdlbnQocGF5bWVudF9hZ2VudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhcGF5bWVudF9hZ2VudF9saXN0LnBheW1lbnRhZ2VudF9saXN0Py5saXN0Lmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5lbmRzV2l0aChyb3V0ZXMuY2FzaGllcl9wYSlcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGNvbW1vbi5yb3V0ZVRvKHJvdXRlcy5jYXNoaWVyX2RlcG9zaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cblxuICAgIGFzeW5jIHJlcXVlc3RUcnlQYXltZW50QWdlbnRXaXRoZHJhdyh7XG4gICAgICAgIGxvZ2luaWQsXG4gICAgICAgIGN1cnJlbmN5LFxuICAgICAgICBhbW91bnQsXG4gICAgICAgIHZlcmlmaWNhdGlvbl9jb2RlLFxuICAgIH06IFRQYXltZW50QWdlbnRXaXRoZHJhd1JlcXVlc3QpIHtcbiAgICAgICAgdGhpcy5lcnJvci5zZXRFcnJvck1lc3NhZ2UoeyBjb2RlOiAnJywgbWVzc2FnZTogJycgfSk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRfYWdlbnRfd2l0aGRyYXcgPSBhd2FpdCB0aGlzLldTLmF1dGhvcml6ZWQucGF5bWVudEFnZW50V2l0aGRyYXcoe1xuICAgICAgICAgICAgbG9naW5pZCxcbiAgICAgICAgICAgIGN1cnJlbmN5LFxuICAgICAgICAgICAgYW1vdW50LFxuICAgICAgICAgICAgdmVyaWZpY2F0aW9uX2NvZGUsXG4gICAgICAgICAgICBkcnlfcnVuOiAxLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKE51bWJlcihwYXltZW50X2FnZW50X3dpdGhkcmF3LnBheW1lbnRhZ2VudF93aXRoZHJhdykgPT09IDIpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkX2FnZW50ID0gdGhpcy5hZ2VudHMuZmluZChhZ2VudCA9PiBhZ2VudC52YWx1ZSA9PT0gbG9naW5pZCk7XG4gICAgICAgICAgICB0aGlzLnNldENvbmZpcm1hdGlvbih7XG4gICAgICAgICAgICAgICAgYW1vdW50LFxuICAgICAgICAgICAgICAgIGN1cnJlbmN5LFxuICAgICAgICAgICAgICAgIGxvZ2luaWQsXG4gICAgICAgICAgICAgICAgcGF5bWVudF9hZ2VudF9uYW1lOiBzZWxlY3RlZF9hZ2VudD8udGV4dCB8fCBwYXltZW50X2FnZW50X3dpdGhkcmF3LnBheW1lbnRhZ2VudF9uYW1lIHx8ICcnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnNldElzVHJ5V2l0aGRyYXdTdWNjZXNzZnVsKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lcnJvci5zZXRFcnJvck1lc3NhZ2UocGF5bWVudF9hZ2VudF93aXRoZHJhdy5lcnJvciBhcyBUU2VydmVyRXJyb3IsIHRoaXMucmVzZXRQYXltZW50QWdlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzZXRQYXltZW50QWdlbnQgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50IH0gPSB0aGlzLnJvb3Rfc3RvcmU7XG4gICAgICAgIGNsaWVudC5zZXRWZXJpZmljYXRpb25Db2RlKCcnLCAncGF5bWVudF9hZ2VudF93aXRoZHJhdycpO1xuICAgICAgICB0aGlzLmVycm9yLnNldEVycm9yTWVzc2FnZSh7IGNvZGU6ICcnLCBtZXNzYWdlOiAnJyB9KTtcbiAgICAgICAgdGhpcy5zZXRJc1dpdGhkcmF3KGZhbHNlKTtcbiAgICAgICAgdGhpcy5zZXRJc1dpdGhkcmF3U3VjY2Vzc2Z1bChmYWxzZSk7XG4gICAgICAgIHRoaXMuc2V0SXNUcnlXaXRoZHJhd1N1Y2Nlc3NmdWwoZmFsc2UpO1xuICAgICAgICB0aGlzLnNldEFjdGl2ZVRhYkluZGV4KDApO1xuICAgIH07XG5cbiAgICBhc3luYyBvbk1vdW50UGF5bWVudEFnZW50TGlzdCgpIHtcbiAgICAgICAgY29uc3QgeyBzZXRMb2FkaW5nLCBvbk1vdW50Q29tbW9uIH0gPSB0aGlzLnJvb3Rfc3RvcmUubW9kdWxlcy5jYXNoaWVyLmdlbmVyYWxfc3RvcmU7XG5cbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgdGhpcy5vblJlbW91bnQgPSAoKSA9PiB0aGlzLm9uTW91bnRQYXltZW50QWdlbnRMaXN0O1xuICAgICAgICBhd2FpdCBvbk1vdW50Q29tbW9uKCk7XG4gICAgICAgIGF3YWl0IHRoaXMuZ2V0UGF5bWVudEFnZW50TGlzdCgpO1xuXG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cblxuICAgIGFzeW5jIHJlcXVlc3RQYXltZW50QWdlbnRXaXRoZHJhdyh7IGxvZ2luaWQsIGN1cnJlbmN5LCBhbW91bnQsIHZlcmlmaWNhdGlvbl9jb2RlIH06IFRQYXltZW50QWdlbnRXaXRoZHJhd1JlcXVlc3QpIHtcbiAgICAgICAgdGhpcy5lcnJvci5zZXRFcnJvck1lc3NhZ2UoeyBjb2RlOiAnJywgbWVzc2FnZTogJycgfSk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRfYWdlbnRfd2l0aGRyYXcgPSBhd2FpdCB0aGlzLldTLmF1dGhvcml6ZWQucGF5bWVudEFnZW50V2l0aGRyYXcoe1xuICAgICAgICAgICAgbG9naW5pZCxcbiAgICAgICAgICAgIGN1cnJlbmN5LFxuICAgICAgICAgICAgYW1vdW50LFxuICAgICAgICAgICAgdmVyaWZpY2F0aW9uX2NvZGUsXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoTnVtYmVyKHBheW1lbnRfYWdlbnRfd2l0aGRyYXcucGF5bWVudGFnZW50X3dpdGhkcmF3KSA9PT0gMSkge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRfYWdlbnQgPSB0aGlzLmFnZW50cy5maW5kKGFnZW50ID0+IGFnZW50LnZhbHVlID09PSBsb2dpbmlkKTtcbiAgICAgICAgICAgIHRoaXMuc2V0UmVjZWlwdCh7XG4gICAgICAgICAgICAgICAgYW1vdW50X3RyYW5zZmVycmVkOiBmb3JtYXRNb25leShjdXJyZW5jeSwgYW1vdW50LCB0cnVlKSxcbiAgICAgICAgICAgICAgICAuLi4oc2VsZWN0ZWRfYWdlbnQgJiYge1xuICAgICAgICAgICAgICAgICAgICBwYXltZW50X2FnZW50X2VtYWlsOiBzZWxlY3RlZF9hZ2VudC5lbWFpbCxcbiAgICAgICAgICAgICAgICAgICAgcGF5bWVudF9hZ2VudF9pZDogc2VsZWN0ZWRfYWdlbnQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHBheW1lbnRfYWdlbnRfbmFtZTogc2VsZWN0ZWRfYWdlbnQudGV4dCxcbiAgICAgICAgICAgICAgICAgICAgcGF5bWVudF9hZ2VudF9waG9uZTogc2VsZWN0ZWRfYWdlbnQucGhvbmVfbnVtYmVycyxcbiAgICAgICAgICAgICAgICAgICAgcGF5bWVudF9hZ2VudF91cmw6IHNlbGVjdGVkX2FnZW50LnVybCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zZXRJc1dpdGhkcmF3U3VjY2Vzc2Z1bCh0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuc2V0SXNUcnlXaXRoZHJhd1N1Y2Nlc3NmdWwoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5zZXRDb25maXJtYXRpb24oe30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lcnJvci5zZXRFcnJvck1lc3NhZ2UocGF5bWVudF9hZ2VudF93aXRoZHJhdy5lcnJvciBhcyBUU2VydmVyRXJyb3IsIHRoaXMucmVzZXRQYXltZW50QWdlbnQpO1xuICAgICAgICB9XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./stores/payment-agent-store.ts\n')},"./stores/payment-agent-transfer-store.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ PaymentAgentTransferStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ "mobx");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _error_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error-store */ "./stores/error-store.ts");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\n\nvar PaymentAgentTransferStore = /*#__PURE__*/function () {\n  function PaymentAgentTransferStore(WS, root_store) {\n    var _this = this;\n    _classCallCheck(this, PaymentAgentTransferStore);\n    this.WS = WS;\n    this.root_store = root_store;\n    this.error = new _error_store__WEBPACK_IMPORTED_MODULE_1__["default"]();\n    this.is_try_transfer_successful = false;\n    this.is_transfer_successful = false;\n    this.confirm = {};\n    this.receipt = {};\n    this.transfer_limit = {};\n    this.onRemount = null;\n    this.requestTryPaymentAgentTransfer = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref) {\n        var amount, currency, description, transfer_to, payment_agent_transfer;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              amount = _ref.amount, currency = _ref.currency, description = _ref.description, transfer_to = _ref.transfer_to;\n              _this.error.setErrorMessage({\n                code: \'\',\n                message: \'\'\n              });\n              _context.next = 4;\n              return _this.WS.authorized.paymentAgentTransfer({\n                amount: amount,\n                currency: currency,\n                description: description,\n                transfer_to: transfer_to,\n                dry_run: 1\n              });\n            case 4:\n              payment_agent_transfer = _context.sent;\n              if (Number(payment_agent_transfer.paymentagent_transfer) === 2) {\n                // show confirmation screen\n                _this.setConfirmationPaymentAgentTransfer({\n                  client_id: transfer_to,\n                  client_name: payment_agent_transfer.client_to_full_name,\n                  amount: amount,\n                  description: description\n                });\n                _this.setIsTryTransferSuccessful(true);\n              } else {\n                _this.error.setErrorMessage(payment_agent_transfer.error, _this.resetPaymentAgentTransfer);\n              }\n              return _context.abrupt("return", payment_agent_transfer);\n            case 7:\n            case "end":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    this.requestPaymentAgentTransfer = /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_ref3) {\n        var amount, currency, description, transfer_to, payment_agent_transfer;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              amount = _ref3.amount, currency = _ref3.currency, description = _ref3.description, transfer_to = _ref3.transfer_to;\n              _this.error.setErrorMessage({\n                code: \'\',\n                message: \'\'\n              });\n              _context2.next = 4;\n              return _this.WS.authorized.paymentAgentTransfer({\n                amount: amount,\n                currency: currency,\n                description: description,\n                transfer_to: transfer_to\n              });\n            case 4:\n              payment_agent_transfer = _context2.sent;\n              if (Number(payment_agent_transfer.paymentagent_transfer) === 1) {\n                _this.setReceiptPaymentAgentTransfer({\n                  amount_transferred: amount,\n                  client_id: transfer_to,\n                  client_name: payment_agent_transfer.client_to_full_name\n                });\n                _this.setIsTransferSuccessful(true);\n                _this.setIsTryTransferSuccessful(false);\n                _this.setConfirmationPaymentAgentTransfer({});\n              } else {\n                _this.error.setErrorMessage(payment_agent_transfer.error, _this.resetPaymentAgentTransfer);\n              }\n              return _context2.abrupt("return", payment_agent_transfer);\n            case 7:\n            case "end":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }));\n      return function (_x2) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n    this.resetPaymentAgentTransfer = function () {\n      _this.setIsTransferSuccessful(false);\n      _this.error.setErrorMessage({\n        code: \'\',\n        message: \'\'\n      });\n    };\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(this, {\n      error: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_try_transfer_successful: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_transfer_successful: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      confirm: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      receipt: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      transfer_limit: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      setIsTryTransferSuccessful: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsTransferSuccessful: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setConfirmationPaymentAgentTransfer: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setReceiptPaymentAgentTransfer: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setMinMaxPaymentAgentTransfer: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onMountPaymentAgentTransfer: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      requestTryPaymentAgentTransfer: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      requestPaymentAgentTransfer: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      resetPaymentAgentTransfer: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n    this.root_store = root_store;\n    this.WS = WS;\n  }\n  return _createClass(PaymentAgentTransferStore, [{\n    key: "setIsTryTransferSuccessful",\n    value: function setIsTryTransferSuccessful(is_try_transfer_successful) {\n      this.error.setErrorMessage({\n        code: \'\',\n        message: \'\'\n      });\n      this.is_try_transfer_successful = is_try_transfer_successful;\n    }\n  }, {\n    key: "setIsTransferSuccessful",\n    value: function setIsTransferSuccessful(is_transfer_successful) {\n      this.is_transfer_successful = is_transfer_successful;\n    }\n  }, {\n    key: "setConfirmationPaymentAgentTransfer",\n    value: function setConfirmationPaymentAgentTransfer(_ref5) {\n      var amount = _ref5.amount,\n        client_id = _ref5.client_id,\n        client_name = _ref5.client_name,\n        description = _ref5.description;\n      this.confirm = {\n        amount: amount,\n        client_id: client_id,\n        client_name: client_name,\n        description: description\n      };\n    }\n  }, {\n    key: "setReceiptPaymentAgentTransfer",\n    value: function setReceiptPaymentAgentTransfer(_ref6) {\n      var amount_transferred = _ref6.amount_transferred,\n        client_id = _ref6.client_id,\n        client_name = _ref6.client_name;\n      this.receipt = {\n        amount_transferred: amount_transferred,\n        client_id: client_id,\n        client_name: client_name\n      };\n    }\n  }, {\n    key: "getCurrentPaymentAgent",\n    value: function () {\n      var _getCurrentPaymentAgent = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(response_payment_agent) {\n        var _response_payment_age;\n        var _this$root_store, client, modules, payment_agent_listed, current_payment_agent;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _this$root_store = this.root_store, client = _this$root_store.client, modules = _this$root_store.modules;\n              payment_agent_listed = (_response_payment_age = response_payment_agent.paymentagent_list) === null || _response_payment_age === void 0 ? void 0 : _response_payment_age.list.find(function (agent) {\n                return agent.paymentagent_loginid === client.loginid;\n              });\n              _context3.t0 = payment_agent_listed;\n              if (_context3.t0) {\n                _context3.next = 7;\n                break;\n              }\n              _context3.next = 6;\n              return modules.cashier.payment_agent.getPaymentAgentDetails();\n            case 6:\n              _context3.t0 = _context3.sent;\n            case 7:\n              current_payment_agent = _context3.t0;\n              return _context3.abrupt("return", current_payment_agent !== null && current_payment_agent !== void 0 ? current_payment_agent : {});\n            case 9:\n            case "end":\n              return _context3.stop();\n          }\n        }, _callee3, this);\n      }));\n      function getCurrentPaymentAgent(_x3) {\n        return _getCurrentPaymentAgent.apply(this, arguments);\n      }\n      return getCurrentPaymentAgent;\n    }()\n  }, {\n    key: "setMinMaxPaymentAgentTransfer",\n    value: function setMinMaxPaymentAgentTransfer(_ref7) {\n      var min_withdrawal = _ref7.min_withdrawal,\n        max_withdrawal = _ref7.max_withdrawal;\n      this.transfer_limit = {\n        min_withdrawal: min_withdrawal,\n        max_withdrawal: max_withdrawal\n      };\n    }\n  }, {\n    key: "onMountPaymentAgentTransfer",\n    value: function () {\n      var _onMountPaymentAgentTransfer = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var _this2 = this;\n        var _this$root_store2, client, modules, _modules$cashier, general_store, payment_agent, updateTransferLimits;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              _this$root_store2 = this.root_store, client = _this$root_store2.client, modules = _this$root_store2.modules;\n              _modules$cashier = modules.cashier, general_store = _modules$cashier.general_store, payment_agent = _modules$cashier.payment_agent;\n              general_store.setLoading(true);\n              this.onRemount = function () {\n                return _this2.onMountPaymentAgentTransfer;\n              };\n              _context5.next = 6;\n              return general_store.onMountCommon();\n            case 6:\n              updateTransferLimits = /*#__PURE__*/function () {\n                var _ref8 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n                  var response, current_payment_agent;\n                  return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n                    while (1) switch (_context4.prev = _context4.next) {\n                      case 0:\n                        _context4.next = 2;\n                        return payment_agent.getPaymentAgentList();\n                      case 2:\n                        response = _context4.sent;\n                        _context4.next = 5;\n                        return _this2.getCurrentPaymentAgent(response);\n                      case 5:\n                        current_payment_agent = _context4.sent;\n                        _this2.setMinMaxPaymentAgentTransfer(current_payment_agent);\n                      case 7:\n                      case "end":\n                        return _context4.stop();\n                    }\n                  }, _callee4);\n                }));\n                return function updateTransferLimits() {\n                  return _ref8.apply(this, arguments);\n                };\n              }();\n              if (this.transfer_limit.min_withdrawal) {\n                _context5.next = 10;\n                break;\n              }\n              _context5.next = 10;\n              return updateTransferLimits();\n            case 10:\n              general_store.setLoading(false);\n              (0,mobx__WEBPACK_IMPORTED_MODULE_0__.reaction)(function () {\n                return client === null || client === void 0 ? void 0 : client.loginid;\n              }, function () {\n                return updateTransferLimits();\n              });\n            case 12:\n            case "end":\n              return _context5.stop();\n          }\n        }, _callee5, this);\n      }));\n      function onMountPaymentAgentTransfer() {\n        return _onMountPaymentAgentTransfer.apply(this, arguments);\n      }\n      return onMountPaymentAgentTransfer;\n    }()\n  }]);\n}();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvcGF5bWVudC1hZ2VudC10cmFuc2Zlci1zdG9yZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQUNBO0FBQUE7QUFZQTtBQUdBO0FBQUE7QUFBQTtBQUZBO0FBQ0E7QUF3QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF1RUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFOQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUxBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBaktBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFXQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFSQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFKQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBRUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBeEJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL0BkZXJpdi9jYXNoaWVyLy4vc3RvcmVzL3BheW1lbnQtYWdlbnQtdHJhbnNmZXItc3RvcmUudHM/N2VlZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhY3Rpb24sIG9ic2VydmFibGUsIG1ha2VPYnNlcnZhYmxlLCByZWFjdGlvbiB9IGZyb20gJ21vYngnO1xuaW1wb3J0IEVycm9yU3RvcmUgZnJvbSAnLi9lcnJvci1zdG9yZSc7XG5pbXBvcnQgeyBQYXltZW50QWdlbnRMaXN0UmVzcG9uc2UgfSBmcm9tICdAZGVyaXYvYXBpLXR5cGVzJztcbmltcG9ydCB7XG4gICAgVFBheW1lbnRBZ2VudFRyYW5zZmVyUmVxdWVzdCxcbiAgICBUUGF5bWVudEFnZW50VHJhbnNmZXJSZWNlaXB0LFxuICAgIFRQYXltZW50QWdlbnRUcmFuc2ZlckNvbmZpcm0sXG4gICAgVFRyYW5zZmVyTGltaXQsXG4gICAgVFdlYlNvY2tldCxcbiAgICBUUm9vdFN0b3JlLFxufSBmcm9tICcuLi90eXBlcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBheW1lbnRBZ2VudFRyYW5zZmVyU3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgV1M6IFRXZWJTb2NrZXQsXG4gICAgICAgIHB1YmxpYyByb290X3N0b3JlOiBUUm9vdFN0b3JlXG4gICAgKSB7XG4gICAgICAgIG1ha2VPYnNlcnZhYmxlKHRoaXMsIHtcbiAgICAgICAgICAgIGVycm9yOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfdHJ5X3RyYW5zZmVyX3N1Y2Nlc3NmdWw6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc190cmFuc2Zlcl9zdWNjZXNzZnVsOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgY29uZmlybTogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIHJlY2VpcHQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICB0cmFuc2Zlcl9saW1pdDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIHNldElzVHJ5VHJhbnNmZXJTdWNjZXNzZnVsOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRJc1RyYW5zZmVyU3VjY2Vzc2Z1bDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0Q29uZmlybWF0aW9uUGF5bWVudEFnZW50VHJhbnNmZXI6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldFJlY2VpcHRQYXltZW50QWdlbnRUcmFuc2ZlcjogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0TWluTWF4UGF5bWVudEFnZW50VHJhbnNmZXI6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uTW91bnRQYXltZW50QWdlbnRUcmFuc2ZlcjogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgcmVxdWVzdFRyeVBheW1lbnRBZ2VudFRyYW5zZmVyOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICByZXF1ZXN0UGF5bWVudEFnZW50VHJhbnNmZXI6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHJlc2V0UGF5bWVudEFnZW50VHJhbnNmZXI6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5yb290X3N0b3JlID0gcm9vdF9zdG9yZTtcbiAgICAgICAgdGhpcy5XUyA9IFdTO1xuICAgIH1cblxuICAgIGVycm9yOiBUUm9vdFN0b3JlWydtb2R1bGVzJ11bJ2Nhc2hpZXInXVsnZXJyb3InXSA9IG5ldyBFcnJvclN0b3JlKCk7XG4gICAgaXNfdHJ5X3RyYW5zZmVyX3N1Y2Nlc3NmdWwgPSBmYWxzZTtcbiAgICBpc190cmFuc2Zlcl9zdWNjZXNzZnVsID0gZmFsc2U7XG4gICAgY29uZmlybTogVFBheW1lbnRBZ2VudFRyYW5zZmVyQ29uZmlybSA9IHt9O1xuICAgIHJlY2VpcHQ6IFRQYXltZW50QWdlbnRUcmFuc2ZlclJlY2VpcHQgPSB7fTtcbiAgICB0cmFuc2Zlcl9saW1pdDogVFRyYW5zZmVyTGltaXQgPSB7fTtcbiAgICBvblJlbW91bnQ6IFZvaWRGdW5jdGlvbiB8IG51bGwgPSBudWxsO1xuXG4gICAgc2V0SXNUcnlUcmFuc2ZlclN1Y2Nlc3NmdWwoaXNfdHJ5X3RyYW5zZmVyX3N1Y2Nlc3NmdWw6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5lcnJvci5zZXRFcnJvck1lc3NhZ2UoeyBjb2RlOiAnJywgbWVzc2FnZTogJycgfSk7XG4gICAgICAgIHRoaXMuaXNfdHJ5X3RyYW5zZmVyX3N1Y2Nlc3NmdWwgPSBpc190cnlfdHJhbnNmZXJfc3VjY2Vzc2Z1bDtcbiAgICB9XG5cbiAgICBzZXRJc1RyYW5zZmVyU3VjY2Vzc2Z1bChpc190cmFuc2Zlcl9zdWNjZXNzZnVsOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuaXNfdHJhbnNmZXJfc3VjY2Vzc2Z1bCA9IGlzX3RyYW5zZmVyX3N1Y2Nlc3NmdWw7XG4gICAgfVxuXG4gICAgc2V0Q29uZmlybWF0aW9uUGF5bWVudEFnZW50VHJhbnNmZXIoeyBhbW91bnQsIGNsaWVudF9pZCwgY2xpZW50X25hbWUsIGRlc2NyaXB0aW9uIH06IFRQYXltZW50QWdlbnRUcmFuc2ZlckNvbmZpcm0pIHtcbiAgICAgICAgdGhpcy5jb25maXJtID0ge1xuICAgICAgICAgICAgYW1vdW50LFxuICAgICAgICAgICAgY2xpZW50X2lkLFxuICAgICAgICAgICAgY2xpZW50X25hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBzZXRSZWNlaXB0UGF5bWVudEFnZW50VHJhbnNmZXIoeyBhbW91bnRfdHJhbnNmZXJyZWQsIGNsaWVudF9pZCwgY2xpZW50X25hbWUgfTogVFBheW1lbnRBZ2VudFRyYW5zZmVyUmVjZWlwdCkge1xuICAgICAgICB0aGlzLnJlY2VpcHQgPSB7XG4gICAgICAgICAgICBhbW91bnRfdHJhbnNmZXJyZWQsXG4gICAgICAgICAgICBjbGllbnRfaWQsXG4gICAgICAgICAgICBjbGllbnRfbmFtZSxcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhc3luYyBnZXRDdXJyZW50UGF5bWVudEFnZW50KHJlc3BvbnNlX3BheW1lbnRfYWdlbnQ6IFBheW1lbnRBZ2VudExpc3RSZXNwb25zZSkge1xuICAgICAgICBjb25zdCB7IGNsaWVudCwgbW9kdWxlcyB9ID0gdGhpcy5yb290X3N0b3JlO1xuICAgICAgICBjb25zdCBwYXltZW50X2FnZW50X2xpc3RlZCA9IHJlc3BvbnNlX3BheW1lbnRfYWdlbnQucGF5bWVudGFnZW50X2xpc3Q/Lmxpc3QuZmluZChcbiAgICAgICAgICAgIGFnZW50ID0+IGFnZW50LnBheW1lbnRhZ2VudF9sb2dpbmlkID09PSBjbGllbnQubG9naW5pZFxuICAgICAgICApO1xuICAgICAgICBjb25zdCBjdXJyZW50X3BheW1lbnRfYWdlbnQgPVxuICAgICAgICAgICAgcGF5bWVudF9hZ2VudF9saXN0ZWQgfHwgKGF3YWl0IG1vZHVsZXMuY2FzaGllci5wYXltZW50X2FnZW50LmdldFBheW1lbnRBZ2VudERldGFpbHMoKSk7XG4gICAgICAgIHJldHVybiBjdXJyZW50X3BheW1lbnRfYWdlbnQgPz8ge307XG4gICAgfVxuXG4gICAgc2V0TWluTWF4UGF5bWVudEFnZW50VHJhbnNmZXIoeyBtaW5fd2l0aGRyYXdhbCwgbWF4X3dpdGhkcmF3YWwgfTogVFRyYW5zZmVyTGltaXQpIHtcbiAgICAgICAgdGhpcy50cmFuc2Zlcl9saW1pdCA9IHtcbiAgICAgICAgICAgIG1pbl93aXRoZHJhd2FsLFxuICAgICAgICAgICAgbWF4X3dpdGhkcmF3YWwsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgYXN5bmMgb25Nb3VudFBheW1lbnRBZ2VudFRyYW5zZmVyKCkge1xuICAgICAgICBjb25zdCB7IGNsaWVudCwgbW9kdWxlcyB9ID0gdGhpcy5yb290X3N0b3JlO1xuICAgICAgICBjb25zdCB7IGdlbmVyYWxfc3RvcmUsIHBheW1lbnRfYWdlbnQgfSA9IG1vZHVsZXMuY2FzaGllcjtcblxuICAgICAgICBnZW5lcmFsX3N0b3JlLnNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIHRoaXMub25SZW1vdW50ID0gKCkgPT4gdGhpcy5vbk1vdW50UGF5bWVudEFnZW50VHJhbnNmZXI7XG4gICAgICAgIGF3YWl0IGdlbmVyYWxfc3RvcmUub25Nb3VudENvbW1vbigpO1xuXG4gICAgICAgIGNvbnN0IHVwZGF0ZVRyYW5zZmVyTGltaXRzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBwYXltZW50X2FnZW50LmdldFBheW1lbnRBZ2VudExpc3QoKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRfcGF5bWVudF9hZ2VudCA9IGF3YWl0IHRoaXMuZ2V0Q3VycmVudFBheW1lbnRBZ2VudChyZXNwb25zZSk7XG4gICAgICAgICAgICB0aGlzLnNldE1pbk1heFBheW1lbnRBZ2VudFRyYW5zZmVyKGN1cnJlbnRfcGF5bWVudF9hZ2VudCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKCF0aGlzLnRyYW5zZmVyX2xpbWl0Lm1pbl93aXRoZHJhd2FsKSB7XG4gICAgICAgICAgICBhd2FpdCB1cGRhdGVUcmFuc2ZlckxpbWl0cygpO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2VuZXJhbF9zdG9yZS5zZXRMb2FkaW5nKGZhbHNlKTtcblxuICAgICAgICByZWFjdGlvbihcbiAgICAgICAgICAgICgpID0+IGNsaWVudD8ubG9naW5pZCxcbiAgICAgICAgICAgICgpID0+IHVwZGF0ZVRyYW5zZmVyTGltaXRzKClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXF1ZXN0VHJ5UGF5bWVudEFnZW50VHJhbnNmZXIgPSBhc3luYyAoe1xuICAgICAgICBhbW91bnQsXG4gICAgICAgIGN1cnJlbmN5LFxuICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgdHJhbnNmZXJfdG8sXG4gICAgfTogVFBheW1lbnRBZ2VudFRyYW5zZmVyUmVxdWVzdCkgPT4ge1xuICAgICAgICB0aGlzLmVycm9yLnNldEVycm9yTWVzc2FnZSh7IGNvZGU6ICcnLCBtZXNzYWdlOiAnJyB9KTtcbiAgICAgICAgY29uc3QgcGF5bWVudF9hZ2VudF90cmFuc2ZlciA9IGF3YWl0IHRoaXMuV1MuYXV0aG9yaXplZC5wYXltZW50QWdlbnRUcmFuc2Zlcih7XG4gICAgICAgICAgICBhbW91bnQsXG4gICAgICAgICAgICBjdXJyZW5jeSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgdHJhbnNmZXJfdG8sXG4gICAgICAgICAgICBkcnlfcnVuOiAxLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKE51bWJlcihwYXltZW50X2FnZW50X3RyYW5zZmVyLnBheW1lbnRhZ2VudF90cmFuc2ZlcikgPT09IDIpIHtcbiAgICAgICAgICAgIC8vIHNob3cgY29uZmlybWF0aW9uIHNjcmVlblxuICAgICAgICAgICAgdGhpcy5zZXRDb25maXJtYXRpb25QYXltZW50QWdlbnRUcmFuc2Zlcih7XG4gICAgICAgICAgICAgICAgY2xpZW50X2lkOiB0cmFuc2Zlcl90byxcbiAgICAgICAgICAgICAgICBjbGllbnRfbmFtZTogcGF5bWVudF9hZ2VudF90cmFuc2Zlci5jbGllbnRfdG9fZnVsbF9uYW1lLFxuICAgICAgICAgICAgICAgIGFtb3VudCxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zZXRJc1RyeVRyYW5zZmVyU3VjY2Vzc2Z1bCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3Iuc2V0RXJyb3JNZXNzYWdlKHBheW1lbnRfYWdlbnRfdHJhbnNmZXIuZXJyb3IsIHRoaXMucmVzZXRQYXltZW50QWdlbnRUcmFuc2Zlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGF5bWVudF9hZ2VudF90cmFuc2ZlcjtcbiAgICB9O1xuXG4gICAgcmVxdWVzdFBheW1lbnRBZ2VudFRyYW5zZmVyID0gYXN5bmMgKHtcbiAgICAgICAgYW1vdW50LFxuICAgICAgICBjdXJyZW5jeSxcbiAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIHRyYW5zZmVyX3RvLFxuICAgIH06IFRQYXltZW50QWdlbnRUcmFuc2ZlclJlcXVlc3QpID0+IHtcbiAgICAgICAgdGhpcy5lcnJvci5zZXRFcnJvck1lc3NhZ2UoeyBjb2RlOiAnJywgbWVzc2FnZTogJycgfSk7XG4gICAgICAgIGNvbnN0IHBheW1lbnRfYWdlbnRfdHJhbnNmZXIgPSBhd2FpdCB0aGlzLldTLmF1dGhvcml6ZWQucGF5bWVudEFnZW50VHJhbnNmZXIoe1xuICAgICAgICAgICAgYW1vdW50LFxuICAgICAgICAgICAgY3VycmVuY3ksXG4gICAgICAgICAgICBkZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHRyYW5zZmVyX3RvLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKE51bWJlcihwYXltZW50X2FnZW50X3RyYW5zZmVyLnBheW1lbnRhZ2VudF90cmFuc2ZlcikgPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0UmVjZWlwdFBheW1lbnRBZ2VudFRyYW5zZmVyKHtcbiAgICAgICAgICAgICAgICBhbW91bnRfdHJhbnNmZXJyZWQ6IGFtb3VudCxcbiAgICAgICAgICAgICAgICBjbGllbnRfaWQ6IHRyYW5zZmVyX3RvLFxuICAgICAgICAgICAgICAgIGNsaWVudF9uYW1lOiBwYXltZW50X2FnZW50X3RyYW5zZmVyLmNsaWVudF90b19mdWxsX25hbWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuc2V0SXNUcmFuc2ZlclN1Y2Nlc3NmdWwodHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnNldElzVHJ5VHJhbnNmZXJTdWNjZXNzZnVsKGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuc2V0Q29uZmlybWF0aW9uUGF5bWVudEFnZW50VHJhbnNmZXIoe30pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lcnJvci5zZXRFcnJvck1lc3NhZ2UocGF5bWVudF9hZ2VudF90cmFuc2Zlci5lcnJvciwgdGhpcy5yZXNldFBheW1lbnRBZ2VudFRyYW5zZmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYXltZW50X2FnZW50X3RyYW5zZmVyO1xuICAgIH07XG5cbiAgICByZXNldFBheW1lbnRBZ2VudFRyYW5zZmVyID0gKCkgPT4ge1xuICAgICAgICB0aGlzLnNldElzVHJhbnNmZXJTdWNjZXNzZnVsKGZhbHNlKTtcbiAgICAgICAgdGhpcy5lcnJvci5zZXRFcnJvck1lc3NhZ2UoeyBjb2RlOiAnJywgbWVzc2FnZTogJycgfSk7XG4gICAgfTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./stores/payment-agent-transfer-store.ts\n')},"./stores/transaction-history-store.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ TransactionHistoryStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ "mobx");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\nvar TransactionHistoryStore = /*#__PURE__*/function () {\n  function TransactionHistoryStore(WS, root_store) {\n    _classCallCheck(this, TransactionHistoryStore);\n    this.WS = WS;\n    this.root_store = root_store;\n    this.is_transactions_crypto_cancel_modal_visible = false;\n    this.is_transactions_crypto_status_modal_visible = false;\n    this.is_transactions_crypto_visible = false;\n    this.selected_crypto_transaction_id = \'\';\n    this.selected_crypto_status = \'\';\n    this.selected_crypto_status_description = \'\';\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(this, {\n      is_transactions_crypto_cancel_modal_visible: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_transactions_crypto_status_modal_visible: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_transactions_crypto_visible: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      selected_crypto_transaction_id: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      selected_crypto_status: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      selected_crypto_status_description: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      cancelCryptoTransaction: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setSelectedCryptoTransactionId: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsTransactionsCryptoCancelModalVisible: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      showTransactionsCryptoCancelModal: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      hideTransactionsCryptoCancelModal: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setSelectedCryptoStatus: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setSelectedCryptoStatusDescription: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsTransactionsCryptoStatusModalVisible: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      showTransactionsCryptoStatusModal: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      hideTransactionsCryptoStatusModal: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsTransactionsCryptoVisible: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n  }\n  return _createClass(TransactionHistoryStore, [{\n    key: "cancelCryptoTransaction",\n    value: function () {\n      var _cancelCryptoTransaction = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(transaction_id) {\n        var _this$WS$cancelCrypto,\n          _this$WS,\n          _this = this;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return (_this$WS$cancelCrypto = (_this$WS = this.WS).cancelCryptoTransaction) === null || _this$WS$cancelCrypto === void 0 ? void 0 : _this$WS$cancelCrypto.call(_this$WS, transaction_id).then(function (response) {\n                if (!response.error) {\n                  _this.setSelectedCryptoTransactionId(\'\');\n                  _this.setIsTransactionsCryptoCancelModalVisible(false);\n                  return Promise.resolve(response);\n                }\n                return Promise.reject(response.error);\n              });\n            case 2:\n            case "end":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function cancelCryptoTransaction(_x) {\n        return _cancelCryptoTransaction.apply(this, arguments);\n      }\n      return cancelCryptoTransaction;\n    }()\n  }, {\n    key: "setSelectedCryptoTransactionId",\n    value: function setSelectedCryptoTransactionId(id) {\n      this.selected_crypto_transaction_id = id;\n    }\n  }, {\n    key: "setIsTransactionsCryptoCancelModalVisible",\n    value: function setIsTransactionsCryptoCancelModalVisible(is_visible) {\n      this.is_transactions_crypto_cancel_modal_visible = is_visible;\n    }\n  }, {\n    key: "showTransactionsCryptoCancelModal",\n    value: function showTransactionsCryptoCancelModal(id) {\n      this.setSelectedCryptoTransactionId(id);\n      this.setIsTransactionsCryptoCancelModalVisible(true);\n    }\n  }, {\n    key: "hideTransactionsCryptoCancelModal",\n    value: function hideTransactionsCryptoCancelModal() {\n      this.setSelectedCryptoTransactionId(\'\');\n      this.setIsTransactionsCryptoCancelModalVisible(false);\n    }\n  }, {\n    key: "setSelectedCryptoStatus",\n    value: function setSelectedCryptoStatus(status) {\n      this.selected_crypto_status = status;\n    }\n  }, {\n    key: "setSelectedCryptoStatusDescription",\n    value: function setSelectedCryptoStatusDescription(description) {\n      this.selected_crypto_status_description = description;\n    }\n  }, {\n    key: "setIsTransactionsCryptoStatusModalVisible",\n    value: function setIsTransactionsCryptoStatusModalVisible(is_visible) {\n      this.is_transactions_crypto_status_modal_visible = is_visible;\n    }\n  }, {\n    key: "showTransactionsCryptoStatusModal",\n    value: function showTransactionsCryptoStatusModal(description, name) {\n      this.setSelectedCryptoStatusDescription(description);\n      this.setSelectedCryptoStatus(name);\n      this.setIsTransactionsCryptoStatusModalVisible(true);\n    }\n  }, {\n    key: "hideTransactionsCryptoStatusModal",\n    value: function hideTransactionsCryptoStatusModal() {\n      this.setIsTransactionsCryptoStatusModalVisible(false);\n    }\n  }, {\n    key: "setIsTransactionsCryptoVisible",\n    value: function setIsTransactionsCryptoVisible(is_visible) {\n      this.is_transactions_crypto_visible = is_visible;\n    }\n  }]);\n}();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvdHJhbnNhY3Rpb24taGlzdG9yeS1zdG9yZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBQUE7QUFJQTtBQUdBO0FBQUE7QUFGQTtBQUNBO0FBc0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF4QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFUQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVlBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvY2FzaGllci8uL3N0b3Jlcy90cmFuc2FjdGlvbi1oaXN0b3J5LXN0b3JlLnRzPzk5ZjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWN0aW9uLCBvYnNlcnZhYmxlLCBtYWtlT2JzZXJ2YWJsZSB9IGZyb20gJ21vYngnO1xuaW1wb3J0IHR5cGUgeyBUV2ViU29ja2V0LCBUUm9vdFN0b3JlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUcmFuc2FjdGlvbkhpc3RvcnlTdG9yZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyBXUzogVFdlYlNvY2tldCxcbiAgICAgICAgcHVibGljIHJvb3Rfc3RvcmU6IFRSb290U3RvcmVcbiAgICApIHtcbiAgICAgICAgbWFrZU9ic2VydmFibGUodGhpcywge1xuICAgICAgICAgICAgaXNfdHJhbnNhY3Rpb25zX2NyeXB0b19jYW5jZWxfbW9kYWxfdmlzaWJsZTogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGlzX3RyYW5zYWN0aW9uc19jcnlwdG9fc3RhdHVzX21vZGFsX3Zpc2libGU6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc190cmFuc2FjdGlvbnNfY3J5cHRvX3Zpc2libGU6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBzZWxlY3RlZF9jcnlwdG9fdHJhbnNhY3Rpb25faWQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBzZWxlY3RlZF9jcnlwdG9fc3RhdHVzOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgc2VsZWN0ZWRfY3J5cHRvX3N0YXR1c19kZXNjcmlwdGlvbjogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGNhbmNlbENyeXB0b1RyYW5zYWN0aW9uOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRTZWxlY3RlZENyeXB0b1RyYW5zYWN0aW9uSWQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldElzVHJhbnNhY3Rpb25zQ3J5cHRvQ2FuY2VsTW9kYWxWaXNpYmxlOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzaG93VHJhbnNhY3Rpb25zQ3J5cHRvQ2FuY2VsTW9kYWw6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGhpZGVUcmFuc2FjdGlvbnNDcnlwdG9DYW5jZWxNb2RhbDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0U2VsZWN0ZWRDcnlwdG9TdGF0dXM6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldFNlbGVjdGVkQ3J5cHRvU3RhdHVzRGVzY3JpcHRpb246IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldElzVHJhbnNhY3Rpb25zQ3J5cHRvU3RhdHVzTW9kYWxWaXNpYmxlOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzaG93VHJhbnNhY3Rpb25zQ3J5cHRvU3RhdHVzTW9kYWw6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGhpZGVUcmFuc2FjdGlvbnNDcnlwdG9TdGF0dXNNb2RhbDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0SXNUcmFuc2FjdGlvbnNDcnlwdG9WaXNpYmxlOiBhY3Rpb24uYm91bmQsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpc190cmFuc2FjdGlvbnNfY3J5cHRvX2NhbmNlbF9tb2RhbF92aXNpYmxlID0gZmFsc2U7XG4gICAgaXNfdHJhbnNhY3Rpb25zX2NyeXB0b19zdGF0dXNfbW9kYWxfdmlzaWJsZSA9IGZhbHNlO1xuICAgIGlzX3RyYW5zYWN0aW9uc19jcnlwdG9fdmlzaWJsZSA9IGZhbHNlO1xuICAgIHNlbGVjdGVkX2NyeXB0b190cmFuc2FjdGlvbl9pZCA9ICcnO1xuICAgIHNlbGVjdGVkX2NyeXB0b19zdGF0dXMgPSAnJztcbiAgICBzZWxlY3RlZF9jcnlwdG9fc3RhdHVzX2Rlc2NyaXB0aW9uOiBKU1guRWxlbWVudCB8IHN0cmluZyA9ICcnO1xuXG4gICAgYXN5bmMgY2FuY2VsQ3J5cHRvVHJhbnNhY3Rpb24odHJhbnNhY3Rpb25faWQ6IHN0cmluZykge1xuICAgICAgICBhd2FpdCB0aGlzLldTLmNhbmNlbENyeXB0b1RyYW5zYWN0aW9uPy4odHJhbnNhY3Rpb25faWQpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRDcnlwdG9UcmFuc2FjdGlvbklkKCcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldElzVHJhbnNhY3Rpb25zQ3J5cHRvQ2FuY2VsTW9kYWxWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZXNwb25zZS5lcnJvcik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldFNlbGVjdGVkQ3J5cHRvVHJhbnNhY3Rpb25JZChpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRfY3J5cHRvX3RyYW5zYWN0aW9uX2lkID0gaWQ7XG4gICAgfVxuXG4gICAgc2V0SXNUcmFuc2FjdGlvbnNDcnlwdG9DYW5jZWxNb2RhbFZpc2libGUoaXNfdmlzaWJsZTogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB0aGlzLmlzX3RyYW5zYWN0aW9uc19jcnlwdG9fY2FuY2VsX21vZGFsX3Zpc2libGUgPSBpc192aXNpYmxlO1xuICAgIH1cblxuICAgIHNob3dUcmFuc2FjdGlvbnNDcnlwdG9DYW5jZWxNb2RhbChpZDogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRDcnlwdG9UcmFuc2FjdGlvbklkKGlkKTtcbiAgICAgICAgdGhpcy5zZXRJc1RyYW5zYWN0aW9uc0NyeXB0b0NhbmNlbE1vZGFsVmlzaWJsZSh0cnVlKTtcbiAgICB9XG5cbiAgICBoaWRlVHJhbnNhY3Rpb25zQ3J5cHRvQ2FuY2VsTW9kYWwoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2V0U2VsZWN0ZWRDcnlwdG9UcmFuc2FjdGlvbklkKCcnKTtcbiAgICAgICAgdGhpcy5zZXRJc1RyYW5zYWN0aW9uc0NyeXB0b0NhbmNlbE1vZGFsVmlzaWJsZShmYWxzZSk7XG4gICAgfVxuXG4gICAgc2V0U2VsZWN0ZWRDcnlwdG9TdGF0dXMoc3RhdHVzOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZWxlY3RlZF9jcnlwdG9fc3RhdHVzID0gc3RhdHVzO1xuICAgIH1cblxuICAgIHNldFNlbGVjdGVkQ3J5cHRvU3RhdHVzRGVzY3JpcHRpb24oZGVzY3JpcHRpb246IEpTWC5FbGVtZW50IHwgc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRfY3J5cHRvX3N0YXR1c19kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xuICAgIH1cblxuICAgIHNldElzVHJhbnNhY3Rpb25zQ3J5cHRvU3RhdHVzTW9kYWxWaXNpYmxlKGlzX3Zpc2libGU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5pc190cmFuc2FjdGlvbnNfY3J5cHRvX3N0YXR1c19tb2RhbF92aXNpYmxlID0gaXNfdmlzaWJsZTtcbiAgICB9XG5cbiAgICBzaG93VHJhbnNhY3Rpb25zQ3J5cHRvU3RhdHVzTW9kYWwoZGVzY3JpcHRpb246IEpTWC5FbGVtZW50IHwgc3RyaW5nLCBuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3RlZENyeXB0b1N0YXR1c0Rlc2NyaXB0aW9uKGRlc2NyaXB0aW9uKTtcbiAgICAgICAgdGhpcy5zZXRTZWxlY3RlZENyeXB0b1N0YXR1cyhuYW1lKTtcbiAgICAgICAgdGhpcy5zZXRJc1RyYW5zYWN0aW9uc0NyeXB0b1N0YXR1c01vZGFsVmlzaWJsZSh0cnVlKTtcbiAgICB9XG5cbiAgICBoaWRlVHJhbnNhY3Rpb25zQ3J5cHRvU3RhdHVzTW9kYWwoKSB7XG4gICAgICAgIHRoaXMuc2V0SXNUcmFuc2FjdGlvbnNDcnlwdG9TdGF0dXNNb2RhbFZpc2libGUoZmFsc2UpO1xuICAgIH1cblxuICAgIHNldElzVHJhbnNhY3Rpb25zQ3J5cHRvVmlzaWJsZShpc192aXNpYmxlOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaXNfdHJhbnNhY3Rpb25zX2NyeXB0b192aXNpYmxlID0gaXNfdmlzaWJsZTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./stores/transaction-history-store.ts\n')},"./stores/withdraw-store.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ WithdrawStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ "mobx");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ "@deriv/shared");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @deriv/translations */ "@deriv/translations");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var Constants_constants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! Constants/constants */ "./constants/constants.ts");\n/* harmony import */ var _error_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./error-store */ "./stores/error-store.ts");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\n\n\n\n\nvar WithdrawStore = /*#__PURE__*/function () {\n  function WithdrawStore(WS, root_store) {\n    _classCallCheck(this, WithdrawStore);\n    this.WS = WS;\n    this.root_store = root_store;\n    this.blockchain_address = \'\';\n    this.crypto_estimations_fee_unique_id = \'\';\n    this.crypto_estimations_fee = 0;\n    this.error = new _error_store__WEBPACK_IMPORTED_MODULE_4__["default"]();\n    this.is_10k_withdrawal_limit_reached = undefined;\n    this.is_withdraw_confirmed = false;\n    this.withdraw_amount = \'\';\n    this.max_withdraw_amount = 0;\n    this.crypto_config = {\n      currencies_config: {}\n    };\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(this, {\n      blockchain_address: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      crypto_estimations_fee_unique_id: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      crypto_estimations_fee: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      error: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_10k_withdrawal_limit_reached: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_withdraw_confirmed: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      withdraw_amount: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      max_withdraw_amount: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      crypto_config: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      setIsWithdrawConfirmed: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setWithdrawAmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      requestWithdraw: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      saveWithdraw: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      resetWithdrawForm: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setBlockchainAddress: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onMountWithdraw: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onMountCryptoWithdraw: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      is_withdrawal_locked: mobx__WEBPACK_IMPORTED_MODULE_0__.computed,\n      setMaxWithdrawAmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      check10kLimit: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      set10kLimitation: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setCryptoConfig: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setCryptoEstimationsFeeUniqueId: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setCryptoEstimationsFee: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setWithdrawPercentageSelectorResult: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      validateWithdrawFromAmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      validateWithdrawToAmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n    this.root_store = root_store;\n    this.WS = WS;\n  }\n  return _createClass(WithdrawStore, [{\n    key: "setIsWithdrawConfirmed",\n    value: function setIsWithdrawConfirmed(is_withdraw_confirmed) {\n      var _this$root_store$modu;\n      var converter_from_amount = (_this$root_store$modu = this.root_store.modules.cashier) === null || _this$root_store$modu === void 0 ? void 0 : _this$root_store$modu.crypto_fiat_converter.converter_from_amount;\n      this.is_withdraw_confirmed = is_withdraw_confirmed;\n      if (is_withdraw_confirmed) this.setWithdrawAmount(converter_from_amount);\n      if (!is_withdraw_confirmed) {\n        var _modules$cashier;\n        var _this$root_store = this.root_store,\n          client = _this$root_store.client,\n          modules = _this$root_store.modules;\n        // TODO: remove this unused container\n        var active_container = (_modules$cashier = modules.cashier) === null || _modules$cashier === void 0 ? void 0 : _modules$cashier.general_store.active_container;\n        var container = Constants_constants__WEBPACK_IMPORTED_MODULE_3__["default"].map_action[active_container];\n        client.setVerificationCode(\'\', container);\n      }\n    }\n  }, {\n    key: "setWithdrawAmount",\n    value: function setWithdrawAmount(amount) {\n      this.withdraw_amount = amount;\n    }\n  }, {\n    key: "setCryptoEstimationsFeeUniqueId",\n    value: function setCryptoEstimationsFeeUniqueId(crypto_estimations_fee_unique_id) {\n      this.crypto_estimations_fee_unique_id = crypto_estimations_fee_unique_id;\n    }\n  }, {\n    key: "setCryptoEstimationsFee",\n    value: function setCryptoEstimationsFee(crypto_estimations_fee) {\n      this.crypto_estimations_fee = crypto_estimations_fee;\n    }\n  }, {\n    key: "requestWithdraw",\n    value: function () {\n      var _requestWithdraw = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(verification_code) {\n        var _this = this;\n        var _this$root_store2, client, modules, crypto_fiat_converter;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _this$root_store2 = this.root_store, client = _this$root_store2.client, modules = _this$root_store2.modules;\n              crypto_fiat_converter = modules.cashier.crypto_fiat_converter;\n              if (client.is_logged_in) {\n                _context.next = 4;\n                break;\n              }\n              return _context.abrupt("return");\n            case 4:\n              if (crypto_fiat_converter.converter_from_amount) {\n                _context.next = 7;\n                break;\n              }\n              crypto_fiat_converter.setConverterFromError((0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)(\'This field is required.\'));\n              return _context.abrupt("return");\n            case 7:\n              _context.next = 9;\n              return this.WS.cryptoWithdraw({\n                address: this.blockchain_address,\n                amount: +crypto_fiat_converter.converter_from_amount,\n                verification_code: verification_code,\n                estimated_fee_unique_id: this.crypto_estimations_fee_unique_id || undefined,\n                dry_run: 1\n              }).then(function (response) {\n                if (response.error) {\n                  _this.error.setErrorMessage({\n                    code: response.error.code,\n                    message: response.error.message\n                  });\n                  _this.setCryptoConfig().then(function () {\n                    return _this.validateWithdrawFromAmount();\n                  });\n                } else {\n                  _this.saveWithdraw(verification_code);\n                }\n              });\n            case 9:\n            case "end":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function requestWithdraw(_x) {\n        return _requestWithdraw.apply(this, arguments);\n      }\n      return requestWithdraw;\n    }()\n  }, {\n    key: "saveWithdraw",\n    value: function () {\n      var _saveWithdraw = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(verification_code) {\n        var _this$root_store$modu2,\n          _this2 = this;\n        var converter_from_amount;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              converter_from_amount = (_this$root_store$modu2 = this.root_store.modules.cashier) === null || _this$root_store$modu2 === void 0 ? void 0 : _this$root_store$modu2.crypto_fiat_converter.converter_from_amount;\n              this.error.setErrorMessage({\n                code: \'\',\n                message: \'\'\n              });\n              _context2.next = 4;\n              return this.WS.cryptoWithdraw({\n                address: this.blockchain_address,\n                amount: +converter_from_amount,\n                estimated_fee_unique_id: this.crypto_estimations_fee_unique_id || undefined,\n                verification_code: verification_code\n              }).then(function (response) {\n                if (response.error) {\n                  _this2.error.setErrorMessage(response.error);\n                  if (verification_code) {\n                    var _modules$cashier2;\n                    var _this2$root_store = _this2.root_store,\n                      client = _this2$root_store.client,\n                      modules = _this2$root_store.modules;\n                    // TODO: remove this unused container\n                    var active_container = (_modules$cashier2 = modules.cashier) === null || _modules$cashier2 === void 0 ? void 0 : _modules$cashier2.general_store.active_container;\n                    var container = Constants_constants__WEBPACK_IMPORTED_MODULE_3__["default"].map_action[active_container];\n                    client.setVerificationCode(\'\', container);\n                  }\n                  _this2.resetWithdrawForm();\n                } else {\n                  _this2.setIsWithdrawConfirmed(true);\n                }\n              });\n            case 4:\n            case "end":\n              return _context2.stop();\n          }\n        }, _callee2, this);\n      }));\n      function saveWithdraw(_x2) {\n        return _saveWithdraw.apply(this, arguments);\n      }\n      return saveWithdraw;\n    }()\n  }, {\n    key: "resetWithdrawForm",\n    value: function resetWithdrawForm() {\n      var _this$root_store$modu3, _this$root_store$modu4;\n      var setConverterFromAmount = (_this$root_store$modu3 = this.root_store.modules.cashier) === null || _this$root_store$modu3 === void 0 ? void 0 : _this$root_store$modu3.crypto_fiat_converter.setConverterFromAmount;\n      var setConverterToAmount = (_this$root_store$modu4 = this.root_store.modules.cashier) === null || _this$root_store$modu4 === void 0 ? void 0 : _this$root_store$modu4.crypto_fiat_converter.setConverterToAmount;\n      var _this$root_store3 = this.root_store,\n        client = _this$root_store3.client,\n        modules = _this$root_store3.modules;\n      // TODO: remove this unused container\n      var active_container = modules.cashier.general_store.active_container;\n      var container = Constants_constants__WEBPACK_IMPORTED_MODULE_3__["default"].map_action[active_container];\n      this.setBlockchainAddress(\'\');\n      this.setCryptoEstimationsFee(0);\n      setConverterFromAmount(\'\');\n      setConverterToAmount(\'\');\n      client.setVerificationCode(\'\', container);\n    }\n  }, {\n    key: "setBlockchainAddress",\n    value: function setBlockchainAddress(address) {\n      this.blockchain_address = address;\n    }\n  }, {\n    key: "willMountWithdraw",\n    value: function willMountWithdraw(verification_code) {\n      if (this && this.root_store && verification_code) {\n        var _modules$cashier3;\n        var _this$root_store4 = this.root_store,\n          client = _this$root_store4.client,\n          modules = _this$root_store4.modules;\n        // TODO: remove this unused container\n        var active_container = (_modules$cashier3 = modules.cashier) === null || _modules$cashier3 === void 0 ? void 0 : _modules$cashier3.general_store.active_container;\n        var container = Constants_constants__WEBPACK_IMPORTED_MODULE_3__["default"].map_action[active_container];\n        client.setVerificationCode(\'\', container);\n      }\n    }\n  }, {\n    key: "onMountWithdraw",\n    value: function () {\n      var _onMountWithdraw = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(verification_code) {\n        var _modules$cashier4, _modules$cashier5, _modules$cashier6, _modules$cashier7, _modules$cashier8;\n        var _this$root_store5, client, modules, active_container, is_crypto_provider, onMountCommon, setLoading, setOnRemount, _modules$cashier$ifra, checkIframeLoaded, clearTimeoutCashierUrl, clearIframe, is_session_timeout, setContainerHeight, setIframeUrl, setSessionTimeout, setTimeoutCashierUrl, is_virtual, current_container, response_cashier, container;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _this$root_store5 = this.root_store, client = _this$root_store5.client, modules = _this$root_store5.modules;\n              active_container = (_modules$cashier4 = modules.cashier) === null || _modules$cashier4 === void 0 ? void 0 : _modules$cashier4.general_store.active_container;\n              is_crypto_provider = (_modules$cashier5 = modules.cashier) === null || _modules$cashier5 === void 0 ? void 0 : _modules$cashier5.general_store.is_crypto_provider;\n              onMountCommon = (_modules$cashier6 = modules.cashier) === null || _modules$cashier6 === void 0 ? void 0 : _modules$cashier6.general_store.onMountCommon;\n              setLoading = (_modules$cashier7 = modules.cashier) === null || _modules$cashier7 === void 0 ? void 0 : _modules$cashier7.general_store.setLoading;\n              setOnRemount = (_modules$cashier8 = modules.cashier) === null || _modules$cashier8 === void 0 ? void 0 : _modules$cashier8.general_store.setOnRemount;\n              _modules$cashier$ifra = modules.cashier.iframe, checkIframeLoaded = _modules$cashier$ifra.checkIframeLoaded, clearTimeoutCashierUrl = _modules$cashier$ifra.clearTimeoutCashierUrl, clearIframe = _modules$cashier$ifra.clearIframe, is_session_timeout = _modules$cashier$ifra.is_session_timeout, setContainerHeight = _modules$cashier$ifra.setContainerHeight, setIframeUrl = _modules$cashier$ifra.setIframeUrl, setSessionTimeout = _modules$cashier$ifra.setSessionTimeout, setTimeoutCashierUrl = _modules$cashier$ifra.setTimeoutCashierUrl;\n              is_virtual = client.is_virtual;\n              current_container = active_container;\n              setOnRemount(this.onMountWithdraw);\n              _context3.next = 12;\n              return onMountCommon();\n            case 12:\n              this.error.setErrorMessage({\n                code: \'\',\n                message: \'\'\n              });\n              setContainerHeight(0);\n              clearIframe();\n              setLoading(true);\n              if (is_session_timeout) {\n                _context3.next = 19;\n                break;\n              }\n              checkIframeLoaded();\n              return _context3.abrupt("return");\n            case 19:\n              // if session has timed out reset everything\n              setIframeUrl(\'\');\n              if (!(!verification_code || is_virtual)) {\n                _context3.next = 23;\n                break;\n              }\n              setLoading(false);\n              // if virtual, clear everything and don\'t proceed further\n              // if no verification code, we should request again\n              return _context3.abrupt("return");\n            case 23:\n              _context3.next = 25;\n              return this.WS.authorized.cashier(\'withdraw\', {\n                verification_code: verification_code\n              });\n            case 25:\n              response_cashier = _context3.sent;\n              if (!(current_container !== active_container)) {\n                _context3.next = 29;\n                break;\n              }\n              setLoading(false);\n              return _context3.abrupt("return");\n            case 29:\n              if (!response_cashier.error) {\n                _context3.next = 37;\n                break;\n              }\n              this.error.handleCashierError(response_cashier.error);\n              setLoading(false);\n              setSessionTimeout(true);\n              clearTimeoutCashierUrl();\n              if (verification_code) {\n                // TODO: remove this unused container\n                container = Constants_constants__WEBPACK_IMPORTED_MODULE_3__["default"].map_action[active_container];\n                client.setVerificationCode(\'\', container);\n              }\n              _context3.next = 47;\n              break;\n            case 37:\n              if (!is_crypto_provider) {\n                _context3.next = 41;\n                break;\n              }\n              setLoading(false);\n              _context3.next = 47;\n              break;\n            case 41:\n              _context3.next = 43;\n              return checkIframeLoaded();\n            case 43:\n              setLoading(false);\n              setIframeUrl(response_cashier.cashier);\n              setSessionTimeout(false);\n              setTimeoutCashierUrl(true);\n            case 47:\n            case "end":\n              return _context3.stop();\n          }\n        }, _callee3, this);\n      }));\n      function onMountWithdraw(_x3) {\n        return _onMountWithdraw.apply(this, arguments);\n      }\n      return onMountWithdraw;\n    }()\n  }, {\n    key: "onMountCryptoWithdraw",\n    value: function () {\n      var _onMountCryptoWithdraw = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(verification_code) {\n        var _response_cashier$err;\n        var _this$root_store$modu5, crypto_fiat_converter, general_store, iframe, str_reg_exp, response_cashier, _modules$cashier9, _this$root_store6, client, modules, active_container, container;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _this$root_store$modu5 = this.root_store.modules.cashier, crypto_fiat_converter = _this$root_store$modu5.crypto_fiat_converter, general_store = _this$root_store$modu5.general_store, iframe = _this$root_store$modu5.iframe;\n              general_store.setLoading(true);\n              str_reg_exp = /^\\w{8,128}$/;\n              if (!str_reg_exp.test(verification_code)) {\n                _context4.next = 9;\n                break;\n              }\n              _context4.next = 6;\n              return this.WS.cryptoWithdraw({\n                address: this.blockchain_address,\n                amount: +crypto_fiat_converter.converter_from_amount,\n                verification_code: verification_code,\n                dry_run: 1\n              });\n            case 6:\n              response_cashier = _context4.sent;\n              _context4.next = 10;\n              break;\n            case 9:\n              response_cashier = {\n                error: {\n                  code: \'InvalidToken\',\n                  message: \'Your token has expired or is invalid.\'\n                }\n              };\n            case 10:\n              if (!(((_response_cashier$err = response_cashier.error) === null || _response_cashier$err === void 0 ? void 0 : _response_cashier$err.code) === \'InvalidToken\')) {\n                _context4.next = 18;\n                break;\n              }\n              this.error.handleCashierError(response_cashier.error);\n              general_store.setLoading(false);\n              iframe.setSessionTimeout(true);\n              iframe.clearTimeoutCashierUrl();\n              if (verification_code) {\n                _this$root_store6 = this.root_store, client = _this$root_store6.client, modules = _this$root_store6.modules; // TODO: remove this unused container\n                active_container = (_modules$cashier9 = modules.cashier) === null || _modules$cashier9 === void 0 ? void 0 : _modules$cashier9.general_store.active_container;\n                container = Constants_constants__WEBPACK_IMPORTED_MODULE_3__["default"].map_action[active_container];\n                client.setVerificationCode(\'\', container);\n              }\n              _context4.next = 21;\n              break;\n            case 18:\n              _context4.next = 20;\n              return this.setCryptoConfig();\n            case 20:\n              general_store.setLoading(false);\n            case 21:\n            case "end":\n              return _context4.stop();\n          }\n        }, _callee4, this);\n      }));\n      function onMountCryptoWithdraw(_x4) {\n        return _onMountCryptoWithdraw.apply(this, arguments);\n      }\n      return onMountCryptoWithdraw;\n    }()\n  }, {\n    key: "setCryptoConfig",\n    value: function () {\n      var _setCryptoConfig = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5() {\n        var _yield$this$WS$crypto;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return this.WS.cryptoConfig();\n            case 2:\n              _context5.t1 = _yield$this$WS$crypto = _context5.sent;\n              _context5.t0 = _context5.t1 === null;\n              if (_context5.t0) {\n                _context5.next = 6;\n                break;\n              }\n              _context5.t0 = _yield$this$WS$crypto === void 0;\n            case 6:\n              if (!_context5.t0) {\n                _context5.next = 10;\n                break;\n              }\n              _context5.t2 = void 0;\n              _context5.next = 11;\n              break;\n            case 10:\n              _context5.t2 = _yield$this$WS$crypto.crypto_config;\n            case 11:\n              this.crypto_config = _context5.t2;\n            case 12:\n            case "end":\n              return _context5.stop();\n          }\n        }, _callee5, this);\n      }));\n      function setCryptoConfig() {\n        return _setCryptoConfig.apply(this, arguments);\n      }\n      return setCryptoConfig;\n    }()\n  }, {\n    key: "is_withdrawal_locked",\n    get: function get() {\n      var _client$account_statu;\n      var client = this.root_store.client;\n      var _ref = (client === null || client === void 0 ? void 0 : client.account_status) || {},\n        authentication = _ref.authentication;\n      if (!((_client$account_statu = client.account_status) !== null && _client$account_statu !== void 0 && _client$account_statu.status)) return false;\n      var need_poi = authentication === null || authentication === void 0 ? void 0 : authentication.needs_verification.includes(\'identity\');\n      var need_authentication = this.error.is_ask_authentication && need_poi;\n      return client.is_withdrawal_lock || need_authentication || this.error.is_ask_financial_risk_approval;\n    }\n  }, {\n    key: "setMaxWithdrawAmount",\n    value: function setMaxWithdrawAmount(amount) {\n      this.max_withdraw_amount = amount;\n    }\n  }, {\n    key: "check10kLimit",\n    value: function () {\n      var _check10kLimit = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6() {\n        var _client$account_limit;\n        var client, remainder, fractional_digit, min_withdrawal, is_limit_reached;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              client = this.root_store.client;\n              _context6.next = 3;\n              return this.WS.wait(\'get_limits\');\n            case 3:\n              remainder = (_client$account_limit = client.account_limits) === null || _client$account_limit === void 0 ? void 0 : _client$account_limit.remainder;\n              this.setMaxWithdrawAmount(Number(remainder));\n              fractional_digit = Math.pow(10, -(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getDecimalPlaces)(client.currency));\n              min_withdrawal = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getMinWithdrawal)(client.currency);\n              is_limit_reached = !!(typeof remainder !== \'undefined\' && remainder < (client.currency === \'XRP\' ? fractional_digit : min_withdrawal));\n              this.set10kLimitation(is_limit_reached);\n            case 9:\n            case "end":\n              return _context6.stop();\n          }\n        }, _callee6, this);\n      }));\n      function check10kLimit() {\n        return _check10kLimit.apply(this, arguments);\n      }\n      return check10kLimit;\n    }()\n  }, {\n    key: "set10kLimitation",\n    value: function set10kLimitation(is_limit_reached) {\n      this.is_10k_withdrawal_limit_reached = is_limit_reached;\n    }\n  }, {\n    key: "setWithdrawPercentageSelectorResult",\n    value: function setWithdrawPercentageSelectorResult(amount, exchanged_amount) {\n      var _this$root_store7 = this.root_store,\n        client = _this$root_store7.client,\n        modules = _this$root_store7.modules;\n      var _modules$cashier10 = modules.cashier,\n        crypto_fiat_converter = _modules$cashier10.crypto_fiat_converter,\n        general_store = _modules$cashier10.general_store;\n      var currency = client.currency,\n        current_fiat_currency = client.current_fiat_currency;\n      if (Number(amount) > 0) {\n        crypto_fiat_converter.setConverterFromAmount(amount);\n        this.validateWithdrawFromAmount();\n        crypto_fiat_converter.onChangeConverterFromAmount({\n          target: {\n            value: amount\n          }\n        }, currency, current_fiat_currency || \'USD\', exchanged_amount);\n      } else {\n        crypto_fiat_converter.resetConverter();\n      }\n      crypto_fiat_converter.setIsTimerVisible(false);\n      general_store.percentageSelectorSelectionStatus(false);\n    }\n  }, {\n    key: "validateWithdrawFromAmount",\n    value: function validateWithdrawFromAmount() {\n      var _this$crypto_config;\n      var error_message = \'\';\n      var _this$root_store8 = this.root_store,\n        client = _this$root_store8.client,\n        modules = _this$root_store8.modules;\n      var balance = client.balance,\n        currency = client.currency;\n      var crypto_fiat_converter = modules.cashier.crypto_fiat_converter;\n      var converter_from_amount = crypto_fiat_converter.converter_from_amount,\n        setConverterFromError = crypto_fiat_converter.setConverterFromError;\n      var min_withdraw_amount = currency === \'XRP\' ? Math.pow(10, -(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getDecimalPlaces)(client.currency)) : Number((_this$crypto_config = this.crypto_config) === null || _this$crypto_config === void 0 || (_this$crypto_config = _this$crypto_config.currencies_config) === null || _this$crypto_config === void 0 || (_this$crypto_config = _this$crypto_config[currency]) === null || _this$crypto_config === void 0 ? void 0 : _this$crypto_config.minimum_withdrawal);\n      var max_withdraw_amount = Number(this.max_withdraw_amount) > Number(balance) ? Number(balance) : Number(this.max_withdraw_amount);\n      var format_balance = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.formatMoney)(currency, balance || \'\', true);\n      var format_min_withdraw_amount = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.formatMoney)(currency, min_withdraw_amount, true);\n      var format_max_withdraw_amount = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.formatMoney)(currency, max_withdraw_amount, true);\n      if (converter_from_amount) {\n        var _validNumber = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.validNumber)(converter_from_amount, {\n            type: \'float\',\n            decimals: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getDecimalPlaces)(currency)\n          }),\n          is_ok = _validNumber.is_ok,\n          message = _validNumber.message;\n        if (!is_ok) error_message = message || \'\';else if (Number(balance) < Number(converter_from_amount)) error_message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)(\'Insufficient funds\');else if (min_withdraw_amount && Number(balance) < Number(min_withdraw_amount)) {\n          error_message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)(\'Your balance ({{format_balance}} {{currency}}) is less than the current minimum withdrawal allowed ({{format_min_withdraw_amount}} {{currency}}). Please top up your account to continue with your withdrawal.\', {\n            format_balance: format_balance,\n            currency: currency,\n            format_min_withdraw_amount: format_min_withdraw_amount\n          });\n        } else if (min_withdraw_amount && Number(converter_from_amount) < Number(min_withdraw_amount) || Number(converter_from_amount) > Number(max_withdraw_amount)) {\n          error_message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)(\'The current allowed withdraw amount is {{format_min_withdraw_amount}} to {{format_max_withdraw_amount}} {{currency}}\', {\n            format_min_withdraw_amount: format_min_withdraw_amount,\n            format_max_withdraw_amount: format_max_withdraw_amount,\n            currency: currency\n          });\n        }\n      }\n      setConverterFromError(error_message);\n    }\n  }, {\n    key: "validateWithdrawToAmount",\n    value: function validateWithdrawToAmount() {\n      var _modules$cashier11, _modules$cashier12;\n      var error_message = \'\';\n      var _this$root_store9 = this.root_store,\n        client = _this$root_store9.client,\n        modules = _this$root_store9.modules;\n      var current_fiat_currency = client.current_fiat_currency;\n      var converter_to_amount = (_modules$cashier11 = modules.cashier) === null || _modules$cashier11 === void 0 ? void 0 : _modules$cashier11.crypto_fiat_converter.converter_to_amount;\n      var setConverterToError = (_modules$cashier12 = modules.cashier) === null || _modules$cashier12 === void 0 ? void 0 : _modules$cashier12.crypto_fiat_converter.setConverterToError;\n      if (converter_to_amount) {\n        var _validNumber2 = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.validNumber)(converter_to_amount, {\n            type: \'float\',\n            decimals: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getDecimalPlaces)(current_fiat_currency || \'\')\n          }),\n          is_ok = _validNumber2.is_ok,\n          message = _validNumber2.message;\n        if (!is_ok) error_message = message || \'\';\n      }\n      setConverterToError(error_message);\n    }\n  }]);\n}();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zdG9yZXMvd2l0aGRyYXctc3RvcmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFJQTtBQUdBO0FBQUE7QUFGQTtBQUNBO0FBb0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBNUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFjQTtBQUNBO0FBQ0E7QUFFQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUEzQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQTZCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUF6QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUEyQkE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQVdBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBckVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUF1RUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUxBO0FBQUE7QUFBQTtBQUFBO0FBT0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQW5DQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBcUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFmQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQWtCQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBSUE7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQUlBO0FBR0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBSUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUFBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2Nhc2hpZXIvLi9zdG9yZXMvd2l0aGRyYXctc3RvcmUudHM/NDcwNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBhY3Rpb24sIGNvbXB1dGVkLCBvYnNlcnZhYmxlLCBtYWtlT2JzZXJ2YWJsZSB9IGZyb20gJ21vYngnO1xuaW1wb3J0IHsgZm9ybWF0TW9uZXksIGdldERlY2ltYWxQbGFjZXMsIGdldE1pbldpdGhkcmF3YWwsIHZhbGlkTnVtYmVyIH0gZnJvbSAnQGRlcml2L3NoYXJlZCc7XG5pbXBvcnQgeyBDcnlwdG9Db25maWcgfSBmcm9tICdAZGVyaXYvYXBpLXR5cGVzJztcbmltcG9ydCB7IGxvY2FsaXplIH0gZnJvbSAnQGRlcml2L3RyYW5zbGF0aW9ucyc7XG5pbXBvcnQgQ29uc3RhbnRzIGZyb20gJ0NvbnN0YW50cy9jb25zdGFudHMnO1xuaW1wb3J0IEVycm9yU3RvcmUgZnJvbSAnLi9lcnJvci1zdG9yZSc7XG5pbXBvcnQgeyBUV2ViU29ja2V0LCBUUm9vdFN0b3JlIH0gZnJvbSAnLi4vdHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXaXRoZHJhd1N0b3JlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIFdTOiBUV2ViU29ja2V0LFxuICAgICAgICBwdWJsaWMgcm9vdF9zdG9yZTogVFJvb3RTdG9yZVxuICAgICkge1xuICAgICAgICBtYWtlT2JzZXJ2YWJsZSh0aGlzLCB7XG4gICAgICAgICAgICBibG9ja2NoYWluX2FkZHJlc3M6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBjcnlwdG9fZXN0aW1hdGlvbnNfZmVlX3VuaXF1ZV9pZDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGNyeXB0b19lc3RpbWF0aW9uc19mZWU6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBlcnJvcjogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGlzXzEwa193aXRoZHJhd2FsX2xpbWl0X3JlYWNoZWQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc193aXRoZHJhd19jb25maXJtZWQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICB3aXRoZHJhd19hbW91bnQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBtYXhfd2l0aGRyYXdfYW1vdW50OiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgY3J5cHRvX2NvbmZpZzogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIHNldElzV2l0aGRyYXdDb25maXJtZWQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldFdpdGhkcmF3QW1vdW50OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICByZXF1ZXN0V2l0aGRyYXc6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNhdmVXaXRoZHJhdzogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgcmVzZXRXaXRoZHJhd0Zvcm06IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldEJsb2NrY2hhaW5BZGRyZXNzOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBvbk1vdW50V2l0aGRyYXc6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uTW91bnRDcnlwdG9XaXRoZHJhdzogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgaXNfd2l0aGRyYXdhbF9sb2NrZWQ6IGNvbXB1dGVkLFxuICAgICAgICAgICAgc2V0TWF4V2l0aGRyYXdBbW91bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGNoZWNrMTBrTGltaXQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldDEwa0xpbWl0YXRpb246IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldENyeXB0b0NvbmZpZzogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0Q3J5cHRvRXN0aW1hdGlvbnNGZWVVbmlxdWVJZDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0Q3J5cHRvRXN0aW1hdGlvbnNGZWU6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldFdpdGhkcmF3UGVyY2VudGFnZVNlbGVjdG9yUmVzdWx0OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICB2YWxpZGF0ZVdpdGhkcmF3RnJvbUFtb3VudDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgdmFsaWRhdGVXaXRoZHJhd1RvQW1vdW50OiBhY3Rpb24uYm91bmQsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMucm9vdF9zdG9yZSA9IHJvb3Rfc3RvcmU7XG4gICAgICAgIHRoaXMuV1MgPSBXUztcbiAgICB9XG5cbiAgICBibG9ja2NoYWluX2FkZHJlc3MgPSAnJztcbiAgICBjcnlwdG9fZXN0aW1hdGlvbnNfZmVlX3VuaXF1ZV9pZCA9ICcnO1xuICAgIGNyeXB0b19lc3RpbWF0aW9uc19mZWUgPSAwO1xuICAgIGVycm9yID0gbmV3IEVycm9yU3RvcmUoKTtcbiAgICBpc18xMGtfd2l0aGRyYXdhbF9saW1pdF9yZWFjaGVkPzogYm9vbGVhbiA9IHVuZGVmaW5lZDtcbiAgICBpc193aXRoZHJhd19jb25maXJtZWQgPSBmYWxzZTtcbiAgICB3aXRoZHJhd19hbW91bnQgPSAnJztcbiAgICBtYXhfd2l0aGRyYXdfYW1vdW50ID0gMDtcbiAgICBjcnlwdG9fY29uZmlnOiBDcnlwdG9Db25maWcgPSB7XG4gICAgICAgIGN1cnJlbmNpZXNfY29uZmlnOiB7fSxcbiAgICB9O1xuXG4gICAgc2V0SXNXaXRoZHJhd0NvbmZpcm1lZChpc193aXRoZHJhd19jb25maXJtZWQ6IGJvb2xlYW4pIHtcbiAgICAgICAgY29uc3QgY29udmVydGVyX2Zyb21fYW1vdW50ID0gdGhpcy5yb290X3N0b3JlLm1vZHVsZXMuY2FzaGllcj8uY3J5cHRvX2ZpYXRfY29udmVydGVyLmNvbnZlcnRlcl9mcm9tX2Ftb3VudDtcbiAgICAgICAgdGhpcy5pc193aXRoZHJhd19jb25maXJtZWQgPSBpc193aXRoZHJhd19jb25maXJtZWQ7XG5cbiAgICAgICAgaWYgKGlzX3dpdGhkcmF3X2NvbmZpcm1lZCkgdGhpcy5zZXRXaXRoZHJhd0Ftb3VudChjb252ZXJ0ZXJfZnJvbV9hbW91bnQpO1xuXG4gICAgICAgIGlmICghaXNfd2l0aGRyYXdfY29uZmlybWVkKSB7XG4gICAgICAgICAgICBjb25zdCB7IGNsaWVudCwgbW9kdWxlcyB9ID0gdGhpcy5yb290X3N0b3JlO1xuICAgICAgICAgICAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgdW51c2VkIGNvbnRhaW5lclxuICAgICAgICAgICAgY29uc3QgYWN0aXZlX2NvbnRhaW5lciA9IG1vZHVsZXMuY2FzaGllcj8uZ2VuZXJhbF9zdG9yZS5hY3RpdmVfY29udGFpbmVyO1xuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gQ29uc3RhbnRzLm1hcF9hY3Rpb25bYWN0aXZlX2NvbnRhaW5lciBhcyBrZXlvZiB0eXBlb2YgQ29uc3RhbnRzLm1hcF9hY3Rpb25dO1xuXG4gICAgICAgICAgICBjbGllbnQuc2V0VmVyaWZpY2F0aW9uQ29kZSgnJywgY29udGFpbmVyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldFdpdGhkcmF3QW1vdW50KGFtb3VudDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMud2l0aGRyYXdfYW1vdW50ID0gYW1vdW50O1xuICAgIH1cblxuICAgIHNldENyeXB0b0VzdGltYXRpb25zRmVlVW5pcXVlSWQoY3J5cHRvX2VzdGltYXRpb25zX2ZlZV91bmlxdWVfaWQ6IHN0cmluZykge1xuICAgICAgICB0aGlzLmNyeXB0b19lc3RpbWF0aW9uc19mZWVfdW5pcXVlX2lkID0gY3J5cHRvX2VzdGltYXRpb25zX2ZlZV91bmlxdWVfaWQ7XG4gICAgfVxuXG4gICAgc2V0Q3J5cHRvRXN0aW1hdGlvbnNGZWUoY3J5cHRvX2VzdGltYXRpb25zX2ZlZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY3J5cHRvX2VzdGltYXRpb25zX2ZlZSA9IGNyeXB0b19lc3RpbWF0aW9uc19mZWU7XG4gICAgfVxuXG4gICAgYXN5bmMgcmVxdWVzdFdpdGhkcmF3KHZlcmlmaWNhdGlvbl9jb2RlOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgeyBjbGllbnQsIG1vZHVsZXMgfSA9IHRoaXMucm9vdF9zdG9yZTtcbiAgICAgICAgY29uc3QgeyBjcnlwdG9fZmlhdF9jb252ZXJ0ZXIgfSA9IG1vZHVsZXMuY2FzaGllcjtcblxuICAgICAgICBpZiAoIWNsaWVudC5pc19sb2dnZWRfaW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghY3J5cHRvX2ZpYXRfY29udmVydGVyLmNvbnZlcnRlcl9mcm9tX2Ftb3VudCkge1xuICAgICAgICAgICAgY3J5cHRvX2ZpYXRfY29udmVydGVyLnNldENvbnZlcnRlckZyb21FcnJvcihsb2NhbGl6ZSgnVGhpcyBmaWVsZCBpcyByZXF1aXJlZC4nKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBhd2FpdCB0aGlzLldTLmNyeXB0b1dpdGhkcmF3KHtcbiAgICAgICAgICAgIGFkZHJlc3M6IHRoaXMuYmxvY2tjaGFpbl9hZGRyZXNzLFxuICAgICAgICAgICAgYW1vdW50OiArY3J5cHRvX2ZpYXRfY29udmVydGVyLmNvbnZlcnRlcl9mcm9tX2Ftb3VudCxcbiAgICAgICAgICAgIHZlcmlmaWNhdGlvbl9jb2RlLFxuICAgICAgICAgICAgZXN0aW1hdGVkX2ZlZV91bmlxdWVfaWQ6IHRoaXMuY3J5cHRvX2VzdGltYXRpb25zX2ZlZV91bmlxdWVfaWQgfHwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgZHJ5X3J1bjogMSxcbiAgICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9yLnNldEVycm9yTWVzc2FnZSh7IGNvZGU6IHJlc3BvbnNlLmVycm9yLmNvZGUsIG1lc3NhZ2U6IHJlc3BvbnNlLmVycm9yLm1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDcnlwdG9Db25maWcoKS50aGVuKCgpID0+IHRoaXMudmFsaWRhdGVXaXRoZHJhd0Zyb21BbW91bnQoKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2F2ZVdpdGhkcmF3KHZlcmlmaWNhdGlvbl9jb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgc2F2ZVdpdGhkcmF3KHZlcmlmaWNhdGlvbl9jb2RlOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgY29udmVydGVyX2Zyb21fYW1vdW50ID0gdGhpcy5yb290X3N0b3JlLm1vZHVsZXMuY2FzaGllcj8uY3J5cHRvX2ZpYXRfY29udmVydGVyLmNvbnZlcnRlcl9mcm9tX2Ftb3VudDtcblxuICAgICAgICB0aGlzLmVycm9yLnNldEVycm9yTWVzc2FnZSh7IGNvZGU6ICcnLCBtZXNzYWdlOiAnJyB9KTtcbiAgICAgICAgYXdhaXQgdGhpcy5XUy5jcnlwdG9XaXRoZHJhdyh7XG4gICAgICAgICAgICBhZGRyZXNzOiB0aGlzLmJsb2NrY2hhaW5fYWRkcmVzcyxcbiAgICAgICAgICAgIGFtb3VudDogK2NvbnZlcnRlcl9mcm9tX2Ftb3VudCxcbiAgICAgICAgICAgIGVzdGltYXRlZF9mZWVfdW5pcXVlX2lkOiB0aGlzLmNyeXB0b19lc3RpbWF0aW9uc19mZWVfdW5pcXVlX2lkIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHZlcmlmaWNhdGlvbl9jb2RlLFxuICAgICAgICB9KS50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3Iuc2V0RXJyb3JNZXNzYWdlKHJlc3BvbnNlLmVycm9yKTtcbiAgICAgICAgICAgICAgICBpZiAodmVyaWZpY2F0aW9uX2NvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBjbGllbnQsIG1vZHVsZXMgfSA9IHRoaXMucm9vdF9zdG9yZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgdW51c2VkIGNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVfY29udGFpbmVyID0gbW9kdWxlcy5jYXNoaWVyPy5nZW5lcmFsX3N0b3JlLmFjdGl2ZV9jb250YWluZXI7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IENvbnN0YW50cy5tYXBfYWN0aW9uW2FjdGl2ZV9jb250YWluZXIgYXMga2V5b2YgdHlwZW9mIENvbnN0YW50cy5tYXBfYWN0aW9uXTtcblxuICAgICAgICAgICAgICAgICAgICBjbGllbnQuc2V0VmVyaWZpY2F0aW9uQ29kZSgnJywgY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldFdpdGhkcmF3Rm9ybSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldElzV2l0aGRyYXdDb25maXJtZWQodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlc2V0V2l0aGRyYXdGb3JtKCkge1xuICAgICAgICBjb25zdCBzZXRDb252ZXJ0ZXJGcm9tQW1vdW50ID0gdGhpcy5yb290X3N0b3JlLm1vZHVsZXMuY2FzaGllcj8uY3J5cHRvX2ZpYXRfY29udmVydGVyLnNldENvbnZlcnRlckZyb21BbW91bnQ7XG4gICAgICAgIGNvbnN0IHNldENvbnZlcnRlclRvQW1vdW50ID0gdGhpcy5yb290X3N0b3JlLm1vZHVsZXMuY2FzaGllcj8uY3J5cHRvX2ZpYXRfY29udmVydGVyLnNldENvbnZlcnRlclRvQW1vdW50O1xuICAgICAgICBjb25zdCB7IGNsaWVudCwgbW9kdWxlcyB9ID0gdGhpcy5yb290X3N0b3JlO1xuICAgICAgICAvLyBUT0RPOiByZW1vdmUgdGhpcyB1bnVzZWQgY29udGFpbmVyXG4gICAgICAgIGNvbnN0IHsgYWN0aXZlX2NvbnRhaW5lciB9ID0gbW9kdWxlcy5jYXNoaWVyLmdlbmVyYWxfc3RvcmU7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IENvbnN0YW50cy5tYXBfYWN0aW9uW2FjdGl2ZV9jb250YWluZXIgYXMga2V5b2YgdHlwZW9mIENvbnN0YW50cy5tYXBfYWN0aW9uXTtcblxuICAgICAgICB0aGlzLnNldEJsb2NrY2hhaW5BZGRyZXNzKCcnKTtcbiAgICAgICAgdGhpcy5zZXRDcnlwdG9Fc3RpbWF0aW9uc0ZlZSgwKTtcbiAgICAgICAgc2V0Q29udmVydGVyRnJvbUFtb3VudCgnJyk7XG4gICAgICAgIHNldENvbnZlcnRlclRvQW1vdW50KCcnKTtcbiAgICAgICAgY2xpZW50LnNldFZlcmlmaWNhdGlvbkNvZGUoJycsIGNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgc2V0QmxvY2tjaGFpbkFkZHJlc3MoYWRkcmVzczogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuYmxvY2tjaGFpbl9hZGRyZXNzID0gYWRkcmVzcztcbiAgICB9XG5cbiAgICB3aWxsTW91bnRXaXRoZHJhdyh2ZXJpZmljYXRpb25fY29kZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aGlzICYmIHRoaXMucm9vdF9zdG9yZSAmJiB2ZXJpZmljYXRpb25fY29kZSkge1xuICAgICAgICAgICAgY29uc3QgeyBjbGllbnQsIG1vZHVsZXMgfSA9IHRoaXMucm9vdF9zdG9yZTtcbiAgICAgICAgICAgIC8vIFRPRE86IHJlbW92ZSB0aGlzIHVudXNlZCBjb250YWluZXJcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZV9jb250YWluZXIgPSBtb2R1bGVzLmNhc2hpZXI/LmdlbmVyYWxfc3RvcmUuYWN0aXZlX2NvbnRhaW5lcjtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IENvbnN0YW50cy5tYXBfYWN0aW9uW2FjdGl2ZV9jb250YWluZXIgYXMga2V5b2YgdHlwZW9mIENvbnN0YW50cy5tYXBfYWN0aW9uXTtcblxuICAgICAgICAgICAgY2xpZW50LnNldFZlcmlmaWNhdGlvbkNvZGUoJycsIGNvbnRhaW5lcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBvbk1vdW50V2l0aGRyYXcodmVyaWZpY2F0aW9uX2NvZGU/OiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgeyBjbGllbnQsIG1vZHVsZXMgfSA9IHRoaXMucm9vdF9zdG9yZTtcbiAgICAgICAgY29uc3QgYWN0aXZlX2NvbnRhaW5lciA9IG1vZHVsZXMuY2FzaGllcj8uZ2VuZXJhbF9zdG9yZS5hY3RpdmVfY29udGFpbmVyO1xuICAgICAgICBjb25zdCBpc19jcnlwdG9fcHJvdmlkZXIgPSBtb2R1bGVzLmNhc2hpZXI/LmdlbmVyYWxfc3RvcmUuaXNfY3J5cHRvX3Byb3ZpZGVyO1xuICAgICAgICBjb25zdCBvbk1vdW50Q29tbW9uID0gbW9kdWxlcy5jYXNoaWVyPy5nZW5lcmFsX3N0b3JlLm9uTW91bnRDb21tb247XG4gICAgICAgIGNvbnN0IHNldExvYWRpbmcgPSBtb2R1bGVzLmNhc2hpZXI/LmdlbmVyYWxfc3RvcmUuc2V0TG9hZGluZztcbiAgICAgICAgY29uc3Qgc2V0T25SZW1vdW50ID0gbW9kdWxlcy5jYXNoaWVyPy5nZW5lcmFsX3N0b3JlLnNldE9uUmVtb3VudDtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgY2hlY2tJZnJhbWVMb2FkZWQsXG4gICAgICAgICAgICBjbGVhclRpbWVvdXRDYXNoaWVyVXJsLFxuICAgICAgICAgICAgY2xlYXJJZnJhbWUsXG4gICAgICAgICAgICBpc19zZXNzaW9uX3RpbWVvdXQsXG4gICAgICAgICAgICBzZXRDb250YWluZXJIZWlnaHQsXG4gICAgICAgICAgICBzZXRJZnJhbWVVcmwsXG4gICAgICAgICAgICBzZXRTZXNzaW9uVGltZW91dCxcbiAgICAgICAgICAgIHNldFRpbWVvdXRDYXNoaWVyVXJsLFxuICAgICAgICB9ID0gbW9kdWxlcy5jYXNoaWVyLmlmcmFtZTtcbiAgICAgICAgY29uc3QgeyBpc192aXJ0dWFsIH0gPSBjbGllbnQ7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRfY29udGFpbmVyID0gYWN0aXZlX2NvbnRhaW5lcjtcblxuICAgICAgICBzZXRPblJlbW91bnQodGhpcy5vbk1vdW50V2l0aGRyYXcpO1xuICAgICAgICBhd2FpdCBvbk1vdW50Q29tbW9uKCk7XG5cbiAgICAgICAgdGhpcy5lcnJvci5zZXRFcnJvck1lc3NhZ2UoeyBjb2RlOiAnJywgbWVzc2FnZTogJycgfSk7XG4gICAgICAgIHNldENvbnRhaW5lckhlaWdodCgwKTtcbiAgICAgICAgY2xlYXJJZnJhbWUoKTtcbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcblxuICAgICAgICBpZiAoIWlzX3Nlc3Npb25fdGltZW91dCkge1xuICAgICAgICAgICAgY2hlY2tJZnJhbWVMb2FkZWQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlmIHNlc3Npb24gaGFzIHRpbWVkIG91dCByZXNldCBldmVyeXRoaW5nXG4gICAgICAgIHNldElmcmFtZVVybCgnJyk7XG4gICAgICAgIGlmICghdmVyaWZpY2F0aW9uX2NvZGUgfHwgaXNfdmlydHVhbCkge1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAvLyBpZiB2aXJ0dWFsLCBjbGVhciBldmVyeXRoaW5nIGFuZCBkb24ndCBwcm9jZWVkIGZ1cnRoZXJcbiAgICAgICAgICAgIC8vIGlmIG5vIHZlcmlmaWNhdGlvbiBjb2RlLCB3ZSBzaG91bGQgcmVxdWVzdCBhZ2FpblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2VfY2FzaGllciA9IGF3YWl0IHRoaXMuV1MuYXV0aG9yaXplZC5jYXNoaWVyKCd3aXRoZHJhdycsIHsgdmVyaWZpY2F0aW9uX2NvZGUgfSk7XG5cbiAgICAgICAgLy8gaWYgdGFiIGNoYW5nZWQgd2hpbGUgd2FpdGluZyBmb3IgcmVzcG9uc2UsIGlnbm9yZSBpdFxuICAgICAgICBpZiAoY3VycmVudF9jb250YWluZXIgIT09IGFjdGl2ZV9jb250YWluZXIpIHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXNwb25zZV9jYXNoaWVyLmVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yLmhhbmRsZUNhc2hpZXJFcnJvcihyZXNwb25zZV9jYXNoaWVyLmVycm9yKTtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgc2V0U2Vzc2lvblRpbWVvdXQodHJ1ZSk7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXRDYXNoaWVyVXJsKCk7XG4gICAgICAgICAgICBpZiAodmVyaWZpY2F0aW9uX2NvZGUpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiByZW1vdmUgdGhpcyB1bnVzZWQgY29udGFpbmVyXG4gICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gQ29uc3RhbnRzLm1hcF9hY3Rpb25bYWN0aXZlX2NvbnRhaW5lciBhcyBrZXlvZiB0eXBlb2YgQ29uc3RhbnRzLm1hcF9hY3Rpb25dO1xuXG4gICAgICAgICAgICAgICAgY2xpZW50LnNldFZlcmlmaWNhdGlvbkNvZGUoJycsIGNvbnRhaW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoaXNfY3J5cHRvX3Byb3ZpZGVyKSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IGNoZWNrSWZyYW1lTG9hZGVkKCk7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIHNldElmcmFtZVVybChyZXNwb25zZV9jYXNoaWVyLmNhc2hpZXIgYXMgc3RyaW5nKTtcbiAgICAgICAgICAgIHNldFNlc3Npb25UaW1lb3V0KGZhbHNlKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXRDYXNoaWVyVXJsKHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgb25Nb3VudENyeXB0b1dpdGhkcmF3KHZlcmlmaWNhdGlvbl9jb2RlOiBzdHJpbmcpIHtcbiAgICAgICAgY29uc3QgeyBjcnlwdG9fZmlhdF9jb252ZXJ0ZXIsIGdlbmVyYWxfc3RvcmUsIGlmcmFtZSB9ID0gdGhpcy5yb290X3N0b3JlLm1vZHVsZXMuY2FzaGllcjtcblxuICAgICAgICBnZW5lcmFsX3N0b3JlLnNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIGNvbnN0IHN0cl9yZWdfZXhwID0gL15cXHd7OCwxMjh9JC87XG4gICAgICAgIGxldCByZXNwb25zZV9jYXNoaWVyO1xuXG4gICAgICAgIGlmIChzdHJfcmVnX2V4cC50ZXN0KHZlcmlmaWNhdGlvbl9jb2RlKSkge1xuICAgICAgICAgICAgcmVzcG9uc2VfY2FzaGllciA9IGF3YWl0IHRoaXMuV1MuY3J5cHRvV2l0aGRyYXcoe1xuICAgICAgICAgICAgICAgIGFkZHJlc3M6IHRoaXMuYmxvY2tjaGFpbl9hZGRyZXNzLFxuICAgICAgICAgICAgICAgIGFtb3VudDogK2NyeXB0b19maWF0X2NvbnZlcnRlci5jb252ZXJ0ZXJfZnJvbV9hbW91bnQsXG4gICAgICAgICAgICAgICAgdmVyaWZpY2F0aW9uX2NvZGUsXG4gICAgICAgICAgICAgICAgZHJ5X3J1bjogMSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzcG9uc2VfY2FzaGllciA9IHsgZXJyb3I6IHsgY29kZTogJ0ludmFsaWRUb2tlbicsIG1lc3NhZ2U6ICdZb3VyIHRva2VuIGhhcyBleHBpcmVkIG9yIGlzIGludmFsaWQuJyB9IH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVzcG9uc2VfY2FzaGllci5lcnJvcj8uY29kZSA9PT0gJ0ludmFsaWRUb2tlbicpIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3IuaGFuZGxlQ2FzaGllckVycm9yKHJlc3BvbnNlX2Nhc2hpZXIuZXJyb3IpO1xuICAgICAgICAgICAgZ2VuZXJhbF9zdG9yZS5zZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIGlmcmFtZS5zZXRTZXNzaW9uVGltZW91dCh0cnVlKTtcbiAgICAgICAgICAgIGlmcmFtZS5jbGVhclRpbWVvdXRDYXNoaWVyVXJsKCk7XG4gICAgICAgICAgICBpZiAodmVyaWZpY2F0aW9uX2NvZGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGNsaWVudCwgbW9kdWxlcyB9ID0gdGhpcy5yb290X3N0b3JlO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IHJlbW92ZSB0aGlzIHVudXNlZCBjb250YWluZXJcbiAgICAgICAgICAgICAgICBjb25zdCBhY3RpdmVfY29udGFpbmVyID0gbW9kdWxlcy5jYXNoaWVyPy5nZW5lcmFsX3N0b3JlLmFjdGl2ZV9jb250YWluZXI7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gQ29uc3RhbnRzLm1hcF9hY3Rpb25bYWN0aXZlX2NvbnRhaW5lciBhcyBrZXlvZiB0eXBlb2YgQ29uc3RhbnRzLm1hcF9hY3Rpb25dO1xuXG4gICAgICAgICAgICAgICAgY2xpZW50LnNldFZlcmlmaWNhdGlvbkNvZGUoJycsIGNvbnRhaW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnNldENyeXB0b0NvbmZpZygpO1xuICAgICAgICAgICAgZ2VuZXJhbF9zdG9yZS5zZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIHNldENyeXB0b0NvbmZpZygpIHtcbiAgICAgICAgdGhpcy5jcnlwdG9fY29uZmlnID0gKGF3YWl0IHRoaXMuV1MuY3J5cHRvQ29uZmlnKCkpPy5jcnlwdG9fY29uZmlnO1xuICAgIH1cblxuICAgIGdldCBpc193aXRoZHJhd2FsX2xvY2tlZCgpIHtcbiAgICAgICAgY29uc3QgeyBjbGllbnQgfSA9IHRoaXMucm9vdF9zdG9yZTtcbiAgICAgICAgY29uc3QgeyBhdXRoZW50aWNhdGlvbiB9ID0gY2xpZW50Py5hY2NvdW50X3N0YXR1cyB8fCB7fTtcblxuICAgICAgICBpZiAoIWNsaWVudC5hY2NvdW50X3N0YXR1cz8uc3RhdHVzKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IG5lZWRfcG9pID0gYXV0aGVudGljYXRpb24/Lm5lZWRzX3ZlcmlmaWNhdGlvbi5pbmNsdWRlcygnaWRlbnRpdHknKTtcbiAgICAgICAgY29uc3QgbmVlZF9hdXRoZW50aWNhdGlvbiA9IHRoaXMuZXJyb3IuaXNfYXNrX2F1dGhlbnRpY2F0aW9uICYmIG5lZWRfcG9pO1xuXG4gICAgICAgIHJldHVybiBjbGllbnQuaXNfd2l0aGRyYXdhbF9sb2NrIHx8IG5lZWRfYXV0aGVudGljYXRpb24gfHwgdGhpcy5lcnJvci5pc19hc2tfZmluYW5jaWFsX3Jpc2tfYXBwcm92YWw7XG4gICAgfVxuXG4gICAgc2V0TWF4V2l0aGRyYXdBbW91bnQoYW1vdW50OiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5tYXhfd2l0aGRyYXdfYW1vdW50ID0gYW1vdW50O1xuICAgIH1cblxuICAgIGFzeW5jIGNoZWNrMTBrTGltaXQoKSB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50IH0gPSB0aGlzLnJvb3Rfc3RvcmU7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5XUy53YWl0KCdnZXRfbGltaXRzJyk7XG5cbiAgICAgICAgY29uc3QgcmVtYWluZGVyID0gY2xpZW50LmFjY291bnRfbGltaXRzPy5yZW1haW5kZXI7XG4gICAgICAgIHRoaXMuc2V0TWF4V2l0aGRyYXdBbW91bnQoTnVtYmVyKHJlbWFpbmRlcikpO1xuXG4gICAgICAgIGNvbnN0IGZyYWN0aW9uYWxfZGlnaXQgPSAxMCAqKiAtZ2V0RGVjaW1hbFBsYWNlcyhjbGllbnQuY3VycmVuY3kpO1xuICAgICAgICBjb25zdCBtaW5fd2l0aGRyYXdhbCA9IGdldE1pbldpdGhkcmF3YWwoY2xpZW50LmN1cnJlbmN5KTtcbiAgICAgICAgY29uc3QgaXNfbGltaXRfcmVhY2hlZCA9ICEhKFxuICAgICAgICAgICAgdHlwZW9mIHJlbWFpbmRlciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgICAgIHJlbWFpbmRlciA8IChjbGllbnQuY3VycmVuY3kgPT09ICdYUlAnID8gZnJhY3Rpb25hbF9kaWdpdCA6IG1pbl93aXRoZHJhd2FsKVxuICAgICAgICApO1xuICAgICAgICB0aGlzLnNldDEwa0xpbWl0YXRpb24oaXNfbGltaXRfcmVhY2hlZCk7XG4gICAgfVxuXG4gICAgc2V0MTBrTGltaXRhdGlvbihpc19saW1pdF9yZWFjaGVkOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuaXNfMTBrX3dpdGhkcmF3YWxfbGltaXRfcmVhY2hlZCA9IGlzX2xpbWl0X3JlYWNoZWQ7XG4gICAgfVxuXG4gICAgc2V0V2l0aGRyYXdQZXJjZW50YWdlU2VsZWN0b3JSZXN1bHQoYW1vdW50OiBzdHJpbmcsIGV4Y2hhbmdlZF9hbW91bnQ6IG51bWJlcikge1xuICAgICAgICBjb25zdCB7IGNsaWVudCwgbW9kdWxlcyB9ID0gdGhpcy5yb290X3N0b3JlO1xuICAgICAgICBjb25zdCB7IGNyeXB0b19maWF0X2NvbnZlcnRlciwgZ2VuZXJhbF9zdG9yZSB9ID0gbW9kdWxlcy5jYXNoaWVyO1xuICAgICAgICBjb25zdCB7IGN1cnJlbmN5LCBjdXJyZW50X2ZpYXRfY3VycmVuY3kgfSA9IGNsaWVudDtcblxuICAgICAgICBpZiAoTnVtYmVyKGFtb3VudCkgPiAwKSB7XG4gICAgICAgICAgICBjcnlwdG9fZmlhdF9jb252ZXJ0ZXIuc2V0Q29udmVydGVyRnJvbUFtb3VudChhbW91bnQpO1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZVdpdGhkcmF3RnJvbUFtb3VudCgpO1xuICAgICAgICAgICAgY3J5cHRvX2ZpYXRfY29udmVydGVyLm9uQ2hhbmdlQ29udmVydGVyRnJvbUFtb3VudChcbiAgICAgICAgICAgICAgICB7IHRhcmdldDogeyB2YWx1ZTogYW1vdW50IH0gfSxcbiAgICAgICAgICAgICAgICBjdXJyZW5jeSxcbiAgICAgICAgICAgICAgICBjdXJyZW50X2ZpYXRfY3VycmVuY3kgfHwgJ1VTRCcsXG4gICAgICAgICAgICAgICAgZXhjaGFuZ2VkX2Ftb3VudFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNyeXB0b19maWF0X2NvbnZlcnRlci5yZXNldENvbnZlcnRlcigpO1xuICAgICAgICB9XG4gICAgICAgIGNyeXB0b19maWF0X2NvbnZlcnRlci5zZXRJc1RpbWVyVmlzaWJsZShmYWxzZSk7XG4gICAgICAgIGdlbmVyYWxfc3RvcmUucGVyY2VudGFnZVNlbGVjdG9yU2VsZWN0aW9uU3RhdHVzKGZhbHNlKTtcbiAgICB9XG5cbiAgICB2YWxpZGF0ZVdpdGhkcmF3RnJvbUFtb3VudCgpIHtcbiAgICAgICAgbGV0IGVycm9yX21lc3NhZ2U6IHN0cmluZyB8IEpTWC5FbGVtZW50ID0gJyc7XG5cbiAgICAgICAgY29uc3QgeyBjbGllbnQsIG1vZHVsZXMgfSA9IHRoaXMucm9vdF9zdG9yZTtcbiAgICAgICAgY29uc3QgeyBiYWxhbmNlLCBjdXJyZW5jeSB9ID0gY2xpZW50O1xuICAgICAgICBjb25zdCB7IGNyeXB0b19maWF0X2NvbnZlcnRlciB9ID0gbW9kdWxlcy5jYXNoaWVyO1xuICAgICAgICBjb25zdCB7IGNvbnZlcnRlcl9mcm9tX2Ftb3VudCwgc2V0Q29udmVydGVyRnJvbUVycm9yIH0gPSBjcnlwdG9fZmlhdF9jb252ZXJ0ZXI7XG5cbiAgICAgICAgY29uc3QgbWluX3dpdGhkcmF3X2Ftb3VudCA9XG4gICAgICAgICAgICBjdXJyZW5jeSA9PT0gJ1hSUCdcbiAgICAgICAgICAgICAgICA/IDEwICoqIC1nZXREZWNpbWFsUGxhY2VzKGNsaWVudC5jdXJyZW5jeSlcbiAgICAgICAgICAgICAgICA6IE51bWJlcih0aGlzLmNyeXB0b19jb25maWc/LmN1cnJlbmNpZXNfY29uZmlnPy5bY3VycmVuY3ldPy5taW5pbXVtX3dpdGhkcmF3YWwpO1xuICAgICAgICBjb25zdCBtYXhfd2l0aGRyYXdfYW1vdW50ID1cbiAgICAgICAgICAgIE51bWJlcih0aGlzLm1heF93aXRoZHJhd19hbW91bnQpID4gTnVtYmVyKGJhbGFuY2UpID8gTnVtYmVyKGJhbGFuY2UpIDogTnVtYmVyKHRoaXMubWF4X3dpdGhkcmF3X2Ftb3VudCk7XG5cbiAgICAgICAgY29uc3QgZm9ybWF0X2JhbGFuY2UgPSBmb3JtYXRNb25leShjdXJyZW5jeSwgYmFsYW5jZSB8fCAnJywgdHJ1ZSk7XG4gICAgICAgIGNvbnN0IGZvcm1hdF9taW5fd2l0aGRyYXdfYW1vdW50ID0gZm9ybWF0TW9uZXkoY3VycmVuY3ksIG1pbl93aXRoZHJhd19hbW91bnQsIHRydWUpO1xuICAgICAgICBjb25zdCBmb3JtYXRfbWF4X3dpdGhkcmF3X2Ftb3VudCA9IGZvcm1hdE1vbmV5KGN1cnJlbmN5LCBtYXhfd2l0aGRyYXdfYW1vdW50LCB0cnVlKTtcblxuICAgICAgICBpZiAoY29udmVydGVyX2Zyb21fYW1vdW50KSB7XG4gICAgICAgICAgICBjb25zdCB7IGlzX29rLCBtZXNzYWdlIH0gPSB2YWxpZE51bWJlcihjb252ZXJ0ZXJfZnJvbV9hbW91bnQsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmxvYXQnLFxuICAgICAgICAgICAgICAgIGRlY2ltYWxzOiBnZXREZWNpbWFsUGxhY2VzKGN1cnJlbmN5KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFpc19vaykgZXJyb3JfbWVzc2FnZSA9IG1lc3NhZ2UgfHwgJyc7XG4gICAgICAgICAgICBlbHNlIGlmIChOdW1iZXIoYmFsYW5jZSkgPCBOdW1iZXIoY29udmVydGVyX2Zyb21fYW1vdW50KSkgZXJyb3JfbWVzc2FnZSA9IGxvY2FsaXplKCdJbnN1ZmZpY2llbnQgZnVuZHMnKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKG1pbl93aXRoZHJhd19hbW91bnQgJiYgTnVtYmVyKGJhbGFuY2UpIDwgTnVtYmVyKG1pbl93aXRoZHJhd19hbW91bnQpKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JfbWVzc2FnZSA9IGxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAnWW91ciBiYWxhbmNlICh7e2Zvcm1hdF9iYWxhbmNlfX0ge3tjdXJyZW5jeX19KSBpcyBsZXNzIHRoYW4gdGhlIGN1cnJlbnQgbWluaW11bSB3aXRoZHJhd2FsIGFsbG93ZWQgKHt7Zm9ybWF0X21pbl93aXRoZHJhd19hbW91bnR9fSB7e2N1cnJlbmN5fX0pLiBQbGVhc2UgdG9wIHVwIHlvdXIgYWNjb3VudCB0byBjb250aW51ZSB3aXRoIHlvdXIgd2l0aGRyYXdhbC4nLFxuICAgICAgICAgICAgICAgICAgICB7IGZvcm1hdF9iYWxhbmNlLCBjdXJyZW5jeSwgZm9ybWF0X21pbl93aXRoZHJhd19hbW91bnQgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIChtaW5fd2l0aGRyYXdfYW1vdW50ICYmIE51bWJlcihjb252ZXJ0ZXJfZnJvbV9hbW91bnQpIDwgTnVtYmVyKG1pbl93aXRoZHJhd19hbW91bnQpKSB8fFxuICAgICAgICAgICAgICAgIE51bWJlcihjb252ZXJ0ZXJfZnJvbV9hbW91bnQpID4gTnVtYmVyKG1heF93aXRoZHJhd19hbW91bnQpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBlcnJvcl9tZXNzYWdlID0gbG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICdUaGUgY3VycmVudCBhbGxvd2VkIHdpdGhkcmF3IGFtb3VudCBpcyB7e2Zvcm1hdF9taW5fd2l0aGRyYXdfYW1vdW50fX0gdG8ge3tmb3JtYXRfbWF4X3dpdGhkcmF3X2Ftb3VudH19IHt7Y3VycmVuY3l9fScsXG4gICAgICAgICAgICAgICAgICAgIHsgZm9ybWF0X21pbl93aXRoZHJhd19hbW91bnQsIGZvcm1hdF9tYXhfd2l0aGRyYXdfYW1vdW50LCBjdXJyZW5jeSB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXRDb252ZXJ0ZXJGcm9tRXJyb3IoZXJyb3JfbWVzc2FnZSk7XG4gICAgfVxuXG4gICAgdmFsaWRhdGVXaXRoZHJhd1RvQW1vdW50KCkge1xuICAgICAgICBsZXQgZXJyb3JfbWVzc2FnZSA9ICcnO1xuICAgICAgICBjb25zdCB7IGNsaWVudCwgbW9kdWxlcyB9ID0gdGhpcy5yb290X3N0b3JlO1xuICAgICAgICBjb25zdCB7IGN1cnJlbnRfZmlhdF9jdXJyZW5jeSB9ID0gY2xpZW50O1xuICAgICAgICBjb25zdCBjb252ZXJ0ZXJfdG9fYW1vdW50ID0gbW9kdWxlcy5jYXNoaWVyPy5jcnlwdG9fZmlhdF9jb252ZXJ0ZXIuY29udmVydGVyX3RvX2Ftb3VudDtcbiAgICAgICAgY29uc3Qgc2V0Q29udmVydGVyVG9FcnJvciA9IG1vZHVsZXMuY2FzaGllcj8uY3J5cHRvX2ZpYXRfY29udmVydGVyLnNldENvbnZlcnRlclRvRXJyb3I7XG5cbiAgICAgICAgaWYgKGNvbnZlcnRlcl90b19hbW91bnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgaXNfb2ssIG1lc3NhZ2UgfSA9IHZhbGlkTnVtYmVyKGNvbnZlcnRlcl90b19hbW91bnQsIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnZmxvYXQnLFxuICAgICAgICAgICAgICAgIGRlY2ltYWxzOiBnZXREZWNpbWFsUGxhY2VzKGN1cnJlbnRfZmlhdF9jdXJyZW5jeSB8fCAnJyksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghaXNfb2spIGVycm9yX21lc3NhZ2UgPSBtZXNzYWdlIHx8ICcnO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0Q29udmVydGVyVG9FcnJvcihlcnJvcl9tZXNzYWdlKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./stores/withdraw-store.ts\n')},"./utils/utility.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAccountText: () => (/* binding */ getAccountText),\n/* harmony export */   getNormalizedPaymentMethod: () => (/* binding */ getNormalizedPaymentMethod)\n/* harmony export */ });\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/shared */ "@deriv/shared");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_0__);\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n\n// check if mlt or dxtrade for account text\nvar getAccountText = function getAccountText(account) {\n  var account_text;\n  if (account.is_dxtrade || account.is_mt) {\n    account_text = account.text;\n  } else {\n    account_text = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.getCurrencyDisplayCode)(account.text);\n  }\n  return account_text;\n};\nvar getNormalizedPaymentMethod = function getNormalizedPaymentMethod(payment_method, constants) {\n  var is_for_icon = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  var method = is_for_icon ? payment_method.replace(/[\' ,-]/g, \'\').toLowerCase() : payment_method;\n  var normalized_payment_method = Object.entries(constants).reduce(function (pay_method, _ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n      key = _ref2[0],\n      value = _ref2[1];\n    return value.some(function (el) {\n      return el === method;\n    }) ? key : pay_method;\n  }, \'\');\n  return is_for_icon ? normalized_payment_method : normalized_payment_method || payment_method;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi91dGlscy91dGlsaXR5LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvY2FzaGllci8uL3V0aWxzL3V0aWxpdHkudHM/YzQ5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRDdXJyZW5jeURpc3BsYXlDb2RlIH0gZnJvbSAnQGRlcml2L3NoYXJlZCc7XG5pbXBvcnQgQ29uc3RhbnRzIGZyb20gJ0NvbnN0YW50cy9jb25zdGFudHMnO1xuXG4vLyBjaGVjayBpZiBtbHQgb3IgZHh0cmFkZSBmb3IgYWNjb3VudCB0ZXh0XG5jb25zdCBnZXRBY2NvdW50VGV4dCA9IChhY2NvdW50OiB7IGlzX2R4dHJhZGU6IGJvb2xlYW47IGlzX210OiBib29sZWFuOyB0ZXh0OiBzdHJpbmcgfSkgPT4ge1xuICAgIGxldCBhY2NvdW50X3RleHQ6IHN0cmluZztcbiAgICBpZiAoYWNjb3VudC5pc19keHRyYWRlIHx8IGFjY291bnQuaXNfbXQpIHtcbiAgICAgICAgYWNjb3VudF90ZXh0ID0gYWNjb3VudC50ZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGFjY291bnRfdGV4dCA9IGdldEN1cnJlbmN5RGlzcGxheUNvZGUoYWNjb3VudC50ZXh0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWNjb3VudF90ZXh0O1xufTtcblxuY29uc3QgZ2V0Tm9ybWFsaXplZFBheW1lbnRNZXRob2QgPSAoXG4gICAgcGF5bWVudF9tZXRob2Q6IHN0cmluZyxcbiAgICBjb25zdGFudHM6IHR5cGVvZiBDb25zdGFudHMuaWNvbl9wYXltZW50X21ldGhvZHMgfCB0eXBlb2YgQ29uc3RhbnRzLnBheW1lbnRfbWV0aG9kcyxcbiAgICBpc19mb3JfaWNvbiA9IGZhbHNlXG4pID0+IHtcbiAgICBjb25zdCBtZXRob2QgPSBpc19mb3JfaWNvbiA/IHBheW1lbnRfbWV0aG9kLnJlcGxhY2UoL1snICwtXS9nLCAnJykudG9Mb3dlckNhc2UoKSA6IHBheW1lbnRfbWV0aG9kO1xuXG4gICAgY29uc3Qgbm9ybWFsaXplZF9wYXltZW50X21ldGhvZCA9IE9iamVjdC5lbnRyaWVzKGNvbnN0YW50cykucmVkdWNlKFxuICAgICAgICAocGF5X21ldGhvZCwgW2tleSwgdmFsdWVdKSA9PiAodmFsdWUuc29tZSgoZWw6IHN0cmluZykgPT4gZWwgPT09IG1ldGhvZCkgPyBrZXkgOiBwYXlfbWV0aG9kKSxcbiAgICAgICAgJydcbiAgICApO1xuICAgIHJldHVybiBpc19mb3JfaWNvbiA/IG5vcm1hbGl6ZWRfcGF5bWVudF9tZXRob2QgOiBub3JtYWxpemVkX3BheW1lbnRfbWV0aG9kIHx8IHBheW1lbnRfbWV0aG9kO1xufTtcblxuZXhwb3J0IHsgZ2V0QWNjb3VudFRleHQsIGdldE5vcm1hbGl6ZWRQYXltZW50TWV0aG9kIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./utils/utility.ts\n')},"@deriv/shared":e=>{e.exports=__WEBPACK_EXTERNAL_MODULE__deriv_shared__},"@deriv/translations":e=>{e.exports=__WEBPACK_EXTERNAL_MODULE__deriv_translations__},mobx:e=>{e.exports=__WEBPACK_EXTERNAL_MODULE_mobx__},react:e=>{e.exports=__WEBPACK_EXTERNAL_MODULE_react__}},__webpack_module_cache__={},leafPrototypes,getProto,inProgress,dataWebpackPrefix;function __nested_webpack_require_582558__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__nested_webpack_require_582558__),n.exports}__nested_webpack_require_582558__.m=__webpack_modules__,__nested_webpack_require_582558__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __nested_webpack_require_582558__.d(t,{a:t}),t},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__nested_webpack_require_582558__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var n=Object.create(null);__nested_webpack_require_582558__.r(n);var r={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var o=2&t&&e;"object"==typeof o&&!~leafPrototypes.indexOf(o);o=getProto(o))Object.getOwnPropertyNames(o).forEach((t=>r[t]=()=>e[t]));return r.default=()=>e,__nested_webpack_require_582558__.d(n,r),n},__nested_webpack_require_582558__.d=(e,t)=>{for(var n in t)__nested_webpack_require_582558__.o(t,n)&&!__nested_webpack_require_582558__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__nested_webpack_require_582558__.f={},__nested_webpack_require_582558__.e=e=>Promise.all(Object.keys(__nested_webpack_require_582558__.f).reduce(((t,n)=>(__nested_webpack_require_582558__.f[n](e,t),t)),[])),__nested_webpack_require_582558__.u=e=>"cashier/js/cashier."+e+".92557f2efe51c4236540.js",__nested_webpack_require_582558__.miniCssF=e=>{},__nested_webpack_require_582558__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),inProgress={},dataWebpackPrefix="@deriv/cashier:",__nested_webpack_require_582558__.l=(e,t,n,r)=>{if(inProgress[e])inProgress[e].push(t);else{var o,i;if(void 0!==n)for(var a=document.getElementsByTagName("script"),s=0;s<a.length;s++){var c=a[s];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==dataWebpackPrefix+n){o=c;break}}o||(i=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,__nested_webpack_require_582558__.nc&&o.setAttribute("nonce",__nested_webpack_require_582558__.nc),o.setAttribute("data-webpack",dataWebpackPrefix+n),o.src=e),inProgress[e]=[t];var l=(t,n)=>{o.onerror=o.onload=null,clearTimeout(g);var r=inProgress[e];if(delete inProgress[e],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((e=>e(n))),t)return t(n)},g=setTimeout(l.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=l.bind(null,o.onerror),o.onload=l.bind(null,o.onload),i&&document.head.appendChild(o)}},__nested_webpack_require_582558__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__nested_webpack_require_582558__.p="/",(()=>{var e={"cashier-store":0};__nested_webpack_require_582558__.f.j=(t,n)=>{var r=__nested_webpack_require_582558__.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var i=__nested_webpack_require_582558__.p+__nested_webpack_require_582558__.u(t),a=new Error;__nested_webpack_require_582558__.l(i,(n=>{if(__nested_webpack_require_582558__.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",a.name="ChunkLoadError",a.type=o,a.request=i,r[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var r,o,[i,a,s]=n,c=0;if(i.some((t=>0!==e[t]))){for(r in a)__nested_webpack_require_582558__.o(a,r)&&(__nested_webpack_require_582558__.m[r]=a[r]);s&&s(__nested_webpack_require_582558__)}for(t&&t(n);c<i.length;c++)o=i[c],__nested_webpack_require_582558__.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunk_deriv_cashier=self.webpackChunk_deriv_cashier||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var __nested_webpack_exports__=__nested_webpack_require_582558__("./stores/cashier-store.ts");return __nested_webpack_exports__=__nested_webpack_exports__.default,__nested_webpack_exports__})(),module.exports=factory(__webpack_require__(189137),__webpack_require__(33118),__webpack_require__(351447),__webpack_require__(286326))},905719:(module,__unused_webpack_exports,__webpack_require__)=>{var factory;self,factory=(__WEBPACK_EXTERNAL_MODULE__deriv_shared__,__WEBPACK_EXTERNAL_MODULE__deriv_translations__,__WEBPACK_EXTERNAL_MODULE_mobx__)=>(()=>{"use strict";var __webpack_modules__={"./src/Stores/Modules/CFD/Helpers/cfd-config.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDxCompanies: () => (/* binding */ getDxCompanies),\n/* harmony export */   getMtCompanies: () => (/* binding */ getMtCompanies)\n/* harmony export */ });\n/* unused harmony exports getCTraderCompanies, getFormattedJurisdictionCode */\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/shared */ \"@deriv/shared\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/translations */ \"@deriv/translations\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_translations__WEBPACK_IMPORTED_MODULE_1__);\n\n\nvar getDxCompanies = function getDxCompanies() {\n  var all_config = {\n    account_type: '',\n    leverage: 500,\n    short_title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('CFDs')\n  };\n  var synthetic_config = {\n    account_type: '',\n    leverage: 500,\n    short_title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Standard')\n  };\n  var financial_config = {\n    account_type: 'financial',\n    leverage: 1000,\n    short_title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Financial')\n  };\n  return {\n    demo: {\n      all: {\n        dxtrade_account_type: all_config.account_type,\n        leverage: all_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Demo'),\n        short_title: all_config.short_title\n      },\n      synthetic: {\n        dxtrade_account_type: synthetic_config.account_type,\n        leverage: synthetic_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Demo Standard'),\n        short_title: synthetic_config.short_title\n      },\n      financial: {\n        dxtrade_account_type: financial_config.account_type,\n        leverage: financial_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Demo Financial'),\n        short_title: financial_config.short_title\n      }\n    },\n    real: {\n      all: {\n        dxtrade_account_type: all_config.account_type,\n        leverage: all_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Real'),\n        short_title: all_config.short_title\n      },\n      dxtrade: {\n        mt5_account_type: all_config.account_type,\n        leverage: all_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Real'),\n        short_title: all_config.short_title\n      },\n      synthetic: {\n        dxtrade_account_type: synthetic_config.account_type,\n        leverage: synthetic_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Standard'),\n        short_title: synthetic_config.short_title\n      },\n      financial: {\n        dxtrade_account_type: financial_config.account_type,\n        leverage: financial_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Financial'),\n        short_title: financial_config.short_title\n      }\n    }\n  };\n};\nvar getCTraderCompanies = function getCTraderCompanies() {\n  var all_config = {\n    account_type: '',\n    leverage: 500,\n    short_title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('All')\n  };\n  return {\n    demo: {\n      all: {\n        ctrader_account_type: all_config.account_type,\n        leverage: all_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Demo'),\n        short_title: all_config.short_title\n      }\n    },\n    real: {\n      all: {\n        dxtrade_account_type: all_config.account_type,\n        leverage: all_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('All'),\n        short_title: all_config.short_title\n      }\n    }\n  };\n};\nvar getMtCompanies = function getMtCompanies(is_eu, product) {\n  var all_config = {\n    account_type: '',\n    leverage: 100,\n    short_title: product === 'swap_free' ? (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Swap-Free') : (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Zero Spread')\n  };\n  var synthetic_config = {\n    account_type: '',\n    leverage: 500,\n    short_title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Standard')\n  };\n  var financial_title;\n  switch (product) {\n    case _deriv_shared__WEBPACK_IMPORTED_MODULE_0__.PRODUCT.STP:\n      financial_title = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Financial STP');\n      break;\n    case _deriv_shared__WEBPACK_IMPORTED_MODULE_0__.PRODUCT.GOLD:\n      financial_title = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Gold');\n      break;\n    default:\n      financial_title = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Financial');\n  }\n  var financial_demo_title = product === _deriv_shared__WEBPACK_IMPORTED_MODULE_0__.PRODUCT.GOLD ? (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Demo Gold') : (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Demo Financial');\n  var financial_demo_title_eu = product === _deriv_shared__WEBPACK_IMPORTED_MODULE_0__.PRODUCT.GOLD ? (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Demo Gold') : (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Demo CFDs');\n  var financial_demo_short_title = product === _deriv_shared__WEBPACK_IMPORTED_MODULE_0__.PRODUCT.GOLD ? (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Gold') : (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Deriv CFDs');\n  var financial_title_eu = product === _deriv_shared__WEBPACK_IMPORTED_MODULE_0__.PRODUCT.GOLD ? (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Deriv Gold') : (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Deriv CFDs');\n  var financial_config = {\n    account_type: 'financial',\n    leverage: 1000,\n    short_title: is_eu ? financial_demo_short_title : financial_title\n  };\n  var financial_stp_config = {\n    account_type: 'financial_stp',\n    leverage: 100,\n    short_title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Financial STP')\n  };\n  return {\n    demo: {\n      all: {\n        mt5_account_type: all_config.account_type,\n        leverage: all_config.leverage,\n        title: product === 'swap_free' ? (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Demo Swap-Free') : (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Demo Zero Spread'),\n        short_title: all_config.short_title\n      },\n      all_swap_free_svg: {\n        mt5_account_type: all_config.account_type,\n        leverage: all_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Demo Swap-Free SVG'),\n        short_title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Swap-Free SVG')\n      },\n      all_zero_spread_bvi: {\n        mt5_account_type: all_config.account_type,\n        leverage: all_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Demo Zero Spread BVI'),\n        short_title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Zero Spread BVI')\n      },\n      ctrader: {\n        mt5_account_type: all_config.account_type,\n        leverage: '500',\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Demo'),\n        short_title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('cTrader')\n      },\n      synthetic: {\n        mt5_account_type: synthetic_config.account_type,\n        leverage: synthetic_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Demo Standard'),\n        short_title: synthetic_config.short_title\n      },\n      financial: {\n        mt5_account_type: financial_config.account_type,\n        leverage: financial_config.leverage,\n        title: is_eu ? financial_demo_title_eu : financial_demo_title,\n        short_title: financial_config.short_title\n      },\n      financial_demo: {\n        mt5_account_type: financial_config.account_type,\n        leverage: financial_config.leverage,\n        title: is_eu ? (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Demo CFDs') : (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Demo Financial'),\n        short_title: financial_config.short_title\n      },\n      synthetic_svg: {\n        mt5_account_type: synthetic_config.account_type,\n        leverage: synthetic_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Demo Standard SVG'),\n        short_title: synthetic_config.short_title\n      },\n      financial_svg: {\n        mt5_account_type: financial_config.account_type,\n        leverage: financial_config.leverage,\n        title: is_eu ? (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Demo CFDs') : (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Demo Financial SVG'),\n        short_title: is_eu ? (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('CFDs') : (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Financial SVG')\n      },\n      financial_stp: {\n        mt5_account_type: financial_stp_config.account_type,\n        leverage: financial_stp_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Demo Financial STP'),\n        short_title: financial_stp_config.short_title\n      }\n    },\n    real: {\n      all: {\n        mt5_account_type: all_config.account_type,\n        leverage: all_config.leverage,\n        title: product === 'swap_free' ? (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Swap-Free') : (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Zero Spread'),\n        short_title: all_config.short_title\n      },\n      all_swap_free_svg: {\n        mt5_account_type: all_config.account_type,\n        leverage: all_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Swap-Free SVG'),\n        short_title: all_config.short_title\n      },\n      all_zero_spread_bvi: {\n        mt5_account_type: all_config.account_type,\n        leverage: all_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Zero Spread BVI'),\n        short_title: all_config.short_title\n      },\n      ctrader: {\n        mt5_account_type: all_config.account_type,\n        leverage: '500',\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Real'),\n        short_title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('cTrader')\n      },\n      dxtrade: {\n        mt5_account_type: all_config.account_type,\n        leverage: all_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Real'),\n        short_title: all_config.short_title\n      },\n      synthetic: {\n        mt5_account_type: synthetic_config.account_type,\n        leverage: synthetic_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Standard'),\n        short_title: synthetic_config.short_title\n      },\n      synthetic_svg: {\n        mt5_account_type: synthetic_config.account_type,\n        leverage: synthetic_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Standard SVG'),\n        short_title: synthetic_config.short_title\n      },\n      synthetic_bvi: {\n        mt5_account_type: synthetic_config.account_type,\n        leverage: synthetic_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Standard BVI'),\n        short_title: synthetic_config.short_title\n      },\n      synthetic_v: {\n        mt5_account_type: synthetic_config.account_type,\n        leverage: synthetic_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Standard Vanuatu'),\n        short_title: synthetic_config.short_title\n      },\n      financial: {\n        mt5_account_type: financial_config.account_type,\n        leverage: financial_config.leverage,\n        title: is_eu ? financial_title_eu : financial_title,\n        short_title: financial_config.short_title\n      },\n      financial_svg: {\n        mt5_account_type: financial_config.account_type,\n        leverage: financial_config.leverage,\n        title: is_eu ? (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('CFDs') : (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Financial SVG'),\n        short_title: financial_config.short_title\n      },\n      financial_bvi: {\n        mt5_account_type: financial_config.account_type,\n        leverage: financial_config.leverage,\n        title: is_eu ? (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('CFDs') : (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Financial BVI'),\n        short_title: financial_config.short_title\n      },\n      financial_fx: {\n        mt5_account_type: financial_config.account_type,\n        leverage: financial_config.leverage,\n        title: is_eu ? (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('CFDs') : (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Financial Labuan'),\n        short_title: financial_config.short_title\n      },\n      financial_v: {\n        mt5_account_type: financial_config.account_type,\n        leverage: financial_config.leverage,\n        title: is_eu ? (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('CFDs') : (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Financial Vanuatu'),\n        short_title: financial_config.short_title\n      },\n      financial_stp: {\n        mt5_account_type: financial_stp_config.account_type,\n        leverage: financial_stp_config.leverage,\n        title: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Financial STP'),\n        short_title: financial_stp_config.short_title\n      }\n    }\n  };\n};\nvar getFormattedJurisdictionCode = function getFormattedJurisdictionCode(jurisdiction_code) {\n  var formatted_label = '';\n  switch (jurisdiction_code) {\n    case _deriv_shared__WEBPACK_IMPORTED_MODULE_0__.Jurisdiction.SVG:\n      formatted_label = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('SVG');\n      break;\n    case _deriv_shared__WEBPACK_IMPORTED_MODULE_0__.Jurisdiction.BVI:\n      formatted_label = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('BVI');\n      break;\n    case _deriv_shared__WEBPACK_IMPORTED_MODULE_0__.Jurisdiction.LABUAN:\n      formatted_label = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Labuan');\n      break;\n    case _deriv_shared__WEBPACK_IMPORTED_MODULE_0__.Jurisdiction.VANUATU:\n      formatted_label = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Vanuatu');\n      break;\n    case _deriv_shared__WEBPACK_IMPORTED_MODULE_0__.Jurisdiction.MALTA_INVEST:\n      formatted_label = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_1__.localize)('Malta');\n      break;\n    default:\n      formatted_label = jurisdiction_code === null || jurisdiction_code === void 0 ? void 0 : jurisdiction_code.toUpperCase();\n      break;\n  }\n  return formatted_label;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvU3RvcmVzL01vZHVsZXMvQ0ZEL0hlbHBlcnMvY2ZkLWNvbmZpZy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AZGVyaXYvY2ZkLy4vc3JjL1N0b3Jlcy9Nb2R1bGVzL0NGRC9IZWxwZXJzL2NmZC1jb25maWcudHM/M2QwYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBKdXJpc2RpY3Rpb24sIFBST0RVQ1QgfSBmcm9tICdAZGVyaXYvc2hhcmVkJztcbmltcG9ydCB7IGxvY2FsaXplIH0gZnJvbSAnQGRlcml2L3RyYW5zbGF0aW9ucyc7XG5pbXBvcnQgeyBUUHJvZHVjdHMgfSBmcm9tICdDb21wb25lbnRzL3Byb3BzLnR5cGVzJztcblxuZXhwb3J0IHR5cGUgVER4Q29tcGFuaWVzID0gUmV0dXJuVHlwZTx0eXBlb2YgZ2V0RHhDb21wYW5pZXM+O1xuZXhwb3J0IHR5cGUgVE10Q29tcGFuaWVzID0gUmV0dXJuVHlwZTx0eXBlb2YgZ2V0TXRDb21wYW5pZXM+O1xuZXhwb3J0IHR5cGUgVENUcmFkZXJDb21wYW5pZXMgPSBSZXR1cm5UeXBlPHR5cGVvZiBnZXRDVHJhZGVyQ29tcGFuaWVzPjtcblxuZXhwb3J0IGNvbnN0IGdldER4Q29tcGFuaWVzID0gKCkgPT4ge1xuICAgIGNvbnN0IGFsbF9jb25maWcgPSB7XG4gICAgICAgIGFjY291bnRfdHlwZTogJycsXG4gICAgICAgIGxldmVyYWdlOiA1MDAsXG4gICAgICAgIHNob3J0X3RpdGxlOiBsb2NhbGl6ZSgnQ0ZEcycpLFxuICAgIH07XG4gICAgY29uc3Qgc3ludGhldGljX2NvbmZpZyA9IHtcbiAgICAgICAgYWNjb3VudF90eXBlOiAnJyxcbiAgICAgICAgbGV2ZXJhZ2U6IDUwMCxcbiAgICAgICAgc2hvcnRfdGl0bGU6IGxvY2FsaXplKCdTdGFuZGFyZCcpLFxuICAgIH07XG4gICAgY29uc3QgZmluYW5jaWFsX2NvbmZpZyA9IHtcbiAgICAgICAgYWNjb3VudF90eXBlOiAnZmluYW5jaWFsJyxcbiAgICAgICAgbGV2ZXJhZ2U6IDEwMDAsXG4gICAgICAgIHNob3J0X3RpdGxlOiBsb2NhbGl6ZSgnRmluYW5jaWFsJyksXG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICBkZW1vOiB7XG4gICAgICAgICAgICBhbGw6IHtcbiAgICAgICAgICAgICAgICBkeHRyYWRlX2FjY291bnRfdHlwZTogYWxsX2NvbmZpZy5hY2NvdW50X3R5cGUsXG4gICAgICAgICAgICAgICAgbGV2ZXJhZ2U6IGFsbF9jb25maWcubGV2ZXJhZ2UsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGxvY2FsaXplKCdEZW1vJyksXG4gICAgICAgICAgICAgICAgc2hvcnRfdGl0bGU6IGFsbF9jb25maWcuc2hvcnRfdGl0bGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3ludGhldGljOiB7XG4gICAgICAgICAgICAgICAgZHh0cmFkZV9hY2NvdW50X3R5cGU6IHN5bnRoZXRpY19jb25maWcuYWNjb3VudF90eXBlLFxuICAgICAgICAgICAgICAgIGxldmVyYWdlOiBzeW50aGV0aWNfY29uZmlnLmxldmVyYWdlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBsb2NhbGl6ZSgnRGVtbyBTdGFuZGFyZCcpLFxuICAgICAgICAgICAgICAgIHNob3J0X3RpdGxlOiBzeW50aGV0aWNfY29uZmlnLnNob3J0X3RpdGxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbmFuY2lhbDoge1xuICAgICAgICAgICAgICAgIGR4dHJhZGVfYWNjb3VudF90eXBlOiBmaW5hbmNpYWxfY29uZmlnLmFjY291bnRfdHlwZSxcbiAgICAgICAgICAgICAgICBsZXZlcmFnZTogZmluYW5jaWFsX2NvbmZpZy5sZXZlcmFnZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogbG9jYWxpemUoJ0RlbW8gRmluYW5jaWFsJyksXG4gICAgICAgICAgICAgICAgc2hvcnRfdGl0bGU6IGZpbmFuY2lhbF9jb25maWcuc2hvcnRfdGl0bGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICByZWFsOiB7XG4gICAgICAgICAgICBhbGw6IHtcbiAgICAgICAgICAgICAgICBkeHRyYWRlX2FjY291bnRfdHlwZTogYWxsX2NvbmZpZy5hY2NvdW50X3R5cGUsXG4gICAgICAgICAgICAgICAgbGV2ZXJhZ2U6IGFsbF9jb25maWcubGV2ZXJhZ2UsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGxvY2FsaXplKCdSZWFsJyksXG4gICAgICAgICAgICAgICAgc2hvcnRfdGl0bGU6IGFsbF9jb25maWcuc2hvcnRfdGl0bGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZHh0cmFkZToge1xuICAgICAgICAgICAgICAgIG10NV9hY2NvdW50X3R5cGU6IGFsbF9jb25maWcuYWNjb3VudF90eXBlLFxuICAgICAgICAgICAgICAgIGxldmVyYWdlOiBhbGxfY29uZmlnLmxldmVyYWdlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBsb2NhbGl6ZSgnUmVhbCcpLFxuICAgICAgICAgICAgICAgIHNob3J0X3RpdGxlOiBhbGxfY29uZmlnLnNob3J0X3RpdGxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN5bnRoZXRpYzoge1xuICAgICAgICAgICAgICAgIGR4dHJhZGVfYWNjb3VudF90eXBlOiBzeW50aGV0aWNfY29uZmlnLmFjY291bnRfdHlwZSxcbiAgICAgICAgICAgICAgICBsZXZlcmFnZTogc3ludGhldGljX2NvbmZpZy5sZXZlcmFnZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogbG9jYWxpemUoJ1N0YW5kYXJkJyksXG4gICAgICAgICAgICAgICAgc2hvcnRfdGl0bGU6IHN5bnRoZXRpY19jb25maWcuc2hvcnRfdGl0bGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmluYW5jaWFsOiB7XG4gICAgICAgICAgICAgICAgZHh0cmFkZV9hY2NvdW50X3R5cGU6IGZpbmFuY2lhbF9jb25maWcuYWNjb3VudF90eXBlLFxuICAgICAgICAgICAgICAgIGxldmVyYWdlOiBmaW5hbmNpYWxfY29uZmlnLmxldmVyYWdlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBsb2NhbGl6ZSgnRmluYW5jaWFsJyksXG4gICAgICAgICAgICAgICAgc2hvcnRfdGl0bGU6IGZpbmFuY2lhbF9jb25maWcuc2hvcnRfdGl0bGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0Q1RyYWRlckNvbXBhbmllcyA9ICgpID0+IHtcbiAgICBjb25zdCBhbGxfY29uZmlnID0ge1xuICAgICAgICBhY2NvdW50X3R5cGU6ICcnLFxuICAgICAgICBsZXZlcmFnZTogNTAwLFxuICAgICAgICBzaG9ydF90aXRsZTogbG9jYWxpemUoJ0FsbCcpLFxuICAgIH07XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVtbzoge1xuICAgICAgICAgICAgYWxsOiB7XG4gICAgICAgICAgICAgICAgY3RyYWRlcl9hY2NvdW50X3R5cGU6IGFsbF9jb25maWcuYWNjb3VudF90eXBlLFxuICAgICAgICAgICAgICAgIGxldmVyYWdlOiBhbGxfY29uZmlnLmxldmVyYWdlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBsb2NhbGl6ZSgnRGVtbycpLFxuICAgICAgICAgICAgICAgIHNob3J0X3RpdGxlOiBhbGxfY29uZmlnLnNob3J0X3RpdGxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgcmVhbDoge1xuICAgICAgICAgICAgYWxsOiB7XG4gICAgICAgICAgICAgICAgZHh0cmFkZV9hY2NvdW50X3R5cGU6IGFsbF9jb25maWcuYWNjb3VudF90eXBlLFxuICAgICAgICAgICAgICAgIGxldmVyYWdlOiBhbGxfY29uZmlnLmxldmVyYWdlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBsb2NhbGl6ZSgnQWxsJyksXG4gICAgICAgICAgICAgICAgc2hvcnRfdGl0bGU6IGFsbF9jb25maWcuc2hvcnRfdGl0bGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgIH07XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0TXRDb21wYW5pZXMgPSAoaXNfZXU6IGJvb2xlYW4sIHByb2R1Y3Q/OiBUUHJvZHVjdHMpID0+IHtcbiAgICBjb25zdCBhbGxfY29uZmlnID0ge1xuICAgICAgICBhY2NvdW50X3R5cGU6ICcnLFxuICAgICAgICBsZXZlcmFnZTogMTAwLFxuICAgICAgICBzaG9ydF90aXRsZTogcHJvZHVjdCA9PT0gJ3N3YXBfZnJlZScgPyBsb2NhbGl6ZSgnU3dhcC1GcmVlJykgOiBsb2NhbGl6ZSgnWmVybyBTcHJlYWQnKSxcbiAgICB9O1xuICAgIGNvbnN0IHN5bnRoZXRpY19jb25maWcgPSB7XG4gICAgICAgIGFjY291bnRfdHlwZTogJycsXG4gICAgICAgIGxldmVyYWdlOiA1MDAsXG4gICAgICAgIHNob3J0X3RpdGxlOiBsb2NhbGl6ZSgnU3RhbmRhcmQnKSxcbiAgICB9O1xuXG4gICAgbGV0IGZpbmFuY2lhbF90aXRsZTtcbiAgICBzd2l0Y2ggKHByb2R1Y3QpIHtcbiAgICAgICAgY2FzZSBQUk9EVUNULlNUUDpcbiAgICAgICAgICAgIGZpbmFuY2lhbF90aXRsZSA9IGxvY2FsaXplKCdGaW5hbmNpYWwgU1RQJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQUk9EVUNULkdPTEQ6XG4gICAgICAgICAgICBmaW5hbmNpYWxfdGl0bGUgPSBsb2NhbGl6ZSgnR29sZCcpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBmaW5hbmNpYWxfdGl0bGUgPSBsb2NhbGl6ZSgnRmluYW5jaWFsJyk7XG4gICAgfVxuXG4gICAgY29uc3QgZmluYW5jaWFsX2RlbW9fdGl0bGUgPSBwcm9kdWN0ID09PSBQUk9EVUNULkdPTEQgPyBsb2NhbGl6ZSgnRGVtbyBHb2xkJykgOiBsb2NhbGl6ZSgnRGVtbyBGaW5hbmNpYWwnKTtcbiAgICBjb25zdCBmaW5hbmNpYWxfZGVtb190aXRsZV9ldSA9IHByb2R1Y3QgPT09IFBST0RVQ1QuR09MRCA/IGxvY2FsaXplKCdEZW1vIEdvbGQnKSA6IGxvY2FsaXplKCdEZW1vIENGRHMnKTtcbiAgICBjb25zdCBmaW5hbmNpYWxfZGVtb19zaG9ydF90aXRsZSA9IHByb2R1Y3QgPT09IFBST0RVQ1QuR09MRCA/IGxvY2FsaXplKCdHb2xkJykgOiBsb2NhbGl6ZSgnRGVyaXYgQ0ZEcycpO1xuICAgIGNvbnN0IGZpbmFuY2lhbF90aXRsZV9ldSA9IHByb2R1Y3QgPT09IFBST0RVQ1QuR09MRCA/IGxvY2FsaXplKCdEZXJpdiBHb2xkJykgOiBsb2NhbGl6ZSgnRGVyaXYgQ0ZEcycpO1xuXG4gICAgY29uc3QgZmluYW5jaWFsX2NvbmZpZyA9IHtcbiAgICAgICAgYWNjb3VudF90eXBlOiAnZmluYW5jaWFsJyxcbiAgICAgICAgbGV2ZXJhZ2U6IDEwMDAsXG4gICAgICAgIHNob3J0X3RpdGxlOiBpc19ldSA/IGZpbmFuY2lhbF9kZW1vX3Nob3J0X3RpdGxlIDogZmluYW5jaWFsX3RpdGxlLFxuICAgIH07XG4gICAgY29uc3QgZmluYW5jaWFsX3N0cF9jb25maWcgPSB7XG4gICAgICAgIGFjY291bnRfdHlwZTogJ2ZpbmFuY2lhbF9zdHAnLFxuICAgICAgICBsZXZlcmFnZTogMTAwLFxuICAgICAgICBzaG9ydF90aXRsZTogbG9jYWxpemUoJ0ZpbmFuY2lhbCBTVFAnKSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVtbzoge1xuICAgICAgICAgICAgYWxsOiB7XG4gICAgICAgICAgICAgICAgbXQ1X2FjY291bnRfdHlwZTogYWxsX2NvbmZpZy5hY2NvdW50X3R5cGUsXG4gICAgICAgICAgICAgICAgbGV2ZXJhZ2U6IGFsbF9jb25maWcubGV2ZXJhZ2UsXG4gICAgICAgICAgICAgICAgdGl0bGU6IHByb2R1Y3QgPT09ICdzd2FwX2ZyZWUnID8gbG9jYWxpemUoJ0RlbW8gU3dhcC1GcmVlJykgOiBsb2NhbGl6ZSgnRGVtbyBaZXJvIFNwcmVhZCcpLFxuICAgICAgICAgICAgICAgIHNob3J0X3RpdGxlOiBhbGxfY29uZmlnLnNob3J0X3RpdGxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFsbF9zd2FwX2ZyZWVfc3ZnOiB7XG4gICAgICAgICAgICAgICAgbXQ1X2FjY291bnRfdHlwZTogYWxsX2NvbmZpZy5hY2NvdW50X3R5cGUsXG4gICAgICAgICAgICAgICAgbGV2ZXJhZ2U6IGFsbF9jb25maWcubGV2ZXJhZ2UsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGxvY2FsaXplKCdEZW1vIFN3YXAtRnJlZSBTVkcnKSxcbiAgICAgICAgICAgICAgICBzaG9ydF90aXRsZTogbG9jYWxpemUoJ1N3YXAtRnJlZSBTVkcnKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbGxfemVyb19zcHJlYWRfYnZpOiB7XG4gICAgICAgICAgICAgICAgbXQ1X2FjY291bnRfdHlwZTogYWxsX2NvbmZpZy5hY2NvdW50X3R5cGUsXG4gICAgICAgICAgICAgICAgbGV2ZXJhZ2U6IGFsbF9jb25maWcubGV2ZXJhZ2UsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGxvY2FsaXplKCdEZW1vIFplcm8gU3ByZWFkIEJWSScpLFxuICAgICAgICAgICAgICAgIHNob3J0X3RpdGxlOiBsb2NhbGl6ZSgnWmVybyBTcHJlYWQgQlZJJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY3RyYWRlcjoge1xuICAgICAgICAgICAgICAgIG10NV9hY2NvdW50X3R5cGU6IGFsbF9jb25maWcuYWNjb3VudF90eXBlLFxuICAgICAgICAgICAgICAgIGxldmVyYWdlOiAnNTAwJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogbG9jYWxpemUoJ0RlbW8nKSxcbiAgICAgICAgICAgICAgICBzaG9ydF90aXRsZTogbG9jYWxpemUoJ2NUcmFkZXInKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzeW50aGV0aWM6IHtcbiAgICAgICAgICAgICAgICBtdDVfYWNjb3VudF90eXBlOiBzeW50aGV0aWNfY29uZmlnLmFjY291bnRfdHlwZSxcbiAgICAgICAgICAgICAgICBsZXZlcmFnZTogc3ludGhldGljX2NvbmZpZy5sZXZlcmFnZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogbG9jYWxpemUoJ0RlbW8gU3RhbmRhcmQnKSxcbiAgICAgICAgICAgICAgICBzaG9ydF90aXRsZTogc3ludGhldGljX2NvbmZpZy5zaG9ydF90aXRsZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaW5hbmNpYWw6IHtcbiAgICAgICAgICAgICAgICBtdDVfYWNjb3VudF90eXBlOiBmaW5hbmNpYWxfY29uZmlnLmFjY291bnRfdHlwZSxcbiAgICAgICAgICAgICAgICBsZXZlcmFnZTogZmluYW5jaWFsX2NvbmZpZy5sZXZlcmFnZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogaXNfZXUgPyBmaW5hbmNpYWxfZGVtb190aXRsZV9ldSA6IGZpbmFuY2lhbF9kZW1vX3RpdGxlLFxuICAgICAgICAgICAgICAgIHNob3J0X3RpdGxlOiBmaW5hbmNpYWxfY29uZmlnLnNob3J0X3RpdGxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbmFuY2lhbF9kZW1vOiB7XG4gICAgICAgICAgICAgICAgbXQ1X2FjY291bnRfdHlwZTogZmluYW5jaWFsX2NvbmZpZy5hY2NvdW50X3R5cGUsXG4gICAgICAgICAgICAgICAgbGV2ZXJhZ2U6IGZpbmFuY2lhbF9jb25maWcubGV2ZXJhZ2UsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGlzX2V1ID8gbG9jYWxpemUoJ0RlbW8gQ0ZEcycpIDogbG9jYWxpemUoJ0RlbW8gRmluYW5jaWFsJyksXG4gICAgICAgICAgICAgICAgc2hvcnRfdGl0bGU6IGZpbmFuY2lhbF9jb25maWcuc2hvcnRfdGl0bGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3ludGhldGljX3N2Zzoge1xuICAgICAgICAgICAgICAgIG10NV9hY2NvdW50X3R5cGU6IHN5bnRoZXRpY19jb25maWcuYWNjb3VudF90eXBlLFxuICAgICAgICAgICAgICAgIGxldmVyYWdlOiBzeW50aGV0aWNfY29uZmlnLmxldmVyYWdlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBsb2NhbGl6ZSgnRGVtbyBTdGFuZGFyZCBTVkcnKSxcbiAgICAgICAgICAgICAgICBzaG9ydF90aXRsZTogc3ludGhldGljX2NvbmZpZy5zaG9ydF90aXRsZSxcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGZpbmFuY2lhbF9zdmc6IHtcbiAgICAgICAgICAgICAgICBtdDVfYWNjb3VudF90eXBlOiBmaW5hbmNpYWxfY29uZmlnLmFjY291bnRfdHlwZSxcbiAgICAgICAgICAgICAgICBsZXZlcmFnZTogZmluYW5jaWFsX2NvbmZpZy5sZXZlcmFnZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogaXNfZXUgPyBsb2NhbGl6ZSgnRGVtbyBDRkRzJykgOiBsb2NhbGl6ZSgnRGVtbyBGaW5hbmNpYWwgU1ZHJyksXG4gICAgICAgICAgICAgICAgc2hvcnRfdGl0bGU6IGlzX2V1ID8gbG9jYWxpemUoJ0NGRHMnKSA6IGxvY2FsaXplKCdGaW5hbmNpYWwgU1ZHJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmluYW5jaWFsX3N0cDoge1xuICAgICAgICAgICAgICAgIG10NV9hY2NvdW50X3R5cGU6IGZpbmFuY2lhbF9zdHBfY29uZmlnLmFjY291bnRfdHlwZSxcbiAgICAgICAgICAgICAgICBsZXZlcmFnZTogZmluYW5jaWFsX3N0cF9jb25maWcubGV2ZXJhZ2UsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGxvY2FsaXplKCdEZW1vIEZpbmFuY2lhbCBTVFAnKSxcbiAgICAgICAgICAgICAgICBzaG9ydF90aXRsZTogZmluYW5jaWFsX3N0cF9jb25maWcuc2hvcnRfdGl0bGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgICByZWFsOiB7XG4gICAgICAgICAgICBhbGw6IHtcbiAgICAgICAgICAgICAgICBtdDVfYWNjb3VudF90eXBlOiBhbGxfY29uZmlnLmFjY291bnRfdHlwZSxcbiAgICAgICAgICAgICAgICBsZXZlcmFnZTogYWxsX2NvbmZpZy5sZXZlcmFnZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogcHJvZHVjdCA9PT0gJ3N3YXBfZnJlZScgPyBsb2NhbGl6ZSgnU3dhcC1GcmVlJykgOiBsb2NhbGl6ZSgnWmVybyBTcHJlYWQnKSxcbiAgICAgICAgICAgICAgICBzaG9ydF90aXRsZTogYWxsX2NvbmZpZy5zaG9ydF90aXRsZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhbGxfc3dhcF9mcmVlX3N2Zzoge1xuICAgICAgICAgICAgICAgIG10NV9hY2NvdW50X3R5cGU6IGFsbF9jb25maWcuYWNjb3VudF90eXBlLFxuICAgICAgICAgICAgICAgIGxldmVyYWdlOiBhbGxfY29uZmlnLmxldmVyYWdlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBsb2NhbGl6ZSgnU3dhcC1GcmVlIFNWRycpLFxuICAgICAgICAgICAgICAgIHNob3J0X3RpdGxlOiBhbGxfY29uZmlnLnNob3J0X3RpdGxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFsbF96ZXJvX3NwcmVhZF9idmk6IHtcbiAgICAgICAgICAgICAgICBtdDVfYWNjb3VudF90eXBlOiBhbGxfY29uZmlnLmFjY291bnRfdHlwZSxcbiAgICAgICAgICAgICAgICBsZXZlcmFnZTogYWxsX2NvbmZpZy5sZXZlcmFnZSxcbiAgICAgICAgICAgICAgICB0aXRsZTogbG9jYWxpemUoJ1plcm8gU3ByZWFkIEJWSScpLFxuICAgICAgICAgICAgICAgIHNob3J0X3RpdGxlOiBhbGxfY29uZmlnLnNob3J0X3RpdGxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGN0cmFkZXI6IHtcbiAgICAgICAgICAgICAgICBtdDVfYWNjb3VudF90eXBlOiBhbGxfY29uZmlnLmFjY291bnRfdHlwZSxcbiAgICAgICAgICAgICAgICBsZXZlcmFnZTogJzUwMCcsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGxvY2FsaXplKCdSZWFsJyksXG4gICAgICAgICAgICAgICAgc2hvcnRfdGl0bGU6IGxvY2FsaXplKCdjVHJhZGVyJyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZHh0cmFkZToge1xuICAgICAgICAgICAgICAgIG10NV9hY2NvdW50X3R5cGU6IGFsbF9jb25maWcuYWNjb3VudF90eXBlLFxuICAgICAgICAgICAgICAgIGxldmVyYWdlOiBhbGxfY29uZmlnLmxldmVyYWdlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBsb2NhbGl6ZSgnUmVhbCcpLFxuICAgICAgICAgICAgICAgIHNob3J0X3RpdGxlOiBhbGxfY29uZmlnLnNob3J0X3RpdGxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN5bnRoZXRpYzoge1xuICAgICAgICAgICAgICAgIG10NV9hY2NvdW50X3R5cGU6IHN5bnRoZXRpY19jb25maWcuYWNjb3VudF90eXBlLFxuICAgICAgICAgICAgICAgIGxldmVyYWdlOiBzeW50aGV0aWNfY29uZmlnLmxldmVyYWdlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBsb2NhbGl6ZSgnU3RhbmRhcmQnKSxcbiAgICAgICAgICAgICAgICBzaG9ydF90aXRsZTogc3ludGhldGljX2NvbmZpZy5zaG9ydF90aXRsZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzeW50aGV0aWNfc3ZnOiB7XG4gICAgICAgICAgICAgICAgbXQ1X2FjY291bnRfdHlwZTogc3ludGhldGljX2NvbmZpZy5hY2NvdW50X3R5cGUsXG4gICAgICAgICAgICAgICAgbGV2ZXJhZ2U6IHN5bnRoZXRpY19jb25maWcubGV2ZXJhZ2UsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGxvY2FsaXplKCdTdGFuZGFyZCBTVkcnKSxcbiAgICAgICAgICAgICAgICBzaG9ydF90aXRsZTogc3ludGhldGljX2NvbmZpZy5zaG9ydF90aXRsZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzeW50aGV0aWNfYnZpOiB7XG4gICAgICAgICAgICAgICAgbXQ1X2FjY291bnRfdHlwZTogc3ludGhldGljX2NvbmZpZy5hY2NvdW50X3R5cGUsXG4gICAgICAgICAgICAgICAgbGV2ZXJhZ2U6IHN5bnRoZXRpY19jb25maWcubGV2ZXJhZ2UsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGxvY2FsaXplKCdTdGFuZGFyZCBCVkknKSxcbiAgICAgICAgICAgICAgICBzaG9ydF90aXRsZTogc3ludGhldGljX2NvbmZpZy5zaG9ydF90aXRsZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzeW50aGV0aWNfdjoge1xuICAgICAgICAgICAgICAgIG10NV9hY2NvdW50X3R5cGU6IHN5bnRoZXRpY19jb25maWcuYWNjb3VudF90eXBlLFxuICAgICAgICAgICAgICAgIGxldmVyYWdlOiBzeW50aGV0aWNfY29uZmlnLmxldmVyYWdlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBsb2NhbGl6ZSgnU3RhbmRhcmQgVmFudWF0dScpLFxuICAgICAgICAgICAgICAgIHNob3J0X3RpdGxlOiBzeW50aGV0aWNfY29uZmlnLnNob3J0X3RpdGxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbmFuY2lhbDoge1xuICAgICAgICAgICAgICAgIG10NV9hY2NvdW50X3R5cGU6IGZpbmFuY2lhbF9jb25maWcuYWNjb3VudF90eXBlLFxuICAgICAgICAgICAgICAgIGxldmVyYWdlOiBmaW5hbmNpYWxfY29uZmlnLmxldmVyYWdlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBpc19ldSA/IGZpbmFuY2lhbF90aXRsZV9ldSA6IGZpbmFuY2lhbF90aXRsZSxcbiAgICAgICAgICAgICAgICBzaG9ydF90aXRsZTogZmluYW5jaWFsX2NvbmZpZy5zaG9ydF90aXRsZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaW5hbmNpYWxfc3ZnOiB7XG4gICAgICAgICAgICAgICAgbXQ1X2FjY291bnRfdHlwZTogZmluYW5jaWFsX2NvbmZpZy5hY2NvdW50X3R5cGUsXG4gICAgICAgICAgICAgICAgbGV2ZXJhZ2U6IGZpbmFuY2lhbF9jb25maWcubGV2ZXJhZ2UsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGlzX2V1ID8gbG9jYWxpemUoJ0NGRHMnKSA6IGxvY2FsaXplKCdGaW5hbmNpYWwgU1ZHJyksXG4gICAgICAgICAgICAgICAgc2hvcnRfdGl0bGU6IGZpbmFuY2lhbF9jb25maWcuc2hvcnRfdGl0bGUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmluYW5jaWFsX2J2aToge1xuICAgICAgICAgICAgICAgIG10NV9hY2NvdW50X3R5cGU6IGZpbmFuY2lhbF9jb25maWcuYWNjb3VudF90eXBlLFxuICAgICAgICAgICAgICAgIGxldmVyYWdlOiBmaW5hbmNpYWxfY29uZmlnLmxldmVyYWdlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBpc19ldSA/IGxvY2FsaXplKCdDRkRzJykgOiBsb2NhbGl6ZSgnRmluYW5jaWFsIEJWSScpLFxuICAgICAgICAgICAgICAgIHNob3J0X3RpdGxlOiBmaW5hbmNpYWxfY29uZmlnLnNob3J0X3RpdGxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbmFuY2lhbF9meDoge1xuICAgICAgICAgICAgICAgIG10NV9hY2NvdW50X3R5cGU6IGZpbmFuY2lhbF9jb25maWcuYWNjb3VudF90eXBlLFxuICAgICAgICAgICAgICAgIGxldmVyYWdlOiBmaW5hbmNpYWxfY29uZmlnLmxldmVyYWdlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBpc19ldSA/IGxvY2FsaXplKCdDRkRzJykgOiBsb2NhbGl6ZSgnRmluYW5jaWFsIExhYnVhbicpLFxuICAgICAgICAgICAgICAgIHNob3J0X3RpdGxlOiBmaW5hbmNpYWxfY29uZmlnLnNob3J0X3RpdGxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbmFuY2lhbF92OiB7XG4gICAgICAgICAgICAgICAgbXQ1X2FjY291bnRfdHlwZTogZmluYW5jaWFsX2NvbmZpZy5hY2NvdW50X3R5cGUsXG4gICAgICAgICAgICAgICAgbGV2ZXJhZ2U6IGZpbmFuY2lhbF9jb25maWcubGV2ZXJhZ2UsXG4gICAgICAgICAgICAgICAgdGl0bGU6IGlzX2V1ID8gbG9jYWxpemUoJ0NGRHMnKSA6IGxvY2FsaXplKCdGaW5hbmNpYWwgVmFudWF0dScpLFxuICAgICAgICAgICAgICAgIHNob3J0X3RpdGxlOiBmaW5hbmNpYWxfY29uZmlnLnNob3J0X3RpdGxlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZpbmFuY2lhbF9zdHA6IHtcbiAgICAgICAgICAgICAgICBtdDVfYWNjb3VudF90eXBlOiBmaW5hbmNpYWxfc3RwX2NvbmZpZy5hY2NvdW50X3R5cGUsXG4gICAgICAgICAgICAgICAgbGV2ZXJhZ2U6IGZpbmFuY2lhbF9zdHBfY29uZmlnLmxldmVyYWdlLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBsb2NhbGl6ZSgnRmluYW5jaWFsIFNUUCcpLFxuICAgICAgICAgICAgICAgIHNob3J0X3RpdGxlOiBmaW5hbmNpYWxfc3RwX2NvbmZpZy5zaG9ydF90aXRsZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0sXG4gICAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRGb3JtYXR0ZWRKdXJpc2RpY3Rpb25Db2RlID0gKGp1cmlzZGljdGlvbl9jb2RlOiBzdHJpbmcpID0+IHtcbiAgICBsZXQgZm9ybWF0dGVkX2xhYmVsID0gJyc7XG5cbiAgICBzd2l0Y2ggKGp1cmlzZGljdGlvbl9jb2RlKSB7XG4gICAgICAgIGNhc2UgSnVyaXNkaWN0aW9uLlNWRzpcbiAgICAgICAgICAgIGZvcm1hdHRlZF9sYWJlbCA9IGxvY2FsaXplKCdTVkcnKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIEp1cmlzZGljdGlvbi5CVkk6XG4gICAgICAgICAgICBmb3JtYXR0ZWRfbGFiZWwgPSBsb2NhbGl6ZSgnQlZJJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBKdXJpc2RpY3Rpb24uTEFCVUFOOlxuICAgICAgICAgICAgZm9ybWF0dGVkX2xhYmVsID0gbG9jYWxpemUoJ0xhYnVhbicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgSnVyaXNkaWN0aW9uLlZBTlVBVFU6XG4gICAgICAgICAgICBmb3JtYXR0ZWRfbGFiZWwgPSBsb2NhbGl6ZSgnVmFudWF0dScpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgSnVyaXNkaWN0aW9uLk1BTFRBX0lOVkVTVDpcbiAgICAgICAgICAgIGZvcm1hdHRlZF9sYWJlbCA9IGxvY2FsaXplKCdNYWx0YScpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBmb3JtYXR0ZWRfbGFiZWwgPSBqdXJpc2RpY3Rpb25fY29kZT8udG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHJldHVybiBmb3JtYXR0ZWRfbGFiZWw7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Stores/Modules/CFD/Helpers/cfd-config.ts\n")},"./src/Stores/Modules/CFD/cfd-store.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ CFDStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ "mobx");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ "@deriv/shared");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _base_store__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../base-store */ "./src/Stores/base-store.js");\n/* harmony import */ var _Helpers_cfd_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Helpers/cfd-config */ "./src/Stores/Modules/CFD/Helpers/cfd-config.ts");\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _iterableToArray(r) { if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if ("string" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return "Object" === t && r.constructor && (t = r.constructor.name), "Map" === t || "Set" === t ? Array.from(r) : "Arguments" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t["return"] && (u = t["return"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(t, e) { if (e && ("object" == _typeof(e) || "function" == typeof e)) return e; if (void 0 !== e) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(t); }\nfunction _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); return e; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(t) { return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) { return t.__proto__ || Object.getPrototypeOf(t); }, _getPrototypeOf(t); }\nfunction _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), Object.defineProperty(t, "prototype", { writable: !1 }), e && _setPrototypeOf(t, e); }\nfunction _setPrototypeOf(t, e) { return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) { return t.__proto__ = e, t; }, _setPrototypeOf(t, e); }\n\n\n\n\nvar CFDStore = /*#__PURE__*/function (_BaseStore) {\n  function CFDStore(_ref) {\n    var _this;\n    var root_store = _ref.root_store;\n    _classCallCheck(this, CFDStore);\n    _this = _callSuper(this, CFDStore, [{\n      root_store: root_store\n    }]);\n    _this.is_ctrader_transfer_modal_visible = false;\n    _this.is_jurisdiction_modal_visible = false;\n    _this.jurisdiction_selected_shortcode = \'\';\n    _this.is_compare_accounts_visible = false;\n    _this.is_mt5_trade_modal_visible = false;\n    _this.product = \'\';\n    _this.account_type = {\n      category: \'\',\n      type: \'\'\n    };\n    _this.mt5_trade_account = {};\n    _this.new_account_response = {};\n    _this.map_type = {};\n    _this.has_cfd_error = false;\n    _this.error_message = \'\';\n    _this.is_sent_email_modal_enabled = false;\n    _this.is_account_being_created = false;\n    _this.is_cfd_success_dialog_enabled = false;\n    _this.is_mt5_financial_stp_modal_open = false;\n    _this.is_cfd_password_modal_enabled = false;\n    _this.is_mt5_password_invalid_format_modal_visible = false;\n    _this.is_mt5_password_changed_modal_visible = false;\n    _this.is_from_mt5_migration_modal = false;\n    _this.is_server_maintenance_modal_visible = false;\n    _this.is_account_unavailable_modal_visible = false;\n    _this.mt5_migration_error = \'\';\n    _this.current_account = undefined;\n    // this is a tmp value, don\'t rely on it, unless you set it first.\n    _this.error_type = undefined;\n    _this.dxtrade_tokens = {\n      demo: \'\',\n      real: \'\'\n    };\n    _this.ctrader_tokens = {\n      demo: \'\',\n      real: \'\'\n    };\n    _this.real_synthetic_accounts_existing_data = [];\n    _this.real_financial_accounts_existing_data = [];\n    _this.real_swapfree_accounts_existing_data = [];\n    _this.real_zerospread_accounts_existing_data = [];\n    _this.migrated_mt5_accounts = [];\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(_this, {\n      is_compare_accounts_visible: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_jurisdiction_modal_visible: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_mt5_trade_modal_visible: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_ctrader_transfer_modal_visible: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      jurisdiction_selected_shortcode: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      account_type: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      mt5_trade_account: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      mt5_migration_error: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      new_account_response: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      map_type: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      has_cfd_error: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      error_message: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_account_being_created: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_cfd_success_dialog_enabled: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_mt5_financial_stp_modal_open: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_cfd_password_modal_enabled: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_sent_email_modal_enabled: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      current_account: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      error_type: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      product: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      dxtrade_tokens: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      ctrader_tokens: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      migrated_mt5_accounts: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_mt5_password_invalid_format_modal_visible: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_mt5_password_changed_modal_visible: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_from_mt5_migration_modal: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_server_maintenance_modal_visible: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      is_account_unavailable_modal_visible: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      account_title: mobx__WEBPACK_IMPORTED_MODULE_0__.computed,\n      current_list: mobx__WEBPACK_IMPORTED_MODULE_0__.computed,\n      onMount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onUnmount: mobx__WEBPACK_IMPORTED_MODULE_0__.override,\n      checkShouldOpenAccount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      realAccountSignupEndListener: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      resetFormErrors: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      clearCFDError: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      createCFDAccount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      disableCFDPasswordModal: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      enableCFDPasswordModal: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      getName: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      migrateMT5Accounts: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      openMT5Account: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      openCFDAccount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      beginRealSignupForMt5: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      enableMt5FinancialStpModal: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setAccountType: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setProduct: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setCurrentAccount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setMT5TradeAccount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsAccountBeingCreated: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setError: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setCFDNewAccount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setCFDSuccessDialog: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setMT5MigrationError: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setMigratedMT5Accounts: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setSentEmailModalStatus: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsFromMt5MigrationModal: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setServerMaintenanceModal: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setAccountUnavailableModal: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      getAccountStatus: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      creatMT5Password: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      submitMt5Password: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      createCFDPassword: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      submitCFDPassword: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      toggleCompareAccountsModal: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      toggleCTraderTransferModal: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      getRealSyntheticAccountsExistingData: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      getRealFinancialAccountsExistingData: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      getRealSwapfreeAccountsExistingData: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      toggleJurisdictionModal: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      toggleMT5TradeModal: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      disableMt5FinancialStpModal: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      topUpVirtual: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      sendVerifyEmail: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setJurisdictionSelectedShortcode: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setDxtradeToken: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setCTraderToken: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      loadDxtradeTokens: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      loadCTraderTokens: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsMt5PasswordInvalidFormatModalVisible: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      setIsMt5PasswordChangedModalVisible: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n    return _this;\n  }\n  _inherits(CFDStore, _BaseStore);\n  return _createClass(CFDStore, [{\n    key: "account_title",\n    get: function get() {\n      return this.account_type.category ? (0,_Helpers_cfd_config__WEBPACK_IMPORTED_MODULE_3__.getMtCompanies)(this.root_store.traders_hub.show_eu_related_content, this.product)[this.account_type.category][this.account_type.type].title : \'\';\n    }\n  }, {\n    key: "current_list",\n    get: function get() {\n      var list = {};\n      var show_eu_related_content = this.root_store.traders_hub.show_eu_related_content;\n      this.root_store.client.mt5_login_list\n      // eslint-disable-next-line no-confusing-arrow\n      .filter(function (acc) {\n        return show_eu_related_content ? acc.landing_company_short === \'maltainvest\' : acc.landing_company_short !== \'maltainvest\';\n      }).forEach(function (account) {\n        // e.g. mt5.real.financial_stp\n        list[(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getAccountListKey)(account, _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5, account.landing_company_short)] = _objectSpread({}, account);\n      });\n      this.root_store.client.dxtrade_accounts_list.forEach(function (account) {\n        // e.g. dxtrade.real.financial_stp\n        list[(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getAccountListKey)(account, _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE)] = _objectSpread({}, account);\n      });\n      this.root_store.client.ctrader_accounts_list.forEach(function (account) {\n        list[(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getAccountListKey)(account, _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.CTRADER)] = _objectSpread({}, account);\n      });\n      return list;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n  }, {\n    key: "mt5_companies",\n    get: function get() {\n      return (0,_Helpers_cfd_config__WEBPACK_IMPORTED_MODULE_3__.getMtCompanies)(this.root_store.client.is_eu, this.product);\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n  }, {\n    key: "dxtrade_companies",\n    get: function get() {\n      return (0,_Helpers_cfd_config__WEBPACK_IMPORTED_MODULE_3__.getDxCompanies)();\n    }\n  }, {\n    key: "onMount",\n    value: function onMount() {\n      this.checkShouldOpenAccount();\n      this.onRealAccountSignupEnd(this.realAccountSignupEndListener);\n      this.root_store.ui.is_cfd_page = true;\n    }\n  }, {\n    key: "onUnmount",\n    value: function onUnmount() {\n      this.disposeRealAccountSignupEnd();\n      this.root_store.ui.is_cfd_page = false;\n    }\n\n    // other platforms can redirect to here using account switcher\'s `Add` account button\n    // so in that case we should open the corresponding account opening modal on load/component update\n  }, {\n    key: "checkShouldOpenAccount",\n    value: function checkShouldOpenAccount() {\n      var account_type = sessionStorage.getItem(\'open_cfd_account_type\');\n      if (account_type) {\n        var _account_type$split = account_type.split(\'.\'),\n          _account_type$split2 = _slicedToArray(_account_type$split, 4),\n          category = _account_type$split2[0],\n          platform = _account_type$split2[1],\n          type = _account_type$split2[2],\n          set_password = _account_type$split2[3];\n        this.createCFDAccount({\n          category: category,\n          platform: platform,\n          type: type,\n          set_password: set_password\n        });\n        sessionStorage.removeItem(\'open_cfd_account_type\');\n      }\n    }\n  }, {\n    key: "setIsAccountBeingCreated",\n    value: function setIsAccountBeingCreated(is_account_being_created) {\n      this.is_account_being_created = is_account_being_created;\n    }\n  }, {\n    key: "realAccountSignupEndListener",\n    value: function realAccountSignupEndListener() {\n      var post_signup = JSON.parse(sessionStorage.getItem(\'post_real_account_signup\'));\n      if (post_signup && post_signup.category && post_signup.type) {\n        sessionStorage.removeItem(\'post_real_account_signup\');\n        this.enableCFDPasswordModal();\n      }\n      return Promise.resolve();\n    }\n  }, {\n    key: "resetFormErrors",\n    value: function resetFormErrors() {\n      this.error_message = \'\';\n      this.error_type = undefined;\n      this.has_cfd_error = false;\n    }\n  }, {\n    key: "clearCFDError",\n    value: function clearCFDError() {\n      this.resetFormErrors();\n      this.is_cfd_password_modal_enabled = false;\n    }\n  }, {\n    key: "createCFDAccount",\n    value: function () {\n      var _createCFDAccount = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref2) {\n        var category, platform, type, set_password, account_creation_values, response, account_list, trading_platform_available_accounts_list_response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              category = _ref2.category, platform = _ref2.platform, type = _ref2.type, set_password = _ref2.set_password;\n              this.clearCFDError();\n              this.setAccountType({\n                category: category,\n                type: type\n              });\n              if (!(platform === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE)) {\n                _context.next = 7;\n                break;\n              }\n              if (category === \'real\') {\n                this.realCFDSignup(set_password);\n              } else {\n                this.demoCFDSignup();\n              }\n              _context.next = 37;\n              break;\n            case 7:\n              if (!(platform === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.CTRADER)) {\n                _context.next = 36;\n                break;\n              }\n              (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.startPerformanceEventTimer)(\'create_ctrader_account_time\');\n              this.root_store.client.setIsLandingCompanyLoaded(false);\n              this.setJurisdictionSelectedShortcode(\'svg\');\n              if (this.account_type.category === \'demo\') {\n                this.setIsAccountBeingCreated(true);\n              }\n              account_creation_values = {\n                platform: platform,\n                account_type: this.account_type.category,\n                market_type: this.account_type.type,\n                company: this.jurisdiction_selected_shortcode\n              };\n              _context.next = 15;\n              return this.openCFDAccount(account_creation_values);\n            case 15:\n              response = _context.sent;\n              if (response.error) {\n                _context.next = 31;\n                break;\n              }\n              this.setError(false);\n              account_list = {\n                echo_req: response.echo_req,\n                trading_platform_accounts: [].concat(_toConsumableArray(this.root_store.client.ctrader_accounts_list), [response.trading_platform_new_account])\n              };\n              this.root_store.client.responseTradingPlatformAccountsList(account_list);\n              _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.transferBetweenAccounts();\n              _context.next = 23;\n              return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.tradingPlatformAvailableAccounts(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.CTRADER);\n            case 23:\n              trading_platform_available_accounts_list_response = _context.sent;\n              this.root_store.client.responseCTraderTradingPlatformAvailableAccounts(trading_platform_available_accounts_list_response);\n              this.setCFDSuccessDialog(true);\n              this.setIsAccountBeingCreated(false);\n              _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.tradingPlatformAccountsList(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.CTRADER);\n              (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.setPerformanceValue)(\'create_ctrader_account_time\');\n              _context.next = 33;\n              break;\n            case 31:\n              this.setError(true, response.error);\n              this.setIsAccountBeingCreated(false);\n            case 33:\n              this.root_store.client.setIsLandingCompanyLoaded(true);\n              _context.next = 37;\n              break;\n            case 36:\n              if (platform === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5) {\n                if (category === \'real\') {\n                  this.toggleJurisdictionModal();\n                } else {\n                  if (this.root_store.traders_hub.show_eu_related_content) {\n                    this.setJurisdictionSelectedShortcode(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.Jurisdiction.MALTA_INVEST);\n                  } else this.setJurisdictionSelectedShortcode(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.Jurisdiction.SVG);\n                  this.demoCFDSignup();\n                }\n              }\n            case 37:\n            case "end":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function createCFDAccount(_x) {\n        return _createCFDAccount.apply(this, arguments);\n      }\n      return createCFDAccount;\n    }()\n  }, {\n    key: "demoCFDSignup",\n    value: function demoCFDSignup() {\n      this.enableCFDPasswordModal();\n    }\n  }, {\n    key: "disableCFDPasswordModal",\n    value: function disableCFDPasswordModal() {\n      this.is_cfd_password_modal_enabled = false;\n    }\n  }, {\n    key: "enableCFDPasswordModal",\n    value: function enableCFDPasswordModal() {\n      this.is_cfd_password_modal_enabled = true;\n    }\n  }, {\n    key: "setSentEmailModalStatus",\n    value: function setSentEmailModalStatus(status) {\n      this.is_sent_email_modal_enabled = status;\n    }\n  }, {\n    key: "getName",\n    value: function getName() {\n      var account_type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.account_type;\n      var _ref3 = this.root_store.client.account_settings && this.root_store.client.account_settings,\n        first_name = _ref3.first_name;\n      var title = this.mt5_companies[account_type === null || account_type === void 0 ? void 0 : account_type.category][account_type === null || account_type === void 0 ? void 0 : account_type.type].title;\n\n      // First name is not set when user has no real account\n      return first_name ? [first_name, title].join(\' \') : title;\n    }\n  }, {\n    key: "migrateMT5Accounts",\n    value: function () {\n      var _migrateMT5Accounts = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(values, actions) {\n        var _this2 = this;\n        var account_to_migrate, promises, _has_error$error, results, has_error, error_code, mt5_login_list_response, _has_error$error2, _has_error$error3;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              actions === null || actions === void 0 ? void 0 : actions.setSubmitting(true);\n              account_to_migrate = this.root_store.client.mt5_login_list.filter(function (acc) {\n                return acc.landing_company_short === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.Jurisdiction.SVG && !!acc.eligible_to_migrate;\n              });\n              promises = account_to_migrate.map(function (account) {\n                var eligible_to_migrate = account.eligible_to_migrate;\n                var _Object$entries$ = _slicedToArray(Object.entries(eligible_to_migrate)[0], 2),\n                  type = _Object$entries$[0],\n                  shortcode = _Object$entries$[1];\n                var account_type = {\n                  category: \'real\',\n                  type: type\n                };\n                _this2.setMigratedMT5Accounts([].concat(_toConsumableArray(_this2.migrated_mt5_accounts), [{\n                  login_id: account.login,\n                  to_account: _objectSpread({}, eligible_to_migrate !== null && eligible_to_migrate !== void 0 ? eligible_to_migrate : {})\n                }]));\n                return _this2.requestMigrateAccount(values, shortcode, account_type);\n              });\n              this.root_store.ui.setMT5MigrationModalEnabled(true);\n              _context2.prev = 4;\n              _context2.next = 7;\n              return Promise.all(promises);\n            case 7:\n              results = _context2.sent;\n              has_error = results.find(function (result) {\n                return result.error;\n              });\n              error_code = has_error === null || has_error === void 0 ? void 0 : (_has_error$error = has_error.error) === null || _has_error$error === void 0 ? void 0 : _has_error$error.code;\n              if (this.is_mt5_password_changed_modal_visible) this.setIsMt5PasswordChangedModalVisible(false);\n              if (has_error) {\n                _context2.next = 29;\n                break;\n              }\n              actions === null || actions === void 0 ? void 0 : actions.setStatus({\n                error_message: \'\'\n              });\n              this.setError(false);\n              this.setCFDSuccessDialog(true);\n              _context2.next = 17;\n              return this.getAccountStatus(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5);\n            case 17:\n              _context2.next = 19;\n              return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.authorized.mt5LoginList();\n            case 19:\n              mt5_login_list_response = _context2.sent;\n              this.root_store.client.responseMt5LoginList(mt5_login_list_response);\n              _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.transferBetweenAccounts();\n              _context2.t0 = this.root_store.client;\n              _context2.next = 25;\n              return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.tradingServers(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5);\n            case 25:\n              _context2.t1 = _context2.sent;\n              _context2.t0.responseMT5TradingServers.call(_context2.t0, _context2.t1);\n              _context2.next = 42;\n              break;\n            case 29:\n              if (![\'IncorrectMT5PasswordFormat\', \'InvalidTradingPlatformPasswordFormat\'].includes(error_code)) {\n                _context2.next = 35;\n                break;\n              }\n              this.setError(true, has_error === null || has_error === void 0 ? void 0 : has_error.error);\n              this.setMigratedMT5Accounts([]);\n              this.setMT5MigrationError(\'\');\n              _context2.next = 42;\n              break;\n            case 35:\n              this.setMT5MigrationError(has_error === null || has_error === void 0 ? void 0 : (_has_error$error2 = has_error.error) === null || _has_error$error2 === void 0 ? void 0 : _has_error$error2.message);\n              actions === null || actions === void 0 ? void 0 : actions.setStatus({\n                error_message: has_error === null || has_error === void 0 ? void 0 : (_has_error$error3 = has_error.error) === null || _has_error$error3 === void 0 ? void 0 : _has_error$error3.message\n              });\n              _context2.next = 39;\n              return this.getAccountStatus(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5);\n            case 39:\n              this.clearCFDError();\n              this.root_store.ui.toggleMT5MigrationModal(true);\n              this.setMigratedMT5Accounts([]);\n            case 42:\n              _context2.next = 50;\n              break;\n            case 44:\n              _context2.prev = 44;\n              _context2.t2 = _context2["catch"](4);\n              // At least one request has failed\n              // eslint-disable-next-line no-console\n              console.warn(\'One or more MT5 migration requests failed:\', _context2.t2);\n              actions === null || actions === void 0 ? void 0 : actions.setStatus({\n                error_message: _context2.t2 === null || _context2.t2 === void 0 ? void 0 : _context2.t2.message\n              });\n              this.setMT5MigrationError(_context2.t2);\n              this.setMigratedMT5Accounts([]);\n            case 50:\n              _context2.prev = 50;\n              actions === null || actions === void 0 ? void 0 : actions.setSubmitting(false);\n              return _context2.finish(50);\n            case 53:\n            case "end":\n              return _context2.stop();\n          }\n        }, _callee2, this, [[4, 44, 50, 53]]);\n      }));\n      function migrateMT5Accounts(_x2, _x3) {\n        return _migrateMT5Accounts.apply(this, arguments);\n      }\n      return migrateMT5Accounts;\n    }()\n  }, {\n    key: "requestMigrateAccount",\n    value: function requestMigrateAccount(values, shortcode, account_type) {\n      var name = this.getName(account_type);\n      var leverage = this.mt5_companies[account_type.category][account_type.type].leverage;\n      var type_request = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getAccountTypeFields)(account_type);\n      var _this$root_store$clie = this.root_store.client.account_settings,\n        address_line_1 = _this$root_store$clie.address_line_1,\n        address_line_2 = _this$root_store$clie.address_line_2,\n        address_postcode = _this$root_store$clie.address_postcode,\n        address_city = _this$root_store$clie.address_city,\n        address_state = _this$root_store$clie.address_state,\n        country_code = _this$root_store$clie.country_code,\n        phone = _this$root_store$clie.phone;\n      return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.mt5NewAccount(_objectSpread(_objectSpread(_objectSpread({\n        mainPassword: values.password,\n        email: this.root_store.client.email_address,\n        leverage: leverage,\n        name: name,\n        address: address_line_1 || address_line_2,\n        city: address_city,\n        country: country_code,\n        phone: phone,\n        state: address_state,\n        zipCode: address_postcode,\n        migrate: 1\n      }, values.server ? {\n        server: values.server\n      } : {}), shortcode ? {\n        company: shortcode\n      } : {}), shortcode !== _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.Jurisdiction.LABUAN ? type_request : {\n        account_type: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.JURISDICTION_MARKET_TYPES.FINANCIAL,\n        mt5_account_type: \'financial_stp\'\n      }));\n    }\n  }, {\n    key: "openMT5Account",\n    value: function openMT5Account(values) {\n      var name = this.getName();\n      var leverage = this.mt5_companies[this.account_type.category][this.account_type.type].leverage;\n      var type_request = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getAccountTypeFields)(this.account_type);\n      var _this$root_store$clie2 = this.root_store.client.account_settings,\n        address_line_1 = _this$root_store$clie2.address_line_1,\n        address_line_2 = _this$root_store$clie2.address_line_2,\n        address_postcode = _this$root_store$clie2.address_postcode,\n        address_city = _this$root_store$clie2.address_city,\n        address_state = _this$root_store$clie2.address_state,\n        country_code = _this$root_store$clie2.country_code,\n        phone = _this$root_store$clie2.phone;\n      return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.mt5NewAccount(_objectSpread(_objectSpread(_objectSpread({\n        mainPassword: values.password,\n        email: this.root_store.client.email_address,\n        leverage: leverage,\n        name: name,\n        address: address_line_1 || address_line_2,\n        city: address_city,\n        country: country_code,\n        phone: phone,\n        state: address_state,\n        zipCode: address_postcode,\n        product: this.product\n      }, values.server ? {\n        server: values.server\n      } : {}), this.jurisdiction_selected_shortcode && this.account_type.category === \'real\' ? {\n        company: this.jurisdiction_selected_shortcode\n      } : {}), this.jurisdiction_selected_shortcode !== _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.Jurisdiction.LABUAN ? type_request : {\n        account_type: \'financial\',\n        mt5_account_type: \'financial_stp\'\n      }));\n    }\n  }, {\n    key: "openCFDAccount",\n    value: function openCFDAccount(values) {\n      return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.tradingPlatformNewAccount({\n        password: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE ? values.password : \'\',\n        platform: values.platform,\n        account_type: this.account_type.category,\n        market_type: this.account_type.type === \'dxtrade\' || this.account_type.type === \'cTrader\' ? \'all\' : this.account_type.type,\n        company: values.company\n      });\n    }\n  }, {\n    key: "beginRealSignupForMt5",\n    value: function beginRealSignupForMt5() {\n      sessionStorage.setItem(\'post_real_account_signup\', JSON.stringify(this.account_type));\n      this.root_store.ui.openRealAccountSignup(\'svg\');\n    }\n  }, {\n    key: "realCFDSignup",\n    value: function realCFDSignup(set_password) {\n      switch (this.account_type.type) {\n        case \'financial\':\n          this.enableCFDPasswordModal();\n          break;\n        case \'financial_stp\':\n          this.root_store.client.fetchResidenceList();\n          this.root_store.client.fetchStatesList();\n          this.root_store.client.fetchAccountSettings();\n          if (set_password) this.enableCFDPasswordModal();else this.enableMt5FinancialStpModal();\n          break;\n        case \'synthetic\':\n        case \'dxtrade\':\n        case \'all\':\n          this.enableCFDPasswordModal();\n          break;\n        default:\n          throw new Error(\'Cannot determine mt5 account signup.\');\n      }\n    }\n  }, {\n    key: "enableMt5FinancialStpModal",\n    value: function enableMt5FinancialStpModal() {\n      this.is_mt5_financial_stp_modal_open = true;\n    }\n  }, {\n    key: "setAccountType",\n    value: function setAccountType(account_type) {\n      this.account_type = account_type;\n    }\n  }, {\n    key: "setProduct",\n    value: function setProduct(product) {\n      this.product = product;\n    }\n  }, {\n    key: "setCurrentAccount",\n    value: function setCurrentAccount(data, meta) {\n      this.current_account = _objectSpread(_objectSpread({}, meta), data);\n    }\n  }, {\n    key: "setIsMt5PasswordInvalidFormatModalVisible",\n    value: function setIsMt5PasswordInvalidFormatModalVisible(visible) {\n      this.is_mt5_password_invalid_format_modal_visible = visible;\n    }\n  }, {\n    key: "setIsMt5PasswordChangedModalVisible",\n    value: function setIsMt5PasswordChangedModalVisible(visible) {\n      this.is_mt5_password_changed_modal_visible = visible;\n    }\n  }, {\n    key: "setMT5TradeAccount",\n    value: function setMT5TradeAccount(mt5_trade_account) {\n      this.mt5_trade_account = mt5_trade_account;\n    }\n  }, {\n    key: "setError",\n    value: function setError(state, obj) {\n      var _obj$code;\n      this.has_cfd_error = state;\n      this.error_message = obj ? obj.message : \'\';\n      this.error_type = (_obj$code = obj === null || obj === void 0 ? void 0 : obj.code) !== null && _obj$code !== void 0 ? _obj$code : undefined;\n    }\n  }, {\n    key: "setCFDNewAccount",\n    value: function setCFDNewAccount(cfd_new_account) {\n      this.new_account_response = cfd_new_account;\n    }\n  }, {\n    key: "setCFDSuccessDialog",\n    value: function setCFDSuccessDialog(value) {\n      this.is_cfd_success_dialog_enabled = !!value;\n    }\n  }, {\n    key: "setMT5MigrationError",\n    value: function setMT5MigrationError(error) {\n      this.mt5_migration_error = error;\n    }\n  }, {\n    key: "getAccountStatus",\n    value: function () {\n      var _getAccountStatus = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(platform) {\n        var should_load_account_status;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              should_load_account_status = platform === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5 && this.root_store.client.is_mt5_password_not_set || platform === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE && this.root_store.client.is_dxtrade_password_not_set;\n              if (!should_load_account_status) {\n                _context3.next = 4;\n                break;\n              }\n              _context3.next = 4;\n              return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.getAccountStatus();\n            case 4:\n            case "end":\n              return _context3.stop();\n          }\n        }, _callee3, this);\n      }));\n      function getAccountStatus(_x4) {\n        return _getAccountStatus.apply(this, arguments);\n      }\n      return getAccountStatus;\n    }()\n  }, {\n    key: "creatMT5Password",\n    value: function () {\n      var _creatMT5Password = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(values, actions) {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.tradingPlatformPasswordChange({\n                new_password: values.password,\n                platform: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5\n              });\n            case 2:\n              response = _context4.sent;\n              if (!response.error) {\n                _context4.next = 9;\n                break;\n              }\n              this.setError(true, response.error);\n              actions.resetForm({});\n              actions.setSubmitting(false);\n              actions.setStatus({\n                success: false\n              });\n              return _context4.abrupt("return", true);\n            case 9:\n              return _context4.abrupt("return", false);\n            case 10:\n            case "end":\n              return _context4.stop();\n          }\n        }, _callee4, this);\n      }));\n      function creatMT5Password(_x5, _x6) {\n        return _creatMT5Password.apply(this, arguments);\n      }\n      return creatMT5Password;\n    }()\n  }, {\n    key: "submitMt5Password",\n    value: function () {\n      var _submitMt5Password = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(values, actions) {\n        var has_error, response, mt5_login_list_response;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) switch (_context5.prev = _context5.next) {\n            case 0:\n              (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.startPerformanceEventTimer)(\'create_mt5_account_time\');\n              if (!this.root_store.client.is_mt5_password_not_set) {\n                _context5.next = 7;\n                break;\n              }\n              _context5.next = 4;\n              return this.creatMT5Password(values, actions);\n            case 4:\n              has_error = _context5.sent;\n              if (!has_error) {\n                _context5.next = 7;\n                break;\n              }\n              return _context5.abrupt("return");\n            case 7:\n              this.resetFormErrors();\n              if (!(this.root_store.ui.is_mt5_migration_modal_enabled || this.is_from_mt5_migration_modal)) {\n                _context5.next = 13;\n                break;\n              }\n              _context5.next = 11;\n              return this.migrateMT5Accounts(values, actions);\n            case 11:\n              _context5.next = 44;\n              break;\n            case 13:\n              _context5.next = 15;\n              return this.openMT5Account(values);\n            case 15:\n              response = _context5.sent;\n              if (response.error) {\n                _context5.next = 38;\n                break;\n              }\n              actions === null || actions === void 0 ? void 0 : actions.setStatus({\n                success: true\n              });\n              actions === null || actions === void 0 ? void 0 : actions.setSubmitting(false);\n              this.setError(false);\n              this.setIsMt5PasswordChangedModalVisible(false);\n              this.setCFDSuccessDialog(true);\n              _context5.next = 24;\n              return this.getAccountStatus(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5);\n            case 24:\n              _context5.next = 26;\n              return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.authorized.mt5LoginList();\n            case 26:\n              mt5_login_list_response = _context5.sent;\n              this.root_store.client.responseMt5LoginList(mt5_login_list_response);\n              _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.transferBetweenAccounts(); // get the list of updated accounts for transfer in cashier\n              _context5.t0 = this.root_store.client;\n              _context5.next = 32;\n              return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.tradingServers(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5);\n            case 32:\n              _context5.t1 = _context5.sent;\n              _context5.t0.responseMT5TradingServers.call(_context5.t0, _context5.t1);\n              this.setCFDNewAccount(response.mt5_new_account);\n              (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.setPerformanceValue)(\'create_mt5_account_time\');\n              _context5.next = 44;\n              break;\n            case 38:\n              _context5.next = 40;\n              return this.getAccountStatus(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5);\n            case 40:\n              this.setError(true, response.error);\n              actions === null || actions === void 0 ? void 0 : actions.resetForm({});\n              actions === null || actions === void 0 ? void 0 : actions.setSubmitting(false);\n              actions === null || actions === void 0 ? void 0 : actions.setStatus({\n                success: false\n              });\n            case 44:\n            case "end":\n              return _context5.stop();\n          }\n        }, _callee5, this);\n      }));\n      function submitMt5Password(_x7, _x8) {\n        return _submitMt5Password.apply(this, arguments);\n      }\n      return submitMt5Password;\n    }()\n  }, {\n    key: "createCFDPassword",\n    value: function () {\n      var _createCFDPassword = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(values, actions) {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) switch (_context6.prev = _context6.next) {\n            case 0:\n              _context6.next = 2;\n              return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.tradingPlatformPasswordChange({\n                new_password: values.password,\n                platform: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE\n              });\n            case 2:\n              response = _context6.sent;\n              if (!response.error) {\n                _context6.next = 9;\n                break;\n              }\n              this.setError(true, response.error);\n              actions.resetForm({});\n              actions.setSubmitting(false);\n              actions.setStatus({\n                success: false\n              });\n              return _context6.abrupt("return", true);\n            case 9:\n              return _context6.abrupt("return", false);\n            case 10:\n            case "end":\n              return _context6.stop();\n          }\n        }, _callee6, this);\n      }));\n      function createCFDPassword(_x9, _x10) {\n        return _createCFDPassword.apply(this, arguments);\n      }\n      return createCFDPassword;\n    }()\n  }, {\n    key: "submitCFDPassword",\n    value: function () {\n      var _submitCFDPassword = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(values, actions) {\n        var has_error, response, trading_platform_accounts_list_response;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) switch (_context7.prev = _context7.next) {\n            case 0:\n              (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.startPerformanceEventTimer)(\'create_dxtrade_account_time\');\n              if (!(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE && this.root_store.client.is_dxtrade_password_not_set)) {\n                _context7.next = 7;\n                break;\n              }\n              _context7.next = 4;\n              return this.createCFDPassword(values, actions);\n            case 4:\n              has_error = _context7.sent;\n              if (!has_error) {\n                _context7.next = 7;\n                break;\n              }\n              return _context7.abrupt("return");\n            case 7:\n              _context7.next = 9;\n              return this.openCFDAccount(values);\n            case 9:\n              response = _context7.sent;\n              if (!response.error) {\n                _context7.next = 18;\n                break;\n              }\n              _context7.next = 13;\n              return this.getAccountStatus(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE);\n            case 13:\n              this.setError(true, response.error);\n              actions.resetForm({});\n              actions.setSubmitting(false);\n              actions.setStatus({\n                success: false\n              });\n              return _context7.abrupt("return");\n            case 18:\n              actions.setStatus({\n                success: true\n              });\n              actions.setSubmitting(false);\n              this.setError(false);\n              this.setCFDSuccessDialog(true);\n              _context7.next = 24;\n              return this.getAccountStatus(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE);\n            case 24:\n              _context7.next = 26;\n              return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.tradingPlatformAccountsList(values.platform);\n            case 26:\n              trading_platform_accounts_list_response = _context7.sent;\n              this.root_store.client.responseTradingPlatformAccountsList(trading_platform_accounts_list_response);\n              _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.transferBetweenAccounts(); // get the list of updated accounts for transfer in cashier\n              this.setCFDNewAccount(response.trading_platform_new_account);\n              (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.setPerformanceValue)(\'create_dxtrade_account_time\');\n            case 31:\n            case "end":\n              return _context7.stop();\n          }\n        }, _callee7, this);\n      }));\n      function submitCFDPassword(_x11, _x12) {\n        return _submitCFDPassword.apply(this, arguments);\n      }\n      return submitCFDPassword;\n    }()\n  }, {\n    key: "toggleCompareAccountsModal",\n    value: function toggleCompareAccountsModal() {\n      this.is_compare_accounts_visible = !this.is_compare_accounts_visible;\n    }\n  }, {\n    key: "toggleCTraderTransferModal",\n    value: function toggleCTraderTransferModal() {\n      this.is_ctrader_transfer_modal_visible = !this.is_ctrader_transfer_modal_visible;\n    }\n  }, {\n    key: "getRealSyntheticAccountsExistingData",\n    value: function getRealSyntheticAccountsExistingData(real_synthetic_accounts_existing_data) {\n      this.real_synthetic_accounts_existing_data = real_synthetic_accounts_existing_data;\n    }\n  }, {\n    key: "getRealFinancialAccountsExistingData",\n    value: function getRealFinancialAccountsExistingData(real_financial_accounts_existing_data) {\n      this.real_financial_accounts_existing_data = real_financial_accounts_existing_data;\n    }\n  }, {\n    key: "getRealSwapfreeAccountsExistingData",\n    value: function getRealSwapfreeAccountsExistingData(real_swapfree_accounts_existing_data) {\n      this.real_swapfree_accounts_existing_data = real_swapfree_accounts_existing_data;\n    }\n  }, {\n    key: "toggleJurisdictionModal",\n    value: function toggleJurisdictionModal() {\n      this.is_jurisdiction_modal_visible = !this.is_jurisdiction_modal_visible;\n    }\n  }, {\n    key: "toggleMT5TradeModal",\n    value: function toggleMT5TradeModal() {\n      this.is_mt5_trade_modal_visible = !this.is_mt5_trade_modal_visible;\n    }\n  }, {\n    key: "disableMt5FinancialStpModal",\n    value: function disableMt5FinancialStpModal() {\n      this.is_mt5_financial_stp_modal_open = false;\n    }\n  }, {\n    key: "topUpVirtual",\n    value: function () {\n      var _topUpVirtual = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(platform) {\n        var _this3 = this;\n        var response, new_balance, _this$root_store$clie3, _this$root_store$clie4, _this$root_store$clie5;\n        return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n          while (1) switch (_context8.prev = _context8.next) {\n            case 0:\n              this.root_store.ui.setTopUpInProgress(true);\n              _context8.t0 = platform;\n              _context8.next = _context8.t0 === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE ? 4 : _context8.t0 === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.CTRADER ? 8 : _context8.t0 === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5 ? 12 : 16;\n              break;\n            case 4:\n              _context8.next = 6;\n              return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.authorized.send({\n                trading_platform_deposit: 1,\n                platform: platform,\n                to_account: this.current_account.account_id\n              });\n            case 6:\n              response = _context8.sent;\n              return _context8.abrupt("break", 18);\n            case 8:\n              _context8.next = 10;\n              return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.authorized.send({\n                trading_platform_deposit: 1,\n                platform: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.CTRADER,\n                to_account: this.current_account.account_id\n              });\n            case 10:\n              response = _context8.sent;\n              return _context8.abrupt("break", 18);\n            case 12:\n              _context8.next = 14;\n              return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.authorized.mt5Deposit({\n                to_mt5: this.current_account.login\n              });\n            case 14:\n              response = _context8.sent;\n              return _context8.abrupt("break", 18);\n            case 16:\n              response.error = \'Invalid platform\';\n              return _context8.abrupt("break", 18);\n            case 18:\n              if (response.error) {\n                _context8.next = 39;\n                break;\n              }\n              _context8.t1 = platform;\n              _context8.next = _context8.t1 === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE ? 22 : _context8.t1 === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.CTRADER ? 26 : _context8.t1 === _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5 ? 30 : 34;\n              break;\n            case 22:\n              _context8.next = 24;\n              return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.authorized.tradingPlatformAccountsList(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE).then(this.root_store.client.responseTradingPlatformAccountsList);\n            case 24:\n              new_balance = (_this$root_store$clie3 = this.root_store.client.dxtrade_accounts_list.find(function (item) {\n                return item.account_id === _this3.current_account.account_id;\n              })) === null || _this$root_store$clie3 === void 0 ? void 0 : _this$root_store$clie3.balance;\n              return _context8.abrupt("break", 35);\n            case 26:\n              _context8.next = 28;\n              return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.authorized.tradingPlatformAccountsList(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.CTRADER).then(this.root_store.client.responseTradingPlatformAccountsList);\n            case 28:\n              new_balance = (_this$root_store$clie4 = this.root_store.client.ctrader_accounts_list.find(function (item) {\n                return item.account_id === _this3.current_account.account_id;\n              })) === null || _this$root_store$clie4 === void 0 ? void 0 : _this$root_store$clie4.balance;\n              return _context8.abrupt("break", 35);\n            case 30:\n              _context8.next = 32;\n              return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.authorized.mt5LoginList().then(this.root_store.client.responseMt5LoginList);\n            case 32:\n              new_balance = (_this$root_store$clie5 = this.root_store.client.mt5_login_list.find(function (item) {\n                return item.login === _this3.current_account.login;\n              })) === null || _this$root_store$clie5 === void 0 ? void 0 : _this$root_store$clie5.balance;\n              return _context8.abrupt("break", 35);\n            case 34:\n              return _context8.abrupt("break", 35);\n            case 35:\n              (0,mobx__WEBPACK_IMPORTED_MODULE_0__.runInAction)(function () {\n                // Get new current account\n                _this3.root_store.ui.is_top_up_virtual_open = false;\n                _this3.current_account.balance = new_balance;\n              });\n              setTimeout(function () {\n                (0,mobx__WEBPACK_IMPORTED_MODULE_0__.runInAction)(function () {\n                  _this3.root_store.ui.is_top_up_virtual_success = true;\n                });\n              }, 250);\n              _context8.next = 40;\n              break;\n            case 39:\n              // eslint-disable-next-line no-console\n              console.error(response);\n            case 40:\n              this.root_store.ui.setTopUpInProgress(false);\n            case 41:\n            case "end":\n              return _context8.stop();\n          }\n        }, _callee8, this);\n      }));\n      function topUpVirtual(_x13) {\n        return _topUpVirtual.apply(this, arguments);\n      }\n      return topUpVirtual;\n    }()\n  }, {\n    key: "sendVerifyEmail",\n    value: function sendVerifyEmail() {\n      return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.verifyEmail(this.root_store.client.email, \'trading_platform_investor_password_reset\');\n    }\n  }, {\n    key: "setDxtradeToken",\n    value: function setDxtradeToken(response, server) {\n      if (!response.error) {\n        var dxtrade = response.service_token.dxtrade;\n        this.dxtrade_tokens[server] = dxtrade.token;\n      }\n    }\n  }, {\n    key: "setCTraderToken",\n    value: function setCTraderToken(response, server) {\n      if (!response.error) {\n        var ctrader = response.service_token.ctrader;\n        this.ctrader_tokens[server] = ctrader.token;\n      }\n    }\n  }, {\n    key: "loadDxtradeTokens",\n    value: function loadDxtradeTokens() {\n      var _this4 = this;\n      [\'demo\', \'real\'].forEach(function (account_type) {\n        var has_existing_account = _this4.root_store.client.dxtrade_accounts_list.some(function (account) {\n          return account.account_type === account_type;\n        });\n        if (!_this4.dxtrade_tokens[account_type] && has_existing_account) {\n          _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.getServiceToken(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.DXTRADE, account_type).then(function (response) {\n            return _this4.setDxtradeToken(response, account_type);\n          });\n        }\n      });\n    }\n  }, {\n    key: "loadCTraderTokens",\n    value: function loadCTraderTokens(url, account_type) {\n      var _this5 = this;\n      var has_existing_account = this.root_store.client.ctrader_accounts_list.some(function (account) {\n        return account.account_type === account_type;\n      });\n      if (has_existing_account) {\n        _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.getServiceToken(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.CTRADER, account_type).then(function (response) {\n          _this5.setCTraderToken(response, account_type);\n          return window.open("".concat(url, "?token=").concat(response.service_token.ctrader.token), \'_blank\');\n        })["catch"](function () {\n          return window.open("".concat(url), \'_blank\');\n        });\n      }\n    }\n  }, {\n    key: "setJurisdictionSelectedShortcode",\n    value: function setJurisdictionSelectedShortcode(shortcode) {\n      this.jurisdiction_selected_shortcode = shortcode;\n    }\n  }, {\n    key: "setMigratedMT5Accounts",\n    value: function setMigratedMT5Accounts(accounts) {\n      this.migrated_mt5_accounts = accounts;\n    }\n  }, {\n    key: "setIsFromMt5MigrationModal",\n    value: function setIsFromMt5MigrationModal(is_from_mt5_migration_modal) {\n      this.is_from_mt5_migration_modal = is_from_mt5_migration_modal;\n    }\n  }, {\n    key: "setServerMaintenanceModal",\n    value: function setServerMaintenanceModal(is_server_maintenance_modal_visible) {\n      this.is_server_maintenance_modal_visible = is_server_maintenance_modal_visible;\n    }\n  }, {\n    key: "setAccountUnavailableModal",\n    value: function setAccountUnavailableModal(is_account_unavailable_modal_visible) {\n      this.is_account_unavailable_modal_visible = is_account_unavailable_modal_visible;\n    }\n  }], [{\n    key: "changePassword",\n    value: function () {\n      var _changePassword = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee9(_ref4) {\n        var _response, _response$error;\n        var login, old_password, new_password, password_type, response;\n        return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n          while (1) switch (_context9.prev = _context9.next) {\n            case 0:\n              login = _ref4.login, old_password = _ref4.old_password, new_password = _ref4.new_password, password_type = _ref4.password_type;\n              if (!(password_type === \'investor\')) {\n                _context9.next = 7;\n                break;\n              }\n              _context9.next = 4;\n              return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.authorized.tradingPlatformInvestorPasswordChange({\n                account_id: login,\n                old_password: old_password,\n                new_password: new_password,\n                platform: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5\n              });\n            case 4:\n              response = _context9.sent;\n              _context9.next = 10;\n              break;\n            case 7:\n              _context9.next = 9;\n              return _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.WS.authorized.tradingPlatformPasswordChange({\n                account_id: login,\n                old_password: old_password,\n                new_password: new_password,\n                platform: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.CFD_PLATFORMS.MT5\n              });\n            case 9:\n              response = _context9.sent;\n            case 10:\n              return _context9.abrupt("return", (_response = response) === null || _response === void 0 ? void 0 : (_response$error = _response.error) === null || _response$error === void 0 ? void 0 : _response$error.message);\n            case 11:\n            case "end":\n              return _context9.stop();\n          }\n        }, _callee9);\n      }));\n      function changePassword(_x14) {\n        return _changePassword.apply(this, arguments);\n      }\n      return changePassword;\n    }()\n  }]);\n}(_base_store__WEBPACK_IMPORTED_MODULE_2__["default"]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvU3RvcmVzL01vZHVsZXMvQ0ZEL2NmZC1zdG9yZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQUNBO0FBVUE7QUFFQTtBQUFBO0FBb0RBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFsREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUtBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBR0E7QUFHQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBOztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBR0E7QUFGQTtBQUdBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFqRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFvRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQTFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQTZEQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFLQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFSQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBVUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFIQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFiQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBZUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBcENBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFzQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFIQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFkQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBZ0JBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUEvQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFrQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBR0E7QUFpQkE7QUFBQTtBQUFBO0FBQUE7QUFkQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBSkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFKQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBU0E7QUFDQTtBQUFBO0FBRkE7QUFBQTtBQUFBO0FBTUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBbUJBO0FBQUE7QUFBQTtBQUFBO0FBZkE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQU1BO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBakZBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBb0ZBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBeUJBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUF4Q0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBTEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBTEE7QUFBQTtBQUFBO0FBUUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFwQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2NmZC8uL3NyYy9TdG9yZXMvTW9kdWxlcy9DRkQvY2ZkLXN0b3JlLmpzP2E0ZDEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWN0aW9uLCBjb21wdXRlZCwgb2JzZXJ2YWJsZSwgcnVuSW5BY3Rpb24sIG1ha2VPYnNlcnZhYmxlLCBvdmVycmlkZSB9IGZyb20gJ21vYngnO1xuaW1wb3J0IHtcbiAgICBnZXRBY2NvdW50TGlzdEtleSxcbiAgICBnZXRBY2NvdW50VHlwZUZpZWxkcyxcbiAgICBDRkRfUExBVEZPUk1TLFxuICAgIFdTLFxuICAgIEp1cmlzZGljdGlvbixcbiAgICBKVVJJU0RJQ1RJT05fTUFSS0VUX1RZUEVTLFxuICAgIHNldFBlcmZvcm1hbmNlVmFsdWUsXG4gICAgc3RhcnRQZXJmb3JtYW5jZUV2ZW50VGltZXIsXG59IGZyb20gJ0BkZXJpdi9zaGFyZWQnO1xuaW1wb3J0IEJhc2VTdG9yZSBmcm9tICcuLi8uLi9iYXNlLXN0b3JlJztcblxuaW1wb3J0IHsgZ2V0RHhDb21wYW5pZXMsIGdldE10Q29tcGFuaWVzIH0gZnJvbSAnLi9IZWxwZXJzL2NmZC1jb25maWcnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDRkRTdG9yZSBleHRlbmRzIEJhc2VTdG9yZSB7XG4gICAgaXNfY3RyYWRlcl90cmFuc2Zlcl9tb2RhbF92aXNpYmxlID0gZmFsc2U7XG4gICAgaXNfanVyaXNkaWN0aW9uX21vZGFsX3Zpc2libGUgPSBmYWxzZTtcbiAgICBqdXJpc2RpY3Rpb25fc2VsZWN0ZWRfc2hvcnRjb2RlID0gJyc7XG4gICAgaXNfY29tcGFyZV9hY2NvdW50c192aXNpYmxlID0gZmFsc2U7XG4gICAgaXNfbXQ1X3RyYWRlX21vZGFsX3Zpc2libGUgPSBmYWxzZTtcbiAgICBwcm9kdWN0ID0gJyc7XG5cbiAgICBhY2NvdW50X3R5cGUgPSB7XG4gICAgICAgIGNhdGVnb3J5OiAnJyxcbiAgICAgICAgdHlwZTogJycsXG4gICAgfTtcblxuICAgIG10NV90cmFkZV9hY2NvdW50ID0ge307XG4gICAgbmV3X2FjY291bnRfcmVzcG9uc2UgPSB7fTtcbiAgICBtYXBfdHlwZSA9IHt9O1xuICAgIGhhc19jZmRfZXJyb3IgPSBmYWxzZTtcbiAgICBlcnJvcl9tZXNzYWdlID0gJyc7XG4gICAgaXNfc2VudF9lbWFpbF9tb2RhbF9lbmFibGVkID0gZmFsc2U7XG5cbiAgICBpc19hY2NvdW50X2JlaW5nX2NyZWF0ZWQgPSBmYWxzZTtcbiAgICBpc19jZmRfc3VjY2Vzc19kaWFsb2dfZW5hYmxlZCA9IGZhbHNlO1xuICAgIGlzX210NV9maW5hbmNpYWxfc3RwX21vZGFsX29wZW4gPSBmYWxzZTtcbiAgICBpc19jZmRfcGFzc3dvcmRfbW9kYWxfZW5hYmxlZCA9IGZhbHNlO1xuICAgIGlzX210NV9wYXNzd29yZF9pbnZhbGlkX2Zvcm1hdF9tb2RhbF92aXNpYmxlID0gZmFsc2U7XG4gICAgaXNfbXQ1X3Bhc3N3b3JkX2NoYW5nZWRfbW9kYWxfdmlzaWJsZSA9IGZhbHNlO1xuICAgIGlzX2Zyb21fbXQ1X21pZ3JhdGlvbl9tb2RhbCA9IGZhbHNlO1xuICAgIGlzX3NlcnZlcl9tYWludGVuYW5jZV9tb2RhbF92aXNpYmxlID0gZmFsc2U7XG4gICAgaXNfYWNjb3VudF91bmF2YWlsYWJsZV9tb2RhbF92aXNpYmxlID0gZmFsc2U7XG4gICAgbXQ1X21pZ3JhdGlvbl9lcnJvciA9ICcnO1xuICAgIGN1cnJlbnRfYWNjb3VudCA9IHVuZGVmaW5lZDsgLy8gdGhpcyBpcyBhIHRtcCB2YWx1ZSwgZG9uJ3QgcmVseSBvbiBpdCwgdW5sZXNzIHlvdSBzZXQgaXQgZmlyc3QuXG5cbiAgICBlcnJvcl90eXBlID0gdW5kZWZpbmVkO1xuXG4gICAgZHh0cmFkZV90b2tlbnMgPSB7XG4gICAgICAgIGRlbW86ICcnLFxuICAgICAgICByZWFsOiAnJyxcbiAgICB9O1xuICAgIGN0cmFkZXJfdG9rZW5zID0ge1xuICAgICAgICBkZW1vOiAnJyxcbiAgICAgICAgcmVhbDogJycsXG4gICAgfTtcblxuICAgIHJlYWxfc3ludGhldGljX2FjY291bnRzX2V4aXN0aW5nX2RhdGEgPSBbXTtcbiAgICByZWFsX2ZpbmFuY2lhbF9hY2NvdW50c19leGlzdGluZ19kYXRhID0gW107XG4gICAgcmVhbF9zd2FwZnJlZV9hY2NvdW50c19leGlzdGluZ19kYXRhID0gW107XG4gICAgcmVhbF96ZXJvc3ByZWFkX2FjY291bnRzX2V4aXN0aW5nX2RhdGEgPSBbXTtcblxuICAgIG1pZ3JhdGVkX210NV9hY2NvdW50cyA9IFtdO1xuXG4gICAgY29uc3RydWN0b3IoeyByb290X3N0b3JlIH0pIHtcbiAgICAgICAgc3VwZXIoeyByb290X3N0b3JlIH0pO1xuXG4gICAgICAgIG1ha2VPYnNlcnZhYmxlKHRoaXMsIHtcbiAgICAgICAgICAgIGlzX2NvbXBhcmVfYWNjb3VudHNfdmlzaWJsZTogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGlzX2p1cmlzZGljdGlvbl9tb2RhbF92aXNpYmxlOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfbXQ1X3RyYWRlX21vZGFsX3Zpc2libGU6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc19jdHJhZGVyX3RyYW5zZmVyX21vZGFsX3Zpc2libGU6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBqdXJpc2RpY3Rpb25fc2VsZWN0ZWRfc2hvcnRjb2RlOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgYWNjb3VudF90eXBlOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgbXQ1X3RyYWRlX2FjY291bnQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBtdDVfbWlncmF0aW9uX2Vycm9yOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgbmV3X2FjY291bnRfcmVzcG9uc2U6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBtYXBfdHlwZTogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGhhc19jZmRfZXJyb3I6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBlcnJvcl9tZXNzYWdlOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfYWNjb3VudF9iZWluZ19jcmVhdGVkOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfY2ZkX3N1Y2Nlc3NfZGlhbG9nX2VuYWJsZWQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc19tdDVfZmluYW5jaWFsX3N0cF9tb2RhbF9vcGVuOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgaXNfY2ZkX3Bhc3N3b3JkX21vZGFsX2VuYWJsZWQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc19zZW50X2VtYWlsX21vZGFsX2VuYWJsZWQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBjdXJyZW50X2FjY291bnQ6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBlcnJvcl90eXBlOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgcHJvZHVjdDogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGR4dHJhZGVfdG9rZW5zOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgY3RyYWRlcl90b2tlbnM6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBtaWdyYXRlZF9tdDVfYWNjb3VudHM6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc19tdDVfcGFzc3dvcmRfaW52YWxpZF9mb3JtYXRfbW9kYWxfdmlzaWJsZTogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGlzX210NV9wYXNzd29yZF9jaGFuZ2VkX21vZGFsX3Zpc2libGU6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc19mcm9tX210NV9taWdyYXRpb25fbW9kYWw6IG9ic2VydmFibGUsXG4gICAgICAgICAgICBpc19zZXJ2ZXJfbWFpbnRlbmFuY2VfbW9kYWxfdmlzaWJsZTogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGlzX2FjY291bnRfdW5hdmFpbGFibGVfbW9kYWxfdmlzaWJsZTogb2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIGFjY291bnRfdGl0bGU6IGNvbXB1dGVkLFxuICAgICAgICAgICAgY3VycmVudF9saXN0OiBjb21wdXRlZCxcbiAgICAgICAgICAgIG9uTW91bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uVW5tb3VudDogb3ZlcnJpZGUsXG4gICAgICAgICAgICBjaGVja1Nob3VsZE9wZW5BY2NvdW50OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICByZWFsQWNjb3VudFNpZ251cEVuZExpc3RlbmVyOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICByZXNldEZvcm1FcnJvcnM6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGNsZWFyQ0ZERXJyb3I6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGNyZWF0ZUNGREFjY291bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGRpc2FibGVDRkRQYXNzd29yZE1vZGFsOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBlbmFibGVDRkRQYXNzd29yZE1vZGFsOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBnZXROYW1lOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBtaWdyYXRlTVQ1QWNjb3VudHM6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9wZW5NVDVBY2NvdW50OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBvcGVuQ0ZEQWNjb3VudDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgYmVnaW5SZWFsU2lnbnVwRm9yTXQ1OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBlbmFibGVNdDVGaW5hbmNpYWxTdHBNb2RhbDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0QWNjb3VudFR5cGU6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldFByb2R1Y3Q6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldEN1cnJlbnRBY2NvdW50OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRNVDVUcmFkZUFjY291bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldElzQWNjb3VudEJlaW5nQ3JlYXRlZDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0RXJyb3I6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldENGRE5ld0FjY291bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldENGRFN1Y2Nlc3NEaWFsb2c6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldE1UNU1pZ3JhdGlvbkVycm9yOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRNaWdyYXRlZE1UNUFjY291bnRzOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRTZW50RW1haWxNb2RhbFN0YXR1czogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0SXNGcm9tTXQ1TWlncmF0aW9uTW9kYWw6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldFNlcnZlck1haW50ZW5hbmNlTW9kYWw6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldEFjY291bnRVbmF2YWlsYWJsZU1vZGFsOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBnZXRBY2NvdW50U3RhdHVzOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBjcmVhdE1UNVBhc3N3b3JkOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzdWJtaXRNdDVQYXNzd29yZDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgY3JlYXRlQ0ZEUGFzc3dvcmQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHN1Ym1pdENGRFBhc3N3b3JkOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICB0b2dnbGVDb21wYXJlQWNjb3VudHNNb2RhbDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgdG9nZ2xlQ1RyYWRlclRyYW5zZmVyTW9kYWw6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGdldFJlYWxTeW50aGV0aWNBY2NvdW50c0V4aXN0aW5nRGF0YTogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgZ2V0UmVhbEZpbmFuY2lhbEFjY291bnRzRXhpc3RpbmdEYXRhOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBnZXRSZWFsU3dhcGZyZWVBY2NvdW50c0V4aXN0aW5nRGF0YTogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgdG9nZ2xlSnVyaXNkaWN0aW9uTW9kYWw6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHRvZ2dsZU1UNVRyYWRlTW9kYWw6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGRpc2FibGVNdDVGaW5hbmNpYWxTdHBNb2RhbDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgdG9wVXBWaXJ0dWFsOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZW5kVmVyaWZ5RW1haWw6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldEp1cmlzZGljdGlvblNlbGVjdGVkU2hvcnRjb2RlOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXREeHRyYWRlVG9rZW46IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIHNldENUcmFkZXJUb2tlbjogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgbG9hZER4dHJhZGVUb2tlbnM6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGxvYWRDVHJhZGVyVG9rZW5zOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBzZXRJc010NVBhc3N3b3JkSW52YWxpZEZvcm1hdE1vZGFsVmlzaWJsZTogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgc2V0SXNNdDVQYXNzd29yZENoYW5nZWRNb2RhbFZpc2libGU6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0IGFjY291bnRfdGl0bGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjY291bnRfdHlwZS5jYXRlZ29yeVxuICAgICAgICAgICAgPyBnZXRNdENvbXBhbmllcyh0aGlzLnJvb3Rfc3RvcmUudHJhZGVyc19odWIuc2hvd19ldV9yZWxhdGVkX2NvbnRlbnQsIHRoaXMucHJvZHVjdClbXG4gICAgICAgICAgICAgICAgICB0aGlzLmFjY291bnRfdHlwZS5jYXRlZ29yeVxuICAgICAgICAgICAgICBdW3RoaXMuYWNjb3VudF90eXBlLnR5cGVdLnRpdGxlXG4gICAgICAgICAgICA6ICcnO1xuICAgIH1cblxuICAgIGdldCBjdXJyZW50X2xpc3QoKSB7XG4gICAgICAgIGNvbnN0IGxpc3QgPSB7fTtcbiAgICAgICAgY29uc3Qgc2hvd19ldV9yZWxhdGVkX2NvbnRlbnQgPSB0aGlzLnJvb3Rfc3RvcmUudHJhZGVyc19odWIuc2hvd19ldV9yZWxhdGVkX2NvbnRlbnQ7XG4gICAgICAgIHRoaXMucm9vdF9zdG9yZS5jbGllbnQubXQ1X2xvZ2luX2xpc3RcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25mdXNpbmctYXJyb3dcbiAgICAgICAgICAgIC5maWx0ZXIoYWNjID0+XG4gICAgICAgICAgICAgICAgc2hvd19ldV9yZWxhdGVkX2NvbnRlbnRcbiAgICAgICAgICAgICAgICAgICAgPyBhY2MubGFuZGluZ19jb21wYW55X3Nob3J0ID09PSAnbWFsdGFpbnZlc3QnXG4gICAgICAgICAgICAgICAgICAgIDogYWNjLmxhbmRpbmdfY29tcGFueV9zaG9ydCAhPT0gJ21hbHRhaW52ZXN0J1xuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLmZvckVhY2goYWNjb3VudCA9PiB7XG4gICAgICAgICAgICAgICAgLy8gZS5nLiBtdDUucmVhbC5maW5hbmNpYWxfc3RwXG4gICAgICAgICAgICAgICAgbGlzdFtnZXRBY2NvdW50TGlzdEtleShhY2NvdW50LCBDRkRfUExBVEZPUk1TLk1UNSwgYWNjb3VudC5sYW5kaW5nX2NvbXBhbnlfc2hvcnQpXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uYWNjb3VudCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5yb290X3N0b3JlLmNsaWVudC5keHRyYWRlX2FjY291bnRzX2xpc3QuZm9yRWFjaChhY2NvdW50ID0+IHtcbiAgICAgICAgICAgIC8vIGUuZy4gZHh0cmFkZS5yZWFsLmZpbmFuY2lhbF9zdHBcbiAgICAgICAgICAgIGxpc3RbZ2V0QWNjb3VudExpc3RLZXkoYWNjb3VudCwgQ0ZEX1BMQVRGT1JNUy5EWFRSQURFKV0gPSB7XG4gICAgICAgICAgICAgICAgLi4uYWNjb3VudCxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmN0cmFkZXJfYWNjb3VudHNfbGlzdC5mb3JFYWNoKGFjY291bnQgPT4ge1xuICAgICAgICAgICAgbGlzdFtnZXRBY2NvdW50TGlzdEtleShhY2NvdW50LCBDRkRfUExBVEZPUk1TLkNUUkFERVIpXSA9IHtcbiAgICAgICAgICAgICAgICAuLi5hY2NvdW50LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBsaXN0O1xuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gICAgZ2V0IG10NV9jb21wYW5pZXMoKSB7XG4gICAgICAgIHJldHVybiBnZXRNdENvbXBhbmllcyh0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmlzX2V1LCB0aGlzLnByb2R1Y3QpO1xuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gICAgZ2V0IGR4dHJhZGVfY29tcGFuaWVzKCkge1xuICAgICAgICByZXR1cm4gZ2V0RHhDb21wYW5pZXMoKTtcbiAgICB9XG5cbiAgICBvbk1vdW50KCkge1xuICAgICAgICB0aGlzLmNoZWNrU2hvdWxkT3BlbkFjY291bnQoKTtcbiAgICAgICAgdGhpcy5vblJlYWxBY2NvdW50U2lnbnVwRW5kKHRoaXMucmVhbEFjY291bnRTaWdudXBFbmRMaXN0ZW5lcik7XG4gICAgICAgIHRoaXMucm9vdF9zdG9yZS51aS5pc19jZmRfcGFnZSA9IHRydWU7XG4gICAgfVxuXG4gICAgb25Vbm1vdW50KCkge1xuICAgICAgICB0aGlzLmRpc3Bvc2VSZWFsQWNjb3VudFNpZ251cEVuZCgpO1xuICAgICAgICB0aGlzLnJvb3Rfc3RvcmUudWkuaXNfY2ZkX3BhZ2UgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBvdGhlciBwbGF0Zm9ybXMgY2FuIHJlZGlyZWN0IHRvIGhlcmUgdXNpbmcgYWNjb3VudCBzd2l0Y2hlcidzIGBBZGRgIGFjY291bnQgYnV0dG9uXG4gICAgLy8gc28gaW4gdGhhdCBjYXNlIHdlIHNob3VsZCBvcGVuIHRoZSBjb3JyZXNwb25kaW5nIGFjY291bnQgb3BlbmluZyBtb2RhbCBvbiBsb2FkL2NvbXBvbmVudCB1cGRhdGVcbiAgICBjaGVja1Nob3VsZE9wZW5BY2NvdW50KCkge1xuICAgICAgICBjb25zdCBhY2NvdW50X3R5cGUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdvcGVuX2NmZF9hY2NvdW50X3R5cGUnKTtcbiAgICAgICAgaWYgKGFjY291bnRfdHlwZSkge1xuICAgICAgICAgICAgY29uc3QgW2NhdGVnb3J5LCBwbGF0Zm9ybSwgdHlwZSwgc2V0X3Bhc3N3b3JkXSA9IGFjY291bnRfdHlwZS5zcGxpdCgnLicpO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVDRkRBY2NvdW50KHsgY2F0ZWdvcnksIHBsYXRmb3JtLCB0eXBlLCBzZXRfcGFzc3dvcmQgfSk7XG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKCdvcGVuX2NmZF9hY2NvdW50X3R5cGUnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldElzQWNjb3VudEJlaW5nQ3JlYXRlZChpc19hY2NvdW50X2JlaW5nX2NyZWF0ZWQpIHtcbiAgICAgICAgdGhpcy5pc19hY2NvdW50X2JlaW5nX2NyZWF0ZWQgPSBpc19hY2NvdW50X2JlaW5nX2NyZWF0ZWQ7XG4gICAgfVxuXG4gICAgcmVhbEFjY291bnRTaWdudXBFbmRMaXN0ZW5lcigpIHtcbiAgICAgICAgY29uc3QgcG9zdF9zaWdudXAgPSBKU09OLnBhcnNlKHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ3Bvc3RfcmVhbF9hY2NvdW50X3NpZ251cCcpKTtcbiAgICAgICAgaWYgKHBvc3Rfc2lnbnVwICYmIHBvc3Rfc2lnbnVwLmNhdGVnb3J5ICYmIHBvc3Rfc2lnbnVwLnR5cGUpIHtcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oJ3Bvc3RfcmVhbF9hY2NvdW50X3NpZ251cCcpO1xuICAgICAgICAgICAgdGhpcy5lbmFibGVDRkRQYXNzd29yZE1vZGFsKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIHJlc2V0Rm9ybUVycm9ycygpIHtcbiAgICAgICAgdGhpcy5lcnJvcl9tZXNzYWdlID0gJyc7XG4gICAgICAgIHRoaXMuZXJyb3JfdHlwZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5oYXNfY2ZkX2Vycm9yID0gZmFsc2U7XG4gICAgfVxuXG4gICAgY2xlYXJDRkRFcnJvcigpIHtcbiAgICAgICAgdGhpcy5yZXNldEZvcm1FcnJvcnMoKTtcbiAgICAgICAgdGhpcy5pc19jZmRfcGFzc3dvcmRfbW9kYWxfZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGFzeW5jIGNyZWF0ZUNGREFjY291bnQoeyBjYXRlZ29yeSwgcGxhdGZvcm0sIHR5cGUsIHNldF9wYXNzd29yZCB9KSB7XG4gICAgICAgIHRoaXMuY2xlYXJDRkRFcnJvcigpO1xuICAgICAgICB0aGlzLnNldEFjY291bnRUeXBlKHtcbiAgICAgICAgICAgIGNhdGVnb3J5LFxuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChwbGF0Zm9ybSA9PT0gQ0ZEX1BMQVRGT1JNUy5EWFRSQURFKSB7XG4gICAgICAgICAgICBpZiAoY2F0ZWdvcnkgPT09ICdyZWFsJykge1xuICAgICAgICAgICAgICAgIHRoaXMucmVhbENGRFNpZ251cChzZXRfcGFzc3dvcmQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlbW9DRkRTaWdudXAoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChwbGF0Zm9ybSA9PT0gQ0ZEX1BMQVRGT1JNUy5DVFJBREVSKSB7XG4gICAgICAgICAgICBzdGFydFBlcmZvcm1hbmNlRXZlbnRUaW1lcignY3JlYXRlX2N0cmFkZXJfYWNjb3VudF90aW1lJyk7XG4gICAgICAgICAgICB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LnNldElzTGFuZGluZ0NvbXBhbnlMb2FkZWQoZmFsc2UpO1xuXG4gICAgICAgICAgICB0aGlzLnNldEp1cmlzZGljdGlvblNlbGVjdGVkU2hvcnRjb2RlKCdzdmcnKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFjY291bnRfdHlwZS5jYXRlZ29yeSA9PT0gJ2RlbW8nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJc0FjY291bnRCZWluZ0NyZWF0ZWQodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBhY2NvdW50X2NyZWF0aW9uX3ZhbHVlcyA9IHtcbiAgICAgICAgICAgICAgICBwbGF0Zm9ybSxcbiAgICAgICAgICAgICAgICBhY2NvdW50X3R5cGU6IHRoaXMuYWNjb3VudF90eXBlLmNhdGVnb3J5LFxuICAgICAgICAgICAgICAgIG1hcmtldF90eXBlOiB0aGlzLmFjY291bnRfdHlwZS50eXBlLFxuICAgICAgICAgICAgICAgIGNvbXBhbnk6IHRoaXMuanVyaXNkaWN0aW9uX3NlbGVjdGVkX3Nob3J0Y29kZSxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5vcGVuQ0ZEQWNjb3VudChhY2NvdW50X2NyZWF0aW9uX3ZhbHVlcyk7XG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRFcnJvcihmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBhY2NvdW50X2xpc3QgPSB7XG4gICAgICAgICAgICAgICAgICAgIGVjaG9fcmVxOiByZXNwb25zZS5lY2hvX3JlcSxcbiAgICAgICAgICAgICAgICAgICAgdHJhZGluZ19wbGF0Zm9ybV9hY2NvdW50czogW1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5yb290X3N0b3JlLmNsaWVudC5jdHJhZGVyX2FjY291bnRzX2xpc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZS50cmFkaW5nX3BsYXRmb3JtX25ld19hY2NvdW50LFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLmNsaWVudC5yZXNwb25zZVRyYWRpbmdQbGF0Zm9ybUFjY291bnRzTGlzdChhY2NvdW50X2xpc3QpO1xuICAgICAgICAgICAgICAgIFdTLnRyYW5zZmVyQmV0d2VlbkFjY291bnRzKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdHJhZGluZ19wbGF0Zm9ybV9hdmFpbGFibGVfYWNjb3VudHNfbGlzdF9yZXNwb25zZSA9IGF3YWl0IFdTLnRyYWRpbmdQbGF0Zm9ybUF2YWlsYWJsZUFjY291bnRzKFxuICAgICAgICAgICAgICAgICAgICBDRkRfUExBVEZPUk1TLkNUUkFERVJcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMucm9vdF9zdG9yZS5jbGllbnQucmVzcG9uc2VDVHJhZGVyVHJhZGluZ1BsYXRmb3JtQXZhaWxhYmxlQWNjb3VudHMoXG4gICAgICAgICAgICAgICAgICAgIHRyYWRpbmdfcGxhdGZvcm1fYXZhaWxhYmxlX2FjY291bnRzX2xpc3RfcmVzcG9uc2VcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q0ZEU3VjY2Vzc0RpYWxvZyh0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldElzQWNjb3VudEJlaW5nQ3JlYXRlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgV1MudHJhZGluZ1BsYXRmb3JtQWNjb3VudHNMaXN0KENGRF9QTEFURk9STVMuQ1RSQURFUik7XG4gICAgICAgICAgICAgICAgc2V0UGVyZm9ybWFuY2VWYWx1ZSgnY3JlYXRlX2N0cmFkZXJfYWNjb3VudF90aW1lJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RXJyb3IodHJ1ZSwgcmVzcG9uc2UuZXJyb3IpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0SXNBY2NvdW50QmVpbmdDcmVhdGVkKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucm9vdF9zdG9yZS5jbGllbnQuc2V0SXNMYW5kaW5nQ29tcGFueUxvYWRlZCh0cnVlKTtcbiAgICAgICAgfSBlbHNlIGlmIChwbGF0Zm9ybSA9PT0gQ0ZEX1BMQVRGT1JNUy5NVDUpIHtcbiAgICAgICAgICAgIGlmIChjYXRlZ29yeSA9PT0gJ3JlYWwnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVKdXJpc2RpY3Rpb25Nb2RhbCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb290X3N0b3JlLnRyYWRlcnNfaHViLnNob3dfZXVfcmVsYXRlZF9jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0SnVyaXNkaWN0aW9uU2VsZWN0ZWRTaG9ydGNvZGUoSnVyaXNkaWN0aW9uLk1BTFRBX0lOVkVTVCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHRoaXMuc2V0SnVyaXNkaWN0aW9uU2VsZWN0ZWRTaG9ydGNvZGUoSnVyaXNkaWN0aW9uLlNWRyk7XG4gICAgICAgICAgICAgICAgdGhpcy5kZW1vQ0ZEU2lnbnVwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZW1vQ0ZEU2lnbnVwKCkge1xuICAgICAgICB0aGlzLmVuYWJsZUNGRFBhc3N3b3JkTW9kYWwoKTtcbiAgICB9XG5cbiAgICBkaXNhYmxlQ0ZEUGFzc3dvcmRNb2RhbCgpIHtcbiAgICAgICAgdGhpcy5pc19jZmRfcGFzc3dvcmRfbW9kYWxfZW5hYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGVuYWJsZUNGRFBhc3N3b3JkTW9kYWwoKSB7XG4gICAgICAgIHRoaXMuaXNfY2ZkX3Bhc3N3b3JkX21vZGFsX2VuYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHNldFNlbnRFbWFpbE1vZGFsU3RhdHVzKHN0YXR1cykge1xuICAgICAgICB0aGlzLmlzX3NlbnRfZW1haWxfbW9kYWxfZW5hYmxlZCA9IHN0YXR1cztcbiAgICB9XG5cbiAgICBnZXROYW1lKGFjY291bnRfdHlwZSA9IHRoaXMuYWNjb3VudF90eXBlKSB7XG4gICAgICAgIGNvbnN0IHsgZmlyc3RfbmFtZSB9ID0gdGhpcy5yb290X3N0b3JlLmNsaWVudC5hY2NvdW50X3NldHRpbmdzICYmIHRoaXMucm9vdF9zdG9yZS5jbGllbnQuYWNjb3VudF9zZXR0aW5ncztcbiAgICAgICAgY29uc3QgdGl0bGUgPSB0aGlzLm10NV9jb21wYW5pZXNbYWNjb3VudF90eXBlPy5jYXRlZ29yeV1bYWNjb3VudF90eXBlPy50eXBlXS50aXRsZTtcblxuICAgICAgICAvLyBGaXJzdCBuYW1lIGlzIG5vdCBzZXQgd2hlbiB1c2VyIGhhcyBubyByZWFsIGFjY291bnRcbiAgICAgICAgcmV0dXJuIGZpcnN0X25hbWUgPyBbZmlyc3RfbmFtZSwgdGl0bGVdLmpvaW4oJyAnKSA6IHRpdGxlO1xuICAgIH1cblxuICAgIGFzeW5jIG1pZ3JhdGVNVDVBY2NvdW50cyh2YWx1ZXMsIGFjdGlvbnMpIHtcbiAgICAgICAgYWN0aW9ucz8uc2V0U3VibWl0dGluZyh0cnVlKTtcbiAgICAgICAgY29uc3QgYWNjb3VudF90b19taWdyYXRlID0gdGhpcy5yb290X3N0b3JlLmNsaWVudC5tdDVfbG9naW5fbGlzdC5maWx0ZXIoXG4gICAgICAgICAgICBhY2MgPT4gYWNjLmxhbmRpbmdfY29tcGFueV9zaG9ydCA9PT0gSnVyaXNkaWN0aW9uLlNWRyAmJiAhIWFjYy5lbGlnaWJsZV90b19taWdyYXRlXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gYWNjb3VudF90b19taWdyYXRlLm1hcChhY2NvdW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgZWxpZ2libGVfdG9fbWlncmF0ZSB9ID0gYWNjb3VudDtcbiAgICAgICAgICAgIGNvbnN0IFt0eXBlLCBzaG9ydGNvZGVdID0gT2JqZWN0LmVudHJpZXMoZWxpZ2libGVfdG9fbWlncmF0ZSlbMF07XG4gICAgICAgICAgICBjb25zdCBhY2NvdW50X3R5cGUgPSB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdyZWFsJyxcbiAgICAgICAgICAgICAgICB0eXBlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuc2V0TWlncmF0ZWRNVDVBY2NvdW50cyhbXG4gICAgICAgICAgICAgICAgLi4udGhpcy5taWdyYXRlZF9tdDVfYWNjb3VudHMsXG4gICAgICAgICAgICAgICAgeyBsb2dpbl9pZDogYWNjb3VudC5sb2dpbiwgdG9fYWNjb3VudDogeyAuLi4oZWxpZ2libGVfdG9fbWlncmF0ZSA/PyB7fSkgfSB9LFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0TWlncmF0ZUFjY291bnQodmFsdWVzLCBzaG9ydGNvZGUsIGFjY291bnRfdHlwZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJvb3Rfc3RvcmUudWkuc2V0TVQ1TWlncmF0aW9uTW9kYWxFbmFibGVkKHRydWUpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICAgICAgICAgICAgY29uc3QgaGFzX2Vycm9yID0gcmVzdWx0cy5maW5kKHJlc3VsdCA9PiByZXN1bHQuZXJyb3IpO1xuICAgICAgICAgICAgY29uc3QgZXJyb3JfY29kZSA9IGhhc19lcnJvcj8uZXJyb3I/LmNvZGU7XG4gICAgICAgICAgICBpZiAodGhpcy5pc19tdDVfcGFzc3dvcmRfY2hhbmdlZF9tb2RhbF92aXNpYmxlKSB0aGlzLnNldElzTXQ1UGFzc3dvcmRDaGFuZ2VkTW9kYWxWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgIGlmICghaGFzX2Vycm9yKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9ucz8uc2V0U3RhdHVzKHsgZXJyb3JfbWVzc2FnZTogJycgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRFcnJvcihmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDRkRTdWNjZXNzRGlhbG9nKHRydWUpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZ2V0QWNjb3VudFN0YXR1cyhDRkRfUExBVEZPUk1TLk1UNSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBtdDVfbG9naW5fbGlzdF9yZXNwb25zZSA9IGF3YWl0IFdTLmF1dGhvcml6ZWQubXQ1TG9naW5MaXN0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLmNsaWVudC5yZXNwb25zZU10NUxvZ2luTGlzdChtdDVfbG9naW5fbGlzdF9yZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgICBXUy50cmFuc2ZlckJldHdlZW5BY2NvdW50cygpO1xuICAgICAgICAgICAgICAgIHRoaXMucm9vdF9zdG9yZS5jbGllbnQucmVzcG9uc2VNVDVUcmFkaW5nU2VydmVycyhhd2FpdCBXUy50cmFkaW5nU2VydmVycyhDRkRfUExBVEZPUk1TLk1UNSkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChbJ0luY29ycmVjdE1UNVBhc3N3b3JkRm9ybWF0JywgJ0ludmFsaWRUcmFkaW5nUGxhdGZvcm1QYXNzd29yZEZvcm1hdCddLmluY2x1ZGVzKGVycm9yX2NvZGUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRFcnJvcih0cnVlLCBoYXNfZXJyb3I/LmVycm9yKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldE1pZ3JhdGVkTVQ1QWNjb3VudHMoW10pO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0TVQ1TWlncmF0aW9uRXJyb3IoJycpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldE1UNU1pZ3JhdGlvbkVycm9yKGhhc19lcnJvcj8uZXJyb3I/Lm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIGFjdGlvbnM/LnNldFN0YXR1cyh7IGVycm9yX21lc3NhZ2U6IGhhc19lcnJvcj8uZXJyb3I/Lm1lc3NhZ2UgfSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5nZXRBY2NvdW50U3RhdHVzKENGRF9QTEFURk9STVMuTVQ1KTtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyQ0ZERXJyb3IoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3Rfc3RvcmUudWkudG9nZ2xlTVQ1TWlncmF0aW9uTW9kYWwodHJ1ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRNaWdyYXRlZE1UNUFjY291bnRzKFtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIEF0IGxlYXN0IG9uZSByZXF1ZXN0IGhhcyBmYWlsZWRcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ09uZSBvciBtb3JlIE1UNSBtaWdyYXRpb24gcmVxdWVzdHMgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgICAgICAgIGFjdGlvbnM/LnNldFN0YXR1cyh7IGVycm9yX21lc3NhZ2U6IGVycm9yPy5tZXNzYWdlIH0pO1xuICAgICAgICAgICAgdGhpcy5zZXRNVDVNaWdyYXRpb25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICB0aGlzLnNldE1pZ3JhdGVkTVQ1QWNjb3VudHMoW10pO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgYWN0aW9ucz8uc2V0U3VibWl0dGluZyhmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXF1ZXN0TWlncmF0ZUFjY291bnQodmFsdWVzLCBzaG9ydGNvZGUsIGFjY291bnRfdHlwZSkge1xuICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5nZXROYW1lKGFjY291bnRfdHlwZSk7XG4gICAgICAgIGNvbnN0IGxldmVyYWdlID0gdGhpcy5tdDVfY29tcGFuaWVzW2FjY291bnRfdHlwZS5jYXRlZ29yeV1bYWNjb3VudF90eXBlLnR5cGVdLmxldmVyYWdlO1xuICAgICAgICBjb25zdCB0eXBlX3JlcXVlc3QgPSBnZXRBY2NvdW50VHlwZUZpZWxkcyhhY2NvdW50X3R5cGUpO1xuICAgICAgICBjb25zdCB7IGFkZHJlc3NfbGluZV8xLCBhZGRyZXNzX2xpbmVfMiwgYWRkcmVzc19wb3N0Y29kZSwgYWRkcmVzc19jaXR5LCBhZGRyZXNzX3N0YXRlLCBjb3VudHJ5X2NvZGUsIHBob25lIH0gPVxuICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLmNsaWVudC5hY2NvdW50X3NldHRpbmdzO1xuXG4gICAgICAgIHJldHVybiBXUy5tdDVOZXdBY2NvdW50KHtcbiAgICAgICAgICAgIG1haW5QYXNzd29yZDogdmFsdWVzLnBhc3N3b3JkLFxuICAgICAgICAgICAgZW1haWw6IHRoaXMucm9vdF9zdG9yZS5jbGllbnQuZW1haWxfYWRkcmVzcyxcbiAgICAgICAgICAgIGxldmVyYWdlLFxuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGFkZHJlc3M6IGFkZHJlc3NfbGluZV8xIHx8IGFkZHJlc3NfbGluZV8yLFxuICAgICAgICAgICAgY2l0eTogYWRkcmVzc19jaXR5LFxuICAgICAgICAgICAgY291bnRyeTogY291bnRyeV9jb2RlLFxuICAgICAgICAgICAgcGhvbmUsXG4gICAgICAgICAgICBzdGF0ZTogYWRkcmVzc19zdGF0ZSxcbiAgICAgICAgICAgIHppcENvZGU6IGFkZHJlc3NfcG9zdGNvZGUsXG4gICAgICAgICAgICBtaWdyYXRlOiAxLFxuICAgICAgICAgICAgLi4uKHZhbHVlcy5zZXJ2ZXIgPyB7IHNlcnZlcjogdmFsdWVzLnNlcnZlciB9IDoge30pLFxuICAgICAgICAgICAgLi4uKHNob3J0Y29kZSA/IHsgY29tcGFueTogc2hvcnRjb2RlIH0gOiB7fSksXG4gICAgICAgICAgICAuLi4oc2hvcnRjb2RlICE9PSBKdXJpc2RpY3Rpb24uTEFCVUFOXG4gICAgICAgICAgICAgICAgPyB0eXBlX3JlcXVlc3RcbiAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50X3R5cGU6IEpVUklTRElDVElPTl9NQVJLRVRfVFlQRVMuRklOQU5DSUFMLFxuICAgICAgICAgICAgICAgICAgICAgIG10NV9hY2NvdW50X3R5cGU6ICdmaW5hbmNpYWxfc3RwJyxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvcGVuTVQ1QWNjb3VudCh2YWx1ZXMpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuZ2V0TmFtZSgpO1xuICAgICAgICBjb25zdCBsZXZlcmFnZSA9IHRoaXMubXQ1X2NvbXBhbmllc1t0aGlzLmFjY291bnRfdHlwZS5jYXRlZ29yeV1bdGhpcy5hY2NvdW50X3R5cGUudHlwZV0ubGV2ZXJhZ2U7XG4gICAgICAgIGNvbnN0IHR5cGVfcmVxdWVzdCA9IGdldEFjY291bnRUeXBlRmllbGRzKHRoaXMuYWNjb3VudF90eXBlKTtcbiAgICAgICAgY29uc3QgeyBhZGRyZXNzX2xpbmVfMSwgYWRkcmVzc19saW5lXzIsIGFkZHJlc3NfcG9zdGNvZGUsIGFkZHJlc3NfY2l0eSwgYWRkcmVzc19zdGF0ZSwgY291bnRyeV9jb2RlLCBwaG9uZSB9ID1cbiAgICAgICAgICAgIHRoaXMucm9vdF9zdG9yZS5jbGllbnQuYWNjb3VudF9zZXR0aW5ncztcblxuICAgICAgICByZXR1cm4gV1MubXQ1TmV3QWNjb3VudCh7XG4gICAgICAgICAgICBtYWluUGFzc3dvcmQ6IHZhbHVlcy5wYXNzd29yZCxcbiAgICAgICAgICAgIGVtYWlsOiB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmVtYWlsX2FkZHJlc3MsXG4gICAgICAgICAgICBsZXZlcmFnZSxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBhZGRyZXNzOiBhZGRyZXNzX2xpbmVfMSB8fCBhZGRyZXNzX2xpbmVfMixcbiAgICAgICAgICAgIGNpdHk6IGFkZHJlc3NfY2l0eSxcbiAgICAgICAgICAgIGNvdW50cnk6IGNvdW50cnlfY29kZSxcbiAgICAgICAgICAgIHBob25lLFxuICAgICAgICAgICAgc3RhdGU6IGFkZHJlc3Nfc3RhdGUsXG4gICAgICAgICAgICB6aXBDb2RlOiBhZGRyZXNzX3Bvc3Rjb2RlLFxuICAgICAgICAgICAgcHJvZHVjdDogdGhpcy5wcm9kdWN0LFxuICAgICAgICAgICAgLi4uKHZhbHVlcy5zZXJ2ZXIgPyB7IHNlcnZlcjogdmFsdWVzLnNlcnZlciB9IDoge30pLFxuICAgICAgICAgICAgLi4uKHRoaXMuanVyaXNkaWN0aW9uX3NlbGVjdGVkX3Nob3J0Y29kZSAmJiB0aGlzLmFjY291bnRfdHlwZS5jYXRlZ29yeSA9PT0gJ3JlYWwnXG4gICAgICAgICAgICAgICAgPyB7IGNvbXBhbnk6IHRoaXMuanVyaXNkaWN0aW9uX3NlbGVjdGVkX3Nob3J0Y29kZSB9XG4gICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgICAgICAuLi4odGhpcy5qdXJpc2RpY3Rpb25fc2VsZWN0ZWRfc2hvcnRjb2RlICE9PSBKdXJpc2RpY3Rpb24uTEFCVUFOXG4gICAgICAgICAgICAgICAgPyB0eXBlX3JlcXVlc3RcbiAgICAgICAgICAgICAgICA6IHtcbiAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50X3R5cGU6ICdmaW5hbmNpYWwnLFxuICAgICAgICAgICAgICAgICAgICAgIG10NV9hY2NvdW50X3R5cGU6ICdmaW5hbmNpYWxfc3RwJyxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvcGVuQ0ZEQWNjb3VudCh2YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIFdTLnRyYWRpbmdQbGF0Zm9ybU5ld0FjY291bnQoe1xuICAgICAgICAgICAgcGFzc3dvcmQ6IENGRF9QTEFURk9STVMuRFhUUkFERSA/IHZhbHVlcy5wYXNzd29yZCA6ICcnLFxuICAgICAgICAgICAgcGxhdGZvcm06IHZhbHVlcy5wbGF0Zm9ybSxcbiAgICAgICAgICAgIGFjY291bnRfdHlwZTogdGhpcy5hY2NvdW50X3R5cGUuY2F0ZWdvcnksXG4gICAgICAgICAgICBtYXJrZXRfdHlwZTpcbiAgICAgICAgICAgICAgICB0aGlzLmFjY291bnRfdHlwZS50eXBlID09PSAnZHh0cmFkZScgfHwgdGhpcy5hY2NvdW50X3R5cGUudHlwZSA9PT0gJ2NUcmFkZXInXG4gICAgICAgICAgICAgICAgICAgID8gJ2FsbCdcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmFjY291bnRfdHlwZS50eXBlLFxuICAgICAgICAgICAgY29tcGFueTogdmFsdWVzLmNvbXBhbnksXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGJlZ2luUmVhbFNpZ251cEZvck10NSgpIHtcbiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgncG9zdF9yZWFsX2FjY291bnRfc2lnbnVwJywgSlNPTi5zdHJpbmdpZnkodGhpcy5hY2NvdW50X3R5cGUpKTtcbiAgICAgICAgdGhpcy5yb290X3N0b3JlLnVpLm9wZW5SZWFsQWNjb3VudFNpZ251cCgnc3ZnJyk7XG4gICAgfVxuXG4gICAgcmVhbENGRFNpZ251cChzZXRfcGFzc3dvcmQpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLmFjY291bnRfdHlwZS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdmaW5hbmNpYWwnOlxuICAgICAgICAgICAgICAgIHRoaXMuZW5hYmxlQ0ZEUGFzc3dvcmRNb2RhbCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZmluYW5jaWFsX3N0cCc6XG4gICAgICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLmNsaWVudC5mZXRjaFJlc2lkZW5jZUxpc3QoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmZldGNoU3RhdGVzTGlzdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMucm9vdF9zdG9yZS5jbGllbnQuZmV0Y2hBY2NvdW50U2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICBpZiAoc2V0X3Bhc3N3b3JkKSB0aGlzLmVuYWJsZUNGRFBhc3N3b3JkTW9kYWwoKTtcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMuZW5hYmxlTXQ1RmluYW5jaWFsU3RwTW9kYWwoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3N5bnRoZXRpYyc6XG4gICAgICAgICAgICBjYXNlICdkeHRyYWRlJzpcbiAgICAgICAgICAgIGNhc2UgJ2FsbCc6XG4gICAgICAgICAgICAgICAgdGhpcy5lbmFibGVDRkRQYXNzd29yZE1vZGFsKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGRldGVybWluZSBtdDUgYWNjb3VudCBzaWdudXAuJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmFibGVNdDVGaW5hbmNpYWxTdHBNb2RhbCgpIHtcbiAgICAgICAgdGhpcy5pc19tdDVfZmluYW5jaWFsX3N0cF9tb2RhbF9vcGVuID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBzZXRBY2NvdW50VHlwZShhY2NvdW50X3R5cGUpIHtcbiAgICAgICAgdGhpcy5hY2NvdW50X3R5cGUgPSBhY2NvdW50X3R5cGU7XG4gICAgfVxuXG4gICAgc2V0UHJvZHVjdChwcm9kdWN0KSB7XG4gICAgICAgIHRoaXMucHJvZHVjdCA9IHByb2R1Y3Q7XG4gICAgfVxuXG4gICAgc2V0Q3VycmVudEFjY291bnQoZGF0YSwgbWV0YSkge1xuICAgICAgICB0aGlzLmN1cnJlbnRfYWNjb3VudCA9IHtcbiAgICAgICAgICAgIC4uLm1ldGEsXG4gICAgICAgICAgICAuLi5kYXRhLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHNldElzTXQ1UGFzc3dvcmRJbnZhbGlkRm9ybWF0TW9kYWxWaXNpYmxlKHZpc2libGUpIHtcbiAgICAgICAgdGhpcy5pc19tdDVfcGFzc3dvcmRfaW52YWxpZF9mb3JtYXRfbW9kYWxfdmlzaWJsZSA9IHZpc2libGU7XG4gICAgfVxuXG4gICAgc2V0SXNNdDVQYXNzd29yZENoYW5nZWRNb2RhbFZpc2libGUodmlzaWJsZSkge1xuICAgICAgICB0aGlzLmlzX210NV9wYXNzd29yZF9jaGFuZ2VkX21vZGFsX3Zpc2libGUgPSB2aXNpYmxlO1xuICAgIH1cblxuICAgIHNldE1UNVRyYWRlQWNjb3VudChtdDVfdHJhZGVfYWNjb3VudCkge1xuICAgICAgICB0aGlzLm10NV90cmFkZV9hY2NvdW50ID0gbXQ1X3RyYWRlX2FjY291bnQ7XG4gICAgfVxuXG4gICAgc2V0RXJyb3Ioc3RhdGUsIG9iaikge1xuICAgICAgICB0aGlzLmhhc19jZmRfZXJyb3IgPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5lcnJvcl9tZXNzYWdlID0gb2JqID8gb2JqLm1lc3NhZ2UgOiAnJztcbiAgICAgICAgdGhpcy5lcnJvcl90eXBlID0gb2JqPy5jb2RlID8/IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBzZXRDRkROZXdBY2NvdW50KGNmZF9uZXdfYWNjb3VudCkge1xuICAgICAgICB0aGlzLm5ld19hY2NvdW50X3Jlc3BvbnNlID0gY2ZkX25ld19hY2NvdW50O1xuICAgIH1cblxuICAgIHNldENGRFN1Y2Nlc3NEaWFsb2codmFsdWUpIHtcbiAgICAgICAgdGhpcy5pc19jZmRfc3VjY2Vzc19kaWFsb2dfZW5hYmxlZCA9ICEhdmFsdWU7XG4gICAgfVxuXG4gICAgc2V0TVQ1TWlncmF0aW9uRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5tdDVfbWlncmF0aW9uX2Vycm9yID0gZXJyb3I7XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0QWNjb3VudFN0YXR1cyhwbGF0Zm9ybSkge1xuICAgICAgICBjb25zdCBzaG91bGRfbG9hZF9hY2NvdW50X3N0YXR1cyA9XG4gICAgICAgICAgICAocGxhdGZvcm0gPT09IENGRF9QTEFURk9STVMuTVQ1ICYmIHRoaXMucm9vdF9zdG9yZS5jbGllbnQuaXNfbXQ1X3Bhc3N3b3JkX25vdF9zZXQpIHx8XG4gICAgICAgICAgICAocGxhdGZvcm0gPT09IENGRF9QTEFURk9STVMuRFhUUkFERSAmJiB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmlzX2R4dHJhZGVfcGFzc3dvcmRfbm90X3NldCk7XG5cbiAgICAgICAgaWYgKHNob3VsZF9sb2FkX2FjY291bnRfc3RhdHVzKSB7XG4gICAgICAgICAgICBhd2FpdCBXUy5nZXRBY2NvdW50U3RhdHVzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBjcmVhdE1UNVBhc3N3b3JkKHZhbHVlcywgYWN0aW9ucykge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFdTLnRyYWRpbmdQbGF0Zm9ybVBhc3N3b3JkQ2hhbmdlKHtcbiAgICAgICAgICAgIG5ld19wYXNzd29yZDogdmFsdWVzLnBhc3N3b3JkLFxuICAgICAgICAgICAgcGxhdGZvcm06IENGRF9QTEFURk9STVMuTVQ1LFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLnNldEVycm9yKHRydWUsIHJlc3BvbnNlLmVycm9yKTtcbiAgICAgICAgICAgIGFjdGlvbnMucmVzZXRGb3JtKHt9KTtcbiAgICAgICAgICAgIGFjdGlvbnMuc2V0U3VibWl0dGluZyhmYWxzZSk7XG4gICAgICAgICAgICBhY3Rpb25zLnNldFN0YXR1cyh7IHN1Y2Nlc3M6IGZhbHNlIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGFzeW5jIHN1Ym1pdE10NVBhc3N3b3JkKHZhbHVlcywgYWN0aW9ucykge1xuICAgICAgICBzdGFydFBlcmZvcm1hbmNlRXZlbnRUaW1lcignY3JlYXRlX210NV9hY2NvdW50X3RpbWUnKTtcblxuICAgICAgICBpZiAodGhpcy5yb290X3N0b3JlLmNsaWVudC5pc19tdDVfcGFzc3dvcmRfbm90X3NldCkge1xuICAgICAgICAgICAgY29uc3QgaGFzX2Vycm9yID0gYXdhaXQgdGhpcy5jcmVhdE1UNVBhc3N3b3JkKHZhbHVlcywgYWN0aW9ucyk7XG4gICAgICAgICAgICBpZiAoaGFzX2Vycm9yKSByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc2V0Rm9ybUVycm9ycygpO1xuICAgICAgICBpZiAodGhpcy5yb290X3N0b3JlLnVpLmlzX210NV9taWdyYXRpb25fbW9kYWxfZW5hYmxlZCB8fCB0aGlzLmlzX2Zyb21fbXQ1X21pZ3JhdGlvbl9tb2RhbCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5taWdyYXRlTVQ1QWNjb3VudHModmFsdWVzLCBhY3Rpb25zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5vcGVuTVQ1QWNjb3VudCh2YWx1ZXMpO1xuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgICAgIGFjdGlvbnM/LnNldFN0YXR1cyh7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgYWN0aW9ucz8uc2V0U3VibWl0dGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRFcnJvcihmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJc010NVBhc3N3b3JkQ2hhbmdlZE1vZGFsVmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDRkRTdWNjZXNzRGlhbG9nKHRydWUpO1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZ2V0QWNjb3VudFN0YXR1cyhDRkRfUExBVEZPUk1TLk1UNSk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBtdDVfbG9naW5fbGlzdF9yZXNwb25zZSA9IGF3YWl0IFdTLmF1dGhvcml6ZWQubXQ1TG9naW5MaXN0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLmNsaWVudC5yZXNwb25zZU10NUxvZ2luTGlzdChtdDVfbG9naW5fbGlzdF9yZXNwb25zZSk7XG5cbiAgICAgICAgICAgICAgICBXUy50cmFuc2ZlckJldHdlZW5BY2NvdW50cygpOyAvLyBnZXQgdGhlIGxpc3Qgb2YgdXBkYXRlZCBhY2NvdW50cyBmb3IgdHJhbnNmZXIgaW4gY2FzaGllclxuICAgICAgICAgICAgICAgIHRoaXMucm9vdF9zdG9yZS5jbGllbnQucmVzcG9uc2VNVDVUcmFkaW5nU2VydmVycyhhd2FpdCBXUy50cmFkaW5nU2VydmVycyhDRkRfUExBVEZPUk1TLk1UNSkpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q0ZETmV3QWNjb3VudChyZXNwb25zZS5tdDVfbmV3X2FjY291bnQpO1xuICAgICAgICAgICAgICAgIHNldFBlcmZvcm1hbmNlVmFsdWUoJ2NyZWF0ZV9tdDVfYWNjb3VudF90aW1lJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZ2V0QWNjb3VudFN0YXR1cyhDRkRfUExBVEZPUk1TLk1UNSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRFcnJvcih0cnVlLCByZXNwb25zZS5lcnJvcik7XG4gICAgICAgICAgICAgICAgYWN0aW9ucz8ucmVzZXRGb3JtKHt9KTtcbiAgICAgICAgICAgICAgICBhY3Rpb25zPy5zZXRTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBhY3Rpb25zPy5zZXRTdGF0dXMoeyBzdWNjZXNzOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGNyZWF0ZUNGRFBhc3N3b3JkKHZhbHVlcywgYWN0aW9ucykge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFdTLnRyYWRpbmdQbGF0Zm9ybVBhc3N3b3JkQ2hhbmdlKHtcbiAgICAgICAgICAgIG5ld19wYXNzd29yZDogdmFsdWVzLnBhc3N3b3JkLFxuICAgICAgICAgICAgcGxhdGZvcm06IENGRF9QTEFURk9STVMuRFhUUkFERSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5lcnJvcikge1xuICAgICAgICAgICAgdGhpcy5zZXRFcnJvcih0cnVlLCByZXNwb25zZS5lcnJvcik7XG4gICAgICAgICAgICBhY3Rpb25zLnJlc2V0Rm9ybSh7fSk7XG4gICAgICAgICAgICBhY3Rpb25zLnNldFN1Ym1pdHRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgYWN0aW9ucy5zZXRTdGF0dXMoeyBzdWNjZXNzOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGFzeW5jIHN1Ym1pdENGRFBhc3N3b3JkKHZhbHVlcywgYWN0aW9ucykge1xuICAgICAgICBzdGFydFBlcmZvcm1hbmNlRXZlbnRUaW1lcignY3JlYXRlX2R4dHJhZGVfYWNjb3VudF90aW1lJyk7XG5cbiAgICAgICAgaWYgKENGRF9QTEFURk9STVMuRFhUUkFERSAmJiB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmlzX2R4dHJhZGVfcGFzc3dvcmRfbm90X3NldCkge1xuICAgICAgICAgICAgY29uc3QgaGFzX2Vycm9yID0gYXdhaXQgdGhpcy5jcmVhdGVDRkRQYXNzd29yZCh2YWx1ZXMsIGFjdGlvbnMpO1xuICAgICAgICAgICAgaWYgKGhhc19lcnJvcikgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLm9wZW5DRkRBY2NvdW50KHZhbHVlcyk7XG5cbiAgICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLmdldEFjY291bnRTdGF0dXMoQ0ZEX1BMQVRGT1JNUy5EWFRSQURFKTtcbiAgICAgICAgICAgIHRoaXMuc2V0RXJyb3IodHJ1ZSwgcmVzcG9uc2UuZXJyb3IpO1xuICAgICAgICAgICAgYWN0aW9ucy5yZXNldEZvcm0oe30pO1xuICAgICAgICAgICAgYWN0aW9ucy5zZXRTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICAgICAgICAgIGFjdGlvbnMuc2V0U3RhdHVzKHsgc3VjY2VzczogZmFsc2UgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBhY3Rpb25zLnNldFN0YXR1cyh7IHN1Y2Nlc3M6IHRydWUgfSk7XG4gICAgICAgIGFjdGlvbnMuc2V0U3VibWl0dGluZyhmYWxzZSk7XG4gICAgICAgIHRoaXMuc2V0RXJyb3IoZmFsc2UpO1xuICAgICAgICB0aGlzLnNldENGRFN1Y2Nlc3NEaWFsb2codHJ1ZSk7XG4gICAgICAgIGF3YWl0IHRoaXMuZ2V0QWNjb3VudFN0YXR1cyhDRkRfUExBVEZPUk1TLkRYVFJBREUpO1xuXG4gICAgICAgIGNvbnN0IHRyYWRpbmdfcGxhdGZvcm1fYWNjb3VudHNfbGlzdF9yZXNwb25zZSA9IGF3YWl0IFdTLnRyYWRpbmdQbGF0Zm9ybUFjY291bnRzTGlzdCh2YWx1ZXMucGxhdGZvcm0pO1xuICAgICAgICB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LnJlc3BvbnNlVHJhZGluZ1BsYXRmb3JtQWNjb3VudHNMaXN0KHRyYWRpbmdfcGxhdGZvcm1fYWNjb3VudHNfbGlzdF9yZXNwb25zZSk7XG5cbiAgICAgICAgV1MudHJhbnNmZXJCZXR3ZWVuQWNjb3VudHMoKTsgLy8gZ2V0IHRoZSBsaXN0IG9mIHVwZGF0ZWQgYWNjb3VudHMgZm9yIHRyYW5zZmVyIGluIGNhc2hpZXJcbiAgICAgICAgdGhpcy5zZXRDRkROZXdBY2NvdW50KHJlc3BvbnNlLnRyYWRpbmdfcGxhdGZvcm1fbmV3X2FjY291bnQpO1xuICAgICAgICBzZXRQZXJmb3JtYW5jZVZhbHVlKCdjcmVhdGVfZHh0cmFkZV9hY2NvdW50X3RpbWUnKTtcbiAgICB9XG5cbiAgICB0b2dnbGVDb21wYXJlQWNjb3VudHNNb2RhbCgpIHtcbiAgICAgICAgdGhpcy5pc19jb21wYXJlX2FjY291bnRzX3Zpc2libGUgPSAhdGhpcy5pc19jb21wYXJlX2FjY291bnRzX3Zpc2libGU7XG4gICAgfVxuXG4gICAgdG9nZ2xlQ1RyYWRlclRyYW5zZmVyTW9kYWwoKSB7XG4gICAgICAgIHRoaXMuaXNfY3RyYWRlcl90cmFuc2Zlcl9tb2RhbF92aXNpYmxlID0gIXRoaXMuaXNfY3RyYWRlcl90cmFuc2Zlcl9tb2RhbF92aXNpYmxlO1xuICAgIH1cblxuICAgIGdldFJlYWxTeW50aGV0aWNBY2NvdW50c0V4aXN0aW5nRGF0YShyZWFsX3N5bnRoZXRpY19hY2NvdW50c19leGlzdGluZ19kYXRhKSB7XG4gICAgICAgIHRoaXMucmVhbF9zeW50aGV0aWNfYWNjb3VudHNfZXhpc3RpbmdfZGF0YSA9IHJlYWxfc3ludGhldGljX2FjY291bnRzX2V4aXN0aW5nX2RhdGE7XG4gICAgfVxuXG4gICAgZ2V0UmVhbEZpbmFuY2lhbEFjY291bnRzRXhpc3RpbmdEYXRhKHJlYWxfZmluYW5jaWFsX2FjY291bnRzX2V4aXN0aW5nX2RhdGEpIHtcbiAgICAgICAgdGhpcy5yZWFsX2ZpbmFuY2lhbF9hY2NvdW50c19leGlzdGluZ19kYXRhID0gcmVhbF9maW5hbmNpYWxfYWNjb3VudHNfZXhpc3RpbmdfZGF0YTtcbiAgICB9XG5cbiAgICBnZXRSZWFsU3dhcGZyZWVBY2NvdW50c0V4aXN0aW5nRGF0YShyZWFsX3N3YXBmcmVlX2FjY291bnRzX2V4aXN0aW5nX2RhdGEpIHtcbiAgICAgICAgdGhpcy5yZWFsX3N3YXBmcmVlX2FjY291bnRzX2V4aXN0aW5nX2RhdGEgPSByZWFsX3N3YXBmcmVlX2FjY291bnRzX2V4aXN0aW5nX2RhdGE7XG4gICAgfVxuXG4gICAgdG9nZ2xlSnVyaXNkaWN0aW9uTW9kYWwoKSB7XG4gICAgICAgIHRoaXMuaXNfanVyaXNkaWN0aW9uX21vZGFsX3Zpc2libGUgPSAhdGhpcy5pc19qdXJpc2RpY3Rpb25fbW9kYWxfdmlzaWJsZTtcbiAgICB9XG5cbiAgICB0b2dnbGVNVDVUcmFkZU1vZGFsKCkge1xuICAgICAgICB0aGlzLmlzX210NV90cmFkZV9tb2RhbF92aXNpYmxlID0gIXRoaXMuaXNfbXQ1X3RyYWRlX21vZGFsX3Zpc2libGU7XG4gICAgfVxuXG4gICAgZGlzYWJsZU10NUZpbmFuY2lhbFN0cE1vZGFsKCkge1xuICAgICAgICB0aGlzLmlzX210NV9maW5hbmNpYWxfc3RwX21vZGFsX29wZW4gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBhc3luYyB0b3BVcFZpcnR1YWwocGxhdGZvcm0pIHtcbiAgICAgICAgdGhpcy5yb290X3N0b3JlLnVpLnNldFRvcFVwSW5Qcm9ncmVzcyh0cnVlKTtcbiAgICAgICAgbGV0IHJlc3BvbnNlO1xuXG4gICAgICAgIHN3aXRjaCAocGxhdGZvcm0pIHtcbiAgICAgICAgICAgIGNhc2UgQ0ZEX1BMQVRGT1JNUy5EWFRSQURFOiB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBXUy5hdXRob3JpemVkLnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICB0cmFkaW5nX3BsYXRmb3JtX2RlcG9zaXQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtLFxuICAgICAgICAgICAgICAgICAgICB0b19hY2NvdW50OiB0aGlzLmN1cnJlbnRfYWNjb3VudC5hY2NvdW50X2lkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBDRkRfUExBVEZPUk1TLkNUUkFERVI6IHtcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IFdTLmF1dGhvcml6ZWQuc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIHRyYWRpbmdfcGxhdGZvcm1fZGVwb3NpdDogMSxcbiAgICAgICAgICAgICAgICAgICAgcGxhdGZvcm06IENGRF9QTEFURk9STVMuQ1RSQURFUixcbiAgICAgICAgICAgICAgICAgICAgdG9fYWNjb3VudDogdGhpcy5jdXJyZW50X2FjY291bnQuYWNjb3VudF9pZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgQ0ZEX1BMQVRGT1JNUy5NVDU6IHtcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IFdTLmF1dGhvcml6ZWQubXQ1RGVwb3NpdCh7XG4gICAgICAgICAgICAgICAgICAgIHRvX210NTogdGhpcy5jdXJyZW50X2FjY291bnQubG9naW4sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuZXJyb3IgPSAnSW52YWxpZCBwbGF0Zm9ybSc7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgICAgICBsZXQgbmV3X2JhbGFuY2U7XG4gICAgICAgICAgICBzd2l0Y2ggKHBsYXRmb3JtKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBDRkRfUExBVEZPUk1TLkRYVFJBREU6IHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgV1MuYXV0aG9yaXplZFxuICAgICAgICAgICAgICAgICAgICAgICAgLnRyYWRpbmdQbGF0Zm9ybUFjY291bnRzTGlzdChDRkRfUExBVEZPUk1TLkRYVFJBREUpXG4gICAgICAgICAgICAgICAgICAgICAgICAudGhlbih0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LnJlc3BvbnNlVHJhZGluZ1BsYXRmb3JtQWNjb3VudHNMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgbmV3X2JhbGFuY2UgPSB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmR4dHJhZGVfYWNjb3VudHNfbGlzdC5maW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSA9PiBpdGVtLmFjY291bnRfaWQgPT09IHRoaXMuY3VycmVudF9hY2NvdW50LmFjY291bnRfaWRcbiAgICAgICAgICAgICAgICAgICAgKT8uYmFsYW5jZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgQ0ZEX1BMQVRGT1JNUy5DVFJBREVSOiB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IFdTLmF1dGhvcml6ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIC50cmFkaW5nUGxhdGZvcm1BY2NvdW50c0xpc3QoQ0ZEX1BMQVRGT1JNUy5DVFJBREVSKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4odGhpcy5yb290X3N0b3JlLmNsaWVudC5yZXNwb25zZVRyYWRpbmdQbGF0Zm9ybUFjY291bnRzTGlzdCk7XG4gICAgICAgICAgICAgICAgICAgIG5ld19iYWxhbmNlID0gdGhpcy5yb290X3N0b3JlLmNsaWVudC5jdHJhZGVyX2FjY291bnRzX2xpc3QuZmluZChcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0gPT4gaXRlbS5hY2NvdW50X2lkID09PSB0aGlzLmN1cnJlbnRfYWNjb3VudC5hY2NvdW50X2lkXG4gICAgICAgICAgICAgICAgICAgICk/LmJhbGFuY2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIENGRF9QTEFURk9STVMuTVQ1OiB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IFdTLmF1dGhvcml6ZWQubXQ1TG9naW5MaXN0KCkudGhlbih0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LnJlc3BvbnNlTXQ1TG9naW5MaXN0KTtcblxuICAgICAgICAgICAgICAgICAgICBuZXdfYmFsYW5jZSA9IHRoaXMucm9vdF9zdG9yZS5jbGllbnQubXQ1X2xvZ2luX2xpc3QuZmluZChcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0gPT4gaXRlbS5sb2dpbiA9PT0gdGhpcy5jdXJyZW50X2FjY291bnQubG9naW5cbiAgICAgICAgICAgICAgICAgICAgKT8uYmFsYW5jZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcnVuSW5BY3Rpb24oKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEdldCBuZXcgY3VycmVudCBhY2NvdW50XG4gICAgICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLnVpLmlzX3RvcF91cF92aXJ0dWFsX29wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRfYWNjb3VudC5iYWxhbmNlID0gbmV3X2JhbGFuY2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJ1bkluQWN0aW9uKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLnVpLmlzX3RvcF91cF92aXJ0dWFsX3N1Y2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgMjUwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJvb3Rfc3RvcmUudWkuc2V0VG9wVXBJblByb2dyZXNzKGZhbHNlKTtcbiAgICB9XG5cbiAgICBzZW5kVmVyaWZ5RW1haWwoKSB7XG4gICAgICAgIHJldHVybiBXUy52ZXJpZnlFbWFpbCh0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmVtYWlsLCAndHJhZGluZ19wbGF0Zm9ybV9pbnZlc3Rvcl9wYXNzd29yZF9yZXNldCcpO1xuICAgIH1cblxuICAgIHNldER4dHJhZGVUb2tlbihyZXNwb25zZSwgc2VydmVyKSB7XG4gICAgICAgIGlmICghcmVzcG9uc2UuZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZHh0cmFkZSB9ID0gcmVzcG9uc2Uuc2VydmljZV90b2tlbjtcbiAgICAgICAgICAgIHRoaXMuZHh0cmFkZV90b2tlbnNbc2VydmVyXSA9IGR4dHJhZGUudG9rZW47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRDVHJhZGVyVG9rZW4ocmVzcG9uc2UsIHNlcnZlcikge1xuICAgICAgICBpZiAoIXJlc3BvbnNlLmVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCB7IGN0cmFkZXIgfSA9IHJlc3BvbnNlLnNlcnZpY2VfdG9rZW47XG4gICAgICAgICAgICB0aGlzLmN0cmFkZXJfdG9rZW5zW3NlcnZlcl0gPSBjdHJhZGVyLnRva2VuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbG9hZER4dHJhZGVUb2tlbnMoKSB7XG4gICAgICAgIFsnZGVtbycsICdyZWFsJ10uZm9yRWFjaChhY2NvdW50X3R5cGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgaGFzX2V4aXN0aW5nX2FjY291bnQgPSB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmR4dHJhZGVfYWNjb3VudHNfbGlzdC5zb21lKFxuICAgICAgICAgICAgICAgIGFjY291bnQgPT4gYWNjb3VudC5hY2NvdW50X3R5cGUgPT09IGFjY291bnRfdHlwZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5keHRyYWRlX3Rva2Vuc1thY2NvdW50X3R5cGVdICYmIGhhc19leGlzdGluZ19hY2NvdW50KSB7XG4gICAgICAgICAgICAgICAgV1MuZ2V0U2VydmljZVRva2VuKENGRF9QTEFURk9STVMuRFhUUkFERSwgYWNjb3VudF90eXBlKS50aGVuKHJlc3BvbnNlID0+XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RHh0cmFkZVRva2VuKHJlc3BvbnNlLCBhY2NvdW50X3R5cGUpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbG9hZENUcmFkZXJUb2tlbnModXJsLCBhY2NvdW50X3R5cGUpIHtcbiAgICAgICAgY29uc3QgaGFzX2V4aXN0aW5nX2FjY291bnQgPSB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LmN0cmFkZXJfYWNjb3VudHNfbGlzdC5zb21lKFxuICAgICAgICAgICAgYWNjb3VudCA9PiBhY2NvdW50LmFjY291bnRfdHlwZSA9PT0gYWNjb3VudF90eXBlXG4gICAgICAgICk7XG4gICAgICAgIGlmIChoYXNfZXhpc3RpbmdfYWNjb3VudCkge1xuICAgICAgICAgICAgV1MuZ2V0U2VydmljZVRva2VuKENGRF9QTEFURk9STVMuQ1RSQURFUiwgYWNjb3VudF90eXBlKVxuICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDVHJhZGVyVG9rZW4ocmVzcG9uc2UsIGFjY291bnRfdHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cub3BlbihgJHt1cmx9P3Rva2VuPSR7cmVzcG9uc2Uuc2VydmljZV90b2tlbi5jdHJhZGVyLnRva2VufWAsICdfYmxhbmsnKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB3aW5kb3cub3BlbihgJHt1cmx9YCwgJ19ibGFuaycpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBhc3luYyBjaGFuZ2VQYXNzd29yZCh7IGxvZ2luLCBvbGRfcGFzc3dvcmQsIG5ld19wYXNzd29yZCwgcGFzc3dvcmRfdHlwZSB9KSB7XG4gICAgICAgIGxldCByZXNwb25zZTtcblxuICAgICAgICBpZiAocGFzc3dvcmRfdHlwZSA9PT0gJ2ludmVzdG9yJykge1xuICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBXUy5hdXRob3JpemVkLnRyYWRpbmdQbGF0Zm9ybUludmVzdG9yUGFzc3dvcmRDaGFuZ2Uoe1xuICAgICAgICAgICAgICAgIGFjY291bnRfaWQ6IGxvZ2luLFxuICAgICAgICAgICAgICAgIG9sZF9wYXNzd29yZCxcbiAgICAgICAgICAgICAgICBuZXdfcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgcGxhdGZvcm06IENGRF9QTEFURk9STVMuTVQ1LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IFdTLmF1dGhvcml6ZWQudHJhZGluZ1BsYXRmb3JtUGFzc3dvcmRDaGFuZ2Uoe1xuICAgICAgICAgICAgICAgIGFjY291bnRfaWQ6IGxvZ2luLFxuICAgICAgICAgICAgICAgIG9sZF9wYXNzd29yZCxcbiAgICAgICAgICAgICAgICBuZXdfcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgcGxhdGZvcm06IENGRF9QTEFURk9STVMuTVQ1LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzcG9uc2U/LmVycm9yPy5tZXNzYWdlO1xuICAgIH1cblxuICAgIHNldEp1cmlzZGljdGlvblNlbGVjdGVkU2hvcnRjb2RlKHNob3J0Y29kZSkge1xuICAgICAgICB0aGlzLmp1cmlzZGljdGlvbl9zZWxlY3RlZF9zaG9ydGNvZGUgPSBzaG9ydGNvZGU7XG4gICAgfVxuXG4gICAgc2V0TWlncmF0ZWRNVDVBY2NvdW50cyhhY2NvdW50cykge1xuICAgICAgICB0aGlzLm1pZ3JhdGVkX210NV9hY2NvdW50cyA9IGFjY291bnRzO1xuICAgIH1cblxuICAgIHNldElzRnJvbU10NU1pZ3JhdGlvbk1vZGFsKGlzX2Zyb21fbXQ1X21pZ3JhdGlvbl9tb2RhbCkge1xuICAgICAgICB0aGlzLmlzX2Zyb21fbXQ1X21pZ3JhdGlvbl9tb2RhbCA9IGlzX2Zyb21fbXQ1X21pZ3JhdGlvbl9tb2RhbDtcbiAgICB9XG5cbiAgICBzZXRTZXJ2ZXJNYWludGVuYW5jZU1vZGFsKGlzX3NlcnZlcl9tYWludGVuYW5jZV9tb2RhbF92aXNpYmxlKSB7XG4gICAgICAgIHRoaXMuaXNfc2VydmVyX21haW50ZW5hbmNlX21vZGFsX3Zpc2libGUgPSBpc19zZXJ2ZXJfbWFpbnRlbmFuY2VfbW9kYWxfdmlzaWJsZTtcbiAgICB9XG5cbiAgICBzZXRBY2NvdW50VW5hdmFpbGFibGVNb2RhbChpc19hY2NvdW50X3VuYXZhaWxhYmxlX21vZGFsX3Zpc2libGUpIHtcbiAgICAgICAgdGhpcy5pc19hY2NvdW50X3VuYXZhaWxhYmxlX21vZGFsX3Zpc2libGUgPSBpc19hY2NvdW50X3VuYXZhaWxhYmxlX21vZGFsX3Zpc2libGU7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/Stores/Modules/CFD/cfd-store.js\n')},"./src/Stores/base-store.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval('/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   "default": () => (/* binding */ BaseStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ "mobx");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mobx__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ "@deriv/shared");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__);\nfunction _typeof(o) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o; }, _typeof(o); }\nfunction _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return e; }; var t, e = {}, r = Object.prototype, n = r.hasOwnProperty, o = Object.defineProperty || function (t, e, r) { t[e] = r.value; }, i = "function" == typeof Symbol ? Symbol : {}, a = i.iterator || "@@iterator", c = i.asyncIterator || "@@asyncIterator", u = i.toStringTag || "@@toStringTag"; function define(t, e, r) { return Object.defineProperty(t, e, { value: r, enumerable: !0, configurable: !0, writable: !0 }), t[e]; } try { define({}, ""); } catch (t) { define = function define(t, e, r) { return t[e] = r; }; } function wrap(t, e, r, n) { var i = e && e.prototype instanceof Generator ? e : Generator, a = Object.create(i.prototype), c = new Context(n || []); return o(a, "_invoke", { value: makeInvokeMethod(t, r, c) }), a; } function tryCatch(t, e, r) { try { return { type: "normal", arg: t.call(e, r) }; } catch (t) { return { type: "throw", arg: t }; } } e.wrap = wrap; var h = "suspendedStart", l = "suspendedYield", f = "executing", s = "completed", y = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var p = {}; define(p, a, function () { return this; }); var d = Object.getPrototypeOf, v = d && d(d(values([]))); v && v !== r && n.call(v, a) && (p = v); var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p); function defineIteratorMethods(t) { ["next", "throw", "return"].forEach(function (e) { define(t, e, function (t) { return this._invoke(e, t); }); }); } function AsyncIterator(t, e) { function invoke(r, o, i, a) { var c = tryCatch(t[r], t, o); if ("throw" !== c.type) { var u = c.arg, h = u.value; return h && "object" == _typeof(h) && n.call(h, "__await") ? e.resolve(h.__await).then(function (t) { invoke("next", t, i, a); }, function (t) { invoke("throw", t, i, a); }) : e.resolve(h).then(function (t) { u.value = t, i(u); }, function (t) { return invoke("throw", t, i, a); }); } a(c.arg); } var r; o(this, "_invoke", { value: function value(t, n) { function callInvokeWithMethodAndArg() { return new e(function (e, r) { invoke(t, n, e, r); }); } return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(e, r, n) { var o = h; return function (i, a) { if (o === f) throw Error("Generator is already running"); if (o === s) { if ("throw" === i) throw a; return { value: t, done: !0 }; } for (n.method = i, n.arg = a;;) { var c = n.delegate; if (c) { var u = maybeInvokeDelegate(c, n); if (u) { if (u === y) continue; return u; } } if ("next" === n.method) n.sent = n._sent = n.arg;else if ("throw" === n.method) { if (o === h) throw o = s, n.arg; n.dispatchException(n.arg); } else "return" === n.method && n.abrupt("return", n.arg); o = f; var p = tryCatch(e, r, n); if ("normal" === p.type) { if (o = n.done ? s : l, p.arg === y) continue; return { value: p.arg, done: n.done }; } "throw" === p.type && (o = s, n.method = "throw", n.arg = p.arg); } }; } function maybeInvokeDelegate(e, r) { var n = r.method, o = e.iterator[n]; if (o === t) return r.delegate = null, "throw" === n && e.iterator["return"] && (r.method = "return", r.arg = t, maybeInvokeDelegate(e, r), "throw" === r.method) || "return" !== n && (r.method = "throw", r.arg = new TypeError("The iterator does not provide a \'" + n + "\' method")), y; var i = tryCatch(o, e.iterator, r.arg); if ("throw" === i.type) return r.method = "throw", r.arg = i.arg, r.delegate = null, y; var a = i.arg; return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, "return" !== r.method && (r.method = "next", r.arg = t), r.delegate = null, y) : a : (r.method = "throw", r.arg = new TypeError("iterator result is not an object"), r.delegate = null, y); } function pushTryEntry(t) { var e = { tryLoc: t[0] }; 1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e); } function resetTryEntry(t) { var e = t.completion || {}; e.type = "normal", delete e.arg, t.completion = e; } function Context(t) { this.tryEntries = [{ tryLoc: "root" }], t.forEach(pushTryEntry, this), this.reset(!0); } function values(e) { if (e || "" === e) { var r = e[a]; if (r) return r.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var o = -1, i = function next() { for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next; return next.value = t, next.done = !0, next; }; return i.next = i; } } throw new TypeError(_typeof(e) + " is not iterable"); } return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), o(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, "GeneratorFunction"), e.isGeneratorFunction = function (t) { var e = "function" == typeof t && t.constructor; return !!e && (e === GeneratorFunction || "GeneratorFunction" === (e.displayName || e.name)); }, e.mark = function (t) { return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, "GeneratorFunction")), t.prototype = Object.create(g), t; }, e.awrap = function (t) { return { __await: t }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () { return this; }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) { void 0 === i && (i = Promise); var a = new AsyncIterator(wrap(t, r, n, o), i); return e.isGeneratorFunction(r) ? a : a.next().then(function (t) { return t.done ? t.value : a.next(); }); }, defineIteratorMethods(g), define(g, u, "Generator"), define(g, a, function () { return this; }), define(g, "toString", function () { return "[object Generator]"; }), e.keys = function (t) { var e = Object(t), r = []; for (var n in e) r.push(n); return r.reverse(), function next() { for (; r.length;) { var t = r.pop(); if (t in e) return next.value = t, next.done = !1, next; } return next.done = !0, next; }; }, e.values = values, Context.prototype = { constructor: Context, reset: function reset(e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = "next", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) "t" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t); }, stop: function stop() { this.done = !0; var t = this.tryEntries[0].completion; if ("throw" === t.type) throw t.arg; return this.rval; }, dispatchException: function dispatchException(e) { if (this.done) throw e; var r = this; function handle(n, o) { return a.type = "throw", a.arg = e, r.next = n, o && (r.method = "next", r.arg = t), !!o; } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return handle("end"); if (i.tryLoc <= this.prev) { var c = n.call(i, "catchLoc"), u = n.call(i, "finallyLoc"); if (c && u) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } else if (c) { if (this.prev < i.catchLoc) return handle(i.catchLoc, !0); } else { if (!u) throw Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return handle(i.finallyLoc); } } } }, abrupt: function abrupt(t, e) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break; } } i && ("break" === t || "continue" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = t, a.arg = e, i ? (this.method = "next", this.next = i.finallyLoc, y) : this.complete(a); }, complete: function complete(t, e) { if ("throw" === t.type) throw t.arg; return "break" === t.type || "continue" === t.type ? this.next = t.arg : "return" === t.type ? (this.rval = this.arg = t.arg, this.method = "return", this.next = "end") : "normal" === t.type && e && (this.next = e), y; }, finish: function finish(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y; } }, "catch": function _catch(t) { for (var e = this.tryEntries.length - 1; e >= 0; --e) { var r = this.tryEntries[e]; if (r.tryLoc === t) { var n = r.completion; if ("throw" === n.type) { var o = n.arg; resetTryEntry(r); } return o; } } throw Error("illegal catch attempt"); }, delegateYield: function delegateYield(e, r, n) { return this.delegate = { iterator: values(e), resultName: r, nextLoc: n }, "next" === this.method && (this.arg = t), y; } }, e; }\nfunction asyncGeneratorStep(n, t, e, r, o, a, c) { try { var i = n[a](c), u = i.value; } catch (n) { return void e(n); } i.done ? t(u) : Promise.resolve(u).then(r, o); }\nfunction _asyncToGenerator(n) { return function () { var t = this, e = arguments; return new Promise(function (r, o) { var a = n.apply(t, e); function _next(n) { asyncGeneratorStep(a, r, o, _next, _throw, "next", n); } function _throw(n) { asyncGeneratorStep(a, r, o, _next, _throw, "throw", n); } _next(void 0); }); }; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError("Cannot call a class as a function"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, "value" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, "prototype", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, "string"); return "symbol" == _typeof(i) ? i : i + ""; }\nfunction _toPrimitive(t, r) { if ("object" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || "default"); if ("object" != _typeof(i)) return i; throw new TypeError("@@toPrimitive must return a primitive value."); } return ("string" === r ? String : Number)(t); }\n\n\n\n/**\n * BaseStore class is the base class for all defined stores in the application. It handles some stuff such as:\n *  1. Creating snapshot object from the store.\n *  2. Saving the store\'s snapshot in local/session storage and keeping them in sync.\n */\nvar BaseStore = /*#__PURE__*/function () {\n  /**\n   * Constructor of the base class that gets properties\' name of child which should be saved in storages\n   *\n   * @param {Object} options - An object that contains the following properties:\n   *     @property {Object}   root_store - An object that contains the root store of the app.\n   *     @property {String[]} local_storage_properties - A list of properties\' names that should be kept in localStorage.\n   *     @property {String[]} session_storage_properties - A list of properties\' names that should be kept in sessionStorage.\n   *     @property {Object}   validation_rules - An object that contains the validation rules for each property of the store.\n   *     @property {String}   store_name - Explicit store name for browser application storage (to bypass minification)\n   */\n  function BaseStore() {\n    var _this = this;\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, BaseStore);\n    this.validation_errors = {};\n    this.validation_rules = {};\n    this.preSwitchAccountDisposer = null;\n    this.pre_switch_account_listener = null;\n    this.switchAccountDisposer = null;\n    this.switch_account_listener = null;\n    this.logoutDisposer = null;\n    this.logout_listener = null;\n    this.clientInitDisposer = null;\n    this.client_init_listener = null;\n    this.networkStatusChangeDisposer = null;\n    this.network_status_change_listener = null;\n    this.themeChangeDisposer = null;\n    this.theme_change_listener = null;\n    this.realAccountSignupEndedDisposer = null;\n    this.real_account_signup_ended_listener = null;\n    this.partial_fetch_time = 0;\n    (0,mobx__WEBPACK_IMPORTED_MODULE_0__.makeObservable)(this, {\n      validation_errors: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      validation_rules: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      partial_fetch_time: mobx__WEBPACK_IMPORTED_MODULE_0__.observable,\n      retrieveFromStorage: mobx__WEBPACK_IMPORTED_MODULE_0__.action,\n      setValidationErrorMessages: mobx__WEBPACK_IMPORTED_MODULE_0__.action,\n      setValidationRules: mobx__WEBPACK_IMPORTED_MODULE_0__.action,\n      addRule: mobx__WEBPACK_IMPORTED_MODULE_0__.action,\n      validateProperty: mobx__WEBPACK_IMPORTED_MODULE_0__.action,\n      validateAllProperties: mobx__WEBPACK_IMPORTED_MODULE_0__.action,\n      onSwitchAccount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onPreSwitchAccount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onLogout: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onClientInit: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onNetworkStatusChange: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onThemeChange: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onRealAccountSignupEnd: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      disposePreSwitchAccount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      disposeSwitchAccount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      disposeLogout: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      disposeClientInit: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      disposeNetworkStatusChange: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      disposeThemeChange: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      disposeRealAccountSignupEnd: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      onUnmount: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound,\n      assertHasValidCache: mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound\n    });\n    var root_store = options.root_store,\n      local_storage_properties = options.local_storage_properties,\n      session_storage_properties = options.session_storage_properties,\n      validation_rules = options.validation_rules,\n      store_name = options.store_name;\n    Object.defineProperty(this, \'root_store\', {\n      enumerable: false,\n      writable: true\n    });\n    Object.defineProperty(this, \'local_storage_properties\', {\n      enumerable: false,\n      writable: true\n    });\n    Object.defineProperty(this, \'session_storage_properties\', {\n      enumerable: false,\n      writable: true\n    });\n    var has_local_or_session_storage = local_storage_properties && local_storage_properties.length || session_storage_properties && session_storage_properties.length;\n    if (has_local_or_session_storage) {\n      if (!store_name) {\n        throw new Error(\'store_name is required for local/session storage\');\n      }\n      Object.defineProperty(this, \'store_name\', {\n        value: store_name,\n        enumerable: false,\n        writable: false\n      });\n    }\n    this.root_store = root_store;\n    this.local_storage_properties = local_storage_properties || [];\n    this.session_storage_properties = session_storage_properties || [];\n    setTimeout(function () {\n      _this.setValidationRules(validation_rules);\n      _this.setupReactionForLocalStorage();\n      _this.setupReactionForSessionStorage();\n      _this.retrieveFromStorage();\n    }, 0);\n  }\n\n  /**\n   * Returns an snapshot of the current store\n   *\n   * @param {String[]} properties - A list of properties\' names that should be in the snapshot.\n   *\n   * @return {Object} Returns a cloned object of the store.\n   */\n  return _createClass(BaseStore, [{\n    key: "getSnapshot",\n    value: function getSnapshot(properties) {\n      var snapshot = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.toJS)(this);\n      if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isEmptyObject)(this.root_store)) {\n        snapshot.root_store = this.root_store;\n      }\n      if (properties && properties.length) {\n        snapshot = properties.reduce(function (result, p) {\n          return Object.assign(result, _defineProperty({}, p, snapshot[p]));\n        }, {});\n      }\n      return snapshot;\n    }\n\n    /**\n     * Sets up a reaction on properties which are mentioned in `local_storage_properties`\n     *  and invokes `saveToStorage` when there are any changes on them.\n     *\n     */\n  }, {\n    key: "setupReactionForLocalStorage",\n    value: function setupReactionForLocalStorage() {\n      var _this2 = this;\n      if (this.local_storage_properties.length) {\n        (0,mobx__WEBPACK_IMPORTED_MODULE_0__.reaction)(function () {\n          return _this2.local_storage_properties.map(function (i) {\n            return _this2[i];\n          });\n        }, function () {\n          return _this2.saveToStorage(_this2.local_storage_properties, BaseStore.STORAGES.LOCAL_STORAGE);\n        });\n      }\n    }\n\n    /**\n     * Sets up a reaction on properties which are mentioned in `session_storage_properties`\n     *  and invokes `saveToStorage` when there are any changes on them.\n     *\n     */\n  }, {\n    key: "setupReactionForSessionStorage",\n    value: function setupReactionForSessionStorage() {\n      var _this3 = this;\n      if (this.session_storage_properties.length) {\n        (0,mobx__WEBPACK_IMPORTED_MODULE_0__.reaction)(function () {\n          return _this3.session_storage_properties.map(function (i) {\n            return _this3[i];\n          });\n        }, function () {\n          return _this3.saveToStorage(_this3.session_storage_properties, BaseStore.STORAGES.SESSION_STORAGE);\n        });\n      }\n    }\n\n    /**\n     * Removes properties that are not passed from the snapshot of the store and saves it to the passed storage\n     *\n     * @param {String[]} properties - A list of the store\'s properties\' names which should be saved in the storage.\n     * @param {Symbol}   storage    - A symbol object that defines the storage which the snapshot should be stored in it.\n     *\n     */\n  }, {\n    key: "saveToStorage",\n    value: function saveToStorage(properties, storage) {\n      var snapshot = JSON.stringify(this.getSnapshot(properties), function (key, value) {\n        if (value !== null) return value;\n        return undefined;\n      });\n      if (storage === BaseStore.STORAGES.LOCAL_STORAGE) {\n        localStorage.setItem(this.store_name, snapshot);\n      } else if (storage === BaseStore.STORAGES.SESSION_STORAGE) {\n        sessionStorage.setItem(this.store_name, snapshot);\n      }\n    }\n\n    /**\n     * Retrieves saved snapshot of the store and assigns to the current instance.\n     *\n     */\n  }, {\n    key: "retrieveFromStorage",\n    value: function retrieveFromStorage() {\n      var _this4 = this;\n      var local_storage_snapshot = JSON.parse(localStorage.getItem(this.store_name, {}));\n      var session_storage_snapshot = JSON.parse(sessionStorage.getItem(this.store_name, {}));\n      var snapshot = _objectSpread(_objectSpread({}, local_storage_snapshot), session_storage_snapshot);\n      Object.keys(snapshot).forEach(function (k) {\n        return _this4[k] = snapshot[k];\n      });\n    }\n\n    /**\n     * Sets validation error messages for an observable property of the store\n     *\n     * @param {String} propertyName - The observable property\'s name\n     * @param [{String}] messages - An array of strings that contains validation error messages for the particular property.\n     *\n     */\n  }, {\n    key: "setValidationErrorMessages",\n    value: function setValidationErrorMessages(propertyName, messages) {\n      var _this5 = this;\n      var is_different = function is_different() {\n        return !!_this5.validation_errors[propertyName].filter(function (x) {\n          return !messages.includes(x);\n        }).concat(messages.filter(function (x) {\n          return !_this5.validation_errors[propertyName].includes(x);\n        })).length;\n      };\n      if (!this.validation_errors[propertyName] || is_different()) {\n        this.validation_errors[propertyName] = messages;\n      }\n    }\n\n    /**\n     * Sets validation rules\n     *\n     * @param {object} rules\n     *\n     */\n  }, {\n    key: "setValidationRules",\n    value: function setValidationRules() {\n      var _this6 = this;\n      var rules = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      Object.keys(rules).forEach(function (key) {\n        _this6.addRule(key, rules[key]);\n      });\n    }\n\n    /**\n     * Adds rules to the particular property\n     *\n     * @param {String} property\n     * @param {String} rules\n     *\n     */\n  }, {\n    key: "addRule",\n    value: function addRule(property, rules) {\n      var _this7 = this;\n      this.validation_rules[property] = rules;\n      (0,mobx__WEBPACK_IMPORTED_MODULE_0__.intercept)(this, property, function (change) {\n        _this7.validateProperty(property, change.newValue);\n        return change;\n      });\n    }\n\n    /**\n     * Validates a particular property of the store\n     *\n     * @param {String} property - The name of the property in the store\n     * @param {object} value    - The value of the property, it can be undefined.\n     *\n     */\n  }, {\n    key: "validateProperty",\n    value: function validateProperty(property, value) {\n      var _this8 = this;\n      var trigger = this.validation_rules[property].trigger;\n      var inputs = _defineProperty({}, property, value !== undefined ? value : this[property]);\n      var validation_rules = _defineProperty({}, property, this.validation_rules[property].rules || []);\n      if (!!trigger && Object.hasOwnProperty.call(this, trigger)) {\n        inputs[trigger] = this[trigger];\n        validation_rules[trigger] = this.validation_rules[trigger].rules || [];\n      }\n      var validator = new _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.Validator(inputs, validation_rules, this);\n      validator.isPassed();\n      Object.keys(inputs).forEach(function (key) {\n        _this8.setValidationErrorMessages(key, validator.errors.get(key));\n      });\n    }\n\n    /**\n     * Validates all properties which validation rule has been set for.\n     *\n     */\n  }, {\n    key: "validateAllProperties",\n    value: function validateAllProperties() {\n      var _this9 = this;\n      var validation_rules = Object.keys(this.validation_rules);\n      var validation_errors = Object.keys(this.validation_errors);\n      validation_rules.forEach(function (p) {\n        _this9.validateProperty(p, _this9[p]);\n      });\n\n      // Remove keys that are present in error, but not in rules:\n      validation_errors.forEach(function (error) {\n        if (!validation_rules.includes(error)) {\n          delete _this9.validation_errors[error];\n        }\n      });\n    }\n  }, {\n    key: "onSwitchAccount",\n    value: function onSwitchAccount(listener) {\n      var _this10 = this;\n      if (listener) {\n        this.switch_account_listener = listener;\n        this.switchAccountDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.when)(function () {\n          return _this10.root_store.client.switch_broadcast;\n        }, function () {\n          try {\n            var result = _this10.switch_account_listener();\n            if (result && result.then && typeof result.then === \'function\') {\n              result.then(function () {\n                _this10.root_store.client.switchEndSignal();\n                _this10.onSwitchAccount(_this10.switch_account_listener);\n              });\n            } else {\n              throw new Error(\'Switching account listeners are required to return a promise.\');\n            }\n          } catch (error) {\n            // there is no listener currently active. so we can just ignore the error raised from treating\n            // a null object as a function. Although, in development mode, we throw a console error.\n            if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n              console.error(error); // eslint-disable-line\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: "onPreSwitchAccount",\n    value: function onPreSwitchAccount(listener) {\n      var _this11 = this;\n      if (listener) {\n        this.pre_switch_account_listener = listener;\n        this.preSwitchAccountDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.when)(function () {\n          return _this11.root_store.client.pre_switch_broadcast;\n        }, function () {\n          try {\n            var _this11$pre_switch_ac;\n            var result = (_this11$pre_switch_ac = _this11.pre_switch_account_listener) === null || _this11$pre_switch_ac === void 0 ? void 0 : _this11$pre_switch_ac.call(_this11);\n            if (result && result.then && typeof result.then === \'function\') {\n              result.then(function () {\n                _this11.root_store.client.setPreSwitchAccount(false);\n                _this11.onPreSwitchAccount(_this11.pre_switch_account_listener);\n              });\n            } else {\n              throw new Error(\'Pre-switch account listeners are required to return a promise.\');\n            }\n          } catch (error) {\n            // there is no listener currently active. so we can just ignore the error raised from treating\n            // a null object as a function. Although, in development mode, we throw a console error.\n            if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n              console.error(error); // eslint-disable-line\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: "onLogout",\n    value: function onLogout(listener) {\n      var _this12 = this;\n      this.logoutDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.when)(function () {\n        return _this12.root_store.client.has_logged_out;\n      }, /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var result;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              result = _this12.logout_listener();\n              if (!(result && result.then && typeof result.then === \'function\')) {\n                _context.next = 6;\n                break;\n              }\n              result.then(function () {\n                _this12.root_store.client.setLogout(false);\n                _this12.onLogout(_this12.logout_listener);\n              });\n              _context.next = 7;\n              break;\n            case 6:\n              throw new Error(\'Logout listeners are required to return a promise.\');\n            case 7:\n              _context.next = 12;\n              break;\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context["catch"](0);\n              // there is no listener currently active. so we can just ignore the error raised from treating\n              // a null object as a function. Although, in development mode, we throw a console error.\n              if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n                console.error(_context.t0); // eslint-disable-line\n              }\n            case 12:\n            case "end":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 9]]);\n      })));\n      this.logout_listener = listener;\n    }\n  }, {\n    key: "onClientInit",\n    value: function onClientInit(listener) {\n      var _this13 = this;\n      this.clientInitDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.when)(function () {\n        return _this13.root_store.client.initialized_broadcast;\n      }, /*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var result;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              result = _this13.client_init_listener();\n              if (!(result && result.then && typeof result.then === \'function\')) {\n                _context2.next = 6;\n                break;\n              }\n              result.then(function () {\n                _this13.root_store.client.setInitialized(false);\n                _this13.onClientInit(_this13.client_init_listener);\n              });\n              _context2.next = 7;\n              break;\n            case 6:\n              throw new Error(\'Client init listeners are required to return a promise.\');\n            case 7:\n              _context2.next = 12;\n              break;\n            case 9:\n              _context2.prev = 9;\n              _context2.t0 = _context2["catch"](0);\n              // there is no listener currently active. so we can just ignore the error raised from treating\n              // a null object as a function. Although, in development mode, we throw a console error.\n              if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n                console.error(_context2.t0); // eslint-disable-line\n              }\n            case 12:\n            case "end":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[0, 9]]);\n      })));\n      this.client_init_listener = listener;\n    }\n  }, {\n    key: "onNetworkStatusChange",\n    value: function onNetworkStatusChange(listener) {\n      var _this14 = this;\n      this.networkStatusChangeDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.reaction)(function () {\n        return _this14.root_store.common.is_network_online;\n      }, function (is_online) {\n        try {\n          _this14.network_status_change_listener(is_online);\n        } catch (error) {\n          // there is no listener currently active. so we can just ignore the error raised from treating\n          // a null object as a function. Although, in development mode, we throw a console error.\n          if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n            console.error(error); // eslint-disable-line\n          }\n        }\n      });\n      this.network_status_change_listener = listener;\n    }\n  }, {\n    key: "onThemeChange",\n    value: function onThemeChange(listener) {\n      var _this15 = this;\n      this.themeChangeDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.reaction)(function () {\n        return _this15.root_store.ui.is_dark_mode_on;\n      }, function (is_dark_mode_on) {\n        try {\n          _this15.theme_change_listener(is_dark_mode_on);\n        } catch (error) {\n          // there is no listener currently active. so we can just ignore the error raised from treating\n          // a null object as a function. Although, in development mode, we throw a console error.\n          if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n            console.error(error); // eslint-disable-line\n          }\n        }\n      });\n      this.theme_change_listener = listener;\n    }\n  }, {\n    key: "onRealAccountSignupEnd",\n    value: function onRealAccountSignupEnd(listener) {\n      var _this16 = this;\n      this.realAccountSignupEndedDisposer = (0,mobx__WEBPACK_IMPORTED_MODULE_0__.when)(function () {\n        return _this16.root_store.ui.has_real_account_signup_ended;\n      }, function () {\n        try {\n          var result = _this16.real_account_signup_ended_listener();\n          if (result && result.then && typeof result.then === \'function\') {\n            result.then(function () {\n              _this16.root_store.ui.setRealAccountSignupEnd(false);\n              _this16.onRealAccountSignupEnd(_this16.real_account_signup_ended_listener);\n            });\n          } else {\n            throw new Error(\'Real account signup listeners are required to return a promise.\');\n          }\n        } catch (error) {\n          // there is no listener currently active. so we can just ignore the error raised from treating\n          // a null object as a function. Although, in development mode, we throw a console error.\n          if (!(0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isProduction)()) {\n            console.error(error); // eslint-disable-line\n          }\n        }\n      });\n      this.real_account_signup_ended_listener = listener;\n    }\n  }, {\n    key: "disposePreSwitchAccount",\n    value: function disposePreSwitchAccount() {\n      if (typeof this.preSwitchAccountDisposer === \'function\') {\n        this.preSwitchAccountDisposer();\n      }\n      this.pre_switch_account_listener = null;\n    }\n  }, {\n    key: "disposeSwitchAccount",\n    value: function disposeSwitchAccount() {\n      if (typeof this.switchAccountDisposer === \'function\') {\n        this.switchAccountDisposer();\n      }\n      this.switch_account_listener = null;\n    }\n  }, {\n    key: "disposeLogout",\n    value: function disposeLogout() {\n      if (typeof this.logoutDisposer === \'function\') {\n        this.logoutDisposer();\n      }\n      this.logout_listener = null;\n    }\n  }, {\n    key: "disposeClientInit",\n    value: function disposeClientInit() {\n      if (typeof this.clientInitDisposer === \'function\') {\n        this.clientInitDisposer();\n      }\n      this.client_init_listener = null;\n    }\n  }, {\n    key: "disposeNetworkStatusChange",\n    value: function disposeNetworkStatusChange() {\n      if (typeof this.networkStatusChangeDisposer === \'function\') {\n        this.networkStatusChangeDisposer();\n      }\n      this.network_status_change_listener = null;\n    }\n  }, {\n    key: "disposeThemeChange",\n    value: function disposeThemeChange() {\n      if (typeof this.themeChangeDisposer === \'function\') {\n        this.themeChangeDisposer();\n      }\n      this.theme_change_listener = null;\n    }\n  }, {\n    key: "disposeRealAccountSignupEnd",\n    value: function disposeRealAccountSignupEnd() {\n      if (typeof this.realAccountSignupEndedDisposer === \'function\') {\n        this.realAccountSignupEndedDisposer();\n      }\n      this.real_account_signup_ended_listener = null;\n    }\n  }, {\n    key: "onUnmount",\n    value: function onUnmount() {\n      this.disposePreSwitchAccount();\n      this.disposeSwitchAccount();\n      this.disposeLogout();\n      this.disposeClientInit();\n      this.disposeNetworkStatusChange();\n      this.disposeThemeChange();\n      this.disposeRealAccountSignupEnd();\n    }\n  }, {\n    key: "assertHasValidCache",\n    value: function assertHasValidCache(loginid) {\n      // account was changed when this was unmounted.\n      if (this.root_store.client.loginid !== loginid) {\n        for (var _len = arguments.length, reactions = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          reactions[_key - 1] = arguments[_key];\n        }\n        reactions.forEach(function (act) {\n          return act();\n        });\n        this.partial_fetch_time = false;\n      }\n    }\n  }]);\n}();\n/**\n * An enum object to define LOCAL_STORAGE and SESSION_STORAGE\n */\nBaseStore.STORAGES = Object.freeze({\n  LOCAL_STORAGE: Symbol(\'LOCAL_STORAGE\'),\n  SESSION_STORAGE: Symbol(\'SESSION_STORAGE\')\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvU3RvcmVzL2Jhc2Utc3RvcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUF5Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBckNBO0FBRUE7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUNBO0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBQUE7QUFBQTtBQVFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQUE7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQUFBO0FBQUE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQUFBO0FBQUE7QUFPQTtBQUNBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFBQTtBQUFBO0FBTUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFBQTtBQUFBO0FBT0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQUFBO0FBQUE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQUFBO0FBSUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFDQTtBQUFBO0FBRkE7QUFBQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFuaEJBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGRlcml2L2NmZC8uL3NyYy9TdG9yZXMvYmFzZS1zdG9yZS5qcz84NmYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFjdGlvbiwgaW50ZXJjZXB0LCBtYWtlT2JzZXJ2YWJsZSwgb2JzZXJ2YWJsZSwgcmVhY3Rpb24sIHRvSlMsIHdoZW4gfSBmcm9tICdtb2J4JztcblxuaW1wb3J0IHsgaXNFbXB0eU9iamVjdCwgaXNQcm9kdWN0aW9uLCBWYWxpZGF0b3IgfSBmcm9tICdAZGVyaXYvc2hhcmVkJztcblxuLyoqXG4gKiBCYXNlU3RvcmUgY2xhc3MgaXMgdGhlIGJhc2UgY2xhc3MgZm9yIGFsbCBkZWZpbmVkIHN0b3JlcyBpbiB0aGUgYXBwbGljYXRpb24uIEl0IGhhbmRsZXMgc29tZSBzdHVmZiBzdWNoIGFzOlxuICogIDEuIENyZWF0aW5nIHNuYXBzaG90IG9iamVjdCBmcm9tIHRoZSBzdG9yZS5cbiAqICAyLiBTYXZpbmcgdGhlIHN0b3JlJ3Mgc25hcHNob3QgaW4gbG9jYWwvc2Vzc2lvbiBzdG9yYWdlIGFuZCBrZWVwaW5nIHRoZW0gaW4gc3luYy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQmFzZVN0b3JlIHtcbiAgICAvKipcbiAgICAgKiBBbiBlbnVtIG9iamVjdCB0byBkZWZpbmUgTE9DQUxfU1RPUkFHRSBhbmQgU0VTU0lPTl9TVE9SQUdFXG4gICAgICovXG4gICAgc3RhdGljIFNUT1JBR0VTID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgIExPQ0FMX1NUT1JBR0U6IFN5bWJvbCgnTE9DQUxfU1RPUkFHRScpLFxuICAgICAgICBTRVNTSU9OX1NUT1JBR0U6IFN5bWJvbCgnU0VTU0lPTl9TVE9SQUdFJyksXG4gICAgfSk7XG5cbiAgICB2YWxpZGF0aW9uX2Vycm9ycyA9IHt9O1xuXG4gICAgdmFsaWRhdGlvbl9ydWxlcyA9IHt9O1xuXG4gICAgcHJlU3dpdGNoQWNjb3VudERpc3Bvc2VyID0gbnVsbDtcbiAgICBwcmVfc3dpdGNoX2FjY291bnRfbGlzdGVuZXIgPSBudWxsO1xuXG4gICAgc3dpdGNoQWNjb3VudERpc3Bvc2VyID0gbnVsbDtcbiAgICBzd2l0Y2hfYWNjb3VudF9saXN0ZW5lciA9IG51bGw7XG5cbiAgICBsb2dvdXREaXNwb3NlciA9IG51bGw7XG4gICAgbG9nb3V0X2xpc3RlbmVyID0gbnVsbDtcblxuICAgIGNsaWVudEluaXREaXNwb3NlciA9IG51bGw7XG4gICAgY2xpZW50X2luaXRfbGlzdGVuZXIgPSBudWxsO1xuXG4gICAgbmV0d29ya1N0YXR1c0NoYW5nZURpc3Bvc2VyID0gbnVsbDtcbiAgICBuZXR3b3JrX3N0YXR1c19jaGFuZ2VfbGlzdGVuZXIgPSBudWxsO1xuXG4gICAgdGhlbWVDaGFuZ2VEaXNwb3NlciA9IG51bGw7XG4gICAgdGhlbWVfY2hhbmdlX2xpc3RlbmVyID0gbnVsbDtcblxuICAgIHJlYWxBY2NvdW50U2lnbnVwRW5kZWREaXNwb3NlciA9IG51bGw7XG4gICAgcmVhbF9hY2NvdW50X3NpZ251cF9lbmRlZF9saXN0ZW5lciA9IG51bGw7XG5cbiAgICBwYXJ0aWFsX2ZldGNoX3RpbWUgPSAwO1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3Igb2YgdGhlIGJhc2UgY2xhc3MgdGhhdCBnZXRzIHByb3BlcnRpZXMnIG5hbWUgb2YgY2hpbGQgd2hpY2ggc2hvdWxkIGJlIHNhdmVkIGluIHN0b3JhZ2VzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyAtIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcbiAgICAgKiAgICAgQHByb3BlcnR5IHtPYmplY3R9ICAgcm9vdF9zdG9yZSAtIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSByb290IHN0b3JlIG9mIHRoZSBhcHAuXG4gICAgICogICAgIEBwcm9wZXJ0eSB7U3RyaW5nW119IGxvY2FsX3N0b3JhZ2VfcHJvcGVydGllcyAtIEEgbGlzdCBvZiBwcm9wZXJ0aWVzJyBuYW1lcyB0aGF0IHNob3VsZCBiZSBrZXB0IGluIGxvY2FsU3RvcmFnZS5cbiAgICAgKiAgICAgQHByb3BlcnR5IHtTdHJpbmdbXX0gc2Vzc2lvbl9zdG9yYWdlX3Byb3BlcnRpZXMgLSBBIGxpc3Qgb2YgcHJvcGVydGllcycgbmFtZXMgdGhhdCBzaG91bGQgYmUga2VwdCBpbiBzZXNzaW9uU3RvcmFnZS5cbiAgICAgKiAgICAgQHByb3BlcnR5IHtPYmplY3R9ICAgdmFsaWRhdGlvbl9ydWxlcyAtIEFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSB2YWxpZGF0aW9uIHJ1bGVzIGZvciBlYWNoIHByb3BlcnR5IG9mIHRoZSBzdG9yZS5cbiAgICAgKiAgICAgQHByb3BlcnR5IHtTdHJpbmd9ICAgc3RvcmVfbmFtZSAtIEV4cGxpY2l0IHN0b3JlIG5hbWUgZm9yIGJyb3dzZXIgYXBwbGljYXRpb24gc3RvcmFnZSAodG8gYnlwYXNzIG1pbmlmaWNhdGlvbilcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICAgICAgbWFrZU9ic2VydmFibGUodGhpcywge1xuICAgICAgICAgICAgdmFsaWRhdGlvbl9lcnJvcnM6IG9ic2VydmFibGUsXG4gICAgICAgICAgICB2YWxpZGF0aW9uX3J1bGVzOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgcGFydGlhbF9mZXRjaF90aW1lOiBvYnNlcnZhYmxlLFxuICAgICAgICAgICAgcmV0cmlldmVGcm9tU3RvcmFnZTogYWN0aW9uLFxuICAgICAgICAgICAgc2V0VmFsaWRhdGlvbkVycm9yTWVzc2FnZXM6IGFjdGlvbixcbiAgICAgICAgICAgIHNldFZhbGlkYXRpb25SdWxlczogYWN0aW9uLFxuICAgICAgICAgICAgYWRkUnVsZTogYWN0aW9uLFxuICAgICAgICAgICAgdmFsaWRhdGVQcm9wZXJ0eTogYWN0aW9uLFxuICAgICAgICAgICAgdmFsaWRhdGVBbGxQcm9wZXJ0aWVzOiBhY3Rpb24sXG4gICAgICAgICAgICBvblN3aXRjaEFjY291bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uUHJlU3dpdGNoQWNjb3VudDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgb25Mb2dvdXQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uQ2xpZW50SW5pdDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgb25OZXR3b3JrU3RhdHVzQ2hhbmdlOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBvblRoZW1lQ2hhbmdlOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBvblJlYWxBY2NvdW50U2lnbnVwRW5kOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBkaXNwb3NlUHJlU3dpdGNoQWNjb3VudDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgZGlzcG9zZVN3aXRjaEFjY291bnQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGRpc3Bvc2VMb2dvdXQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIGRpc3Bvc2VDbGllbnRJbml0OiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBkaXNwb3NlTmV0d29ya1N0YXR1c0NoYW5nZTogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgZGlzcG9zZVRoZW1lQ2hhbmdlOiBhY3Rpb24uYm91bmQsXG4gICAgICAgICAgICBkaXNwb3NlUmVhbEFjY291bnRTaWdudXBFbmQ6IGFjdGlvbi5ib3VuZCxcbiAgICAgICAgICAgIG9uVW5tb3VudDogYWN0aW9uLmJvdW5kLFxuICAgICAgICAgICAgYXNzZXJ0SGFzVmFsaWRDYWNoZTogYWN0aW9uLmJvdW5kLFxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB7IHJvb3Rfc3RvcmUsIGxvY2FsX3N0b3JhZ2VfcHJvcGVydGllcywgc2Vzc2lvbl9zdG9yYWdlX3Byb3BlcnRpZXMsIHZhbGlkYXRpb25fcnVsZXMsIHN0b3JlX25hbWUgfSA9XG4gICAgICAgICAgICBvcHRpb25zO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAncm9vdF9zdG9yZScsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2xvY2FsX3N0b3JhZ2VfcHJvcGVydGllcycsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ3Nlc3Npb25fc3RvcmFnZV9wcm9wZXJ0aWVzJywge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgaGFzX2xvY2FsX29yX3Nlc3Npb25fc3RvcmFnZSA9XG4gICAgICAgICAgICAobG9jYWxfc3RvcmFnZV9wcm9wZXJ0aWVzICYmIGxvY2FsX3N0b3JhZ2VfcHJvcGVydGllcy5sZW5ndGgpIHx8XG4gICAgICAgICAgICAoc2Vzc2lvbl9zdG9yYWdlX3Byb3BlcnRpZXMgJiYgc2Vzc2lvbl9zdG9yYWdlX3Byb3BlcnRpZXMubGVuZ3RoKTtcblxuICAgICAgICBpZiAoaGFzX2xvY2FsX29yX3Nlc3Npb25fc3RvcmFnZSkge1xuICAgICAgICAgICAgaWYgKCFzdG9yZV9uYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdG9yZV9uYW1lIGlzIHJlcXVpcmVkIGZvciBsb2NhbC9zZXNzaW9uIHN0b3JhZ2UnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdzdG9yZV9uYW1lJywge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBzdG9yZV9uYW1lLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yb290X3N0b3JlID0gcm9vdF9zdG9yZTtcbiAgICAgICAgdGhpcy5sb2NhbF9zdG9yYWdlX3Byb3BlcnRpZXMgPSBsb2NhbF9zdG9yYWdlX3Byb3BlcnRpZXMgfHwgW107XG4gICAgICAgIHRoaXMuc2Vzc2lvbl9zdG9yYWdlX3Byb3BlcnRpZXMgPSBzZXNzaW9uX3N0b3JhZ2VfcHJvcGVydGllcyB8fCBbXTtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2V0VmFsaWRhdGlvblJ1bGVzKHZhbGlkYXRpb25fcnVsZXMpO1xuXG4gICAgICAgICAgICB0aGlzLnNldHVwUmVhY3Rpb25Gb3JMb2NhbFN0b3JhZ2UoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0dXBSZWFjdGlvbkZvclNlc3Npb25TdG9yYWdlKCk7XG4gICAgICAgICAgICB0aGlzLnJldHJpZXZlRnJvbVN0b3JhZ2UoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBzbmFwc2hvdCBvZiB0aGUgY3VycmVudCBzdG9yZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmdbXX0gcHJvcGVydGllcyAtIEEgbGlzdCBvZiBwcm9wZXJ0aWVzJyBuYW1lcyB0aGF0IHNob3VsZCBiZSBpbiB0aGUgc25hcHNob3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFJldHVybnMgYSBjbG9uZWQgb2JqZWN0IG9mIHRoZSBzdG9yZS5cbiAgICAgKi9cbiAgICBnZXRTbmFwc2hvdChwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGxldCBzbmFwc2hvdCA9IHRvSlModGhpcyk7XG5cbiAgICAgICAgaWYgKCFpc0VtcHR5T2JqZWN0KHRoaXMucm9vdF9zdG9yZSkpIHtcbiAgICAgICAgICAgIHNuYXBzaG90LnJvb3Rfc3RvcmUgPSB0aGlzLnJvb3Rfc3RvcmU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJvcGVydGllcyAmJiBwcm9wZXJ0aWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgc25hcHNob3QgPSBwcm9wZXJ0aWVzLnJlZHVjZSgocmVzdWx0LCBwKSA9PiBPYmplY3QuYXNzaWduKHJlc3VsdCwgeyBbcF06IHNuYXBzaG90W3BdIH0pLCB7fSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc25hcHNob3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBhIHJlYWN0aW9uIG9uIHByb3BlcnRpZXMgd2hpY2ggYXJlIG1lbnRpb25lZCBpbiBgbG9jYWxfc3RvcmFnZV9wcm9wZXJ0aWVzYFxuICAgICAqICBhbmQgaW52b2tlcyBgc2F2ZVRvU3RvcmFnZWAgd2hlbiB0aGVyZSBhcmUgYW55IGNoYW5nZXMgb24gdGhlbS5cbiAgICAgKlxuICAgICAqL1xuICAgIHNldHVwUmVhY3Rpb25Gb3JMb2NhbFN0b3JhZ2UoKSB7XG4gICAgICAgIGlmICh0aGlzLmxvY2FsX3N0b3JhZ2VfcHJvcGVydGllcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlYWN0aW9uKFxuICAgICAgICAgICAgICAgICgpID0+IHRoaXMubG9jYWxfc3RvcmFnZV9wcm9wZXJ0aWVzLm1hcChpID0+IHRoaXNbaV0pLFxuICAgICAgICAgICAgICAgICgpID0+IHRoaXMuc2F2ZVRvU3RvcmFnZSh0aGlzLmxvY2FsX3N0b3JhZ2VfcHJvcGVydGllcywgQmFzZVN0b3JlLlNUT1JBR0VTLkxPQ0FMX1NUT1JBR0UpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBhIHJlYWN0aW9uIG9uIHByb3BlcnRpZXMgd2hpY2ggYXJlIG1lbnRpb25lZCBpbiBgc2Vzc2lvbl9zdG9yYWdlX3Byb3BlcnRpZXNgXG4gICAgICogIGFuZCBpbnZva2VzIGBzYXZlVG9TdG9yYWdlYCB3aGVuIHRoZXJlIGFyZSBhbnkgY2hhbmdlcyBvbiB0aGVtLlxuICAgICAqXG4gICAgICovXG4gICAgc2V0dXBSZWFjdGlvbkZvclNlc3Npb25TdG9yYWdlKCkge1xuICAgICAgICBpZiAodGhpcy5zZXNzaW9uX3N0b3JhZ2VfcHJvcGVydGllcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJlYWN0aW9uKFxuICAgICAgICAgICAgICAgICgpID0+IHRoaXMuc2Vzc2lvbl9zdG9yYWdlX3Byb3BlcnRpZXMubWFwKGkgPT4gdGhpc1tpXSksXG4gICAgICAgICAgICAgICAgKCkgPT4gdGhpcy5zYXZlVG9TdG9yYWdlKHRoaXMuc2Vzc2lvbl9zdG9yYWdlX3Byb3BlcnRpZXMsIEJhc2VTdG9yZS5TVE9SQUdFUy5TRVNTSU9OX1NUT1JBR0UpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBwcm9wZXJ0aWVzIHRoYXQgYXJlIG5vdCBwYXNzZWQgZnJvbSB0aGUgc25hcHNob3Qgb2YgdGhlIHN0b3JlIGFuZCBzYXZlcyBpdCB0byB0aGUgcGFzc2VkIHN0b3JhZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nW119IHByb3BlcnRpZXMgLSBBIGxpc3Qgb2YgdGhlIHN0b3JlJ3MgcHJvcGVydGllcycgbmFtZXMgd2hpY2ggc2hvdWxkIGJlIHNhdmVkIGluIHRoZSBzdG9yYWdlLlxuICAgICAqIEBwYXJhbSB7U3ltYm9sfSAgIHN0b3JhZ2UgICAgLSBBIHN5bWJvbCBvYmplY3QgdGhhdCBkZWZpbmVzIHRoZSBzdG9yYWdlIHdoaWNoIHRoZSBzbmFwc2hvdCBzaG91bGQgYmUgc3RvcmVkIGluIGl0LlxuICAgICAqXG4gICAgICovXG4gICAgc2F2ZVRvU3RvcmFnZShwcm9wZXJ0aWVzLCBzdG9yYWdlKSB7XG4gICAgICAgIGNvbnN0IHNuYXBzaG90ID0gSlNPTi5zdHJpbmdpZnkodGhpcy5nZXRTbmFwc2hvdChwcm9wZXJ0aWVzKSwgKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCkgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKHN0b3JhZ2UgPT09IEJhc2VTdG9yZS5TVE9SQUdFUy5MT0NBTF9TVE9SQUdFKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JlX25hbWUsIHNuYXBzaG90KTtcbiAgICAgICAgfSBlbHNlIGlmIChzdG9yYWdlID09PSBCYXNlU3RvcmUuU1RPUkFHRVMuU0VTU0lPTl9TVE9SQUdFKSB7XG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmVfbmFtZSwgc25hcHNob3QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHNhdmVkIHNuYXBzaG90IG9mIHRoZSBzdG9yZSBhbmQgYXNzaWducyB0byB0aGUgY3VycmVudCBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqL1xuICAgIHJldHJpZXZlRnJvbVN0b3JhZ2UoKSB7XG4gICAgICAgIGNvbnN0IGxvY2FsX3N0b3JhZ2Vfc25hcHNob3QgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmVfbmFtZSwge30pKTtcbiAgICAgICAgY29uc3Qgc2Vzc2lvbl9zdG9yYWdlX3NuYXBzaG90ID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmVfbmFtZSwge30pKTtcblxuICAgICAgICBjb25zdCBzbmFwc2hvdCA9IHsgLi4ubG9jYWxfc3RvcmFnZV9zbmFwc2hvdCwgLi4uc2Vzc2lvbl9zdG9yYWdlX3NuYXBzaG90IH07XG5cbiAgICAgICAgT2JqZWN0LmtleXMoc25hcHNob3QpLmZvckVhY2goayA9PiAodGhpc1trXSA9IHNuYXBzaG90W2tdKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB2YWxpZGF0aW9uIGVycm9yIG1lc3NhZ2VzIGZvciBhbiBvYnNlcnZhYmxlIHByb3BlcnR5IG9mIHRoZSBzdG9yZVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5TmFtZSAtIFRoZSBvYnNlcnZhYmxlIHByb3BlcnR5J3MgbmFtZVxuICAgICAqIEBwYXJhbSBbe1N0cmluZ31dIG1lc3NhZ2VzIC0gQW4gYXJyYXkgb2Ygc3RyaW5ncyB0aGF0IGNvbnRhaW5zIHZhbGlkYXRpb24gZXJyb3IgbWVzc2FnZXMgZm9yIHRoZSBwYXJ0aWN1bGFyIHByb3BlcnR5LlxuICAgICAqXG4gICAgICovXG4gICAgc2V0VmFsaWRhdGlvbkVycm9yTWVzc2FnZXMocHJvcGVydHlOYW1lLCBtZXNzYWdlcykge1xuICAgICAgICBjb25zdCBpc19kaWZmZXJlbnQgPSAoKSA9PlxuICAgICAgICAgICAgISF0aGlzLnZhbGlkYXRpb25fZXJyb3JzW3Byb3BlcnR5TmFtZV1cbiAgICAgICAgICAgICAgICAuZmlsdGVyKHggPT4gIW1lc3NhZ2VzLmluY2x1ZGVzKHgpKVxuICAgICAgICAgICAgICAgIC5jb25jYXQobWVzc2FnZXMuZmlsdGVyKHggPT4gIXRoaXMudmFsaWRhdGlvbl9lcnJvcnNbcHJvcGVydHlOYW1lXS5pbmNsdWRlcyh4KSkpLmxlbmd0aDtcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRpb25fZXJyb3JzW3Byb3BlcnR5TmFtZV0gfHwgaXNfZGlmZmVyZW50KCkpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGlvbl9lcnJvcnNbcHJvcGVydHlOYW1lXSA9IG1lc3NhZ2VzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB2YWxpZGF0aW9uIHJ1bGVzXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcnVsZXNcbiAgICAgKlxuICAgICAqL1xuICAgIHNldFZhbGlkYXRpb25SdWxlcyhydWxlcyA9IHt9KSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHJ1bGVzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFkZFJ1bGUoa2V5LCBydWxlc1trZXldKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBydWxlcyB0byB0aGUgcGFydGljdWxhciBwcm9wZXJ0eVxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BlcnR5XG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHJ1bGVzXG4gICAgICpcbiAgICAgKi9cbiAgICBhZGRSdWxlKHByb3BlcnR5LCBydWxlcykge1xuICAgICAgICB0aGlzLnZhbGlkYXRpb25fcnVsZXNbcHJvcGVydHldID0gcnVsZXM7XG5cbiAgICAgICAgaW50ZXJjZXB0KHRoaXMsIHByb3BlcnR5LCBjaGFuZ2UgPT4ge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZVByb3BlcnR5KHByb3BlcnR5LCBjaGFuZ2UubmV3VmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIGNoYW5nZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIGEgcGFydGljdWxhciBwcm9wZXJ0eSBvZiB0aGUgc3RvcmVcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wZXJ0eSAtIFRoZSBuYW1lIG9mIHRoZSBwcm9wZXJ0eSBpbiB0aGUgc3RvcmVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gdmFsdWUgICAgLSBUaGUgdmFsdWUgb2YgdGhlIHByb3BlcnR5LCBpdCBjYW4gYmUgdW5kZWZpbmVkLlxuICAgICAqXG4gICAgICovXG4gICAgdmFsaWRhdGVQcm9wZXJ0eShwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgICAgY29uc3QgdHJpZ2dlciA9IHRoaXMudmFsaWRhdGlvbl9ydWxlc1twcm9wZXJ0eV0udHJpZ2dlcjtcbiAgICAgICAgY29uc3QgaW5wdXRzID0geyBbcHJvcGVydHldOiB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB0aGlzW3Byb3BlcnR5XSB9O1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uX3J1bGVzID0geyBbcHJvcGVydHldOiB0aGlzLnZhbGlkYXRpb25fcnVsZXNbcHJvcGVydHldLnJ1bGVzIHx8IFtdIH07XG5cbiAgICAgICAgaWYgKCEhdHJpZ2dlciAmJiBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLCB0cmlnZ2VyKSkge1xuICAgICAgICAgICAgaW5wdXRzW3RyaWdnZXJdID0gdGhpc1t0cmlnZ2VyXTtcbiAgICAgICAgICAgIHZhbGlkYXRpb25fcnVsZXNbdHJpZ2dlcl0gPSB0aGlzLnZhbGlkYXRpb25fcnVsZXNbdHJpZ2dlcl0ucnVsZXMgfHwgW107XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgVmFsaWRhdG9yKGlucHV0cywgdmFsaWRhdGlvbl9ydWxlcywgdGhpcyk7XG5cbiAgICAgICAgdmFsaWRhdG9yLmlzUGFzc2VkKCk7XG5cbiAgICAgICAgT2JqZWN0LmtleXMoaW5wdXRzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNldFZhbGlkYXRpb25FcnJvck1lc3NhZ2VzKGtleSwgdmFsaWRhdG9yLmVycm9ycy5nZXQoa2V5KSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFZhbGlkYXRlcyBhbGwgcHJvcGVydGllcyB3aGljaCB2YWxpZGF0aW9uIHJ1bGUgaGFzIGJlZW4gc2V0IGZvci5cbiAgICAgKlxuICAgICAqL1xuICAgIHZhbGlkYXRlQWxsUHJvcGVydGllcygpIHtcbiAgICAgICAgY29uc3QgdmFsaWRhdGlvbl9ydWxlcyA9IE9iamVjdC5rZXlzKHRoaXMudmFsaWRhdGlvbl9ydWxlcyk7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb25fZXJyb3JzID0gT2JqZWN0LmtleXModGhpcy52YWxpZGF0aW9uX2Vycm9ycyk7XG5cbiAgICAgICAgdmFsaWRhdGlvbl9ydWxlcy5mb3JFYWNoKHAgPT4ge1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0ZVByb3BlcnR5KHAsIHRoaXNbcF0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSZW1vdmUga2V5cyB0aGF0IGFyZSBwcmVzZW50IGluIGVycm9yLCBidXQgbm90IGluIHJ1bGVzOlxuICAgICAgICB2YWxpZGF0aW9uX2Vycm9ycy5mb3JFYWNoKGVycm9yID0+IHtcbiAgICAgICAgICAgIGlmICghdmFsaWRhdGlvbl9ydWxlcy5pbmNsdWRlcyhlcnJvcikpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy52YWxpZGF0aW9uX2Vycm9yc1tlcnJvcl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uU3dpdGNoQWNjb3VudChsaXN0ZW5lcikge1xuICAgICAgICBpZiAobGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMuc3dpdGNoX2FjY291bnRfbGlzdGVuZXIgPSBsaXN0ZW5lcjtcblxuICAgICAgICAgICAgdGhpcy5zd2l0Y2hBY2NvdW50RGlzcG9zZXIgPSB3aGVuKFxuICAgICAgICAgICAgICAgICgpID0+IHRoaXMucm9vdF9zdG9yZS5jbGllbnQuc3dpdGNoX2Jyb2FkY2FzdCxcbiAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLnN3aXRjaF9hY2NvdW50X2xpc3RlbmVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC50aGVuICYmIHR5cGVvZiByZXN1bHQudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLmNsaWVudC5zd2l0Y2hFbmRTaWduYWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblN3aXRjaEFjY291bnQodGhpcy5zd2l0Y2hfYWNjb3VudF9saXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3dpdGNoaW5nIGFjY291bnQgbGlzdGVuZXJzIGFyZSByZXF1aXJlZCB0byByZXR1cm4gYSBwcm9taXNlLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMgbm8gbGlzdGVuZXIgY3VycmVudGx5IGFjdGl2ZS4gc28gd2UgY2FuIGp1c3QgaWdub3JlIHRoZSBlcnJvciByYWlzZWQgZnJvbSB0cmVhdGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYSBudWxsIG9iamVjdCBhcyBhIGZ1bmN0aW9uLiBBbHRob3VnaCwgaW4gZGV2ZWxvcG1lbnQgbW9kZSwgd2UgdGhyb3cgYSBjb25zb2xlIGVycm9yLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Byb2R1Y3Rpb24oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25QcmVTd2l0Y2hBY2NvdW50KGxpc3RlbmVyKSB7XG4gICAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5wcmVfc3dpdGNoX2FjY291bnRfbGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgICAgICAgICAgIHRoaXMucHJlU3dpdGNoQWNjb3VudERpc3Bvc2VyID0gd2hlbihcbiAgICAgICAgICAgICAgICAoKSA9PiB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LnByZV9zd2l0Y2hfYnJvYWRjYXN0LFxuICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMucHJlX3N3aXRjaF9hY2NvdW50X2xpc3RlbmVyPy4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnRoZW4gJiYgdHlwZW9mIHJlc3VsdC50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LnNldFByZVN3aXRjaEFjY291bnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUHJlU3dpdGNoQWNjb3VudCh0aGlzLnByZV9zd2l0Y2hfYWNjb3VudF9saXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUHJlLXN3aXRjaCBhY2NvdW50IGxpc3RlbmVycyBhcmUgcmVxdWlyZWQgdG8gcmV0dXJuIGEgcHJvbWlzZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZXJlIGlzIG5vIGxpc3RlbmVyIGN1cnJlbnRseSBhY3RpdmUuIHNvIHdlIGNhbiBqdXN0IGlnbm9yZSB0aGUgZXJyb3IgcmFpc2VkIGZyb20gdHJlYXRpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGEgbnVsbCBvYmplY3QgYXMgYSBmdW5jdGlvbi4gQWx0aG91Z2gsIGluIGRldmVsb3BtZW50IG1vZGUsIHdlIHRocm93IGEgY29uc29sZSBlcnJvci5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNQcm9kdWN0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTG9nb3V0KGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMubG9nb3V0RGlzcG9zZXIgPSB3aGVuKFxuICAgICAgICAgICAgKCkgPT4gdGhpcy5yb290X3N0b3JlLmNsaWVudC5oYXNfbG9nZ2VkX291dCxcbiAgICAgICAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmxvZ291dF9saXN0ZW5lcigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC50aGVuICYmIHR5cGVvZiByZXN1bHQudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm9vdF9zdG9yZS5jbGllbnQuc2V0TG9nb3V0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTG9nb3V0KHRoaXMubG9nb3V0X2xpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMb2dvdXQgbGlzdGVuZXJzIGFyZSByZXF1aXJlZCB0byByZXR1cm4gYSBwcm9taXNlLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMgbm8gbGlzdGVuZXIgY3VycmVudGx5IGFjdGl2ZS4gc28gd2UgY2FuIGp1c3QgaWdub3JlIHRoZSBlcnJvciByYWlzZWQgZnJvbSB0cmVhdGluZ1xuICAgICAgICAgICAgICAgICAgICAvLyBhIG51bGwgb2JqZWN0IGFzIGEgZnVuY3Rpb24uIEFsdGhvdWdoLCBpbiBkZXZlbG9wbWVudCBtb2RlLCB3ZSB0aHJvdyBhIGNvbnNvbGUgZXJyb3IuXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNQcm9kdWN0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIHRoaXMubG9nb3V0X2xpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgfVxuXG4gICAgb25DbGllbnRJbml0KGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuY2xpZW50SW5pdERpc3Bvc2VyID0gd2hlbihcbiAgICAgICAgICAgICgpID0+IHRoaXMucm9vdF9zdG9yZS5jbGllbnQuaW5pdGlhbGl6ZWRfYnJvYWRjYXN0LFxuICAgICAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuY2xpZW50X2luaXRfbGlzdGVuZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQudGhlbiAmJiB0eXBlb2YgcmVzdWx0LnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LnNldEluaXRpYWxpemVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uQ2xpZW50SW5pdCh0aGlzLmNsaWVudF9pbml0X2xpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDbGllbnQgaW5pdCBsaXN0ZW5lcnMgYXJlIHJlcXVpcmVkIHRvIHJldHVybiBhIHByb21pc2UuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSBpcyBubyBsaXN0ZW5lciBjdXJyZW50bHkgYWN0aXZlLiBzbyB3ZSBjYW4ganVzdCBpZ25vcmUgdGhlIGVycm9yIHJhaXNlZCBmcm9tIHRyZWF0aW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgbnVsbCBvYmplY3QgYXMgYSBmdW5jdGlvbi4gQWx0aG91Z2gsIGluIGRldmVsb3BtZW50IG1vZGUsIHdlIHRocm93IGEgY29uc29sZSBlcnJvci5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Byb2R1Y3Rpb24oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5jbGllbnRfaW5pdF9saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgIH1cblxuICAgIG9uTmV0d29ya1N0YXR1c0NoYW5nZShsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLm5ldHdvcmtTdGF0dXNDaGFuZ2VEaXNwb3NlciA9IHJlYWN0aW9uKFxuICAgICAgICAgICAgKCkgPT4gdGhpcy5yb290X3N0b3JlLmNvbW1vbi5pc19uZXR3b3JrX29ubGluZSxcbiAgICAgICAgICAgIGlzX29ubGluZSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXR3b3JrX3N0YXR1c19jaGFuZ2VfbGlzdGVuZXIoaXNfb25saW5lKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSBpcyBubyBsaXN0ZW5lciBjdXJyZW50bHkgYWN0aXZlLiBzbyB3ZSBjYW4ganVzdCBpZ25vcmUgdGhlIGVycm9yIHJhaXNlZCBmcm9tIHRyZWF0aW5nXG4gICAgICAgICAgICAgICAgICAgIC8vIGEgbnVsbCBvYmplY3QgYXMgYSBmdW5jdGlvbi4gQWx0aG91Z2gsIGluIGRldmVsb3BtZW50IG1vZGUsIHdlIHRocm93IGEgY29uc29sZSBlcnJvci5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1Byb2R1Y3Rpb24oKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLm5ldHdvcmtfc3RhdHVzX2NoYW5nZV9saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgIH1cblxuICAgIG9uVGhlbWVDaGFuZ2UobGlzdGVuZXIpIHtcbiAgICAgICAgdGhpcy50aGVtZUNoYW5nZURpc3Bvc2VyID0gcmVhY3Rpb24oXG4gICAgICAgICAgICAoKSA9PiB0aGlzLnJvb3Rfc3RvcmUudWkuaXNfZGFya19tb2RlX29uLFxuICAgICAgICAgICAgaXNfZGFya19tb2RlX29uID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRoZW1lX2NoYW5nZV9saXN0ZW5lcihpc19kYXJrX21vZGVfb24pO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZXJlIGlzIG5vIGxpc3RlbmVyIGN1cnJlbnRseSBhY3RpdmUuIHNvIHdlIGNhbiBqdXN0IGlnbm9yZSB0aGUgZXJyb3IgcmFpc2VkIGZyb20gdHJlYXRpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBudWxsIG9iamVjdCBhcyBhIGZ1bmN0aW9uLiBBbHRob3VnaCwgaW4gZGV2ZWxvcG1lbnQgbW9kZSwgd2UgdGhyb3cgYSBjb25zb2xlIGVycm9yLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUHJvZHVjdGlvbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMudGhlbWVfY2hhbmdlX2xpc3RlbmVyID0gbGlzdGVuZXI7XG4gICAgfVxuXG4gICAgb25SZWFsQWNjb3VudFNpZ251cEVuZChsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLnJlYWxBY2NvdW50U2lnbnVwRW5kZWREaXNwb3NlciA9IHdoZW4oXG4gICAgICAgICAgICAoKSA9PiB0aGlzLnJvb3Rfc3RvcmUudWkuaGFzX3JlYWxfYWNjb3VudF9zaWdudXBfZW5kZWQsXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5yZWFsX2FjY291bnRfc2lnbnVwX2VuZGVkX2xpc3RlbmVyKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnRoZW4gJiYgdHlwZW9mIHJlc3VsdC50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLnVpLnNldFJlYWxBY2NvdW50U2lnbnVwRW5kKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUmVhbEFjY291bnRTaWdudXBFbmQodGhpcy5yZWFsX2FjY291bnRfc2lnbnVwX2VuZGVkX2xpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZWFsIGFjY291bnQgc2lnbnVwIGxpc3RlbmVycyBhcmUgcmVxdWlyZWQgdG8gcmV0dXJuIGEgcHJvbWlzZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZXJlIGlzIG5vIGxpc3RlbmVyIGN1cnJlbnRseSBhY3RpdmUuIHNvIHdlIGNhbiBqdXN0IGlnbm9yZSB0aGUgZXJyb3IgcmFpc2VkIGZyb20gdHJlYXRpbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBudWxsIG9iamVjdCBhcyBhIGZ1bmN0aW9uLiBBbHRob3VnaCwgaW4gZGV2ZWxvcG1lbnQgbW9kZSwgd2UgdGhyb3cgYSBjb25zb2xlIGVycm9yLlxuICAgICAgICAgICAgICAgICAgICBpZiAoIWlzUHJvZHVjdGlvbigpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIHRoaXMucmVhbF9hY2NvdW50X3NpZ251cF9lbmRlZF9saXN0ZW5lciA9IGxpc3RlbmVyO1xuICAgIH1cblxuICAgIGRpc3Bvc2VQcmVTd2l0Y2hBY2NvdW50KCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMucHJlU3dpdGNoQWNjb3VudERpc3Bvc2VyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLnByZVN3aXRjaEFjY291bnREaXNwb3NlcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJlX3N3aXRjaF9hY2NvdW50X2xpc3RlbmVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBkaXNwb3NlU3dpdGNoQWNjb3VudCgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnN3aXRjaEFjY291bnREaXNwb3NlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5zd2l0Y2hBY2NvdW50RGlzcG9zZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnN3aXRjaF9hY2NvdW50X2xpc3RlbmVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBkaXNwb3NlTG9nb3V0KCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMubG9nb3V0RGlzcG9zZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMubG9nb3V0RGlzcG9zZXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ291dF9saXN0ZW5lciA9IG51bGw7XG4gICAgfVxuXG4gICAgZGlzcG9zZUNsaWVudEluaXQoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5jbGllbnRJbml0RGlzcG9zZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMuY2xpZW50SW5pdERpc3Bvc2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbGllbnRfaW5pdF9saXN0ZW5lciA9IG51bGw7XG4gICAgfVxuXG4gICAgZGlzcG9zZU5ldHdvcmtTdGF0dXNDaGFuZ2UoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5uZXR3b3JrU3RhdHVzQ2hhbmdlRGlzcG9zZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMubmV0d29ya1N0YXR1c0NoYW5nZURpc3Bvc2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5uZXR3b3JrX3N0YXR1c19jaGFuZ2VfbGlzdGVuZXIgPSBudWxsO1xuICAgIH1cblxuICAgIGRpc3Bvc2VUaGVtZUNoYW5nZSgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnRoZW1lQ2hhbmdlRGlzcG9zZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMudGhlbWVDaGFuZ2VEaXNwb3NlcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudGhlbWVfY2hhbmdlX2xpc3RlbmVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBkaXNwb3NlUmVhbEFjY291bnRTaWdudXBFbmQoKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5yZWFsQWNjb3VudFNpZ251cEVuZGVkRGlzcG9zZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMucmVhbEFjY291bnRTaWdudXBFbmRlZERpc3Bvc2VyKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZWFsX2FjY291bnRfc2lnbnVwX2VuZGVkX2xpc3RlbmVyID0gbnVsbDtcbiAgICB9XG5cbiAgICBvblVubW91bnQoKSB7XG4gICAgICAgIHRoaXMuZGlzcG9zZVByZVN3aXRjaEFjY291bnQoKTtcbiAgICAgICAgdGhpcy5kaXNwb3NlU3dpdGNoQWNjb3VudCgpO1xuICAgICAgICB0aGlzLmRpc3Bvc2VMb2dvdXQoKTtcbiAgICAgICAgdGhpcy5kaXNwb3NlQ2xpZW50SW5pdCgpO1xuICAgICAgICB0aGlzLmRpc3Bvc2VOZXR3b3JrU3RhdHVzQ2hhbmdlKCk7XG4gICAgICAgIHRoaXMuZGlzcG9zZVRoZW1lQ2hhbmdlKCk7XG4gICAgICAgIHRoaXMuZGlzcG9zZVJlYWxBY2NvdW50U2lnbnVwRW5kKCk7XG4gICAgfVxuXG4gICAgYXNzZXJ0SGFzVmFsaWRDYWNoZShsb2dpbmlkLCAuLi5yZWFjdGlvbnMpIHtcbiAgICAgICAgLy8gYWNjb3VudCB3YXMgY2hhbmdlZCB3aGVuIHRoaXMgd2FzIHVubW91bnRlZC5cbiAgICAgICAgaWYgKHRoaXMucm9vdF9zdG9yZS5jbGllbnQubG9naW5pZCAhPT0gbG9naW5pZCkge1xuICAgICAgICAgICAgcmVhY3Rpb25zLmZvckVhY2goYWN0ID0+IGFjdCgpKTtcbiAgICAgICAgICAgIHRoaXMucGFydGlhbF9mZXRjaF90aW1lID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/Stores/base-store.js\n')},"@deriv/shared":e=>{e.exports=__WEBPACK_EXTERNAL_MODULE__deriv_shared__},"@deriv/translations":e=>{e.exports=__WEBPACK_EXTERNAL_MODULE__deriv_translations__},mobx:e=>{e.exports=__WEBPACK_EXTERNAL_MODULE_mobx__}},__webpack_module_cache__={};function __nested_webpack_require_236746__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__nested_webpack_require_236746__),n.exports}__nested_webpack_require_236746__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __nested_webpack_require_236746__.d(t,{a:t}),t},__nested_webpack_require_236746__.d=(e,t)=>{for(var n in t)__nested_webpack_require_236746__.o(t,n)&&!__nested_webpack_require_236746__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__nested_webpack_require_236746__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __nested_webpack_exports__=__nested_webpack_require_236746__("./src/Stores/Modules/CFD/cfd-store.js");return __nested_webpack_exports__=__nested_webpack_exports__.default,__nested_webpack_exports__})(),module.exports=factory(__webpack_require__(189137),__webpack_require__(33118),__webpack_require__(351447))},106501:e=>{e.exports={getEnglishCharacters:e=>e.normalize("NFD").split("").filter((e=>/^[a-z ]*$/i.test(e))).join(""),getFileNameFromPath:e=>e.match(/([^/]*)\/*$/)[1].replace(".svg",""),getKebabCase:e=>e?e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/[\s]+/g,"-").toLowerCase():e,getPascalCase:e=>e?String(e).replace(/^[^A-Za-z0-9]*|[^A-Za-z0-9]*$/g,"$").replace(/[^_A-Za-z0-9]+/g,"$").replace(/([a-z])([A-Z])/g,((e,t,n)=>`${t}$${n}`)).replace(/(\$)(\w?)/g,((e,t,n)=>n.toUpperCase())):"",getSnakeCase:e=>e?e.replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/[\s]+/g,"_").toLowerCase():e}},438295:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>y,C:()=>C,xH:()=>p});var r=n(286326),o=n(475236),i=n.n(o),a=n(189137),s=n(386002),c=n(348932),l=n(809478),g=n(836870);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const I=(0,r.createContext)(null),b=()=>`wss://${(0,a.getSocketURL)()}/websockets/v3?app_id=${(0,a.getAppId)()}&l=${localStorage.getItem("i18n_language")}&brand=deriv`,C=()=>{var e;const t=b();return null===(e=window)||void 0===e||null===(e=e.WSConnections)||void 0===e?void 0:e[t]},h=e=>{var t,n,r;window.DerivAPI||(window.DerivAPI={});const o=b(),a=((e,t)=>{window.WSConnections||(window.WSConnections={});const n=window.WSConnections[e];return n&&n instanceof WebSocket&&![2,3].includes(n.readyState)||(window.WSConnections[e]=new WebSocket(e),window.WSConnections[e].addEventListener("close",(()=>{"function"==typeof t&&t()}))),window.WSConnections[e]})(o,e);return(null===(t=window.DerivAPI)||void 0===t||!t[o]||null!==(n=window.DerivAPI)&&void 0!==n&&n[o].isConnectionClosed())&&(window.DerivAPI[o]=new(i())({connection:a})),null===(r=window.DerivAPI)||void 0===r?void 0:r[o]},m=(window.ReactQueryClient||(window.ReactQueryClient=new s.E),window.ReactQueryClient),A=e=>window.localStorage.getItem("config.server_url")?"custom":e&&!/^(VRT|VRW)/.test(e)?"real":"demo",p=()=>{const e=(0,r.useContext)(I);if(!e)throw new Error("useAPIContext must be used within APIProvider");return e},y=e=>{let{children:t,standalone:n=!1}=e;const o=(0,a.useWS)(),[i,s]=(0,r.useState)(!1),d=window.localStorage.getItem("active_loginid"),[_,b]=(0,r.useState)(A(d)),C=(0,r.useRef)(n?h((()=>s(!0))):null),p=(0,r.useRef)();(0,r.useEffect)((()=>{const e=C.current,t=p.current;return()=>{t&&Object.keys(t).forEach((e=>{t[e].unsubscribe()})),e&&1===e.connection.readyState&&e.disconnect()}}),[]);const y=(0,r.useCallback)((e=>{if(!n)return;const t=A(e);"custom"!==t&&t!==_&&b(t)}),[_,n]);return(0,r.useEffect)((()=>{let e;return n&&(e=setInterval((()=>{var e;return null===(e=C.current)||void 0===e?void 0:e.send({ping:1})}),1e4)),()=>clearInterval(e)}),[n]),(0,r.useEffect)((()=>{let e;return(n||i)&&(C.current=h((()=>{e=setTimeout((()=>s(!0)),500)})),s(!1)),()=>clearTimeout(e)}),[_,i,n]),(0,g.jsx)(I.Provider,{value:{derivAPI:n?C.current:o,switchEnvironment:y,send:(e,t)=>{var n;return null===(n=C.current)||void 0===n?void 0:n.send(u({[e]:1},t))},subscribe:async(e,t)=>{var n,r,o;const i=await(0,l.w)({name:e,payload:t}),a=null===(n=p.current)||void 0===n?void 0:n[i];if(a)return{id:i,subscription:a};const{payload:s}=null!=t?t:{},c=null===(r=C.current)||void 0===r?void 0:r.subscribe(u({[e]:1,subscribe:1},null!=s?s:{}));return p.current=u(u({},null!==(o=p.current)&&void 0!==o?o:{}),{[i]:c}),{id:i,subscription:c}},unsubscribe:e=>{var t;const n=null===(t=p.current)||void 0===t?void 0:t[e];n&&n.unsubscribe()},queryClient:m},children:(0,g.jsx)(c.Ht,{client:m,children:t})})}},513617:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(286326),o=n(712949),i=n(338508),a=n(773835),s=n(438295);const c=["data"];function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=()=>{const e=(0,o.getActiveAuthTokenIDFromLocalStorage)(),t=(0,i.A)(),{switchEnvironment:n,queryClient:l}=(0,s.xH)(),[d,u]=(0,r.useState)((0,o.getActiveLoginIDFromLocalStorage)()),_=(0,a.A)("authorize",{payload:{authorize:e||""},options:{enabled:Boolean(e),refetchOnWindowFocus:!1,refetchOnReconnect:!1}}),{data:I}=_,b=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(_,c),C=(0,r.useMemo)((()=>g({},null==I?void 0:I.authorize)),[null==I?void 0:I.authorize]);return g({data:C,switchAccount:(0,r.useCallback)((e=>{const t=(0,o.getActiveLoginIDFromLocalStorage)();t!==e&&(localStorage.setItem("active_loginid",e),n(t),l.cancelQueries(),u(e))}),[t,n,d]),currentLoginID:d},b)}},890749:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(286326),o=n(773835);const i=["data"];function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=()=>{const e=(0,o.A)("website_status"),{data:t}=e,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,i);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({data:(0,r.useMemo)((()=>{var e;return null==t||null===(e=t.website_status)||void 0===e?void 0:e.clients_country}),[t])},n)}},8531:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(286326),o=n(294035);const i=JSON.parse('{"cs_chat_livechat":true,"cs_chat_whatsapp":true,"marketing_growthbook":true,"passkeys":true,"tracking_GTM":true,"tracking_datadog":true,"tracking_hotjar":true,"tracking_rudderstack":true}');const a=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const[t,n]=(0,r.useState)(i),a=(0,r.useRef)(!1);return(0,r.useEffect)((()=>(a.current=!0,()=>{a.current=!1})),[]),(0,r.useEffect)((()=>{e&&async function(){throw new Error("Remote Config URL is not set!")}().then((async e=>{await o.BF.hashObject(e)!==await o.BF.hashObject(t)&&a.current&&n(e)})).catch((e=>{console.log("Remote Config error: ",e)}))}),[e,t]),{data:t}}},672313:(e,t,n)=>{"use strict";n.d(t,{A:()=>I});var r=n(286326),o=n(513617),i=n(773835),a=n(338508),s=n(108340);const c=["data"],l=["mutate"];function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const I=()=>{const{isSuccess:e}=(0,o.A)(),t=(0,i.A)("get_settings",{options:{enabled:e}}),{data:n}=t,g=_(t,c),u=(0,s.A)("set_settings",{onSuccess:()=>C("get_settings")}),{mutate:I}=u,b=_(u,l),C=(0,a.A)(),h=(0,r.useCallback)((e=>I({payload:e})),[I]),m=(0,r.useMemo)((()=>{var e,t,r,o,i,a,s,c,l,g;const u=null!==(e=null==n||null===(t=n.get_settings)||void 0===t?void 0:t.citizen)&&void 0!==e?e:"",_=null!==(r=null==n||null===(o=n.get_settings)||void 0===o?void 0:o.account_opening_reason)&&void 0!==r?r:"",I=null!==(i=null==n||null===(a=n.get_settings)||void 0===a?void 0:a.place_of_birth)&&void 0!==i?i:"",b=null!==(s=null==n||null===(c=n.get_settings)||void 0===c?void 0:c.tax_residence)&&void 0!==s?s:"",C=null!==(l=null==n||null===(g=n.get_settings)||void 0===g?void 0:g.tax_identification_number)&&void 0!==l?l:"";return d(d({},null==n?void 0:n.get_settings),{},{has_submitted_personal_details:Boolean(u&&_&&I&&b&&C)})}),[null==n?void 0:n.get_settings]);return d({data:m,update:h,mutation:b},g)}},93219:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(286326),o=n(438295);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const c=()=>{const{derivAPI:e}=(0,o.xH)();return{send:(0,r.useCallback)((async(t,n)=>{const r=await(null==e?void 0:e.send(a({[t]:1},n||{})));if(r.error)throw r.error;return r}),[e]),subscribe:(0,r.useCallback)(((t,n)=>null==e?void 0:e.subscribe(a({[t]:1,subscribe:1},n||{}))),[e])}}},338508:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(286326),o=n(348932);const i=()=>{const e=(0,o.jE)();return(0,r.useCallback)(((t,n)=>e.invalidateQueries(Array.isArray(t)?t:[t],n)),[e])}},108340:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(286326),o=n(261942),i=n(93219);const a=["mutate","mutateAsync"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=(e,t)=>{const{send:n}=(0,i.A)(),l=(0,o.n)((t=>{const r=null==t?void 0:t[0],o=r&&"payload"in r?r.payload:void 0;return n(e,o)}),t),{mutate:g,mutateAsync:d}=l,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(l,a);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({mutate:(0,r.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return g(t)}),[g]),mutateAsync:(0,r.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d(t)}),[d])},u)}},773835:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(892321),o=n(93219),i=n(488854);const a=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];const s=null==n?void 0:n[0],c=s&&"payload"in s?s.payload:void 0,l=s&&"options"in s?s.options:void 0,{send:g}=(0,o.A)();return(0,r.I)((0,i.d)(e,c),(()=>g(e,c)),l)}},961946:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(286326),o=n(93219);const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const[n,i]=(0,r.useState)(!1),[a,s]=(0,r.useState)(!1),[c,l]=(0,r.useState)(!1),[g,d]=(0,r.useState)(),[u,_]=(0,r.useState)(),I=(0,r.useRef)(),b=(0,r.useRef)(),{subscribe:C}=(0,o.A)(),h=(0,r.useCallback)((function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];const a=null==r?void 0:r[0],c=a&&"payload"in a?a.payload:void 0;i(!0),s(!0),l(!1),b.current=setTimeout((()=>{l(!0),i(!1)}),t);try{I.current=C(e,c).subscribe((e=>{_(e),i(!1)}),(e=>{d(e.error),i(!1)}))}catch(e){d(e)}}),[C,e,t]),m=(0,r.useCallback)((()=>{var e,t;null===(e=I.current)||void 0===e||null===(t=e.unsubscribe)||void 0===t||t.call(e),s(!1)}),[]);return(0,r.useEffect)((()=>()=>{m()}),[m]),(0,r.useEffect)((()=>()=>{b.current&&clearTimeout(b.current)}),[u]),{subscribe:h,unsubscribe:m,isIdle:c,isLoading:n,isSubscribed:a,error:g,data:u}}},809478:(e,t,n)=>{"use strict";n.d(t,{w:()=>r});const r=async e=>{const t=(new TextEncoder).encode(JSON.stringify(e)),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>`00${e.toString(16)}`.slice(-2))).join("")}},488854:(e,t,n)=>{"use strict";n.d(t,{d:()=>r});const r=(e,t)=>{if(!t)return[e];if(delete t.req_id,e&&1===t[e]&&delete t[e],0===Object.keys(t).length)return[e];const n=Object.keys(t).sort(((e,t)=>e.localeCompare(t))).reduce(((e,n)=>(e[n]=t[n],e)),{});return[e,JSON.stringify(n)]}},922124:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>g});var r=n(255530),o=n.n(r),i=n(286326),a=n(189137),s=n(37087),c=n(836870);const l=i.forwardRef(((e,t)=>{let{className:n,color:r,custom_color:i,data_testid:l,height:g,icon:d,id:u,onClick:_,onMouseDown:I,onMouseEnter:b,onMouseLeave:C,onTouchStart:h,size:m=16,width:A,description:p}=e;if(!d)return null;let y="common";const f=new RegExp(`^Ic(${Object.keys(s).join("|")})`,"gi").exec(d);null!=f&&f[1]&&(y=(0,a.getKebabCase)(f[1]));const B=d.startsWith("IcUnderlying")?`ic-underlying-${d.split("IcUnderlying")[1].toUpperCase()}`:(0,a.getKebabCase)(d),v=s[y];return(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",className:o()("dc-icon",n,{"dc-icon--active":"active"===r,"dc-icon--disabled":"disabled"===r,"dc-icon--green":"green"===r||"IcProfit"===d,"dc-icon--red":"red"===r||"IcLoss"===d,"dc-icon--secondary":"secondary"===r,"dc-icon--brand":"brand"===r,"dc-icon--black":"black"===r,"dc-icon--orange":"orange"===r}),"data-testid":l,height:g||m,id:u,width:A||m,onClick:_,onMouseDown:I,onMouseEnter:b,onMouseLeave:C,onTouchStart:h,ref:t,style:i?{"--fill-color1":i}:void 0,children:[(0,c.jsx)("desc",{children:p}),(0,c.jsx)("use",{xlinkHref:`${(0,a.getUrlBase)(`/public/sprites/${v}.svg`)}#${B}`})]})}));l.displayName="Icon";const g=i.memo(l)},37087:e=>{e.exports={appstore:"appstore.5f28f68e7adf5cc73949dc4d729276b5",brand:"brand.7f96e89d0492cab745afec00efbc00eb",cashier:"cashier.bd4595decf98fec30aeb1172bd999274",common:"common.c0bf020ddd10c7599a7afea200fdb90a",contract:"contract.ce9d310321a5d689d0bd48d128b9419b",ctrader:"ctrader.73bbece8f969d364ec881d9ecb9916e4",currency:"currency.b6a4f2ec93b217af3473968ece58b84d",dxtrade:"dxtrade.c6c96ca6b12f6f3ebd3468830fad6d95",mt5:"mt5.d806cad8d33f582a5297c27ec8b24880",option:"option.ec57f5f82f8f18b5aa736d52d7ad3ac0",rebranding:"rebranding.4ac9f88edd1a02aedcce1725565bd92f",stock:"stock.73b654850474ad787a20d6770b5a69fa",tradetype:"tradetype.0206953eda59bd6033621c304f834771",underlying:"underlying.f3b3c09553ee29c60c95dca3764443b8",wallet:"wallet.72b63907ec4384c55e60bd38b975324f"}},57886:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Accordion:()=>O,AmountInput:()=>H,AppLinkedWithWalletIcon:()=>Wg,ArrowIndicator:()=>$,AutoHeightWrapper:()=>ne,AutoSizer:()=>Ue,Autocomplete:()=>xe,Badge:()=>at,Button:()=>qe,ButtonLink:()=>lt,ButtonToggle:()=>At,CFDCompareAccountsCarousel:()=>_n,Calendar:()=>Pt,Card:()=>tn,Carousel:()=>gn,Checkbox:()=>vn,Checklist:()=>xn,CircularProgress:()=>Gn,Clipboard:()=>hn,Collapsible:()=>kn,CompositeCheckbox:()=>$n,ContentExpander:()=>Dn,ContractCard:()=>Zo,ContractCardSell:()=>Uo,Counter:()=>Jn,CurrencyBadge:()=>Cr,DataList:()=>Bi,DataTable:()=>Zi,DateOfBirthPicker:()=>oi,DatePicker:()=>ti,DesktopWrapper:()=>gr,Dialog:()=>wi,Div100vhContainer:()=>Dr,Drawer:()=>ji,Dropdown:()=>$i,EmptyState:()=>qi,ErrorModal:()=>ca,ExpansionPanel:()=>na,FadeWrapper:()=>_a,Field:()=>Z,FileDropzone:()=>ya,FilterDropdown:()=>Wa,FormCancelButton:()=>Da,FormProgress:()=>Oa,FormSubmitButton:()=>Ta,FormSubmitErrorMessage:()=>Va,GradientBackground:()=>Ja,GradientBackgroundTwoPoint:()=>La,HintBox:()=>Ma,HorizontalSwipe:()=>$a,Icon:()=>W,IconTradeTypes:()=>ir,InfiniteDataList:()=>ts,InlineMessage:()=>os,Input:()=>L,InputField:()=>Zr,InputWithCheckbox:()=>Vr,Label:()=>ss,LinearProgress:()=>gs,Loading:()=>ds,MAX_MOBILE_WIDTH:()=>d,MAX_TABLET_WIDTH:()=>u,MessageList:()=>Nl,MobileDialog:()=>Lr,MobileDrawer:()=>fs,MobileFullPageModal:()=>xs,MobileWrapper:()=>dr,Modal:()=>aa,Money:()=>mr,MultiStep:()=>Us,NewsTicker:()=>Os,Numpad:()=>Ss,OpenLiveChatLink:()=>Ps,PageError:()=>Ds,PageErrorContainer:()=>Ks,PageOverlay:()=>$s,PasswordInput:()=>rc,PasswordMeter:()=>ic,Popover:()=>Qt,PopoverMessageCheckbox:()=>Ac,Popup:()=>mc,PositionsDrawerCard:()=>sc,ProgressBar:()=>yc,ProgressBarTracker:()=>fc,ProgressIndicator:()=>Bc,ProgressSlider:()=>lr,ProgressSliderMobile:()=>vr,RadioGroup:()=>Wc,ReadMore:()=>Nc,RelativeDatepicker:()=>il,RemainingTime:()=>cr,RouteWithSubroutes:()=>Xc,SearchBox:()=>dl,SelectNative:()=>wc,SendEmailTemplate:()=>Sc,SideNote:()=>Pc,Skeleton:()=>we,SpanButton:()=>et,StaticUrl:()=>kc,StatusBadge:()=>Dc,SwipeableNotification:()=>$c,SwipeableWrapper:()=>ol,Table:()=>yl,Tabs:()=>_c,Text:()=>M,ThemedScrollbars:()=>Jr,TickPicker:()=>Rl,TickProgress:()=>fr,Timeline:()=>Jl,Toast:()=>fl,ToggleSwitch:()=>Bl,Tooltip:()=>Or,UILoader:()=>Ll,UnhandledErrorModal:()=>Ls,VARIANT:()=>Xe,VerticalTab:()=>lg,VideoPlayer:()=>vg,WalletCard:()=>Gg,WalletIcon:()=>Qg,Wizard:()=>ug,useBlockScroll:()=>a,useConstructor:()=>Q,useCopyToClipboard:()=>G,useDebounce:()=>l,useDeepEffect:()=>v,useDevice:()=>_,useHover:()=>I,useHoverCallback:()=>b,useInterval:()=>C,useLongPress:()=>p,useOnClickOutside:()=>A,usePreventIOSZoom:()=>f,usePrevious:()=>y,useSafeState:()=>x,useStateCallback:()=>F});var r=n(255530),o=n.n(r),i=n(286326);const a=e=>{i.useEffect((()=>{if(!e)return;const t=e=>e?e.classList.contains("dc-themed-scrollbars")&&e.scrollHeight>e.clientHeight?e:t(e.parentElement):null,n=t(e.current),r=navigator.userAgent.indexOf("Firefox")>-1?"100%":"calc(100% - 5px)";return n&&(n.style.overflow="hidden",n.style.width=r),()=>{n&&(n.style.removeProperty("overflow"),n.style.removeProperty("width"))}}),[e])};var s=n(862051),c=n.n(s);const l=(e,t)=>{const n=i.useMemo((()=>c()(e,t)),[]);return i.useEffect((()=>n.cancel),[]),n};var g=n(592129);const d=767,u=1024,_=()=>{const{width:e}=(0,g.lW)();return{is_desktop:e>u,is_mobile:e>0&&e<=d,is_tablet:e>d&&e<=u}},I=(e,t)=>{const[n,r]=i.useState(!1),o=i.useRef(null),a=e||o,s=()=>r(!0),c=()=>r(!1);return i.useEffect((()=>{const e=a.current;if(e)return t?(e.addEventListener("mouseenter",s),e.addEventListener("mouseleave",c)):(e.addEventListener("mouseover",s),e.addEventListener("mouseout",c)),()=>{t?(e.removeEventListener("mouseenter",s),e.removeEventListener("mouseleave",c)):(e.removeEventListener("mouseover",s),e.removeEventListener("mouseout",c))}}),[a,t]),[a,n]},b=()=>{const[e,t]=i.useState(!1),n=i.useCallback((()=>t(!0)),[]),r=i.useCallback((()=>t(!1)),[]),o=i.useRef(null);return[i.useCallback((e=>{o.current&&(o.current.removeEventListener("mouseover",n),o.current.removeEventListener("mouseout",r)),o.current=e,o.current&&(o.current.addEventListener("mouseover",n),o.current.addEventListener("mouseout",r))}),[n,r]),e]},C=(e,t)=>{const n=i.useRef();i.useEffect((()=>{n.current=e}),[e]),i.useEffect((()=>{if(null!==t){const e=setInterval((function(){var e;null===(e=n.current)||void 0===e||e.call(n)}),t);return()=>clearInterval(e)}}),[t])},h="undefined"!=typeof window?i.useLayoutEffect:i.useEffect;const m=function(e,t,n,r){const o=(0,i.useRef)(t);h((()=>{o.current=t}),[t]),(0,i.useEffect)((()=>{let t,i;var a,s;return t=null!==(a=null==n?void 0:n.current)&&void 0!==a?a:window,i=e=>o.current(e),null!==(s=t)&&void 0!==s&&s.addEventListener&&t.addEventListener(e,i,r),()=>{var n;null===(n=t)||void 0===n||n.removeEventListener(e,i,r)}}),[e,n,r])};function A(e,t,n){m(arguments.length>3&&void 0!==arguments[3]?arguments[3]:"mousedown",(r=>{const o=null==e?void 0:e.current;o&&!o.contains(r.target)&&(n&&!n(r)||t(r))}))}const p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;const[n,r]=i.useState(!1);return i.useEffect((()=>{let r;return n?r=setTimeout(e,t):r&&clearTimeout(r),()=>{clearTimeout(r)}}),[n]),{onMouseDown:e=>{(e=>{e.preventDefault(),e.stopPropagation()})(e),r(!0)},onMouseUp:()=>r(!1),onMouseLeave:()=>r(!1),onTouchStart:()=>r(!0),onTouchEnd:()=>r(!1)}},y=e=>{const t=i.useRef();return i.useEffect((()=>{t.current=e}),[e]),t.current},f=()=>{i.useEffect((()=>{const e=e=>{e.touches.length>1&&(e.preventDefault(),e.stopPropagation())};return document.addEventListener("touchstart",(t=>e(t)),{passive:!1}),()=>{document.removeEventListener("touchstart",(t=>e(t)))}}),[])};var B=n(189137);const v=(e,t)=>{const n=i.useRef(null);(0,B.isDeepEqual)(n,t)||(n.current=t,e())},F=e=>{const[t,n]=i.useState(e),r=i.useRef(null),o=i.useCallback(((e,t)=>{r.current=t,n(e)}),[]);return i.useEffect((()=>{r.current&&(r.current(t),r.current=null)}),[t]),[t,o]},Q=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{};const t=i.useRef(!1);t.current||(e(),t.current=!0)},x=(e,t)=>{const[n,r]=i.useState(e),o=i.useRef(!1);i.useLayoutEffect((()=>(o.current=!0,()=>{o.current=!1})),[]);return[n,e=>{(t&&"function"==typeof t?t():!0===o.current)&&r(e)}]},G=()=>{const[e,t]=i.useState(!1);return[e,async e=>{var n;if(null===(n=navigator)||void 0===n||!n.clipboard)return!1;try{return await navigator.clipboard.writeText(e),t(!0),!0}catch(e){return t(!1),!1}},t]};var U=n(922124);const W=U.default;var N=n(836870);const O=e=>{let{className:t,icon_close:n,icon_open:r,list:a}=e;const[s,c]=i.useState(null),l=y(a);i.useEffect((()=>{l!==a&&c(null)}),[a,l]);return(0,N.jsx)("div",{className:o()("dc-accordion__wrapper",t),children:a.map(((e,t)=>(0,N.jsxs)("div",{className:o()("dc-accordion__item","dc-accordion__item--"+(s===t?"open":"close"),{["dc-accordion__item--"+(0===t?"first":"last")]:0===t||t===a.length-1}),children:[(0,N.jsxs)("div",{className:"dc-accordion__item-header",onClick:()=>{return c((e=t)===s?null:e);var e},children:[e.header,(0,N.jsx)("div",{className:"dc-accordion__item-header-icon-wrapper",children:s===t?(0,N.jsx)(W,{icon:r||"IcMinus",className:"dc-accordion__item-header-icon"}):(0,N.jsx)(W,{icon:n||"IcAdd",className:"dc-accordion__item-header-icon"})})]}),(0,N.jsx)("div",{className:"dc-accordion__item-content",children:e.content})]},t)))})},E=e=>{let{message:t,className:n,type:r}=e;return(0,N.jsx)("div",{className:o()("dc-field",n,{"dc-field--error":"error"===r,"dc-field--warn":"warn"===r}),children:t})},Z=E,X=["children","size","color","align","weight","line_height","as","className","styles"];function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const V=e=>{let{children:t,size:n="s",color:r="general",align:a="left",weight:s="normal",line_height:c="m",as:l,className:g,styles:d}=e,u=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,X);const _={"--text-size":`var(--text-size-${n})`,"--text-color":`var(--text-${r})`,"--text-lh":`var(--text-lh-${c})`,"--text-weight":`var(--text-weight-${s})`,"--text-align":`var(--text-align-${a})`},[I,b]=i.useState(_);i.useEffect((()=>{if((0,B.isEmptyObject)(d))b(_);else{const e=R(R({},_),d);b(e)}}),[n,r,c,s,a]);const C=o()("dc-text",g);return i.createElement(l||"span",R({className:C,style:I},u),t)},j=["bottom_label","className","classNameError","classNameHint","classNameWarn","disabled","error","field_className","has_character_counter","hint","initial_character_count","input_id","is_relative_hint","label_className","label","leading_icon","max_characters","trailing_icon","warn","data_testId","maxLength","placeholder"];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const P=e=>{let{children:t,has_footer:n}=e;return n?(0,N.jsx)("div",{className:"dc-input__wrapper",children:t}):(0,N.jsx)(i.Fragment,{children:t})},D=i.forwardRef(((e,t)=>{let{bottom_label:n,className:r,classNameError:a,classNameHint:s,classNameWarn:c,disabled:l=!1,error:g,field_className:d,has_character_counter:u,hint:_,initial_character_count:I,input_id:b,is_relative_hint:C,label_className:h,label:m,leading_icon:A,max_characters:p,trailing_icon:y,warn:f,data_testId:B,maxLength:v,placeholder:F}=e,Q=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,j);const[x,G]=i.useState(0);i.useEffect((()=>{(I||0===I)&&G(I)}),[I]);const U=!!u||!!_&&!!C,W=m?"":F;return(0,N.jsxs)(P,{has_footer:U,children:[(0,N.jsxs)("div",{className:o()("dc-input",r,{"dc-input--disabled":l,"dc-input--error":g,"dc-input--hint":_,"dc-input--bottom-label-active":n}),children:[(0,N.jsxs)("div",{className:o()("dc-input__container",{"dc-input__container--disabled":l,"dc-input__container--error":g}),children:[A&&i.cloneElement(A,{className:o()("dc-input__leading-icon",A.props.className)}),"textarea"===Q.type?(0,N.jsx)("textarea",S(S({ref:t,"data-testid":B},Q),{},{className:o()("dc-input__field dc-input__textarea",{"dc-input__field--placeholder-visible":!m&&F}),onChange:e=>{var t;let n=e.target.value;p&&n.length>=p&&(n=n.slice(0,p)),G(n.length),e.target.value=n,null===(t=Q.onChange)||void 0===t||t.call(Q,e)},disabled:l,id:b,maxLength:v,placeholder:W})):(0,N.jsx)("input",S(S({ref:t,"data-testid":B},Q),{},{className:o()("dc-input__field",d,{"dc-input__field--placeholder-visible":!m&&F}),onFocus:Q.onFocus,onBlur:Q.onBlur,onChange:Q.onChange,onKeyDown:Q.onKeyDown,onMouseDown:Q.onMouseDown,onMouseUp:Q.onMouseUp,onPaste:Q.onPaste,disabled:l,"data-lpignore":"password"!==Q.type||void 0,id:b,"aria-label":m,maxLength:v,placeholder:W})),y&&i.cloneElement(y,{className:o()("dc-input__trailing-icon",y.props.className)}),m&&(0,N.jsx)("label",{className:o()("dc-input__label",h),htmlFor:Q.id,children:m})]}),(0,N.jsx)("div",{children:!U&&(0,N.jsxs)(i.Fragment,{children:[g&&(0,N.jsx)(Z,{className:a,message:g,type:"error"}),f&&(0,N.jsx)(Z,{className:c,message:f,type:"warn"}),!g&&_&&!C&&(0,N.jsx)("div",{className:"dc-input__hint",children:(0,N.jsx)(V,{as:"p",color:"less-prominent",size:"xxs",className:s,children:_})})]})})]}),U&&(0,N.jsxs)("div",{className:"dc-input__footer",children:[g&&(0,N.jsx)(Z,{className:a,message:g,type:"error"}),f&&(0,N.jsx)(Z,{className:c,message:f,type:"warn"}),!g&&_&&(0,N.jsx)("div",{className:"dc-input__hint dc-input__hint--relative",children:(0,N.jsx)(V,{color:"less-prominent","line-height":"m",size:"xxs",children:_})}),u&&(0,N.jsx)("div",{className:"dc-input__counter",children:(0,N.jsxs)(V,{color:"less-prominent","line-height":"m",size:"xxs",children:[x,p?`/${p}`:""]})})]}),n&&!g&&(0,N.jsx)("div",{className:"dc-input__bottom-label",children:(0,N.jsx)(V,{size:"xs",color:"less-prominent",children:n})})]})}));D.displayName="Input";const J=D,L=J,M=V,z=e=>{let{currency:t,decimal_places:n=2,disabled:r=!1,has_error:a,initial_value:s=0,label:c,locale:l,max_digits:g=8,onChange:d}=e;const[u,_]=(0,i.useState)(s),[I,b]=(0,i.useState)(!1),[C,h]=(0,i.useState)(!1),[m,A]=(0,i.useState)(0),[p,y]=(0,i.useState)({selectionStart:0,selectionEnd:0}),[f,v]=(0,i.useState)(),F=(0,i.useCallback)((e=>e.toLocaleString(l,{minimumFractionDigits:n})),[n,l]);(0,i.useEffect)((()=>{_(s)}),[s]),(0,i.useEffect)((()=>{const e=F(u).length-m;null==f||f.setSelectionRange(e,e),y({selectionStart:e,selectionEnd:e})}),[u,f,F]);const Q=e=>{null!==e.currentTarget.selectionStart&&null!==e.currentTarget.selectionEnd&&(A(e.currentTarget.value.length-e.currentTarget.selectionEnd),y({selectionStart:e.currentTarget.selectionStart,selectionEnd:e.currentTarget.selectionEnd}))};return(0,N.jsxs)("div",{className:"amount-input-wrapper",children:[(0,N.jsx)(M,{size:(0,B.isMobile)()?"xxs":"xs",children:c}),(0,N.jsxs)("div",{className:o()("amount-input-container",{"amount-input-container--error":a,"amount-input-container--disabled":r}),children:[(0,N.jsx)(L,{className:"amount-input",disabled:r||I,type:"text",inputMode:"numeric",value:`${F(u)} ${t}`,onChange:()=>{}}),(0,N.jsx)(L,{className:"amount-input","data-testid":"dt_amount-input",disabled:r,onFocus:()=>b(!0),onBlur:()=>b(!1),onChange:e=>{f||v(e.target);let t=u;if(C){const r=p.selectionEnd-p.selectionStart,o=e.target.value.length+r-F(u).length,i=e.target.value.substring(p.selectionStart,p.selectionStart+o),a=e.target.value.replace(/[^\d.,]/g,""),s=i.replace(/[^\d.,]/g,"").replace(/[,.](?=.*[,.])/g,"").replace(",",".");s.replace(".","")&&(0===u&&0===m||r===F(u).length?t=Number(s.substring(0,s.includes(".")?g+1:g-n)):a.replace(/[.,]/g,"").replace(/^0+/g,"").length<=g&&(t=Number(a.replace(/[.,]/g,""))/Math.pow(10,n)))}else{const r=e.target.value.replace(/[^\d.,]/g,"");r.replace(/[.,]/g,"").replace(/^0+/g,"").length<=g&&(t=Number(r.replace(/[.,]/g,""))/Math.pow(10,n))}_(t),h(!1),null==d||d(t)},onKeyDown:Q,onMouseDown:Q,onMouseUp:Q,onPaste:()=>h(!0),type:"text",inputMode:"numeric",value:F(u)})]})]})},H=z,K=e=>{let{className:t,value:n}=e;const[r,o]=i.useState(!1),[a,s]=i.useState({icon:"",previous_icon:""}),{icon:c,previous_icon:l,previous_value:g}=a,d=!isNaN(Number(a.value))&&!isNaN(Number(n)),u=i.useRef();return i.useEffect((()=>(o(!0),s((e=>{const t=Number(e.value)<Number(n);return{icon:d?t?"IcProfit":"IcLoss":"",previous_icon:e.icon,previous_value:e.value,value:n}})),clearTimeout(u.current),u.current=setTimeout((()=>{o(!1)}),3e3),()=>clearTimeout(u.current))),[n]),(0,N.jsx)("div",{className:t,"data-testid":"dt_arrow_indicator",children:d&&r?(0,N.jsx)(U.default,{icon:g===Number(n)?l:c}):null})},$=i.memo(K);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ne=e=>{const[t,n]=i.useState(e.default_height),r=i.useRef(0),o=i.useRef(!1),a=y(r.current);i.useEffect((()=>(o.current=!0,window.addEventListener("resize",s),()=>{o.current=!1,window.removeEventListener("resize",s)})),[]);const s=()=>{e.default_height&&o.current&&n(r.current>e.default_height?r.current-(e.height_offset||0):e.default_height)};return e.children(ee(ee({},e),{},{height:t,setRef:e=>{Number.isInteger(null==e?void 0:e.clientHeight)&&(null==e?void 0:e.clientHeight)!==a&&(r.current=Number(null==e?void 0:e.clientHeight),setTimeout(s,0))}}))};var re=n(735623),oe=n(557344);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ce=e=>{let{autohide:t=!0,children:n,className:r,has_horizontal:a,height:s,is_bypassed:c,is_only_horizontal:l,is_only_horizontal_overlay:g,is_scrollbar_hidden:d,testId:u="dt_themed_scrollbars",onScroll:_,refSetter:b=null,style:C={},scroll_height:h,should_scroll_to_selected:m=!1,width:A}=e;const[p,y]=I(b,!1);return i.useEffect((()=>{var e;m&&h&&(null==p||null===(e=p.current)||void 0===e||e.scrollTo(0,h))}),[h,p,m]),c?n:(0,N.jsx)("div",{"data-testid":u,ref:p,className:o()("dc-themed-scrollbars",r,{"dc-themed-scrollbars__autohide":t,"dc-themed-scrollbars__autohide--is-hovered":t&&y,"dc-themed-scrollbars--has-horizontal":a,"dc-themed-scrollbars--only-horizontal":l,"dc-themed-scrollbars--only-horizontal-overlay":g,"dc-themed-scrollbars--hidden-scrollbar":d}),style:ae({maxHeight:s||"100%",maxWidth:A||"none"},C),onScroll:_,children:n})},le=e=>{let{is_active:t,is_disabled:n,index:r,item:i,child_ref:a,onItemSelection:s,setActiveIndex:c}=e;return(0,N.jsx)("div",{ref:a,onMouseDown:e=>{e.stopPropagation(),s(i),c(r)},className:o()("dc-dropdown-list__item",{"dc-dropdown-list__item--active":t,"dc-dropdown-list__item--disabled":n}),children:"object"==typeof i?i.component||i.text:i})},ge=i.forwardRef(((e,t)=>{const{active_index:n,list_items:r,is_object_list:o,onItemSelection:a,setActiveIndex:s,not_found_text:c}=e;if(null==r?void 0:r.some((e=>"object"==typeof e&&!!e.group))){const e={};r.forEach((t=>{const n="object"==typeof t&&t.group||"?";e[n]||(e[n]=[]),e[n].push(t)}));const c=Object.keys(e);let l=-1;return(0,N.jsx)(N.Fragment,{children:c.map(((r,g)=>{const d=e[r],u=!!c[g+1];return(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)("div",{className:"dc-dropdown-list__group-header",children:r}),d.map((e=>(l++,(0,N.jsx)(le,{item:e,index:l,is_active:l===n,onItemSelection:a,setActiveIndex:s,is_object_list:o,is_disabled:"object"==typeof e&&"DISABLED"===e.disabled,child_ref:l===n?t:null},l)))),u&&(0,N.jsx)("div",{className:"dc-dropdown-list__separator"})]},`group${g}`)}))})}return(0,N.jsx)(N.Fragment,{children:null!=r&&r.length?r.map(((e,r)=>(0,N.jsx)(le,{item:e,index:r,is_active:r===n,onItemSelection:a,is_object_list:o,setActiveIndex:s,child_ref:r===n?t:null},r))):(0,N.jsx)("div",{className:"dc-dropdown-list__item dc-dropdown-list__item--not-found",children:c})})}));ge.displayName="ListItems";const de=e=>{const{dropdown_ref:t,list_item_ref:n,list_wrapper_ref:r}=e.dropdown_refs||{},{active_index:o,is_visible:i,list_items:a,list_height:s,onScrollStop:c,onItemSelection:l,setActiveIndex:g,style:d,not_found_text:u,portal_id:_}=e;if(null!=a&&a.length&&"string"!=typeof a[0]&&"object"!=typeof a[0])throw Error("Dropdown received wrong data structure");const I=!Array.isArray(a)&&"object"==typeof a,b=(null==a?void 0:a.length)&&"string"==typeof a[0],C=(0,N.jsx)(oe.A,{appear:i,in:i,timeout:100,classNames:{enter:"dc-dropdown-list--enter",enterDone:"dc-dropdown-list--enter-done",exit:"dc-dropdown-list--exit"},unmountOnExit:!0,children:(0,N.jsx)("div",{style:d,className:"dc-dropdown-list",ref:r,children:(0,N.jsx)(ce,{height:s||"220px",refSetter:t,onScroll:c,children:I?Object.keys(a).map(((e,t)=>(0,N.jsx)(ge,{not_found_text:u,active_index:o,list_items:a[e],ref:n,onItemSelection:l,setActiveIndex:g},t))):(0,N.jsx)(ge,{not_found_text:u,active_index:o,list_items:a,ref:n,onItemSelection:l,is_object_list:!b,setActiveIndex:g})})})});if(_){const e=document.getElementById(_);return e&&re.createPortal(C,e)}return C};de.displayName="DropdownList";const ue=de;var _e=n(106501),Ie=n(33118);const be=["autoComplete","className","data_testid","dropdown_offset","error","has_updating_list","hide_list","historyValue","input_id","is_alignment_top","is_list_visible","list_items","list_portal_id","not_found_text","onHideDropdownList","onItemSelection","onSearch","onScrollStop","onShowDropdownList","should_filter_by_char","show_list","value"];function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function me(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ae=13,pe=27,ye=9,fe=40,Be=38,ve=e=>"string"==typeof e,Fe=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=e.toLowerCase();return t.filter((e=>(ve(e)?e.toLowerCase():(e.text||"").toLowerCase()).includes(r))).sort(((e,t)=>(ve(e)?e:e.text||"").toLowerCase().indexOf(r)-(ve(t)?t:t.text||"").toLowerCase().indexOf(r))).filter((t=>{const r=ve(t)?t:t.text||"",o=r.toLowerCase(),i=(0,_e.getEnglishCharacters)(o);return n?(0,B.matchStringByChar)(r,e):i.includes(e)||o.includes(e)}))},Qe=i.memo((e=>{const t=(0,Ie.localize)("No results found"),{autoComplete:n,className:r,data_testid:s,dropdown_offset:c,error:l,has_updating_list:g=!0,hide_list:d=!1,historyValue:u,input_id:_,is_alignment_top:I,is_list_visible:b=!1,list_items:C,list_portal_id:h,not_found_text:m=t,onHideDropdownList:A,onItemSelection:p,onSearch:y,onScrollStop:f,onShowDropdownList:v,should_filter_by_char:F,show_list:Q=!1,value:x}=e,G=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,be),U=i.useRef(null),O=i.useRef(null),E=i.useRef(null),Z=i.useRef(null),[X,w]=i.useState(!1),[R,T]=i.useState(""),[V,j]=i.useState(-1),[k,S]=i.useState(C),[Y,P]=i.useState({});let D;a(h&&X?Z:void 0);let J=null;i.useEffect((()=>{if(g){let e=[];if(e=b?"function"==typeof y?y(x.toLowerCase(),C):Fe(x.toLowerCase(),C):C,S(e),u){const t=e.findIndex((e=>("object"==typeof e?e.text:e)===u));T(u),j(t)}else T(""),j(-1)}}),[C,g,u]),i.useEffect((()=>{if(b){const e=k.findIndex((e=>("object"==typeof e?e.text:e)===u));j(e)}}),[k]),i.useEffect((()=>{if(Q&&$(),d&&q(),X&&E.current){var e;const t=E.current.offsetTop;null===(e=U.current)||void 0===e||e.scrollTo({top:t,behavior:"smooth"})}}),[Q,d,X,E]),i.useEffect((()=>{if(O.current&&h&&X){const e=(0,B.getPosition)({preferred_alignment:I?"top":"bottom",parent_el:Z.current,child_el:O.current});P(e.style)}}),[X,I,h,null==k?void 0:k.length]);const M=()=>{if(-1!==V){const a=V-1;if(a<0){var e,t;const n=null===(e=U.current)||void 0===e?void 0:e.clientHeight;j(k.length-1),null===(t=U.current)||void 0===t||t.scrollTo({top:n,behavior:"smooth"})}else{var n,r;const e=Number(null===(n=E.current)||void 0===n?void 0:n.getBoundingClientRect().height),t=Math.floor(Number(null===(r=E.current)||void 0===r||null===(r=r.getBoundingClientRect())||void 0===r?void 0:r.top))-e;if(!z(t)){var o,i;const t=Number(null===(o=E.current)||void 0===o?void 0:o.offsetTop)-e;null===(i=U.current)||void 0===i||i.scrollTo({top:t,behavior:"smooth"})}j(a)}}},z=e=>{var t,n,r;const o=Number(null===(t=U.current)||void 0===t?void 0:t.clientHeight),i=Math.floor(Number(null===(n=O.current)||void 0===n?void 0:n.getBoundingClientRect().top));return!(e>=Math.floor(Number(null===(r=O.current)||void 0===r?void 0:r.getBoundingClientRect().top))+o)&&e>i},H=()=>{if(-1!==V&&E.current){if("number"==typeof V){const o=V+1;if(o>=k.length){var e;j(0),null===(e=U.current)||void 0===e||e.scrollTo({top:0,behavior:"smooth"})}else{var t;const e=E.current.getBoundingClientRect().height,i=Math.floor(E.current.getBoundingClientRect().top)+e+e/2,a=Number(null===(t=U.current)||void 0===t?void 0:t.clientHeight);if(!z(i)){var n,r;const t=a/e-2,o=E.current.offsetTop-t*e;null===(n=U.current)||void 0===n||null===(r=n.scrollTo)||void 0===r||r.call(n,{top:o,behavior:"smooth"})}j(o)}}}else j(0)},K=e=>{e&&(T(("object"==typeof e?e.text:e)||""),null==p||p(e))},$=()=>{w(!0),null==v||v()},q=()=>{w(!1),null==A||A()};return(0,N.jsxs)("div",{"data-testid":s,className:o()("dc-autocomplete",r),children:[(0,N.jsx)("div",{ref:Z,className:"dc-autocomplete__input-field",children:(0,N.jsx)(L,he(he({},G),{},{className:"dc-autocomplete__field",error:l,autoComplete:n,onKeyDown:e=>{switch(e.keyCode){case Ae:e.preventDefault(),q(),K(k[V]);break;case ye:X&&(q(),K(k[V]));break;case pe:e.preventDefault(),q();break;case fe:X||$(),H();break;case Be:X?M():$();break;default:X||$()}},onInput:e=>{const t=e.target.value.toLowerCase();let n=[];n="function"==typeof y?y(t,C):Fe(t,C,F),n.length||T(""),S(n)},input_id:_,onClick:()=>{X?q():$()},onBlur:e=>{e.preventDefault(),q(),b||S(C),""===R&&(null==p||p({text:m,value:""})),"function"==typeof G.onBlur&&G.onBlur(e)},value:"function"==typeof p?x:R,trailing_icon:G.trailing_icon?G.trailing_icon:(0,N.jsx)(W,{icon:"IcChevronDown",className:{"dc-autocomplete__trailing-icon":!0,"dc-autocomplete__trailing-icon--opened":X,"dc-autocomplete__trailing-icon--disabled":G.disabled}})}))}),(0,N.jsx)(ue,{dropdown_refs:{dropdown_ref:U,list_item_ref:E,list_wrapper_ref:O},active_index:V,style:he({width:Z.current?`${Z.current.offsetWidth}px`:"100%"},Y||{marginTop:c?`calc(-${c} + 8px)`:"8px"}),is_visible:X||b,list_items:k,list_height:G.list_height,onItemSelection:K,setActiveIndex:j,onScrollStop:e=>{if(!f)return;const t=e.currentTarget;J=t.scrollTop,J===t.scrollTop&&clearTimeout(D),D=setTimeout((()=>{null==f||f()}),150)},not_found_text:m,portal_id:h})]})}));Qe.displayName="Autocomplete";const xe=Qe;var Ge=n(352092);const Ue=Ge.t$;var We=n(237064);const Ne=["animated","className","gap","height","rows","width","variant"];function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Xe={ICON:"icon",PARAGRAPH:"paragraph"},we=e=>{let{animated:t=!0,className:n,gap:r,height:o,rows:i,width:a,variant:s}=e,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ne);return Xe.PARAGRAPH&&i?(0,N.jsx)("div",{className:"skeleton-paragraph","data-testid":"dt_skeleton_paragraph",style:{gap:null!=r?r:8},children:[...new Array(i)].map(((e,r)=>(0,N.jsx)("div",{className:(0,We.A)(n,"skeleton",t&&"animated"),"data-testid":"dt_skeleton",style:{width:r===i-1?96:a,height:o}},r)))}):(0,N.jsx)("div",{className:(0,We.A)(n,"skeleton",t&&"animated",s),"data-testid":"dt_skeleton",style:Ee({width:a,height:o},c)})},Re=e=>{let{initial_app_loading:t,is_closed_tab:n}=e;return(0,N.jsxs)("div",{className:"loading-dtrader-v2__positions","data-testid":"dt_positions_loader",children:[t&&(0,N.jsx)("div",{className:"skeleton-box__tabs","data-testid":"dt_tabs_skeleton",children:[...new Array(2)].map(((e,t)=>(0,N.jsx)(we,{width:56,height:22},t)))}),(0,N.jsx)("div",{className:"skeleton-box__filters",children:(0,N.jsx)(we,{width:144,height:32})}),(0,N.jsx)("div",{className:"skeleton-box__total-pnl-or-date",children:[...new Array(n?1:2)].map(((e,t)=>(0,N.jsx)(we,{width:0===t?112:68,height:22},t)))}),(0,N.jsx)("div",{className:"skeleton-box__contract-cards",children:[...new Array(7)].map(((e,t)=>(0,N.jsx)(we,{height:104},t)))})]})},Te=()=>(0,N.jsxs)("div",{className:"loading-dtrader-v2__contract-card","data-testid":"dt_contract_card_loader",children:[(0,N.jsxs)("div",{className:"details",children:[(0,N.jsx)(we,{variant:Xe.ICON}),(0,N.jsxs)("div",{className:"title",children:[(0,N.jsx)(we,{width:88,height:18}),(0,N.jsx)(we,{width:128,height:18})]}),(0,N.jsx)(we,{className:"stake",width:56,height:18})]}),(0,N.jsxs)("div",{className:"status-and-profit",children:[(0,N.jsx)(we,{width:96,height:24}),(0,N.jsx)(we,{width:72,height:22})]})]}),Ve=()=>(0,N.jsxs)("div",{className:"loading-dtrader-v2__contract-details","data-testid":"dt_contract_details_loader",children:[(0,N.jsx)(Te,{}),(0,N.jsx)("div",{className:"skeleton-box__chart",children:(0,N.jsx)(we,{})}),(0,N.jsxs)("div",{className:"skeleton-box__details",children:[(0,N.jsx)(we,{width:136,height:24}),(0,N.jsx)("div",{children:[...new Array(4)].map(((e,t)=>(0,N.jsxs)("div",{className:"skeleton-box__details-row",children:[(0,N.jsx)(we,{width:88,height:22}),(0,N.jsx)(we,{width:128,height:22})]},t)))})]}),(0,N.jsxs)("div",{className:"skeleton-box__details",children:[(0,N.jsx)(we,{width:136,height:24}),(0,N.jsx)(we,{variant:Xe.PARAGRAPH,rows:2,height:18})]}),(0,N.jsxs)("div",{className:"skeleton-box__details",children:[(0,N.jsx)(we,{width:136,height:24}),(0,N.jsx)("div",{children:[...new Array(2)].map(((e,t)=>(0,N.jsxs)("div",{className:"skeleton-box__details-row",children:[(0,N.jsx)(we,{width:88,height:18}),(0,N.jsxs)("div",{className:"skeleton-box__details-column",children:[(0,N.jsx)(we,{width:88,height:22}),[...new Array(0===t?1:2)].map(((e,t)=>(0,N.jsx)(we,{width:72,height:16},t)))]})]},t)))})]})]}),je=()=>(0,N.jsxs)("div",{className:"loading-dtrader-v2__trade","data-testid":"dt_trade_loader",children:[(0,N.jsx)("div",{className:"skeleton-box__trade-types",children:[...new Array(6)].map(((e,t)=>(0,N.jsx)(we,{width:88,height:32},t)))}),(0,N.jsx)("div",{className:"skeleton-box__market",children:(0,N.jsx)(we,{width:200,height:42})}),(0,N.jsxs)("div",{className:"skeleton-box__trade-params",children:[(0,N.jsxs)("div",{className:"skeleton-box__trade-params-row",children:[(0,N.jsx)(we,{width:96,height:24}),(0,N.jsx)(we,{width:96,height:32})]}),(0,N.jsx)("div",{className:"skeleton-box__trade-params-column",children:[...new Array(3)].map(((e,t)=>(0,N.jsx)(we,{height:56},t)))})]}),(0,N.jsx)("div",{className:"skeleton-box__chart",children:(0,N.jsx)(we,{})})]}),ke=e=>{let{className:t,id:n,is_fullscreen:r=!0,is_slow_loading:i,status:a,theme:s}=e;const c=s?`barspinner-${s}`:"barspinner-light";return(0,N.jsxs)("div",{"data-testid":"dt_initial_loader",className:o()("initial-loader",{"initial-loader--fullscreen":r},t),children:[(0,N.jsx)("div",{id:n,className:o()("initial-loader__barspinner","barspinner",c),children:Array.from(new Array(5)).map(((e,t)=>(0,N.jsx)("div",{className:`initial-loader__barspinner--rect barspinner__rect barspinner__rect--${t+1} rect${t+1}`},t)))}),i&&(null==a?void 0:a.map(((e,t)=>(0,N.jsx)(V,{as:"h3",color:"prominent",size:"xs",align:"center",children:e},t))))]})};ke.DTraderV2=e=>{let{initial_app_loading:t,is_closed_tab:n,is_contract_details:r,is_positions:o}=e;return o?(0,N.jsx)(Re,{initial_app_loading:t,is_closed_tab:n}):r?(0,N.jsx)(Ve,{}):(0,N.jsx)(je,{})};const Se=ke;function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){De(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function De(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Je=e=>(0,N.jsx)(Se,Pe(Pe({},e),{},{is_fullscreen:!1,className:"initial-loader--btn"})),Le=["black","blue","children","className","classNameSpan","green","has_effect","icon","id","is_disabled","is_loading","is_submit_success","is_button_toggle","is_circle","is_circular","is_plus","large","medium","onClick","rounded","tabIndex","text","wrapperClassName","type","primary","primary_light","secondary","alternate","transparent","small","tertiary","wide","renderText"];function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach((function(t){He(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ke=e=>{let{black:t,blue:n,children:r,className:i="",classNameSpan:a,green:s,has_effect:c,icon:l,id:g,is_disabled:d,is_loading:u,is_submit_success:_,is_button_toggle:I,is_circle:b,is_circular:C,is_plus:h,large:m,medium:A,onClick:p,rounded:y,tabIndex:f=0,text:B,wrapperClassName:v,type:F,primary:Q,primary_light:x,secondary:G,alternate:U,transparent:O,small:E,tertiary:Z,wide:X,renderText:w}=e,R=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Le);const T=o()("dc-btn",{"dc-btn__effect":c,"dc-btn--primary":Q,"dc-btn--black":t,"dc-btn--blue":n,"dc-btn--secondary":G,"dc-btn--tertiary":Z,"dc-btn--primary__light":x,"dc-btn--primary__blue":n&&Q,"dc-btn--tertiary__blue":n&&Z,"dc-btn--alternate":U,"dc-btn--green":s,"dc-btn__rounded":y,"dc-btn__large":m,"dc-btn__medium":A,"dc-btn__small":E,"dc-btn__toggle":I,"dc-btn__wide":X,"dc-btn--plus":h,"dc-btn--circle":b,"dc-btn--circular":C,"dc-btn--transparent":O},i),V=(0,N.jsxs)("button",ze(ze({id:g,className:T,onClick:p,disabled:d,tabIndex:f,type:_?"button":F||"submit"},R),{},{children:[l&&(0,N.jsx)("div",{className:o()("dc-btn__icon",{"dc-btn__icon--circle":b}),children:l}),B&&!(u||_)&&("function"==typeof w&&w(B[0].toUpperCase()+B.substr(1))||(0,N.jsx)(M,{size:"xs",weight:"bold",align:"center",className:o()("dc-btn__text",a),children:B[0].toUpperCase()+B.substr(1)})),u&&(0,N.jsx)(Je,{}),_&&(0,N.jsx)(W,{icon:"IcCheckmark",color:"active",size:24}),h&&(0,N.jsx)(W,{icon:"IcAddBold",color:"black",size:18}),!B&&!u&&r&&(0,N.jsx)(M,{size:"xs",weight:"bold",align:"center",className:o()("dc-btn__text",a),children:r})]}));return v?(0,N.jsx)("div",{className:v,children:V}):V};Ke.Group=e=>{let{children:t,className:n}=e;return(0,N.jsx)("div",{className:o()("dc-btn__group",n),children:t})};const $e=Ke,qe=$e,et=e=>{let{blue:t,children:n,className:r="",green:i,has_effect:a,is_button_toggle:s,is_circle:c,is_circular:l,is_plus:g,large:d,medium:u,onClick:_,rounded:I,text:b,primary:C,primary_light:h,secondary:m,alternate:A,transparent:p,small:y,tertiary:f}=e;const B=o()("dc-btn",{"dc-btn__effect":a,"dc-btn--primary":C,"dc-btn--blue":t,"dc-btn--secondary":m,"dc-btn--tertiary":f,"dc-btn--primary__light":h,"dc-btn--primary__blue":t&&C,"dc-btn--tertiary__blue":t&&f,"dc-btn--alternate":A,"dc-btn--green":i,"dc-btn__rounded":I,"dc-btn__large":d,"dc-btn__medium":u,"dc-btn__small":y,"dc-btn__toggle":s,"dc-btn--plus":g,"dc-btn--circle":c,"dc-btn--circular":l,"dc-btn--transparent":p},r);return(0,N.jsxs)("span",{className:B,onClick:_,children:[b&&(0,N.jsx)(M,{size:"xs",weight:"bold",align:"center",className:"dc-btn__text",children:b[0].toUpperCase()+b.substr(1)}),!b&&n&&(0,N.jsx)(M,{size:"xs",weight:"bold",align:"center",className:"dc-btn__text",children:n})]})},tt=["className","custom_color","label","rounded_corners","size","type","weight"];function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const it=e=>{const{className:t,custom_color:n,label:r,rounded_corners:a=4,size:s="medium",type:c,weight:l="bold"}=e,g=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,tt),d="contained"===c,u="bordered"===c,_=i.useMemo((()=>"large"===s?{height:(0,B.isMobile)()?"1.6rem":"2.2rem",paddingInline:"0.8rem"}:{height:(0,B.isMobile)()?"1.2rem":"1.4rem",paddingInline:"0.4rem"}),[s]),I=i.useMemo((()=>o()("dc-badge",{"dc-badge--contained":d,"dc-badge--bordered":u,"dc-badge--blue":d&&"blue"===e.background_color,"dc-badge--orange":d&&"orange"===e.background_color,"dc-badge--red":d&&"red"===e.background_color,"dc-badge--gray":d&&"gray"===e.background_color,"dc-badge--full-rounded":4===a,"dc-badge--two-rounded":2===a},t)),[t,u,d,d&&e.background_color,a]);return r?(0,N.jsx)(M,rt(rt({as:"span",className:I,color:n,size:(0,B.isMobile)()?"xxxxs":"xxxs",styles:_,weight:l},g),{},{children:r})):null},at=it;var st=n(822833);const ct=e=>{let{children:t,className:n,to:r,onClick:i,size:a="medium"}=e;return(0,N.jsx)(st.Link,{className:o()("dc-btn dc-btn--primary",n,"effect",`dc-btn__${a}`),to:r,onClick:i,children:t})},lt=ct,gt=e=>{let{has_rounded_button:t,highlight_color:n="var(--button-toggle-secondary)",left:r,width:o}=e;const i="4px",a={backgroundColor:n,left:0,transform:`translate3d(${r}px, 0, 0)`,width:o,borderRadius:"0"};return t?a.borderRadius="4px":Object.assign(a,{borderTopLeftRadius:0===r?i:0,borderTopRightRadius:0===r?0:i,borderBottomLeftRadius:0===r?i:0,borderBottomRightRadius:0===r?0:i}),(0,N.jsx)("span",{"data-testid":"dt_highlight"+(t?"_rounded":""),style:a,className:"dc-button-menu--highlight"})},dt=["children","className","has_rounded_button"];function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){It(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const bt="dc-button-menu__button--active",Ct=e=>{let{children:t,className:n,has_rounded_button:r}=e,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,dt);const[s,c]=i.useState(0),l=i.useRef(null);i.useEffect((()=>{if(l.current){var e;const t=null==l||null===(e=l.current)||void 0===e||null===(e=e.getElementsByClassName(bt))||void 0===e?void 0:e.item(0);d(t)}return()=>g()}),[]),i.useEffect((()=>{var e;const t=null==l||null===(e=l.current)||void 0===e||null===(e=e.getElementsByClassName(bt))||void 0===e?void 0:e.item(0);t?d(t):0!==s&&g()}));const g=()=>c(0),d=e=>{if(!e)return;const{offsetLeft:t}=e;s!==t&&c(t)},u=_t({className:o()("dc-button-menu__wrapper",n)},a),_=(100/(Array.isArray(t)&&(null==t?void 0:t.length)||1)).toFixed(2);return(0,N.jsxs)("div",_t(_t({ref:l},u),{},{children:[i.Children.map(t,(e=>i.cloneElement(e,{onClick:t=>((e,t)=>{e.target&&(d(e.target.closest("button")),null==t||t())})(t,e.props.onClick)}))),(0,N.jsx)(gt,{has_rounded_button:r||!1,highlight_color:a.highlight_color,left:s,width:`${_}%`})]}))},ht=i.memo(Ct),mt=e=>{let{className:t,count:n}=e;return(0,N.jsx)("div",{className:o()("dc-counter",t),children:n})},At=e=>{let{buttons_arr:t,className:n,has_rounded_button:r=!1,id:a,is_traders_hub:s=!1,is_animated:c=!1,name:l,onChange:g,value:d}=e;const u=s?"__toggle":"__button",_=i.useMemo((()=>t.map(((e,t)=>{var n,r;const i=o()(`dc-button-menu${u}`,{"dc-button-menu__button--active":e.value===d&&!s,"dc-button-menu__toggle--active":e.value===d&&s});return(0,N.jsxs)($e,{id:`dc_${e.value}_toggle_item`,onClick:()=>{return t=e.value.toString(),void(d!==t&&g({target:{value:t,name:l}}));var t},className:i,is_button_toggle:!0,children:[`${null===(n=e.text)||void 0===n?void 0:n.toString().charAt(0).toUpperCase()}${null===(r=e.text)||void 0===r?void 0:r.toString().slice(1)}`,!!e.count&&(0,N.jsx)(mt,{className:"dc-button-menu__counter",count:e.count})]},t)}))),[t]);return(0,N.jsx)("div",{id:a,className:o()("dc-button-menu",n),children:c?(0,N.jsx)(ht,{has_rounded_button:r,children:_}):(0,N.jsx)(i.Fragment,{children:_})})};var pt=n(364185),yt=n(919796);function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(n),!0).forEach((function(t){vt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ft=e=>{let{alignment:t,children:n,className:r,classNameBubble:a,classNameTarget:s,classNameTargetIcon:c,counter:l,disable_message_icon:g,disable_target_icon:d,has_error:u,icon:_,id:C,is_open:h,is_bubble_hover_enabled:m,margin:A=0,message:p,onBubbleClose:y,onBubbleOpen:f,onClick:B=()=>{},relative_render:v=!1,should_disable_pointer_events:F=!1,should_show_cursor:Q,zIndex:x="1",data_testid:G,arrow_styles:U}=e;const O=i.useRef(),[E,Z]=i.useState(void 0),[X,w]=i.useState(!1),{isDesktop:R}=(0,yt.Y)(),[T,V]=I(null,!0),[j,k]=b(),S=i.useMemo((()=>!R&&void 0===h),[R,h]);i.useEffect((()=>{O.current&&Z(O.current)}),[u]),i.useEffect((()=>{!V&&S&&w(!1)}),[V,S]);const Y=()=>{f&&f()},P=()=>{y&&y()},D=o()(c,_),J=V&&p&&(!S||X);return(0,N.jsxs)("div",{ref:T,className:o()({"dc-popover__wrapper":v}),onClick:e=>{B(e),S&&w(!X)},"data-testid":"dt_popover_wrapper",children:[v&&(0,N.jsx)("div",{className:"dc-popover__container",style:{zIndex:x},children:(0,N.jsx)("div",{ref:O,className:"dc-popover__container-relative","data-testid":"dt_popover_relative_container"})}),(E||!v)&&(0,N.jsx)(pt.Popover,Bt(Bt({isOpen:null!=h?h:J||m&&k,positions:[t],padding:A+8,containerClassName:o()({"react-tiny-popover-container--disabled-pointer-event":F,"react-tiny-popover-cursor-option":Q})},v?{parentElement:E,contentLocation:e=>{let{childRect:n,popoverRect:r,nudgedLeft:o}=e;const i=document.body.clientWidth,a=n.right+(r.width-n.width/2);let s=0,c=0;switch(t){case"left":c=-1*Math.abs((r.height>r.width?o:r.width)+A),s=n.height>r.height?(n.height-r.height)/2:(r.height-n.height)/2*-1;break;case"right":c=r.width+A,s=n.height>r.height?(n.height-r.height)/2:(r.height-n.height)/2*-1;break;case"top":c=a>i?-1*Math.abs(a-i):0,s=-1*Math.abs(r.height+A);break;case"bottom":c=a>i?-1*Math.abs(a-i):0,s=n.height+A}return{top:s,left:c}}}:{containerStyle:{zIndex:x}}),{},{content:e=>{let{position:t,childRect:n,popoverRect:r}=e;return(0,N.jsx)(pt.ArrowContainer,{position:t,childRect:n,popoverRect:r,arrowColor:u?"var(--status-danger)":"var(--general-active)",arrowSize:5,arrowStyle:v?{borderTop:"10px solid transparent",borderLeft:"10px solid transparent",borderRight:"10px solid "+(u?"var(--status-danger)":"var(--general-active)"),transform:"rotate(315deg)",right:"0px",top:"5px",height:"10px",margin:"auto",bottom:"0px"}:Bt({},U),children:(0,N.jsxs)("div",{id:C,onMouseEnter:Y,onMouseLeave:P,className:o()(a,"dc-popover__bubble",{"dc-popover__bubble--error":u}),ref:j,children:[!g&&"info"===_&&(0,N.jsx)("i",{className:"dc-popover__bubble__icon",children:(0,N.jsx)(W,{icon:"IcInfoBlue"})}),u&&(0,N.jsx)(M,{size:"xxs",color:"colored-background",children:p})||(0,N.jsx)(M,{line_height:"m",size:"xxs",className:"dc-popover__bubble__text",children:p})]})})},children:(0,N.jsx)("div",{"data-testid":G,className:o()("dc-popover",r),id:C,children:(0,N.jsxs)("div",{className:o()(s,"dc-popover__target"),children:[!d&&(0,N.jsxs)("i",{className:p?"dc-popover__target__icon":"dc-popover__target__icon--disabled",children:["info"===_&&(0,N.jsx)(W,{icon:"IcInfoOutline",className:D}),"question"===_&&(0,N.jsx)(W,{icon:"IcUnknown",className:D}),"dot"===_&&(0,N.jsx)(W,{icon:"IcCircle",className:D,size:4}),"counter"===_&&(0,N.jsx)("span",{className:D,children:l})]}),n]})})}))]})},Qt=Ft,xt={Monday:"M",Tuesday:"T",Wednesday:"W",Thursday:"T",Friday:"F",Saturday:"S",Sunday:"S"},Gt=e=>{const t=(0,B.toMoment)(e).year(),n=t-t%10+1;return`${n}-${n+9}`},Ut=e=>{const t=(0,B.toMoment)(e).year(),n=t-t%10+1;return`${n}-${n+99}`},Wt=e=>{let{calendar_date:t,isPeriodDisabled:n,selected_date:r,updateSelected:i}=e;const a=(0,B.toMoment)(t),s=(0,B.toMoment)(r),c=s.isSame(a,"year"),l=Number(s.clone().format("M")),g=[...Array(12).keys()];return(0,N.jsx)("div",{className:"dc-calendar__body dc-calendar__body--month",children:g.map((e=>{const t=a.clone().month(e),r=c&&l===e+1,s=n(t,"month");return(0,N.jsx)("span",{className:o()("dc-calendar__cell",{"dc-calendar__cell--active":r,"dc-calendar__cell--disabled":s}),onClick:s?void 0:e=>i(e,"month"),"data-month":e,children:t.format("MMM")},e)}))})},Nt=e=>{let{calendar_date:t,isPeriodDisabled:n,selected_date:r,updateSelected:i}=e;const a=(0,B.toMoment)(r),s=(0,B.toMoment)(t),[c,l]=Gt(s).split("-"),g=[];for(let e=+c-1;e<=+l+1;e++)g.push(e);return(0,N.jsx)("div",{className:"dc-calendar__body dc-calendar__body--year",children:g.map(((e,t)=>{const r=0===t||11===t,c=n(s.clone().year(e),"year");return(0,N.jsx)("span",{className:o()("dc-calendar__cell",{"dc-calendar__cell--active":e===a.year(),"dc-calendar__cell--other":r,"dc-calendar__cell--disabled":c}),onClick:c?void 0:e=>i(e,"year"),"data-year":e,children:e},t)}))})},Ot=e=>{let{calendar_date:t,isPeriodDisabled:n,selected_date:r,updateSelected:i}=e;const a=(0,B.toMoment)(r),s=(0,B.toMoment)(t),c=[];let l=+Ut(s).split("-")[0]-10;for(let e=0;e<12;e++){const e=Gt((0,B.toMoment)().year(l));c.push(e),l=+e.split("-")[1]+1}return(0,N.jsx)("div",{className:"dc-calendar__body dc-calendar__body--decade",children:c.map(((e,t)=>{const[r,c]=e.split("-"),l=+r===a.year(),g=n(s.clone().year(+r),"year")&&n(s.clone().year(+c),"year"),d=0===t||11===t;return(0,N.jsx)("span",{className:o()("dc-calendar__cell",{"dc-calendar__cell--active":l,"dc-calendar__cell--disabled":g,"dc-calendar__cell--other":d}),onClick:g?void 0:e=>i(e,"years"),"data-years":e,children:e},t)}))})},Et=e=>{let{children:t}=e;return(0,N.jsx)(N.Fragment,{children:t})};Et.Days=e=>{const t=(e=>{let{calendar_date:t,date_format:n,has_range_selection:r,hide_others:i,events:a=[],isPeriodDisabled:s,start_date:c,selected_date:l,updateSelected:g,disabled_days:d=[],onMouseOver:u,onMouseLeave:_,should_show_today:I=!0}=e;const b=[],C=[],h=(0,B.toMoment)().startOf("day"),m=(0,B.toMoment)(t),A=m.daysInMonth()+1,p=m.clone().startOf("month"),y=m.clone().endOf("month"),f="number"==typeof l?(0,B.epochToMoment)(l).startOf("day"):(0,B.toMoment)(l).startOf("day");for(let e=(0,B.subMonths)(m,1).endOf("month").day();e>0;e--)b.push((0,B.subDays)(p,e).format(n));for(let e=1;e<A;e+=1)b.push(m.clone().format(n.replace("DD",(0,B.padLeft)(e.toString(),2,"0"))));const v=(0,B.addMonths)(m,1).startOf("month").day();if(v-1>0||b.length<=28)for(let e=1;e<=7-v+1;e++)b.push((0,B.addDays)(y,e).format(n));else v||b.push((0,B.addDays)(y,1).format(n));const F=(0,B.toMoment)(c).startOf("day");return b.forEach((e=>{const t=(0,B.toMoment)(e).startOf("day"),n=l&&t.isSame(f),b=t.isSame(h,"day"),A=a.filter((t=>t.dates.find((t=>({Mondays:1,Tuesdays:2,Wednesdays:3,Thursdays:4,Fridays:5,Saturdays:6,Sundays:0}[t]===(0,B.toMoment)(e).day()))))),p=!!A.length,y=A.map((e=>!!e.descrip.match(/Closes early|Opens late/)))[0],v=A.map((e=>e.descrip))[0]||"",Q=(0,B.daysFromTodayTo)(e),x=t.isBetween(h,f),G=s(t,"day"),U=G||c&&t.isBefore(F)||d.some((t=>(0,B.toMoment)(e).day()===t))||p&&!y,W=t.month()!==m.month();C.push((0,N.jsxs)("span",{className:o()("dc-calendar__cell",{"dc-calendar__cell--active":n,"dc-calendar__cell--today":I&&b,"dc-calendar__cell--active-duration":n&&r&&!b,"dc-calendar__cell--today-duration":b&&r,"dc-calendar__cell--disabled":U,"dc-calendar__cell--is-hidden":W&&i,"dc-calendar__cell--other":W,"dc-calendar__cell--between":x&&r}),onClick:U?void 0:e=>g(e,"day"),"data-date":e,"data-duration":`${Q} ${1===Q?"Day":"Days"}`,onMouseOver:u,onMouseLeave:_,children:[(p||y)&&!W&&!G&&(0,N.jsx)(Qt,{alignment:"top",classNameTarget:"dc-calendar__cell-tooltip",classNameTargetIcon:"dc-calendar__cell-tooltip-icon",icon:"dot",is_bubble_hover_enabled:!0,message:v,zIndex:"9999",should_show_cursor:!0}),t.date()]},e))})),C})(e).map((e=>e));return(0,N.jsxs)("div",{className:"dc-calendar__body dc-calendar__body--date",children:[Object.keys(xt).map(((e,t)=>(0,N.jsx)(M,{size:"xxs",align:"center",weight:"bold",children:xt[e]},t))),t]})},Et.Months=Wt,Et.Years=Nt,Et.Decades=Ot;const Zt=Et;function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(n),!0).forEach((function(t){Rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Tt=e=>{const t={date:(0,N.jsx)(Zt.Days,wt({},e)),month:(0,N.jsx)(Zt.Months,wt({},e)),year:(0,N.jsx)(Zt.Years,wt({},e)),years:(0,N.jsx)(Zt.Decades,wt({},e))};return(0,N.jsx)(i.Fragment,{children:t[e.calendar_view]})},Vt=e=>{let{children:t,className:n,is_disabled:r,is_hidden:a,icon:s,label:c,onClick:l}=e;return(0,N.jsx)(i.Fragment,{children:!a&&(0,N.jsxs)("span",{className:o()("dc-calendar__btn",n,{"dc-calendar__btn--disabled":r,"dc-calendar__btn--is-hidden":a}),onClick:l,children:[c,s&&(0,N.jsx)(W,{data_testid:`dt_calendar_icon_${s}`,icon:s,className:"dc-calendar__icon",color:r?"disabled":void 0}),t]})})},jt=e=>e||"IcCalendarToday",kt=e=>{let{footer:t,has_today_btn:n,onClick:r,use_icon:o,has_clear_btn:a,clear_text:s,onClear:c}=e;return(0,N.jsx)(i.Fragment,{children:(n||t||a)&&(0,N.jsxs)("div",{className:"dc-calendar__footer",children:[t&&(0,N.jsx)(M,{size:"xxs",align:"center",children:t}),n&&(0,N.jsx)(Vt,{className:"dc-calendar__btn--today",icon:jt(o),onClick:r}),a&&(0,N.jsx)(Vt,{secondary:!0,small:!0,className:"dc-calendar__btn",onClick:c,text:s})]})})},St=e=>{let{calendar_date:t,calendar_view:n,disable_month_selector:r,disable_year_selector:o,hide_disabled_periods:i,isPeriodDisabled:a,navigateTo:s,switchView:c}=e;const l="date"===n,g="month"===n,d="year"===n,u="years"===n,_=(0,B.toMoment)(t);let I=1;d&&(I=10),u&&(I=100);const b=Ut(_.clone()),C=Gt(_.clone()),h=+(d?C:b).split("-")[1],m=a((0,B.subMonths)(_,1),"month"),A=a((0,B.subYears)(_,I),"month"),p=a((0,B.addMonths)(_,1),"month"),y=a((0,B.addYears)(_,I),"month"),f=a(_.clone().year(h),"year")||o,v=p&&i,F=m&&i,Q=A&&i,x=y&&i,G=A||Q?void 0:()=>s((0,B.subYears)(t,I)),U=y||x?void 0:()=>s((0,B.addYears)(t,I)),W=m||F?void 0:()=>s((0,B.subMonths)(t,1)),O=p||v?void 0:()=>s((0,B.addMonths)(t,1));return(0,N.jsxs)("div",{className:"dc-calendar__header",children:[(0,N.jsx)(Vt,{className:"dc-calendar__btn--prev-year",icon:"IcChevronDoubleLeft",is_disabled:A,is_hidden:Q,onClick:G}),(0,N.jsx)(Vt,{className:"dc-calendar__btn--prev-month",icon:"IcChevronLeft",is_disabled:m,is_hidden:!l||F,onClick:W}),(0,N.jsxs)(N.Fragment,{children:[l&&(0,N.jsx)(Vt,{className:"dc-calendar__btn--select",is_hidden:!l,label:_.format("MMM"),onClick:()=>r||null==c?void 0:c("month")}),(l||g)&&(0,N.jsx)(Vt,{className:"dc-calendar__btn--select",is_disabled:f,label:_.format("YYYY"),onClick:()=>f||null==c?void 0:c("year")}),(d||u)&&(0,N.jsxs)(Vt,{className:"dc-calendar__btn--select",is_disabled:f,onClick:f?void 0:()=>null==c?void 0:c("years"),children:[d&&`${C}`,u&&`${b}`]})]}),(0,N.jsx)(Vt,{className:"dc-calendar__btn--next-month",icon:"IcChevronRight",is_disabled:p,is_hidden:!l||v,onClick:O}),(0,N.jsx)(Vt,{className:"dc-calendar__btn--next-year",icon:"IcChevronDoubleRight",is_disabled:y,is_hidden:x,onClick:U})]})},Yt=i.memo(i.forwardRef(((e,t)=>{let{calendar_view:n,calendar_el_ref:r,date_format:o="YYYY-MM-DD",disabled_days:a,events:s,footer:c="",has_today_btn:l,has_range_selection:g,keep_open:d,max_date:u=(0,B.toMoment)().add(120,"y").format("YYYY-MM-DD"),min_date:_="1970-01-01",onChangeCalendarMonth:I,onHover:b,onSelect:C,start_date:h="",value:m,should_show_today:A}=e;const[p,y]=i.useState((0,B.toMoment)(m||h).format(o)),[f,v]=i.useState(m),[F,Q]=i.useState(n||"date"),[x,G]=i.useState("");i.useImperativeHandle(t,(()=>({setSelectedDate:e=>{const t=(0,B.toMoment)(e).startOf("day").format(o);y(t),v(t)}})));const U=(e,t)=>{const n=(0,B.toMoment)(e).clone().startOf(t);return(0,B.toMoment)(e).clone().endOf(t).isBefore((0,B.toMoment)(_))||n.isAfter((0,B.toMoment)(u))};return(0,N.jsxs)("div",{ref:r,className:"dc-calendar","data-value":f,children:[(0,N.jsx)(St,{calendar_date:p,calendar_view:F,isPeriodDisabled:U,navigateTo:e=>{if(y((0,B.toMoment)(e).format(o)),I){const t=(0,B.getStartOfMonth)(e);I(t)}},switchView:Q}),(0,N.jsx)(Tt,{calendar_date:p,calendar_view:F,date_format:o,disabled_days:a,isPeriodDisabled:U,start_date:h,selected_date:f,updateSelected:(e,t)=>{if(e&&e.stopPropagation(),"day"===t)return void(e=>{const t=(0,B.toMoment)(e.currentTarget.dataset.date).startOf("day"),n=t.isBefore((0,B.toMoment)(_)),r=t.isAfter((0,B.toMoment)(u));if(n||r)return;const i=t.format(o);y(i),v(i),C&&C(i,!!d)})(e);let n="";if(t){var r,i;const a=(null==e||null===(r=e.currentTarget)||void 0===r||null===(r=r.dataset)||void 0===r||null===(r=r[t])||void 0===r||null===(i=r.split)||void 0===i||null===(i=i.call(r,"-"))||void 0===i?void 0:i[0])||0;n=((e,t,n,r)=>{switch(t){case"year":case"y":case"years":return e.year(r).format(n);case"month":case"months":case"M":return e.month(r).format(n);case"week":case"w":return e.week(r).format(n);case"weeks":return e.weeks(r).format(n);case"day":case"d":default:return e.day(r).format(n);case"days":return e.days(r).format(n);case"hour":case"h":return e.hour(r).format(n);case"hours":return e.hours(r).format(n);case"minute":case"m":return e.minute(r).format(n);case"minutes":return e.minutes(r).format(n);case"second":case"s":return e.second(r).format(n);case"seconds":return e.seconds(r).format(n);case"millisecond":case"ms":return e.millisecond(r).format(n);case"milliseconds":return e.milliseconds(r).format(n);case"quarter":case"Q":return e.quarter(r).format(n);case"quarters":return e.quarters(r).format(n);case"isoWeek":case"W":return e.isoWeek(r).format(n);case"isoWeeks":return e.isoWeeks(r).format(n);case"date":case"dates":case"D":return e.date(r).format(n)}})((0,B.toMoment)(p),t,o,+a)}if(!U(n,t)&&(y(n),Q({month:"date",year:"month",years:"year"}[t||""]),I)){const e=(0,B.getStartOfMonth)(n);I(e)}},events:s,has_range_selection:g,hovered_date:x,onMouseOver:e=>{const t=e.currentTarget;if(!t.classList.contains("dc-calendar__cell--disabled")&&!t.classList.contains("dc-calendar__cell--hover")){t.className+=" dc-calendar__cell--hover";const e=t.getAttribute("data-date");G(e),b&&b(e)}},onMouseLeave:e=>{const t=e.currentTarget;t.classList.contains("dc-calendar__cell--hover")&&(t.classList.remove("dc-calendar__cell--hover"),G(null),b&&b(f))},should_show_today:!!A}),(0,N.jsx)(kt,{footer:c,has_today_btn:l,onClick:()=>{const e=(0,B.toMoment)().format(o);y(e),v(e),Q("date"),C&&C(e,!0)}})]})})));Yt.displayName="Calendar",Yt.Body=Tt,Yt.Header=St,Yt.Footer=kt;const Pt=Yt,Dt=["children","className"],Jt=["className","header","content","footer","renderHeader","renderContent","renderFooter"];function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){zt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ht(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const Kt=e=>{let{children:t,className:n}=e,r=Ht(e,Dt);return(0,N.jsx)("div",Mt(Mt({className:o()("dc-card__wrapper",n)},r),{},{children:t}))},$t=e=>{let{children:t}=e;return(0,N.jsx)("div",{className:"dc-card__header-wrapper",children:t})},qt=e=>{let{children:t}=e;return(0,N.jsx)("div",{className:"dc-card__content-wrapper",children:t})},en=e=>{let{children:t}=e;return(0,N.jsx)("div",{className:"dc-card__footer-wrapper",children:t})},tn=e=>{let{className:t,header:n,content:r,footer:i,renderHeader:a,renderContent:s,renderFooter:c}=e,l=Ht(e,Jt);return(0,N.jsxs)(Kt,Mt(Mt({className:o()("dc-card",t)},l),{},{children:[a?a():!!n&&(0,N.jsx)($t,{children:n}),s?s():!!r&&(0,N.jsx)(qt,{children:r}),c?c():!!i&&(0,N.jsx)(en,{children:i})]}))};var nn=n(905974);const rn=e=>{let{children:t,width:n}=e;return(0,N.jsx)("div",{className:"dc-carousel__card",style:{width:`${n}px`},children:t})},on=e=>{let{active_index:t,active_bullet_color:n,bullet_color:r,className:i,handleNextClick:a,handlePrevClick:s,handleNavigationClick:c,list:l,show_bullet:g,show_nav:d,item_per_window:u}=e;return g||d?(0,N.jsxs)("nav",{id:"dt_components_carousel-nav_nav-tag",className:o()("dc-carousel__nav",i),children:[d&&(0,N.jsx)("span",{id:"dt_contract_info_left_nav",className:"dc-carousel__icon",onClick:s,children:(0,N.jsx)(W,{icon:"IcChevronLeft"})}),g&&(0,N.jsxs)("ul",{className:"dc-carousel__nav-list",children:[(0,N.jsx)("li",{className:o()("dc-carousel__nav-item","dc-carousel__nav-item--active"),style:{transform:`translate3d(${24*t}px, 0, 0)`,backgroundColor:n}}),l.slice(u-1).map(((e,t)=>(0,N.jsx)("li",{className:"dc-carousel__nav-item",style:{backgroundColor:r},onClick:()=>c(t)},t)))]}),d&&(0,N.jsx)("span",{id:"dt_contract_info_right_nav",className:"dc-carousel__icon",onClick:a,children:(0,N.jsx)(W,{icon:"IcChevronRight"})})]}):null},an=i.memo(on);function sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sn(Object(n),!0).forEach((function(t){ln(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ln(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const gn=e=>{let{active_bullet_color:t="var(--text-prominent)",autoplay_time:n=null,bullet_color:r="var(--text-less-prominent)",bullet_position:a="bottom",className:s,disable_swipe:c=!1,initial_index:l=0,is_mt5:g,item_per_window:d=1,list:u,nav_position:_="bottom",onItemSelect:I,show_bullet:b=!0,show_nav:h=!0,width:m=400}=e;const[A,p]=i.useState(l),y=i.useMemo((()=>Math.min(d,u.length)),[d,u]),f=u.slice(y-1).length;i.useEffect((()=>{u.slice(y-1).length<=1&&p(0)}),[u,y]);const B=()=>{const e=A+1,t=e===u.length-y+1;p(t?0:e)},v=()=>{const e=A-1;p(e>-1?e:u.length-y)};C(B,n),i.useEffect((()=>{I&&I(A)}),[A,I]);const F=(0,nn.useSwipeable)({onSwipedLeft:B,onSwipedRight:v});return(0,N.jsx)("div",cn(cn({},c?{}:F),{},{className:s,children:(0,N.jsxs)("div",{className:o()("dc-carousel",{"dc-carousel--mt5":g}),children:[f>1&&(0,N.jsx)(an,{active_index:A,bullet_color:r,active_bullet_color:t,className:"dc-carousel__nav--upper",handleNextClick:B,handlePrevClick:v,handleNavigationClick:p,show_bullet:b&&"top"===a,show_nav:h&&"top"===_,list:u,item_per_window:y}),(0,N.jsxs)("div",{className:"dc-carousel__container",children:[h&&"middle"===_&&f>1&&(0,N.jsx)($e,{className:o()("dc-carousel__icon",{"dc-carousel__icon--mt5":g}),onClick:v,icon:(0,N.jsx)(W,{icon:g?"IcChevronLeftBoldMt5":"IcChevronLeft",size:g?"28":"24"})}),(0,N.jsx)("div",{className:o()("dc-carousel__box",{"dc-carousel__box--mt5":g&&f>1}),style:{width:y*m+"px"},children:(0,N.jsx)("div",{className:o()("dc-carousel__wrapper",{"dc-carousel__wrapper--mt5":g}),style:{transform:`translate3d(-${m*A}px, 0, 0)`},children:u.map(((e,t)=>(0,N.jsx)(rn,{width:m,children:u[t]},t)))})}),h&&"middle"===_&&f>1&&(0,N.jsx)($e,{className:o()("dc-carousel__icon",{"dc-carousel__icon--mt5":g}),onClick:B,icon:(0,N.jsx)(W,{icon:g?"IcChevronRightBoldMt5":"IcChevronRight",size:g?"28":"24"})})]}),f>1&&(0,N.jsx)(an,{active_index:A,bullet_color:r,active_bullet_color:t,className:o()({"dc-carousel__nav--lower":u.length<5}),handleNextClick:B,handlePrevClick:v,handleNavigationClick:p,show_bullet:b&&"bottom"===a,show_nav:h&&"bottom"===_,list:u,item_per_window:y})]})}))};var dn=n(945260);const un=e=>{const{enabled:t,onClick:n,isNext:r=!1,isRtl:i=!1}=e,a=i?"IcChevronLeftBold":"IcChevronRightBold",s=i?"IcChevronRightBold":"IcChevronLeftBold";return(0,N.jsx)("button",{className:o()("cfd-compare-accounts-carousel__button",{"cfd-compare-accounts-carousel__button--prev":!r,"cfd-compare-accounts-carousel__button--next":r}),onClick:n,disabled:!t,children:(0,N.jsx)(W,{icon:r?a:s,className:"cfd-compare-accounts-carousel__button__svg"})})},_n=e=>{let{children:t,isRtl:n=!1}=e;const r={align:0,containScroll:"trimSnaps",direction:n?"rtl":"ltr"},[o,a]=(0,dn.A)(r),[s,c]=i.useState(!1),[l,g]=i.useState(!1),d=i.useCallback((()=>a&&a.scrollPrev()),[a]),u=i.useCallback((()=>a&&a.scrollNext()),[a]),_=i.useCallback((e=>{c(e.canScrollPrev()),g(e.canScrollNext())}),[]);return i.useEffect((()=>{a&&(_(a),a.on("reInit",_),a.on("select",_))}),[a,_]),(0,N.jsxs)("div",{className:"cfd-compare-accounts-carousel",children:[(0,N.jsx)("div",{className:"cfd-compare-accounts-carousel__viewport",ref:o,children:(0,N.jsx)("div",{className:"cfd-compare-accounts-carousel__container",children:t})}),(0,N.jsx)(un,{onClick:d,enabled:s,isRtl:n}),(0,N.jsx)(un,{onClick:u,isNext:!0,enabled:l,isRtl:n})]})};function In(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach((function(t){Cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):In(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const hn=e=>{let{text_copy:t,info_message:n,icon:r,success_message:a,className:s,onClickHandler:c,popoverClassName:l,popover_props:g={},popoverAlignment:d="bottom",size:u="16"}=e;const[_,I,b]=G(),C=(0,B.useIsMounted)();let h;return i.useEffect((()=>()=>clearTimeout(h)),[]),(0,N.jsx)(Qt,bn(bn({alignment:d,classNameBubble:o()("dc-clipboard__popover",l),message:_?a:n},g),{},{zIndex:"9999",children:_?(0,N.jsx)(W,{icon:"IcCheckmarkCircle",custom_color:"var(--status-success)",className:o()("dc-clipboard",s)}):(0,N.jsx)(W,{icon:r||"IcClipboard",custom_color:"var(--text-less-prominent)",className:o()("dc-clipboard",s),onClick:e=>{I(t),h=setTimeout((()=>{C()&&b(!1)}),2e3),e.stopPropagation(),null==c||c()},size:u})}))},mn=["className","classNameLabel","disabled","id","label","label_font_size","label_line_height","defaultChecked","onChange","value","withTabIndex","greyDisabled","has_error"];function An(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?An(Object(n),!0).forEach((function(t){yn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):An(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const fn=i.forwardRef(((e,t)=>{let{className:n,classNameLabel:r,disabled:a=!1,id:s,label:c,label_font_size:l="xs",label_line_height:g="unset",defaultChecked:d,onChange:u,value:_=!1,withTabIndex:I=0,greyDisabled:b=!1,has_error:C=!1}=e,h=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,mn);const[m,A]=i.useState(d||_);i.useEffect((()=>{A(d||_)}),[_,d]);return(0,N.jsxs)("label",{htmlFor:s,onClick:e=>e.stopPropagation(),className:o()("dc-checkbox",n,{"dc-checkbox--disabled":a}),children:[(0,N.jsxs)("span",{children:[(0,N.jsx)("input",pn({className:"dc-checkbox__input",type:"checkbox",id:s,ref:t,disabled:a,onChange:e=>{e.persist(),A(!m),null==u||u(e)},checked:m},h)),(0,N.jsx)("span",{className:o()("dc-checkbox__box",{"dc-checkbox__box--active":m,"dc-checkbox__box--disabled":a,"dc-checkbox--grey-disabled":a&&b}),tabIndex:I,onKeyDown:e=>{a||"Enter"!==e.key&&32!==e.keyCode||(null==u||u(e),A(!m))},children:!!m&&(0,N.jsx)(W,{icon:"IcCheckmark",color:"active"})})]}),(0,N.jsx)(M,{size:l,line_height:g,className:o()("dc-checkbox__label",r,{"dc-checkbox__label--error":C}),children:c})]})}));fn.displayName="Checkbox";const Bn=fn,vn=Bn,Fn=e=>{let{status:t,onClick:n,button_text:r}=e;const o=e=>{e.stopPropagation(),n()};switch(t){case"done":return(0,N.jsx)("div",{className:"dc-checklist__item-status--done",children:(0,N.jsx)(W,{icon:"IcCheckmark",color:"green",size:16})});case"button-action":return(0,N.jsx)(qe,{primary:!0,color:"active",text:r,onClick:o});default:return(0,N.jsx)("div",{className:"dc-checklist__item-status--action","data-testid":"dt_checklist_item_status_action",onClick:o,children:(0,N.jsx)(W,{icon:"IcArrowRightBold",color:"active"})})}},Qn=e=>{let{items:t,className:n,itemClassName:r}=e;return(0,N.jsx)("div",{className:o()("dc-checklist",n),children:t.map(((e,t)=>(0,N.jsxs)("div",{className:o()("dc-checklist__item",r,{"dc-checklist__item--disabled":e.is_disabled}),onClick:e.onClick,children:[(0,N.jsx)("div",{className:"dc-checklist__item-text",children:e.content}),(0,N.jsx)("div",{className:o()("dc-checklist__item-status",{"dc-checklist__item-status--disabled":e.is_disabled,"dc-checklist__item-status--button":"button-action"===e.status}),children:(0,N.jsx)(Fn,{status:e.status,onClick:e.onClick,button_text:e.button_text})})]},t)))})},xn=Qn,Gn=e=>{let{className:t,danger_limit:n=20,icon:r="",is_clockwise:i=!1,progress:a=0,radius:s=22,stroke:c=3,warning_limit:l=50}=e;const g=s-c/2,d=2*g*Math.PI,u=d-a/100*d;return(0,N.jsxs)("div",{className:o()("dc-circular-progress",t),children:[(0,N.jsx)(U.default,{icon:r,className:"dc-circular-progress__icon"}),(0,N.jsx)("svg",{height:2*s,width:2*s,children:(0,N.jsx)("circle",{className:o()("dc-circular-progress__bar",{"dc-circular-progress--clockwise":i,"dc-circular-progress__bar--warning":a<=l&&a>n,"dc-circular-progress__bar--danger":a<=n}),cx:s,cy:s,fill:"transparent",r:g,strokeDasharray:`${d} ${d}`,strokeWidth:c,style:{strokeDashoffset:u}})})]})},Un=["title"];function Wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wn(Object(n),!0).forEach((function(t){On(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function On(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const En=e=>{let{className:t}=e;return(0,N.jsx)(W,{width:30,height:9,icon:"IcChevronUp",className:t})},Zn=e=>{let{title:t}=e,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Un);return(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)(M,{size:"xs",weight:"bold",color:"prominent",className:"dc-collapsible__title",children:t}),(0,N.jsx)(W,Nn({icon:"IcChevronDown"},n))]})},Xn=e=>{let{is_collapsed:t=!1,position:n,onClick:r,title:a,handle_button:s=!1,show_collapsible_button:c=!0}=e;const[l,g]=i.useState(!t),d=()=>{g(!l),"function"==typeof r&&r()};let u;if(i.useEffect((()=>{g(t)}),[t]),"top"===n)u=a?(0,N.jsx)(Zn,{title:a,className:o()("dc-collapsible__icon",{"dc-collapsible__icon--top":!0,"dc-collapsible__icon--is-open":l})}):(0,N.jsx)(En,{className:o()("dc-collapsible__icon",{"dc-collapsible__icon--top":!0,"dc-collapsible__icon--is-open":l})});else u=a?(0,N.jsx)(Zn,{title:a,className:o()("dc-collapsible__icon",{"dc-collapsible__icon--bottom":!0,"dc-collapsible__icon--is-open":l})}):(0,N.jsx)(En,{className:o()("dc-collapsible__icon",{"dc-collapsible__icon--bottom":!0,"dc-collapsible__icon--is-open":l})});return s&&(u=(0,N.jsx)("div",{className:"dc-collapsible__icon--handle","data-testid":"icon_handle"})),(0,N.jsx)("div",{className:o()("dc-collapsible__button",{"dc-collapsible__button--handle":s}),onClick:d,onKeyDown:d,"data-testid":"dt_handle_button",children:c&&u})};function wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(n),!0).forEach((function(t){Tn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Tn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Vn={delta:10,trackTouch:!0,trackMouse:!0},jn=e=>{let{as:t,is_collapsed:n,position:r="top",children:a,onClick:s,title:c,handle_button:l,is_non_interactive:g=!1}=e;const[d,u]=i.useState(!n),[_,I]=i.useState(!1),b=()=>{if(g)return;const e=!d;u(e),"function"==typeof s&&s(e)};i.useEffect((()=>{u(!n),I(i.Children.toArray(a).some((e=>{let{props:t}=e;return"data-collapsible"in t})))}),[a,n]),i.useEffect((()=>I(i.Children.toArray(a).some((e=>{let{props:t}=e;return"data-collapsible"in t}))||g)),[a,g]);const C=(0,nn.useSwipeable)(Rn({onSwipedUp:()=>!d&&_&&b(),onSwipedDown:()=>d&&_&&b()},Vn)),h=(0,N.jsx)(Xn,{is_collapsed:!d,position:r,onClick:b,title:c,handle_button:l,show_collapsible_button:!g}),m=t||"div";return(0,N.jsxs)(m,Rn(Rn({},C),{},{className:o()("dc-collapsible",{"dc-collapsible--is-expanded":d,"dc-collapsible--is-collapsed":!d,"dc-collapsible--has-collapsible-btn":_,"dc-collapsible--has-title":c}),"data-testid":"dt_collapsible",children:[_&&"top"===r&&h,(0,N.jsx)("div",{className:"dc-collapsible__content",children:i.Children.map(a,(e=>{if(i.isValidElement(e)){const t=o()("dc-collapsible__item",e.props.className,{"dc-collapsible__item--collapsed":"data-collapsible"in e.props&&!d}),n=Rn({},e.props);"data-collapsible"in n&&delete n["data-collapsible"];const r=Rn(Rn({},n),{},{className:t});return i.cloneElement(e,r)}return e}))}),_&&"bottom"===r&&h]}))};jn.displayName="Collapsible",jn.ArrowButton=Xn;const kn=jn;function Sn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(n),!0).forEach((function(t){Pn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Dn=e=>{let{children:t,className:n,has_fade_in:r,is_arrow_inverted:a,is_expanded:s,is_title_spaced:c,title:l,title_style:g,title_className:d,wrapper_className:u,onToggle:_,measure:I}=e;const[b,C]=i.useState(s),h=i.useCallback((()=>{C(!b),_&&_()}),[b,_,C]);return i.useEffect((()=>{I&&I()}),[b,I]),i.useEffect((()=>{C(s)}),[s]),(0,N.jsxs)("div",{className:o()("dc-content-expander__wrapper",u),children:[(0,N.jsxs)("div",{className:o()("dc-content-expander",{"dc-content-expander--expanded":b},n),onClick:h,children:[(0,N.jsx)("div",{className:o()("dc-content-expander__title",{"dc-content-expander__title--spaced":c},d),children:"string"==typeof l?(0,N.jsx)(V,Yn(Yn({size:(null==g?void 0:g.size)||"xs",weight:(null==g?void 0:g.weight)||"bold",color:(null==g?void 0:g.color)||"prominent"},g),{},{children:l})):l}),(0,N.jsx)(U.default,{icon:"IcChevronDown",className:o()("dc-content-expander__select-arrow",{"dc-content-expander__select-arrow--invert":a})})]}),r?(0,N.jsx)(oe.A,{in:b,timeout:250,classNames:{enter:"dc-content-expander__content--enter",enterDone:"dc-content-expander__content--enter-done",exit:"dc-content-expander__content--exit"},unmountOnExit:!0,children:(0,N.jsx)("div",{className:"dc-content-expander__content",children:t})}):b&&(0,N.jsx)("div",{className:"dc-content-expander__content",children:t})]})},Jn=mt,Ln=["name","value","onChange","className","label","id","description","children"];function Mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mn(Object(n),!0).forEach((function(t){Hn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Kn=e=>{let{name:t,value:n,onChange:r,className:i,label:a,id:s,description:c,children:l}=e,g=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ln);return(0,N.jsxs)("div",{className:o()("composite-checkbox",i,{"composite-checkbox--active":!!n}),onClick:e=>{e.stopPropagation(),e.preventDefault(),r({target:{value:!n}})},children:[(0,N.jsx)(Bn,zn({id:s,label:a,name:t,value:n,onChange:r},g)),(0,N.jsx)(M,{as:"p",size:"xxxs",line_height:"s",className:o()("composite-checkbox__description",`${i}__description`),children:c}),l]})},$n=Kn;var qn=n(10578);const er=e=>{let{speed:t}=e;return(0,N.jsxs)(qn.Ay,{height:173,width:218,speed:t,children:[(0,N.jsx)("rect",{x:"43",y:"19",rx:"0",ry:"0",width:"56",height:"8"}),(0,N.jsx)("rect",{x:"147",y:"19",rx:"0",ry:"0",width:"56",height:"8"}),(0,N.jsx)("rect",{x:"12",y:"50",rx:"0",ry:"0",width:"44",height:"8"}),(0,N.jsx)("rect",{x:"13",y:"68",rx:"0",ry:"0",width:"192",height:"8"}),(0,N.jsx)("rect",{x:"5",y:"89",rx:"0",ry:"0",width:"208",height:"1"}),(0,N.jsx)("rect",{x:"12",y:"104",rx:"0",ry:"0",width:"44",height:"8"}),(0,N.jsx)("rect",{x:"12",y:"9",rx:"0",ry:"0",width:"24",height:"24"}),(0,N.jsx)("rect",{x:"116",y:"11",rx:"0",ry:"0",width:"24",height:"24"}),(0,N.jsx)("rect",{x:"12",y:"118",rx:"0",ry:"0",width:"88",height:"8"}),(0,N.jsx)("rect",{x:"116",y:"104",rx:"0",ry:"0",width:"44",height:"8"}),(0,N.jsx)("rect",{x:"116",y:"118",rx:"0",ry:"0",width:"88",height:"8"}),(0,N.jsx)("rect",{x:"12",y:"139",rx:"0",ry:"0",width:"44",height:"8"}),(0,N.jsx)("rect",{x:"12",y:"153",rx:"0",ry:"0",width:"88",height:"8"}),(0,N.jsx)("rect",{x:"116",y:"139",rx:"0",ry:"0",width:"44",height:"8"}),(0,N.jsx)("rect",{x:"116",y:"153",rx:"0",ry:"0",width:"88",height:"8"})]})},tr=["type","className"];function nr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nr(Object(n),!0).forEach((function(t){or(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function or(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ir=e=>{let{type:t,className:n}=e,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,tr);switch(t.toUpperCase()){case B.CONTRACT_TYPES.ACCUMULATOR:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeAccu",className:n,color:"brand"},r));case B.CONTRACT_TYPES.ASIAN.DOWN:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeAsiand",className:n,color:"brand"},r));case B.CONTRACT_TYPES.ASIAN.UP:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeAsianu",className:n,color:"brand"},r));case B.CONTRACT_TYPES.CALL_BARRIER:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeCallBarrier",className:n,color:"brand"},r));case B.CONTRACT_TYPES.CALLE:case B.CONTRACT_TYPES.CALL:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeCall",className:n,color:"brand"},r));case B.CONTRACT_TYPES.CALL_PUT_SPREAD.CALL:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeCallspread",className:n,color:"brand"},r));case B.CONTRACT_TYPES.CALL_PUT_SPREAD.PUT:return(0,N.jsx)(U.default,rr({icon:"IcTradetypePutsread",className:n,color:"brand"},r));case B.CONTRACT_TYPES.MATCH_DIFF.DIFF:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeDigitdiff",className:n,color:"brand"},r));case B.CONTRACT_TYPES.EVEN_ODD.EVEN:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeDigiteven",className:n,color:"brand"},r));case B.CONTRACT_TYPES.MATCH_DIFF.MATCH:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeDigitmatch",className:n,color:"brand"},r));case B.CONTRACT_TYPES.EVEN_ODD.ODD:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeDigitodd",className:n,color:"brand"},r));case B.CONTRACT_TYPES.OVER_UNDER.OVER:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeDigitover",className:n,color:"brand"},r));case B.CONTRACT_TYPES.OVER_UNDER.UNDER:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeDigitunder",className:n,color:"brand"},r));case B.CONTRACT_TYPES.END.OUT:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeExpirymiss",className:n,color:"brand"},r));case B.CONTRACT_TYPES.EXPIRYRANGEE:case B.CONTRACT_TYPES.END.IN:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeExpiryrange",className:n,color:"brand"},r));case B.CONTRACT_TYPES.LB_CALL:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeLbcall",className:n,color:"brand"},r));case B.CONTRACT_TYPES.LB_PUT:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeLbput",className:n,color:"brand"},r));case B.CONTRACT_TYPES.LB_HIGH_LOW:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeLbhighlow",className:n,color:"brand"},r));case B.CONTRACT_TYPES.MULTIPLIER.DOWN:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeMultdown",className:n,color:"brand"},r));case B.CONTRACT_TYPES.MULTIPLIER.UP:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeMultup",className:n,color:"brand"},r));case B.CONTRACT_TYPES.TOUCH.NO_TOUCH:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeNotouch",className:n,color:"brand"},r));case B.CONTRACT_TYPES.TOUCH.ONE_TOUCH:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeOnetouch",className:n,color:"brand"},r));case B.CONTRACT_TYPES.PUT_BARRIER:return(0,N.jsx)(U.default,rr({icon:"IcTradetypePutBarrier",className:n,color:"brand"},r));case B.CONTRACT_TYPES.PUTE:case B.CONTRACT_TYPES.PUT:return(0,N.jsx)(U.default,rr({icon:"IcTradetypePut",className:n,color:"brand"},r));case B.CONTRACT_TYPES.STAY.IN:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeRange",className:n,color:"brand"},r));case B.CONTRACT_TYPES.RESET.CALL:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeResetcall",className:n,color:"brand"},r));case B.CONTRACT_TYPES.RESET.PUT:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeResetput",className:n,color:"brand"},r));case B.CONTRACT_TYPES.RUN_HIGH_LOW.HIGH:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeRunhigh",className:n,color:"brand"},r));case B.CONTRACT_TYPES.RUN_HIGH_LOW.LOW:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeRunlow",className:n,color:"brand"},r));case B.CONTRACT_TYPES.TICK_HIGH_LOW.HIGH:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeTickhigh",className:n,color:"brand"},r));case B.CONTRACT_TYPES.TICK_HIGH_LOW.LOW:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeTicklow",className:n,color:"brand"},r));case B.CONTRACT_TYPES.TURBOS.LONG:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeTurboslong",className:n,color:"brand"},r));case B.CONTRACT_TYPES.TURBOS.SHORT:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeTurbosshort",className:n,color:"brand"},r));case B.CONTRACT_TYPES.STAY.OUT:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeUpordown",className:n,color:"brand"},r));case B.CONTRACT_TYPES.VANILLA.CALL:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeVanillaLongCall",className:n,color:"brand"},r));case B.CONTRACT_TYPES.VANILLA.PUT:return(0,N.jsx)(U.default,rr({icon:"IcTradetypeVanillaLongPut",className:n,color:"brand"},r));default:return(0,N.jsx)(U.default,rr({icon:"IcUnknown",className:n},r))}},ar=e=>{let{displayed_trade_param:t,getContractTypeDisplay:n,is_high_low:r,is_multipliers:i,is_turbos:a,type:s=""}=e;return(0,N.jsxs)("div",{className:"dc-contract-type",children:[(0,N.jsx)("div",{className:"dc-contract-type__type-wrapper",children:(0,N.jsx)(ir,{type:r&&!(0,B.isVanillaContract)(s)?`${s.toLowerCase()}_barrier`:s.toLowerCase(),className:"category-type",size:24})}),(0,N.jsxs)("div",{className:o()("dc-contract-type__type-label",{"dc-contract-type__type-label--smarttrader-contract":(0,B.isSmartTraderContract)(s),"dc-contract-type__type-label--lookbacks-contract":(0,B.isLookBacksContract)(s),"dc-contract-type__type-label--multipliers":i}),children:[(0,N.jsx)("div",{children:n(s,{isHighLow:r,showMainTitle:i||a})||""}),t&&(0,N.jsx)("div",{className:"dc-contract-type__type-label-trade-param",children:t})]})]})},sr=e=>{let{current_tick:t,getCardLabels:n,ticks_count:r}=e;const i=Array.from(Array(r).keys());return(0,N.jsxs)("div",{className:"dc-progress-slider__ticks",children:[(0,N.jsxs)(M,{styles:{lineHeight:"18px"},size:"xxs",className:"dc-progress-slider__ticks-caption",children:[n().TICK," ",t]}),(0,N.jsx)("div",{className:"dc-progress-slider__ticks-wrapper",children:i.map((e=>(0,N.jsx)("div",{className:o()("dc-progress-slider__ticks-step",{"dc-progress-slider__ticks-step--marked":e+1<=Number(t)})},e)))})]})},cr=e=>{let{as:t="div",end_time:n,format:r,getCardLabels:o,start_time:a,className:s="dc-remaining-time"}=e;const c=t;if(!n||a.unix()>+n)return(0,N.jsx)(i.Fragment,{children:""});const{days:l,timestamp:g}=(0,B.formatDuration)((0,B.getDiffDuration)(a.unix(),n),r);let d=g;l>0&&(d=`${l} ${l>1?o().DAYS:o().DAY} ${g}`);const u=/^00:00$/.test(d);return(0,N.jsx)(i.Fragment,{children:!u&&(0,N.jsx)(c,{className:s,children:d})})},lr=e=>{let{className:t,current_tick:n,expiry_time:r,getCardLabels:a,is_loading:s,server_time:c,start_time:l,ticks_count:g}=e;const d=(0,B.getTimePercentage)(c,Number(l),Number(r));return(0,N.jsx)("div",{className:o()("dc-progress-slider",t),children:g?(0,N.jsx)(sr,{current_tick:n,getCardLabels:a,ticks_count:g}):(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)(M,{size:"xxxs",className:"dc-progress-slider__remaining-time",children:(0,N.jsx)(cr,{end_time:r,getCardLabels:a,start_time:c})}),s||d<1?(0,N.jsx)("div",{className:"dc-progress-slider__infinite-loader",children:(0,N.jsx)("div",{className:"dc-progress-slider__infinite-loader--indeterminate"})}):(0,N.jsx)("div",{className:"dc-progress-slider__track",children:(0,N.jsx)("div",{className:o()("dc-progress-slider__line",{"dc-progress-slider__line--green":d>=50,"dc-progress-slider__line--yellow":d<50&&d>=20,"dc-progress-slider__line--red":d<20}),style:{width:`${d}%`}})})]})})},gr=e=>{let{children:t}=e;return(0,B.isDesktop)()?(0,N.jsx)(i.Fragment,{children:t}):null},dr=e=>{let{children:t}=e;return(0,B.isMobile)()?(0,N.jsx)(i.Fragment,{children:t}):null},ur=e=>{let{current_tick:t,label:n,max_ticks_duration:r}=e;return(0,N.jsx)("div",{className:"dc-tick-counter-bar__container",children:(0,N.jsx)("div",{className:"dc-tick-counter-bar__track",children:(0,N.jsx)(M,{size:"xxs",weight:"bold",align:"center",color:"profit-success",className:"dc-tick-counter-bar__text",children:`${t}/${r} ${n}`})})})},_r=i.memo(ur),Ir=e=>{var t;let{contract_info:n,display_name:r,getCardLabels:a,getContractTypeDisplay:s,has_progress_slider:c,id:l,is_sell_requested:g,is_sold:d,is_valid_to_sell:u,onClickSell:_,server_time:I}=e;const b=n.tick_count?(0,B.getCurrentTick)(n):null,{growth_rate:C,underlying:h,multiplier:m,contract_type:A,shortcode:p,purchase_time:y,date_expiry:f,tick_count:v,tick_passed:F}=n,Q=(0,B.isBot)(),x=!!n.is_sold||d,G=(0,B.isAccumulatorContract)(A),U=(0,B.isSmartTraderContract)(A),O=(0,B.isMobile)(),E=(0,B.isTurbosContract)(A),Z=(0,B.isMultiplierContract)(A),X=(0,B.isHighLow)({shortcode:p}),w=(null===(t=i.useMemo((()=>[{is_param_displayed:Z,displayed_param:`${s(null!=A?A:"",{isHighLow:X})} x${m}`.trim()},{is_param_displayed:G,displayed_param:`${(0,B.getGrowthRatePercentage)(C||0)}%`},{is_param_displayed:E,displayed_param:(0,B.getLocalizedTurbosSubtype)(A)}]),[A,C,m,G,Z,E,X]).find((e=>e.is_param_displayed)))||void 0===t?void 0:t.displayed_param)||"";return(0,N.jsxs)(i.Fragment,{children:[(0,N.jsxs)("div",{className:o()("dc-contract-card__grid","dc-contract-card__grid-underlying-trade",{"dc-contract-card__grid-underlying-trade--trader":!Q,"dc-contract-card__grid-underlying-trade--trader--accumulator":!(O||Q)&&G,"dc-contract-card__grid-underlying-trade--trader--sold":(G||E||Z)&&x}),children:[(0,N.jsxs)("div",{id:"dc-contract_card_underlying_label",className:o()("dc-contract-card__underlying-name",{"dc-contract-card__underlying-name--accumulator":G}),children:[(0,N.jsx)(W,{icon:h?`IcUnderlying${h}`:"IcUnknown",width:G?46:40,size:32}),(0,N.jsx)(M,{size:"xxs",className:o()("dc-contract-card__symbol",{"dc-contract-card__symbol--smarttrader-contract":U}),weight:"bold",children:r||n.display_name})]}),(0,N.jsx)("div",{id:"dc-contract_card_type_label",className:o()("dc-contract-card__type",{"dc-contract-card__type--accumulators":G}),children:(0,N.jsx)(ar,{displayed_trade_param:w,getContractTypeDisplay:s,is_high_low:X,is_multipliers:Z,is_turbos:E,type:A})}),(0,N.jsx)(dr,{children:u?(0,N.jsx)(oe.A,{in:!!u,timeout:250,classNames:{enter:"dc-contract-card__sell-button--enter",enterDone:"dc-contract-card__sell-button--enter-done",exit:"dc-contract-card__sell-button--exit"},unmountOnExit:!0,children:(0,N.jsx)("div",{className:"dc-contract-card__sell-button-mobile",children:(0,N.jsx)(qe,{id:`dc_contract_card_${l}_button`,className:o()("dc-btn--sell",{"dc-btn--loading":g}),is_disabled:!u||g,text:a().SELL,onClick:()=>_(l),secondary:!0})})}):null})]}),!x&&G&&(0,N.jsx)(_r,{current_tick:F,max_ticks_duration:v,label:a().TICKS}),(0,N.jsx)(dr,{children:(0,N.jsx)("div",{className:"dc-progress-slider--completed"})}),(0,N.jsxs)(gr,{children:[(!c||!!x)&&(0,N.jsx)("div",{className:"dc-progress-slider--completed"}),c&&!x&&!G&&(0,N.jsx)(lr,{current_tick:b,expiry_time:f,getCardLabels:a,is_loading:!1,server_time:I,start_time:y,ticks_count:v})]})]})},br=e=>{let{className:t,children:n,header:r,is_crypto:i,is_loss:a,is_won:s}=e;return(0,N.jsxs)("div",{className:o()("dc-contract-card-item",t),children:[(0,N.jsx)("div",{className:"dc-contract-card-item__header",children:r}),(0,N.jsx)("div",{className:o()("dc-contract-card-item__body",{"dc-contract-card-item__body--crypto":i,"dc-contract-card-item__body--loss":a,"dc-contract-card-item__body--profit":s}),children:n})]})},Cr=e=>{let{currency:t}=e;return(0,N.jsx)(M,{className:"dc-currency-badge",color:"colored-background",line_height:"unset",size:"xxxs",weight:"bold",children:(0,B.getCurrencyDisplayCode)(t)})},hr=e=>{let{amount:t=0,className:n,currency:r="USD",has_sign:o,should_format:a=!0,show_currency:s=!1}=e,c="";Number(t)&&(Number(t)<0||o)&&(c=Number(t)>0?"+":"-");const l=o||a?Math.abs(Number(t)):t,g=a?(0,B.formatMoney)(r,l,!0,0,0):l;return(0,N.jsxs)(i.Fragment,{children:[o&&c,(0,N.jsxs)("span",{"data-testid":"dt_span",className:n,children:[g," ",s&&(0,B.getCurrencyDisplayCode)(r)]})]})},mr=i.memo(hr),Ar=e=>{let{getCardLabels:t,is_contract_won:n}=e;return(0,N.jsxs)("span",{className:o()("dc-result__caption",{"dc-result__caption--won":n,"dc-result__caption--lost":!n}),children:[(0,N.jsx)(W,{icon:"IcPositionClosed",className:"dc-result__icon",color:n?"green":"red"}),t().CLOSED]})},pr=e=>{let{currency:t,contract_id:n,getCardLabels:r,getContractPath:a,is_positions:s,is_visible:c,onClickRemove:l,payout_info:g,result:d}=e;const u="won"===d;return(0,N.jsx)(i.Fragment,{children:(0,N.jsx)(oe.A,{in:c,timeout:250,classNames:{enter:"dc-contract-card__result--enter",enterDone:"dc-contract-card__result--enter-done",exit:"dc-contract-card__result--exit"},unmountOnExit:!0,children:(0,N.jsxs)("div",{id:`dc_contract_card_${n}_result`,className:o()("dc-contract-card__result",{"dc-result__positions-overlay":s,"dc-contract-card__result--won":u,"dc-contract-card__result--lost":!u}),children:[s&&(0,N.jsx)("span",{id:`dc_contract_card_${n}_result_close_icon`,className:"dc-result__close-btn",onClick:()=>{n&&(null==l||l(n))}}),a&&(0,N.jsx)(st.NavLink,{className:"dc-result__caption-wrapper",to:a(n)}),(0,N.jsxs)("div",{className:"dc-result__content",children:[(0,N.jsx)(Ar,{getCardLabels:r,is_contract_won:u}),(0,N.jsx)(M,{weight:"bold",size:"s",line_height:"xxl",color:u?"profit-success":"loss-danger",children:(0,N.jsx)(mr,{amount:g,currency:t,has_sign:!0,show_currency:!0})})]})]})})})},yr=e=>{let{is_on:t}=e;return(0,N.jsx)("div",{className:o()("dc-tick-progress__tick",{"dc-tick-progress__tick--on":t})})},fr=e=>{let{className:t,rows:n=2,columns:r=5,size:i=10,value:a=0}=e;return(0,N.jsx)("div",{className:o()("dc-tick-progress",t),style:{gridTemplateRows:`repeat(${n}, 1fr)`,gridTemplateColumns:`repeat(${r}, 1fr)`},children:new Array(i).fill(null).map(((e,t)=>(0,N.jsx)(yr,{is_on:t<Number(a)},t)))})},Br=e=>{let{current_tick:t,getCardLabels:n,ticks_count:r}=e;return(0,N.jsxs)("div",{className:"dc-progress-slider__ticks",children:[(0,N.jsxs)(M,{styles:{lineHeight:"18px"},size:"xxs",className:"dc-progress-slider__ticks-caption",children:[n().TICK," ",t]}),(0,N.jsx)(fr,{columns:5,rows:r>5?2:1,size:r,value:t})]})},vr=e=>{let{className:t,current_tick:n,getCardLabels:r,is_loading:a,start_time:s,expiry_time:c,server_time:l,ticks_count:g}=e;const d=(0,B.getTimePercentage)(l,Number(s),Number(c));return(0,N.jsx)("div",{className:o()("dc-progress-slider-mobile",t),"data-testid":"dt_progress_slider_mobile",children:g?(0,N.jsx)(Br,{current_tick:n,getCardLabels:r,ticks_count:g}):(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)(M,{size:"xxs",children:(0,N.jsx)(cr,{end_time:c,getCardLabels:r,start_time:l})}),a||d<1?(0,N.jsx)("div",{className:"dc-progress-slider-mobile__infinite-loader",children:(0,N.jsx)("div",{className:"dc-progress-slider-mobile__infinite-loader--indeterminate"})}):(0,N.jsx)(Gn,{className:"dc-progress-slider-mobile__timer",danger_limit:20,icon:"IcClockOutline",progress:d,warning_limit:50})]})})},Fr=i.forwardRef(((e,t)=>{let{children:n,is_visible:r,left:o,toggleDialog:i,toggle_ref:a,top:s}=e;A(t,i,(e=>{var t;return r&&!(null!=a&&null!==(t=a.current)&&void 0!==t&&t.contains(e.target))}));const c=(0,N.jsx)(oe.A,{in:r,classNames:{enter:"dc-contract-card-dialog--enter",enterDone:"dc-contract-card-dialog--enter-done",exit:"dc-contract-card-dialog--exit"},timeout:150,unmountOnExit:!0,children:(0,N.jsx)("div",{ref:t,className:"dc-contract-card-dialog",style:{top:s,left:`calc(${o}px + 32px)`},children:n})}),l=document.getElementById("deriv_app");return re.createPortal(c,l||document.body)}));Fr.displayName="ContractCardDialog";const Qr=Fr;function xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(n),!0).forEach((function(t){Ur(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ur(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Wr=e=>{let{decrementValue:t,id:n,incrementValue:r,max_is_disabled:a,min_is_disabled:s,is_incrementable_on_long_press:c,onLongPressEnd:l,type:g}=e;const d=i.useRef(),u=i.useRef(),_=i.useRef(!1),I=e=>t=>{u.current=setTimeout((()=>{_.current=!0;let n=1;e(t,n),d.current=setInterval((()=>{e(t,++n)}),50)}),300)},b=()=>{clearInterval(d.current),clearTimeout(u.current),l&&_.current&&l(),_.current=!1},C=e=>c?{onContextMenu:e=>e.preventDefault(),onTouchStart:I(e),onTouchEnd:b,onMouseDown:I(e),onMouseUp:b}:{};return(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)(qe,Gr(Gr({id:`${n}_add`,className:o()("dc-input-wrapper__button dc-input-wrapper__button--increment",{"dc-input-wrapper__button--disabled":!!a}),is_disabled:!!a,onClick:r,tabIndex:-1,"aria-label":"Increment value",type:g},C(r)),{},{children:(0,N.jsx)(W,{icon:"IcAdd",className:"dc-input-wrapper__icon dc-input-wrapper__icon--plus",color:a?"disabled":void 0})})),(0,N.jsx)(qe,Gr(Gr({id:`${n}_sub`,className:o()("dc-input-wrapper__button dc-input-wrapper__button--decrement",{"dc-input-wrapper__button--disabled":!!s}),is_disabled:!!s,onClick:t,tabIndex:-1,"aria-label":"Decrement value",type:g},C(t)),{},{children:(0,N.jsx)(W,{icon:"IcMinus",className:"dc-input-wrapper__icon dc-input-wrapper__icon--minus",color:s?"disabled":void 0})}))]})},Nr=e=>{let{ariaLabel:t,changeValue:n,checked:r,className:a,classNameDynamicSuffix:s,classNameInlinePrefix:c,current_focus:l,data_testid:g,data_tip:d,data_value:u,display_value:_,fractional_digits:I,id:b,inline_prefix:C,inputmode:h,is_autocomplete_disabled:m,is_disabled:A,is_hj_whitelisted:p,is_incrementable:y,is_read_only:f,max_length:v,name:F,onBlur:Q,onClick:x,onKeyPressed:G,placeholder:U,required:W,setCurrentFocus:O,type:E}=e;const Z=i.useRef(null);i.useEffect((()=>{var e;l===F&&(null==Z||null===(e=Z.current)||void 0===e||e.focus())}),[l,F]);return(0,N.jsxs)("div",{className:s,children:[C?(0,N.jsx)("div",{className:c,children:(0,N.jsx)(M,{className:o()(c?`${c}--symbol`:"",{disabled:!!A}),size:"xs",children:"UST"===C?(0,B.getCurrencyDisplayCode)(C):C})}):null,(0,N.jsx)("input",{autoComplete:m?"off":void 0,checked:r,className:o()(a),"data-for":`error_tooltip_${F}`,"data-hj-whitelist":p,"data-tip":d,"data-testid":g,"data-value":u,disabled:!!A,id:b,maxLength:I&&v?v+I+1:v,name:F,onBlur:e=>{null==O||O(null),null==Q||Q(e)},onChange:e=>{if(-1!==navigator.userAgent.indexOf("Safari")&&"checkbox"!==E){const t=e.target.selectionStart;n(e,(e=>{e.target.selectionEnd=t}))}else n(e)},onClick:x,onFocus:()=>null==O?void 0:O(F),onKeyDown:y?G:void 0,placeholder:U||void 0,readOnly:f,ref:Z,required:W||void 0,inputMode:h,type:"number"===E?"text":E,value:null!=_?_:"","aria-label":t,"data-lpignore":"password"!==E})]})},Or=e=>{let{alignment:t,children:n,className:r,classNameIcon:a,has_error:s,icon:c,message:l}=e;const[g,d]=I(),u=o()(a,c);return(0,N.jsxs)("span",{className:o()(r,"dc-tooltip",{"dc-tooltip--error":s}),"data-tooltip":l||void 0,"data-tooltip-pos":t,children:["info"===c&&(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)(W,{icon:"IcInfoOutline",className:u,ref:g}),(0,N.jsx)(W,{icon:"IcInfoBlue",className:o()(`${a}-balloon-icon`,"dc-tooltip__balloon-icon",{"dc-tooltip__balloon-icon--show":d})})]}),"question"===c&&(0,N.jsx)(W,{icon:"IcUnknown",className:u}),"dot"===c&&(0,N.jsx)(W,{icon:"IcCircle",className:u,size:4}),n]})},Er=e=>{let{ariaLabel:t,checked:n,className:r,classNameDynamicSuffix:a,classNameInlinePrefix:s,classNameInput:c,classNamePrefix:l,classNameWrapper:g,currency:d,current_focus:u,data_tip:_,data_value:I,decimal_point_change:b,error_messages:C,error_message_alignment:h,fractional_digits:m,helper:A,icon:p,id:y,inline_prefix:f,is_autocomplete_disabled:v,is_disabled:F,is_error_tooltip_hidden:Q=!1,is_float:x,is_hj_whitelisted:G=!1,is_incrementable:U,is_incrementable_on_long_press:W,is_negative_disabled:O,is_read_only:E=!1,is_signed:Z=!1,is_unit_at_right:X=!1,inputmode:w,increment_button_type:R,label:T,max_length:V,max_value:j,min_value:k,name:S="",format:Y,onBlur:P,onChange:D,onClick:J,onClickInputWrapper:L,placeholder:z,prefix:H,required:K,setCurrentFocus:$,type:q="",unit:ee,value:te,data_testid:ne}=e;const[re,oe]=i.useState(),ie=p,ae=C&&!!C.length&&!Q,se=j&&(+te>=+j||Number(re)>=+j),ce=k&&(+te<=+k||Number(re)<=+k);let le=!0;const ge=e=>{const t="string"==typeof e?e.split("."):e.toString().split(".");return t&&t.length>1?t[1].length:0},de=e=>{let t=e;return k&&(t=Math.max(t,k)),j&&(t=Math.min(t,j)),t},ue=(e,t)=>{if(se)return;let n;const r=re||te.toString(),o=r?ge(r):0,i=!!d&&(0,B.isCryptocurrency)(d);if(t){const e=Math.min(t,Math.max(t,10))/10,i=+te*e/100,a=parseFloat(r||"0")+Math.abs(i);n=parseFloat(de(a).toString()).toFixed(o)}else if(i||!d&&x){const e=parseFloat(r||"0")+parseFloat((1*10**(0-(b||o))).toString());n=parseFloat(e.toString()).toFixed(b||o)}else n=parseFloat(((+r||0)+1).toString()).toFixed(o);be(n,!!t)},_e=e=>{let t;const n=re||(null==te?void 0:te.toString()),r=n?ge(n):0,o=!!d&&(0,B.isCryptocurrency)(d);if(e){const o=Math.min(e,Math.max(e,10))/10,i=+te*o/100,a=parseFloat(n||"0")-Math.abs(i);t=parseFloat(de(a).toString()).toFixed(r)}else if(o||!d&&x){const e=parseFloat(n||"0")-parseFloat((1*10**(0-(b||r))).toString());t=parseFloat(e.toString()).toFixed(b||r)}else t=parseFloat(((+n||0)-1).toString()).toFixed(r);return t},Ie=(e,t)=>{if(ce)return;const n=_e(t);O&&+n<0||be(n,!!t)},be=(e,t)=>{let n=Y?Y(e):e;t?oe(n):(Z&&/^\d+/.test(n)&&+n>0&&(n=`+${n}`),null==D||D({target:{value:n,name:S}}))};let Ce=re||te;ee&&(Ce=X?`${te} ${ee}`:`${ee} ${te}`);const he=U&&("number"===q||"tel"===q),me=(0,N.jsx)(Nr,{ariaLabel:t,changeValue:(e,t)=>{if(ee&&(e.target.value=e.target.value.replace(ee,"").trim()),e.target.value!==te||"checkbox"===q){if("number"===q||"tel"===q){const t=!e.target.value||""===e.target.value||"  "===e.target.value,n=Z?"^([+-.0-9])":"^";e.target.value=e.target.value.replace(",",".");const r=new RegExp(`${n}(\\d*)?${x?"(\\.\\d+)?":""}$`).test(e.target.value),o=x&&new RegExp(`${n}(\\.|\\d+\\.)?$`).test(e.target.value),i=new RegExp(`${n}(\\d+)?\\.(\\d+)?[0]+$`).test(e.target.value),a=/e/.test(""+ +e.target.value);if(V&&(m||0===m)&&(le=new RegExp(`${n}(\\d{0,${V}})(\\${m&&"."}\\d{0,${m}})?$`).test(e.target.value)),(r||t)&&le)e.target.value=t||Z||i||a||"tel"===q?e.target.value:+e.target.value;else if(!o)return void(e.target.value=te)}null==D||D(e),t&&t(e)}},checked:n,current_focus:u,className:o()(he?"dc-input-wrapper__input":"",f?"input--has-inline-prefix":"","input",{"input--error":C&&!!C.length},c),classNameDynamicSuffix:a,classNameInlinePrefix:s,data_tip:_,data_testid:ne,data_value:I,display_value:Ce,fractional_digits:m,has_error:ae,id:y,inline_prefix:f,is_autocomplete_disabled:v,is_disabled:F,is_hj_whitelisted:G,is_incrementable:he,is_read_only:E,max_length:V,name:S,onBlur:P,onClick:J,onKeyPressed:e=>{38===e.keyCode&&ue(),40===e.keyCode&&Ie()},placeholder:z,required:K,setCurrentFocus:$,type:q,inputmode:w}),Ae=(0,N.jsx)(Wr,{id:y,max_is_disabled:se||!!F,incrementValue:ue,min_is_disabled:ce||O&&+_e()<0||!!F,decrementValue:Ie,onLongPressEnd:()=>{const e=re,t=Y?Y(e):e;null==D||D({target:{value:t||"",name:S}}),oe("")},is_incrementable_on_long_press:W,type:R}),pe=(0,N.jsxs)(Or,{className:o()("trade-container__tooltip",{"dc-tooltip--with-label":T}),alignment:h||"left",message:ae?C[0]:null,has_error:ae,children:[!!T&&(0,N.jsx)("label",{htmlFor:S,className:"dc-input-field__label",children:T}),!!A&&(0,N.jsx)(M,{size:"xxs",color:"less-prominent",weight:"lighter",children:A}),he?(0,N.jsxs)("div",{className:o()("dc-input-wrapper",{"dc-input-wrapper--disabled":!!F},g),children:[Ae,me]}):me]});return(0,N.jsxs)(i.Fragment,{children:[!!H&&(0,N.jsx)("div",{className:l,children:(0,N.jsx)("span",{className:o()(`${l}--symbol`,"symbols"),children:(0,B.getCurrencyDisplayCode)(d)})}),(0,N.jsxs)("div",{className:o()("dc-input-field",r),onClick:L,children:[p&&(0,N.jsx)(ie,{onClick:J}),pe]})]})},Zr=Er;function Xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xr(Object(n),!0).forEach((function(t){Rr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Tr=e=>{let{addToast:t,checkbox_tooltip_label:n,classNameBubble:r,classNameInlinePrefix:o,classNameInput:a,className:s,currency:c,current_focus:l,defaultChecked:g,error_message_alignment:d,error_messages:u,is_disabled:_,is_single_currency:I,is_negative_disabled:b,is_input_hidden:C,label:h,max_value:m,name:A,onChange:p,removeToast:y,setCurrentFocus:f,tooltip_alignment:v,tooltip_label:F,value:Q}=e;const x=i.useRef(null),G=i.useRef(null),[U,W]=i.useState(g),{isDesktop:O}=(0,yt.Y)(),E=`has_${A}`;i.useEffect((()=>{W(g)}),[g]),i.useEffect((()=>{if(!O){const e=()=>{"function"==typeof t&&t({key:`${A}__error`,content:String(u),type:"error"})},n=()=>{"function"==typeof y&&y(`${A}__error`)};if(void 0!==(null==u?void 0:u.length)&&(null==u?void 0:u.length)>0)return e(),()=>{n()}}}),[u,t,y,A,O]);const Z=()=>{setTimeout((()=>{var e,t,n;const r=null===(e=G.current)||void 0===e||null===(e=e.nextSibling)||void 0===e||null===(t=e.querySelector)||void 0===t?void 0:t.call(e,"input.dc-input-wrapper__input");null==r||null===(n=r.focus)||void 0===n||n.call(r)}))},X=(0,N.jsx)(Zr,{className:s,classNameInlinePrefix:o,classNameInput:a,currency:c,current_focus:l||"",error_messages:u,error_message_alignment:d,is_error_tooltip_hidden:!O,is_disabled:!!_,fractional_digits:(0,B.getDecimalPlaces)(c),id:`dc_${A}_input`,inline_prefix:I?c:void 0,is_autocomplete_disabled:!0,is_float:(0,B.getDecimalPlaces)(c)>0,is_hj_whitelisted:!0,is_incrementable:!0,is_negative_disabled:b,max_length:10,max_value:m,name:A,onChange:p,onClickInputWrapper:_?void 0:()=>{U||(W(!0),null==p||p({target:{name:E,value:!0}}),Z())},type:"number",ariaLabel:"",inputmode:"decimal",value:Q,setCurrentFocus:f}),w=(0,N.jsx)(vn,{className:`${A}-checkbox__input`,ref:x,id:`dc_${A}-checkbox_input`,onChange:()=>{const e=!U;null==p||p({target:{name:E,value:e}}),e&&Z()},name:E,label:h,classNameLabel:`${A}-checkbox__label`,defaultChecked:g,disabled:_});return(0,N.jsxs)(i.Fragment,{children:[(0,N.jsxs)("div",{ref:G,className:"dc-input-wrapper--inline",children:[n?(0,N.jsx)(Qt,{alignment:"left",classNameBubble:"trade-container__popover",is_bubble_hover_enabled:!0,margin:2,message:n,relative_render:!0,children:w}):(0,N.jsx)(i.Fragment,{children:w}),F&&(0,N.jsx)(Qt,wr({alignment:v||"left",classNameBubble:r,icon:"info",id:`dc_${A}-checkbox__tooltip`,is_bubble_hover_enabled:!0,message:F,margin:O&&"right"!==v?216:0,zIndex:"9999"},O?{relative_render:"left"===v}:{}))]}),!C&&X]})},Vr=Tr;function jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jr(Object(n),!0).forEach((function(t){Sr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Yr=e=>{const{addToast:t,contract:n,current_focus:r,error_message_alignment:a,getCardLabels:s,is_turbos:c,is_accumulator:l,onMouseLeave:g,removeToast:d,setCurrentFocus:u,toggleDialog:_,totalProfit:I}=e,{isDesktop:b}=(0,yt.Y)();i.useEffect((()=>()=>n.clearContractUpdateConfigValues()),[n]);const{contract_info:C,contract_update_take_profit:h,has_contract_update_take_profit:m,contract_update_stop_loss:A,has_contract_update_stop_loss:p,updateLimitOrder:y,validation_errors:f}=n,[v,F]=i.useState({contract_update_take_profit:h,contract_update_stop_loss:A}),{buy_price:Q,currency:x="",is_valid_to_cancel:G,is_sold:U}=C,{stop_loss:W,take_profit:O}=(0,B.getLimitOrderAmount)(C.limit_order),{contract_update_stop_loss:E,contract_update_take_profit:Z}=f,X={take_profit:m?Z:void 0,stop_loss:p?E:void 0},w=Object.keys(X).some((e=>{var t;return null===(t=X[e])||void 0===t?void 0:t.length})),R=e=>!(null==e),T=(0,B.isMultiplierContract)(C.contract_type||""),V=m?+h>0:R(T?W:O),j=p?+A>0:R(O),k=T?!G&&!(!V&&!j):!!V,S=e=>{const t=["has_contract_update_take_profit","has_contract_update_stop_loss",e.has_contract_update_take_profit&&"contract_update_take_profit",e.has_contract_update_stop_loss&&"contract_update_stop_loss"];return(0,B.pick)(e,t)},Y=e=>{var t;const{name:r,value:o}=e.target;F(kr(kr({},v),{},{[r]:o})),null===(t=n.onChange)||void 0===t||t.call(n,{name:r,value:o})},P=(0,N.jsx)(Vr,{addToast:t,removeToast:d,current_focus:r,classNameBubble:"dc-popover__trade-params",classNameInlinePrefix:"dc-contract-card-dialog__input--currency",currency:x,error_messages:X.take_profit,is_input_hidden:!b&&!m,is_single_currency:!0,is_negative_disabled:!0,defaultChecked:m,label:s().TAKE_PROFIT,name:"contract_update_take_profit",onChange:Y,error_message_alignment:a||"right",value:v.contract_update_take_profit,is_disabled:T&&!!G,setCurrentFocus:u,tooltip_alignment:b?"right":"left",tooltip_label:(0,N.jsx)(Ie.Localize,{i18n_default_text:"When your profit reaches or exceeds this amount, your trade will be closed automatically."})}),D=(0,B.getCancellationPrice)(C),J=(0,N.jsx)(Vr,{addToast:t,removeToast:d,current_focus:r,classNameBubble:"dc-popover__trade-params",classNameInlinePrefix:"dc-contract-card-dialog__input--currency",currency:x,defaultChecked:p,error_messages:X.stop_loss,is_input_hidden:!b&&!p,is_single_currency:!0,is_negative_disabled:!0,label:s().STOP_LOSS,max_value:Number(Q)-D,name:"contract_update_stop_loss",onChange:Y,error_message_alignment:a||"right",value:v.contract_update_stop_loss,is_disabled:!!G,setCurrentFocus:u,tooltip_alignment:b?"right":"left",tooltip_label:(0,N.jsx)(Ie.Localize,{i18n_default_text:"When your loss reaches or exceeds this amount, your trade will be closed automatically."})});return(0,N.jsxs)(i.Fragment,{children:[!b&&(0,N.jsxs)("div",{className:"dc-contract-card-dialog__total-profit",children:[(0,N.jsx)(M,{color:"less-prominent",size:"xs",weight:"bold",children:s().TOTAL_PROFIT_LOSS}),(0,N.jsxs)("div",{className:o()("dc-contract-card__profit-loss dc-contract-card-item__total-profit-loss-value",{"dc-contract-card__profit-loss--is-crypto":(0,B.isCryptocurrency)(x),"dc-contract-card__profit-loss--negative":I<0,"dc-contract-card__profit-loss--positive":I>0}),children:[(0,N.jsx)(mr,{amount:I,currency:x,show_currency:!0}),!U&&(0,N.jsx)($,{className:"dc-contract-card__indicative--movement",value:I})]})]}),(0,N.jsxs)("div",{className:o()("dc-contract-card-dialog__form",{"dc-contract-card-dialog__form--no-stop-loss":l||c}),children:[(0,N.jsx)("div",{className:"dc-contract-card-dialog__input",children:P}),T&&(0,N.jsx)("div",{className:"dc-contract-card-dialog__input",children:J}),(0,N.jsx)("div",{className:"dc-contract-card-dialog__button",children:(0,N.jsx)(qe,{text:s().APPLY,onClick:e=>{y(),_(e),null==g||g()},primary:!0,is_disabled:w||!k||(0,B.isDeepEqual)(S((0,B.getContractUpdateConfig)(C)),S(e.contract))})})]})]})};var Pr=n(629528);const Dr=e=>{let{children:t,className:n,is_bypassed:r=!1,is_disabled:o=!1,id:a,height_offset:s,max_autoheight_offset:c}=e;const l={height:c?"":s?`calc(100rvh - ${s})`:"calc(100rvh)",maxHeight:c?`calc(100rvh - ${c})`:""};return i.useEffect((()=>{window.dispatchEvent(new Event("resize"))}),[s]),r?t:(0,N.jsx)(Pr.A,{id:a,className:n,style:o?{}:l,"data-testid":"dt_div_100_vh",children:t})},Jr=ce,Lr=e=>{const{children:t,footer:n,has_close_icon:r=!0,has_full_height:a,header_classname:s,info_banner:c,portal_element_id:l,renderTitle:g,title:d,visible:u,wrapper_classname:_,footer_classname:I,learn_more_banner:b}=e,C=i.useRef(null),[h,m]=i.useState(0);i.useLayoutEffect((()=>{C.current&&!h&&m(C.current.offsetHeight)}),[n,h]);const A=document.getElementById(l);return e.visible?(document.body.style.overflow="hidden",A&&(A.style.overflow="hidden")):(document.body.style.overflow="unset",A&&(A.style.overflow="unset")),A?re.createPortal((0,N.jsx)(oe.A,{appear:!0,in:u,timeout:250,classNames:{enter:"dc-mobile-dialog--enter",enterDone:"dc-mobile-dialog--enter-done",exit:"dc-mobile-dialog--exit"},unmountOnExit:!0,children:(0,N.jsx)("div",{"data-testid":"dt_mobile_dialog",className:"dc-mobile-dialog",onClick:e=>{const t=e.target;if("A"!==t.tagName&&e.stopPropagation(),"INPUT"===t.tagName&&"number"===t.type){const n=()=>((e,t)=>{const n=t.getBoundingClientRect();if(n.top+t.clientHeight+20>window.innerHeight){const r=(window.innerHeight-t.clientHeight)/2;e.scrollTop+=n.top-r}})(e.currentTarget,t);window.addEventListener("resize",n,!1),window.setTimeout((()=>{window.removeEventListener("resize",n,!1)}),2e3)}},children:(0,N.jsxs)(Dr,{className:o()("dc-mobile-dialog__container",{"dc-mobile-dialog__container--has-scroll":e.has_content_scroll,"dc-mobile-dialog__container--has-info-banner":c||b}),height_offset:e.content_height_offset||"8px",children:[(0,N.jsxs)(Jr,{is_bypassed:!c&&!b,is_scrollbar_hidden:!0,className:c||b?o()("dc-mobile-dialog__header-wrapper",s):"",children:[(0,N.jsxs)("div",{className:o()("dc-mobile-dialog__header",!c&&!b&&s),children:[(0,N.jsx)(V,{as:"h2",size:"xs",color:"prominent",weight:"bold",line_height:"unset",className:"dc-mobile-dialog__title",children:g?g():d}),r&&(0,N.jsx)("div",{"data-testid":"dt_dc_mobile_dialog_close_btn",className:"icons dc-btn-close dc-mobile-dialog__close-btn",onClick:e.onClose,children:(0,N.jsx)(U.default,{icon:"IcCross",className:"dc-mobile-dialog__close-btn-icon"})})]}),c,b]}),(0,N.jsx)("div",{className:o()("dc-mobile-dialog__content",{"dc-mobile-dialog__content--is-full-height":a}),style:h?{height:`calc(100% - ${h}px)`}:void 0,children:(0,N.jsx)("div",{className:o()({[`dc-mobile-dialog__${_}`]:_}),children:t})}),n&&(0,N.jsx)("div",{ref:C,className:o()("dc-mobile-dialog__footer",I),children:n})]})})}),A):null},Mr=["addToast","contract_id","getCardLabels","getContractById","is_risk_management_edition_disabled","is_accumulator","should_show_warning","toggleCancellationWarning"];function zr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zr(Object(n),!0).forEach((function(t){Kr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $r=e=>{let{addToast:t,contract_id:n,getCardLabels:r,getContractById:a,is_risk_management_edition_disabled:s,is_accumulator:c,should_show_warning:l,toggleCancellationWarning:g}=e,d=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Mr);const[u,_]=i.useState(!1),[I,b]=i.useState(0),[C,h]=i.useState(0),{isDesktop:m}=(0,yt.Y)(),A=i.useRef(null),p=i.useRef(null),y=a(Number(n)),f=l&&s;i.useEffect((()=>{if(u&&null!=A&&A.current&&null!=p&&p.current){const e=A.current.getBoundingClientRect(),t=p.current.getBoundingClientRect(),n=document.body.getBoundingClientRect();let{top:r}=e;const{right:o}=e;r+(null==t?void 0:t.height)>n.height&&(r-=(null==t?void 0:t.height)-e.height),o+(null==t?void 0:t.width)>n.width?h(o-(null==t?void 0:t.width)-16):h(o-16),b(r)}}),[u]);const B=r()[c?"TAKE_PROFIT_IS_NOT_AVAILABLE":"TAKE_PROFIT_LOSS_NOT_AVAILABLE"],v=e=>{e.preventDefault(),e.stopPropagation(),!m&&f&&t({key:"risk_management_is_disabled",content:B,type:"error"}),s||_(!u)},F=i.useCallback(v,[v]),Q=(0,N.jsx)(W,{className:"dc-contract-card-dialog-toggle__icon",icon:"IcEdit",color:s?"disabled":"",size:12});return(0,N.jsxs)("div",{onClick:e=>{e.stopPropagation()},children:[f&&m?(0,N.jsx)(Qt,{alignment:"right",classNameBubble:"dc-contract-card-dialog__popover-bubble",className:o()("dc-contract-card-dialog__popover",{"dc-contract-card-dialog__popover--accumulator":c}),is_bubble_hover_enabled:!0,margin:2,zIndex:"2",message:B,onBubbleClose:()=>{null==g||g()},children:(0,N.jsx)("button",{ref:A,className:"dc-contract-card-dialog-toggle",onClick:F,disabled:f,children:Q})}):(0,N.jsx)("button",{ref:A,className:o()("dc-contract-card-dialog-toggle",{"dc-contract-card-dialog-toggle--disabled":f}),onClick:F,children:Q}),m?(0,N.jsx)(Qr,{ref:p,is_visible:u,left:C,top:I,toggle_ref:A,toggleDialog:F,children:(0,N.jsx)(Yr,Hr({addToast:t,contract:y,getCardLabels:r,getContractById:a,toggleDialog:F},d))}):(0,N.jsx)(Lr,{portal_element_id:"modal_root",visible:u,onClose:F,wrapper_classname:"contract-update",children:(0,N.jsx)(Dr,{className:"contract-update__wrapper",height_offset:"40px",children:(0,N.jsx)(Yr,Hr({addToast:t,contract:y,getCardLabels:r,getContractById:a,isMobile:!0,toggleDialog:F},d))})})]})};$r.displayName="ToggleCardDialog";const qr=i.memo($r),eo=["contract_info","contract_update","currency","getCardLabels","indicative","is_sold","is_positions","toggleCancellationWarning"];function to(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function no(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?to(Object(n),!0).forEach((function(t){ro(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):to(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ro(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const oo=e=>{let{contract_info:t,contract_update:n,currency:r,getCardLabels:a,indicative:s,is_sold:c,is_positions:l,toggleCancellationWarning:g}=e,d=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,eo);const{buy_price:u,profit:_,limit_order:I,sell_price:b}=t,{take_profit:C}=(0,B.getLimitOrderAmount)(n||I),h=(0,B.isValidToSell)(t),{CONTRACT_VALUE:m,STAKE:A,TAKE_PROFIT:p,TOTAL_PROFIT_LOSS:y}=a();let f,v;return _&&(f=+_>0,v=+_<0),(0,N.jsxs)(i.Fragment,{children:[(0,N.jsxs)("div",{className:"dc-contract-card-items-wrapper",children:[(0,N.jsx)(br,{header:A,className:"dc-contract-card__stake",children:(0,N.jsx)(mr,{amount:u,currency:r})}),(0,N.jsxs)(br,{header:m,className:"dc-contract-card__current-stake",children:[(0,N.jsx)("div",{className:o()({"dc-contract-card--profit":f,"dc-contract-card--loss":v}),children:(0,N.jsx)(mr,{amount:b||s,currency:r})}),!c&&(0,N.jsx)($,{className:"dc-contract-card__indicative--movement",value:b||s})]}),(0,N.jsxs)(br,{header:y,is_crypto:(0,B.isCryptocurrency)(r),is_loss:v,is_won:f,children:[(0,N.jsx)(mr,{amount:_,currency:r}),!c&&(0,N.jsx)($,{className:"dc-contract-card__indicative--movement",value:_})]}),(0,N.jsxs)("div",{className:"dc-contract-card__take-profit",children:[(0,N.jsx)(br,{header:p,children:C?(0,N.jsx)(mr,{amount:C,currency:r}):(0,N.jsx)("strong",{children:"-"})}),h&&(0,N.jsx)(qr,no({contract_id:t.contract_id,getCardLabels:a,is_risk_management_edition_disabled:!0,should_show_warning:!0,toggleCancellationWarning:g,is_accumulator:!0},d))]})]}),!!c&&(0,N.jsx)(dr,{children:(0,N.jsx)("div",{className:o()("dc-contract-card__status",{"dc-contract-card__status--accumulator-mobile-positions":l}),children:(0,N.jsx)(Ar,{getCardLabels:a,is_contract_won:f})})})]})},io=i.memo(oo);var ao=n(597598),so=n.n(ao);const co=["contract_info","contract_update","currency","getCardLabels","has_progress_slider","progress_slider","is_mobile","is_sold","should_show_cancellation_warning","toggleCancellationWarning"];function lo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function go(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lo(Object(n),!0).forEach((function(t){uo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _o=e=>{let{contract_info:t,contract_update:n,currency:r,getCardLabels:a,has_progress_slider:s,progress_slider:c,is_mobile:l,is_sold:g,should_show_cancellation_warning:d,toggleCancellationWarning:u}=e,_=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,co);const{buy_price:I,bid_price:b,limit_order:C}=t,{take_profit:h,stop_loss:m}=(0,B.getLimitOrderAmount)(n||C),A=(0,B.getCancellationPrice)(t),p=(0,B.isValidToCancel)(t),y=(0,B.isValidToSell)(t),f=(0,B.getTotalProfit)(t),{CONTRACT_COST:v,CONTRACT_VALUE:F,DEAL_CANCEL_FEE:Q,STAKE:x,STOP_LOSS:G,TAKE_PROFIT:U,TOTAL_PROFIT_LOSS:W}=a();return(0,N.jsxs)(i.Fragment,{children:[(0,N.jsxs)("div",{className:o()({"dc-contract-card-items-wrapper--mobile":l,"dc-contract-card-items-wrapper":!l,"dc-contract-card-items-wrapper--has-progress-slider":s&&!g}),"data-testid":"dt_multiplier_card_body",children:[(0,N.jsx)(br,{header:v,className:"dc-contract-card__stake",children:(0,N.jsx)(mr,{amount:I-A,currency:r})}),(0,N.jsxs)(br,{header:F,className:"dc-contract-card__current-stake",children:[(0,N.jsx)("div",{className:o()({"dc-contract-card--profit":f>0,"dc-contract-card--loss":f<0}),children:(0,N.jsx)(mr,{amount:b,currency:r})}),!g&&(0,N.jsx)($,{className:"dc-contract-card__indicative--movement",value:f})]}),(0,N.jsx)(br,{header:Q,className:o()("dc-contract-card__deal-cancel-fee",{"dc-contract-card__deal-cancel-fee__disabled":!A}),children:A?(0,N.jsx)(mr,{amount:A,currency:r}):(0,N.jsx)(i.Fragment,{children:"-"})}),(0,N.jsx)(br,{header:x,className:"dc-contract-card__buy-price",children:(0,N.jsx)(mr,{amount:I,currency:r})}),s&&l&&!g&&(0,N.jsx)(br,{className:"dc-contract-card__date-expiry",children:c}),(0,N.jsxs)("div",{className:"dc-contract-card__limit-order-info",children:[(0,N.jsx)(br,{header:U,className:"dc-contract-card__take-profit",children:h?(0,N.jsx)(mr,{amount:h,currency:r}):(0,N.jsx)("strong",{children:"-"})}),(0,N.jsx)(br,{header:G,className:"dc-contract-card__stop-loss",children:m?(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)("strong",{children:"-"}),(0,N.jsx)(mr,{amount:m,currency:r})]}):(0,N.jsx)("strong",{children:"-"})}),(y||p)&&(0,N.jsx)(qr,go({contract_id:t.contract_id,getCardLabels:a,is_risk_management_edition_disabled:p,should_show_warning:d,toggleCancellationWarning:u},_))]})]}),(0,N.jsxs)(br,{className:"dc-contract-card-item__total-profit-loss",header:W,is_crypto:(0,B.isCryptocurrency)(r),is_loss:f<0,is_won:f>0,children:[(0,N.jsx)(mr,{amount:Math.abs(f),currency:r}),!g&&(0,N.jsx)($,{className:"dc-contract-card__indicative--movement",value:f})]})]})};_o.propTypes={addToast:so().func,contract_info:so().object,contract_update:so().object,currency:so().string,current_focus:so().string,error_message_alignment:so().string,getCardLabels:so().func,getContractById:so().func,is_mobile:so().bool,is_sold:so().bool,onMouseLeave:so().func,progress_slider:so().node,removeToast:so().func,setCurrentFocus:so().func,should_show_cancellation_warning:so().bool,toggleCancellationWarning:so().func,totalProfit:so().number.isRequired,has_progress_slider:so().bool};const Io=i.memo(_o),bo=["contract_info","contract_update","currency","getCardLabels","is_sold","progress_slider_mobile_el"];function Co(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ho(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Co(Object(n),!0).forEach((function(t){mo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Co(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ao=e=>{let{contract_info:t,contract_update:n,currency:r,getCardLabels:a,is_sold:s,progress_slider_mobile_el:c}=e,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,bo);const{bid_price:g,buy_price:d,profit:u,barrier:_,entry_spot_display_value:I,limit_order:b={},sell_price:C}=t,{take_profit:h}=(0,B.getLimitOrderAmount)(n||b),m=(0,B.isValidToSell)(t),A=s?C:g,{BARRIER:p,CONTRACT_VALUE:y,ENTRY_SPOT:f,TAKE_PROFIT:v,TOTAL_PROFIT_LOSS:F,STAKE:Q}=a();return(0,N.jsxs)(i.Fragment,{children:[(0,N.jsxs)("div",{className:o()("dc-contract-card-items-wrapper dc-contract-card--turbos"),children:[(0,N.jsx)(br,{className:"dc-contract-card__buy-price",is_crypto:(0,B.isCryptocurrency)(r),header:Q,children:(0,N.jsx)(mr,{amount:d,currency:r})}),(0,N.jsxs)(br,{header:y,className:"dc-contract-card__contract-value",children:[(0,N.jsx)("div",{className:o()({"dc-contract-card--profit":Number(u)>0,"dc-contract-card--loss":Number(u)<0}),children:(0,N.jsx)(mr,{amount:A,currency:r})}),!s&&(0,N.jsx)($,{className:"dc-contract-card__indicative--movement",value:C||A})]}),(0,N.jsx)(br,{header:f,is_crypto:(0,B.isCryptocurrency)(r),className:"dc-contract-card__entry-spot",children:(0,B.addComma)(I)}),(0,N.jsx)("div",{className:"dc-contract-card__limit-order-info",children:(0,N.jsxs)(br,{header:v,className:"dc-contract-card__take-profit",children:[h?(0,N.jsx)(mr,{amount:h,currency:r}):(0,N.jsx)("strong",{children:"-"}),m&&(0,N.jsx)(qr,ho({contract_id:t.contract_id,getCardLabels:a,is_turbos:!0},l))]})}),(0,N.jsx)(br,{header:p,className:"dc-contract-card__barrier-level",children:(0,B.addComma)(_)}),(0,N.jsx)(dr,{children:(0,N.jsx)("div",{className:"dc-contract-card__status",children:s?(0,N.jsx)(Ar,{getCardLabels:a,is_contract_won:!!u&&u>0}):c})})]}),(0,N.jsxs)(br,{className:"dc-contract-card-item__total-profit-loss",header:F,is_crypto:(0,B.isCryptocurrency)(r),is_loss:Number(u)<0,is_won:Number(u)>0,children:[(0,N.jsx)(mr,{amount:u,currency:r}),!s&&(0,N.jsx)($,{className:"dc-contract-card__indicative--movement",value:u})]})]})},po=i.memo(Ao),yo=e=>{let{contract_info:t,currency:n,getCardLabels:r,is_sold:a,progress_slider:s}=e;const{buy_price:c,bid_price:l,entry_spot_display_value:g,barrier:d,sell_price:u,profit:_}=t,I=a?u:l,{CONTRACT_VALUE:b,ENTRY_SPOT:C,STAKE:h,STRIKE:m,TOTAL_PROFIT_LOSS:A}=r();return(0,N.jsxs)(i.Fragment,{children:[(0,N.jsxs)(gr,{children:[(0,N.jsxs)("div",{className:"dc-contract-card-items-wrapper",children:[(0,N.jsx)(br,{header:h,children:(0,N.jsx)(mr,{amount:c,currency:n})}),(0,N.jsxs)(br,{className:"dc-contract-card-item__contract-value",header:b,children:[(0,N.jsx)("div",{className:o()({"dc-contract-card--profit":Number(_)>0,"dc-contract-card--loss":Number(_)<0}),children:(0,N.jsx)(mr,{amount:I,currency:n})}),!a&&(0,N.jsx)($,{className:"dc-contract-card__indicative--movement",value:u||I})]}),(0,N.jsx)(br,{header:C,children:g&&(0,B.addComma)(g)}),(0,N.jsx)(br,{header:m,children:d&&(0,B.addComma)(d)})]}),(0,N.jsxs)(br,{className:"dc-contract-card-item__total-profit-loss",header:A,is_crypto:(0,B.isCryptocurrency)(n),is_loss:Number(_)<0,is_won:Number(_)>0,children:[(0,N.jsx)(mr,{amount:_,currency:n}),!a&&(0,N.jsx)($,{className:"dc-contract-card__indicative--movement",value:_})]})]}),(0,N.jsx)(dr,{children:(0,N.jsxs)("div",{className:"dc-contract-card-items-wrapper--mobile",children:[(0,N.jsxs)("div",{className:"dc-contract-card-items-wrapper-group",children:[(0,N.jsx)(br,{header:h,children:(0,N.jsx)(mr,{amount:c,currency:n})}),(0,N.jsx)(br,{header:C,children:g&&(0,B.addComma)(g)})]}),(0,N.jsxs)("div",{className:"dc-contract-card-items-wrapper-group",children:[(0,N.jsxs)(br,{header:b,children:[(0,N.jsx)("div",{className:o()({"dc-contract-card--profit":Number(_)>0,"dc-contract-card--loss":Number(_)<0}),children:(0,N.jsx)(mr,{amount:I,currency:n})}),!a&&(0,N.jsx)($,{className:"dc-contract-card__indicative--movement",value:u||I})]}),(0,N.jsx)(br,{header:m,children:d&&(0,B.addComma)(d)})]}),a?(0,N.jsx)(Ar,{getCardLabels:r,is_contract_won:"won"===(0,B.getDisplayStatus)(t)}):s,(0,N.jsxs)(br,{className:"dc-contract-card-item__total-profit-loss",header:A,is_crypto:(0,B.isCryptocurrency)(n),is_loss:Number(_)<0,is_won:Number(_)>0,children:[(0,N.jsx)(mr,{amount:_,currency:n}),!a&&(0,N.jsx)($,{className:"dc-contract-card__indicative--movement",value:_})]})]})})]})},fo=i.memo(yo),Bo=e=>{let{contract_info:t,currency:n,is_sold:r,indicative:o,progress_slider_mobile_el:a}=e;const{buy_price:s,contract_type:c,sell_price:l,profit:g,multiplier:d}=t,{INDICATIVE_PRICE:u,MULTIPLIER:_,PROFIT_LOSS:I,POTENTIAL_PROFIT_LOSS:b,PAYOUT:C,PURCHASE_PRICE:h}=(0,B.getCardLabels)();return(0,N.jsxs)(i.Fragment,{children:[(0,N.jsxs)("div",{className:"dc-contract-card-items-wrapper dc-contract-card--lookbacks",children:[(0,N.jsxs)(br,{header:r?I:b,is_crypto:(0,B.isCryptocurrency)(n),is_loss:Number(g)<0,is_won:Number(g)>0,children:[(0,N.jsx)(mr,{amount:g,currency:n}),!r&&(0,N.jsx)($,{className:"dc-contract-card__indicative--movement",value:g})]}),(0,N.jsxs)(br,{header:r?C:u,children:[(0,N.jsx)(mr,{currency:n,amount:Number(l||o)}),!r&&(0,N.jsx)($,{className:"dc-contract-card__indicative--movement",value:Number(l||o)})]}),(0,N.jsx)(br,{header:h,children:(0,N.jsx)(mr,{amount:s,currency:n})}),(0,N.jsx)(br,{header:_,children:`x${d}`}),(0,N.jsx)(dr,{children:(0,N.jsx)("div",{className:"dc-contract-card__status",children:r?(0,N.jsx)(Ar,{getCardLabels:B.getCardLabels,is_contract_won:"won"===(0,B.getDisplayStatus)(t)}):a})})]}),(0,N.jsx)(br,{className:"dc-contract-card-item__payout-limit",children:(0,N.jsx)(M,{align:"center",line_height:"l",size:"xxs",children:((e,t)=>{let n="";return e===B.CONTRACT_TYPES.LB_PUT?n=(0,N.jsx)(Ie.Localize,{i18n_default_text:"(High - Close)"}):e===B.CONTRACT_TYPES.LB_CALL?n=(0,N.jsx)(Ie.Localize,{i18n_default_text:"(Close - Low)"}):e===B.CONTRACT_TYPES.LB_HIGH_LOW&&(n=(0,N.jsx)(Ie.Localize,{i18n_default_text:"(High - Low)"})),(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)(Ie.Localize,{i18n_default_text:"Payout limit: {{multiplier}} x ",values:{multiplier:t}}),n]})})(c,d)})})]})},vo=i.memo(Bo);function Fo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fo(Object(n),!0).forEach((function(t){xo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Go=e=>{let{addToast:t,contract_info:n,contract_update:r,currency:a,current_focus:s,error_message_alignment:c,getCardLabels:l,getContractById:g,has_progress_slider:d,is_accumulator:u,is_mobile:_,is_multiplier:I,is_positions:b,is_sold:C,is_turbos:h,is_vanilla:m,is_lookbacks:A,onMouseLeave:p,removeToast:y,server_time:f,setCurrentFocus:v,should_show_cancellation_warning:F,toggleCancellationWarning:Q}=e;const x=(0,B.getIndicativePrice)(n),{buy_price:G,sell_price:U,payout:W,profit:O,tick_count:E,date_expiry:Z,purchase_time:X}=n,w=E?(0,B.getCurrentTick)(n):null,{CONTRACT_VALUE:R,POTENTIAL_PAYOUT:T,TOTAL_PROFIT_LOSS:V,STAKE:j}=l(),k=(0,N.jsx)(vr,{current_tick:w,expiry_time:Z,getCardLabels:l,is_loading:!1,server_time:f,start_time:X,ticks_count:E}),S={addToast:t,current_focus:s,error_message_alignment:c,getContractById:g,onMouseLeave:p,removeToast:y,setCurrentFocus:v,totalProfit:I&&!isNaN(Number(O))?(0,B.getTotalProfit)(n):Number(O)};let Y;return Y=I?(0,N.jsx)(Io,Qo({contract_info:n,contract_update:r,currency:a,getCardLabels:l,has_progress_slider:d,progress_slider:k,is_mobile:_,is_sold:C,should_show_cancellation_warning:F,toggleCancellationWarning:Q},S)):u?(0,N.jsx)(io,Qo({contract_info:n,contract_update:r,currency:a,getCardLabels:l,indicative:x,is_sold:C,is_positions:b,toggleCancellationWarning:Q},S)):h?(0,N.jsx)(po,Qo({contract_info:n,contract_update:r,currency:a,getCardLabels:l,is_sold:C,progress_slider_mobile_el:k},S)):m?(0,N.jsx)(fo,{contract_info:n,currency:a,getCardLabels:l,is_sold:C,progress_slider:k}):A?(0,N.jsx)(vo,{contract_info:n,currency:a,is_sold:C,indicative:x,progress_slider_mobile_el:k}):(0,N.jsxs)(i.Fragment,{children:[(0,N.jsxs)("div",{className:"dc-contract-card-items-wrapper",children:[(0,N.jsxs)(br,{header:V,is_crypto:(0,B.isCryptocurrency)(a),is_loss:Number(O)<0,is_won:Number(O)>0,children:[(0,N.jsx)(mr,{amount:O,currency:a}),!C&&(0,N.jsx)($,{className:"dc-contract-card__indicative--movement",value:O})]}),(0,N.jsxs)(br,{header:R,children:[(0,N.jsx)("div",{className:o()({"dc-contract-card--profit":Number(O)>0,"dc-contract-card--loss":Number(O)<0}),children:(0,N.jsx)(mr,{currency:a,amount:Number(U||x)})}),!C&&(0,N.jsx)($,{className:"dc-contract-card__indicative--movement",value:Number(U||x)})]}),(0,N.jsx)(br,{header:j,children:(0,N.jsx)(mr,{amount:G,currency:a})}),(0,N.jsx)(br,{header:T,children:(0,N.jsx)(mr,{currency:a,amount:W})})]}),(0,N.jsx)(dr,{children:(0,N.jsx)("div",{className:"dc-contract-card__status",children:C?(0,N.jsx)(Ar,{getCardLabels:l,is_contract_won:"won"===(0,B.getDisplayStatus)(n)}):k})})]}),(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)(Cr,{currency:a}),(0,N.jsx)(gr,{children:Y}),(0,N.jsx)(dr,{children:(0,N.jsx)("div",{className:o()("dc-contract-card__separatorclass",{"dc-contract-card__body-wrapper":!I&&!h&&!A}),children:Y})})]})},Uo=e=>{var t;let{contract_info:n,getCardLabels:r,is_sell_requested:a,onClickSell:s}=e;const c=(0,B.isValidToSell)(n);return((0,B.hasContractEntered)(n)||(0,B.isForwardStarting)(null!==(t=null==n?void 0:n.shortcode)&&void 0!==t?t:"",null==n?void 0:n.purchase_time))&&(0,B.isOpen)(n)?(0,N.jsx)(i.Fragment,{children:c?(0,N.jsx)(qe,{className:o()("dc-btn--sell",{"dc-btn--loading":a}),"data-testid":"dt_contract_card_sell",is_disabled:a,text:r().SELL,onClick:e=>{null==s||s(n.contract_id),e.stopPropagation(),e.preventDefault()},secondary:!0}):(0,N.jsx)("div",{className:"dc-contract-card__no-resale-msg",children:r().RESALE_NOT_OFFERED})}):null},Wo=e=>{let{className:t,contract_info:n,getCardLabels:r,is_sell_requested:a,onClickCancel:s,onClickSell:c,server_time:l}=e;const{contract_id:g,cancellation:{date_expiry:d}={},profit:u}=n,_=(0,B.isValidToCancel)(n);return(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)(qe,{id:`dc_contract_card_${g}_button`,className:o()(t,{"dc-btn--loading":a}),is_disabled:a||Number(u)<0&&_,text:r().CLOSE,onClick:e=>{c(g),e.stopPropagation(),e.preventDefault()},secondary:!0}),_&&(0,N.jsxs)(qe,{id:`dc_contract_card_${g}_cancel_button`,className:"dc-btn--cancel",is_disabled:Number(u)>=0,onClick:e=>{s(g),e.stopPropagation(),e.preventDefault()},secondary:!0,children:[r().CANCEL,d&&(0,N.jsx)(cr,{end_time:d,format:"mm:ss",getCardLabels:r,start_time:l})]})]})},No=e=>{let{contract_info:t,getCardLabels:n,is_multiplier:r,is_positions:a,is_sell_requested:s,is_lookbacks:c,onClickCancel:l,onClickSell:g,onFooterEntered:d,server_time:u,should_show_transition:_}=e;const{in_prop:I}=(0,B.useNewRowTransition)(!!_),b=(0,B.isValidToCancel)(t),C=(0,B.hasContractEntered)(t)&&(0,B.isOpen)(t),h=c&&(0,B.isValidToSell)(t)&&C;return C?(0,N.jsx)(oe.A,{in:I,timeout:_?250:0,classNames:_?{enter:"dc-contract-card__sell-button--enter",enterDone:"dc-contract-card__sell-button--enter-done",exit:"dc-contract-card__sell-button--exit"}:{},onEntered:d,unmountOnExit:!0,children:(0,N.jsx)("div",{className:"dc-contract-card-item__footer",children:r?(0,N.jsx)("div",{className:o()("dc-contract-card__sell-button",{"dc-contract-card__sell-button--has-cancel-btn":b,"dc-contract-card__sell-button--positions":a}),children:(0,N.jsx)(Wo,{className:"dc-btn--sell",contract_info:t,getCardLabels:n,is_sell_requested:s,onClickCancel:l,onClickSell:g,server_time:u})}):(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)("div",{className:o()("dc-contract-card__sell-button",{"dc-contract-card__sell-button--positions":a}),children:(0,N.jsx)(Uo,{contract_info:t,is_sell_requested:s,getCardLabels:n,onClickSell:g})}),h&&(0,N.jsx)(M,{as:"div",size:"xxxs",color:"less-prominent",line_height:"s",className:"lookbacks--note",children:(0,N.jsx)(Ie.Localize,{i18n_default_text:"<0>Note:</0> Contract will be sold at the prevailing market price when the request is received by our servers. This price may differ from the indicated price.",components:[(0,N.jsx)("strong",{},0)]})})]})})}):null},Oo=pr,Eo=e=>{let{children:t,contract_info:n,getCardLabels:r,getContractPath:o,is_multiplier:a,is_positions:s,onClickRemove:c,profit_loss:l,result:g,should_show_result_overlay:d}=e;const u=l>=0?"won":"lost",_=a?(0,B.getTotalProfit)(n):l;return(0,N.jsxs)(i.Fragment,{children:[d&&(0,N.jsx)(gr,{children:(0,N.jsx)(Oo,{contract_id:n.contract_id,currency:n.currency,getCardLabels:r,getContractPath:o,is_multiplier:a,is_visible:!!n.is_sold,onClickRemove:c,payout_info:_,result:g||u,is_positions:s})}),t]})};Eo.Header=Ir,Eo.Body=Go,Eo.Footer=No,Eo.Loader=er,Eo.ContractTypeCell=ar,Eo.MultiplierCloseActions=Wo,Eo.Sell=Uo;const Zo=Eo,Xo=["icon"],wo=["className","disabled","error","id","is_placeholder_visible","name","label","show_leading_icon","placeholder","is_clearable","onChangeInput","onClickClear","onClick","onBlur","readOnly","value","required"];function Ro(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function To(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ro(Object(n),!0).forEach((function(t){Vo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ro(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jo(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const ko=e=>{let{icon:t}=e,n=jo(e,Xo);return(0,N.jsx)(W,To({className:"dc-datepicker__icon",icon:t},n))},So=e=>{let{className:t,disabled:n,error:r,id:a,is_placeholder_visible:s,name:c,label:l,show_leading_icon:g,placeholder:d,is_clearable:u,onChangeInput:_,onClickClear:I,onClick:b,onBlur:C,readOnly:h,value:m,required:A}=e,p=jo(e,wo);const[y,f]=i.useState(!1),B=(0,N.jsx)(ko,To({className:o()({"dc-datepicker__icon":"function"==typeof b}),icon:"IcCalendar"},n?{color:"disabled"}:{onClick:b})),v=u&&y&&!n?(0,N.jsx)(ko,{icon:"IcCloseCircle",onClick:I,color:"secondary"}):B;return(0,N.jsx)(L,To({className:o()("dc-datepicker__input",t,{"dc-datepicker__input--has-leading-icon":g}),"data-lpignore":"true",disabled:n,error:r,id:a?`${a}_input`:void 0,autoComplete:"off",is_autocomplete_disabled:"true",is_hj_whitelisted:"true",label:l,name:c,onChange:_,onClick:b,placeholder:d,readOnly:h,leading_icon:g?B:void 0,trailing_icon:g?void 0:v,type:h?"text":"number",value:s||!m?"":m,onMouseEnter:()=>{u&&f(!0)},onMouseLeave:()=>{f(!1)},onBlur:C,required:A},p))},Yo=["alignment","is_datepicker_visible","parent_ref","portal_id","style","placement"];function Po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Do(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Po(Object(n),!0).forEach((function(t){Jo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Jo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Lo=i.forwardRef(((e,t)=>{let{alignment:n,is_datepicker_visible:r,parent_ref:i,portal_id:s,style:c,placement:l}=e,g=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Yo);const d={enter:o()("dc-datepicker__picker--enter",{[`dc-datepicker__picker--${n}-enter`]:n}),enterDone:o()("dc-datepicker__picker--enter-done",{[`dc-datepicker__picker--${l||n}-enter-done`]:l||n}),exit:o()("dc-datepicker__picker--exit",{[`dc-datepicker__picker--${n}-exit`]:n})},u=(0,N.jsx)(oe.A,{in:r,timeout:100,classNames:d,unmountOnExit:!0,children:(0,N.jsx)("div",{className:o()("dc-datepicker__picker",{"dc-datepicker__picker--left":"left"===n}),style:s?{top:c.top,bottom:c.bottom,left:c.left}:{top:0},children:(0,N.jsx)(Pt,Do({ref:t},g))})});if(a(s&&r?i:void 0),s){const e=document.getElementById(s);if(e)return re.createPortal(u,e)}return u}));Lo.displayName="DatePickerCalendar";const Mo=Lo,zo=e=>{let{id:t,disabled:n,display_format:r,name:a,error:s,hint:c,label:l,max_date:g,min_date:d,placeholder:u,onBlur:_,onFocus:I,onSelect:b,value:C,data_testid:h}=e;const[m,A]=i.useState(!1),p=i.useRef(null);i.useEffect((()=>{p.current&&(p.current.value=C||"")}),[C]);return(0,N.jsxs)("div",{className:o()("dc-input",{"dc-input--disabled":n,"dc-input--error":s,"dc-input--hint dc-datepicker--hint":c}),children:[(0,N.jsxs)("div",{className:o()("dc-datepicker__container",{"dc-datepicker__container--error":s,"dc-datepicker__container--disabled":n}),children:[(0,N.jsx)("div",{className:"dc-datepicker__display",children:C&&(0,N.jsx)(M,{size:"xs",color:n?"disabled":"prominent",className:o()("dc-datepicker__display-text",{"dc-datepicker__display-text--disabled":n}),children:(0,B.toMoment)(C).format(r)})}),(0,N.jsx)("label",{className:o()("dc-datepicker__placeholder",{"dc-datepicker__placeholder--has-value":!!C,"dc-datepicker__placeholder--has-error":s,"dc-datepicker__placeholder--is-focused":m}),htmlFor:t,children:l||!C&&u}),(0,N.jsx)(W,{icon:"IcCalendar",className:"dc-datepicker__calendar-icon",color:n?"disabled":void 0}),(0,N.jsx)("input",{ref:p,id:t,name:a,className:"dc-datepicker__native",type:"date",max:g&&(0,B.toMoment)(g).format("YYYY-MM-DD"),min:d&&(0,B.toMoment)(d).format("YYYY-MM-DD"),required:!0,onBlur:e=>{A(!1),"function"==typeof _&&_(e)},onFocus:e=>{A(!0),"function"==typeof I&&I(e)},disabled:n,"data-testid":h,onChange:e=>{let t=e.target.value;const n=(0,B.toMoment)(t);if(d){const e=(0,B.toMoment)(d);t=e.diff(n,"days")>0?e.format("YYYY-MM-DD"):t}if(g){const e=(0,B.toMoment)(g);t=e.diff(n,"days")<0?e.format("YYYY-MM-DD"):t}p.current&&(p.current.value=t),b(t)}})]}),s&&(0,N.jsx)(M,{size:"xxs",styles:{color:"var(--brand-red-coral)"},className:"dc-datepicker__error",children:s}),!s&&c&&(0,N.jsx)("div",{className:"dc-datepicker__hint",children:(0,N.jsx)(M,{as:"p",color:"less-prominent",size:"xxs",children:c})})]})},Ho=["alignment","keep_open","date_format","disabled","display_format","error","footer","id","label","has_range_selection","has_today_btn","mode","max_date","min_date","start_date","name","onBlur","onChange","onFocus","onChangeCalendarMonth","portal_id","placeholder","required","type","value","data_testid"];function Ko(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ko(Object(n),!0).forEach((function(t){qo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ko(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qo(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ei=i.memo((e=>{const{alignment:t="bottom",keep_open:n=!1,date_format:r="YYYY-MM-DD",disabled:o,display_format:a="DD MMM YYYY",error:s,footer:c,id:l,label:g,has_range_selection:d,has_today_btn:u,mode:_="date",max_date:I,min_date:b,start_date:C,name:h="",onBlur:m,onChange:p,onFocus:y,onChangeCalendarMonth:f,portal_id:v,placeholder:F,required:Q,type:x,value:G,data_testid:U}=e,W=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ho),O=i.useRef(null),E=i.useRef(null),Z=i.useRef(null),[X,w]=i.useState(""),[R,T]=i.useState({}),[V,j]=i.useState(G?(0,B.toMoment)(G).format(a):""),[k,S]=i.useState((0,B.daysFromTodayTo)(G)),[Y,P]=i.useState(!1),[D,J]=i.useState(!!F&&!G),{isMobile:L,isTablet:M}=(0,yt.Y)();A(O,(()=>{Y&&P(!1)}),(e=>{var t;return!(null!==(t=Z.current)&&void 0!==t&&t.contains(e.target))})),i.useEffect((()=>{if(Y&&O.current&&Z.current&&v){const e=(0,B.getPosition)({preferred_alignment:"bottom",parent_el:O.current,child_el:Z.current,should_consider_parent_height:!1});T(e.style),w(e.placement)}}),[Y,v]),i.useEffect((()=>{J(!(!F||G))}),[G,F]),i.useEffect((()=>{G&&j((0,B.toMoment)(G).format(a))}),[G,a,j]),i.useEffect((()=>{k!==G&&S((0,B.daysFromTodayTo)(G))}),[G]);const z=e=>{const t=e?(0,B.toMoment)(e).format(a):"";j(t),"function"==typeof p&&p({target:{name:h,value:H(t,k)}})},H=(e,t)=>{const n=$(e)&&(0,B.toMoment)($(e));return"duration"===_?t:n},K=()=>"duration"===_?k||0:V,$=e=>e?(0,B.convertDateFormat)(e,a,r):L||M?null:(0,B.toMoment)(C||I).format(r),q=$o({date_format:r,display_format:a,error:s,footer:c,label:g,mode:_,max_date:I,min_date:b,onChange:p,portal_id:v,placeholder:F},W);return L||M?(0,N.jsx)(zo,$o({id:l,name:h,onBlur:m,onFocus:y,onSelect:z,value:$(V),disabled:o,data_testid:U},q)):(0,N.jsx)("div",{id:l,className:"dc-datepicker","data-value":K(),children:(0,N.jsxs)("div",{ref:O,children:[(0,N.jsx)(So,$o($o({},q),{},{disabled:o,name:h,onClick:()=>{P(!Y)},onChangeInput:e=>{const t=(0,B.addDays)((0,B.toMoment)(),isNaN(Number(e.target.value))?0:Number(e.target.value)).format(a),n="duration"===_?e.target.value:"";j(t),S(n),P(!0),J(!1),"function"==typeof p&&p({date:t,duration:n,target:{name:h,value:H(t,n)}})},is_placeholder_visible:D,onBlur:m,required:Q,type:x,value:K(),"data-testid":U})),(0,N.jsx)(Mo,$o({ref:E,calendar_el_ref:Z,parent_ref:O,keep_open:n,alignment:t,is_datepicker_visible:Y,onHover:d?e=>{"function"==typeof p&&p({date:(0,B.toMoment)(e).format(a),duration:"duration"===_?(0,B.daysFromTodayTo)(null==e?void 0:e.toString()):null})}:void 0,onSelect:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=(0,B.toMoment)(e).format(a),r="duration"===_?(0,B.daysFromTodayTo)(e):null;j(n),S(r),P(t),J(!1),"function"==typeof p&&p({date:n,duration:r,target:{name:h,value:H(n,r||"")}})},onChangeCalendarMonth:f,has_today_btn:u,placement:X,style:R,value:$(V)||"",start_date:"",has_range_selection:d},q))]})})}));ei.displayName="DatePicker";const ti=ei;function ni(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ri(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const oi=e=>(0,N.jsx)(ti,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ni(Object(n),!0).forEach((function(t){ri(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ni(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({calendar_view:"year",readOnly:!0,display_format:"DD-MM-YYYY",max_date:(0,B.toMoment)().subtract(18,"years"),min_date:(0,B.toMoment)().subtract(100,"years")},e));var ii=n(766712);const ai=e=>{var t,n;let{className:r,column:i,is_footer:a,passthrough:s,row:c}=e;if(!i)return null;const{col_index:l,title:g}=i,d=null==c?void 0:c[l],u=(0,B.isTurbosContract)(null==c||null===(t=c.contract_info)||void 0===t?void 0:t.contract_type),_=(0,B.isVanillaContract)(null==c||null===(n=c.contract_info)||void 0===n?void 0:n.contract_type);return(0,N.jsxs)("div",{className:o()(r,i.col_index),children:[!a&&(0,N.jsx)("div",{className:o()(`${i.col_index}__row-title`,"data-list__row-title"),children:i.renderHeader?i.renderHeader({title:g,is_vanilla:_}):g}),(0,N.jsx)("div",{className:"data-list__row-content",children:i.renderCellContent?i.renderCellContent({cell_value:d,is_footer:a,passthrough:s,row_obj:c,is_vanilla:_,is_turbos:u}):d})]})},si=i.memo(ai),ci=["action_desc","destination_link","row_gap","row_key","rowRenderer","measure","is_dynamic_height"];function li(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?li(Object(n),!0).forEach((function(t){di(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):li(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function di(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ui=e=>{let{action_desc:t,destination_link:n,row_gap:r,row_key:a,rowRenderer:s,measure:c,is_dynamic_height:g}=e,d=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ci);const[u,_]=i.useState(!1),I=(0,B.useIsMounted)(),b=l((()=>_(!1)),5e3),C=()=>{t&&(_(!u),b())},h=e=>{(0,B.clickAndKeyEventHandler)(C,e)};return i.useEffect((()=>{I()&&g&&(null==c||c())}),[u,g,c]),(0,N.jsx)("div",{className:"data-list__row--wrapper",style:{paddingBottom:`${r||0}px`},children:n?(0,N.jsx)(st.NavLink,{className:"data-list__item--wrapper",id:`dt_reports_contract_${a}`,to:{pathname:n,state:{from_table_row:!0}},children:(0,N.jsx)("div",{className:"data-list__item",children:s(gi({measure:c},d))})}):(0,N.jsx)("div",{className:o()("data-list__item--wrapper",{"data-list__item--dynamic-height-wrapper":g}),children:t?(0,N.jsx)("div",{className:"data-list__item",onClick:h,onKeyDown:h,children:u?(0,N.jsx)("div",{className:"data-list__desc--wrapper",children:t.component&&(0,N.jsx)("div",{children:t.component})}):s(gi({measure:c},d))}):(0,N.jsx)("div",{className:"data-list__item",children:s(gi({measure:c},d))})})})},_i=i.memo(ui),Ii=["children","className","data_source","footer","getRowSize","keyMapper","onRowsRendered","onScroll","setListRef","overscanRowCount"];function bi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ci(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bi(Object(n),!0).forEach((function(t){hi(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hi(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const mi=Ge.B8,Ai=Ge.t$,pi=Ge.dl,yi=i.memo((e=>{let{children:t,className:n,data_source:r,footer:a,getRowSize:s,keyMapper:c,onRowsRendered:l,onScroll:g,setListRef:d,overscanRowCount:u}=e,_=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ii);const[I,b]=i.useState(!0),[C,h]=i.useState(!1),[m,A]=i.useState(0),p=i.useRef(),y=i.useRef(null),f=i.useRef({}),v=i.useRef(null);v.current=r;const F=!s,Q=i.useCallback((()=>{r.forEach(((e,t)=>{const n=(null==c?void 0:c(e))||`${t}-0`;f.current[n]=!0}))}),[r,c]);i.useEffect((()=>{F&&(p.current=new Ge.jS({fixedWidth:!0,keyMapper:e=>null!=v&&v.current&&e<(null==v?void 0:v.current.length)&&(null==c?void 0:c(v.current[e]))||e})),Q(),b(!1)}),[]),i.useEffect((()=>{var e,t;F&&(null===(e=y.current)||void 0===e||null===(t=e.recomputeGridSize)||void 0===t||t.call(e,{columnIndex:0,rowIndex:0}));Q()}),[r,F,Q]);const x=e=>{let{style:t,index:n,key:o,parent:i}=e;const{getRowAction:a,passthrough:s,row_gap:l}=_;let g=r[n];const{action_type:d,shortcode:u,purchase_time:I,transaction_time:b,id:h}=g;if((0,B.isForwardStartingBuyTransaction)(d,u,I||b)){const e=!(null==r||!r.find((e=>"sell"===e.action_type&&e.id===h)));g=Ci(Ci({},g),{},{is_sold:e})}const m=a&&a(g),A="string"==typeof m?m:void 0,y="object"==typeof m?m:void 0,v=(null==c?void 0:c(g))||o,Q=function(){let{measure:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,N.jsx)(_i,{action_desc:y,destination_link:A,is_new_row:!f.current[v],is_scrolling:C,measure:e,passthrough:s,row_gap:l,row_key:v,row:g,rowRenderer:_.rowRenderer,is_dynamic_height:F})};return F&&p.current?(0,N.jsx)(pi,{cache:p.current,columnIndex:0,rowIndex:n,parent:i,children:e=>{let{measure:n}=e;return(0,N.jsx)("div",{style:t,children:Q({measure:n})})}},v):(0,N.jsx)("div",{style:t,children:Q()},v)},G=e=>{let t;clearTimeout(t),C||h(!0),t=setTimeout((()=>{I||h(!1)}),200),A(e.target.scrollTop),"function"==typeof g&&g(e)};return I?(0,N.jsx)("div",{}):(0,N.jsxs)("div",{"data-testid":"dt_data_list",className:o()(n,"data-list",{[`${n}__data-list`]:n}),children:[(0,N.jsxs)("div",{className:"data-list__body-wrapper",children:[(0,N.jsx)("div",{className:o()("data-list__body",{[`${n}__data-list-body`]:n}),children:(0,N.jsx)(Ai,{children:e=>{var t,o;let{width:i,height:a}=e;return(0,N.jsx)(ii.A,{style:{height:a,width:i},children:(0,N.jsx)(Jr,{onScroll:G,autohide:!0,is_bypassed:(0,B.isMobile)(),children:(0,N.jsx)(mi,Ci({className:n,deferredMeasurementCache:null==p?void 0:p.current,height:a,onRowsRendered:l,overscanRowCount:u||1,ref:e=>(e=>{y.current=e,null==d||d(e)})(e),rowCount:r.length,rowHeight:F&&null!=p&&null!==(t=p.current)&&void 0!==t&&t.rowHeight?null==p||null===(o=p.current)||void 0===o?void 0:o.rowHeight:s||0,rowRenderer:x,scrollingResetTimeInterval:0,width:i},(0,B.isDesktop)()?{scrollTop:m,autoHeight:!0}:{onScroll:e=>G({target:e})}))})})}})}),t]}),a&&(0,N.jsx)("div",{className:o()("data-list__footer",{[`${n}__data-list-footer`]:n}),children:(0,N.jsx)(i.Fragment,{children:_.rowRenderer({row:a,is_footer:!0})})})]})}));yi.displayName="DataList",yi.Cell=si;const fi=yi,Bi=fi,vi=e=>{let{col_index:t,children:n}=e;return(0,N.jsx)("div",{className:o()("table__cell",t),children:n})},Fi=e=>{let{replace:t,is_footer:n,cells:r,className:a,is_dynamic_height:s,measure:c}=e;const[g,d]=i.useState(!1),u=l((()=>d(!1)),5e3),_=()=>{t&&(d(!g),u())},I=e=>{(0,B.clickAndKeyEventHandler)(_,e)};return i.useEffect((()=>{s&&(null==c||c())}),[g,s,c]),s?(0,N.jsx)("div",{onClick:n||!t?void 0:I,onKeyDown:n||!t?void 0:I,className:o()(a,{"statement__row--detail":g}),children:g&&"object"==typeof t?(0,N.jsx)("div",{children:null==t?void 0:t.component}):r}):(0,N.jsx)("div",{onClick:n||!t?void 0:I,onKeyDown:n||!t?void 0:I,className:o()(a,{"statement__row--detail":g}),children:g&&"object"==typeof t?(0,N.jsx)(Jr,{height:"80px",children:(0,N.jsx)("div",{children:null==t?void 0:t.component})}):r})},Qi=e=>{let{className:t,columns:n,content_loader:r,getActionColumns:i,id:a,is_footer:s,is_header:c,passthrough:l,replace:g,row_obj:d={},show_preloader:u=!1,to:_,measure:I,is_dynamic_height:b}=e;const C=i&&i({row_obj:d,is_header:c,is_footer:s}),h=n.map((e=>{let{col_index:t,renderCellContent:n,title:r,key:o}=e,i=r;if(!c){const e=d[t]||"";i=n?n({cell_value:e,col_index:t,row_obj:d,is_footer:s,passthrough:l}):e}return(0,N.jsx)(vi,{col_index:t,children:i},o||t)})),m=o()("table__row",{"table__row-link":_||g},{[`${t}__row`]:t}),A=r;return s||c||!u?_?(0,N.jsxs)("div",{className:`${t}__row_wrapper`,children:[(0,N.jsx)(st.NavLink,{id:`dt_reports_contract_${a}`,className:m,to:{pathname:_,state:{from_table_row:!0}},children:h}),C]}):(0,N.jsxs)("div",{className:`${t}__row_wrapper`,children:[(0,N.jsx)(Fi,{className:m,cells:h,replace:g,is_footer:s,is_dynamic_height:b,measure:I}),C]}):(0,N.jsx)("div",{className:"table__row--preloader",children:r?(0,N.jsx)(A,{}):null})};function xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(n),!0).forEach((function(t){Ui(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ui(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Wi=Ge.B8,Ni=Ge.t$,Oi=Ge.dl,Ei=e=>{let{children:t,className:n,columns:r,content_loader:a,data_source:s,footer:c,getActionColumns:l,getRowAction:g,getRowSize:d,id:u,keyMapper:_,onScroll:I,passthrough:b,preloaderCheck:C}=e;const h=i.useRef(),m=i.useRef(),A=!d,[p,y]=i.useState(0),[f,v]=i.useState(!0);i.useEffect((()=>{A&&(h.current=new Ge.jS({fixedWidth:!0,keyMapper:e=>s&&e<s.length&&(null==_?void 0:_(s[e]))||e})),v(!1)}),[]),i.useEffect((()=>{var e;A&&(null==m||null===(e=m.current)||void 0===e||e.recomputeGridSize({columnIndex:0,rowIndex:0}))}),[s,A]);const F=e=>{y(e.target.scrollTop),"function"==typeof I&&I(e)},Q=e=>{var t,o;let{style:i,index:c,key:d,parent:I}=e,m=null==s?void 0:s[c];const{action_type:p,shortcode:y,purchase_time:f,transaction_time:v}=m||{};if(m&&(0,B.isForwardStartingBuyTransaction)(p,y,f||v)){const e=!(null==s||!s.find((e=>{var t;return"sell"===e.action_type&&e.id===(null===(t=m)||void 0===t?void 0:t.id)})));m=Gi(Gi({},m),{},{is_sold:e})}const F=(null===(t=m)||void 0===t?void 0:t.contract_id)||(null===(o=m)||void 0===o?void 0:o.id);let Q,x;m&&(Q=g&&g(m),x=(null==_?void 0:_(m))||d);const G=e=>{let{measure:t}=e;return(0,N.jsx)(Qi,{className:n,columns:r,content_loader:a,getActionColumns:l,id:F,measure:t,passthrough:b,replace:"object"==typeof Q?Q:void 0,row_obj:m,show_preloader:!("function"!=typeof C||!m)&&C(m),to:"string"==typeof Q?Q:void 0,is_dynamic_height:A,is_footer:!1,is_header:!1},u)};return A?(0,N.jsx)(Oi,{cache:h.current,columnIndex:0,rowIndex:c,parent:I,children:e=>{let{measure:t}=e;return(0,N.jsx)("div",{style:i,children:G({measure:t})})}},x):(0,N.jsx)("div",{style:i,children:G({})},x)};return f?(0,N.jsx)("div",{}):(0,N.jsxs)("div",{"data-testid":"dt_data_table",className:o()("table",{[`${n}`]:n,[`${n}__table`]:n,[`${n}__content`]:n}),children:[(0,N.jsx)("div",{className:"table__head",children:(0,N.jsx)(Qi,{className:n,columns:r,content_loader:a,getActionColumns:l,is_header:!0,is_footer:!1,is_dynamic_height:!1})}),(0,N.jsx)("div",{className:"table__body",children:(0,N.jsx)(Ni,{children:e=>{var r,o;let{width:i,height:a}=e;return(0,N.jsxs)("div",{className:"dc-data-table",style:{height:a,width:i},children:[(0,N.jsx)(Jr,{autohide:!0,onScroll:F,children:(0,N.jsx)(Wi,{autoHeight:!0,className:n,deferredMeasurementCache:h.current,height:a,overscanRowCount:1,ref:e=>m.current=e,rowCount:(null==s?void 0:s.length)||0,rowHeight:A&&null!=h&&null!==(r=h.current)&&void 0!==r&&r.rowHeight?null==h||null===(o=h.current)||void 0===o?void 0:o.rowHeight:d||0,rowRenderer:Q,scrollingResetTimeInterval:0,scrollTop:p,width:i})}),t]})}})}),c&&(0,N.jsx)("div",{className:"table__foot",children:(0,N.jsx)(Qi,{className:n,columns:r,content_loader:a,getActionColumns:l,is_footer:!0,row_obj:c,is_dynamic_height:!1})})]})};Ei.TableRow=Qi,Ei.TableRowInfo=Fi,Ei.TableCell=vi;const Zi=Ei,Xi=["disableApp","dismissable","enableApp","is_closed_on_cancel","is_closed_on_confirm","is_visible","onCancel","onClose","onConfirm","onEscapeButtonCancel"];const wi=e=>{var t;let{disableApp:n,dismissable:r,enableApp:a,is_closed_on_cancel:s=!0,is_closed_on_confirm:c=!0,is_visible:l,onCancel:g,onClose:d,onConfirm:u,onEscapeButtonCancel:_}=e,I=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Xi);const{cancel_button_text:b,className:C,children:h,confirm_button_text:m,is_loading:p,is_mobile_full_width:y=!0,is_content_centered:f,portal_element_id:B,title:v,has_close_icon:F}=I,Q=i.useRef();i.useEffect((()=>{l&&n&&n()}),[l,n]),i.useEffect((()=>{const e=e=>{"Escape"===e.key&&(null==_||_())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[]);const x=()=>{s&&a&&a(),null==g||g()},G=()=>{c&&a&&a(),u()},W=()=>{d?d():g?x():G()};A(Q,W,(()=>!!r||!!(F&&l&&s)));const O=o()("dc-dialog__content",{"dc-dialog__content--centered":f}),E="string"==typeof h||i.isValidElement(h)&&"string"==typeof(null==h||null===(t=h.props)||void 0===t?void 0:t.i18n_default_text),Z=(0,N.jsx)(oe.A,{appear:!0,in:l&&!p,timeout:50,classNames:{appear:"dc-dialog__wrapper--enter",enter:"dc-dialog__wrapper--enter",enterDone:"dc-dialog__wrapper--enter-done",exit:"dc-dialog__wrapper--exit"},unmountOnExit:!0,children:(0,N.jsx)("div",{className:o()("dc-dialog__wrapper",C,{"dc-dialog__wrapper--has-portal":!!B}),children:(0,N.jsxs)("div",{className:o()("dc-dialog__dialog",{"dc-dialog__dialog--has-margin":!y}),role:"dialog",ref:Q,children:[(v||F)&&(0,N.jsxs)("div",{className:o()("dc-dialog__header-wrapper",{"dc-dialog__header-wrapper--end":!v}),children:[!!v&&(0,N.jsx)(M,{as:"h1",color:"prominent",weight:"bold",className:"dc-dialog__header--title",children:v}),F&&(0,N.jsx)("div",{onClick:W,className:"dc-dialog__header--close",children:(0,N.jsx)(U.default,{icon:"IcCross"})})]}),E?(0,N.jsx)(M,{as:"p",size:"xs",styles:{lineHeight:"1.43"},className:O,children:h}):(0,N.jsx)("div",{className:O,children:h}),(0,N.jsxs)("div",{className:"dc-dialog__footer",children:[!!g&&(0,N.jsx)($e,{className:"dc-dialog__button",has_effect:!0,text:b,onClick:x,secondary:!0,large:!0}),!!m&&(0,N.jsx)($e,{className:"dc-dialog__button",has_effect:!0,text:m,onClick:G,primary:!0,large:!0})]})]})})});if(B){const e=document.getElementById(B);if(e)return re.createPortal(Z,e)}return Z};var Ri=n(414646);const Ti=["anchor","children","className","contentClassName","footer","header","width","zIndex"];const Vi=e=>{let{className:t}=e;return(0,N.jsx)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",children:(0,N.jsx)("path",{fill:"var(--text-less-prominent)",fillRule:"nonzero",d:"M8.87 2.164l5 5.5a.5.5 0 0 1 0 .672l-5 5.5a.5.5 0 0 1-.74-.672L12.824 8 8.13 2.836a.5.5 0 0 1 .74-.672zm-5 0l5 5.5a.5.5 0 0 1 0 .672l-5 5.5a.5.5 0 0 1-.74-.672L7.824 8 3.13 2.836a.5.5 0 1 1 .74-.672z"})})},ji=e=>{let{anchor:t="left",children:n,className:r,contentClassName:a,footer:s,header:c,width:l=250,zIndex:g=4}=e,d=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ti);const[u,_]=i.useState(d.is_open),{ui:I}=(0,Ri.A)(),{is_desktop:b}=I;i.useEffect((()=>{_(d.is_open)}),[d.is_open]);return(0,N.jsxs)("div",{"data-testid":"drawer",className:o()("dc-drawer",r,{[`dc-drawer--${t}`]:b,"dc-drawer--open":u}),style:{zIndex:g,transform:u&&b?"left"===t?`translateX(calc(${l}px - 16px))`:`translateX(calc(-${l}px + 16px))`:void 0},children:[(0,N.jsx)("div",{className:o()("dc-drawer__toggle",{"dc-drawer__toggle--open":u}),onClick:()=>{_(!u),d.toggleDrawer&&d.toggleDrawer(!u)},children:b?(0,N.jsx)(Vi,{className:o()("dc-drawer__toggle-icon",{[`dc-drawer__toggle-icon--${t}`]:b})}):(0,N.jsx)(W,{icon:"IcChevronUp",className:"dc-drawer__toggle-icon"})}),(0,N.jsxs)("div",{className:o()("dc-drawer__container",{[`dc-drawer__container--${t}`]:b}),children:[c&&(0,N.jsx)("div",{className:"dc-drawer__header",children:c}),(0,N.jsx)("div",{className:o()("dc-drawer__content",a),children:n}),s&&(0,N.jsx)("div",{className:"dc-drawer__footer",children:s})]})]})},ki=(e,t)=>{const n=e=>(e.find((e=>e.value===t))||{}).text;let r="";return Array.isArray(e)?r=n(e)||"":Object.keys(e).some((t=>(r=n(e[t])||"",r))),r},Si=e=>e?e.attributes.tabIndex?e:Si(e.nextSibling):null,Yi=e=>e?e.attributes.tabIndex?e:Yi(e.previousSibling):null,Pi=["items"];function Di(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ji(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Li=e=>{let{onKeyPressed:t,value:n,item:r,handleSelect:a,nodes:s,has_symbol:c,is_align_text_left:l,className:g,setScrollHeight:d}=e;const u=i.useRef(null),_=r.text&&"string"==typeof r.text?`symbols--${r.text.toLowerCase()}`:null,I=n===r.value;return i.useEffect((()=>{const e=()=>{var e;null==s||s.delete(r.value),null==u||null===(e=u.current)||void 0===e||e.removeEventListener("keydown",t)};if(r.disabled)e();else{var n;const e=e=>t(e,r);null==u||null===(n=u.current)||void 0===n||n.addEventListener("keydown",e),null==s||s.set(r.value.toString(),u.current)}return()=>e()}),[r,s,t]),i.useEffect((()=>{d&&u.current&&I&&d(u.current.offsetTop-u.current.scrollHeight)}),[u,d,I]),(0,N.jsxs)("div",{className:o()("dc-list__item",{"dc-list__item--selected":I},{"dc-list__item--disabled":r.disabled}),"data-testid":"dti_list_item",onClick:r.disabled?void 0:a.bind(null,r),ref:u,tabIndex:r.disabled?void 0:0,id:r.value,children:[!!c&&r.has_tooltip&&(0,N.jsx)(Qt,{alignment:"left",message:(0,B.getCurrencyDisplayCode)(r.text),children:(0,N.jsx)(M,{size:"xs",line_height:"s",align:"center",className:o()("dc-list__item-symbol",_)})}),!!c&&!r.has_tooltip&&(0,N.jsx)(M,{size:"xs",line_height:"s",className:o()("dc-list__item-text",_)}),!c&&(0,N.jsx)(M,{size:"xs",line_height:"s",className:o()("dc-list__item-text",{"dc-list__item-text--left":l},g),children:r.text})]})},Mi=e=>{let{items:t}=e,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Pi);return(0,N.jsx)(N.Fragment,{children:t.map(((e,t)=>(0,N.jsx)(Li,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Di(Object(n),!0).forEach((function(t){Ji(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Di(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({item:e},n),t)))})},zi=e=>{let{className:t,has_symbol:n,list:r,is_align_text_left:a,placeholder:s,name:c,value:l}=e;const g=l&&n?`symbols--${l.toString().toLowerCase()}`:null;return(0,N.jsxs)(i.Fragment,{children:[n?(0,N.jsx)("span",{className:o()("symbols dc-dropdown__display-symbol",g,t)}):(0,N.jsx)(M,{size:"xs",color:"prominent",align:"center",className:o()("dc-dropdown__display-text",t),name:c,value:l,children:ki(r,l)}),s&&(0,N.jsx)("div",{className:o()("dc-dropdown__display-placeholder",{"dc-dropdown__display-placeholder--is-title":l,"dc-dropdown__display-placeholder--is-left-text":a}),children:(0,N.jsx)(M,{size:"xs",color:"grey",line_height:"unset",className:o()("dc-dropdown__display-placeholder-text",{"dc-dropdown__display-placeholder-text-limit-fit":!l&&s.length>45}),children:s})})]})},Hi=i.forwardRef(((e,t)=>{const{classNameItems:n,classNameLabel:r,handleSelect:a,has_symbol:s,initial_offset:c,initial_height_offset:l,is_align_text_left:g,is_alignment_left:d,is_alignment_top:u,is_large:_,is_list_visible:I,list:b,nodes:C,onKeyPressed:h,parent_ref:m,portal_id:A,suffix_icon:p,suffix_icon_size:y=16,should_scroll_to_selected:f,should_autohide:v,value:F}=e,[Q,x]=i.useState([c,0]),[G,U]=i.useState({}),[W,O]=i.useState(),E=!!A;i.useEffect((()=>{if(m.current&&A&&I){const e=(0,B.getPosition)({preferred_alignment:u?"top":"bottom",parent_el:m.current,child_el:t.current,should_consider_parent_height:!0});U(e.style)}}),[I,u,A,b.length,m,t]);const Z=(0,N.jsx)(oe.A,{in:I,timeout:100,classNames:{enter:"dc-dropdown__list--enter"+(d?" dc-dropdown__list--left--enter":""),enterDone:"dc-dropdown__list--enter-done"+(d?" dc-dropdown__list--left--enter-done":""),exit:"dc-dropdown__list--exit"+(d?" dc-dropdown__list--left--exit":"")},onEntered:()=>x([c||t.current.offsetWidth,l||t.current.offsetHeight]),unmountOnExit:!0,children:(0,N.jsx)("div",{style:G,className:o()("dc-dropdown__list",{"dc-dropdown__list--left":d&&!E,"dc-dropdown__list--top":u&&!E,"dc-dropdown__list--portal":E}),children:(0,N.jsx)("div",{className:o()("dc-list",{"dc-list--left":d,"dc-list--large":_,"dc-list--has-suffix-icon":p}),style:(()=>{if(!E)return d?{transform:`translate3d(calc(-${Q[0]}px - 12px), 0, 0px)`}:u?{transform:`translate3d(0, calc(-${Q[1]}px - 16px), 0px)`}:void 0})(),"aria-expanded":I,role:"list",ref:t,children:(0,N.jsx)(ce,{height:Q[1]&&Q[1]>200?Q[1]:"200px",scroll_height:W,should_scroll_to_selected:f,autohide:v,children:Array.isArray(b)?(0,N.jsx)(Mi,{onKeyPressed:h,className:n,handleSelect:a,has_symbol:s,items:b,is_align_text_left:g,value:F,nodes:C.current,setScrollHeight:O}):Object.keys(b).map(((e,t)=>(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)("div",{className:o()("dc-list__label",r),children:e}),(0,N.jsx)(Mi,{onKeyPressed:h,className:n,handleSelect:a,has_symbol:s,items:b[e],is_align_text_left:g,value:F,nodes:C.current}),t!==Object.keys(b).length-1&&(0,N.jsx)("span",{className:"dc-list__separator"})]},e)))})})})});return A?re.createPortal(Z,document.getElementById(A)):Z}));Hi.displayName="DropdownList";const Ki=e=>{let{className:t,classNameDisplay:n,classNameHint:r,classNameItems:s,classNameLabel:c,disabled:l,error:g,handleBlur:d,has_symbol:u,hint:_,initial_offset:I=0,initial_height_offset:b=0,is_align_text_left:C,is_alignment_left:h,is_alignment_top:m,is_large:p,is_nativepicker_visible:y,is_nativepicker:f,label:v,list_portal_id:F,list:Q,name:x,no_border:G,onChange:W,onClick:O,placeholder:E,suffix_icon:Z,should_animate_suffix_icon:X=!1,suffix_icon_size:w=16,should_open_on_hover:R=!1,should_scroll_to_selected:T,should_autohide:j,test_id:k,value:S,classNameIcon:Y}=e;const P=i.useRef(null),D=i.useRef(null),J=i.useRef(null),L=i.useRef(new Map),M=i.useRef(null),z=!!F,[H,K]=i.useState(!!y),$=i.useRef(!0);a(F&&H?P:void 0);A(J,(e=>{var t;z&&null!==(t=M.current)&&void 0!==t&&t.contains(e.target)||("function"==typeof d&&d({target:{name:x}}),K(!1))}),(()=>H));const q=()=>Q.length<2;i.useEffect((()=>{f&&!y&&H&&K(!1)}),[f,y,H]),i.useEffect((()=>{var e;$.current||H||!S||null==P||null===(e=P.current)||void 0===e||e.focus()}),[H]);const ee=e=>{e.value!==S&&(null==W||W({target:{name:x||"",value:e.value}})),te()},te=e=>{if(e&&["mouseover","mouseleave"].includes(e.type)){if(!R)return;"mouseover"===e.type?K(!0):K(!1)}else if("function"!=typeof O)if(f&&!H){var t;if("iOS"===(0,B.mobileOSDetect)())null==D||null===(t=D.current)||void 0===t||t.focus();K(!0)}else K(!H);else O()},ne=(e,t)=>{if(!q()&&(9!==e.keyCode||H)){switch(e.preventDefault(),e.stopPropagation(),e.keyCode){case 27:H&&te();break;case 9:case 13:case 32:if(!t)return;ee(t);break;case 38:case 40:H?re(e.keyCode):h||te();break;case 37:case 39:h&&te()}if(1===e.key.length&&Q.length){const t=e.key.toLowerCase(),n=Q.find((e=>e.value&&e.value[0].toLowerCase()===t));if(!n)return;const r=L.current.get(n.value);r&&r.focus()}}},re=e=>{const{activeElement:t}=document;if("dropdown-display"===(null==t?void 0:t.id)){const e=Array.from(L.current.values())[0];e&&e.focus instanceof Function&&e.focus()}else{const n=L.current.get(null==t?void 0:t.id);if(n){if(40===e){const e=Si(n.nextSibling);e&&e.focus()}if(38===e){const e=Yi(n.previousSibling);e&&e.focus()}}}};return i.useEffect((()=>{$.current&&($.current=!1)}),[]),(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)("input",{className:"dc-dropdown__inner",autoComplete:"off",name:x,readOnly:!0,type:"hidden","data-testid":k,value:S||0}),(0,N.jsxs)("div",{ref:J,className:o()("dc-dropdown-container",t,{"dc-dropdown--has-placeholder":E,"dc-dropdown--left":h,"dc-dropdown--show":H,"dc-dropdown--disabled":q()||l,"dc-dropdown--error":g,"dc-dropdown--has-suffix-icon":Z}),onMouseOver:te,onFocus:()=>null,onMouseLeave:te,children:[(0,N.jsxs)("div",{className:o()("dc-dropdown__container",{"dc-dropdown__container--suffix-icon":Z}),"data-testid":"dt_dropdown_container",children:[v&&(0,N.jsx)("span",{className:o()("dc-dropdown__label",{"dc-dropdown__label--clicked":H}),children:v}),(0,N.jsxs)("div",{className:o()("dc-dropdown__display",n,{"dc-dropdown__display--clicked":H,"dc-dropdown__display--has-symbol":u,"dc-dropdown__display--no-border":G,"dc-dropdown__display--is-left-text":C}),"data-testid":"dt_dropdown_display",tabIndex:q()?-1:0,onClick:te,onKeyDown:ne,id:"dropdown-display",ref:P,children:[!!Z&&(0,N.jsx)(U.default,{className:o()("suffix-icon",{"suffix-icon--flip":H&&X}),icon:Z,size:w}),(0,N.jsx)(zi,{className:o()({"dc-dropdown__display--has-suffix-icon-text":Z}),has_symbol:u,name:x,is_align_text_left:C,placeholder:E,value:null!=S?S:0,list:Q})]}),!(q()||Z)&&(0,N.jsx)(U.default,{icon:h?"IcChevronLeft":"IcChevronDown",className:o()("dc-dropdown__select-arrow",Y,{"dc-dropdown__select-arrow--left":h,"dc-dropdown__select-arrow--up":H,"dc-dropdown__select-arrow--error":g||_})}),g&&(0,N.jsx)(V,{as:"p",size:"xxs",color:"loss-danger",className:"dc-field--error",children:g}),(0,N.jsx)(Hi,{classNameItems:s,classNameLabel:c,handleSelect:ee,has_symbol:u,initial_offset:I,initial_height_offset:b,is_align_text_left:C,is_alignment_left:h,is_alignment_top:m,is_large:p,is_list_visible:H,list:Q,nodes:L,onKeyPressed:ne,parent_ref:P,portal_id:F,ref:M,suffix_icon:Z,suffix_icon_size:w,should_scroll_to_selected:T,should_autohide:j,value:S})]}),!g&&_&&(0,N.jsx)(V,{as:"p",color:"less-prominent",size:"xxs",className:o()("dc-dropdown__hint",r),children:_})]})]})},$i=Ki,qi=e=>{let{icon:t,title:n,description:r,action:o}=e;return(0,N.jsxs)("div",{className:"empty-state",children:[t&&(0,N.jsx)(W,{icon:t,size:128}),(0,N.jsxs)("div",{className:"empty-state__content",children:[n&&(0,N.jsx)(M,{weight:"bold",align:"center","data-testid":"dt_empty_state_title",size:(0,B.isMobile)()?"xs":"s",children:n}),r&&(0,N.jsx)(M,{align:"center","data-testid":"dt_empty_state_description",size:(0,B.isMobile)()?"xs":"s",children:r})]}),o&&(0,N.jsx)(qe,{large:!0,has_effect:!0,text:o.label,onClick:o.onClick,primary:o.primary||!0,tertiary:o.tertiary,is_disabled:o.disabled,className:"empty-state__action","data-testid":"dt_empty_state_action"})]})},ea=e=>{let{array:t,open_ids:n,setOpenIds:r}=e;return(0,N.jsx)(i.Fragment,{children:t.map(((e,t)=>{var i;return Array.isArray(null==e?void 0:e.value)?(0,N.jsxs)("div",{className:"dc-expansion-panel__content-array",children:[(0,N.jsxs)("div",{className:o()("dc-expansion-panel__content-array",{"dc-expansion-panel__content-active":n.includes(e.id)}),children:[(0,N.jsx)("span",{className:"dc-expansion-panel__content-array-item-index",children:`${t+1}: `}),"(",`${e.value.length}`,")",(0,N.jsx)(W,{className:"dc-expansion-panel__content-chevron-icon",icon:"IcChevronRight",onClick:()=>{return t=e.id,void(n.includes(t)?r(n.filter((e=>e!==t))):r([...n,t]));var t}})]}),n.includes(e.id)?(0,N.jsx)(ea,{array:e.value,open_ids:n,setOpenIds:r}):null]},t):(0,N.jsxs)("div",{className:"dc-expansion-panel__content-array",children:[(0,N.jsx)("span",{className:"dc-expansion-panel__content-array-item-index",children:`${t+1}: `}),null==e||null===(i=e.value)||void 0===i?void 0:i.toString()]},t)}))})},ta=ea,na=e=>{let{message:t,onResize:n}=e;const[r,a]=i.useState([]),[s,c]=i.useState(!1);i.useEffect((()=>{"function"==typeof n&&n()}),[s,n]);return(0,N.jsxs)(i.Fragment,{children:[(0,N.jsxs)("div",{className:o()("dc-expansion-panel__header-container",{"dc-expansion-panel__header-active":s}),children:[t.header,(0,N.jsx)(W,{icon:"IcChevronDown",className:"dc-expansion-panel__header-chevron-icon",onClick:()=>{c(!s)}})]}),s&&(Array.isArray(t.content)?(0,N.jsx)(ta,{array:t.content,open_ids:r,setOpenIds:a}):t.content)]})},ra=e=>{let{children:t,className:n,has_separator:r,is_bypassed:a}=e;return a?(0,N.jsx)(i.Fragment,{children:t}):(0,N.jsx)("div",{"data-testid":"dt_modal_footer",className:o()("dc-modal-footer",{"dc-modal-footer--separator":r},n),children:t})},oa=e=>{let{children:t,className:n,close_icon_color:r,elements_to_ignore:a,has_close_icon:s=!0,has_return_icon:c=!1,header:l,header_background_color:g,height:d,id:u,is_confirmation_modal:_,is_open:I,is_risk_warning_visible:b,is_title_centered:C,is_vertical_bottom:h,is_vertical_centered:m,is_vertical_top:p,onMount:y,onReturn:f,onUnmount:B,portalId:v,renderTitle:F,should_close_on_click_outside:Q,should_header_stick_body:x=!0,small:G,title:W,toggleModal:O,width:E}=e;const Z=i.useRef(document.createElement("div")),X=v&&document.getElementById(v),w=i.useRef(X||document.getElementById("modal_root")),R=i.useRef(null),T=[".dc-datepicker__picker",".dc-mobile-dialog",".dc-dropdown-list",".dc-dropdown__list"];A(R,(()=>{I&&(null==O||O())}),(e=>{var t,n,r;const o=null===(t=document.getElementById("popup_root"))||void 0===t?void 0:t.hasChildNodes(),i=null!==(n=e.path)&&void 0!==n?n:null===(r=e.composedPath)||void 0===r?void 0:r.call(e);return Q||s&&!(null===(c=w.current)||void 0===c?void 0:c.querySelectorAll(T.join(", ")).length)&&I&&!o&&!(a&&null!=i&&i.find((e=>a.includes(e))));var c})),i.useEffect((()=>{var e,t;const n=Z,r=w;return n.current.classList.add("dc-modal"),null==r||null===(e=r.current)||void 0===e||null===(t=e.appendChild)||void 0===t||t.call(e,n.current),null==y||y(),()=>{var e,t;null==r||null===(e=r.current)||void 0===e||null===(t=e.removeChild)||void 0===t||t.call(e,n.current),null==B||B()}}),[]);const j=i.useCallback((e=>{"Escape"===e.key&&(null==O||O())}),[O]);i.useEffect((()=>(window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j))),[j]);const k=F?F():null;return re.createPortal((0,N.jsxs)("div",{ref:R,id:u,className:o()("dc-modal__container",{[`dc-modal__container_${n}`]:n,"dc-modal__container--risk-message":b,"dc-modal__container--small":G,"dc-modal__container--is-vertical-centered":m,"dc-modal__container--is-vertical-bottom":h,"dc-modal__container--is-vertical-top":p,"dc-modal__container--is-confirmation-modal":_}),style:{height:d||"auto",width:E||"auto"},children:[!b&&(l||W||k)&&(0,N.jsxs)("div",{className:o()("dc-modal-header",{"dc-modal-header__border-bottom":!x,[`dc-modal-header--${n}`]:n,"dc-modal-header--is-title-centered":C}),style:{background:g},children:[k&&(0,N.jsx)(V,{as:"h3",color:"prominent",weight:"bold",styles:{lineHeight:"2.4rem"},className:o()("dc-modal-header__title",{[`dc-modal-header__title--${n}`]:n}),children:k}),W&&(0,N.jsxs)(V,{as:"h3",color:"prominent",weight:"bold",styles:{lineHeight:"2.4rem"},className:o()("dc-modal-header__title",{[`dc-modal-header__title--${n}`]:n}),children:[c&&(0,N.jsx)(U.default,{icon:"IcArrowLeftBold",onClick:f,className:"dc-modal-header__icon"}),W]}),l&&(0,N.jsx)("div",{className:o()("dc-modal-header__section",{[`dc-modal-header__section--${n}`]:n}),children:l}),s&&(0,N.jsx)("div",{onClick:O,className:"dc-modal-header__close",role:"button",children:(0,N.jsx)(U.default,{icon:"IcCross",color:r,data_testid:"dt_modal_close_icon"})})]}),t]}),Z.current)},ia=e=>{let{children:t,className:n,close_icon_color:r,elements_to_ignore:o,exit_classname:i,has_close_icon:a=!0,has_return_icon:s=!1,header:c,header_background_color:l,height:g,id:d,is_confirmation_modal:u,is_open:_,is_risk_warning_visible:I,is_title_centered:b,is_vertical_bottom:C,is_vertical_centered:h,is_vertical_top:m,onEntered:A,onExited:p,onMount:y,onReturn:f,onUnmount:B,portalId:v,renderTitle:F,should_close_on_click_outside:Q=!1,should_header_stick_body:x=!0,small:G,title:U,transition_timeout:W,toggleModal:O,width:E}=e;return(0,N.jsx)(oe.A,{appear:!0,in:_,timeout:W||250,classNames:{appear:"dc-modal__container--enter",enter:"dc-modal__container--enter",enterDone:"dc-modal__container--enter-done",exit:i||"dc-modal__container--exit"},unmountOnExit:!0,onEntered:A,onExited:p,children:(0,N.jsx)(oa,{className:n,close_icon_color:r,should_header_stick_body:x,has_return_icon:s,header:c,header_background_color:l,id:d,is_open:_,is_risk_warning_visible:I,is_confirmation_modal:u,is_vertical_bottom:C,is_vertical_centered:h,is_vertical_top:m,is_title_centered:b,title:U,toggleModal:O,has_close_icon:a,height:g,onMount:y,onReturn:f,onUnmount:B,portalId:v,renderTitle:F,should_close_on_click_outside:Q,small:G,width:E,elements_to_ignore:o,children:t})})};ia.Body=e=>{let{children:t,className:n}=e;return(0,N.jsx)("div",{className:o()("dc-modal-body",n),children:t})},ia.Footer=ra;const aa=ia,sa=e=>{let{error_message:t}=e;return(0,N.jsxs)("div",{className:"unhandled-error",children:[(0,N.jsx)(W,{icon:"IcAccountError",size:96}),(0,N.jsx)(M,{className:"da-icon-with-message__text",as:"p",line_height:"xxl",align:"center",weight:"bold",children:(0,N.jsx)(Ie.Localize,{i18n_default_text:"Sorry for the interruption"})}),(0,N.jsx)(M,{className:"da-icon-with-message__text__desc",as:"p",size:"xs",line_height:"xxs",align:"center",children:t}),(0,N.jsx)(qe,{onClick:()=>location.reload(),has_effect:!0,primary:!0,large:!0,children:(0,N.jsx)(Ie.Localize,{i18n_default_text:"Refresh"})})]})},ca=e=>{var t;let{messages:n}=e;const[r,o]=i.useState(!1),a=null==n||null===(t=n[0])||void 0===t?void 0:t.toString();i.useEffect((()=>{o(!0)}),[]);const s=()=>{o(!r)};return(0,N.jsxs)(aa,{has_close_icon:!0,width:"440px",height:"284px",is_open:r,toggleModal:s,children:[(0,N.jsx)(gr,{children:(0,N.jsx)(aa.Body,{children:(0,N.jsx)(sa,{error_message:a})})}),(0,N.jsx)(dr,{children:(0,N.jsx)(Lr,{portal_element_id:"modal_root",has_close_icon:!0,visible:r,onClose:s,children:(0,N.jsx)(aa.Body,{children:(0,N.jsx)(sa,{error_message:a})})})})]})};var la=n(859413);const ga={initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:250,delay:.3}},da={initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.25,delay:.3}},ua={initial:{opacity:0},animate:{opacity:1},transition:{duration:.3}},_a=e=>{let{children:t,className:n,is_visible:r,keyname:o,type:i}=e;return"top"===i?(0,N.jsx)(N.Fragment,{children:r&&(0,N.jsx)(la.P.div,{animate:ga.animate,initial:ga.initial,transition:ga.transition,className:n,children:t},o)}):"bottom"===i?(0,N.jsx)(N.Fragment,{children:r&&(0,N.jsx)(la.P.div,{animate:da.animate,initial:da.initial,transition:da.transition,className:n,children:t},o)}):(0,N.jsx)(N.Fragment,{children:r&&(0,N.jsx)(la.P.div,{animate:ua.animate,initial:ua.initial,transition:ua.transition,className:n,children:t},o)})};var Ia=n(117399);const ba=["className","noClick"];function Ca(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ca(Object(n),!0).forEach((function(t){ma(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ca(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ma(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Aa=e=>{let{is_visible:t,color:n,children:r,key:o,timeout:i,no_text:a}=e;return(0,N.jsx)(oe.A,{appear:!0,in:t,timeout:i,classNames:{appear:"dc-file-dropzone__message--enter",enter:"dc-file-dropzone__message--enter",enterActive:"dc-file-dropzone__message--enter-active",enterDone:"dc-file-dropzone__message--enter-done",exit:"dc-file-dropzone__message--exit",exitActive:"dc-file-dropzone__message--exit-active"},unmountOnExit:!0,children:a?(0,N.jsx)("div",{className:"dc-file-dropzone__message",children:r}):(0,N.jsx)(M,{align:"center",color:n||"general",size:"xxs",line_height:"m",weight:"normal",className:"dc-file-dropzone__message",children:r})},o)},pa=e=>{var t;return e.preview_single?(0,N.jsx)("div",{className:"dc-file-dropzone__message",children:e.preview_single}):(0,N.jsx)(M,{size:"xxs",weight:"bold",align:"center",className:"dc-file-dropzone__filename",styles:{maxWidth:`calc(${(null===(t=e.dropzone_ref.current)||void 0===t?void 0:t.offsetWidth)||365}px - 3.2rem)`},children:e.filename_limit?(0,B.truncateFileName)(e.value[0],e.filename_limit):e.value[0].name})},ya=e=>{let{className:t,noClick:n=!1}=e,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ba);const{validation_error_message:a,message:s}=r,c=i.useCallback((e=>{let{open:t}=e;return n&&"function"==typeof s?(0,N.jsx)(N.Fragment,{children:s(t)}):(0,N.jsx)(N.Fragment,{children:s})}),[s,n]),l=i.useCallback((e=>{let{open:t}=e;return"function"==typeof a?(0,N.jsx)(N.Fragment,{children:a(t)}):(0,N.jsx)(N.Fragment,{children:a})}),[a]),g=i.useRef(null);return(0,N.jsx)(Ia.A,{onDropAccepted:r.onDropAccepted,onDropRejected:r.onDropRejected,multiple:r.multiple||!1,accept:r.accept,maxSize:r.max_size,noClick:n,children:e=>{let{getRootProps:i,getInputProps:d,isDragAccept:u,isDragActive:_,isDragReject:I,open:b}=e;return(0,N.jsxs)("div",ha(ha({},i()),{},{className:o()("dc-file-dropzone",t,{"dc-file-dropzone--is-active":_,"dc-file-dropzone--has-file":_||r.value.length>0,"dc-file-dropzone--has-error":(I||!!a)&&!u,"dc-file-dropzone--is-noclick":n}),ref:g,children:[(0,N.jsx)("input",ha(ha({},d()),{},{"data-testid":"dt_file_upload_input"})),(0,N.jsxs)("div",{className:"dc-file-dropzone__content",children:[(0,N.jsx)(Aa,{is_visible:!_&&!!s&&r.value.length<1&&!a,timeout:150,no_text:n,children:(0,N.jsx)(c,{open:b})}),(0,N.jsx)(Aa,{is_visible:_&&!I,timeout:150,children:r.hover_message}),r.multiple&&r.value.length>0&&!a?r.value.map(((e,t)=>(0,N.jsx)(M,{size:"xxs",weight:"bold",align:"center",className:"dc-file-dropzone__filename",children:r.filename_limit?(0,B.truncateFileName)(e,r.filename_limit):e.name},t))):r.value[0]&&!_&&!a&&(0,N.jsx)(pa,ha({dropzone_ref:g},r)),(0,N.jsx)(Aa,{is_visible:I,timeout:150,color:"loss-danger",children:r.error_message}),(0,N.jsx)(Aa,{is_visible:!!a&&!_,timeout:150,color:"loss-danger",children:(0,N.jsx)(l,{open:b})})]})]}))}})},fa=["className","classNameDisplay","classNameHint","disabled","error","hide_selected_value","hint","label","list_items","placeholder","is_country_code_dropdown","should_hide_disabled_options","should_show_empty_option","suffix_icon","use_text","value","data_testid","hide_top_placeholder"];function Ba(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function va(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ba(Object(n),!0).forEach((function(t){Fa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ba(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fa(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Qa=(e,t)=>{const n=(Array.isArray(e)?e:[].concat(...Object.values(e))).find((e=>"string"!=typeof e.value?e.value===t:e.value.toLowerCase()===t.toLowerCase()));return n?n.text:""},xa=e=>{var t;let{list_items:n,should_hide_disabled_options:r,use_text:o}=e;const a=r?n.filter((e=>!e.disabled)):n;if(Array.isArray(n)&&!(null===(t=n[0])||void 0===t||!t.group)){const e=a.reduce(((e,t)=>{if(t.group){const n=t.group;e[n]=e[n]||[],e[n].push(t)}return e}),{}),t=Object.keys(e);return(0,N.jsx)(i.Fragment,{children:t.map((t=>(0,N.jsx)("optgroup",{label:t,children:e[t].map((e=>(0,N.jsx)("option",{value:o?e.text:e.value,children:e.nativepicker_text||e.text},e.id||e.value)))},t)))})}return(0,N.jsx)(i.Fragment,{children:a.map((e=>(0,N.jsx)("option",{value:o?e.text:e.value,children:e.nativepicker_text||e.text},e.id||e.value)))})},Ga=e=>{let{className:t,classNameDisplay:n,classNameHint:r,disabled:a,error:s,hide_selected_value:c,hint:l,label:g,list_items:d,placeholder:u,is_country_code_dropdown:_,should_hide_disabled_options:I=!0,should_show_empty_option:b=!0,suffix_icon:C,use_text:h,value:m,data_testid:A,hide_top_placeholder:p=!1}=e,y=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,fa);return(0,N.jsxs)("div",{className:o()(t,"dc-select-native",{"dc-select-native--disabled":a,"dc-select-native--error":s,"dc-select-native--hide-selected-value":c}),children:[(0,N.jsx)("div",{className:"dc-select-native__wrapper",children:(0,N.jsxs)("div",{className:o()("dc-input",{"dc-input--disabled":a,"dc-input--error":s}),children:[(0,N.jsxs)("div",{className:o()("dc-select-native__container",{"dc-select-native__container--error":s,"dc-select-native__container--disabled":a}),children:[(0,N.jsx)("div",{className:"dc-select-native__display",children:d&&m&&(0,N.jsx)("div",{className:o()("dc-select-native__display-text",n),"data-testid":"selected_value",children:!c&&(h?m:Qa(d,m))})}),(0,N.jsx)("div",{className:o()("dc-select-native__placeholder",{"dc-select-native__placeholder--has-value":m,"dc-select-native__placeholder--hide-top-placeholder":m&&p,"dc-select-native__placeholder--disabled":a}),children:g}),C?(0,N.jsx)(U.default,{className:"dc-select-native__suffix-icon",icon:C}):(0,N.jsx)(U.default,{icon:"IcChevronDown",className:"dc-select-native__arrow"}),(0,N.jsx)("select",va(va({className:"dc-select-native__picker",value:m,disabled:a,"data-testid":A},y),{},{id:"dt_components_select-native_select-tag",children:Array.isArray(d)?(0,N.jsxs)(i.Fragment,{children:[b&&(0,N.jsx)("option",{value:"",children:u}),(0,N.jsx)(xa,{list_items:d,should_hide_disabled_options:I,use_text:h&&!_})]}):Object.keys(d).map((e=>(I?d[e].filter((e=>!e.disabled)):d[e]).length>0?(0,N.jsx)("optgroup",{label:e,children:(0,N.jsx)(xa,{list_items:d[e],should_hide_disabled_options:I,use_text:h})},e):null))}))]}),s&&(0,N.jsx)(E,{message:s,type:"error"})]})}),!s&&l&&(0,N.jsx)(V,{as:"p",color:"less-prominent",size:"xxs",line_height:"l",className:o()("dc-select-native__hint",r),children:l})]})},Ua=e=>{var t;let{dropdown_className:n,dropdown_display_className:r,filter_list:o,handleFilterChange:a,initial_selected_filter:s,label:c,hide_top_placeholder:l}=e;const{isDesktop:g}=(0,yt.Y)(),[d,u]=i.useState(null!=s?s:null==o||null===(t=o[0])||void 0===t?void 0:t.value),_=e=>{u(e.target.value),"function"==typeof a&&a(e.target.value)};return g?(0,N.jsx)(Ki,{list:o,value:d,name:"dc-filter-dropdown",className:n,classNameDisplay:r,suffix_icon:"IcFilter",onChange:_}):(0,N.jsx)(Ga,{list_items:o,value:d,hide_selected_value:!0,suffix_icon:"IcFilter",should_show_empty_option:!1,onChange:_,label:c,hide_top_placeholder:l})},Wa=Ua,Na=e=>{let{steps:t=[],current_step:n,sub_section_index:r}=e;const{isDesktop:a}=(0,yt.Y)();i.useEffect((()=>{c()}));const s=i.useRef(null),c=()=>{var e;const o=(null===(e=t[n])||void 0===e?void 0:e.sub_step_count)||null,i=document.querySelector(".identifier")||{offsetLeft:0,clientWidth:1},a=100/t.length,c=o?Math.ceil(a/o):0;s.current&&(s.current.style.width=n*a+r*c+"%",s.current.style.transform=`translateX(${i.offsetLeft+i.clientWidth/2}px)`)};let l=!1;return(0,N.jsx)(i.Fragment,{children:a?(0,N.jsx)("div",{className:"dc-form-progress",children:(0,N.jsxs)("div",{className:"dc-form-progress__header",children:[(0,N.jsx)(M,{as:"h2",color:"prominent",weight:"bold",line_height:"unset",children:t[n].header.active_title}),(0,N.jsxs)("div",{className:"dc-form-progress__steps",children:[(0,N.jsx)("div",{className:"dc-form-progress__steps--before",style:{width:`calc(100% * ${t.length-1} / ${t.length})`}}),t.map(((e,t)=>(0,N.jsxs)(i.Fragment,{children:[l=t===n,(0,N.jsxs)("div",{className:"dc-form-progress__step",children:[(0,N.jsx)(M,{align:"center",size:"xs",weight:"bold",color:"colored-background",className:o()("identifier",{"identifier--active":t<=n}),children:t+1}),(0,N.jsx)(M,{as:"p",align:"center",size:"xxs",weight:l?"bold":"unset",color:l?"loss-danger":"prominent",children:e.header.title})]})]},e.header.title))),(0,N.jsx)("div",{ref:s,className:"dc-form-progress__steps--after"})]})]})}):(0,N.jsxs)("div",{children:[(0,N.jsx)("div",{ref:s,className:"dc-form-progress__steps--after"}),(0,N.jsx)("div",{className:"dc-form-progress--initial"})]})})},Oa=i.memo(Na),Ea=["cancel_label","className","has_cancel","form_error","cancel_icon","is_center","is_disabled","is_absolute","is_loading","label","onCancel"];function Za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Za(Object(n),!0).forEach((function(t){wa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Za(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wa(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ra=e=>{let{cancel_label:t,className:n,has_cancel:r=!1,form_error:i="",cancel_icon:a,is_center:s=!1,is_disabled:c=!1,is_absolute:l=!1,is_loading:g,label:d,onCancel:u}=e,_=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ea);return(0,N.jsxs)("div",{className:o()("dc-form-submit-button",n,{"dc-form-submit-button--absolute":l,"dc-form-submit-button--center":!!s,"dc-form-submit-button--relative":!l}),children:[!!i&&(0,N.jsx)(M,{as:"p",size:"xs",styles:{color:"var(--brand-red-coral)"},className:"dc-form-submit-button--error",children:i}),r&&(0,N.jsx)($e,{has_effect:!0,onClick:u,text:t,type:"button",secondary:!0,large:!0,icon:a}),(0,N.jsx)($e,Xa({has_effect:!0,is_disabled:c,type:"submit",text:d,is_loading:g,large:!0,primary:!0},_))]})},Ta=Ra,Va=e=>{let{className:t,message:n,text_color:r="prominent",weight:i="bold"}=e;return(0,N.jsxs)("div",{className:o()("dc-form-submit-error-message",t),children:[(0,N.jsx)(U.default,{icon:"IcAlertDanger",data_testid:"form_submit_error"}),(0,N.jsx)(M,{as:"p",size:"xxs",weight:i,color:r,children:n})]})},ja=["className","is_center","is_absolute","label","onCancel"];function ka(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ka(Object(n),!0).forEach((function(t){Ya(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ka(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ya(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Pa=e=>{let{className:t,is_center:n=!1,is_absolute:r=!1,label:i,onCancel:a}=e,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,ja);return(0,N.jsx)("div",{className:o()("dc-form-cancel-button",t,{"dc-form-cancel-button--absolute":r,"dc-form-cancel-button--center":n,"dc-form-cancel-button--relative":!r}),children:(0,N.jsx)($e,Sa({has_effect:!0,onClick:a,text:i,type:"button",tertiary:!0,large:!0},s))})},Da=Pa,Ja=e=>{let{children:t,color:n,primary:r,secondary:o,tertiary:i}=e;return(0,N.jsxs)("div",{className:"gradient-background",style:{backgroundColor:n},children:[(0,N.jsxs)("div",{className:"gradient-background__container",children:[(0,N.jsx)("div",{className:"gradient-background__primary",style:{background:r}}),(0,N.jsx)("div",{className:"gradient-background__secondary",style:{background:o}}),(0,N.jsx)("div",{className:"gradient-background__tertiary",style:{background:i}})]}),t&&(0,N.jsx)("div",{className:"gradient-background__children",children:t})]})},La=e=>{let{children:t,blur_radius:n=48,background_color:r,primary_color:o,secondary_color:i}=e;return(0,N.jsxs)("div",{className:"gradient-background-two-point",style:{backgroundColor:r},children:[(0,N.jsx)("div",{className:"gradient-background-two-point__primary",style:{filter:`blur(${n}px)`,background:o}}),(0,N.jsx)("div",{className:"gradient-background-two-point__secondary",style:{filter:`blur(${n}px)`,background:i}}),t&&(0,N.jsx)("div",{className:"gradient-background-two-point__children",children:t})]})},Ma=e=>{let{className:t,icon:n,is_info:r,is_warn:i,is_danger:a,is_inline:s,icon_height:c,icon_width:l,message:g,id:d}=e;return(0,N.jsxs)("div",{className:o()("dc-hint-box",{"dc-hint-box--info":r,"dc-hint-box--warn":i,"dc-hint-box--danger":a,"dc-hint-box--inline":s},t),id:d,children:[(0,N.jsx)(U.default,{className:o()("dc-hint-box__icon",{"dc-hint-box--inline-icon":s}),custom_color:r?"var(--status-info)":void 0,icon:n,height:c,width:l,size:c&&l?0:16}),(0,N.jsx)("div",{className:o()("dc-hint-box__message",{"dc-hint-box--inline-message":s}),children:g})]})};function za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ha(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?za(Object(n),!0).forEach((function(t){Ka(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):za(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ka(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $a=e=>{var t,n;let{is_left_swipe:r,is_left_swipe_disabled:o,is_right_swipe:a,is_right_swipe_disabled:s,left_hidden_component:c,left_hidden_component_width:l="7rem",right_hidden_component:g,right_hidden_component_width:d="7rem",visible_component:u}=e;const[_,I]=i.useState(!1),[b,C]=i.useState(!1),h=i.useRef(null),m=Ha(Ha({},_&&{transform:`translate(${l})`}),b&&{transform:`translate(-${d})`}),A=(0,nn.useSwipeable)({onSwipedLeft:()=>{if(!o){if(r&&b||a&&!_)return;r&&!b&&C(!0),a&&_&&I(!1)}},onSwipedRight:()=>{if(!s){if(r&&!b||a&&_)return;r&&b&&C(!1),a&&!_&&I(!0)}}});return(0,N.jsx)("div",Ha(Ha({},A),{},{children:(0,N.jsxs)("div",{className:"dc-horizontal-swipe",children:[h&&(0,N.jsx)("div",{className:"dc-horizontal-swipe--left",style:{height:null===(t=h.current)||void 0===t?void 0:t.clientHeight,width:`${l}`},children:c}),(0,N.jsx)("div",{className:"dc-horizontal-swipe--main",ref:h,style:m,children:u}),h&&(0,N.jsx)("div",{className:"dc-horizontal-swipe--right",style:{height:`${null===(n=h.current)||void 0===n?void 0:n.clientHeight}px`,width:`${d}`},children:g})]})}))},qa=Ge.wK,es=e=>{let{className:t,data_list_className:n,has_filler:r,has_more_items_to_load:o,items:i,keyMapperFn:a,loadMoreRowsFn:s,onScroll:c,rowRenderer:l,overscanRowCount:g,getRowSize:d}=e;const u=r?i.length-1:i.length,_=o?u+1:u;return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(qa,{className:t,isRowLoaded:e=>{let{index:t}=e;const n=r?i.slice(1):i;return t<n.length&&!!n[t]},loadMoreRows:s,rowCount:_,children:e=>{let{onRowsRendered:t,registerChild:r}=e;return(0,N.jsx)(fi,{className:n,data_source:i,getRowSize:d,keyMapper:a,onRowsRendered:t,onScroll:c,overscanRowCount:g,rowRenderer:l,setListRef:r})}})})},ts=es,ns={warning:"IcAlertWarning",information:"IcAlertInfo",announcement:"IcAlertAnnounce",error:"IcAlertDanger"},rs={xs:(0,B.isMobile)()?"xxxxs":"xxxs",sm:(0,B.isMobile)()?"xxxs":"xxs",md:(0,B.isMobile)()?"xxs":"xs",lg:(0,B.isMobile)()?"xs":"s"},os=e=>{let{type:t="warning",size:n="xs",title:r,message:o,children:i,className:a,id:s}=e;const c=ns[t],l="lg"!==n||(0,B.isMobile)()?16:24,g=rs[n];return(0,N.jsxs)("div",{className:`inline-message inline-message__${t} inline-message__${n} ${a}`,id:s,children:[(0,N.jsx)(U.default,{size:l,icon:c,className:`inline-message__icon__${n}`}),(0,N.jsxs)(M,{size:g,className:`inline-message__messages inline-message__messages__${n}`,children:[r&&(0,N.jsx)("strong",{children:r}),o&&(0,N.jsx)("span",{children:o}),i]})]})},is=["adjustment","default","success","warn","danger","info","transfer","default-invert","success-invert","warn-invert"],as=["regular","large"],ss=e=>{let{mode:t,children:n,size:r="regular",className:i}=e;const a=is.some((e=>e===t))?t:"default",s=as.some((e=>e===r))?r:"regular";return(0,N.jsx)("span",{className:o()("dc-label",i,{[`dc-label--general--${s}`]:s,[`dc-label--general--${a}`]:a}),children:n})},cs=e=>{let{progress:t,className:n}=e;return(0,N.jsx)("div",{className:o()("dc-linear-progress",n),children:(0,N.jsx)("div",{className:"dc-linear-progress__bar",style:{width:`${t}%`}})})},ls=i.forwardRef(((e,t)=>{let{timeout:n,action:r,render:o,className:a,should_store_in_session:s,session_id:c}=e;const l=Number(sessionStorage.getItem(`linear_progress_timeout_${c}`)),g=l?Number(l):n/1e3,[d,u]=i.useState(g),_=100-d/(n/1e3)*100,I=()=>_,b=()=>{u((e=>e-1))};if(i.useImperativeHandle(t,(()=>({removeTimeoutSession(){s&&sessionStorage.removeItem(`linear_progress_timeout_${c}`)}}))),i.useEffect((()=>{s&&sessionStorage.setItem(`linear_progress_timeout_${c}`,String(d))}),[d,s,c]),i.useEffect((()=>{const e=setInterval(b,1e3);return()=>{clearInterval(e)}}),[]),i.useEffect((()=>{I()>100&&r()})),l<=0)sessionStorage.removeItem(`linear_progress_timeout_${c}`);else{if(!(l>0))return null;sessionStorage.setItem(`linear_progress_timeout_${c}`,String(d))}return n?(0,N.jsxs)("div",{className:"dc-linear-progress-container",children:[(0,N.jsx)("div",{className:"dc-linear-progress__countdown",children:o(d>0?d:0)}),(0,N.jsx)(cs,{className:a,progress:I()})]}):null}));ls.displayName="LinearProgressContainer";const gs=ls,ds=Se,us=e=>{let{children:t,className:n}=e;return(0,N.jsx)("div",{className:o()("dc-mobile-drawer__body",n),children:t})},_s=e=>{let{children:t,className:n}=e;return(0,N.jsx)("div",{className:o()("dc-mobile-drawer__footer",n),children:t})},Is=e=>{let{className:t,children:n}=e;return(0,N.jsx)("div",{className:o()("dc-mobile-drawer__subheader",t),children:n})},bs=e=>{let{className:t,children:n,onClick:r}=e;return(0,N.jsx)("div",{className:o()("dc-mobile-drawer__item",t),onClick:r,children:n})},Cs=e=>{let{children:t,collapse:n,has_subheader:r,is_expanded:i,submenu_title:a}=e;return(0,N.jsx)(oe.A,{in:i,classNames:{enter:"dc-mobile-drawer__submenu-list--enter",enterDone:"dc-mobile-drawer__submenu-list--enter-done",exit:"dc-mobile-drawer__submenu-list--exit"},timeout:250,unmountOnExit:!0,children:(0,N.jsxs)("div",{className:o()("dc-mobile-drawer__submenu-list",{"dc-mobile-drawer__submenu-list--has-subheader":r}),children:[(0,N.jsxs)("div",{className:"dc-mobile-drawer__submenu-list-title",onClick:n,children:[(0,N.jsx)("div",{className:"dc-mobile-drawer__submenu-back",children:(0,N.jsx)(U.default,{className:"dc-mobile-drawer__submenu-back-icon",icon:"IcChevronLeft"})}),a&&(0,N.jsx)(V,{as:"h3",weight:"bold",color:"prominent",children:a})]}),t]})})},hs=e=>{let{children:t,has_subheader:n,onToggle:r,submenu_toggle_class:a,submenu_icon:s,submenu_title:c,submenu_suffix_icon:l,route_config_path:g,is_expanded:d=!1}=e;const[u,_]=i.useState(d),I=()=>{const e=!u;_(e),r&&r(e)};return(0,N.jsxs)(i.Fragment,{children:[(0,N.jsxs)("div",{className:o()("dc-mobile-drawer__submenu-toggle",a),onClick:I,children:[s&&(0,N.jsx)(U.default,{className:"dc-mobile-drawer__submenu-toggle-icon",icon:s}),c&&(0,N.jsx)(V,{as:"h3",size:"xs",weight:g&&window.location.pathname.startsWith(g)?"bold":"",children:c}),l&&(0,N.jsx)(U.default,{className:"dc-mobile-drawer__submenu-toggle-suffix-icon",icon:l})]}),(0,N.jsx)(Cs,{collapse:I,has_subheader:n,is_expanded:u,submenu_title:c,children:t})]})},ms=["submenu_toggle_class","section_title","section_icon","children"];const As=e=>{let{submenu_toggle_class:t,section_title:n,section_icon:r,children:i}=e;!function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}(e,ms);return(0,N.jsxs)("div",{className:o()("dc-mobile-drawer__submenu-section",t),children:[(0,N.jsxs)("div",{className:"dc-mobile-drawer__submenu-section-title",children:[r&&(0,N.jsx)(U.default,{className:"dc-mobile-drawer__submenu-section-title-icon",icon:r}),n&&(0,N.jsx)(V,{as:"h3",size:"xs",weight:"bold",className:"dc-mobile-drawer__submenu-section-title-text",children:n})]}),(0,N.jsx)("div",{className:"dc-mobile-drawer__submenu-section-content",children:i})]})},ps=i.memo(As),ys=e=>{let{className:t,id:n,height:r,width:i,alignment:a,is_open:s,transitionExit:c,title:l,toggle:g,children:d,livechat:u}=e;return s?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:"dc-mobile-drawer__overlay "+(c?"exit":""),onClick:e=>{e.stopPropagation(),g()}}),(0,N.jsx)("div",{className:"dc-mobile-drawer "+(c?"exit":""),children:(0,N.jsxs)("div",{id:n,className:o()("dc-mobile-drawer__container",{[`dc-mobile-drawer__container_${t}`]:t}),style:{height:r||"auto",width:i||"auto"},children:[(0,N.jsxs)("div",{className:o()("dc-mobile-drawer__header",{"dc-mobile-drawer__header--right":"right"===a,[`dc-mobile-drawer__header--${t}`]:t}),children:[(0,N.jsx)("div",{onClick:g,className:"dc-mobile-drawer__header-close",children:(0,N.jsx)(U.default,{icon:"IcCross"})}),(0,N.jsxs)("div",{className:"dc-mobile-drawer__header-wrapper",children:[l&&(0,N.jsx)(V,{as:"h3",color:"prominent",weight:"bold",className:o()("dc-mobile-drawer__header-title",{[`dc-mobile-drawer-header__title--${t}`]:t}),children:l}),u]})]}),d]})})]}):(0,N.jsx)(N.Fragment,{})};ys.Body=us,ys.Footer=_s,ys.Item=bs,ys.SubHeader=Is,ys.SubMenu=hs,ys.SubMenuSection=ps;const fs=ys,Bs=e=>{let{children:t,header:n,id:r,is_from_app:a=!1,is_open:s,onClickClose:c,portal_id:l,header_classname:g,has_return_icon:d,onReturn:u,is_from_tradershub_os:_=!1}=e;const I=i.useRef(null),b=()=>{var e;window.location.href=null!==(e=B.platforms.tradershub_os.url)&&void 0!==e?e:""},C=()=>(0,N.jsx)("div",{"data-testid":"dt_page_overlay_header_close",className:"dc-page-overlay__header-close",onClick:_?b:c||window.history.back,children:(0,N.jsx)(U.default,{icon:"IcCross"})}),h=(0,N.jsxs)("div",{ref:I,id:r,className:o()("dc-page-overlay",{"dc-page-overlay-portal":!!l}),children:[n&&(0,N.jsx)("div",{className:o()("dc-page-overlay__header",{"dc-page-app__header":a,"dc-page-overlay__header-tradershub":_}),children:(0,N.jsxs)("div",{className:"dc-page-overlay__header-wrapper",children:[(0,N.jsxs)("div",{className:o()("dc-page-overlay__header-title",g),children:[d&&(0,N.jsx)(U.default,{icon:"IcArrowLeftBold",onClick:u,className:"dc-modal-header__icon"}),n]}),!a&&(0,N.jsx)(C,{})]})}),(0,N.jsx)("div",{className:"dc-page-overlay__content",children:t})]});return l?re.createPortal((0,N.jsx)(oe.A,{appear:!0,in:s,timeout:250,classNames:{appear:"dc-page-overlay--enter",enter:"dc-page-overlay--enter",enterDone:"dc-page-overlay--enter-done",exit:"dc-page-overlay--exit"},unmountOnExit:!0,children:h}),document.getElementById(l)):(0,N.jsx)(i.Fragment,{children:h})};function vs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vs(Object(n),!0).forEach((function(t){Qs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qs(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const xs=e=>{let{body_className:t,className:n,should_header_stick_body:r,header:a,header_background_color:s,height_offset:c="0px",is_flex:l,is_popup:g,is_modal_open:d,onClickClose:u,renderPageFooterChildren:_,page_footer_className:I,page_footer_parent:b,page_footer_parent_className:C,page_header_className:h,page_header_text:m,renderPageHeaderTrailingIcon:A,pageHeaderReturnFn:p,renderPageHeader:y,renderPageHeaderElement:f,children:B,container_children:v}=e;return(0,N.jsx)(_a,{is_visible:d,className:o()("dc-mobile-full-page-modal",n),keyname:`${n}__wrapper`,children:(0,N.jsx)(Bs,{header:a,onClickClose:u,children:(0,N.jsxs)(Dr,{className:o()("dc-mobile-full-page-modal",{"dc-mobile-full-page-modal--flex":l,"dc-mobile-full-page-modal--popup":g}),height_offset:c,children:[(y||m||f)&&(0,N.jsxs)("div",{className:o()("dc-mobile-full-page-modal__header",Fs({"dc-mobile-full-page-modal__header--border-bottom":!r},h?{[h]:!!h}:{})),style:{background:s},children:[p&&(0,N.jsx)("div",{className:"dc-mobile-full-page-modal__header-return",children:(0,N.jsx)(U.default,{icon:"IcArrowLeftBold",onClick:p,data_testid:"dt_mobile_full_page_return_icon"})}),y&&y(),(0,N.jsx)("div",{className:"dc-mobile-full-page-modal__header-text",children:null!=f?f:(0,N.jsx)(V,{as:"p",color:"prominent",line_height:"m",size:"s",weight:"bold",children:m})}),A&&(0,N.jsx)("div",{className:"dc-mobile-full-page-modal__header-trailing-icon",children:A()})]}),(0,N.jsx)("div",{className:o()("dc-mobile-full-page-modal__body",t),children:B}),_&&(0,N.jsxs)(i.Fragment,{children:[b&&(0,N.jsx)("div",{className:o()("dc-mobile-full-page-modal__footer-parent",C),children:b}),(0,N.jsx)("div",{className:o()("dc-mobile-full-page-modal__footer",I),children:_()})]}),v]})})})},Gs=i.forwardRef(((e,t)=>{let{className:n,lbl_previous:r,steps:a}=e;const[s,c]=i.useState(0),[l,g]=i.useState(a[0].component);i.useEffect((()=>{g(a[s].component)}),[s,a]),i.useImperativeHandle(t,(()=>({goNextStep:d,goPrevStep:u})));const d=()=>c(s+1),u=()=>c(s-1),_=(0,N.jsx)("div",{className:"multi-step__header",children:(0,N.jsxs)("a",{onClick:u,className:"multi-step__btn",children:[(0,N.jsx)(W,{icon:"IcArrowLeftBold",className:"multi-step__btn-icon"}),r]})});return(0,N.jsxs)("div",{className:o()("multi-step",n),children:[0!==s&&r&&_,(0,N.jsx)("div",{className:"multi-step__component",children:l})]})}));Gs.displayName="MultiStep";const Us=Gs,Ws=e=>{let{animation_duration:t,is_exceeding_parent:n,is_second_container:r,react_children:o}=e;return(0,N.jsx)("div",{className:"dc-news-ticker__children",style:n?{animationDuration:`${t}s`,animationDelay:r?`-${t}s`:`-${t/2}s`}:void 0,children:i.Children.map(o,((e,t)=>(0,N.jsx)("div",{className:"dc-news-ticker__item",children:e},`news-ticker-item-${t}`)))})};Ws.displayName="NewsTickerChildren";const Ns=Ws,Os=e=>{let{children:t,className:n,speed:r}=e;const[a,s]=i.useState(-1),[c,l]=i.useState(!1),g=a/r;return(0,N.jsxs)("div",{className:o()("dc-news-ticker",n),ref:e=>{e&&(l(e.scrollWidth>e.clientWidth),-1===a&&s(e.scrollWidth))},children:[(0,N.jsx)(Ns,{animation_duration:g,is_exceeding_parent:c,react_children:t}),c&&(0,N.jsx)(Ns,{animation_duration:g,is_exceeding_parent:c,is_second_container:!0,react_children:t})]})},Es=e=>{let{onSelect:t,className:n,number:r}=e;return(0,N.jsx)($e,{className:o()("dc-numpad__number",n,{"dc-numpad__number--zero":0===r,"dc-numpad__number--r3":r>6&&r<10,"dc-numpad__number--r2":r>3&&r<7,"dc-numpad__number--r1":r>0&&r<4}),type:"button",classNameSpan:"dc-numpad__number--is-left-aligned",has_effect:!0,onClick:()=>t(r),text:String(r),renderText:e=>(0,N.jsx)(M,{styles:{fontSize:"1.8rem"},weight:"bold",align:"center",children:e})})},Zs=e=>{let{onSelect:t}=e;return(0,N.jsx)(i.Fragment,{children:Array.from(new Array(10),((e,t)=>t)).map((e=>(0,N.jsx)(Es,{number:e,onSelect:t},e)))})},Xs=e=>{const t="string"==typeof e?e.split("."):e.toString().split(".");return t&&t.length>1?t[1].length:0},ws=e=>{let{className:t,max:n,min:r,value:a,onChange:s,render:c,pip_size:l=0,currency:g}=e;const d=(()=>{const e=!!g&&(0,B.isCryptocurrency)(g),t=Number.isFinite(+a)?Xs(a):0;return e||!g&&t?parseFloat(String(1*10**(0-t))):1})(),u=Number.isFinite(+n)&&+a+d>+n,_=Number.isFinite(+r)&&+a-d<+r;return(0,N.jsxs)("div",{className:"dc-numpad__input-area",children:[(0,N.jsx)($e,{text:"+",className:"dc-numpad__increment",onClick:()=>{if(u)return;const e=parseFloat(a.toString());let t;if(Number.isNaN(e))t=r;else{const n=Number.isFinite(+a)?Xs(a):0;if(!!g&&(0,B.isCryptocurrency)(g)||!g&&n){const e=parseFloat(a.toString())+parseFloat(String(1*10**(0-n)));t=parseFloat(e.toString()).toFixed(n)}else t=e+1}s(t,l)},is_disabled:u}),(0,N.jsx)(i.Fragment,{children:c&&c({value:a.toString(),className:o()("dc-numpad__input-field",t)})}),!c&&(0,N.jsx)(J,{className:"dc-numpad__input-field",name:"amount",value:a,readOnly:!0}),(0,N.jsx)($e,{text:"-",className:"dc-numpad__decrement",onClick:()=>{if(_)return;const e=parseFloat(a.toString());let t;if(Number.isNaN(e))t=r;else{const n=Number.isFinite(+a)?Xs(a):0;if(!!g&&(0,B.isCryptocurrency)(g)||!g&&n){const e=parseFloat(a.toString())-parseFloat(String(1*10**(0-n)));t=parseFloat(e.toString()).toFixed(n)}else t=e-1}s(t,l)},is_disabled:_})]})};function Rs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ts(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rs(Object(n),!0).forEach((function(t){Vs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Vs(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const js=(e,t)=>t.toString().concat(e.toString()),ks=e=>{let{className:t,currency:n,is_regular:r,is_currency:a,is_submit_disabled:s,label:c,reset_press_interval:l,reset_value:g,max:d=9999999,min:u=0,pip_size:_,onSubmit:I,render:b,submit_label:C="OK",value:h,format:m,onValueChange:A,onValidate:y}=e;const f=e=>"function"==typeof m?m(e.toString()):e,B=e=>new RegExp(/\./).test(String(e)),v=f(h),[F,Q]=i.useState(B(v)),[x,G]=i.useState(v),[U,W]=i.useState(!1);i.useEffect((()=>{v!==f(x)&&(O(h),Q(B(h)))}),[h]),i.useEffect((()=>{const e=!y(x)||"error"===y(x);W(e)}),[x,h]);const O=e=>{G(e),A&&A(e)},E=e=>{switch(e){case-1:Z();break;case".":if(F)break;Q(!0),0===x.toString().length?O(js(e,"0")):O(js(e,x));break;default:if("0"===String(x))O(js(e,""));else{const t=/(?:^\d{0,35}\.)(\d{0,35})$/.exec(String(x));null!==t&&F?t.forEach(((t,n)=>{1===n&&t.length<_&&F&&O(js(e,x))})):+js(e,x)<=d&&O(js(e,x))}}},Z=()=>{"."===x.toString().slice(-1)&&Q(!1),O(x.toString().slice(0,-1))},X=![!!r,!!a].includes(!0);i.useEffect((()=>{a&&void 0===_&&console.error("Warning: property pip_size is required when using currency type <Numpad pip_size='2' />")}));const w=!x.toString().length,R=p((()=>{F&&Q(!1),O(g||"")}),l),T=s||!x.toString().length||Boolean(u&&+f(x)<u);return(0,N.jsxs)("div",{className:o()("dc-numpad",t,{"dc-numpad--is-regular":r||X,"dc-numpad--is-currency":a&&!X}),children:[(0,N.jsx)(ws,{className:U?"dc-numpad__input-field--has-error":"",currency:n,pip_size:_,value:x,render:b,onChange:e=>{const t=Number(e).toFixed((e=>{const t="string"==typeof e?e.split("."):e.toString().split(".");return t&&t.length>1?t[1].length:0})(x));Q(B(t)),O(t)},min:u,max:d,label:c}),(0,N.jsx)(Zs,{onSelect:E,number:0}),a&&(0,N.jsx)($e,{type:"button",className:"dc-numpad__number",has_effect:!0,onClick:()=>E("."),text:".",renderText:e=>(0,N.jsx)(M,{styles:{fontSize:"1.8rem"},weight:"bold",align:"center",children:e})}),(0,N.jsx)("div",{className:"dc-numpad__bkspace",children:(0,N.jsx)($e,Ts(Ts({},R),{},{type:"button",has_effect:!0,className:"dc-numpad__number",onClick:()=>{E(-1)},is_disabled:w,text:"⌫",renderText:e=>(0,N.jsx)(M,{weight:"bold",align:"center",color:w?"disabled":"general",children:e})}))}),(0,N.jsx)("div",{className:"dc-numpad__ok",children:(0,N.jsx)($e,{type:"button",has_effect:!0,className:o()("dc-numpad__number",{"dc-numpad__number--is-disabled":s||!x.toString().length||u&&+f(x)<u}),onClick:()=>{x.toString().length&&(u&&+f(x)<u||I(f(x)))},is_disabled:T,text:C,renderText:e=>(0,N.jsx)(M,{styles:{fontSize:"1.8rem"},weight:"bold",align:"center",color:T?"disabled":"general",children:e})})})]})},Ss=ks;var Ys=n(712949);const Ps=e=>{let{children:t,text_size:n,className:r}=e;return(0,N.jsx)("button",{type:"button",className:(0,We.A)("open-livechat__link",r),onClick:Ys.Chat.open,children:(0,N.jsx)(M,{size:n||"xs",weight:"bold",color:"brand-red-coral",children:t||(0,N.jsx)(Ie.Localize,{i18n_default_text:"live chat"})})})},Ds=e=>{var t;let{buttonOnClick:n,buttonSize:r="large",classNameImage:i,header:a,image_url:s,messages:c,redirect_labels:l,redirect_urls:g,should_clear_error_on_click:d,setError:u,should_redirect:_=!0}=e;const I=()=>{d?null==u||u(!1,null):null==n||n()},b=(0,B.isMobile)();return(0,N.jsxs)("div",{className:"dc-page-error__container",children:[!!s&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(gr,{children:(0,N.jsx)("img",{className:i,src:s,alt:"404",loading:"lazy",width:"607px",height:"366px"})}),(0,N.jsx)(dr,{children:(0,N.jsx)("img",{className:i,src:s,alt:"404",loading:"lazy",width:"328px",height:"200px"})})]}),(0,N.jsxs)("div",{className:o()("dc-page-error__box",{"dc-page-error__box--left":!!s}),children:[(0,N.jsx)(V,{as:"h3",size:b?"s":"l",align:"center",weight:"bold",line_height:"s",color:"prominent",children:a}),(0,N.jsx)("div",{className:o()("dc-page-error__message-wrapper",{"dc-page-error__message-wrapper--left":!!s}),children:(0,N.jsx)(V,{color:"prominent",className:o()("dc-page-error__message",{"dc-page-error__message--left":!!s}),children:c.map(((e,t)=>null!=e&&e.has_html?(0,N.jsx)(V,{as:"p",size:b?"xxs":"s",align:b?"center":"left",line_height:"x",className:"dc-page-error__message-paragraph",dangerouslySetInnerHTML:{__html:null==e?void 0:e.message}},t):(0,N.jsx)(V,{as:"p",size:b?"xxs":"s",align:b?"center":"left",line_height:"x",className:"dc-page-error__message-paragraph",children:e},t)))})}),(0,N.jsxs)("div",{className:"dc-page-error__btn-wrapper","data-testid":"dc-page-error__btn-wrapper",children:[_&&0!==l.length&&(null==g||null===(t=g.map)||void 0===t?void 0:t.call(g,((e,t)=>(0,N.jsx)(ct,{className:"dc-page-error__btn",to:e,onClick:I,size:r,children:(0,N.jsx)(V,{weight:"bold",size:b?"xs":"s",className:"dc-page-error__btn-text dc-btn__text",children:l[t]})},t)))),!_&&(0,N.jsx)(qe,{type:"button",className:"dc-page-error__btn--no-redirect",onClick:I,primary:!0,large:!b,medium:b,children:(0,N.jsx)(V,{weight:"bold",size:b?"xs":"s",className:"dc-page-error__btn-text dc-btn__text",children:l[0]})})]})]})]})},Js=()=>(0,N.jsxs)("div",{className:"unhandled-error",children:[(0,N.jsx)(W,{icon:"IcAccountError",size:96}),(0,N.jsx)(M,{className:"da-icon-with-message__text",as:"p",size:"s",color:"general",line_height:"xxl",align:"center",weight:"bold",children:(0,B.getDefaultError)().header}),(0,N.jsx)(M,{className:"da-icon-with-message__text__desc",as:"p",size:"xs",color:"general",line_height:"xxs",align:"center",children:(0,B.getDefaultError)().description}),(0,N.jsx)(qe,{onClick:()=>location.reload(),has_effect:!0,primary:!0,large:!0,text:(0,B.getDefaultError)().cta_label})]}),Ls=()=>{const[e,t]=i.useState(!1);i.useEffect((()=>{t(!0)}),[]);const n=()=>{t(!e)};return(0,N.jsxs)(aa,{has_close_icon:!0,width:"440px",height:"284px",is_open:e,toggleModal:n,children:[(0,N.jsx)(gr,{children:(0,N.jsx)(aa.Body,{children:(0,N.jsx)(Js,{})})}),(0,N.jsx)(dr,{children:(0,N.jsx)(Lr,{portal_element_id:"modal_root",has_close_icon:!0,visible:e,onClose:n,children:(0,N.jsx)(aa.Body,{children:(0,N.jsx)(Js,{})})})})]})},Ms=["error_header","error_messages"];function zs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hs(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ks=e=>{let{error_header:t,error_messages:n}=e,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Ms);return t&&n?(0,N.jsx)(Ds,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zs(Object(n),!0).forEach((function(t){Hs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({header:t,messages:n},r)):n?(0,N.jsx)(ca,{messages:n}):(0,N.jsx)(Ls,{})},$s=Bs,qs=["className","autoComplete","input_id"];function ec(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(n),!0).forEach((function(t){nc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ec(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const rc=e=>{let{className:t,autoComplete:n,input_id:r}=e,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,qs);const[s,c]=i.useState(!1);return(0,N.jsx)("div",{className:"dc-password-input",children:(0,N.jsx)(L,tc(tc({},a),{},{autoComplete:n,type:s?"text":"password",input_id:r,className:o()("dc-password-input__field",t),trailing_icon:(0,N.jsx)(W,{icon:s?"IcPasswordEyeVisible":"IcPasswordEyeHide",className:"dc-password-input__visibility-icon",onClick:()=>{c(!s)},color:"secondary",width:18,data_testid:"dt_password_input_visibility_icon"})}))})},oc=e=>{let{children:t,has_error:r,input:a,custom_feedback_messages:s}=e;const c=i.useRef(),[l,g]=i.useState(!0),[d,u]=i.useState(0),[_,I]=i.useState({warning:()=>"",suggestions:""}),b=(0,B.useIsMounted)();if(i.useEffect((()=>{!async function(){const e=await n.e(1654).then(n.t.bind(n,371654,23));c.current=e.default,b()&&g(!1)}()}),[]),i.useEffect((()=>{if("function"==typeof c.current)if((null==a?void 0:a.length)>0){const{score:e,feedback:t}=c.current(a,{feedback_messages:s});u(e),I(t)}else u(0),I({warning:()=>"",suggestions:""})}),[s,r,a]),l)return(0,N.jsx)(ds,{is_fullscreen:!1});const C=r&&a.length?.25:.25*(a.length&&d<1?1:d);return(0,N.jsx)(i.Fragment,{children:(0,N.jsxs)("div",{className:"dc-password-meter__container",children:["function"==typeof t?t({has_warning:!(null==_||!_.warning)}):t,(0,N.jsx)("div",{className:"dc-password-meter__bg"}),(0,N.jsx)("div",{className:o()("dc-password-meter",{"dc-password-meter--weak":r||a.length&&d<3,"dc-password-meter--strong":!r&&a.length&&d>=3}),style:{transform:`scale(${C||0}, 1)`}}),(null==_?void 0:_.warning)&&!r&&(0,N.jsx)(Z,{className:"dc-password-meter__warning",message:`${s?_.warning():_.warning}`,type:"error"})]})})},ic=oc,ac=e=>{let{addToast:t,className:n,display_name:r,contract_info:a,contract_update:s,currency:c,current_focus:l,getContractById:g,is_sell_requested:d,is_link_disabled:u,profit_loss:_,onClickCancel:I,onClickSell:b,onClickRemove:C,onFooterEntered:h,onMouseEnter:m,onMouseLeave:A,removeToast:p,result:y,setCurrentFocus:f,server_time:v,should_show_transition:F,should_show_cancellation_warning:Q,toggleCancellationWarning:x}=e;const G=(0,B.isAccumulatorContract)(null==a?void 0:a.contract_type),U=(0,B.isMultiplierContract)((null==a?void 0:a.contract_type)||""),W=(0,B.isTurbosContract)(null==a?void 0:a.contract_type),O=(0,B.isVanillaContract)(null==a?void 0:a.contract_type),E=(0,B.isCryptoContract)((null==a?void 0:a.underlying)||""),Z=!U||E&&U,X=!!(0,B.getEndTime)(a),w=(0,B.isMobile)(),R=o()("dc-contract-card",{"dc-contract-card--green":Number(_)>0&&!y,"dc-contract-card--red":Number(_)<0&&!y}),T=(0,N.jsx)("div",{className:"dc-contract-card__content-loader",children:(0,N.jsx)(Zo.Loader,{speed:2})}),V=(0,N.jsx)(Zo.Header,{contract_info:a,display_name:null!=r?r:"",getCardLabels:B.getCardLabels,getContractTypeDisplay:B.getContractTypeDisplay,has_progress_slider:!w&&Z,is_mobile:w,is_sell_requested:!!d,onClickSell:b,server_time:v}),j=(0,N.jsx)(Zo.Body,{addToast:t,contract_info:a,contract_update:null!=s?s:{},currency:c,current_focus:l,getCardLabels:B.getCardLabels,getContractById:g,onMouseLeave:()=>{"function"==typeof A&&A()},is_accumulator:G,is_mobile:w,is_multiplier:U,is_positions:!0,is_sold:X,is_turbos:W,is_vanilla:O,has_progress_slider:w&&Z,removeToast:p,server_time:v,setCurrentFocus:f,should_show_cancellation_warning:Q,toggleCancellationWarning:x}),k=(0,N.jsx)(Zo.Footer,{contract_info:a,getCardLabels:B.getCardLabels,is_multiplier:U,is_positions:!0,is_sell_requested:!!d,onClickCancel:I,onClickSell:b,onFooterEntered:h,server_time:v,should_show_transition:!!F}),S=(0,N.jsxs)(i.Fragment,{children:[V,j]}),Y=u?(0,N.jsx)("div",{className:R,children:null!=a&&a.underlying?S:T}):(0,N.jsx)(st.NavLink,{className:R,to:{pathname:`/contract/${null==a?void 0:a.contract_id}`},children:null!=a&&a.underlying?S:T});return(0,N.jsx)(Zo,{contract_info:a,getCardLabels:B.getCardLabels,getContractPath:B.getContractPath,is_multiplier:U,is_positions:!0,onClickRemove:C,profit_loss:Number(_),result:null!=y?y:"",should_show_result_overlay:!0,children:(0,N.jsxs)("div",{id:`dc_contract_card_${null==a?void 0:a.contract_id}`,className:n,onMouseEnter:()=>{"function"==typeof m&&m()},onMouseLeave:()=>{"function"==typeof A&&A()},onClick:()=>{"function"==typeof A&&A()},children:[Y,k]})})},sc=ac,cc=e=>{let{children:t,has_separator:n}=e;return(0,N.jsx)("div",{className:o()("dc-popup-footer",{"dc-popup-footer__separator":n}),children:t})},lc=i.createContext({active_tab_icon_color:"",balance:"",currency:"",close_icon_color:"",header_background_color:"",header_big_text:"",header_banner_text:"",header_button_text:"",header_content_color:"",header_icon:"",is_overlay_shown:!1,should_show_popup:!1,title:"",tab_icon_color:"",tabs_detail:[{has_footer_separator:!1}],Component:"symbol",togglePopupModal:()=>""});var gc=n(291218);const dc=e=>{let{active_icon_color:t="",active_tab_ref:n,bottom:r=!1,className:a="",count:s,header_content:c,header_fit_content:l=!1,icon_color:g="",icon_size:d=0,icon:u,id:_="",is_active:I,is_label_hidden:b,is_scrollable:C,label:h,onClick:m,setActiveLineStyle:A,top:p}=e;i.useEffect((()=>{A()}),[s,h,c,A]);const y=o()("dc-tabs__item",{"dc-tabs__active":I,[`dc-tabs__active--${a}`]:a&&I,"dc-tabs__item--top":p,"dc-tabs__item--bottom":r,"dc-tabs__item--header-fit-content":l,"dc-tabs__item--is-hidden":b,[`dc-tabs__item--${a}`]:a,"dc-tabs__item--is-scrollable-and-active":C&&I}),f=I?t:g;return(0,N.jsxs)("li",{id:_,className:y,style:{color:f},onClick:m,ref:n,children:[u&&(0,N.jsx)(W,{icon:u,size:d,custom_color:f,className:"dc-tabs__item__icon"}),c||h,!!s&&(0,N.jsx)(Jn,{className:"dc-tabs__item__counter",count:s})]})},uc=(0,gc.withRouter)((e=>{let{active_icon_color:t="",active_index:n=0,background_color:r="",bottom:a=!1,center:s=!1,children:c,className:l="",fit_content:g=!1,has_active_line:d=!0,has_bottom_line:u=!0,header_fit_content:_=!1,history:I,icon_color:b="",icon_size:C=0,is_100vw:h=!1,is_full_width:m=!1,is_overflow_hidden:A=!1,is_scrollable:p=!1,onTabItemClick:y,should_update_hash:f=!1,single_tab_has_no_label:B=!1,top:v}=e;const[F,x]=i.useState({}),G=i.useRef(null),U=i.useRef(null),W=e=>{I.replace(`${I.location.pathname}${window.location.search}#${e}`)},O=i.useCallback((()=>{var e,t;const n=document.querySelector("html"),r=null==n?void 0:n.classList.contains("tablet-landscape"),o=null==U||null===(e=U.current)||void 0===e?void 0:e.getBoundingClientRect(),i=null==G||null===(t=G.current)||void 0===t?void 0:t.getBoundingClientRect();o&&i?x(r?{left:o.bottom-i.bottom,width:i.height}:{left:i.left-o.left,width:i.width}):setTimeout((()=>{O()}),500)}),[]);let E,Z=0;Q((()=>{if(Z=n,f){const t=location.hash.slice(1),n=c.findIndex((e=>e&&e.props&&e.props.hash===t));if(n>-1)Z=n;else{var e;const t=null===(e=c[Z])||void 0===e?void 0:e.props,n=t&&t.hash;n&&W(n)}}O()}));const[X,w]=i.useState(Z);i.useEffect((()=>{X>=0&&n!==X&&(null==y||y(X)),O()}),[X,O]),i.useEffect((()=>{n>=0&&n!==X&&w(n)}),[n]);const R=c.filter((e=>e));return E=p?"unset":g?"150px":`${(100/R.length).toFixed(2)}%`,(0,N.jsxs)("div",{className:o()("dc-tabs",{[`dc-tabs--${l}`]:l,"dc-tabs--top":v,"dc-tabs--100vw":h}),style:{"--tab-width":`${E}`,background:r},children:[(0,N.jsx)("div",{className:o()({[`dc-tabs__list--header--${l}`]:l}),children:(0,N.jsx)("ul",{className:o()("dc-tabs__list",{"dc-tabs__list--top":v,"dc-tabs__list--border-bottom":u,"dc-tabs__list--bottom":a,"dc-tabs__list--center":s,"dc-tabs__list--header-fit-content":_,"dc-tabs__list--full-width":m,[`dc-tabs__list--${l}`]:l,"dc-tabs__list--overflow-hidden":A}),ref:U,children:(0,N.jsxs)(ce,{className:"dc-themed-scrollbars-wrapper",is_only_horizontal:!0,is_scrollbar_hidden:!0,is_bypassed:!p,children:[i.Children.map(c,((e,n)=>{if(!e)return null;const{icon:r,label:o,id:i}=e.props,s=e.props["data-header-content"],g=e.props["data-count"];return(0,N.jsx)(dc,{active_icon_color:t,className:l,count:g,icon:r,icon_color:b,icon_size:C,is_active:n===X,is_label_hidden:1===c.length&&B,label:o,id:i,is_scrollable:p,top:v,bottom:a,header_fit_content:_,active_tab_ref:n===X?G:null,header_content:s,onClick:()=>(e=>{if(f){var t;const n=null===(t=c[e])||void 0===t?void 0:t.props["data-hash"];W(n)}w(e),O()})(n),setActiveLineStyle:O},o)})),d&&!p&&(0,N.jsx)("span",{className:o()("dc-tabs__active-line",{"dc-tabs__active-line--top":v,"dc-tabs__active-line--bottom":a,"dc-tabs__active-line--fit-content":g,"dc-tabs__active-line--header-fit-content":_,"dc-tabs__active-line--is-hidden":1===c.length&&B}),style:F})]})})}),(0,N.jsx)("div",{className:o()("dc-tabs__content",{[`dc-tabs__content--${l}`]:l}),children:i.Children.map(c,((e,t)=>e?t===X?e.props.children:void 0:null))})]})})),_c=uc,Ic=()=>{const{active_tab_icon_color:e,header_background_color:t,tab_icon_color:n,tabs_detail:r,overlay_ref:o,setIsOverlayShown:a,Component:s}=i.useContext(lc);return"function"==typeof s?(0,N.jsx)(s,{overlay_ref:o,setIsOverlayShown:a}):(0,N.jsx)(_c,{active_icon_color:e,background_color:t,className:"popup",center:!0,fit_content:!0,has_active_line:!1,has_bottom_line:!1,icon_color:n,icon_size:30,top:!0,children:r.map((e=>{const{id:t,has_footer_separator:n,renderBody:r,renderFooter:i}=e,s="function"==typeof r?r:null,c="function"==typeof i?i:null;return(0,N.jsxs)("div",{children:[s&&(0,N.jsx)(s,{overlay_ref:o,setIsOverlayShown:a}),c&&(0,N.jsx)(cc,{has_separator:n,children:(0,N.jsx)(c,{})})]},t)}))})},bc=()=>{const{balance:e,close_icon_color:t,currency:n,header_big_text:r,header_banner_text:o,header_button_text:a,header_content_color:s,header_icon:c,onHeaderButtonClick:l,title:g,togglePopupModal:d}=i.useContext(lc);return(0,N.jsxs)("div",{className:"dc-popup__header",children:[(0,N.jsxs)("div",{className:"dc-popup__header-content",children:[(0,N.jsxs)("div",{className:"dc-popup__header-container",children:[(0,N.jsxs)("div",{className:"dc-popup__header-container-left",children:[(0,N.jsxs)("div",{className:"dc-popup__header-title-container",children:[(0,N.jsx)("div",{className:"dc-popup__header-title",children:(0,N.jsx)(M,{size:"s",styles:{color:s,display:"flex",alignItems:"center"},children:g})}),o&&(0,B.isMobile)()&&(0,N.jsx)("div",{className:"dc-popup__header-banner",children:(0,N.jsx)(M,{size:"xxxxs",line_height:"m",color:"prominent",children:o})})]}),(0,N.jsxs)("div",{className:"dc-popup__header-balance",children:[(0,N.jsx)(M,{size:"m",weight:"bold",styles:{color:s},children:(0,N.jsx)(mr,{amount:e,currency:n,show_currency:!0})}),a&&(0,N.jsx)(qe,{primary:!0,is_circle:(0,B.isMobile)(),is_circular:(0,B.isDesktop)(),className:"dc-popup__header-button",icon:(0,N.jsx)(W,{icon:"IcPlay",size:10,color:"active"}),onClick:l,text:(0,B.isDesktop)()?a:""})]})]}),c&&(0,N.jsx)("div",{className:"dc-popup__header-container-right",children:(0,N.jsx)(W,{icon:c,size:40,className:"dc-popup__header-icon"})})]}),o&&(0,B.isDesktop)()&&(0,N.jsx)("div",{className:"dc-popup__header-container",children:(0,N.jsx)("div",{className:"dc-popup__header-banner",children:(0,N.jsx)(M,{size:"xxxs",line_height:"s",weight:"bold",color:"prominent",children:o})})}),r&&(0,N.jsx)("div",{className:"dc-popup__header-container",children:(0,N.jsx)("div",{className:"dc-popup__header-container-left",children:(0,N.jsx)(M,{as:"h3",className:"dc-popup__header-big-text",color:"prominent",size:"l",line_height:"xs",weight:"bold",children:r})})})]}),(0,N.jsx)("div",{className:"dc-popup__header-close",children:(0,N.jsx)(W,{icon:"IcCross",className:"dc-popup__header-close-icon",color:t,onClick:d})})]})},Cc=e=>{let{refSetter:t}=e;const{is_overlay_shown:n}=i.useContext(lc);return(0,N.jsx)(oe.A,{in:n,appear:!0,timeout:250,classNames:{appear:"dc-popup__overlay--appear",enter:"dc-popup__overlay--enter",enterDone:"dc-popup__overlay--enter-done",exit:"dc-popup__overlay--exit"},children:(0,N.jsx)("div",{className:"dc-popup__overlay",ref:t})})},hc=e=>{let{Component:t,active_tab_icon_color:n,balance:r,close_icon_color:o,currency:a,header_background_color:s,header_banner_text:c,header_big_text:l,header_button_text:g,header_contents_color:d,header_icon:u,onHeaderButtonClick:_,should_show_popup:I,tab_icon_color:b,tabs_detail:C,title:h,togglePopupModal:m}=e;const[A,p]=i.useState(),[y,f]=i.useState(!1),v={Component:t,active_tab_icon_color:n,balance:r,close_icon_color:o,currency:a,header_background_color:s,header_banner_text:c,header_big_text:l,header_button_text:g,header_contents_color:d,header_icon:u,is_overlay_shown:y,onHeaderButtonClick:_,overlay_ref:A,setIsOverlayShown:f,tab_icon_color:b,tabs_detail:C,title:h,togglePopupModal:m,should_show_popup:!1};return(0,B.isMobile)()?(0,re.createPortal)((0,N.jsx)(lc.Provider,{value:v,children:(0,N.jsx)("div",{className:"dc-popup",children:(0,N.jsx)(xs,{container_children:(0,N.jsx)(Cc,{refSetter:e=>p(e)}),header_background_color:s,height_offset:"39px",is_flex:!0,is_popup:!0,is_modal_open:I,onClickClose:m,page_header_className:"dc-popup__mobile-full-page-modal-header",renderPageHeader:bc,should_header_stick_body:!0,children:(0,N.jsx)(aa.Body,{className:"dc-popup__body",children:(0,N.jsx)(Ic,{})})})})}),document.getElementById("popup_root")):(0,N.jsx)(lc.Provider,{value:v,children:(0,N.jsx)("div",{className:"dc-popup",children:(0,N.jsxs)(aa,{className:"popup",has_close_icon:!1,header:(0,N.jsx)(bc,{}),header_background_color:s,height:"636px",is_open:I,should_header_stick_body:!0,toggleModal:m,width:"776px",children:[(0,N.jsx)(aa.Body,{className:"dc-popup__body",children:(0,N.jsx)(Ic,{})}),(0,N.jsx)(Cc,{refSetter:e=>p(e)})]})})})};hc.Overlay=e=>{let{title:t,descriptions:n,overlay_ref:r,toggleOverlay:o,done_text:i}=e;return(0,re.createPortal)((0,N.jsxs)("div",{className:"dc-popup__overlay-content",children:[(0,N.jsx)(V,{as:"h4",size:"s",line_height:"m",color:"prominent",weight:"bold",className:"dc-popup__overlay-content-header",children:t}),(0,N.jsx)("div",{className:"dc-popup__overlay-content-separator"}),(0,N.jsx)("ul",{className:"dc-popup__overlay-content-list",children:n.map((e=>(0,N.jsx)("li",{children:(0,N.jsx)(V,{size:"xxs",line_height:"m",color:"general",children:e.component})},e.key)))}),(0,N.jsx)($e,{className:"dc-popup__overlay-content-button",secondary:!0,large:!0,onClick:o,text:i})]}),r)};const mc=hc,Ac=e=>{let{checkboxLabel:t,defaultChecked:n,onChange:r,message:o,name:a}=e;return(0,N.jsxs)(i.Fragment,{children:[o,(0,N.jsx)(vn,{defaultChecked:n,onChange:r,name:a,label:t})]})},pc=e=>{let{label:t,value:n,danger_limit:r=.2,warning_limit:i=.5,className:a}=e,s="normal";return n<=r?s="danger":n<=i&&(s="warning"),(0,N.jsxs)("div",{className:o()("dc-progress-bar__container",a),children:[(0,N.jsx)(M,{as:"p",color:"prominent",align:"center",size:"xs",weight:"bold",className:"dc-progress-bar__label",children:t}),(0,N.jsx)("div",{className:o()({[`dc-progress-bar--${s}`]:s},"dc-progress-bar__bar"),style:{width:100*n+"%"}}),(0,N.jsx)("div",{className:o()(`dc-progress-bar--${s}`,"dc-progress-bar__empty")})]})},yc=pc,fc=e=>{let{step:t,steps_list:n,is_transition:r=!1,onStepChange:i}=e;return(0,N.jsx)("div",{className:"dc-progress-bar-tracker",children:n.map(((e,n)=>{const a=t===n+1;return(0,N.jsx)("div",{onClick:()=>{i(n+1)},className:o()({"dc-progress-bar-tracker-rectangle":a,"dc-progress-bar-tracker-circle":!a,"dc-progress-bar-tracker-transition":r})},e)}))})},Bc=e=>{let{className:t,value:n,total:r,style:i}=e;return(0,N.jsxs)("div",{className:o()("dc-progress-indicator__container",t),style:i,children:[(0,N.jsx)("div",{className:o()("dc-progress-indicator__bar"),style:{width:n/r*100+"%"}}),(0,N.jsx)("div",{className:"dc-progress-indicator__empty"})]})},vc=["children","hidden"];function Fc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fc(Object(n),!0).forEach((function(t){xc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Gc=e=>{let{children:t,should_wrap_items:n}=e;return n?(0,N.jsx)("div",{className:"dc-radio-group__item-wrapper",children:t}):(0,N.jsx)(i.Fragment,{children:t})},Uc=e=>{let{className:t,name:n,onToggle:r,required:a,selected:s,should_wrap_items:c,children:l}=e;const[g,d]=i.useState(s);i.useEffect((()=>{d(s)}),[s]);const u=e=>{d(e.target.value),r(e)};return(0,N.jsx)("div",{className:o()("dc-radio-group",t),children:Array.isArray(l)&&l.filter((e=>!e.props.hidden)).map((e=>(0,N.jsx)(Gc,{should_wrap_items:c,children:(0,N.jsxs)("label",{className:o()("dc-radio-group__item",t,{"dc-radio-group__item--selected":g===e.props.value}),children:[(0,N.jsx)("input",{id:e.props.id,name:n,className:"dc-radio-group__input",type:"radio",value:e.props.value,checked:g===e.props.value,onChange:u,disabled:e.props.disabled,required:a}),(0,N.jsx)("span",{className:o()("dc-radio-group__circle",{"dc-radio-group__circle--selected":g===e.props.value,"dc-radio-group__circle--disabled":e.props.disabled,"dc-radio-group__circle--error":e.props.has_error})}),(0,N.jsx)(M,{size:"xs",className:o()("dc-radio-group__label",{"dc-radio-group__label--disabled":e.props.disabled,"dc-radio-group__label--error":e.props.has_error}),children:e.props.label})]})},e.props.value)))})};Uc.Item=e=>{let{children:t,hidden:n=!1}=e,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,vc);return(0,N.jsx)("div",Qc(Qc({hidden:n},r),{},{children:t}))};const Wc=Uc,Nc=e=>{let{className:t,collapse_length:n,expand_text:r,openDialog:a,show_dialog:s,text:c}=e;const[l,g]=i.useState(""),[d,u]=i.useState(!0);return i.useEffect((()=>{g(s||d?c.substring(0,n):c)}),[d,c,s,n]),(0,N.jsxs)(i.Fragment,{children:[s&&(0,N.jsxs)("div",{className:o()("dc-read-more",t),children:[(0,N.jsx)("span",{className:"dc-read-more__content",children:l}),(0,N.jsx)("span",{children:"..."}),(0,N.jsx)("span",{className:"dc-read-more__dialog",onClick:()=>null==a?void 0:a(),children:r})]}),!s&&(0,N.jsxs)("div",{className:o()("dc-read-more",t),onClick:d?void 0:()=>u(!0),children:[(0,N.jsx)("span",{className:"dc-read-more__content",children:l}),d&&(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)("span",{children:"..."}),(0,N.jsx)("span",{className:"dc-read-more__toggle",onClick:()=>u(!1),children:r})]})]})]})};function Oc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ec(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oc(Object(n),!0).forEach((function(t){Zc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Zc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Xc=e=>{let{component:t,exact:n,getTitle:r,is_authenticated:o,is_logged_in:a=!1,path:s,routes:c,to:l,language:g,Component404:d,should_redirect_login:u}=e;return(0,N.jsx)(gc.Route,{exact:n,path:s,render:e=>{let n=null;if(t===gc.Redirect){let t=l;if(s===B.routes.index){const{location:n}=e;t=n.pathname.toLowerCase().replace(s,"")}n=(0,N.jsx)(gc.Redirect,{to:t})}else if(o&&!a)u?(0,B.redirectToLogin)(a,g):n=(0,N.jsx)(gc.Redirect,{to:B.routes.traders_hub});else{const r=c.find((e=>e.default)),o=(0,B.removeBranchName)(location.pathname).replace(/\/$/,""),a=(e=>{if(""===e)return!0;if(null!=s&&s.includes(":"))return e.substring(0,e.lastIndexOf("/")+1)===s.substring(0,s.indexOf(":"));return s===e||!(!c||!c.find((t=>e===t.path)))})(o),l=!d;n=(0,N.jsxs)(i.Fragment,{children:[r&&o===s&&(0,N.jsx)(gc.Redirect,{to:r.path}),a?(0,N.jsx)(t,Ec(Ec({},e),{},{routes:c})):(0,N.jsx)(i.Fragment,{children:l?(0,N.jsx)(gc.Redirect,{to:B.routes.traders_hub}):(0,N.jsx)(d,{})})]})}const _=(null==r?void 0:r())||"";return document.title=`${_} | ${B.default_title}`,n}})},wc=Ga,Rc=["href","is_document","is_eu_url","children"];function Tc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tc(Object(n),!0).forEach((function(t){jc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const kc=e=>{let{href:t,is_document:n,is_eu_url:r=!1,children:o=null}=e,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,Rc);return(0,N.jsx)("a",Vc(Vc({href:((0,B.setUrlLanguage)((0,Ie.getLanguage)()),(0,B.getStaticUrl)(t,n,r)),rel:"noopener noreferrer",target:"_blank"},i),{},{children:o}))},Sc=e=>{let{children:t,className:n,lbl_no_receive:r,live_chat:o,onClickSendEmail:a,resend_timeout:s,subtitle:c,title:l,txt_resend_in:g,txt_resend:d}=e;const[u,_]=i.useState(!1),[I,b]=i.useState(!1),[C,h]=i.useState(d),m=s||60;let A;i.useEffect((()=>()=>{window.clearInterval(A)}),[]);const p=()=>{let e=m;b(!0),A=window.setInterval((()=>{--e?h(`${g} ${e}`):(b(!1),h(d),window.clearInterval(A))}),1e3)};return(0,N.jsxs)("div",{className:"send-email-template",children:[(0,N.jsxs)("div",{className:"send-email-template__sent",children:[(0,N.jsx)(U.default,{icon:"IcEmailSent",className:"send-email-template__icon",size:128}),(0,N.jsx)(M,{as:"h1",align:"center",className:"send-email-template__title",color:"prominent",weight:"bold",children:l}),(0,N.jsx)(M,{as:"p",size:"xs",align:"center",styles:{lineHeight:"20px"},className:"send-email-template__subtitle",children:c}),(0,N.jsx)($e,{className:"send-email-template__btn",onClick:()=>{u||_(!0)},text:r,tertiary:!0})]}),u&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("div",{className:`send-email-template__resend ${n}`,children:t}),(0,N.jsx)("div",{className:"send-email-template__cta",children:(0,N.jsx)($e,{className:"send-email-template__cta-btn",is_disabled:I,has_effect:!0,text:C,onClick:()=>{p(),a()},primary:!0})}),!!o&&(0,N.jsx)("div",{className:"send-email-template__footer",children:(0,N.jsx)(M,{size:"xxs",as:"p",align:"center",children:o})})]})]})},Yc={warning:"IcAlertWarning",information:"IcAlertInfo",announcement:"IcAlertAnnounce",error:"IcAlertDanger"},Pc=e=>{let{title:t,description:n,type:r,action:o,children:i}=e;const a=(0,B.isMobile)()?"xxs":"xs",s=(0,B.isMobile)()?"xxxs":"xxs";return(0,N.jsxs)("div",{className:"side-note",children:[(0,N.jsxs)("div",{className:"side-note__content",children:[(t||r)&&(0,N.jsxs)("div",{className:"side-note__header",children:[(0,N.jsx)(M,{weight:"bold",size:a,children:t}),r&&(0,N.jsx)(U.default,{icon:Yc[r]})]}),(n||i)&&(0,N.jsxs)(M,{size:s,children:[n&&(0,N.jsx)("span",{children:n}),i]})]}),o&&(0,N.jsxs)("div",{className:"side-note__action",onClick:null==o?void 0:o.onClick,children:[(0,N.jsx)(M,{size:s,color:"red",children:null==o?void 0:o.label}),(0,N.jsx)(U.default,{icon:"IcChevronRight",color:"red",size:16})]})]})},Dc=e=>{let{account_status:t,icon:n,icon_size:r="11",text:i,className:a,onClick:s}=e;return(0,N.jsxs)("div",{className:o()("switcher-status-badge__container",a,`switcher-status-badge__container--${null!=t?t:"failed"}`),onClick:s,onKeyDown:s,children:[(0,N.jsx)("div",{className:o()("switcher-status-badge__container--icon",`switcher-status-badge__container--icon--${null!=t?t:"failed"}`),children:(0,N.jsx)(W,{icon:n,size:r})}),i]})};function Jc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Lc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jc(Object(n),!0).forEach((function(t){Mc(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mc(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const zc="left",Hc="right",Kc=e=>{let{children:t,classname:n="swipeable-notification",is_failure:r,is_success:a,onUnmount:s,redirect_to:l="",timestamp:g,visibility_duration_ms:d}=e;const[u,_]=i.useState(zc),[I,b]=i.useState(!0),C=i.useCallback((e=>e?Math.abs(Math.floor(Date.now()/1e3)-e):null),[]),[h,m]=i.useState(C(g)),A=i.useRef(),p=()=>b(!1),y=i.useMemo((()=>c()(p,d)),[d]),f=e=>{_(e),p()},v=(0,nn.useSwipeable)({onSwipedLeft:()=>f(zc),onSwipedRight:()=>f(Hc)});return i.useEffect((()=>(g&&(A.current=setInterval((()=>{m(C(g))}),1e3)),()=>{d&&y.cancel(),g&&A.current&&clearInterval(A.current)})),[y,C,g,d]),(0,N.jsx)(oe.A,{appear:!0,classNames:{appear:`${n}-appear`,appearActive:`${n}-appear-active`,appearDone:`${n}-appear-done`,enter:`${n}-enter`,enterActive:`${n}-enter-active`,enterDone:`${n}-enter-done`,exit:`${n}-exit`,exitActive:`${n}-exit-active-${u}`},in:I,onEntered:()=>{d&&y()},onExited:s,timeout:{enter:300,exit:600},unmountOnExit:!0,children:(0,N.jsxs)(st.NavLink,Lc(Lc({className:o()(n,{[`${n}--failure`]:r,[`${n}--success`]:a}),to:l},v),{},{children:[(0,N.jsx)("div",{className:`${n}-content`,children:t}),(0,N.jsx)(M,{as:"p",size:"xxxs",line_height:"s",className:`${n}-time`,children:(()=>{if(h||0===h)return h<10?(0,N.jsx)(Ie.Localize,{i18n_default_text:"now"}):(0,B.getTimeSince)(1e3*Number(g))})()})]}))})},$c=i.memo(Kc),qc=["children","className","onChange","is_disabled","is_swipe_disabled","should_elevate_navigation"];function el(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?el(Object(n),!0).forEach((function(t){nl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):el(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const rl=e=>{let{children:t,className:n,onChange:r,is_disabled:a,is_swipe_disabled:s,should_elevate_navigation:c=!1}=e,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,qc);const[g,d]=i.useState(0);i.useEffect((()=>(null==r||r(g),()=>{null==r||r()})),[g,r]);const u=function(){if(a)return;if(s&&!(arguments.length>0&&void 0!==arguments[0]&&arguments[0]))return;g+1===i.Children.toArray(t).length||d(g+1)},_=function(){a||s&&!(arguments.length>0&&void 0!==arguments[0]&&arguments[0])||g>0&&d(g-1)},I=i.Children.map(t,(e=>(0,N.jsx)("div",{className:"dc-swipeable__item",children:e}))),b=(0,nn.useSwipeable)(tl({onSwipedLeft:()=>u(!1),onSwipedRight:()=>_(!1)},l));return(0,N.jsxs)("div",{className:"dc-swipeable","data-testid":"dt_swipeable",children:[(0,N.jsx)("div",tl(tl(tl({},b),{},{style:{left:(a?-100:-100*g)+"vw"},className:o()("dc-swipeable__view",n)},l),{},{children:I})),!a&&(0,N.jsxs)("nav",{className:o()("dc-swipeable__nav",{"dc-swipeable__nav-elevated":c}),children:[(0,N.jsx)(W,{className:"dc-swipeable__nav__item",icon:"IcChevronDoubleLeft",size:24,onClick:()=>_(!0),color:0===g||a?"disabled":""}),(0,N.jsx)(W,{className:"dc-swipeable__nav__item",icon:"IcChevronDoubleRight",size:24,onClick:()=>u(!0),color:g+1===i.Children.toArray(t).length||a?"disabled":""})]})]})};rl.useSwipeable=nn.useSwipeable;const ol=rl,il=e=>{let{onChange:t,min_date:n=0,max_date:r,title:o}=e;const a=i.useRef(null),s=(0,B.toMoment)().add(n,"d").format("YYYY-MM-DD"),c=r?(0,B.toMoment)().add(r,"d").format("YYYY-MM-DD"):"";return(0,N.jsxs)("div",{className:"dc-relative-datepicker",onClick:()=>{var e;null==a||null===(e=a.current)||void 0===e||e.click()},children:[(0,N.jsx)(M,{size:"xs",line_height:"s",weight:"bold",styles:{color:"var(--purchase-main-2)"},className:"dc-relative-datepicker__span",children:o}),(0,N.jsx)("input",{type:"date",ref:a,onChange:e=>{var n;t(+(null!==(n=(0,B.daysFromTodayTo)(e.target.value))&&void 0!==n?n:0))},min:s,max:c,className:"dc-relative-datepicker__input"})]})};var al=n(824223);function sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sl(Object(n),!0).forEach((function(t){ll(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ll(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const gl=e=>{let{className:t,onClear:n,onSearch:r,placeholder:a}=e;const s=i.useRef(null),c=e=>{clearTimeout(s.current),s.current=setTimeout((()=>{e()}),500)};return i.useEffect((()=>()=>clearTimeout(s.current)),[]),(0,N.jsx)("div",{className:o()("search-box",t),children:(0,N.jsx)(al.Formik,{initialValues:{search:""},onSubmit:e=>{let{search:t}=e;t.trim()?"function"==typeof r&&r(t):"function"==typeof n&&n()},children:e=>{let{submitForm:t,values:{search:r},setFieldValue:o}=e;return(0,N.jsx)(al.Form,{children:(0,N.jsx)(al.Field,{name:"search",children:e=>{let{field:i}=e;return(0,N.jsx)(L,cl(cl({},i),{},{className:"search-box__field",type:"text",name:"search",placeholder:a,onKeyDown:()=>c(t),onKeyUp:()=>c(t),onFocus:t,leading_icon:(0,N.jsx)(W,{className:"search-box__field-icon",icon:"IcSearch"}),trailing_icon:r?(0,N.jsx)(W,{className:"search-box__cross-icon",color:"secondary",icon:"IcCloseCircle",onClick:()=>(e=>{e("search",""),"function"==typeof n&&n()})(o)}):null}))}})})}})})};gl.propTypes={className:so().string,onClear:so().func,onSearch:so().func,placeholder:so().string};const dl=gl,ul=e=>{let{children:t,className:n}=e;return(0,N.jsx)("div",{role:"rowgroup",className:o()("dc-table__header",n),children:t})},_l=["children"];function Il(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Il(Object(n),!0).forEach((function(t){Cl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Il(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const hl=e=>{let{children:t}=e,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,_l);return(0,N.jsx)("div",bl(bl({role:"rowgroup"},n),{},{children:t}))},ml=e=>{let{children:t,className:n,has_hover:r}=e;return(0,N.jsx)("div",{role:"row",className:o()("dc-table__row",n,{"dc-table__row--hover":r}),children:t})},Al=e=>{let{children:t,align:n="left",className:r,fixed:i}=e;return(0,N.jsx)("div",{role:"cell",className:o()("dc-table__cell",r,{"dc-table__cell--right":"right"===n,"dc-table__cell--fixed":i}),children:t})},pl=e=>{let{className:t,fixed:n,children:r,scroll_width:i,scroll_height:a}=e;return(0,N.jsx)("div",{role:"table",className:o()("dc-table",t,{"dc-table--scroll":n}),children:n?(0,N.jsx)(ce,{has_horizontal:!0,width:i||"100%",height:a,className:"dc-table--scrollbar",children:r}):r})};pl.Head=e=>{let{children:t,align:n,className:r,fixed:i}=e;return(0,N.jsx)("div",{role:"columnheader",className:o()("dc-table__head",r,{"dc-table__cell--right":"right"===n,"dc-table__cell--fixed":i}),children:t})},pl.Header=ul,pl.Body=hl,pl.Row=ml,pl.Cell=Al;const yl=pl,fl=e=>{let{children:t,className:n,is_open:r=!0,onClose:a,onClick:s,type:c="info",timeout:l=0}=e;const[g,d]=i.useState(!1);return i.useEffect((()=>{if(d(r),l){const e=setTimeout((()=>{d(!1)}),l);return()=>clearTimeout(e)}}),[r,l]),(0,N.jsx)(oe.A,{in:g,timeout:100,unmountOnExit:!0,onExited:()=>{"function"==typeof a&&a(),d(!1)},classNames:{appear:"dc-toast--enter",enter:"dc-toast--enter",enterDone:"dc-toast--enter-done",exit:"dc-toast--exit"},children:(0,N.jsx)("div",{className:o()("dc-toast",n,{[`dc-toast__${c}`]:c}),onMouseDown:e=>{e.nativeEvent.preventDefault(),e.nativeEvent.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},children:(0,N.jsx)("div",{className:"dc-toast__message",onClick:s,children:(0,N.jsx)("div",{className:"dc-toast__message-content",children:t})})})})},Bl=e=>{let{className:t,classNameButton:n,classNameLabel:r,handleToggle:a,id:s,is_enabled:c,name:l="toggle_switch"}=e;return(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)("input",{"aria-label":l,className:o()("dc-toggle-switch",t),id:s,type:"checkbox",checked:c,onChange:a}),(0,N.jsx)("label",{className:o()("dc-toggle-switch__label",r),htmlFor:s,children:(0,N.jsx)("span",{className:o()("dc-toggle-switch__button",n)})})]})};var vl=n(50622);const Fl={info:{icon:"IcWalletInfoMessageWithThreeDots",color:"status-info-blue"},error:{icon:"IcWalletErrorMessageWithCross",color:"loss-danger"},success:{icon:"IcWalletSuccessMessage",color:"profit-success"}},Ql=e=>{const{type:t,message:n,variant:r}=e,o=Fl[t].icon,i=Fl[t].color;return(0,N.jsxs)("div",{className:"alert-message","data-testid":"dt_alert_message",children:[(0,N.jsxs)("div",{className:"alert-message__icon-container",children:[(0,N.jsx)("div",{className:"icon-container__line"}),(0,N.jsx)("div",{className:"icon-container__icon",children:(0,N.jsx)(W,{icon:o,custom_color:`var(--text-${i})`,data_testid:`dt_${o}`})})]}),(0,N.jsx)("div",{className:"alert-message__message-container",children:(0,N.jsx)(M,{size:(0,B.isMobile)()?"xxxs":"xxs",color:i,children:n})}),"with-action-button"===r&&e.button_label&&(0,N.jsx)("div",{className:"alert-message__button-container",children:(0,N.jsx)(qe,{primary:!0,small:!0,onClick:e.onClickHandler,children:e.button_label})})]})};function xl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xl(Object(n),!0).forEach((function(t){Ul(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ul(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Wl={initial:{height:0,opacity:0},animate:{height:"auto",opacity:1,transition:{height:{duration:.2},opacity:{duration:.15,delay:.05}}},exit:{height:0,opacity:0,transition:{height:{duration:.2},opacity:{duration:.1}}}},Nl=e=>{let{list:t}=e;return(0,N.jsx)("div",{className:"message-list",children:(0,N.jsx)(vl.N,{children:t.map((e=>(0,i.createElement)(la.P.div,Gl(Gl({},Wl),{},{layout:!0,key:e.key}),(0,N.jsx)(Ql,Gl({},e)))))})})};var Ol=n(122328),El=n.n(Ol);function Zl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zl(Object(n),!0).forEach((function(t){wl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Rl=e=>{let{default_value:t,is_submit_disabled:n,min_value:r,max_value:a,onSubmit:s,submit_label:c,singular_label:l,plural_label:g,onValueChange:d}=e;const u=i.useRef(t),_=i.useRef(!1),I=()=>{u.current-1>=r&&(u.current-=1,C())},b=()=>{u.current+1<=a&&(u.current+=1,C())},C=()=>{d&&d(u.current)};i.useEffect((()=>{_.current?C():_.current=!0}),[u.current]);const h=El()((e=>{let{dir:t}=e;"up"===t.toLowerCase()&&b(),"down"===t.toLowerCase()&&I()}),100,{trailing:!0,leading:!1}),m=(0,nn.useSwipeable)({onSwiping:h});return(0,N.jsxs)("div",{className:"dc-tick-picker",children:[(0,N.jsxs)("div",{className:"dc-tick-picker__calculation",children:[(0,N.jsx)($e,{rounded:!0,className:"operator",onClick:I,children:(0,N.jsx)(W,{icon:"IcMinus",custom_color:"var(--text-prominent)"})}),(0,N.jsxs)("div",Xl(Xl({className:"dc-tick-picker__holder"},m),{},{children:[(0,N.jsx)(M,{styles:{fontSize:"96px",lineHeight:1,color:"inherit"},children:(A=u.current,`${A}`.padStart(2,"0"))}),(0,N.jsx)(M,{size:"s",weight:"bold",align:"center",styles:{color:"inherit"},children:1===u.current?l:g})]})),(0,N.jsx)($e,{rounded:!0,className:"operator",onClick:b,children:(0,N.jsx)(W,{icon:"IcAdd",custom_color:"var(--text-prominent)"})})]}),(0,N.jsx)("div",{className:o()("dc-tick-picker__submit-wrapper",{"dc-tick-picker__submit-wrapper--is-disabled":n}),children:(0,N.jsx)($e,{rounded:!0,onClick:()=>{s({target:{value:u.current,name:"submit"}})},renderText:()=>n&&(0,N.jsx)(M,{size:"s",weight:"bold",align:"center",color:"disabled",children:c}),children:c})})]});var A},Tl=["children","disabled_items","line_height"],Vl=["children"];function jl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jl(Object(n),!0).forEach((function(t){Sl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const Pl=e=>{let{children:t}=e;return(0,N.jsx)("div",{className:"dc-timeline__oval",children:(0,N.jsx)(M,{color:"colored-background",size:"s",weight:"bold",className:"dc-timeline__number",children:t})})},Dl=e=>{let{children:t,disabled_items:n,line_height:r="xxl"}=e,i=Yl(e,Tl);return(0,N.jsx)("div",kl(kl({},i),{},{children:Array.isArray(t)&&t.map(((e,i)=>(0,N.jsxs)("div",{className:o()("dc-timeline__flex",{"dc-timeline__flex--no-border":t.length===i+1,"dc-timeline__flex--disabled":null==n?void 0:n.includes(i+1)}),children:[(0,N.jsx)(Pl,{children:i+1}),(0,N.jsxs)("div",{className:"dc-timeline__container",children:[(0,N.jsx)(M,{as:"h2",color:"prominent",size:"xs",className:"dc-timeline__title",line_height:r,children:e.props.item_title}),(0,N.jsx)("div",{className:"dc-timeline__content",children:e})]})]},i)))}))};Dl.Item=e=>{let{children:t}=e,n=Yl(e,Vl);return(0,N.jsx)("div",kl(kl({},n),{},{children:t}))};const Jl=Dl,Ll=e=>{let{className:t,classNameBlock:n}=e;const r=o()(n,"block-ui"),i=o()("block-ui__loading",t);return(0,N.jsx)("div",{className:r,children:(0,N.jsx)("div",{className:i,children:(0,N.jsx)("div",{className:"block-ui__loading-spinner",children:(0,N.jsx)("svg",{className:"block-ui__loading-spinner-circular",viewBox:"25 25 50 50",children:(0,N.jsx)("circle",{className:"block-ui__loading-spinner-path",cx:"50",cy:"50",r:"20",fill:"none",strokeWidth:"4",strokeMiterlimit:"10"})})})})})},Ml=e=>{let{class_name:t,side_notes:n}=e;return(0,N.jsx)("div",{className:o()("dc-vertical-tab__content-side-note",{[t]:!!n}),"data-testid":"vertical_tab_side_note",children:null==n?void 0:n.map(((e,t)=>(0,N.jsx)("div",{className:"dc-vertical-tab__content-side-note-item",children:e},t)))})},zl=(0,i.memo)((e=>{let{is_routed:t,items:n,selected:r}=e;const o=n.find((e=>e.label===r.label)),[a,s]=i.useState(null),c=i.useCallback((e=>{s(e)}),[]),l=(0,i.useMemo)((()=>null==o?void 0:o.value),[null==o?void 0:o.value]),g=(0,i.useMemo)((()=>n.map(((e,t)=>{let{value:n,component:r,path:o,icon:i}=e;const a=n||r;return(0,N.jsx)(gc.Route,{path:o,render:()=>(0,N.jsx)(a,{component_icon:i,setSideNotes:c})},t)}))),[c,n]);return(0,N.jsxs)(i.Fragment,{children:[t?(0,N.jsx)(gc.Switch,{children:g}):(0,N.jsx)(l,{className:"item-id",setSideNotes:c},null==o?void 0:o.label),r.has_side_note&&(0,N.jsx)(Ml,{side_notes:a})]})}));zl.displayName="Content";const Hl=e=>{let{action_bar:t,action_bar_classname:n,className:r,id:i,is_floating:a,is_routed:s,items:c,selected:l,tab_container_classname:g}=e;return(0,N.jsxs)("div",{className:o()("dc-vertical-tab__content",{"dc-vertical-tab__content--floating":a,[`dc-vertical-tab__content--${r}`]:r}),children:[!a&&t&&(0,N.jsx)("div",{className:o()("dc-vertical-tab__action-bar",{[n]:!!n}),children:t.map(((e,t)=>{let{component:n,icon:r,onClick:o}=e;const a=n;return a?(0,N.jsx)(a,{},t):(0,N.jsx)("div",{id:`dt_${i}_close_icon`,className:"dc-vertical-tab__action-bar-wrapper",onClick:o,children:(0,N.jsx)(U.default,{className:"dc-vertical-tab__action-bar--icon",icon:r})},t)}))}),(0,N.jsx)("div",{className:o()("dc-vertical-tab__content-container",{"dc-vertical-tab__content-container--has-side-note":l.has_side_note},g),children:(0,N.jsx)(zl,{is_routed:s,items:c,selected:l})})]})},Kl=e=>{let{icon:t,is_active:n}=e;return(0,N.jsx)(U.default,{icon:t,className:o()("dc-vertical-tab__header__icon",{"dc-vertical-tab__header__icon--active":n})})},$l=e=>{let{text:t,path:n}=e;return(0,N.jsx)("div",{className:"dc-vertical-tab__header__link",id:n,children:t})},ql=e=>{var t,n,r;let{children:i,className:a,is_floating:s,is_routed:c,item:l,onChange:g,selected:d,selectedKey:u="label"}=e;const _=l.label||l.title||(null===(t=l.getTitle)||void 0===t?void 0:t.call(l))||"",I=d&&d[u]===l[u],b=()=>g(l),C=`dc_${(0,B.getKebabCase)(_)}_link`,h=!!l.is_disabled,m=!!l.is_hidden,A=l.count||0;return m?null:c?(0,N.jsxs)(st.NavLink,{id:C,to:l.path,onClick:b,className:o()("dc-vertical-tab__header",{"dc-vertical-tab__header--disabled":h,"dc-vertical-tab__header--floating":s}),activeClassName:o()(a,{"dc-vertical-tab__header--active":I}),children:[(0,N.jsx)(Kl,{icon:null!==(n=l.icon)&&void 0!==n?n:"",is_active:I}),(0,N.jsx)($l,{text:_,path:l.path}),!!A&&(0,N.jsx)(Jn,{count:A,className:"dc-vertical-tab__header__counter"}),i]}):(0,N.jsxs)("div",{id:C,className:o()("dc-vertical-tab__header",a,{"dc-vertical-tab__header--active":I,"dc-vertical-tab__header--disabled":h}),onClick:b,children:[(0,N.jsx)(Kl,{icon:null!==(r=l.icon)&&void 0!==r?r:"",is_active:I}),(0,N.jsx)($l,{text:_}),i,(0,N.jsx)(N.Fragment,{children:l.component})]})},eg=e=>{let{icon:t,is_active:n}=e;return(0,N.jsx)(U.default,{icon:t,className:o()("dc-vertical-tab__header-group__icon",{"dc-vertical-tab__header-group__icon--active":n})})},tg=e=>{let{text:t}=e;return(0,N.jsx)("div",{className:"dc-vertical-tab__header-group__link",children:t})},ng=e=>{var t,n;let{children:r,className:a,group:s,selected:c,is_collapsible:l=!0,is_routed:g,onChange:d,onToggle:u}=e;const[_,I]=i.useState(!0);i.useEffect((()=>{u(!0)}),[_,u]);const b=s.getTitle?s.getTitle():s.label||s.title||"",C=()=>{s.subitems?l&&!c&&I(!_):d(s)},h=`dt_${b}_link`,m=!!s.is_disabled;return g&&!s.subitems?(0,N.jsxs)(st.NavLink,{id:h,to:s.path,className:o()("dc-vertical-tab__header-group",a,{"dc-vertical-tab__header-group--active":c,"dc-vertical-tab__header-group--disabled":m||c}),onClick:C,children:[(0,N.jsx)(eg,{icon:null!==(t=s.icon)&&void 0!==t?t:"",is_active:c}),(0,N.jsx)(tg,{text:b}),l&&(0,N.jsx)(U.default,{icon:"IcChevronUpBold",className:o()("dc-vertical-tab__header-group-chevron",{"dc-vertical-tab__header-group-chevron--invert":!_})})]}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("div",{id:h,className:o()("dc-vertical-tab__header-group",a,{"dc-vertical-tab__header-group--active":c,"dc-vertical-tab__header-group--disabled":m||c}),onClick:C,children:[(0,N.jsx)(eg,{icon:null!==(n=s.icon)&&void 0!==n?n:"",is_active:c}),(0,N.jsx)(tg,{text:b}),l&&(0,N.jsx)(U.default,{icon:"IcChevronUpBold",className:o()("dc-vertical-tab__header-group-chevron",{"dc-vertical-tab__header-group-chevron--invert":!_})})]}),_&&(0,N.jsx)("div",{children:r})]})},rg=e=>{let{wrapper_ref:t,children:n,className:r}=e;return(0,N.jsx)("div",{ref:t,className:o()("dc-vertical-tab__tab",r),children:n})},og=e=>{let{header_title:t}=e;return(0,N.jsx)("div",{className:"dc-vertical-tab__header-title",children:(0,N.jsx)(M,{as:"p",color:"prominent",align:"center",weight:"bold",children:t})})},ig=e=>{let{className:t,extra_offset:n,has_mixed_dimensions:r,header_title:a,is_collapsible:s,is_floating:c,is_routed:l,item_groups:g,items:d,onChange:u,selected:_,selectedKey:I="label"}=e;const b=i.useRef(null),[C,h]=i.useState(0),[m,A]=i.useState(!1);return i.useEffect((()=>{const e=d.find((e=>e[I]===_[I]));null!=e&&e.label&&h(((e,t,n,r)=>{var o;let i,a=0,s=0;const c=null==n||null===(o=n.current)||void 0===o?void 0:o.querySelectorAll(".dc-vertical-tab__header__link, .dc-vertical-tab__header-group__link");return c&&(i=[...c].find((e=>r.getTitle?e.innerText===r.getTitle():e.innerText===r.label))),i&&(s=t?e||18:10,a=i.offsetTop&&i.offsetTop-s),a})(n,c,b,{label:e.label}))}),[_,c,n,I,d]),(0,N.jsxs)(rg,{wrapper_ref:b,className:o()(t,{"dc-vertical-tab__tab--floating":c}),children:[!c&&a&&(0,N.jsx)(og,{header_title:a}),Array.isArray(g)?g.map(((e,t)=>{var n,o;return(0,N.jsx)(ng,{onChange:u,onToggle:A,selected:!r&&(null===(n=e.subitems)||void 0===n?void 0:n.includes(d.findIndex((e=>e===_))))||!e.subitems&&e===_,is_collapsible:s,is_routed:l,group:e,children:null===(o=e.subitems)||void 0===o?void 0:o.map(((e,t)=>(0,N.jsx)(ql,{item:d[e],onChange:u,is_floating:c,is_routed:l,selected:_,selectedKey:I},t)))},t)})):d.map(((e,t)=>(0,N.jsx)(ql,{item:e,onChange:u,is_floating:c,is_routed:l,selected:_,selectedKey:I},t))),(0,N.jsx)("span",{style:{transition:m?"unset":"transform 0.25s ease",transform:`translate3d(0, ${C}px, 0)`},className:"dc-vertical-tab__header--highlight"})]})},ag=e=>{let{children:t,is_full_width:n}=e;return(0,N.jsx)("div",{className:o()("dc-vertical-tab",{"dc-vertical-tab--full-screen":n}),children:t})},sg=e=>{let t,{current_path:n,list:r,is_routed:o,selected_index:i,setCurrTabIndex:a,setVerticalTabIndex:s}=e;t=void 0===i?o?Math.max(r.indexOf(r.find((e=>(0,B.matchRoute)(e,n)))||r.find((e=>e.default))),0):0:"object"==typeof i?r.indexOf(i):i,a(t),null==s||s(t)},cg=e=>{let{action_bar:t,action_bar_classname:n,className:r,current_path:a,extra_content:s,extra_offset:c,has_mixed_dimensions:l,header_classname:g,header_title:d,initial_vertical_tab_index:u,is_collapsible:_,is_floating:I,is_grid:b,is_full_width:C,is_routed:h,is_sidebar_enabled:m=!0,list:A,list_groups:p,onClickClose:y,setVerticalTabIndex:f,tab_headers_note:B,title:v,vertical_tab_index:F}=e;const[Q,x]=i.useState(null!=u?u:F||0),G=(0,i.useMemo)((()=>A[Q]||A[0]),[Q,A]);return i.useEffect((()=>{sg({current_path:a,list:A,is_routed:h,setCurrTabIndex:x,setVerticalTabIndex:f})}),[F,A,f,h,a]),(0,N.jsxs)("div",{className:o()("dc-vertical-tab",{"dc-vertical-tab--floating":I,"dc-vertical-tab--full-screen":C,"dc-vertical-tab--grouped":Array.isArray(p),"dc-vertical-tab--grid":b,[`dc-vertical-tab--${r}`]:r}),children:[!!v&&(0,N.jsx)("div",{className:"dc-vertical-tab__title",children:(0,N.jsxs)("div",{className:"dc-vertical-tab__title-wrapper",children:[(0,N.jsx)("div",{className:"dc-vertical-tab__title-text",children:v}),y&&(0,N.jsx)("div",{className:"dc-vertical-tab__title-close",onClick:y||window.history.back,children:(0,N.jsx)(U.default,{icon:"IcCross"})})]})}),m&&(0,N.jsxs)("div",{className:o()("dc-vertical-tab__tab-meta-wrapper",{"dc-vertical-tab__tab-meta-wrapper--floating":I,[`dc-vertical-tab__tab-meta-wrapper--${r}`]:r}),children:[(0,N.jsx)(ig,{className:g,extra_offset:c,items:A,item_groups:p,onChange:e=>{sg({current_path:a,list:A,selected_index:e,setCurrTabIndex:x,setVerticalTabIndex:f})},selected:G,has_mixed_dimensions:l,is_collapsible:_,is_floating:I,is_routed:h,header_title:d}),I&&B&&(0,N.jsx)("div",{className:"dc-vertical-tab__tab-bottom-note",children:B}),s]}),(0,N.jsx)(Hl,{action_bar:t,action_bar_classname:n,className:r,is_floating:I,items:A,selected:G,is_routed:h})]})};cg.ContentContainer=Hl,cg.Header=ql,cg.HeaderGroup=ng,cg.Headers=ig,cg.HeaderTitle=og,cg.Layout=ag,cg.Wrapper=rg;const lg=cg,gg=e=>{let{children:t=[],className:n}=e;return(0,N.jsx)("div",{className:o()("wizard__main-step",n),children:t})},dg=e=>{let{children:t=[],className:n,initial_step:r=0,onStepChange:a,nav:s=null,selected_step_ref:c}=e;const[l,g]=i.useState(0),d=i.useCallback((()=>i.Children.toArray(t)),[t]);i.useEffect((()=>{const e=d();r>0&&e[r]&&g(r)}),[r,d]);const u=e=>{var t;l===e||(e=>e<0||e>=_())(e)||(g(e),t={active_step:e+1},null==a||a(t))},_=()=>d().length,I=e=>u(e-1),b={getCurrentStep:()=>l+1,getTotalSteps:_,goToNextStep:()=>u(l+1),goToPreviousStep:()=>u(l-1),goToStep:I,goToFirstStep:()=>I(1),goToLastStep:()=>I(_()),selected_step_ref:c},C=i.Children.map(d(),((e,t)=>e&&t===l?(0,N.jsx)(dg.Step,{children:i.isValidElement(e)?i.cloneElement(e,b):e}):null));return(0,N.jsxs)("div",{className:o()("wizard",n),children:[s&&i.isValidElement(s)&&i.cloneElement(s,b),C]})};dg.displayName="Wizard",dg.Step=gg;const ug=dg;var _g=n(570371),Ig=n(768429);const bg=e=>{let{onClick:t,is_ended:n,is_mobile:r}=e;return(0,N.jsx)("div",{className:o()("player__overlay",{"player__overlay--visible":n}),onClick:t,onKeyDown:t,children:(0,N.jsx)(W,{icon:"IcReplay",custom_color:"var(--border-normal-1)",size:r?88:128,className:"player__overlay__icon",data_testid:"dt_player_overlay_icon"})})},Cg=i.memo(bg),hg=e=>{let{onVolumeChange:t,volume:n,is_mobile:r,is_muted:a,toggleMute:s}=e;const[c,l]=i.useState(!0),[g,d]=i.useState(!1),[u,_]=i.useState(0),I=i.useRef(null),b=i.useRef(null),C=i.useRef(null),h=i.useRef(!1),m=e=>{var t,n;const r=b.current;let o=((null!==(t=null==r?void 0:r.getBoundingClientRect().bottom)&&void 0!==t?t:0)-e.clientY-u)/(null!==(n=null==r?void 0:r.getBoundingClientRect().height)&&void 0!==n?n:0)*100;return o>=100&&(o=100),o<=0&&(o=0),o},A=e=>{s(!e)},p=e=>{if(e.preventDefault(),e.stopPropagation(),!h.current)return;if(!I.current)return;const n=m(e);l(!1),I.current.style.setProperty("height",`${n}%`),t(n/100),A(n)},y=e=>{e.preventDefault(),e.stopPropagation(),h.current&&(I.current&&l(!0),h.current=!1,e.target.closest(".player__volume-bar__wrapper")||d(!1))},f=e=>{if(e.preventDefault(),e.stopPropagation(),"keydown"===e.type)return;if("player__volume-dot"===e.target.className)return;if(!I.current)return;l(!1);const n=m(e);I.current.style.setProperty("height",`${n}%`),t(n/100),A(n)};return i.useEffect((()=>(document.addEventListener("mousemove",p),document.addEventListener("mouseup",y),()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",y)})),[]),(0,N.jsxs)("div",{className:"player__volume__wrapper",onMouseOver:r?void 0:()=>d(!0),onMouseLeave:()=>{r||h.current||d(!1)},children:[(0,N.jsx)("button",{className:"player__controls__button",onClick:()=>{var e;a&&(null===(e=I.current)||void 0===e||e.style.setProperty("height",100*(null!=n?n:.5)+"%"));s(!a)},children:(0,N.jsx)(W,{icon:a?"IcSoundOff":"IcSoundOn",custom_color:"var(--text-colored-background)",height:18,width:20})}),(0,N.jsx)(oe.A,{in:g,timeout:100,classNames:{enter:"player__volume-bar__wrapper--enter",enterDone:"player__volume-bar__wrapper--enter-done",exit:"player__volume-bar__wrapper--exit"},unmountOnExit:!0,children:(0,N.jsx)("div",{className:"player__volume-bar__wrapper",children:(0,N.jsx)("div",{className:"player__volume-bar",onClick:f,onKeyDown:f,ref:b,"data-testid":"dt_volume_bar",children:(0,N.jsx)("div",{className:o()("player__volume-bar__filled",{"player__volume-bar__filled--animated":c}),ref:I,style:{height:(a?0:100*(null!=n?n:.5))+"%"},"data-testid":"dt_volume_bar_filled",children:(0,N.jsx)("span",{className:"player__volume-dot",onMouseDown:e=>{var t;e.preventDefault(),e.stopPropagation();const n=C.current;_((null!==(t=null==n?void 0:n.getBoundingClientRect().bottom)&&void 0!==t?t:0)-e.clientY),h.current=!0},ref:C,"data-testid":"dt_volume_dot"})})})})})]})},mg=i.memo(hg),Ag=e=>{let{onPlaybackRateChange:t,is_mobile:n,playback_rate:r}=e;const o=[{text:"0.25x",value:"0.25"},{text:"0.5x",value:"0.5"},{text:"0.75x",value:"0.75"},{text:(0,Ie.localize)("Normal"),value:"1"},{text:"1.5x",value:"1.5"},{text:"2.0x",value:"2"}];return(0,N.jsxs)("button",{className:"player__controls__button player__playback-rate__wrapper",children:[(0,N.jsx)(W,{icon:"IcPlaybackRate",custom_color:"var(--text-colored-background)",size:20,className:"playback-rate__icon"}),(0,N.jsx)($i,{classNameDisplay:"dc-dropdown__display--playback-rate",classNameItems:"dc-dropdown__display--playback-rate__item",id:"playback_rate",is_alignment_top:!0,list:o,name:"playback_rate",no_border:!0,onChange:e=>{t(Number(e.target.value))},value:`${r}`,should_open_on_hover:!n,should_scroll_to_selected:!0,should_autohide:!1})]})},pg=i.memo(Ag),yg=e=>{let{block_controls:t,current_time:n,dragStartHandler:r,has_enlarged_dot:a,is_animated:s,is_ended:c,is_playing:l,is_mobile:g,is_muted:d,increased_drag_area:u,onRewind:_,onVolumeChange:I,onPlaybackRateChange:b,progress_bar_filled_ref:C,progress_bar_ref:h,progress_dot_ref:m,playback_rate:A,show_controls:p,togglePlay:y,toggleMute:f,video_duration:v,volume:F}=e;const[Q,x]=i.useState(!1);return(0,N.jsxs)("div",{className:o()("player__controls__wrapper",{"player__controls__wrapper--visible":p,"player__controls__wrapper--interactive":p}),children:[(0,N.jsx)("div",{className:"player__controls__progress-bar",onClick:_,onKeyDown:_,onMouseOver:()=>x(!0),onFocus:()=>null,onMouseLeave:()=>x(!1),ref:h,"data-testid":"dt_progress_bar",children:(0,N.jsx)("div",{className:o()("player__controls__progress-bar__filled",{"player__controls__progress-bar__filled--animated":s,"player__controls__progress-bar__filled--ended":c}),ref:C,"data-testid":"dt_progress_bar_filled",children:(g||Q)&&(0,N.jsx)("span",{className:o()("player__progress-dot",{"player__progress-dot--enlarged":a,"player__progress-dot--increased-drag-area":u}),onMouseDown:r,onTouchStart:r,ref:m,"data-testid":"dt_progress_bar_dot"})})}),(0,N.jsxs)("div",{className:o()("player__controls__bottom-bar",{"player__controls__bottom-bar--blocked":t}),children:[(0,N.jsxs)("div",{className:"player__controls__bottom-bar controls__left",children:[(0,N.jsx)("button",{onClick:y,className:"player__controls__button",children:(0,N.jsx)(W,{icon:l?"IcPause":"IcPlay",custom_color:"var(--text-colored-background)",height:18,width:15})}),(0,N.jsx)("div",{className:"player__controls__time-wrapper",children:(0,N.jsxs)(M,{size:"xxxs",line_height:"s",color:"colored-background",children:[(0,B.formatDurationTime)(n)," / ",(0,B.formatDurationTime)(v)]})})]}),(0,N.jsxs)("div",{className:"player__controls__bottom-bar controls__right",children:[(0,N.jsx)(mg,{onVolumeChange:I,volume:F,is_mobile:g,is_muted:d,toggleMute:f}),(0,N.jsx)(pg,{onPlaybackRateChange:b,is_mobile:g,playback_rate:A})]})]})]})},fg=El()(((e,t)=>t(e)),50),Bg=e=>{var t;let{className:n,data_testid:r,height:a,is_mobile:s,increased_drag_area:c,muted:l=!1,src:d}=e;const u=(0,Ig.A)(),_=null===(t=!(0,B.isSafariBrowser)()||s&&"iOS"!==(0,B.mobileOSDetect)()&&"unknown"!==(0,B.mobileOSDetect)())||void 0===t||t,[I,b]=i.useState(),[C,h]=i.useState(!1),[m,A]=i.useState(!0),[p,y]=i.useState(!1),[f,v]=i.useState(l),[F,Q]=i.useState(1),[x,G]=i.useState(!_),[U,W]=i.useState(0),[O,E]=i.useState(),[Z,X]=i.useState(.5),w=i.useRef(),R=i.useRef(null),T=i.useRef(null),V=i.useRef(null),j=i.useRef(0),k=i.useRef(0),S=i.useRef(!1),Y=i.useRef(),P=i.useRef(),D=i.useRef(!1),J=i.useRef(!1),L=e=>{var t,n;const r=100,o=T.current;let i=(("mousemove"===e.type||"click"===e.type?e.clientX:e.changedTouches[0].clientX)-U-(null!==(t=null==o?void 0:o.getBoundingClientRect().left)&&void 0!==t?t:0))/(null!==(n=null==o?void 0:o.getBoundingClientRect().width)&&void 0!==n?n:0)*r;return u&&(i=r-i),i>=r&&(i=r),i<=0&&(i=0),parseFloat(i.toFixed(3))},M=e=>{if("mousemove"===e.type&&e.preventDefault(),e.stopPropagation(),!D.current)return;if(!w.current||!R.current)return;cancelAnimationFrame(j.current),H.cancel();const t=L(e);R.current.style.setProperty("width",`${t}%`);const n=Math.round(Number(w.current.duration)*t/100),r=n>=w.current.duration?w.current.duration:n;w.current.currentTime=r,k.current=r,b(r)},z=e=>{"mouseup"===e.type&&e.preventDefault(),e.stopPropagation(),D.current&&w.current&&R.current&&(cancelAnimationFrame(j.current),H.cancel(),D.current=!1,S.current=!0,H(),s&&h(!1))},H=(0,g._6)((()=>{var e,t;if(!w.current)return;const n=Math.round(k.current)===Math.round(null===(e=w.current)||void 0===e?void 0:e.duration);null!==(t=w.current)&&void 0!==t&&t.ended&&n||(cancelAnimationFrame(j.current),A(!0),w.current.currentTime=k.current,j.current=requestAnimationFrame(K),w.current.play().catch((()=>null)),J.current=!1)}),500),K=()=>{if(!w.current||!R.current)return;if(S.current&&k.current!==w.current.currentTime)return cancelAnimationFrame(j.current),void(j.current=requestAnimationFrame(K));S.current&&(S.current=!1),b(w.current.currentTime);const e=parseFloat((w.current.currentTime/Number(w.current.duration)*100).toFixed(3));R.current.style.setProperty("width",`${e>=99?100:e}%`),j.current=requestAnimationFrame(K)},$=i.useCallback((e=>{e.stopPropagation(),w.current&&R.current&&(cancelAnimationFrame(j.current),H.cancel(),clearTimeout(Y.current),clearTimeout(P.current),A(!1),J.current=!1,p?(w.current.pause(),y(!1)):(Y.current=setTimeout((()=>{var e;j.current=requestAnimationFrame(K),null==w||null===(e=w.current)||void 0===e||e.play().catch((()=>null))}),500),P.current=setTimeout((()=>{A(!0)}),1e3)))}),[p]);return i.useEffect((()=>{const e=e=>fg(e,M);return s?(document.addEventListener("touchmove",e),document.addEventListener("touchend",z),document.addEventListener("touchcancel",z)):(document.addEventListener("mousemove",e),document.addEventListener("mouseup",z)),()=>{s?(document.removeEventListener("touchmove",e),document.removeEventListener("touchend",z),document.removeEventListener("touchcancel",z)):(document.removeEventListener("mousemove",e),document.removeEventListener("mouseup",z)),cancelAnimationFrame(j.current),clearTimeout(Y.current),clearTimeout(P.current)}}),[]),(0,N.jsxs)("div",{className:o()(n,"player__wrapper"),onMouseOver:s?void 0:()=>G(!0),onMouseLeave:s?void 0:()=>G(!1),"data-testid":r,children:[(0,N.jsx)(_g.Z,{autoplay:_&&!D.current,height:null!=a?a:s?"184.5px":"270px",letterboxColor:"transparent",muted:f,preload:"auto",responsive:!1,src:d,streamRef:w,width:"100%",onEnded:()=>{var e;J.current=!0,null==R||null===(e=R.current)||void 0===e||e.style.setProperty("width","100%"),b(O),y(!1),A(!1),cancelAnimationFrame(j.current),S.current=!1},onPlay:()=>y(!0),onLoadedMetaData:()=>{w.current&&R.current&&(E(w.current.duration),y(_),_&&(j.current=requestAnimationFrame(K)))},onSeeked:()=>S.current=!0,onSeeking:()=>S.current=!0,playbackRate:F,volume:Z}),(0,N.jsx)(Cg,{onClick:s&&!J.current?()=>G(!x):$,is_ended:J.current,is_mobile:s}),(0,N.jsx)(yg,{block_controls:D.current,current_time:I,dragStartHandler:e=>{var t,n;"mousedown"===e.type&&e.preventDefault(),e.stopPropagation(),null==w||null===(t=w.current)||void 0===t||t.pause(),cancelAnimationFrame(j.current),H.cancel(),y(!1),A(!1),D.current=!0;const r=V.current,o="mousedown"===e.type?e.clientX:e.changedTouches[0].clientX;W(o-(null!==(n=null==r?void 0:r.getBoundingClientRect().left)&&void 0!==n?n:0)),s&&h(!0)},has_enlarged_dot:C,is_animated:m,is_ended:J.current,is_playing:p,is_mobile:s,is_muted:f,increased_drag_area:c,onRewind:e=>{if(e.preventDefault(),e.stopPropagation(),D.current)return;if("keydown"===e.type)return;if("player__progress-dot"===e.target.className)return;if(!w.current||!R.current)return;cancelAnimationFrame(j.current),H.cancel(),A(!1),w.current.pause();const t=L(e);R.current.style.setProperty("width",`${t}%`);const n=Math.round(Number(w.current.duration)*t/100),r=n>=w.current.duration?w.current.duration:n;w.current.currentTime=r,k.current=r,b(r),S.current=!0,H()},onVolumeChange:X,onPlaybackRateChange:Q,show_controls:x,togglePlay:$,toggleMute:v,video_duration:O,volume:Z,progress_bar_filled_ref:R,progress_bar_ref:T,progress_dot_ref:V,playback_rate:F})]})},vg=i.memo(Bg),Fg={square:{xsmall:12,small:16,medium:24,large:32,xlarge:48,xxlarge:64},box:{xsmall:{width:20,height:12},small:{width:32,height:20},medium:{width:48,height:30},large:{width:64,height:40},xlarge:{width:96,height:60},xxlarge:{width:120,height:80}}},Qg=e=>{let{gradient_class:t,icon:n,size:r="medium",type:i,has_bg:a,hide_watermark:s}=e;return n?(0,N.jsxs)("div",{className:o()("wallet-icon",{[`wallet-icon--${r} wallet-icon__default-bg ${t}`]:!!t&&"app"!==i||a,"wallet-card--hide-watermark":s}),"data-testid":"dt_wallet_icon",children:[("fiat"===i||"app"===i)&&(0,N.jsx)(W,{icon:n,size:Fg.square[r]}),("demo"===i||"crypto"===i)&&(0,N.jsx)(W,{icon:n,width:Fg.box[r].width,height:Fg.box[r].height})]}):null},xg=e=>{let{size:t,icon_type:n,icon:r}=e,o="large";return"small"===t&&(o="medium"),"medium"===t&&(o=(0,B.isMobile)()&&"crypto"===n?"medium":"large"),(0,N.jsx)(Qg,{type:n,icon:r,size:o})},Gg=e=>{let{wallet:t,size:n="medium",state:r="default"}=e;return(0,N.jsxs)("div",{className:`wallet-card wallet-card--${n} wallet-card--${r}`,children:[(0,N.jsxs)("div",{className:`wallet-card__container wallet-card__container--${r} wallet-card__container--${n} ${t.gradient_class}`,children:["small"!==n&&(0,N.jsx)("div",{className:"wallet-card__shine"}),(0,N.jsx)("div",{className:o()("wallet-card__container-fade",{[`wallet-card__container-fade--${r}`]:r})}),"small"===n&&(0,N.jsx)(xg,{size:n,icon_type:t.icon_type,icon:t.icon}),"small"!==n&&(0,N.jsxs)("div",{className:`wallet-card__content wallet-card__content--${n}`,children:[(0,N.jsxs)("div",{className:"wallet-card__top-wrapper",children:[(0,N.jsx)(xg,{size:n,icon_type:t.icon_type,icon:t.icon}),"virtual"===t.jurisdiction_title?(0,N.jsx)(at,{label:(0,Ie.localize)("Demo"),type:"contained",background_color:"blue"}):(0,N.jsx)(at,{custom_color:"var(--text-prominent)",label:t.jurisdiction_title.toUpperCase(),type:"bordered"})]}),(0,N.jsx)("div",{className:"wallet-card__bottom-wrapper",children:"add"!==r&&"added"!==r?(0,N.jsxs)(i.Fragment,{children:[(0,N.jsx)(M,{color:"prominent",size:(0,B.isMobile)()?"xxxxs":"xxxs",children:t.name}),(0,N.jsxs)(M,{color:"prominent",weight:"bold",size:(0,B.isMobile)()?"xxs":"xs",children:[t.balance," ",t.currency]})]}):(0,N.jsx)(qe,{className:`wallet-card__wallet-button wallet-card__wallet-button--${r}`,classNameSpan:"wallet-card__wallet-button-text",icon:(0,N.jsx)(W,{className:"wallet-card__wallet-button-icon",custom_color:"$color-black-1",icon:"added"===r?"IcCheckmarkBold":"IcAddBold",size:12}),text:"added"===r?(0,Ie.localize)("Added"):(0,Ie.localize)("Add"),is_disabled:"added"===r})})]})]}),"active"===r&&(0,N.jsx)("div",{className:`wallet-card__active-icon wallet-card__active-icon--${n}`,children:(0,N.jsx)(W,{color:"brand",data_testid:"dt_ic_checkmark_circle",icon:"IcCheckmarkCircle",size:"small"===n?16:32})})]})},Ug={top:{small:"small",medium:"medium",large:"xlarge"},bottom:{small:"xsmall",medium:"small",large:"large"}},Wg=e=>{let{app_icon:t,gradient_class:n,hide_watermark:r,size:o="medium",type:i,wallet_icon:a}=e;return t&&a&&n?(0,N.jsxs)("div",{className:`app-icon app-icon--${o}`,children:[(0,N.jsx)("div",{className:"app-icon__top-icon",children:(0,N.jsx)(Qg,{icon:t,size:Ug.top[o],type:"app"})}),(0,N.jsx)("div",{className:"app-icon__bottom-icon",children:(0,N.jsx)(Qg,{icon:a,gradient_class:n,type:i,size:Ug.bottom[o],has_bg:!0,hide_watermark:r})})]}):null}},445315:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var r=n(597598),o=n.n(r),i=n(286326),a=n(291218),s=n(57886),c=n(189137),l=n(33118),g=n(836870);const d=e=>{let{header:t,message:n,redirect_label:r,redirectOnClick:o=null,should_clear_error_on_click:d,setError:u,redirect_to:_=c.routes.trade,should_show_refresh:I=!0,should_redirect:b=!0}=e;const C=(0,a.useHistory)();i.useEffect((()=>{if(C)return C.listen((()=>{"function"==typeof u&&u(!1,null)}))}),[C,u]);const h=I?(0,l.localize)("Please refresh this page to continue."):"";return(0,g.jsx)(s.PageErrorContainer,{error_header:null!=t?t:"",error_messages:n?[n,h]:[],redirect_urls:[_],redirect_labels:!1===r&&[]||[r||(0,l.localize)("Refresh")],buttonOnClick:o||(()=>location.reload()),should_clear_error_on_click:d,setError:u,should_redirect:b})};d.propTypes={header:o().string,message:o().oneOfType([o().node,o().string,o().object]),redirectOnClick:o().func||o().object,redirect_label:o().string,setError:o().func,should_clear_error_on_click:o().bool,should_redirect:o().bool,redirect_to:o().string,should_show_refresh:o().bool};const u=d},597351:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(57886),o=n(43180),i=n(974777),a=n(413852),s=n(679955),c=n(33118),l=n(712949),g=n(919796),d=n(836870);const u=(0,s.observer)((e=>{let{showPopover:t}=e;const{isDesktop:n}=(0,g.Y)(),{is_livechat_available:s}=(0,o.A)(),u=(0,i.F)(),_=(0,a.GZ)();if(!s&&!u&&!_)return null;setInterval((()=>{var e;(u||_)&&(null===(e=window.LiveChatWidget)||void 0===e||e.call("destroy"))}),10);const I=()=>{l.Chat.open()};return n?(0,d.jsx)("div",{onKeyDown:I,onClick:I,children:t?(0,d.jsx)(r.Popover,{className:"footer__link",classNameBubble:"help-centre__tooltip",alignment:"top",message:(0,d.jsx)(c.Localize,{i18n_default_text:"Live chat"}),zIndex:"9999",children:(0,d.jsx)(r.Icon,{icon:"IcLiveChat",className:"footer__icon gtm-deriv-livechat"})}):(0,d.jsx)("div",{className:"footer__link",children:(0,d.jsx)(r.Icon,{icon:"IcLiveChat",className:"footer__icon gtm-deriv-livechat"})})}):(0,d.jsxs)("div",{className:"livechat gtm-deriv-livechat",onKeyDown:I,onClick:I,children:[(0,d.jsx)("div",{className:"livechat__icon-wrapper",children:(0,d.jsx)(r.Icon,{icon:"IcLiveChat",className:"livechat__icon"})}),(0,d.jsx)(r.Text,{size:"xs",children:(0,d.jsx)(c.Localize,{i18n_default_text:"Live chat"})})]})}))},925152:(e,t,n)=>{"use strict";n.d(t,{Hq:()=>c,JE:()=>l,MW:()=>a,Oj:()=>i,ab:()=>r,gK:()=>s,vK:()=>o});const r=3e3,o=3,i=1,a={danger:"IcAlertDanger",info:"IcAlertInfo",success:"IcAlertSuccess",warning:"IcAlertWarning",contract_sold:"IcAlertInfo",announce:"IcAlertAnnounce"},s={announce:"notification--announce",danger:"notification--danger",info:"notification--info",success:"notification--success",warning:"notification--warning",contract_sold:"notification--info"},c=(()=>{const e={promotions:1,news:2,contract_sold:3,danger:4,warning:5,info:6,success:7};return(t,n)=>e[t.type]-e[n.type]})(),l=(()=>{const e={contract_sold:1,promotions:2,danger:3,news:4,warning:5,info:6,success:7};return(t,n)=>e[t.type]-e[n.type]})()},206022:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(286326),o=n(57886),i=n(43180),a=n(413852),s=n(33118),c=n(919796),l=n(294035),g=n(836870);const d=e=>{let{showPopover:t,onClick:n}=e;const{isDesktop:d}=(0,c.Y)(),{is_livechat_available:u}=(0,i.A)(),_=(0,a.GZ)();return u||_?d?(0,g.jsx)("a",{href:l.Zh.whatsApp,"aria-label":(0,s.localize)("WhatsApp"),className:"footer__link",target:"_blank",rel:"noreferrer",children:t?(0,g.jsx)(o.Popover,{classNameBubble:"whatsapp__tooltip",alignment:"top",message:(0,s.localize)("WhatsApp"),zIndex:"9999",children:(0,g.jsx)(o.Icon,{icon:"IcWhatsApp",className:"footer__icon"})}):(0,g.jsx)(o.Icon,{icon:"IcWhatsApp",className:"footer__icon"})}):(0,g.jsxs)(r.Fragment,{children:[(0,g.jsx)(o.Icon,{icon:"IcWhatsApp",className:"drawer-icon"}),(0,g.jsx)("a",{className:"header__menu-mobile-whatsapp-link",href:l.Zh.whatsApp,target:"_blank",rel:"noopener noreferrer",onClick:n,children:(0,s.localize)("WhatsApp")})]}):null}},211509:(e,t,n)=>{"use strict";n.d(t,{qI:()=>x,Ij:()=>h,nX:()=>v,Hg:()=>U,WO:()=>F,An:()=>m,aZ:()=>B,AL:()=>p,Ay:()=>W});var r=n(255530),o=n.n(r),i=n(597598),a=n.n(i),s=n(286326),c=n(57886),l=n(33118),g=n(679955),d=n(414646),u=n(836870);const _=(0,g.observer)((e=>{let{is_mobile:t}=e;const{common:n}=(0,d.A)(),{network_status:r}=n,i=(0,u.jsx)("div",{"data-testid":"dt_network_status_element",className:o()("network-status__circle",{"network-status__circle--offline":"offline"===r.class,"network-status__circle--online":"online"===r.class,"network-status__circle--blinker":"blinker"===r.class})});return(0,u.jsx)("div",{"data-testid":"dt_network_status",className:o()("network-status__wrapper",{"network-status__wrapper--is-mobile":t}),children:t?i:(0,u.jsx)(c.Popover,{classNameBubble:"network-status__tooltip",alignment:"top",message:(0,l.localize)("Network status: {{status}}",{status:r.tooltip||(0,l.localize)("Connecting to server")}),children:i})})}));_.propTypes={is_mobile:a().bool};const I=_;var b=n(189137),C=n(852691);const h=()=>{const e=localStorage.getItem("config.server_url");return e?(0,u.jsxs)("span",{style:{fontSize:"var(--text-size-xs)",color:"var(--brand-red-coral)"},children:["The server"," ",(0,u.jsx)(C.Sm,{className:"account-settings-toggle",to:b.routes.endpoint,children:"endpoint"})," ","is: ",e]}):null},m=e=>{let{showPopover:t}=e;const[n,r]=s.useState(!1),i={event:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],element:["fullscreenElement","webkitFullscreenElement","mozFullScreenElement","msFullscreenElement"],fnc_enter:["requestFullscreen","webkitRequestFullscreen","mozRequestFullScreen","msRequestFullscreen"],fnc_exit:["exitFullscreen","webkitExitFullscreen","mozCancelFullScreen","msExitFullscreen"]},a=s.useCallback((()=>{r(i.element.some((e=>document[e])))}),[i.element]);s.useEffect((()=>{i.event.forEach((e=>{document.addEventListener(e,a,!1)}))}),[i.event,a]);const g=o()("ic-fullscreen","footer__link",{"ic-fullscreen--active":n}),d=n?(0,u.jsx)(c.Icon,{icon:"IcFullScreenRestore",className:"footer__icon"}):(0,u.jsx)(c.Icon,{data_testid:"dt_icon",icon:"IcFullScreen",className:"footer__icon"});return(0,u.jsx)("a",{"data-testid":"dt_fullscreen_toggle",className:`${g} footer__link`,onClick:e=>{e.stopPropagation();const t=n,o=t?document:document.documentElement,a=i[t?"fnc_exit":"fnc_enter"].find((e=>o[e]));a?o[a]():r(!1)},id:"dt_fullscreen_toggle",children:t?(0,u.jsx)(c.Popover,{alignment:"top",message:n?(0,l.localize)("Exit"):(0,l.localize)("Full screen"),zIndex:9999,children:d}):d})};m.propTypes={showPopover:a().bool};const A=e=>{let{settings_extension:t}=e;const n=[];return n.push(...t||[]),(0,u.jsx)(c.VerticalTab,{list:n})},p=e=>{let{enableApp:t,is_settings_visible:n,disableApp:r,toggleSettings:i,settings_extension:a,showPopover:g}=e;const d=o()("ic-settings","footer__link",{"ic-settings--active":n});return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("a",{id:"dt_settings_toggle","data-testid":"dt_toggle_settings",onClick:i,className:`${d} footer__link`,children:g?(0,u.jsx)(c.Popover,{alignment:"top",message:(0,l.localize)("Platform settings"),zIndex:9999,children:(0,u.jsx)(c.Icon,{icon:"IcGear",data_testid:"dt_icon",className:"footer__icon ic-settings__icon"})}):(0,u.jsx)(c.Icon,{icon:"IcGear",data_testid:"dt_icon",className:"footer__icon ic-settings__icon"})}),(0,u.jsx)(c.Modal,{id:"dt_settings_modal",className:"modal-settings",enableApp:t,is_open:n,disableApp:r,title:(0,l.localize)("Platform settings"),toggleModal:i,height:"616px",width:"736px",children:(0,u.jsx)(A,{settings_extension:a})})]})};p.propTypes={disableApp:a().func,enableApp:a().func,is_settings_visible:a().bool,settings_extension:a().array,toggleSettings:a().func,showPopover:a().bool};var y=n(596176);const f=(0,g.observer)((()=>{const{ui:e}=(0,d.A)(),{toggleLanguageSettingsModal:t}=e,{currentLang:n}=(0,y.useTranslations)(),r=Object.keys((0,y.getAllowedLanguages)(b.UNSUPPORTED_LANGUAGES));return(0,u.jsx)("div",{className:"settings-language",children:(0,u.jsx)("div",{className:"settings-language__language-container",children:r.map((e=>((e,t)=>e===t)(e,n)?(0,u.jsx)(C.H6,{lang:e},e):(0,u.jsx)(C.H6,{is_clickable:!0,lang:e,toggleModal:t},e)))})})})),B=(0,g.observer)((e=>{let{showPopover:t}=e;const{common:n,ui:r}=(0,d.A)(),{currentLang:i}=(0,y.useTranslations)(),{is_language_settings_modal_on:a,toggleLanguageSettingsModal:g}=r,{is_language_changing:_}=n,I=o()("ic-language","footer__link",{"ic-settings--active":a,"ic-settings--disabled":_}),C=(0,u.jsxs)(s.Fragment,{children:[b.TranslationFlag[i]?b.TranslationFlag[i](18,12):(0,u.jsx)(c.Icon,{icon:`IcFlag${i}`,data_testid:"dt_icon",size:18}),(0,u.jsx)(c.Text,{weight:"bold",size:"xxs",className:"ic-settings-language__text",children:(0,u.jsx)(l.Localize,{i18n_default_text:i})})]});return(0,u.jsxs)(s.Fragment,{children:[(0,u.jsx)("a",{id:"dt_language_settings_toggle","data-testid":"dt_toggle_language_settings",onClick:g,className:I,children:t?(0,u.jsx)(c.Popover,{alignment:"top",message:(0,l.localize)("Language"),zIndex:"9999",children:C}):C}),(0,u.jsx)(c.Modal,{id:"dt_settings_modal",is_open:a,title:(0,l.localize)("Select language"),toggleModal:g,width:"616px",should_header_stick_body:!1,children:(0,u.jsx)(f,{})})]})})),v=e=>{let{showPopover:t}=e;return(0,u.jsx)(c.StaticUrl,{href:"/help-centre/",id:"dt_help_centre","aria-label":(0,l.localize)("Help centre"),className:"footer__link",children:t?(0,u.jsx)(c.Popover,{classNameBubble:"help-centre__tooltip",alignment:"top",message:(0,l.localize)("Help centre"),zIndex:9999,children:(0,u.jsx)(c.Icon,{icon:"IcHelpCentre",className:"footer__icon"})}):(0,u.jsx)(c.Icon,{icon:"IcHelpCentre",className:"footer__icon"})})},F=e=>{let{showPopover:t}=e;return(0,u.jsx)(c.StaticUrl,{href:"/responsible",className:"footer__link",children:t?(0,u.jsx)(c.Popover,{alignment:"top",message:(0,l.localize)("Responsible trading"),zIndex:9999,children:(0,u.jsx)(c.Icon,{icon:"IcVerification",className:"footer__icon ic-deriv__icon"})}):(0,u.jsx)(c.Icon,{icon:"IcVerification",className:"footer__icon ic-deriv__icon"})})};var Q=n(822833);const x=e=>{let{showPopover:t}=e;return(0,u.jsx)(Q.Link,{to:b.routes.account_limits,className:"footer__link",children:t?(0,u.jsx)(c.Popover,{alignment:"top",message:(0,l.localize)("Account limits"),zIndex:9999,children:(0,u.jsx)(c.Icon,{icon:"IcAccountLimits",className:"footer__icon ic-deriv__icon"})}):(0,u.jsx)(c.Icon,{icon:"IcAccountLimits",className:"footer__icon ic-deriv__icon"})})},G=()=>(0,u.jsx)("div",{className:"footer-regulatory-information",children:(0,u.jsx)("p",{children:(0,u.jsx)(l.Localize,{i18n_default_text:"Financial products in the EU are offered by {{legal_entity_name}}, licensed as a Category 3 Investment Services provider by the Malta Financial Services Authority (<0>Licence no. IS/70156</0>).",components:[(0,u.jsx)("a",{href:`https://${b.deriv_urls.DERIV_HOST_NAME}/regulatory/Deriv_Investments_(Europe)_Limited.pdf`,target:"_blank",rel:"nofollow noreferrer",className:"footer-regulatory-information__link"},0)],values:{legal_entity_name:(0,b.getLegalEntityName)("maltainvest")}})})}),U=e=>{let{landing_company:t,is_eu:n,show_eu_related_content:r,showPopover:o}=e;const[i,a]=s.useState(!1);if(!n||n&&!r)return null;const g="maltainvest"===t,d=(0,u.jsx)("a",{onClick:()=>a(!0),children:(0,u.jsx)(c.Icon,{icon:"IcRegulatoryInformation",className:"footer__icon ic-deriv__icon"})});return(0,u.jsxs)("div",{className:"footer__link",children:[o?(0,u.jsx)(c.Popover,{alignment:"top",message:(0,l.localize)("Regulatory Information"),zIndex:9999,children:d}):d,(0,u.jsx)(c.Modal,{is_open:i,small:!0,has_close_icon:!0,toggleModal:()=>a(!1),title:(0,l.localize)("Regulatory Information"),children:(g||r)&&(0,u.jsx)(G,{})})]})},W=I},852691:(e,t,n)=>{"use strict";n.d(t,{Sm:()=>m,H6:()=>p,Ay:()=>O});var r=n(255530),o=n.n(r),i=n(286326),a=n(822833),s=n(291218),c=n(189137);const l=(e,t)=>{let n;return null==t||t.some((t=>{let r;try{r=(0,s.matchPath)(e,t)}catch(e){if(/undefined/.test(e.message))return}return r?(n=t,!0):!!t.routes&&(n=l(e,t.routes),n)})),n};var g=n(668563),d=n(679955),u=n(414646),_=n(836870);const I=["active_class","to","children","href"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=(0,d.observer)((e=>{let{active_class:t,to:n,children:r,href:i}=e,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,I);const{common:c}=(0,u.A)(),{has_error:d,error:b}=c,h=b.setError,m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return/^\//.test(e)?e:`/${e||""}`}(n),A=l(m,(0,g.A)());if(!A&&n)throw new Error(`Route not found: ${n}`);return n&&!i?(0,_.jsx)("span",{"data-testid":"dt_span",className:o()({[`${t}__link-wrapper`]:!!t}),onClick:()=>{d&&(null==h||h(!1,null))},children:(0,_.jsx)(a.NavLink,C(C({to:m,activeClassName:t||"active",exact:null==A?void 0:A.exact},s),{},{children:r}))}):(0,_.jsx)("a",C(C({"data-testid":"dt_link"},s),{},{children:r}))}));var A=n(596176);const p=(0,d.observer)((e=>{let{is_clickable:t=!1,lang:n,toggleModal:r}=e;const{common:a}=(0,u.A)(),{currentLang:s,switchLanguage:l}=(0,A.useTranslations)(),{changeSelectedLanguage:g}=a,d=s===n,I=(0,_.jsxs)(i.Fragment,{children:[c.TranslationFlag[n](36,24),(0,_.jsx)("span",{className:o()("settings-language__language-name",{"settings-language__language-name--active":d}),children:(0,A.getAllowedLanguages)(c.UNSUPPORTED_LANGUAGES)[n]})]});return(0,_.jsx)(i.Fragment,{children:t?(0,_.jsx)("span",{"data-testid":"dt_settings_language_button",id:`dt_settings_${n}_button`,onClick:async()=>{await(async e=>{await g(e),l(e),null==r||r()})(n)},className:o()("settings-language__language-link",{"settings-language__language-link--active":d}),children:I},n):(0,_.jsx)("div",{id:`dt_settings_${n}_button`,className:o()("settings-language__language-link",{"settings-language__language-link--active":d}),children:I})})}));var y=n(33118),f=n(339069);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){F(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function F(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Q=(0,d.observer)((e=>{const{common:t}=(0,u.A)(),{checkAppId:n}=t;return(0,_.jsx)(s.Route,{exact:e.exact,path:e.path,render:t=>{var r;let o=null;const a=(0,c.removeBranchName)(location.pathname).replace(/\/$/,""),l=(t=>{if(t.startsWith("/cashier")&&!t.includes("p2p")&&e.routes)return e.path===t||!(null==e||!e.routes.find((e=>{let{path:n}=e;return t===n})));if(t.includes("p2p")&&e.routes){const n=null==e?void 0:e.routes.find((e=>{let{path:t}=e;return"/cashier/p2p"===t})),r="/cashier/p2p"===t?c.routes.p2p_buy_sell:null==n?void 0:n.routes.find((e=>{let{path:n}=e;return t===n}));return e.path===t||!!r}return!0})(a);if(l&&n(),e.component===s.Redirect){let n=e.to;if(e.path===c.routes.index){const{location:r}=t;n=r.pathname.toLowerCase().replace(e.path,"")}o=(0,_.jsx)(s.Redirect,{to:n})}else if(l&&e.is_authenticated&&!e.is_logged_in&&!e.is_logging_in)"true"===window.localStorage.getItem("is_redirecting")?(window.localStorage.removeItem("is_redirecting"),(0,c.redirectToLogin)(e.is_logged_in,(0,y.getLanguage)(),!0,3e3)):(0,c.redirectToLogin)(e.is_logged_in,(0,y.getLanguage)());else{const n=e.routes?e.routes.find((e=>e.default)):{},r=!(0,c.isEmptyObject)(n);o=(0,_.jsxs)(i.Fragment,{children:[r&&a===e.path&&(0,_.jsx)(s.Redirect,{to:n.path}),l?(0,_.jsx)(e.component,v(v({},t),{},{routes:e.routes,passthrough:e.passthrough})):(0,_.jsx)(f.default,{})]})}const g=(null===(r=e.getTitle)||void 0===r?void 0:r.call(e))||"";return document.title=`${g} | ${c.default_title}`,o}})}));var x=n(57886),G=n(383993);function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const O=(0,d.observer)((e=>{const{ui:t,gtm:n}=(0,u.A)(),{promptFn:r,prompt_when:o}=t,{pushDataLayer:a}=n,l=(0,s.useLocation)(),{dtrader_v2_enabled_mobile:d,dtrader_v2_enabled_desktop:I}=(0,G.A)();i.useEffect((()=>{a({event:"page_load"})}),[l]);return(0,_.jsxs)(i.Suspense,{fallback:d||I?(0,_.jsx)(x.Loading.DTraderV2,{initial_app_loading:!0,is_contract_details:l.pathname.startsWith("/contract/"),is_positions:l.pathname===c.routes.trader_positions,is_closed_tab:1===(0,c.getPositionsV2TabIndexFromURL)()}):(0,_.jsx)(x.Loading,{}),children:[(0,_.jsx)(s.Prompt,{when:o,message:r}),(0,_.jsx)(s.Switch,{children:(0,g.A)().map(((t,n)=>(0,_.jsx)(Q,W(W({},t),e),n)))})]})}))},668563:(e,t,n)=>{"use strict";n.d(t,{A:()=>ne});var r=n(286326),o=n(291218),i=n(57886),a=n(189137),s=n(33118),c=n(597598),l=n.n(c),g=n(679955),d=n(414646),u=n(391289),_=n(281476),I=n(192299),b=n.n(I),C=n(712949);const h=(0,g.observer)((()=>{const e=(0,o.useHistory)(),{client:t,ui:n}=(0,d.A)(),{currency:i,has_wallet:c,is_logged_in:l,is_logging_in:g,setNewEmail:I,setVerificationCode:h,verification_code:m}=t,{openRealAccountSignup:A,setResetTradingPasswordModalOpen:p,setRedirectFromEmail:y,toggleAccountSignupModal:f,toggleResetPasswordModal:B,toggleResetEmailModal:v,toggleUpdateEmailModal:F,is_mobile:Q}=n,x=window.location.search,G=new URLSearchParams(x);let U=!1;const W=b().get("client.accounts"),N=b().get("active_loginid"),O=b().get("active_wallet_loginid");if(W&&N){localStorage.setItem("client.accounts",W),localStorage.setItem("active_loginid",N),localStorage.setItem("active_wallet_loginid",O);const e=(0,a.getDomainName)();b().remove("client.accounts",{domain:e,secure:!0}),b().remove("active_loginid",{domain:e,secure:!0}),b().remove("active_wallet_loginid",{domain:e,secure:!0}),"redirect"===G.get("action")&&(window.location.href=window.location.origin+G.get("redirect_to")),window.location.reload()}const E=G.get("action"),Z=G.get("code")||m[E],X=G.get("ext_platform_url"),w=t=>{e.push(`${a.routes.traders_hub}?ext_platform_url=${t}`),U=!0};switch(h(Z,E),I(G.get("email"),E),E){case"signup":_.Analytics.trackEvent("ce_virtual_signup_form",{action:"email_confirmed",form_name:Q?"virtual_signup_web_mobile_default":"virtual_signup_web_desktop_default",email:G.get("email")}),null!=G&&G.get("utm_content")&&a.SessionStore.set("show_book",null==G?void 0:G.get("utm_content")),a.SessionStore.set("signup_query_param",x),e.push({pathname:a.routes.onboarding,search:x}),a.SessionStore.remove("redirect_url"),U=!0,f(!0);break;case"reset_password":case"social_email_change":B(!0);break;case"request_email":if(g||l){if(!m[E]){h(sessionStorage.getItem("request_email_code"),E),sessionStorage.removeItem("request_email_code")}v(!0)}else m[E]&&sessionStorage.setItem("request_email_code",m[E]),(0,a.redirectToLogin)(l,(0,s.getLanguage)(),!0),U=!0;break;case"system_email_change":F(!0);break;case"trading_platform_mt5_password_reset":case"trading_platform_dxtrade_password_reset":{const t=`${E}_code`;if(!g&&!l){m[E]&&sessionStorage.setItem(t,m[E]),(0,a.redirectToLogin)(l,(0,s.getLanguage)()),U=!0;break}if(!m[E]){h(sessionStorage.getItem(t),E),sessionStorage.removeItem(t)}const n=G.get("redirect_to");if(n){let t="",r="";switch(n){case"1":case"2":case"3":t=a.routes.traders_hub;break;case"10":case"20":t=a.routes.traders_hub,r="real";break;case"11":case"21":t=a.routes.traders_hub,r="demo"}t&&(e.push({pathname:t,hash:r,search:x}),U=!0)}p(!0);break}case"phone_number_verification":{const t=`${E}_code`;g||l||sessionStorage.setItem(t,Z),y(!0),e.push(a.routes.phone_verification),U=!0;break}case"payment_deposit":c?e.push(a.routes.wallets_deposit):e.push(a.routes.cashier_deposit),U=!0;break;case"payment_withdraw":c?null!=m&&m.payment_withdraw?e.push(`${a.routes.wallets_withdrawal}?verification=${m.payment_withdraw}${t.loginid?`&loginid=${t.loginid}`:""}`):e.push(a.routes.wallets_withdrawal):e.push(a.routes.cashier_withdrawal),U=!0;break;case"payment_transfer":c?e.push(a.routes.wallets_transfer):e.push(a.routes.cashier_acc_transfer),U=!0;break;case"crypto_transactions_withdraw":e.push(`${a.routes.cashier_withdrawal}?action=${E}`),U=!0;break;case"payment_transactions":c?e.push(a.routes.wallets_transactions):e.push(a.routes.statement),U=!0;break;case"payment_agent_withdraw":e.push(a.routes.cashier_pa),U=!0;break;case"add_account":u.WS.wait("get_account_status").then((()=>A(i?"svg":"set_currency"))),X&&w(X);break;case"add_account_multiplier":u.WS.wait("get_account_status").then((()=>A(i?"maltainvest":"set_currency"))),X&&w(X);break;case"manage_account":u.WS.wait("get_account_status").then((()=>A("manage"))),X&&w(X);break;case"verification":{sessionStorage.setItem("redirect_url",a.routes.p2p_verification);const e=(0,a.loginUrl)({language:(0,s.getLanguage)()});window.location.href=e;break}case"trading_platform_investor_password_reset":{var R;localStorage.setItem("cfd_reset_password_code",Z);const t=null===(R=localStorage.getItem("cfd_reset_password_intent"))||void 0===R?void 0:R.includes("demo");c?e.push({pathname:a.routes.traders_hub,search:x}):e.push(`${a.routes.traders_hub}#${t?"demo":"real"}#reset-password`),U=!0;break}case"p2p_order_confirm":e.push({pathname:a.routes.cashier_p2p,search:x}),U=!0;break;case"livechat":C.Chat.open()}return(0,r.useEffect)((()=>{if(!U&&e.location.pathname!==a.routes.traders_hub){const t=[{pattern:/accumulator/i,route:a.routes.trade,type:"accumulator"},{pattern:/turbos/i,route:a.routes.trade,type:"turboslong"},{pattern:/vanilla/i,route:a.routes.trade,type:"vanillalongcall"},{pattern:/multiplier/i,route:a.routes.trade,type:"multiplier"},{pattern:/proof-of-address/i,route:a.routes.proof_of_address},{pattern:/proof-of-identity/i,route:a.routes.proof_of_identity},{pattern:/personal-details/i,route:a.routes.personal_details},{pattern:/dbot/i,route:a.routes.bot}],n=a.routes.traders_hub,r=t.find((t=>{let{pattern:n}=t;return n.test(x||e.location.search)}));let o=x;r&&r.type&&(o=`${x}&trade_type=${r.type}`),e.push({pathname:r?r.route:n,search:o})}}),[U,x,e]),null}));h.propTypes={history:l().object};const m=(0,o.withRouter)(h);var A=n(413568),p=n(836870);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const B=r.lazy((()=>(0,a.moduleLoader)((()=>n.e(8775).then(n.t.bind(n,391917,23)))))),v=r.lazy((()=>(0,a.moduleLoader)((()=>Promise.all([n.e(546),n.e(5239),n.e(5217),n.e(3077),n.e(2043),n.e(8820),n.e(3749),n.e(8109),n.e(8415),n.e(1011),n.e(1323),n.e(2094),n.e(6400),n.e(7343),n.e(6085),n.e(5940),n.e(2631),n.e(5326),n.e(9668),n.e(6927),n.e(4086),n.e(9119),n.e(3667),n.e(5580),n.e(6324),n.e(3982),n.e(4701),n.e(7513),n.e(8974),n.e(6967)]).then(n.t.bind(n,84661,23)))))),F=(0,g.observer)((e=>{const{client:t,ui:n}=(0,d.A)(),{is_wallets_onboarding_tour_guide_visible:r,setIsWalletsOnboardingTourGuideVisible:o,notification_messages_ui:i}=n,{has_wallet:a,logout:s}=t,{oAuthLogout:c}=(0,A.A)({handleLogout:s});return a?(0,p.jsx)(v,{isWalletsOnboardingTourGuideVisible:r,logout:async()=>{await c()},notificationMessagesUi:i,onWalletsOnboardingTourGuideCloseHandler:()=>{o(!1)}}):(0,p.jsx)(B,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e))}));var Q=n(824223);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach((function(t){U(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function U(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const W=(0,g.observer)((()=>{var e,t;const{feature_flags:n}=(0,d.A)(),r=["wallet"],o=null===(e=Object.entries(null!==(t=n.data)&&void 0!==t?t:{}))||void 0===e?void 0:e.reduce(((e,t)=>{let[n,o]=t;return location.hostname===a.website_domain&&a.TRADE_FEATURE_FLAGS.includes(n)||r.includes(n)||(e[n]=o),e}),{});return n.data?(0,p.jsxs)("div",{className:"feature-flags",children:[(0,p.jsx)(i.Text,{as:"h1",weight:"bold",color:"prominent",children:"Feature flags"}),Object.keys(o).map((e=>(0,p.jsx)("div",{className:"feature-flags__item",children:(0,p.jsx)(i.Checkbox,{label:e,value:o[e],onChange:t=>n.update((n=>G(G({},n),{},{[e]:t.target.checked})))})},e)))]}):null}));function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Z=e=>(0,p.jsx)(Q.Field,{name:e.name,children:t=>{let{field:n,form:{errors:o,touched:a}}=t;return(0,p.jsx)(r.Fragment,{children:(0,p.jsx)(i.Input,O(O({type:"text",autoComplete:"off",maxLength:"30",error:a[n.name]&&o[n.name]},n),e))})}}),X=()=>(0,p.jsx)(Q.Formik,{initialValues:{app_id:(0,a.getAppId)(),server:(0,a.getSocketURL)(),is_debug_service_worker_enabled:!!(0,a.getDebugServiceWorker)()},validate:e=>{const t={};return e.app_id?/^\d+$/.test(e.app_id)||(t.app_id="Please enter a valid app ID."):t.app_id="App ID is required.",e.server||(t.server="Server is required."),t},onSubmit:e=>{localStorage.setItem("config.app_id",e.app_id),localStorage.setItem("config.server_url",e.server),localStorage.setItem("debug_service_worker",e.is_debug_service_worker_enabled?1:0),sessionStorage.removeItem("config.platform"),location.reload()},children:e=>{let{errors:t,isSubmitting:n,touched:o,values:a,handleChange:s,setFieldTouched:c}=e;return(0,p.jsxs)(Q.Form,{className:"endpoint",children:[(0,p.jsx)("div",{className:"endpoint__title",children:(0,p.jsx)(i.Text,{as:"h1",weight:"bold",color:"prominent",children:"Change API endpoint"})}),(0,p.jsx)(Z,{name:"server",label:"Server",hint:"e.g. frontend.derivws.com"}),(0,p.jsx)(Z,{name:"app_id",label:"OAuth App ID",hint:(0,p.jsxs)(r.Fragment,{children:["Register an"," ",(0,p.jsx)("a",{href:"https://developers.binary.com/applications/",target:"_blank",rel:"noopener noreferrer",children:"app ID"})," ","to use the above server for logging in."]})}),(0,p.jsx)(Q.Field,{name:"is_debug_service_worker_enabled",children:e=>{let{field:t}=e;return(0,p.jsx)("div",{className:"endpoint__checkbox",children:(0,p.jsx)(i.Checkbox,O(O({},t),{},{label:"Enable Service Worker registration for this URL",value:a.is_debug_service_worker_enabled,onChange:e=>{s(e),c("is_debug_service_worker_enabled",!0)}}))})}}),(0,p.jsx)(i.Button,{type:"submit",is_disabled:!((o.server||o.app_id||o.is_debug_service_worker_enabled)&&a.server&&a.app_id&&!t.server&&!t.app_id&&!n),text:"Submit",primary:!0}),(0,p.jsx)(i.Button,{type:"button",onClick:()=>{localStorage.removeItem("config.app_id"),localStorage.removeItem("config.server_url"),location.reload()},text:"Reset to original settings",secondary:!0}),(0,p.jsx)(W,{})]})}});var w=n(524495);const R=()=>{const{client:{is_logged_in:e}}=(0,d.A)(),t=(0,o.useHistory)(),n=b().get("client.accounts"),i=b().get("active_loginid"),s=b().get("active_wallet_loginid");return n&&i&&(localStorage.setItem("client.accounts",n),localStorage.setItem("active_loginid",i),s&&localStorage.setItem("active_wallet_loginid",s),["client.accounts","active_loginid","active_wallet_loginid"].forEach((e=>{b().remove(e,{domain:(0,a.getDomainName)(),secure:!0})})),window.location.reload()),(0,r.useEffect)((()=>{const n=window.location.search,r=new URLSearchParams(n);r.delete("redirect_to");const o=[{pattern:/proof-of-address/i,route:a.routes.proof_of_address},{pattern:/proof-of-identity/i,route:a.routes.proof_of_identity},{pattern:/personal-details/i,route:a.routes.personal_details},{pattern:/financial-assessment/i,route:a.routes.financial_assessment},{pattern:/trading-assessment/i,route:a.routes.trading_assessment},{pattern:/accumulator/i,route:a.routes.trade,type:"accumulator"},{pattern:/turbos/i,route:a.routes.trade,type:"turboslong"},{pattern:/vanilla/i,route:a.routes.trade,type:"vanillalongcall"},{pattern:/multiplier/i,route:a.routes.trade,type:"multiplier"}].find((e=>{let{pattern:t}=e;return t.test(n)}));if((null==o?void 0:o.type)&&r.set("trade_type",o.type),e&&o)return t.push({pathname:null==o?void 0:o.route,search:r.toString()})}),[t,e]),(0,p.jsx)(w.a,{isFullScreen:!0})};var T=n(272010);const V=(0,o.withRouter)((()=>{const e=(0,o.useHistory)();return(0,p.jsx)(T.YO,{onSignInSuccess:e=>{localStorage.setItem("config.tokens",JSON.stringify(e)),localStorage.setItem("config.account1",e.token1),localStorage.setItem("active_loginid",e.acct1),window.location.href=a.routes.traders_hub},renderReturnButton:()=>(0,p.jsx)(i.Button,{onClick:()=>{e.push("/"),window.location.reload()},secondary:!0,is_circular:!0,children:(0,p.jsx)(s.Localize,{i18n_default_text:"Try again"})})})}));function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Y=r.lazy((()=>n.e(4483).then(n.bind(n,272678)))),P=r.lazy((()=>Promise.resolve().then(n.bind(n,339069)))),D=r.lazy((()=>Promise.all([n.e(4647),n.e(4931)]).then(n.t.bind(n,49049,23)))),J=r.lazy((()=>n.e(3528).then(n.t.bind(n,993940,23)))),L=r.lazy((()=>(0,a.moduleLoader)((()=>Promise.all([n.e(5182),n.e(4727),n.e(8440)]).then(n.t.bind(n,267692,23)))))),M=r.lazy((()=>(0,a.moduleLoader)((()=>Promise.all([n.e(5182),n.e(546),n.e(5239),n.e(5217),n.e(3077),n.e(2043),n.e(8820),n.e(3749),n.e(8109),n.e(8415),n.e(1011),n.e(1323),n.e(2094),n.e(6400),n.e(7343),n.e(6085),n.e(5940),n.e(2631),n.e(5326),n.e(9668),n.e(6927),n.e(4086),n.e(9119),n.e(3667),n.e(5580),n.e(6324),n.e(3982),n.e(4701),n.e(7513),n.e(8974),n.e(4727),n.e(8644)]).then(n.t.bind(n,372840,23)))))),z=r.lazy((()=>(0,a.moduleLoader)((()=>Promise.all([n.e(5182),n.e(4727),n.e(7182)]).then(n.t.bind(n,544718,23)))))),H=r.lazy((()=>(0,a.moduleLoader)((()=>Promise.all([n.e(4647),n.e(4956)]).then(n.t.bind(n,157497,23)))))),K=r.lazy((()=>(0,a.moduleLoader)((()=>Promise.all([n.e(5182),n.e(4727),n.e(175)]).then(n.t.bind(n,637105,23)))))),$=()=>(0,p.jsx)(m,{to:a.routes.traders_hub}),q=(0,a.makeLazyLoader)((()=>(0,a.moduleLoader)((()=>n.e(4492).then(n.bind(n,654249))))),(()=>(0,p.jsx)(i.Loading,{})));let ee;const te={component:P,getTitle:()=>(0,s.localize)("Error 404")},ne=()=>(ee||(ee=[{path:a.routes.index,component:o.Redirect,getTitle:()=>"",to:a.routes.traders_hub},{path:a.routes.endpoint,component:X,getTitle:()=>"Endpoint"},{path:a.routes.os_redirect,component:R,getTitle:()=>(0,s.localize)("Redirect")},{path:a.routes.redirect,component:m,getTitle:()=>(0,s.localize)("Redirect")},{path:a.routes.callback_page,component:V,getTitle:()=>"Callback"},{path:a.routes.complaints_policy,component:q(),getTitle:()=>(0,s.localize)("Complaints policy"),icon_component:"IcComplaintsPolicy",is_authenticated:!0},{path:a.routes.bot,component:H,getTitle:()=>(0,s.localize)("Bot")},{path:a.routes.reports,component:J,getTitle:()=>(0,s.localize)("Reports"),icon_component:"IcReports",is_authenticated:!0,routes:[{path:a.routes.positions,component:J,getTitle:()=>(0,s.localize)("Open positions"),icon_component:"IcOpenPositions",default:!0},{path:a.routes.profit,component:J,getTitle:()=>(0,s.localize)("Trade table"),icon_component:"IcProfitTable"},{path:a.routes.statement,component:J,getTitle:()=>(0,s.localize)("Statement"),icon_component:"IcStatement"}]},{path:a.routes.dxtrade,component:e=>(0,p.jsx)(L,k(k({},e),{},{platform:"dxtrade"})),getTitle:()=>(0,s.localize)("Deriv X")},{path:a.routes.compare_cfds,component:Y,getTitle:()=>(0,s.localize)("Compare CFD accounts")},{path:a.routes.mt5,component:e=>(0,p.jsx)(L,k(k({},e),{},{platform:"mt5"})),getTitle:()=>(0,s.localize)("MT5")},{path:a.routes.account_closed,component:M,getTitle:()=>(0,s.localize)("Account deactivated")},{path:a.routes.account,component:M,getTitle:()=>(0,s.localize)("Account Settings"),icon_component:"IcUserOutline",is_authenticated:!0,routes:[{getTitle:()=>(0,s.localize)("Profile"),icon:"IcUserOutline",subroutes:[{path:a.routes.personal_details,component:M,getTitle:()=>(0,s.localize)("Personal details"),default:!0},{path:a.routes.languages,component:M,getTitle:()=>(0,s.localize)("Languages")}]},{getTitle:()=>(0,s.localize)("Assessments"),icon:"IcAssessment",subroutes:[{path:a.routes.trading_assessment,component:M,getTitle:()=>(0,s.localize)("Trading assessment")},{path:a.routes.financial_assessment,component:M,getTitle:()=>(0,s.localize)("Financial assessment")}]},{getTitle:()=>(0,s.localize)("Verification"),icon:"IcVerification",subroutes:[{path:a.routes.proof_of_identity,component:M,getTitle:()=>(0,s.localize)("Proof of identity")},{path:a.routes.proof_of_address,component:M,getTitle:()=>(0,s.localize)("Proof of address")},{path:a.routes.proof_of_ownership,component:M,getTitle:()=>(0,s.localize)("Proof of ownership")},{path:a.routes.proof_of_income,component:M,getTitle:()=>(0,s.localize)("Proof of income")}]},{getTitle:()=>(0,s.localize)("Security and safety"),icon:"IcSecurity",subroutes:[{path:a.routes.passwords,component:M,getTitle:()=>(0,s.localize)("Email and passwords")},{path:a.routes.passkeys,component:M,getTitle:()=>(0,p.jsxs)(p.Fragment,{children:[(0,s.localize)("Passkeys"),(0,p.jsxs)("span",{className:"dc-vertical-tab__header--new",children:[(0,s.localize)("NEW"),"!"]})]})},{path:a.routes.self_exclusion,component:M,getTitle:()=>(0,s.localize)("Self exclusion")},{path:a.routes.account_limits,component:M,getTitle:()=>(0,s.localize)("Account limits")},{path:a.routes.login_history,component:M,getTitle:()=>(0,s.localize)("Login history")},{path:a.routes.api_token,component:M,getTitle:()=>(0,s.localize)("API token")},{path:a.routes.connected_apps,component:M,getTitle:()=>(0,s.localize)("Connected apps")},{path:a.routes.two_factor_authentication,component:M,getTitle:()=>(0,s.localize)("Two-factor authentication")},{path:a.routes.closing_account,component:M,getTitle:()=>(0,s.localize)("Close your account")}]}]},{path:a.routes.cashier,component:z,is_modal:!0,is_authenticated:!0,getTitle:()=>(0,s.localize)("Cashier"),icon_component:"IcCashier",routes:[{path:a.routes.cashier_deposit,component:z,getTitle:()=>(0,s.localize)("Deposit"),icon_component:"IcCashierAdd",default:!0},{path:a.routes.cashier_withdrawal,component:z,getTitle:()=>(0,s.localize)("Withdrawal"),icon_component:"IcCashierMinus"},{path:a.routes.cashier_pa,component:z,getTitle:()=>(0,s.localize)("Payment agents"),icon_component:"IcPaymentAgent"},{path:a.routes.cashier_acc_transfer,component:z,getTitle:()=>(0,s.localize)("Transfer"),icon_component:"IcAccountTransfer"},{path:a.routes.cashier_pa_transfer,component:z,getTitle:()=>(0,s.localize)("Transfer to client"),icon_component:"IcAccountTransfer"},{path:a.routes.cashier_p2p,component:z,getTitle:()=>(0,s.localize)("Deriv P2P"),icon_component:"IcDp2p",routes:[{path:a.routes.p2p_buy_sell,component:K,getTitle:()=>(0,s.localize)("Buy / Sell"),default:!0},{path:a.routes.p2p_advertiser_page,component:K,getTitle:()=>(0,s.localize)("Advertiser's page")},{path:a.routes.p2p_orders,component:K,getTitle:()=>(0,s.localize)("Orders")},{path:a.routes.p2p_my_ads,component:K,getTitle:()=>(0,s.localize)("My ads")},{path:a.routes.p2p_my_profile,component:K,getTitle:()=>(0,s.localize)("My profile")},{path:a.routes.p2p_verification,component:K,getTitle:()=>(0,s.localize)("P2P verification")}]},{id:"gtm-onramp-tab",path:a.routes.cashier_onramp,component:z,getTitle:()=>(0,s.localize)("Fiat onramp"),icon_component:"IcCashierOnRamp"},{path:a.routes.cashier_transactions_crypto,component:z,is_invisible:!0}]},{path:a.routes.trade,component:D,getTitle:()=>(0,s.localize)("Trader")},{path:a.routes.contract,component:D,getTitle:()=>(0,s.localize)("Contract Details"),is_authenticated:!0},{path:a.routes.old_traders_hub,component:$,is_authenticated:!1,getTitle:()=>(0,s.localize)("Trader's Hub")},{path:a.routes.traders_hub,component:F,is_authenticated:!1,getTitle:()=>(0,s.localize)("Trader's Hub")},{path:a.routes.callback_page,component:V,is_authenticated:!1,getTitle:()=>"Callback"}],ee.push(te)),ee)},620993:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(286326),o=n(919796),i=n(57886),a=n(679955),s=n(414646),c=n(33118),l=n(836870);const g=()=>(0,l.jsxs)("div",{className:"crypto-transaction-processing-modal__content",children:[(0,l.jsx)("div",{className:"crypto-transaction-processing-modal__circle",children:[...Array(3)].map(((e,t)=>(0,l.jsx)("div",{className:`crypto-transaction-processing-modal__dot crypto-transaction-processing-modal__dot-${t}`},t)))}),(0,l.jsxs)("div",{className:"crypto-transaction-processing-modal__content-description",children:[(0,l.jsx)(i.Text,{size:"sm",weight:"bold",children:(0,l.jsx)(c.Localize,{i18n_default_text:"Transaction processing"})}),(0,l.jsx)(i.Text,{children:(0,l.jsx)(c.Localize,{i18n_default_text:"We'll notify you when it's complete."})})]})]}),d=(0,a.observer)((()=>{const{isDesktop:e}=(0,o.Y)(),{ui:t}=(0,s.A)(),{should_show_crypto_transaction_processing_modal:n,setShouldShowCryptoTransactionProcessingModal:a}=t,d=()=>{a(!1)};return(0,l.jsx)(r.Fragment,{children:e?(0,l.jsxs)(i.Modal,{is_open:n,className:"crypto-transaction-processing-modal",title:" ",toggleModal:d,height:"440px",width:"440px",has_close_icon:!0,should_header_stick_body:!1,children:[(0,l.jsx)(g,{}),(0,l.jsx)(i.Modal.Footer,{has_separator:!0,children:(0,l.jsx)(i.Button,{large:!0,primary:!0,onClick:d,children:(0,l.jsx)(c.Localize,{i18n_default_text:"OK"})})})]}):(0,l.jsx)(i.MobileDialog,{visible:n,portal_element_id:"modal_root",wrapper_classname:"crypto-transaction-processing-modal",onClose:d,title:"",has_full_height:!0,footer:(0,l.jsx)(i.Modal.Footer,{has_separator:!0,children:(0,l.jsx)(i.Button,{primary:!0,large:!0,wide:!0,onClick:d,children:(0,l.jsx)(c.Localize,{i18n_default_text:"OK"})})}),children:(0,l.jsx)(g,{})})})}))},657293:(e,t,n)=>{"use strict";n.d(t,{A:()=>R});var r=n(255530),o=n.n(r),i=n(597598),a=n.n(i),s=n(286326),c=n(735623),l=n(766712),g=n(557344),d=n(189137),u=n(679955),_=n(414646),I=n(291218),b=n(57886),C=n(33118),h=n(836870);const m=e=>{let{onClick:t,className:n}=e;return(0,h.jsx)("button",{className:n,type:"button",onClick:t,"aria-label":(0,C.localize)("Close")})};m.propTypes={className:a().string,onClick:a().func.isRequired};const A=m;var p=n(925152);const y=e=>{let{type:t,class_suffix:n}=e;return t&&"danger"===t?(0,h.jsx)(b.Icon,{icon:"IcAlertDanger",className:o()("inline-icon","notification__icon-type",{[`notification__icon-type--${n}`]:n})}):(0,h.jsx)(s.Fragment,{children:!!t&&(0,h.jsx)(b.Icon,{icon:p.MW[t],className:o()("notification__icon-type",{[`notification__icon-type--${n}`]:n}),color:"success"===t?"green":void 0})})};y.propTypes={class_suffix:a().string,type:a().string};const f=y,B=e=>{let{className:t,header:n,message:r,primary_btn:i,secondary_btn:a,img_src:s,img_alt:c,onClose:l,icon:g}=e;return(0,h.jsxs)("div",{className:o()("notification-banner",{[`notification-banner__${t}`]:t}),"data-testid":"dt_notification_banner",children:[(0,h.jsxs)("div",{className:"notification-banner--left",children:[(0,h.jsx)(b.Text,{as:"h4",size:(0,d.isMobile)()?"xs":"s",weight:"bold",className:"notification-banner__title",children:n}),(0,h.jsx)(b.Text,{as:"p",size:(0,d.isMobile)()?"xxs":"xs",className:"notification-banner__description",line_height:"xs",children:r}),!!i&&(0,h.jsx)("div",{className:"notification-banner__btn-wrapper",children:(0,h.jsx)(b.Button,{className:"notification-banner__btn",primary:!0,small:!0,onClick:i.onClick,children:i.text})}),!!a&&(0,h.jsx)("div",{className:"notification-banner__btn-wrapper",children:(0,h.jsx)(b.Button,{className:"notification-banner__btn",secondary:!0,small:!0,onClick:a.onClick,children:a.text})})]}),(0,h.jsxs)("div",{className:"notification-banner--right",children:[(0,h.jsx)("div",{className:"notification-banner__bg"}),(0,h.jsx)("img",{className:"notification-banner__img",src:s,alt:c}),(0,h.jsx)(b.Icon,{className:"notification-banner__close-icon",icon:null!=g?g:"IcCloseLight",onClick:l})]})]})};B.propTypes={className:a().string,secondary_btn:a().object,header:a().string,img_alt:a().string,img_src:a().string,message:a().string,onClose:a().func,primary_btn:a().shape({text:a().string,onClick:a().func}),icon:a().string};const v=B,F=e=>{let{cta_btn:t,img_alt:n,img_src:r,message:o,onClose:i}=e;return(0,h.jsxs)("div",{"data-testid":"dt_notification_promo",className:"notification-promo",children:[(0,h.jsx)("img",{className:"notification-promo__img",src:r,alt:n}),(0,h.jsxs)("div",{className:"notification-promo--container",children:[(0,h.jsxs)("div",{className:"notification-promo--left",children:[(0,h.jsx)(b.Text,{as:"p",size:"xs",className:"notification-promo__message",children:o}),t&&(0,h.jsx)(b.Button,{className:"notification-promo__btn",blue:!0,secondary:!0,onClick:t.onClick,children:t.text})]}),(0,h.jsx)(b.Icon,{className:"notification-promo__close-icon",icon:"IcCloseLight",onClick:i})]})]})};var Q=n(852691);const x=e=>{let{action:t,header:n,message:r,onClose:i}=e;return setTimeout(i,6e4),(0,h.jsxs)("div",{"data-testid":"dt_notification_order",className:"notification notification-announce notification--order-successful",children:[(0,h.jsx)("div",{className:"notification__icon-background",children:(0,h.jsx)(f,{type:"announce",class_suffix:"is-background"})}),(0,h.jsx)("div",{className:"notification__icon",children:(0,h.jsx)(f,{type:"announce"})}),(0,h.jsxs)("div",{className:"notification__text-container",children:[(0,h.jsx)(b.Text,{as:"h4",weight:"bold",className:"notification__header",children:n}),(0,h.jsx)(b.Text,{as:"p",className:"notification__text-body",children:r}),(0,h.jsx)("div",{className:"notification__action",children:!(0,d.isEmptyObject)(t)&&(0,h.jsx)(s.Fragment,{children:t.route?(0,h.jsx)(Q.Sm,{className:o()("dc-btn","dc-btn--secondary","notification__cta-button"),onClick:i,to:t.route,children:(0,h.jsx)(b.Text,{size:"xxs",weight:"bold",children:t.text})}):(0,h.jsx)(b.Button,{className:"notification__cta-button",text:t.text,onClick:()=>{t.onClick(),i()},secondary:!0,renderText:e=>(0,h.jsx)(b.Text,{size:"xxs",weight:"bold",align:"center",children:e})})})})]}),(0,h.jsx)(A,{className:"notification__close-button",onClick:i})]})};x.propTypes={action:a().object,header:a().oneOfType([a().node,a().string,a().object]),is_auto_close:a().bool,message:a().oneOfType([a().node,a().string,a().object]),onClose:a().func};const G=x,U=e=>{var t;let{data:n,removeNotificationMessage:r}=e;const i=s.useRef(null),a=(0,I.useHistory)(),c=e=>{if(r(n),n.should_show_again){var t;const e=null!==(t=JSON.parse(localStorage.getItem("closed_toast_notifications")))&&void 0!==t?t:[];e.includes(n.key)||(e.push(n.key),localStorage.setItem("closed_toast_notifications",JSON.stringify(e)))}n.closeOnClick&&n.closeOnClick(n,e)},l=()=>c(!0);n.is_auto_close&&setTimeout(c,n.delay||p.ab);if((null!==(t=JSON.parse(localStorage.getItem("closed_toast_notifications")))&&void 0!==t?t:[]).includes(n.key))return null;switch(n.type){case"news":return(0,h.jsx)(v,{className:n.className,header:n.header,message:n.message,primary_btn:n.primary_btn,secondary_btn:n.secondary_btn,img_src:n.img_src,img_alt:n.img_alt,onClose:c,icon:n.icon});case"trustpilot":return(0,h.jsx)(v,{className:n.className,header:n.header_popup,message:n.message_popup,secondary_btn:n.action,img_src:n.img_src,img_alt:n.img_alt,onClose:c});case"promotions":return(0,h.jsx)(F,{cta_btn:n.cta_btn,img_alt:n.img_alt,img_src:n.img_src,message:n.message,onClose:c});case"p2p_completed_order":return(0,h.jsx)(G,{action:n.action,header:n.header,message:n.message,onClose:c});default:return(0,h.jsxs)("div",{className:o()("notification",p.gK[n.type],{"notification--small":"small"===n.size}),"data-testid":"dt_default_component",children:[(0,h.jsx)("div",{className:o()("notification__icon-background",{"notification__icon-background--header-only":!n.message}),children:(0,h.jsx)(f,{type:n.type,class_suffix:"is-background"})}),(0,h.jsx)("div",{className:"notification__icon",children:(0,h.jsx)(f,{type:n.type})}),(0,h.jsxs)("div",{className:"notification__text-container",children:[(0,h.jsx)(b.Text,{as:"h4",weight:"bold",className:"notification__header",children:n.header}),n.timeout&&(0,h.jsx)(b.LinearProgress,{className:"notification__timeout",timeout:n.timeout,action:n.action.onClick,render:n.timeoutMessage,should_store_in_session:!0,session_id:n.key,ref:i}),(0,h.jsx)("p",{className:"notification__text-body",children:n.message}),(0,h.jsx)("div",{className:"notification__action",children:!(0,d.isEmptyObject)(n.action)&&(0,h.jsx)(s.Fragment,{children:n.action.route&&!n.action.onClick?(0,h.jsx)(Q.Sm,{className:o()("dc-btn","dc-btn--secondary","notification__cta-button"),onClick:l,to:n.action.route,children:(0,h.jsx)(b.Text,{size:"xxs",weight:"bold",children:n.action.text})}):(0,h.jsx)(b.Button,{className:"notification__cta-button",onClick:()=>{n.timeout&&i.current.removeTimeoutSession(),n.action.onClick(),n.action.route&&a.push(n.action.route)},text:n.action.text,secondary:!0,renderText:e=>(0,h.jsx)(b.Text,{size:"xxs",weight:"bold",align:"center",children:e})})})})]}),!n.should_hide_close_btn&&(0,h.jsx)(A,{className:"notification__close-button",onClick:l})]})}};U.propTypes={data:a().shape({action:a().shape({onClick:a().func,route:a().string,text:a().oneOfType([a().node,a().string,a().object])}),cta_btn:a().object,className:a().string,closeOnClick:a().func,delay:a().number,header:a().oneOfType([a().node,a().string,a().object]),header_popup:a().string,img_alt:a().string,img_src:a().string,is_auto_close:a().bool,key:a().string,icon:a().string,message:a().oneOfType([a().node,a().string,a().object]),message_popup:a().string,primary_btn:a().object,secondary_btn:a().object,should_hide_close_btn:a().bool,should_show_again:a().bool,size:a().oneOf(["small"]),timeout:a().number,timeoutMessage:a().func,type:a().oneOf(["warning","info","success","danger","contract_sold","news","trustpilot","announce","promotions","p2p_completed_order"]).isRequired}),removeNotificationMessage:a().func};const W=U;var N=n(736996);const O=(0,u.observer)((e=>{let{show_trade_notifications:t}=e;const{notifications:{removeTradeNotifications:n,trade_notifications:r}}=(0,_.A)();return t&&r.length?(0,h.jsx)(b.MobileWrapper,{children:(0,h.jsx)("div",{className:"trade-notifications",children:r.slice(0,3).map((e=>{const{buy_price:t,contract_id:r,currency:o,contract_type:i,id:a,profit:s,symbol:c,status:l,timestamp:g}=e,u="open"===l;return(0,h.jsxs)(b.SwipeableNotification,{is_failure:!u&&s<0,is_success:!u&&s>=0,onUnmount:()=>n(a),redirect_to:(0,d.getContractPath)(r),timestamp:u?null:g,visibility_duration_ms:3e3,children:[(0,h.jsx)(b.Text,{as:"p",size:"xxxs",line_height:"s",children:(0,h.jsx)(C.Localize,{i18n_default_text:"<0>{{title}}:</0> {{trade_type_name}} on {{symbol}}",components:[(0,h.jsx)("strong",{},0)],values:{symbol:c,title:u?(0,C.localize)("Trade opened"):(0,C.localize)("Trade closed"),trade_type_name:i},shouldUnescape:!0})}),(0,h.jsxs)(b.Text,{as:"p",size:"xxxs",line_height:"s",children:[u?(0,d.getCardLabels)().STAKE:(0,d.getCardLabels)().TOTAL_PROFIT_LOSS," ",(0,h.jsx)(b.Text,{size:"xxxs",line_height:"s",weight:"bold",children:(0,h.jsx)(b.Money,{amount:u?t:s,currency:o,has_sign:!u,should_format:!0,show_currency:!0})})]})]},a)}))})}):null})),E=O,Z=e=>{let{children:t}=e;return(0,d.isMobile)()?c.createPortal(t,document.getElementById("deriv_app")):t},X=e=>{let{is_notification_loaded:t,style:n,notifications:r,removeNotificationMessage:i,show_trade_notifications:a}=e;const{pathname:s}=(0,I.useLocation)();return(0,h.jsx)("div",{className:o()("notification-messages",{"notification-messages--traders-hub":s===d.routes.traders_hub}),style:n,children:(0,h.jsxs)(l.A,{component:"div",children:[r.map((e=>(0,h.jsx)(g.A,{appear:!!t,in:!!e.header,timeout:150,classNames:{appear:"notification--enter",enter:"notification--enter",enterDone:"notification--enter-done",exit:"notification--exit"},unmountOnExit:!0,children:(0,h.jsx)(W,{data:e,removeNotificationMessage:i})},e.key))),(0,h.jsx)(E,{show_trade_notifications:a})]})})},w=(0,u.observer)((e=>{let{is_notification_loaded:t,is_mt5:n,stopNotificationLoading:r,show_trade_notifications:o}=e;const{notifications:i}=(0,_.A)(),{marked_notifications:a,notification_messages:c,removeNotificationMessage:l,markNotificationMessage:g,should_show_popups:u}=i,[I,b]=s.useState({}),[C,m]=s.useState(null);s.useEffect((()=>{if(n&&r(),C&&(0,d.isMobile)()&&null!==C.parentElement){const e=C.parentElement.getBoundingClientRect();b({top:e.top+8})}}),[n,C]);const A=c.filter((e=>{const t=!a.includes(e.key),n=!(0,d.isMobile)()||([...N.Nn,"account_currency_closure","authenticate","deriv_go","document_needs_action","dp2p","contract_sold","has_changed_two_fa","identity","install_pwa","need_fa","needs_poinc","notify_financial_assessment","phone_number_verification","poi_name_mismatch","poa_address_mismatch_failure","poa_address_mismatch_success","poa_address_mismatch_warning","poa_expired","poa_failed","poa_rejected_for_mt5","poa_verified","poi_expired","poi_failed","poi_verified","poinc_upload_limited","p2p_advertiser_nickname_added","p2p_daily_limit_increase","reaccept_tnc","resticted_mt5_with_failed_poa","resticted_mt5_with_pending_poa","svg_needs_poa","svg_needs_poi","svg_needs_poi_poa","svg_poi_expired","wallets_migrated","wallets_failed","tnc","trustpilot","unwelcome","additional_kyc_info","notify_account_is_to_be_closed_by_residence"].includes(e.key)||"p2p_completed_order"===e.type),r=window.location.pathname!==d.routes.cashier_p2p||"P2P"===(null==e?void 0:e.platform),o=N.Nn.includes(e.key);return t&&n&&(r||o)})),y=(0,d.isMobile)()?p.Oj:p.vK,f=A.filter((e=>N.Sd.includes(e.key)||e.type.includes("p2p")?e:N.A$.includes(e.key))),B=window.location.pathname===d.routes.cashier_deposit?f.filter((e=>["switched_to_real",...N.Nn].includes(e.key))):f.slice(0,y);return u||B.some((e=>"site_maintenance"===e.key))?B.length?(0,h.jsx)("div",{ref:e=>m(e),className:"notification-messages-bounds",children:(0,h.jsx)(Z,{children:(0,h.jsx)(X,{notifications:B,is_notification_loaded:t,style:I,removeNotificationMessage:l,markNotificationMessage:g,show_trade_notifications:o})})}):(0,h.jsx)(E,{show_trade_notifications:o}):null}));w.propTypes={is_mt5:a().bool,is_notification_loaded:a().bool,stopNotificationLoading:a().func,show_trade_notifications:a().bool};const R=w},223753:(e,t,n)=>{"use strict";n.d(t,{A:()=>_});var r=n(255530),o=n.n(r),i=n(597598),a=n.n(i),s=(n(286326),n(189137)),c=n(57886),l=n(679955),g=n(414646),d=n(836870);const u=(0,l.observer)((e=>{let{is_mobile:t}=e;const{common:n}=(0,g.A)(),{server_time:r}=n,i=(0,s.toGMTFormat)(r),a=(0,s.toLocalFormat)(r);return(0,d.jsx)(c.Popover,{alignment:"top",message:a,className:o()("server-time",{"server-time--is-mobile":t}),zIndex:9999,children:i})}));u.propTypes={is_mobile:a().bool};const _=u},704307:(e,t,n)=>{"use strict";n.d(t,{A:()=>Yt});var r=n(286326),o=n(140994),i=n(813665),a=n(822833),s=n(597598),c=n.n(s),l=n(438295),g=n(819178),d=n.n(g),u=n(905719),_=n.n(u),I=n(57886),b=n(189137),C=n(285585),h=n(69141),m=n(33118),A=n(281476),p=n(321709),y=n(596176),f=n(498015);const B={dxtrade:()=>(0,m.localize)("Deriv X"),mt5:()=>(0,m.localize)("MT5"),mt5_cfds:()=>(0,m.localize)("MT5 CFDs"),ctrader:()=>(0,m.localize)("Deriv cTrader"),cfd:()=>(0,m.localize)("CFDs"),synthetic:()=>(0,m.localize)("Standard"),synthetic_demo:()=>(0,m.localize)("Standard Demo"),synthetic_bvi:()=>(0,m.localize)("Standard BVI"),synthetic_svg:()=>(0,m.localize)("Standard SVG"),synthetic_v:()=>(0,m.localize)("Standard Vanuatu"),financial:()=>(0,m.localize)("Financial"),financial_demo:()=>(0,m.localize)("Financial Demo"),financial_bvi:()=>(0,m.localize)("Financial BVI"),stp:()=>(0,m.localize)("Financial Labuan"),financial_v:()=>(0,m.localize)("Financial Vanuatu"),financial_svg:()=>(0,m.localize)("Financial SVG"),all_swap_free_demo:()=>(0,m.localize)("Swap-Free Demo"),all_zero_spread_demo:()=>(0,m.localize)("Zero Spread Demo"),all_swap_free_svg:()=>(0,m.localize)("Swap-Free SVG"),all_zero_spread_bvi:()=>(0,m.localize)("Zero Spread BVI"),gold:()=>(0,m.localize)("Gold"),gold_bvi:()=>(0,m.localize)("Gold BVI"),gold_v:()=>(0,m.localize)("Gold Vanuatu"),gold_dml:()=>(0,m.localize)("Gold DML")},v={empty_address:()=>(0,m.localize)("This field is required"),empty_barrier:()=>(0,m.localize)("Barrier is a required field."),address:()=>(0,m.localize)("Use only the following special characters: {{permitted_characters}}",{permitted_characters:b.address_permitted_special_characters_message,interpolation:{escapeValue:!1}}),barrier:()=>(0,m.localize)("Should be a valid number."),email:()=>(0,m.localize)("Invalid email address."),general:()=>(0,m.localize)("Only letters, numbers, space, hyphen, period, and apostrophe are allowed."),name:()=>(0,m.localize)("Letters, spaces, periods, hyphens, apostrophes only."),password:()=>(0,m.localize)("Password should have lower and uppercase English letters with numbers."),po_box:()=>(0,m.localize)("P.O. Box is not accepted in address"),phone:()=>(0,m.localize)("Please enter a valid phone number (e.g. +15417541234)."),postcode:()=>(0,m.localize)("Only letters, numbers, space and hyphen are allowed."),signup_token:()=>(0,m.localize)("The length of token should be 8."),tax_id:()=>(0,m.localize)("Should start with letter or number, and may contain hyphen and underscore."),number:()=>(0,m.localize)("Should be a valid number."),decimalPlaces:e=>(0,m.localize)("Up to {{decimal_count}} decimal places are allowed.",{decimal_count:e}),value:e=>(0,m.localize)("Should be {{value}}",{value:e}),betweenMinMax:(e,t)=>(0,m.localize)("Should be between {{min_value}} and {{max_value}}",{min_value:e,max_value:t}),minNumber:e=>(0,m.localize)("Should be more than {{min_value}}",{min_value:e}),maxNumber:e=>(0,m.localize)("Should be less than {{max_value}}",{max_value:e}),password_warnings:{use_a_few_words:()=>(0,m.localize)("Use a few words, avoid common phrases"),no_need_for_mixed_chars:()=>(0,m.localize)("No need for symbols, digits, or uppercase letters"),uncommon_words_are_better:()=>(0,m.localize)("Add another word or two. Uncommon words are better."),straight_rows_of_keys_are_easy:()=>(0,m.localize)("Straight rows of keys are easy to guess"),short_keyboard_patterns_are_easy:()=>(0,m.localize)("Short keyboard patterns are easy to guess"),use_longer_keyboard_patterns:()=>(0,m.localize)("Use a longer keyboard pattern with more turns"),repeated_chars_are_easy:()=>(0,m.localize)('Repeats like "aaa" are easy to guess'),repeated_patterns_are_easy:()=>(0,m.localize)('Repeats like "abcabcabc" are only slightly harder to guess than "abc"'),avoid_repeated_chars:()=>(0,m.localize)("Avoid repeated words and characters"),sequences_are_easy:()=>(0,m.localize)("Sequences like abc or 6543 are easy to guess"),avoid_sequences:()=>(0,m.localize)("Avoid sequences"),recent_years_are_easy:()=>(0,m.localize)("Recent years are easy to guess"),avoid_recent_years:()=>(0,m.localize)("Avoid recent years"),avoid_associated_years:()=>(0,m.localize)("Avoid years that are associated with you"),dates_are_easy:()=>(0,m.localize)("Dates are often easy to guess"),avoid_associated_dates_and_years:()=>(0,m.localize)("Avoid dates and years that are associated with you"),top10_common_password:()=>(0,m.localize)("This is a top-10 common password"),top100_common_password:()=>(0,m.localize)("This is a top-100 common password"),very_common_password:()=>(0,m.localize)("This is a very common password"),similar_to_common_password:()=>(0,m.localize)("This is similar to a commonly used password"),a_word_is_easy:()=>(0,m.localize)("A word by itself is easy to guess"),names_are_easy:()=>(0,m.localize)("Names and surnames by themselves are easy to guess"),common_names_are_easy:()=>(0,m.localize)("Common names and surnames are easy to guess"),capitalization_doesnt_help:()=>(0,m.localize)("Capitalization doesn't help very much"),all_uppercase_doesnt_help:()=>(0,m.localize)("All-uppercase is almost as easy to guess as all-lowercase"),reverse_doesnt_help:()=>(0,m.localize)("Reversed words aren't much harder to guess"),substitution_doesnt_help:()=>(0,m.localize)("Predictable substitutions like '@' instead of 'a' don't help very much"),user_dictionary:()=>(0,m.localize)("This password is on the blacklist")}};var F=n(8531),Q=n(413568),x=n(317691),G=n(140980),U=n(488814),W=n(418679),N=n(974777),O=n(413852),E=n(679955),Z=n(414646),X=n(331694),w=n(919796),R=n(451309),T=n(836870);const V=()=>{const e=(0,b.getUrlP2P)(!1);return(0,T.jsx)("iframe",{id:"localstorage-sync__p2p",src:`${e}/localstorage-sync.html`,style:{display:"none",visibility:"hidden"},sandbox:"allow-same-origin allow-scripts"})},j=()=>{const{is_staging_deriv_app:e}=(0,b.getPlatformFromUrl)();let t="";return t=e?b.deriv_urls.SMARTTRADER_STAGING:b.deriv_urls.SMARTTRADER_PRODUCTION,(0,T.jsx)("iframe",{id:"localstorage-sync",src:`${t}/localstorage-sync.html`,style:{display:"none",visibility:"hidden"},sandbox:"allow-same-origin allow-scripts"})};var k=n(790236);const S=e=>{var t,n;if(!e)return;const r="",o="",{dataDogSessionSampleRate:i=0,dataDogSessionReplaySampleRate:a=0,dataDogVersion:s="",dataDogEnv:c="",serviceName:l=""}=null!==(t="production"===(g=null!==(n="staging")?n:"")?{serviceName:"app.deriv.com",dataDogVersion:"deriv-app-undefined",dataDogSessionReplaySampleRate:Number(1),dataDogSessionSampleRate:Number(10),dataDogEnv:"production"}:"staging"===g?{serviceName:"staging-app.deriv.com",dataDogVersion:"deriv-app-staging-vundefined",dataDogSessionReplaySampleRate:0,dataDogSessionSampleRate:100,dataDogEnv:"staging"}:void 0)&&void 0!==t?t:{};var g;k.L.init({applicationId:r,clientToken:o,site:"datadoghq.com",service:l,env:c,sessionSampleRate:i,sessionReplaySampleRate:a,trackUserInteractions:!0,trackResources:!0,trackLongTasks:!0,defaultPrivacyLevel:"mask-user-input",version:s,enableExperimentalFeatures:["clickmap"],beforeSend:e=>{if("resource"===e.type&&(e.resource.url=e.resource.url.replace(/^https:\/\/api\.telegram\.org\/[a-zA-Z0-9]+(\?[a-zA-Z0-9_=&]+)?$/,"telegram token=REDACTED"),e.resource.url.match(/^https:\/\/eu\.deriv\.com\/ctrader-login[a-zA-Z0-9&?=]*$/))){const t=function(e){const t=e.indexOf("acct1=")+6,n=e.indexOf("&",t);return-1===n?e.substring(t):e.substring(t,n)}(e.resource.url);e.resource.url=e.resource.url.replace(/^https:\/\/eu\.deriv\.com\/ctrader-login[a-zA-Z0-9&?=]*$/,`https://eu.deriv.com/ctrader-login?acct1=${t}&token1=redacted`)}return!0}})},Y=e=>{(function(t,n,r,o,i){t.hj=t.hj||function(){(t.hj.q=t.hj.q||[]).push(arguments)},t._hjSettings={hjid:3050531,hjsv:6};const a=n.getElementsByTagName("head")[0],s=n.createElement("script");s.async=1,s.src="https://static.hotjar.com/c/hotjar-"+t._hjSettings.hjid+".js?sv="+t._hjSettings.hjsv,a.appendChild(s);const c=e.loginid,l=e.is_virtual?"Demo":"Real",g=e.account_open_date?(0,b.epochToMoment)(e.account_open_date):void 0;window.hj("identify",c,{"Account created":g?(0,b.toMoment)(g).format("YYYY-MM-DD"):"","Account type":l,"Passkey usage":!(null===(i=e.passkeys_list)||void 0===i||!i.length),"User country":e.clients_country})})(window,document)};var P=n(445315);class D extends r.Component{constructor(e){super(e),this.componentDidCatch=(e,t)=>{window.TrackJS&&window.TrackJS.console.log(this.props.root_store),this.setState({hasError:!0,error:e,info:t})},this.render=()=>this.state.hasError?(0,T.jsx)(P.default,{should_show_refresh:!0}):this.props.children,this.state={hasError:!1}}}D.propTypes={root_store:c().object,children:c().oneOfType([c().string,c().arrayOf(c().node),c().node])};const J=D;var L=n(291218);const M=["styles"];function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){K(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function K(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const $=e=>{let{styles:t={}}=e,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,M);return(0,T.jsxs)("svg",H(H({xmlns:"http://www.w3.org/2000/svg",width:"80",height:"62",fill:"none"},n),{},{children:[(0,T.jsx)("path",{fill:"#85ACB0",d:"M52.3 62H9.24a9.2 9.2 0 01-6.52-2.73A9.35 9.35 0 010 52.7V9.3a9.34 9.34 0 012.7-6.57A9.2 9.2 0 019.24 0h61.54a9.2 9.2 0 016.52 2.73A9.35 9.35 0 0180 9.3v24.8a3.1 3.1 0 01-1.54 2.69 3.06 3.06 0 01-3.07 0 3.1 3.1 0 01-1.54-2.69V9.3a3.12 3.12 0 00-.9-2.19 3.07 3.07 0 00-2.18-.91H9.23a3.07 3.07 0 00-2.17.91 3.12 3.12 0 00-.9 2.19v43.4a3.1 3.1 0 00.9 2.19 3.07 3.07 0 002.17.91h43.08c1.1 0 2.11.59 2.66 1.55.55.96.55 2.14 0 3.1A3.07 3.07 0 0152.31 62"}),(0,T.jsx)("path",{fill:"#FF444F",d:"M76.92 62h-12.3c-1.1 0-2.12-.6-2.67-1.55a3.12 3.12 0 010-3.1 3.07 3.07 0 012.66-1.55h9.24v-9.3c0-1.1.58-2.13 1.53-2.69a3.06 3.06 0 013.08 0A3.1 3.1 0 0180 46.5v12.4c0 .82-.32 1.61-.9 2.2a3.07 3.07 0 01-2.18.9M52.35 31.05h12.3c1.1 0 2.12.59 2.67 1.55.55.95.55 2.13 0 3.1a3.07 3.07 0 01-2.66 1.54h-9.23v9.3a3.1 3.1 0 01-1.54 2.69 3.06 3.06 0 01-3.08 0 3.1 3.1 0 01-1.54-2.68v-12.4c0-.83.33-1.61.9-2.2a3.07 3.07 0 012.18-.9"}),(0,T.jsx)("path",{fill:"#85ACB0",d:"M33.85 18.6H3.08c-1.1 0-2.12-.6-2.67-1.55a3.12 3.12 0 010-3.1 3.07 3.07 0 012.67-1.55h30.77a3.07 3.07 0 002.17-.91 3.12 3.12 0 00.9-2.19V3.1c0-1.1.59-2.13 1.54-2.69a3.06 3.06 0 013.08 0 3.1 3.1 0 011.54 2.69v6.2a9.34 9.34 0 01-2.7 6.57 9.2 9.2 0 01-6.53 2.73z"}),(0,T.jsx)("path",{fill:"#FF444F",d:"M76.92 62a3.06 3.06 0 01-2.17-.9L54.66 40.84c-.76-.79-1.04-1.92-.76-2.97a3.09 3.09 0 012.16-2.17 3.06 3.06 0 012.95.76L79.1 56.7a3.11 3.11 0 010 4.38 3.06 3.06 0 01-2.18.91"})]}))},q=(0,E.observer)((()=>{const{isMobile:e}=(0,w.Y)(),t=(0,L.useLocation)(),n=null==t?void 0:t.pathname,r=(0,b.isDisabledLandscapeBlockerRoute)(n),o=n===b.routes.trade&&b.isTabletOs;return!e&&(0,b.isMobileOs)()&&(n.startsWith(b.routes.trade)||n.startsWith(b.routes.reports)||n.startsWith(b.routes.bot)||n.startsWith("/contract"))||!r&&!o?(0,T.jsxs)("div",{id:"landscape_blocker",className:"landscape-blocker",children:[(0,T.jsx)("div",{className:"landscape-blocker__icon",children:(0,T.jsx)($,{})}),(0,T.jsx)("div",{className:"landscape-blocker__message--landscape",children:"Please adjust your screen size for optimal viewing."}),(0,T.jsxs)("div",{className:"landscape-blocker__message--portrait",children:["Please adjust your ",(0,T.jsx)("br",{}),"screen size for ",(0,T.jsx)("br",{}),"optimal viewing."]})]}):null}));var ee=n(735623);const te=["key","content"];function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function oe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ie=(0,E.observer)((()=>{const{ui:e}=(0,Z.A)(),{toasts:t,removeToast:n}=e;if(0===t.length)return null;const r=t.filter((e=>!e.is_bottom)),o=t.filter((e=>e.is_bottom)),i=e=>{const{key:t,content:r}=e,o=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,te);return(0,T.jsx)(I.Toast,re(re({},o),{},{onClose:()=>n(t),children:r}),t)},a=(0,T.jsxs)(I.Div100vhContainer,{className:"toast-messages",height_offset:"15px",children:[(0,T.jsx)("div",{className:"toast-messages__top",children:r.map(i)}),(0,T.jsx)("div",{className:"toast-messages__bottom",children:o.map(i)})]});return ee.createPortal(a,document.getElementById("popup_root"))}));var ae=n(255530),se=n.n(ae);const ce=e=>{let{onAccept:t,onDecline:n,is_open:r,is_dark_mode:o}=e;return(0,T.jsxs)("div",{className:se()("cookie-banner",{"cookie-banner--is-closed":!r,"cookie-banner--theme-dark":o}),children:[(0,T.jsxs)("div",{className:"description",children:[(0,T.jsx)(m.Localize,{i18n_default_text:"Cookies help us to give you a better experience and personalised content on our site."}),(0,T.jsx)("br",{}),(0,T.jsx)(m.Localize,{i18n_default_text:"If you agree to our use of cookies, click on Accept. For more information, <0>see our policy</0>.",components:[(0,T.jsx)(I.StaticUrl,{className:"link link--red",href:"/terms-and-conditions",is_eu_url:!0},0)]})]}),(0,T.jsx)(I.Button,{className:"cookie-banner__btn-dont-accept",secondary:!0,onClick:n,children:(0,m.localize)("Don’t accept")}),(0,T.jsx)(I.Button,{id:"dt_core_cookie-banner_accept-btn",className:"cookie-banner__btn-accept",secondary:!0,onClick:t,children:(0,m.localize)("Accept")})]})};ce.prototype={is_dark_mode:c().bool,is_open:c().bool,onAccept:c().func,onDecline:c().func};const le=ce,ge=new b.CookieStorage(b.TRACKING_STATUS_KEY),de=(0,E.observer)((e=>{let{children:t}=e;const[n,o]=r.useState(!1),[i,a]=r.useState(!1),{client:s,common:{platform:c,is_from_tradershub_os:l},gtm:{pushDataLayer:g},ui:d}=(0,Z.A)(),{isDesktop:u,isMobile:_}=(0,w.Y)(),C=(0,L.useLocation)(),{is_eu_country:h,is_logged_in:m,is_logging_in:p}=s,{is_app_disabled:y,is_cashier_visible:f,is_cfd_page:B,is_positions_drawer_on:v,is_route_modal_on:F,notifyAppInstall:Q,setAppContentsScrollRef:x,is_dark_mode_on:G}=d,W=ge.get(b.TRACKING_STATUS_KEY),N=r.useRef(null),O=r.useRef(null),[E]=(0,U.A)({featureFlag:"dtrader_v2_enabled"}),[X]=(0,U.A)({featureFlag:"dtrader_v2_enabled_desktop"});r.useEffect((()=>{N.current&&x(N)}),[]),r.useEffect((()=>{var e,t,n;A.Analytics.pageView(window.location.href,{loggedIn:m,device_type:_?"mobile":"desktop",network_rtt:null===(e=navigator)||void 0===e||null===(e=e.connection)||void 0===e?void 0:e.rtt,network_type:null===(t=navigator)||void 0===t||null===(t=t.connection)||void 0===t?void 0:t.effectiveType,network_downlink:null===(n=navigator)||void 0===n||null===(n=n.connection)||void 0===n?void 0:n.downlink})}),[window.location.href]),r.useEffect((()=>{(!h||"accepted"===W)&&!i&&(g({event:"allow_tracking"}),a(!0))}),[i,h,g,W]),r.useEffect((()=>{W||m||p||b.WS.wait("website_status").then((()=>{o(h)}))}),[W,m,h,p]),r.useEffect((()=>{O.current&&(O.current.scrollTop=0)}),[null==C?void 0:C.pathname]),r.useEffect((()=>{const e=e=>{e.preventDefault(),Q(e)};return window.addEventListener("beforeinstallprompt",e),()=>window.removeEventListener("beforeinstallprompt",e)}),[Q]);return(0,T.jsxs)("div",{id:"app_contents",className:se()("app-contents",{"app-contents--show-positions-drawer":v,"app-contents--is-disabled":y,"app-contents--is-mobile":_,"app-contents--is-route-modal":F,"app-contents--is-scrollable":B||f,"app-contents--is-hidden":b.platforms[c]&&!(l&&_),"app-contents--is-onboarding":window.location.pathname===b.routes.onboarding,"app-contents--is-dtrader-v2":E||X}),ref:N,children:[_&&t,!_&&(window.location.pathname===b.routes.onboarding?(0,T.jsx)(I.ThemedScrollbars,{style:{maxHeight:"",height:"100%"},refSetter:O,children:t}):(0,T.jsx)(I.ThemedScrollbars,{height:u?"calc(100vh - 84px)":void 0,has_horizontal:!0,refSetter:O,children:t})),n&&(0,T.jsx)(le,{onAccept:()=>{ge.set(b.TRACKING_STATUS_KEY,"accepted",{sameSite:"none",secure:!0}),g({event:"allow_tracking"}),o(!1),a(!0)},onDecline:()=>{ge.set(b.TRACKING_STATUS_KEY,"declined",{sameSite:"none",secure:!0}),o(!1)},is_open:n,is_dark_mode:G})]})}));de.propTypes={children:c().any};const ue=(0,L.withRouter)(de);var _e=n(211509),Ie=n(597351),be=n(206022),Ce=n(223753);const he=["styles"];function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ye=e=>{let{styles:t={}}=e,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,he);return(0,T.jsx)("svg",Ae(Ae({width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),{},{children:(0,T.jsx)("path",{d:"M8 12a4 4 0 110-8 4 4 0 010 8zm0-7C6.35 5 5 6.35 5 8s1.35 3 3 3 3-1.35 3-3-1.35-3-3-3zm.5-2.5v-2C8.5.22 8.28 0 8 0s-.5.22-.5.5v2c0 .28.22.5.5.5s.5-.22.5-.5zm3.74 1.96l1.11-1.11a.5.5 0 000-.71.5.5 0 00-.71 0l-1.11 1.11a.5.5 0 000 .71.48.48 0 00.7 0h.01zm1.11 8.89a.5.5 0 000-.71l-1.11-1.11a.5.5 0 00-.71 0 .5.5 0 000 .71l1.11 1.11a.48.48 0 00.7 0h.01zm-10 0l1.11-1.11a.5.5 0 000-.71.5.5 0 00-.71 0l-1.11 1.11a.5.5 0 000 .71.48.48 0 00.7 0h.01zm1.11-8.89a.5.5 0 000-.71L3.35 2.64a.5.5 0 00-.71 0 .5.5 0 000 .71l1.11 1.11a.48.48 0 00.7 0h.01zM16 8a.5.5 0 00-.5-.5h-2c-.28 0-.5.22-.5.5s.22.5.5.5h2A.5.5 0 0016 8zm-7.5 7.5v-2c0-.28-.22-.5-.5-.5s-.5.22-.5.5v2c0 .28.22.5.5.5s.5-.22.5-.5zM3 8a.5.5 0 00-.5-.5h-2c-.28 0-.5.22-.5.5s.22.5.5.5h2A.5.5 0 003 8z",fill:"#333"})}))},fe=["styles"];function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){Fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Qe=e=>{let{styles:t={}}=e,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,fe);return(0,T.jsx)("svg",ve(ve({width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),{},{children:(0,T.jsx)("path",{d:"M8 16a8 8 0 01-7.72-5.93.48.48 0 01.13-.48.53.53 0 01.48-.13A6.99 6.99 0 009.45.9a.48.48 0 01.13-.48c.13-.13.31-.18.48-.13a8.01 8.01 0 015.93 7.72c0 4.41-3.59 8-8 8L8 16zm-6.49-5.39A7 7 0 008 15a7 7 0 002.61-13.49 7.98 7.98 0 01-9.1 9.1z",fill:"#C2C2C2"})}))},xe=()=>(0,T.jsx)("div",{className:"footer-icon-separator"}),Ge=(e,t)=>{const{Component:n}=e;return(0,T.jsxs)(r.Fragment,{children:[e.has_left_separator&&(0,T.jsx)(xe,{}),(0,T.jsx)(n,{}),e.has_right_separator&&(0,T.jsx)(xe,{})]},`footer-link-${e.position}-${t}`)},Ue=(0,E.observer)((()=>{const{client:e,common:t,ui:n,traders_hub:r}=(0,Z.A)(),{show_eu_related_content:o}=r,{has_wallet:i,is_logged_in:a,is_eu:s,landing_company_shortcode:c,is_virtual:l}=e,{current_language:g}=t,{enableApp:d,footer_extensions:u,settings_extension:_,is_app_disabled:C,is_route_modal_on:h,is_settings_modal_on:A,is_language_settings_modal_on:p,disableApp:y,toggleSettingsModal:f,toggleLanguageSettingsModal:B,is_dark_mode_on:v,setDarkMode:Q}=n;let x=[],G=[];u.filter&&(x=u.filter((e=>"left"===e.position)),G=u.filter((e=>"right"===e.position)));const U=()=>{Q(!v)},W=window.location.pathname,{data:N}=(0,F.A)(!0),{cs_chat_livechat:O,cs_chat_whatsapp:E}=N,X=!b.isTabletOs,w=v?(0,T.jsx)(Qe,{onClick:U}):(0,T.jsx)(ye,{onClick:U});return(0,T.jsxs)("footer",{className:se()("footer",{"footer--is-disabled":C||h}),children:[x.length>0&&(0,T.jsx)("div",{className:"footer__links footer__links--left",children:x.map(Ge)}),(0,T.jsx)(_e.Ij,{}),(0,T.jsx)(_e.Ay,{}),(0,T.jsx)(xe,{}),(0,T.jsx)(Ce.A,{}),(0,T.jsx)(xe,{}),(0,T.jsxs)("div",{className:"footer__links",children:[G.map(Ge),E&&(0,T.jsx)(be.A,{showPopover:X}),O&&(0,T.jsx)(Ie.A,{showPopover:X}),(0,T.jsx)(_e.WO,{showPopover:X}),a&&(0,T.jsx)(_e.qI,{showPopover:X}),a&&!l&&(0,T.jsx)(_e.Hg,{landing_company:c,is_eu:s,show_eu_related_content:o,showPopover:X}),!i&&(0,T.jsx)("div",{className:"footer__links--dark-mode",children:X?(0,T.jsx)(I.Popover,{alignment:"top",message:(0,m.localize)("Change theme"),zIndex:9999,children:w}):w}),(0,T.jsx)(xe,{}),(0,T.jsx)(_e.nX,{showPopover:X}),W===b.routes.trade&&(0,T.jsx)(_e.AL,{is_settings_visible:A,toggleSettings:f,disableApp:y,enableApp:d,settings_extension:_,showPopover:X}),(0,T.jsx)(_e.aZ,{is_settings_visible:p,toggleSettings:B,lang:g,showPopover:X}),(0,T.jsx)(_e.An,{showPopover:X})]})]})}));Ue.propTypes={location:c().object};const We=(0,L.withRouter)(Ue),Ne=()=>{const{isDesktop:e,isTablet:t}=(0,w.Y)(),{pathname:n}=(0,L.useLocation)(),r=(0,b.isDisabledLandscapeBlockerRoute)(n),o=n===b.routes.trade,i=[b.routes.contract];return n===b.routes.onboarding?null:r||o?e||t&&i.includes(n)?(0,T.jsx)(We,{}):null:(0,T.jsx)(I.DesktopWrapper,{children:(0,T.jsx)(We,{})})};var Oe=n(592129);const Ee=()=>(0,T.jsx)("div",{className:se()("header")}),Ze=(0,b.makeLazyLoader)((()=>(0,b.moduleLoader)((()=>Promise.all([n.e(2997),n.e(4061),n.e(189),n.e(6212)]).then(n.bind(n,50442))))),(()=>(0,T.jsx)(Ee,{})))(),Xe=(0,b.makeLazyLoader)((()=>(0,b.moduleLoader)((()=>Promise.all([n.e(2997),n.e(4061),n.e(189),n.e(2701)]).then(n.bind(n,9999))))),(()=>(0,T.jsx)(Ee,{})))(),we=(0,b.makeLazyLoader)((()=>(0,b.moduleLoader)((()=>Promise.all([n.e(2997),n.e(4061),n.e(189),n.e(3317)]).then(n.bind(n,801272))))),(()=>(0,T.jsx)(Ee,{})))(),Re=(0,b.makeLazyLoader)((()=>(0,b.moduleLoader)((()=>Promise.all([n.e(2997),n.e(4061),n.e(189),n.e(5788)]).then(n.bind(n,267785))))),(()=>(0,T.jsx)(Ee,{})))(),Te=(0,b.makeLazyLoader)((()=>(0,b.moduleLoader)((()=>Promise.all([n.e(4061),n.e(4946)]).then(n.bind(n,687796))))),(()=>(0,T.jsx)(Ee,{})))(),Ve=(0,b.makeLazyLoader)((()=>(0,b.moduleLoader)((()=>Promise.all([n.e(2997),n.e(4061),n.e(4363)]).then(n.bind(n,655673))))),(()=>(0,T.jsx)(Ee,{})))(),je=(0,E.observer)((()=>{const{client:e,common:t}=(0,Z.A)(),{accounts:n,has_wallet:o,is_logged_in:i,setAccounts:a,loginid:s,switchAccount:c}=e,{is_from_tradershub_os:l}=t,{pathname:g}=(0,L.useLocation)(),d=g.includes(b.routes.wallets),u=[b.routes.traders_hub,b.routes.account,b.routes.cashier,b.routes.wallets_compare_accounts,b.routes.compare_cfds].includes(g)||g.startsWith(b.routes.compare_cfds)||d,_=(0,Oe.QH)("client.accounts");if(r.useEffect((()=>{if(o&&i){const e=Object.keys(null!=n?n:{});Object.keys(null!=_?_:{}).length>e.length&&a(_)}}),[n,_,o,i,s,a,c]),i){let e;switch(!0){case g===b.routes.onboarding:e=null;break;case u:e=o?(0,T.jsx)(Ve,{}):(0,T.jsx)(Te,{});break;case g.includes(b.routes.account):e=l?(0,T.jsx)(we,{}):o?(0,T.jsx)(Re,{}):(0,T.jsx)(we,{});break;default:e=o?(0,T.jsx)(Re,{}):(0,T.jsx)(we,{})}return e}return g===b.routes.onboarding?null:o?(0,T.jsx)(Xe,{}):(0,T.jsx)(Ze,{})}));var ke=n(192299),Se=n.n(ke),Ye=n(422692),Pe=n(702001);const De=(0,E.observer)((()=>{const{ui:e,traders_hub:t}=(0,Z.A)(),{is_eu_user:n}=t,{is_deriv_account_needed_modal_visible:r,openDerivRealAccountNeededModal:o,disableApp:i,enableApp:a,openRealAccountSignup:s}=e;return(0,T.jsx)(I.Dialog,{className:"open-real-account-dialog",title:(0,m.localize)("You’ll need a Deriv account"),confirm_button_text:(0,m.localize)("Add Deriv Account"),onConfirm:()=>{n?(o(),s("maltainvest")):(o(),s("svg"))},cancel_button_text:(0,m.localize)("Cancel"),onCancel:o,is_closed_on_cancel:!0,disableApp:i,enableApp:a,is_closed_on_confirm:!0,is_visible:r,children:(0,m.localize)("A Deriv account will allow you to fund (and withdraw from) your CFDs account(s).")})})),Je=(0,E.observer)((()=>{const{client:e,ui:t}=(0,Z.A)(),{is_account_needed_modal_on:n,account_needed_modal_props:{target:r,target_label:o,target_dmt5_label:i},closeAccountNeededModal:a,disableApp:s,enableApp:c,openRealAccountSignup:l}=t,{is_eu:g}=e,d=g?(0,m.localize)("CFDs"):(0,m.localize)("Deriv MT5"),u=g?(0,m.localize)("Deriv Multipliers"):(0,m.localize)("Deriv");return(0,T.jsx)(I.Dialog,{title:(0,m.localize)("You’ll need a {{deriv_account}} account",{deriv_account:o}),confirm_button_text:(0,m.localize)("Add {{deriv_account}} account",{deriv_account:o}),onConfirm:()=>{a(),l(r)},cancel_button_text:(0,m.localize)("Cancel"),onCancel:a,is_closed_on_cancel:!0,disableApp:s,enableApp:c,is_closed_on_confirm:!0,is_visible:n,children:(0,T.jsx)(m.Localize,{i18n_default_text:"Please add a {{deriv_account}} account first before adding a {{dmt5_account}} account. Deposits and withdrawals for your {{dmt5_label}} account are done by transferring funds to and from your {{deriv_label}} account.",values:{deriv_account:o,dmt5_account:i,dmt5_label:d,deriv_label:u}})})})),Le=e=>{let{is_logged_in:t,is_eu:n,portal_id:o}=e;const[i,a]=r.useState(!1),[s,c]=r.useState(""),l=()=>{a(!1)},g=e=>{const r="A"===e.target.tagName?e.target:e.target.closest("a");r&&(e=>{let t;try{t=new URL(e)}catch(e){return!1}return!(!t.host||new RegExp(`^.*\\.${(0,b.getCurrentProductionDomain)()||"binary\\.com"}$`).test(t.host)||new RegExp("^.*\\.binary\\.bot$").test(t.host)||/www\.(betonmarkets|xodds)\.com/.test(t.host)||/deriv.(app|com)/.test(t.host)||window.location.host===t.host)})(r.href)&&t&&n&&(e.preventDefault(),e.stopPropagation(),c(r.href),a(!0))};return r.useEffect((()=>(document.addEventListener("click",g),()=>{document.removeEventListener("click",g)})),[t,n]),ee.createPortal((0,T.jsx)(I.Dialog,{className:"redirect-notice",is_visible:i,title:"Redirect notice",cancel_button_text:(0,m.localize)("Cancel"),confirm_button_text:(0,m.localize)("Proceed"),onCancel:l,onConfirm:()=>{a(!1),window.open(s)},dismissable:l,children:(0,m.localize)("You are being redirected to an external website.")}),document.getElementById(o))},Me=(0,E.observer)((()=>{const{ui:e}=(0,Z.A)(),{should_show_assessment_complete_modal:t,setShouldShowAssessmentCompleteModal:n}=e;return(0,T.jsxs)(I.Modal,{width:"44rem",has_close_icon:!1,className:"center-risk-modal",is_open:t,children:[(0,T.jsxs)(I.Modal.Body,{children:[(0,T.jsx)(I.Icon,{icon:"IcVerificationSuccess",color:"green",size:80}),(0,T.jsx)(I.Text,{as:"p",align:"center",weight:"bold",className:"verified-account__text",children:(0,T.jsx)(m.Localize,{i18n_default_text:"Assessment Completed<0/><0/>",components:[(0,T.jsx)("br",{},0)]})}),(0,T.jsx)(I.Text,{as:"p",size:"xs",align:"center",children:(0,T.jsx)(m.Localize,{i18n_default_text:"Thank you! Your response has been recorded into our system.<0/><0/>Please click ‘OK’ to continue.",components:[(0,T.jsx)("br",{},0)]})})]}),(0,T.jsx)(I.Modal.Footer,{children:(0,T.jsx)(I.Button,{type:"button",large:!0,text:(0,m.localize)("OK"),primary:!0,onClick:()=>{n(!1)}})})]})}));var ze=n(462518);const He=(0,E.observer)((()=>{const{ui:e}=(0,Z.A)(),{should_show_account_success_modal:t,setShouldTriggerTourGuide:n,toggleAccountSuccessModal:r,disableApp:o,enableApp:i,setIsVerificationModalVisible:a,setIsFromSuccessDepositModal:s,is_mobile:c}=e,{has_mf_account_deposited:l}=(0,ze.A)(),g=()=>{r(),n(!0)};return(0,T.jsx)(I.Dialog,{className:"ready-to-verify-dialog",title:l?(0,m.localize)("Successfully deposited"):(0,m.localize)("Account added"),confirm_button_text:(0,m.localize)("Verify now"),onConfirm:()=>{l&&s(!0),r(),a(!0)},cancel_button_text:(0,m.localize)("Maybe later"),onCancel:g,disableApp:o,enableApp:i,is_visible:t,dismissable:!0,has_close_icon:!1,onEscapeButtonCancel:g,children:(0,T.jsx)(I.Text,{align:"center",size:c?"xxs":"xs",children:l?(0,T.jsx)(m.Localize,{i18n_default_text:"Your funds will be available for trading once the verification of your account is complete."}):(0,T.jsx)(m.Localize,{i18n_default_text:"Your account will be available for trading once the verification of your account is complete."})})})})),Ke=(0,E.observer)((()=>{const{client:e,ui:t}=(0,Z.A)(),{real_account_creation_unlock_date:n}=e,{should_show_cooldown_modal:r,setShouldShowCooldownModal:o}=t,i=(0,b.formatDate)(n,"DD MMMM"),a=(0,b.formatTime)(n,"hh:mm [GMT]"),s=(0,m.localize)("{{unblock_date}} at {{unblock_time}}",{unblock_date:i,unblock_time:a});return(0,T.jsxs)(I.Modal,{width:"44rem",title:(0,m.localize)("Account creation paused for 24 hours"),is_open:r,toggleModal:()=>o(!r),className:"center-risk-modal",has_close_icon:!(0,b.isMobile)(),children:[(0,T.jsxs)(I.Modal.Body,{children:[(0,T.jsx)(I.Icon,{icon:"IcRedWarning",size:63}),(0,T.jsxs)(I.Text,{as:"p",size:"xs",align:"center",className:"risk-acceptance__text",children:[(0,T.jsx)(m.Localize,{i18n_default_text:"Sorry, you're unable to create an account at this time. As you declined our previous risk warnings, we need you to wait for 24 hours after your first account creation attempt before you can proceed.<0/><0/>",components:(0,T.jsx)("br",{},0)}),(0,T.jsx)(m.Localize,{i18n_default_text:"We take your financial well-being seriously and want to ensure you are fully aware of the risks before trading.<0/><0/>",components:(0,T.jsx)("br",{},0)}),(0,T.jsx)(m.Localize,{i18n_default_text:"Thank you for your understanding. You can create your account on {{real_account_unblock_date}} or later.",values:{real_account_unblock_date:s}})]})]}),(0,T.jsx)(I.Modal.Footer,{children:(0,T.jsx)(I.Button,{type:"button",large:!0,text:(0,m.localize)("OK"),primary:!0,onClick:()=>{o(!1)}})})]})})),$e=(0,E.observer)((()=>{const{ui:e,traders_hub:t}=(0,Z.A)(),{is_eu_user:n,selectRegion:r}=t,{is_need_real_account_for_cashier_modal_visible:o,toggleNeedRealAccountForCashierModal:i,disableApp:a,enableApp:s,openRealAccountSignup:c}=e,l=(0,L.useHistory)(),g=n?"EU":"non-EU",d=n?"non-EU":"EU";return(0,T.jsx)(I.Dialog,{className:"need-real-account-for-cashier-dialog",title:(0,m.localize)("The cashier is for real accounts only"),confirm_button_text:(0,m.localize)("Add account"),onConfirm:()=>(i(),c(n?"maltainvest":"svg")),cancel_button_text:(0,m.localize)("Switch account"),onCancel:async()=>{i(),await r(n?"Non-EU":"EU"),l.push(b.routes.cashier_deposit)},is_closed_on_cancel:!0,disableApp:a,enableApp:s,is_closed_on_confirm:!0,is_visible:o,dismissable:!1,has_close_icon:!0,onClose:i,children:(0,T.jsx)(m.Localize,{i18n_default_text:"It looks like you don’t have a real {{regulation}} account. To use the cashier, switch to your {{active_real_regulation}} real account, or get an {{regulation}} real account.",values:{regulation:g,active_real_regulation:d}})})})),qe=(0,E.observer)((()=>{const{ui:e,traders_hub:t,client:n}=(0,Z.A)(),{is_eu_user:r}=t,{is_ready_to_deposit_modal_visible:o,toggleReadyToDepositModal:i,disableApp:a,enableApp:s,openRealAccountSignup:c,setShouldShowCooldownModal:l}=e,{real_account_creation_unlock_date:g}=n;return(0,T.jsx)(I.Dialog,{className:"ready-to-deposit-dialog",title:(0,m.localize)("Ready to deposit and trade for real?"),confirm_button_text:(0,m.localize)("Add real account"),onConfirm:()=>(i(),g?l(!0):c(r?"maltainvest":"svg")),cancel_button_text:(0,m.localize)("Maybe later"),onCancel:i,is_closed_on_cancel:!0,disableApp:a,enableApp:s,is_closed_on_confirm:!0,is_visible:o,dismissable:!0,has_close_icon:!1,onEscapeButtonCancel:i,children:(0,m.localize)("You need a real Deriv account to access the cashier.")})}));var et=n(109582),tt=n.n(et);const nt=(0,E.observer)((()=>{const{ui:e}=(0,Z.A)(),{should_show_risk_accept_modal:t,setShouldShowWarningModal:n,setShouldShowAssessmentCompleteModal:r,setIsTradingAssessmentForNewUserEnabled:o}=e;return(0,T.jsx)(tt(),{show_risk_modal:t,body_content:(0,T.jsxs)(I.Text,{as:"p",size:"xs",children:[(0,T.jsx)(m.Localize,{i18n_default_text:"In providing our services to you, we are required to ask you for some information to assess if a given product or service is appropriate for you and whether you have the experience and knowledge to understand the risks involved.<0/><0/>",components:[(0,T.jsx)("br",{},0)]}),(0,T.jsx)(m.Localize,{i18n_default_text:"Based on your answers, it looks like you have insufficient knowledge and experience in trading CFDs. CFD trading is risky and you could potentially lose all of your capital.<0/><0/>",components:[(0,T.jsx)("br",{},0)]}),(0,T.jsx)(m.Localize,{i18n_default_text:"Please note that by clicking ‘OK’, you may be exposing yourself to risks. You may not have the knowledge or experience to properly assess or mitigate these risks, which may be significant, including the risk of losing the entire sum you have invested."})]}),footer_content:(0,T.jsx)(I.Button,{type:"button",large:!0,text:(0,m.localize)("OK"),primary:!0,onClick:()=>{n(!1),window.location.href.includes(b.routes.trading_assessment)?r(!1):(r(!0),o(!0))}})})}));var rt=n(272010);const ot=(e,t)=>{A.Analytics.trackEvent("ce_tradershub_popup",{action:e,form_name:"ce_tradershub_popup",account_mode:t,popup_name:"almost_there_wallets_step_3_1",popup_type:"with_cta"})},it=(0,E.observer)((()=>{const{client:e,ui:t}=(0,Z.A)(),{is_virtual:n,logout:o}=e,{is_desktop:i}=t,a=n?"demo":"real",{oAuthLogout:s,isOAuth2Enabled:c}=(0,Q.A)({handleLogout:async()=>{await o(),c?await(0,rt.ZF)({redirectCallbackUri:`${window.location.origin}/callback`}):(0,b.redirectToLogin)(!1,(0,m.getLanguage)())}});r.useEffect((()=>{ot("open",a)}),[a]);return(0,T.jsxs)(I.Dialog,{className:"wallets-upgrade-logout-modal",confirm_button_text:(0,m.localize)("Log out"),onConfirm:async()=>{Se().set("recent_wallets_migration","true",{path:"/",expires:.5,secure:!0}),await s(),ot("click_cta",a)},is_closed_on_confirm:!0,is_visible:!0,dismissable:!1,has_close_icon:!1,children:[(0,T.jsx)(I.Icon,{className:"wallets-upgrade-logout-modal__pic",icon:"IcWalletUpgradeLogout"}),(0,T.jsxs)("div",{className:"wallets-upgrade-logout-modal__content",children:[(0,T.jsx)(m.Localize,{i18n_default_text:"<0>You're almost there!</0>",components:[(0,T.jsx)(I.Text,{weight:"bold",size:i?"m":"s"},0)]}),(0,T.jsx)(m.Localize,{i18n_default_text:"<0>To complete your Wallet setup, log out and then log in again.</0>",components:[(0,T.jsx)(I.Text,{align:i?"left":"center",size:i?"s":"xxs"},0)]})]})]})})),at=(0,E.observer)((()=>{const e=(0,L.useHistory)(),{ui:t}=(0,Z.A)(),{is_mobile:n}=t,[o,i]=(0,r.useState)(!0),a=()=>{i(!1),Se().remove("recent_wallets_migration"),e.push(b.routes.traders_hub)},s=e=>{let{children:t,footer:r}=e;return n?(0,T.jsx)(I.MobileDialog,{portal_element_id:"modal_root",visible:o,onClose:a,footer:r,has_close_icon:!1,children:t}):(0,T.jsxs)(I.Modal,{is_open:o,has_close_icon:!1,children:[t,r]})},c=()=>(0,T.jsx)(I.Modal.Footer,{has_separator:!0,children:(0,T.jsx)(I.Button,{primary:!0,large:!0,className:"wallets-upgrade-completed-modal__button",onClick:a,children:(0,T.jsx)(m.Localize,{i18n_default_text:"Get started"})})});return(0,T.jsx)(s,{footer:(0,T.jsx)(c,{}),children:(0,T.jsxs)("div",{className:"wallets-upgrade-completed-modal",children:[(0,T.jsx)(I.Icon,{icon:"IcWalletUpgradeCompleted",className:"wallets-upgrade-completed-modal__pic"}),(0,T.jsxs)("div",{className:"wallets-upgrade-completed-modal__text-container",children:[(0,T.jsx)(m.Localize,{i18n_default_text:"<0>Your Wallets are ready!</0>",components:[(0,T.jsx)(I.Text,{align:"center",size:n?"xsm":"m",weight:"bold"},0)]}),(0,T.jsx)(m.Localize,{i18n_default_text:"<0>Explore the exciting new features that your Wallet offers.</0>",components:[(0,T.jsx)(I.Text,{align:"center",size:n?"xs":"s"},0)]})]})]})})})),st=at;var ct=n(620993);const lt=r.lazy((()=>(0,b.moduleLoader)((()=>n.e(6070).then(n.bind(n,331191)))))),gt=r.lazy((()=>(0,b.moduleLoader)((()=>n.e(3983).then(n.bind(n,208583)))))),dt=r.lazy((()=>(0,b.moduleLoader)((()=>Promise.all([n.e(7110),n.e(1470)]).then(n.bind(n,95627)))))),ut=r.lazy((()=>(0,b.moduleLoader)((()=>n.e(5283).then(n.bind(n,663226)))))),_t=r.lazy((()=>(0,b.moduleLoader)((()=>n.e(3225).then(n.bind(n,289881)))))),It=r.lazy((()=>(0,b.moduleLoader)((()=>n.e(7884).then(n.bind(n,499399)))))),bt=r.lazy((()=>n.e(7884).then(n.bind(n,158965)))),Ct=r.lazy((()=>(0,b.moduleLoader)((()=>n.e(3854).then(n.bind(n,981285)))))),ht=r.lazy((()=>(0,b.moduleLoader)((()=>n.e(3438).then(n.bind(n,857703)))))),mt=r.lazy((()=>n.e(243).then(n.bind(n,217763)))),At=r.lazy((()=>n.e(6151).then(n.bind(n,307481)))),pt=r.lazy((()=>n.e(3242).then(n.bind(n,354259)))),yt=r.lazy((()=>n.e(2984).then(n.bind(n,651688)))),ft=r.lazy((()=>n.e(3352).then(n.bind(n,199716)))),Bt=r.lazy((()=>n.e(7671).then(n.bind(n,745848)))),vt=(0,E.observer)((()=>{const{client:e,ui:t,traders_hub:n}=(0,Z.A)(),{has_wallet:o,is_authorize:i,is_logged_in:a,fetchFinancialAssessment:s,setCFDScore:c,landing_company_shortcode:l,is_trading_experience_incomplete:g}=e,{content_flag:d}=n,{is_account_needed_modal_on:u,is_closing_create_real_account_modal:_,is_set_residence_modal_visible:I,should_show_cooldown_modal:C,should_show_assessment_complete_modal:h,toggleAccountSignupModal:m,is_trading_assessment_for_new_user_enabled:A,is_deriv_account_needed_modal_visible:p,is_ready_to_deposit_modal_visible:y,is_need_real_account_for_cashier_modal_visible:f,should_show_risk_accept_modal:B,is_verification_modal_visible:v,is_verification_submitted:F,isUrlUnavailableModalVisible:Q,should_show_one_time_deposit_modal:x,should_show_account_success_modal:G,should_show_crypto_transaction_processing_modal:U,should_show_same_dob_phone_modal:W,is_tnc_update_modal_open:N,toggleTncUpdateModal:O}=t,E=b.SessionStore.get("signup_query_param"),X=new URLSearchParams((0,L.useLocation)().search||E).get("action"),w=[b.ContentFlag.LOW_RISK_CR_EU,b.ContentFlag.EU_REAL,b.ContentFlag.EU_DEMO].includes(d),{is_migrated:R}=(0,Ye.A)(),V=Se().get("recent_wallets_migration"),j=(0,Pe.A)();r.useEffect((()=>{j&&O(!0)}),[j,O]),r.useEffect((()=>{a&&i&&s().then((e=>{var t;c(null!==(t=null==e?void 0:e.cfd_score)&&void 0!==t?t:0)}))}),[a,i]);const k=window.location.href.includes(b.routes.onboarding),S=a&&"maltainvest"===l&&!A&&g&&d!==b.ContentFlag.LOW_RISK_CR_EU&&d!==b.ContentFlag.LOW_RISK_CR_NON_EU;E&&k?m(!0):(b.SessionStore.remove("signup_query_param"),m(!1));let Y=null;switch(X){case"redirect_to_login":Y=(0,T.jsx)(Ct,{});break;case"reset_password":Y=(0,T.jsx)(It,{});break;case"signup":Y=(0,T.jsx)(_t,{});break;case"request_email":Y=(0,T.jsx)(mt,{});break;case"social_email_change":Y=(0,T.jsx)(bt,{});break;case"system_email_change":Y=(0,T.jsx)(At,{});break;default:I&&(Y=(0,T.jsx)(ht,{}))}return X||(S?Y=(0,T.jsx)(gt,{}):_?Y=(0,T.jsx)(pt,{}):u?Y=(0,T.jsx)(Je,{}):C?Y=(0,T.jsx)(Ke,{}):h?Y=(0,T.jsx)(Me,{}):p?Y=(0,T.jsx)(De,{}):B?Y=(0,T.jsx)(nt,{}):Q&&(Y=(0,T.jsx)(ut,{})),o&&V&&(Y=(0,T.jsx)(st,{})),!o&&R&&a&&(Y=(0,T.jsx)(it,{})),y&&(Y=(0,T.jsx)(qe,{})),f&&(Y=(0,T.jsx)($e,{})),v&&(Y=(0,T.jsx)(dt,{})),F&&(Y=(0,T.jsx)(yt,{})),x&&(Y=(0,T.jsx)(ft,{})),U&&(Y=(0,T.jsx)(ct.A,{})),G&&(Y=(0,T.jsx)(He,{})),W&&(Y=(0,T.jsx)(lt,{})),N&&(Y=(0,T.jsx)(Bt,{}))),(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(Le,{is_logged_in:a,is_eu:w,portal_id:"popup_root"}),Y?(0,T.jsx)(r.Suspense,{fallback:(0,T.jsx)("div",{}),children:Y}):null]})}));var Ft=n(668017),Qt=n.n(Ft),xt=n(852691);function Gt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gt(Object(n),!0).forEach((function(t){Wt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Nt=Qt()({loader:()=>Promise.resolve().then(n.bind(n,445315)),loading:I.UILoader,render(e,t){const n=e.default;return(0,T.jsx)(n,Ut({},t))}}),Ot=(0,E.observer)((e=>{let{history:t,location:n,passthrough:o}=e;const{client:i,common:a}=(0,Z.A)(),{is_logged_in:s,is_logging_in:c}=i,{error:l,has_error:g,setAppRouterHistory:d,addRouteHistoryItem:u,setInitialRouteHistoryItem:_}=a,I=r.useRef(null),C=r.useRef(null);r.useEffect((()=>(C.current||I.current||(I.current=n.pathname),_(t.location),C.current=t.listen(((e,t)=>{["PUSH","POP"].includes(t)&&u(Ut(Ut({},e),{},{action:t}))})),d(t),()=>{"function"==typeof C.current&&(C.current(),C.current=null,I.current=null)})),[]);const h=(0,m.getLanguage)(),A=/[?&]lang=/.test(n.search);return g?(0,T.jsx)(Nt,Ut({},l)):((!A&&"EN"!==h||A&&"EN"===h)&&window.history.replaceState({},document.title,(0,b.urlForLanguage)(h)),(0,T.jsx)(xt.Ay,{is_logged_in:s,is_logging_in:c,passthrough:o}))}));Ot.propTypes={history:c().object,location:c().object,passthrough:c().object};const Et=(0,L.withRouter)(Ot);var Zt=n(824223);function Xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xt(Object(n),!0).forEach((function(t){Rt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Tt=(0,E.observer)((()=>{const e=(0,Zt.useFormik)({initialValues:{app_id:(0,b.getAppId)(),server:(0,b.getSocketURL)(),is_debug_service_worker_enabled:!!(0,b.getDebugServiceWorker)()},onSubmit:e=>{localStorage.setItem("config.app_id",e.app_id.toString()),localStorage.setItem("config.server_url",e.server),localStorage.setItem("debug_service_worker",(e.is_debug_service_worker_enabled?1:0).toString()),sessionStorage.removeItem("config.platform"),location.reload()},validate:e=>{const t={};return e.app_id?/^\d+$/.test(e.app_id.toString())||(t.app_id="Please enter a valid app ID."):t.app_id="App ID is required.",e.server?/^[\w|\-|.]+$/.test(e.server)||(t.server="Please enter a valid server."):t.server="Server is required.",t}});return(0,T.jsxs)("div",{className:"devtools__endpoint-container",children:[(0,T.jsx)(I.Input,wt({type:"text",autoComplete:"off",maxLength:30,error:e.touched.server?e.errors.server:void 0,label:"Server",hint:"e.g. frontend.derivws.com"},e.getFieldProps("server"))),(0,T.jsx)(I.Input,wt({type:"text",autoComplete:"off",maxLength:30,error:e.touched.app_id?e.errors.app_id:void 0,label:"OAuth App ID",hint:(0,T.jsxs)(r.Fragment,{children:["Register an"," ",(0,T.jsx)("a",{href:"https://developers.binary.com/applications/",target:"_blank",rel:"noopener noreferrer",children:"app ID"})," ","to use the above server for logging in."]})},e.getFieldProps("app_id"))),(0,T.jsx)(I.Checkbox,wt({classNameLabel:"devtools__checkbox-label",label:"Enable Service Worker registration for this URL"},e.getFieldProps("is_debug_service_worker_enabled"))),(0,T.jsxs)("div",{className:"devtools__endpoint-actions",children:[(0,T.jsx)(I.Button,{type:"submit",is_disabled:!e.isValid||!e.dirty,text:"Submit",primary:!0,onClick:()=>e.handleSubmit()}),(0,T.jsx)(I.Button,{type:"button",onClick:()=>{localStorage.removeItem("config.app_id"),localStorage.removeItem("config.server_url"),location.reload()},text:"Reset to original settings"})]})]})})),Vt=(0,E.observer)((()=>{const{feature_flags:e}=(0,Z.A)();return e.data?(0,T.jsx)("div",{className:"devtools__checkbox-container",children:Object.keys(e.data).map((t=>{var n;const r=t;return(0,T.jsx)(I.Checkbox,{className:"devtools__checkbox",classNameLabel:"devtools__checkbox-label",label:r,value:null===(n=e.data)||void 0===n?void 0:n[r],onChange:t=>e.update((e=>wt(wt({},e),{},{[r]:t.target.checked})))},r)}))}):null})),jt=((0,E.observer)((()=>{const[e,t]=(0,r.useState)(!1);return(0,T.jsxs)("div",{children:[(0,T.jsxs)("div",{className:"devtools__panel devtools__panel"+(e?"--open":"--close"),children:[(0,T.jsxs)("div",{className:"devtools__panel-left",children:[(0,T.jsx)("p",{className:"devtools__panel-title",children:"Endpoint"}),(0,T.jsx)(Tt,{})]}),(0,T.jsxs)("div",{className:"devtools__panel-right",children:[(0,T.jsx)("p",{className:"devtools__panel-title",children:"Feature flags"}),(0,T.jsx)(Vt,{})]}),(0,T.jsx)("button",{onClick:()=>t(!e),className:"devtools__close-button",children:"Close"})]}),(0,T.jsx)("button",{onClick:()=>t(!e),className:"devtools__toggle-button",children:"</>"})]})})),()=>null),kt=(0,E.observer)((e=>{let{passthrough:t}=e;const n=(0,Z.A)(),{has_wallet:o,is_logged_in:i,loginid:a,is_client_store_initialized:s,landing_company_shortcode:c,currency:l,residence:g,logout:d,email:u,setIsPasskeySupported:_,account_settings:I,setIsPhoneNumberVerificationEnabled:b,setIsCountryCodeDropdownEnabled:C,accounts:h}=n.client,{first_name:m,last_name:A}=I,{current_language:p,changeSelectedLanguage:f}=n.common,{is_dark_mode_on:B,setDarkMode:v}=n.ui,{isMobile:E}=(0,w.Y)(),{switchLanguage:k}=(0,y.useTranslations)(),{isOAuth2Enabled:P}=(0,Q.A)({handleLogout:async()=>{await d()}}),{isChangingToHubAppId:D}=(0,x.A)(),L=localStorage.getItem("config.app_id"),[M,z]=(0,G.A)({featureFlag:"web_passkeys"}),[H]=(0,G.A)({featureFlag:"service_passkeys"}),[K,$]=(0,U.A)({featureFlag:"phone_number_verification"}),[ee,te]=(0,U.A)({featureFlag:"enable_country_code_dropdown"}),{data:ne}=(0,F.A)(!0),{tracking_datadog:re}=ne,oe=(0,R.zZ)(),ae={is_client_store_initialized:s,is_logged_in:i,loginid:a,landing_company_shortcode:c,currency:l,residence:g,email:u,first_name:m,last_name:A};(0,W.A)(ae);const se=null==h?void 0:h[null!=a?a:""],ce=se?se.token:null;(0,N.A)(ce),(0,O.Ay)(ce),r.useEffect((()=>{if(D&&!L){const e=53503;localStorage.setItem("config.app_id",e.toString())}}),[D,L]),r.useEffect((()=>{k(p)}),[p,k]),r.useEffect((()=>{$&&b(!!K)}),[K,b,$]),r.useEffect((()=>{te&&C(!!ee)}),[ee,C,te]),r.useEffect((()=>{z&&M&&H&&_(oe&&H&&M&&E)}),[H,z,M,oe,E,_]),r.useEffect((()=>{S(re)}),[re]),r.useEffect((()=>{s&&Y(n.client)}),[n.client,s]),r.useLayoutEffect((()=>{o&&B&&v(!1)}),[o,p,f,B,v]);const le=window.location.pathname.includes("callback");return(0,T.jsxs)(X.N,{theme:B?"dark":"light",children:[(0,T.jsx)(q,{}),!le&&(0,T.jsx)(je,{}),(0,T.jsx)(J,{root_store:n,children:(0,T.jsx)(ue,{children:(0,T.jsx)(Et,{passthrough:t})})}),(0,T.jsx)(Ne,{}),(0,T.jsx)(J,{root_store:n,children:(0,T.jsx)(vt,{})}),!P&&(0,T.jsx)(j,{}),!P&&(0,T.jsx)(V,{}),(0,T.jsx)(ie,{}),(0,T.jsx)(jt,{})]})})),St=e=>{var t;let{root_store:i}=e;const s=(0,y.initializeI18n)({cdnUrl:"https://translations.deriv.com/deriv-app-account/staging"}),c=window.location,g=c.pathname.split("/")[1],u=/^\/(br_)/.test(c.pathname),[F]=(0,b.useOnLoadTranslation)(),{i18n:Q}=(0,o.B)(),{preferred_language:x}=i.client,{is_dark_mode_on:G}=i.ui,U=G||(null===(t=JSON.parse(localStorage.getItem("ui_store")))||void 0===t?void 0:t.is_dark_mode_on),W=null!=x?x:(0,y.getInitialLanguage)();r.useEffect((()=>{const e=Q.dir(Q.language.toLowerCase());document.documentElement.dir=e}),[Q,Q.language]),r.useEffect((()=>{i.modules.attachModule("cashier",new(d())(i,f.A)),i.modules.cashier.general_store.init(),i.modules.attachModule("cfd",new(_())({root_store:i,WS:f.A}));(0,m.initializeTranslations)(),(0,b.setUrlLanguage)((0,m.getLanguage)()),(0,b.initFormErrorMessages)(v),(0,b.setSharedCFDText)(B),i.common.setPlatform(),n.e(9238).then(n.bind(n,579238))}),[]);const N={root_store:i,WS:f.A,i18nInstance:s,language:W};return(0,b.setWebsocket)(f.A),r.useEffect((()=>{i.client.email||A.Analytics.reset()}),[i.client.email]),r.useEffect((()=>{var e;const t=null===(e=document)||void 0===e?void 0:e.querySelector("html");var n,r,o,i;t&&(U?(null===(n=t.classList)||void 0===n||n.remove("light"),null===(r=t.classList)||void 0===r||r.add("dark")):(null===(o=t.classList)||void 0===o||o.remove("dark"),null===(i=t.classList)||void 0===i||i.add("light")))}),[]),(0,T.jsx)(T.Fragment,{children:F?(0,T.jsx)(a.BrowserRouter,{basename:u?`/${g}`:null,children:(0,T.jsx)(C.A,{store:i,children:(0,T.jsx)(p.p,{children:(0,T.jsx)(l.Ay,{children:(0,T.jsx)(b.POIProvider,{children:(0,T.jsx)(h.A,{children:(0,T.jsx)(y.TranslationProvider,{defaultLang:W,i18nInstance:s,children:(0,T.jsx)(r.Suspense,{fallback:(0,T.jsx)(I.Loading,{}),children:(0,T.jsx)(kt,{passthrough:N})})})})})})})})}):(0,T.jsx)(T.Fragment,{})})};St.propTypes={root_store:c().object};const Yt=(0,i.C)()(St)},736219:(e,t,n)=>{"use strict";n.d(t,{A:()=>Ut});var r=n(351447),o=n(189137),i=n(462195),a=n.n(i),s=n(391289);let c;const l=(()=>{const e=(0,r.action)(((e,t)=>{c&&c.setNetworkStatus(e,t)}));return{init:t=>{a().init(s.z.init(t),e,t.client),c=t.common}}})();var g=n(192299),d=n.n(g),u=n(214867),_=n.n(u),I=n(33118),b=n(281476),C=n(294035),h=n(83658);const m=e=>{let t;return/^VR/.test(e)?t="virtual":/^MF/.test(e)?t="financial":/^MLT|MX/.test(e)&&(t="gaming"),t},A=(()=>{let e;return{get:()=>(e||(e={default:(0,I.localize)("Real"),financial:(0,I.localize)("Investment"),gaming:(0,I.localize)("Gaming"),virtual:(0,I.localize)("Virtual")}),e)}})(),p=e=>"all"===e?"all":"financial",y=(e,t)=>{const n=(e=>new o.CookieStorage(e.includes("utm")?"utm_data":e))(e);return n.get(e)||n.set(e,t),n};function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class F{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.validation_errors={},this.validation_rules={},this.preSwitchAccountDisposer=null,this.pre_switch_account_listener=null,this.switchAccountDisposer=null,this.switch_account_listener=null,this.logoutDisposer=null,this.logout_listener=null,this.clientInitDisposer=null,this.client_init_listener=null,this.networkStatusChangeDisposer=null,this.network_status_change_listener=null,this.themeChangeDisposer=null,this.theme_change_listener=null,this.realAccountSignupEndedDisposer=null,this.real_account_signup_ended_listener=null,this.partial_fetch_time=0,(0,r.makeObservable)(this,{validation_errors:r.observable,validation_rules:r.observable,partial_fetch_time:r.observable,retrieveFromStorage:r.action,setValidationErrorMessages:r.action,setValidationRules:r.action,addRule:r.action,validateProperty:r.action,validateAllProperties:r.action,onSwitchAccount:r.action.bound,onPreSwitchAccount:r.action.bound,onLogout:r.action.bound,onClientInit:r.action.bound,onNetworkStatusChange:r.action.bound,onThemeChange:r.action.bound,onRealAccountSignupEnd:r.action.bound,disposePreSwitchAccount:r.action.bound,disposeSwitchAccount:r.action.bound,disposeLogout:r.action.bound,disposeClientInit:r.action.bound,disposeNetworkStatusChange:r.action.bound,disposeThemeChange:r.action.bound,disposeRealAccountSignupEnd:r.action.bound,onUnmount:r.action.bound,assertHasValidCache:r.action.bound});const{root_store:t,local_storage_properties:n,session_storage_properties:o,validation_rules:i,store_name:a}=e;Object.defineProperty(this,"root_store",{enumerable:!1,writable:!0}),Object.defineProperty(this,"local_storage_properties",{enumerable:!1,writable:!0}),Object.defineProperty(this,"session_storage_properties",{enumerable:!1,writable:!0});if(n&&n.length||o&&o.length){if(!a)throw new Error("store_name is required for local/session storage");Object.defineProperty(this,"store_name",{value:a,enumerable:!1,writable:!1})}this.root_store=t,this.local_storage_properties=n||[],this.session_storage_properties=o||[],setTimeout((()=>{this.setValidationRules(i),this.setupReactionForLocalStorage(),this.setupReactionForSessionStorage(),this.retrieveFromStorage()}),0)}getSnapshot(e){let t=(0,r.toJS)(this);return(0,o.isEmptyObject)(this.root_store)||(t.root_store=this.root_store),e&&e.length&&(t=e.reduce(((e,n)=>Object.assign(e,{[n]:t[n]})),{})),t}setupReactionForLocalStorage(){this.local_storage_properties.length&&(0,r.reaction)((()=>this.local_storage_properties.map((e=>this[e]))),(()=>this.saveToStorage(this.local_storage_properties,F.STORAGES.LOCAL_STORAGE)))}setupReactionForSessionStorage(){this.session_storage_properties.length&&(0,r.reaction)((()=>this.session_storage_properties.map((e=>this[e]))),(()=>this.saveToStorage(this.session_storage_properties,F.STORAGES.SESSION_STORAGE)))}saveToStorage(e,t){const n=JSON.stringify(this.getSnapshot(e),((e,t)=>{if(null!==t)return t}));t===F.STORAGES.LOCAL_STORAGE?localStorage.setItem(this.store_name,n):t===F.STORAGES.SESSION_STORAGE&&sessionStorage.setItem(this.store_name,n)}retrieveFromStorage(){const e=JSON.parse(localStorage.getItem(this.store_name,{})),t=JSON.parse(sessionStorage.getItem(this.store_name,{})),n=B(B({},e),t);Object.keys(n).forEach((e=>this[e]=n[e]))}setValidationErrorMessages(e,t){this.validation_errors[e]&&!(()=>!!this.validation_errors[e].filter((e=>!t.includes(e))).concat(t.filter((t=>!this.validation_errors[e].includes(t)))).length)()||(this.validation_errors[e]=t)}setValidationRules(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(e).forEach((t=>{this.addRule(t,e[t])}))}addRule(e,t){this.validation_rules[e]=t,(0,r.intercept)(this,e,(t=>(this.validateProperty(e,t.newValue),t)))}validateProperty(e,t){const n=this.validation_rules[e].trigger,r={[e]:void 0!==t?t:this[e]},i={[e]:this.validation_rules[e].rules||[]};n&&Object.hasOwnProperty.call(this,n)&&(r[n]=this[n],i[n]=this.validation_rules[n].rules||[]);const a=new o.Validator(r,i,this);a.isPassed(),Object.keys(r).forEach((e=>{this.setValidationErrorMessages(e,a.errors.get(e))}))}validateAllProperties(){const e=Object.keys(this.validation_rules),t=Object.keys(this.validation_errors);e.forEach((e=>{this.validateProperty(e,this[e])})),t.forEach((t=>{e.includes(t)||delete this.validation_errors[t]}))}onSwitchAccount(e){e&&(this.switch_account_listener=e,this.switchAccountDisposer=(0,r.when)((()=>this.root_store.client.switch_broadcast),(async()=>{try{const e=this.switch_account_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Switching account listeners are required to return a promise.");e.then((()=>{this.root_store.client.switchEndSignal(),this.onSwitchAccount(this.switch_account_listener)}))}catch(e){(0,o.isProduction)()||console.error(e)}})))}onPreSwitchAccount(e){e&&(this.pre_switch_account_listener=e,this.preSwitchAccountDisposer=(0,r.when)((()=>this.root_store.client.pre_switch_broadcast),(async()=>{try{var e;const t=null===(e=this.pre_switch_account_listener)||void 0===e?void 0:e.call(this);if(!t||!t.then||"function"!=typeof t.then)throw new Error("Pre-switch account listeners are required to return a promise.");t.then((()=>{this.root_store.client.setPreSwitchAccount(!1),this.onPreSwitchAccount(this.pre_switch_account_listener)}))}catch(e){(0,o.isProduction)()||console.error(e)}})))}onLogout(e){this.logoutDisposer=(0,r.when)((()=>this.root_store.client.has_logged_out),(async()=>{try{const e=this.logout_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Logout listeners are required to return a promise.");e.then((()=>{this.root_store.client.setLogout(!1),this.onLogout(this.logout_listener)}))}catch(e){(0,o.isProduction)()||console.error(e)}})),this.logout_listener=e}onClientInit(e){this.clientInitDisposer=(0,r.when)((()=>this.root_store.client.initialized_broadcast),(async()=>{try{const e=this.client_init_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Client init listeners are required to return a promise.");e.then((()=>{this.root_store.client.setInitialized(!1),this.onClientInit(this.client_init_listener)}))}catch(e){(0,o.isProduction)()||console.error(e)}})),this.client_init_listener=e}onNetworkStatusChange(e){this.networkStatusChangeDisposer=(0,r.reaction)((()=>this.root_store.common.is_network_online),(e=>{try{this.network_status_change_listener(e)}catch(e){(0,o.isProduction)()||console.error(e)}})),this.network_status_change_listener=e}onThemeChange(e){this.themeChangeDisposer=(0,r.reaction)((()=>this.root_store.ui.is_dark_mode_on),(e=>{try{this.theme_change_listener(e)}catch(e){(0,o.isProduction)()||console.error(e)}})),this.theme_change_listener=e}onRealAccountSignupEnd(e){this.realAccountSignupEndedDisposer=(0,r.when)((()=>this.root_store.ui.has_real_account_signup_ended),(()=>{try{const e=this.real_account_signup_ended_listener();if(!e||!e.then||"function"!=typeof e.then)throw new Error("Real account signup listeners are required to return a promise.");e.then((()=>{this.root_store.ui.setRealAccountSignupEnd(!1),this.onRealAccountSignupEnd(this.real_account_signup_ended_listener)}))}catch(e){(0,o.isProduction)()||console.error(e)}})),this.real_account_signup_ended_listener=e}disposePreSwitchAccount(){"function"==typeof this.preSwitchAccountDisposer&&this.preSwitchAccountDisposer(),this.pre_switch_account_listener=null}disposeSwitchAccount(){"function"==typeof this.switchAccountDisposer&&this.switchAccountDisposer(),this.switch_account_listener=null}disposeLogout(){"function"==typeof this.logoutDisposer&&this.logoutDisposer(),this.logout_listener=null}disposeClientInit(){"function"==typeof this.clientInitDisposer&&this.clientInitDisposer(),this.client_init_listener=null}disposeNetworkStatusChange(){"function"==typeof this.networkStatusChangeDisposer&&this.networkStatusChangeDisposer(),this.network_status_change_listener=null}disposeThemeChange(){"function"==typeof this.themeChangeDisposer&&this.themeChangeDisposer(),this.theme_change_listener=null}disposeRealAccountSignupEnd(){"function"==typeof this.realAccountSignupEndedDisposer&&this.realAccountSignupEndedDisposer(),this.real_account_signup_ended_listener=null}onUnmount(){this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout(),this.disposeClientInit(),this.disposeNetworkStatusChange(),this.disposeThemeChange(),this.disposeRealAccountSignupEnd()}assertHasValidCache(e){if(this.root_store.client.loginid!==e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach((e=>e())),this.partial_fetch_time=!1}}}F.STORAGES=Object.freeze({LOCAL_STORAGE:Symbol("LOCAL_STORAGE"),SESSION_STORAGE:Symbol("SESSION_STORAGE")});var Q=n(203087),x=n.n(Q),G=n(541862),U=n(437360);const W=["document_number","document_type","document_additional"];function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Z="i18n_language",X="client.accounts",w=/^maltainvest$/,R=/^mt$/;class T extends F{constructor(e){super({root_store:e,local_storage_properties:["device_data"],store_name:"client_store"}),this.loginid=void 0,this.preferred_language=void 0,this.upgrade_info=void 0,this.email=void 0,this.accounts={},this.is_trading_platform_available_account_loaded=!1,this.trading_platform_available_accounts=[],this.ctrader_trading_platform_available_accounts=[],this.pre_switch_broadcast=!1,this.switched="",this.is_switching=!1,this.switch_broadcast=!1,this.initialized_broadcast=!1,this.currencies_list={},this.residence_list=[],this.states_list=[],this.citizen="",this.selected_currency="",this.is_populating_account_list=!1,this.is_populating_mt5_account_list=!0,this.is_populating_dxtrade_account_list=!0,this.is_populating_ctrader_account_list=!0,this.website_status={},this.account_settings={},this.account_status={},this.device_data={},this.is_authorize=!1,this.is_logging_in=!1,this.is_client_store_initialized=!1,this.has_logged_out=!1,this.is_landing_company_loaded=!1,this.is_account_setting_loaded=!1,this.has_enabled_two_fa=!1,this.has_changed_two_fa=!1,this.landing_companies={},this.is_new_session=!1,this.is_tradershub_tracking=!1,this.standpoint={svg:!1,maltainvest:!1,gaming_company:!1,financial_company:!1},this.upgradeable_landing_companies=[],this.mt5_disabled_signup_types={real:!1,demo:!1},this.mt5_login_list=[],this.mt5_login_list_error=null,this.dxtrade_accounts_list=[],this.ctrader_accounts_list=[],this.dxtrade_accounts_list_error=null,this.dxtrade_disabled_signup_types={real:!1,demo:!1},this.statement={},this.obj_total_balance={amount_real:void 0,amount_mt5:void 0,amount_dxtrade:void 0,currency:""},this.verification_code={signup:"",reset_password:"",payment_withdraw:"",payment_agent_withdraw:"",phone_number_verification:"",trading_platform_mt5_password_reset:"",trading_platform_dxtrade_password_reset:"",request_email:"",social_email_change:"",system_email_change:""},this.new_email={system_email_change:"",social_email_change:""},this.account_limits={},this.self_exclusion={},this.local_currency_config={currency:"",decimal_places:void 0},this.has_cookie_account=!1,this.financial_assessment=null,this.mt5_trading_servers=[],this.dxtrade_trading_servers=[],this.cfd_score=0,this.is_mt5_account_list_updated=!1,this.phone_settings={},this.prev_real_account_loginid="",this.prev_account_type="demo",this.external_url_params={},this.is_already_attempted=!1,this.is_p2p_enabled=!1,this.real_account_signup_form_data=[],this.real_account_signup_form_step=0,this.wallet_migration_state=void 0,this.wallet_migration_interval_id=void 0,this.is_wallet_migration_request_is_in_progress=!1,this.is_passkey_supported=!1,this.is_phone_number_verification_enabled=!1,this.is_country_code_dropdown_enabled=!1,this.should_show_passkey_notification=!1,this.passkeys_list=[],this.subscriptions={},this.exchange_rates={},this.client_kyc_status={},this.hasAnyRealAccount=()=>this.account_list.some((e=>0===e.is_virtual)),this.setExternalParams=e=>{this.external_url_params=e},this.redirectToLegacyPlatform=()=>{const{url:e,should_redirect:t}=this.external_url_params;t&&window.location.replace(e)},this.getIsMarketTypeMatching=(e,t)=>"synthetic"===t?e.market_type===t||"gaming"===e.market_type:"all"===t?"all"===e.market_type:"financial"===e.market_type,this.isMT5Allowed=e=>"mt_financial_company"in e||"mt_gaming_company"in e||"mt_all_company"in e,this.isDxtradeAllowed=e=>{var t;return!(!this.is_logged_in&&this.is_eu_country||this.is_logged_in&&this.root_store.traders_hub.show_eu_related_content)&&(!(null!==(t=this.website_status)&&void 0!==t&&t.clients_country&&e&&Object.keys(e).length)||("dxtrade_financial_company"in e||"dxtrade_gaming_company"in e||"dxtrade_all_company"in e||!this.is_logged_in&&!this.is_eu&&!this.is_eu_country))},this.isBotAllowed=()=>{if(!this.is_logged_in&&this.is_eu_country)return!1;const e="maltainvest"===this.landing_company_shortcode;return this.is_virtual?this.is_eu_or_multipliers_only:!e&&!this.is_options_blocked},this.setPreferredLanguage=e=>{this.preferred_language=e,o.LocalStore.setObject(Z,e)},this.isAccountOfType=e=>{const t=m(this.loginid);return("virtual"===e&&"virtual"===t||"real"===e&&"virtual"!==t||e===t)&&!this.isDisabled()},this.setPrevRealAccountLoginid=e=>{this.prev_real_account_loginid=e},this.setPrevAccountType=e=>{this.prev_account_type=e},this.getExchangeRate=(e,t)=>{var n,r;return this.exchange_rates&&null!==(n=null===(r=this.exchange_rates)||void 0===r||null===(r=r[e])||void 0===r?void 0:r[t])&&void 0!==n?n:1},this.subscribeToEndpoint=async(e,t)=>{var n;const r=JSON.stringify({name:e,payload:t}),o=null===(n=this.subscriptions)||void 0===n||null===(n=n[e])||void 0===n||null===(n=n[r])||void 0===n?void 0:n.sub;if(o)return{key:r,subscription:o};try{const n=await(null===s.WS||void 0===s.WS?void 0:s.WS.subscribe(O({[e]:1,subscribe:1},null!=t?t:{})));return this.addSubscription(e,r,n),{key:r,subscription:n}}catch(e){var i,a;return console.log(`Something wrong: code = ${null==e||null===(i=e.error)||void 0===i?void 0:i.code}, message = ${null==e||null===(a=e.error)||void 0===a?void 0:a.message}`),{}}},this.unsubscribeByKey=async(e,t)=>{var n;if(null===(n=this.subscriptions)||void 0===n||null===(n=n[e])||void 0===n||null===(n=n[t])||void 0===n?void 0:n.sub)try{var r,o;await(null===s.WS||void 0===s.WS?void 0:s.WS.forget(null===(r=this.subscriptions)||void 0===r||null===(r=r[e])||void 0===r||null===(r=r[t])||void 0===r?void 0:r.id)),null===(o=this.subscriptions)||void 0===o||null===(o=o[e])||void 0===o||delete o[t]}catch(e){var i,a;console.log(`Something wrong: code = ${null==e||null===(i=e.error)||void 0===i?void 0:i.code}, message = ${null==e||null===(a=e.error)||void 0===a?void 0:a.message}`)}},this.subscribeToExchangeRate=async(e,t)=>{var n;if(""===e||""===t||e===t)return;if(null!==(n=this.exchange_rates)&&void 0!==n&&null!==(n=n[e])&&void 0!==n&&n[t])return;const{key:r,subscription:o}=await this.subscribeToEndpoint("exchange_rates",{base_currency:e,target_currency:t});o.subscribe((t=>{var n,o;const i=null===(n=t.exchange_rates)||void 0===n?void 0:n.rates,a=String(null===(o=t.subscription)||void 0===o?void 0:o.id);if(i){this.addSubscription("exchange_rates",r,void 0,a);const t=O({},this.exchange_rates);t?t[e]=O(O({},t[e]),i):t={[e]:i},this.setExchangeRates(t)}}),(e=>{var t,n;console.log(`Something wrong: code = ${null==e||null===(t=e.error)||void 0===t?void 0:t.code}, message = ${null==e||null===(n=e.error)||void 0===n?void 0:n.message}`)}))},this.unsubscribeFromExchangeRate=async(e,t)=>{if(e&&t){var n;const r=JSON.stringify({name:"exchange_rates",payload:{base_currency:e,target_currency:t}});await this.unsubscribeByKey("exchange_rates",r),null===(n=this.subscriptions)||void 0===n||null===(n=n.exchange_rates)||void 0===n||delete n[r];const o=O({},this.exchange_rates);delete o[payload.base_currency],this.setExchangeRates(o)}},this.unsubscribeFromAllExchangeRates=()=>{var e,t,n;null===(e=Object.keys(null!==(t=null===(n=this.subscriptions)||void 0===n?void 0:n.exchange_rates)&&void 0!==t?t:{}))||void 0===e||e.forEach((e=>{this.unsubscribeByKey("exchange_rates",e)})),this.setExchangeRates({})},(0,r.makeObservable)(this,{exchange_rates:r.observable,loginid:r.observable,external_url_params:r.observable,setExternalParams:r.action.bound,redirectToLegacyPlatform:r.action.bound,preferred_language:r.observable,upgrade_info:r.observable,email:r.observable,accounts:r.observable,is_trading_platform_available_account_loaded:r.observable,trading_platform_available_accounts:r.observable,ctrader_trading_platform_available_accounts:r.observable,pre_switch_broadcast:r.observable,switched:r.observable,is_switching:r.observable,switch_broadcast:r.observable,initialized_broadcast:r.observable,currencies_list:r.observable,residence_list:r.observable,states_list:r.observable,citizen:r.observable,selected_currency:r.observable,is_populating_account_list:r.observable,is_populating_mt5_account_list:r.observable,is_populating_dxtrade_account_list:r.observable,is_populating_ctrader_account_list:r.observable,website_status:r.observable,account_settings:r.observable,account_status:r.observable,device_data:r.observable,is_authorize:r.observable,is_logging_in:r.observable,is_client_store_initialized:r.observable,has_logged_out:r.observable,is_landing_company_loaded:r.observable,is_account_setting_loaded:r.observable,has_enabled_two_fa:r.observable,has_changed_two_fa:r.observable,landing_companies:r.observable,standpoint:r.observable,upgradeable_landing_companies:r.observable,mt5_disabled_signup_types:r.observable,mt5_login_list:r.observable,mt5_login_list_error:r.observable,dxtrade_accounts_list:r.observable,ctrader_accounts_list:r.observable,dxtrade_accounts_list_error:r.observable,dxtrade_disabled_signup_types:r.observable,statement:r.observable,cfd_score:r.observable,obj_total_balance:r.observable,verification_code:r.observable,new_email:r.observable,account_limits:r.observable,self_exclusion:r.observable,local_currency_config:r.observable,has_cookie_account:r.observable,financial_assessment:r.observable,mt5_trading_servers:r.observable,dxtrade_trading_servers:r.observable,prev_real_account_loginid:r.observable,prev_account_type:r.observable,phone_settings:r.observable,is_already_attempted:r.observable,is_p2p_enabled:r.observable,real_account_signup_form_data:r.observable,real_account_signup_form_step:r.observable,wallet_migration_state:r.observable,is_wallet_migration_request_is_in_progress:r.observable,is_passkey_supported:r.observable,is_phone_number_verification_enabled:r.observable,is_country_code_dropdown_enabled:r.observable,passkeys_list:r.observable,should_show_passkey_notification:r.observable,balance:r.computed,account_open_date:r.computed,is_svg:r.computed,has_active_real_account:r.computed,has_maltainvest_account:r.computed,has_any_real_account:r.computed,can_change_fiat_currency:r.computed,legal_allowed_currencies:r.computed,upgradeable_currencies:r.computed,current_currency_type:r.computed,available_crypto_currencies:r.computed,available_onramp_currencies:r.computed,has_fiat:r.computed,current_fiat_currency:r.computed,current_landing_company:r.computed,account_list:r.computed,has_real_mt5_login:r.computed,has_real_dxtrade_login:r.computed,active_accounts:r.computed,all_loginids:r.computed,account_title:r.computed,currency:r.computed,is_crypto:r.action.bound,default_currency:r.computed,should_allow_authentication:r.computed,should_allow_poinc_authentication:r.computed,is_financial_assessment_needed:r.computed,is_authentication_needed:r.computed,is_identity_verification_needed:r.computed,is_poa_expired:r.computed,real_account_creation_unlock_date:r.computed,is_social_signup:r.computed,isEligibleForMoreDemoMt5Svg:r.action.bound,isEligibleForMoreRealMt5:r.action.bound,setCitizen:r.action.bound,is_mt5_password_not_set:r.computed,is_dxtrade_password_not_set:r.computed,is_financial_information_incomplete:r.computed,is_deposit_lock:r.computed,is_duplicate_dob_phone:r.computed,is_withdrawal_lock:r.computed,is_trading_experience_incomplete:r.computed,authentication_status:r.computed,social_identity_provider:r.computed,is_from_restricted_country:r.computed,is_fully_authenticated:r.computed,is_financial_account:r.computed,landing_company_shortcode:r.computed,landing_company:r.computed,is_logged_in:r.computed,has_restricted_mt5_account:r.computed,has_mt5_account_with_rejected_poa:r.computed,has_wallet:r.computed,should_restrict_bvi_account_creation:r.computed,should_restrict_vanuatu_account_creation:r.computed,should_show_eu_error:r.computed,is_virtual:r.computed,is_eu:r.computed,can_upgrade:r.computed,can_upgrade_to:r.computed,virtual_account_loginid:r.computed,is_single_currency:r.computed,account_type:r.computed,is_mt5_allowed:r.computed,is_dxtrade_allowed:r.computed,is_bot_allowed:r.computed,clients_country:r.computed,is_eu_country:r.computed,is_options_blocked:r.computed,is_multipliers_only:r.computed,is_proof_of_ownership_enabled:r.computed,resetLocalStorageValues:r.action.bound,getBasicUpgradeInfo:r.action.bound,setMT5DisabledSignupTypes:r.action.bound,setCFDDisabledSignupTypes:r.action.bound,setPhoneSettings:r.action.bound,getLimits:r.action.bound,setPreferredLanguage:r.action.bound,setCookieAccount:r.action.bound,setCFDScore:r.action.bound,updateSelfExclusion:r.action.bound,responsePayoutCurrencies:r.action.bound,responseAuthorize:r.action.bound,setWebsiteStatus:r.action.bound,accountRealReaction:r.action.bound,setLoginInformation:r.action.bound,realAccountSignup:r.action.bound,setAccountCurrency:r.action.bound,updateAccountCurrency:r.action.bound,createCryptoAccount:r.action.bound,residence:r.computed,email_address:r.computed,updateAccountList:r.action.bound,switchAccount:r.action.bound,resetVirtualBalance:r.action.bound,switchEndSignal:r.action.bound,init:r.action.bound,resetMt5AccountListPopulation:r.action.bound,responseWebsiteStatus:r.action.bound,responseLandingCompany:r.action.bound,setStandpoint:r.action.bound,setLoginId:r.action.bound,setAccounts:r.action.bound,setSwitched:r.action.bound,setIsAuthorize:r.action.bound,setIsLoggingIn:r.action.bound,setPreSwitchAccount:r.action.bound,broadcastAccountChange:r.action.bound,switchAccountHandler:r.action.bound,registerReactions:r.action.bound,setBalanceActiveAccount:r.action.bound,setBalanceOtherAccounts:r.action.bound,selectCurrency:r.action.bound,setResidence:r.action.bound,setEmail:r.action.bound,setAccountSettings:r.action.bound,setAccountStatus:r.action.bound,updateAccountStatus:r.action.bound,updateMT5AccountDetails:r.action.bound,setInitialized:r.action.bound,setIsClientStoreInitialized:r.action.bound,cleanUp:r.action.bound,logout:r.action.bound,setLogout:r.action.bound,storeClientAccounts:r.action.bound,setUserLogin:r.action.bound,canStoreClientAccounts:r.action.bound,setVerificationCode:r.action.bound,setNewEmail:r.action.bound,setDeviceData:r.action.bound,getSignupParams:r.action.bound,getToken:r.action.bound,onSetResidence:r.action.bound,onSetCitizen:r.action.bound,onSignup:r.action.bound,fetchAccountSettings:r.action.bound,fetchResidenceList:r.action.bound,setResidenceList:r.action.bound,fetchStatesList:r.action.bound,resetMt5ListPopulatedState:r.action.bound,updateMt5LoginList:r.action.bound,responseMT5TradingServers:r.action.bound,responseMt5LoginList:r.action.bound,responseDxtradeTradingServers:r.action.bound,setIsTradingPlatformAvailableAccountLoaded:r.action.bound,responseTradingPlatformAvailableAccounts:r.action.bound,responseCTraderTradingPlatformAvailableAccounts:r.action.bound,responseTradingPlatformAccountsList:r.action.bound,responseStatement:r.action.bound,getChangeableFields:r.action.bound,syncWithLegacyPlatforms:r.action.bound,is_high_risk:r.computed,is_low_risk:r.computed,has_residence:r.computed,ctrader_total_balance:r.computed,fetchFinancialAssessment:r.action.bound,setFinancialAndTradingAssessment:r.action.bound,setTwoFAStatus:r.action.bound,setTwoFAChangedStatus:r.action.bound,is_eu_or_multipliers_only:r.computed,getTwoFAStatus:r.action.bound,updateMT5Status:r.action.bound,setPrevRealAccountLoginid:r.action.bound,setPrevAccountType:r.action.bound,setIsAlreadyAttempted:r.action.bound,setIsP2PEnabled:r.action.bound,setRealAccountSignupFormData:r.action.bound,setRealAccountSignupFormStep:r.action.bound,getWalletMigrationState:r.action.bound,setWalletMigrationState:r.action.bound,startWalletMigration:r.action.bound,resetWalletMigration:r.action.bound,setIsPasskeySupported:r.action.bound,setIsPhoneNumberVerificationEnabled:r.action.bound,setIsCountryCodeDropdownEnabled:r.action.bound,setPasskeysStatusToCookie:r.action.bound,fetchShouldShowPasskeyNotification:r.action.bound,fetchPasskeysList:r.action.bound,setShouldShowPasskeyNotification:r.action.bound,getExchangeRate:r.action.bound,subscribeToExchangeRate:r.action.bound,unsubscribeFromExchangeRate:r.action.bound,unsubscribeFromAllExchangeRates:r.action.bound,setExchangeRates:r.action.bound,setIsLandingCompanyLoaded:r.action.bound,is_cr_account:r.computed,is_mf_account:r.computed,is_tradershub_tracking:r.observable,setTradersHubTracking:r.action.bound,account_time_of_closure:r.computed,is_account_to_be_closed_by_residence:r.computed,setClientKYCStatus:r.action.bound,client_kyc_status:r.observable,should_show_trustpilot_notification:r.computed}),(0,r.reaction)((()=>[this.is_logged_in,this.loginid,this.email,this.landing_company,this.currency,this.residence,this.account_settings,this.preferred_language,this.phone_settings]),(()=>{this.setCookieAccount(),this.is_logged_in||this.root_store.traders_hub.cleanup()})),(0,r.reaction)((()=>[this.account_settings]),(async()=>{var e,t,n;const r=(0,I.getRedirectionLanguage)(null===(e=this.account_settings)||void 0===e?void 0:e.preferred_language,this.is_new_session),i=r!==(null===(t=this.account_settings)||void 0===t?void 0:t.preferred_language)&&this.preferred_language!==(null===(n=this.account_settings)||void 0===n?void 0:n.preferred_language);window.history.replaceState({},document.title,(0,o.urlForLanguage)(r)),i&&(this.setPreferredLanguage(r),await s.WS.setSettings({set_settings:1,preferred_language:r}))})),(0,r.reaction)((()=>{var e;return[this.is_logged_in,this.is_authorize,this.is_passkey_supported,null===(e=this.root_store.ui)||void 0===e?void 0:e.is_mobile]}),(()=>{this.is_logged_in&&this.is_authorize&&this.is_passkey_supported&&this.fetchShouldShowPasskeyNotification()})),(0,r.when)((()=>!this.is_logged_in&&this.root_store.ui&&this.root_store.ui.is_real_acc_signup_on),(()=>this.root_store.ui.closeRealAccountSignup())),(0,r.reaction)((()=>[this.wallet_migration_state]),(()=>{"in_progress"===this.wallet_migration_state?this.wallet_migration_interval_id=setInterval((()=>{this.getWalletMigrationState()}),2e3):clearInterval(this.wallet_migration_interval_id)}))}get balance(){if(!(0,o.isEmptyObject)(this.accounts))return this.accounts[this.loginid]&&"balance"in this.accounts[this.loginid]?this.accounts[this.loginid].balance.toString():void 0}get account_open_date(){if(!(0,o.isEmptyObject)(this.accounts)&&this.accounts[this.loginid])return Object.keys(this.accounts[this.loginid]).includes("created_at")?this.accounts[this.loginid].created_at:void 0}get is_svg(){return!!this.landing_company_shortcode&&("svg"===this.landing_company_shortcode||"costarica"===this.landing_company_shortcode)}get has_active_real_account(){return this.active_accounts.some((e=>0===e.is_virtual))}get has_maltainvest_account(){return this.active_accounts.some((e=>"maltainvest"===e.landing_company_shortcode))}get has_any_real_account(){return this.hasAnyRealAccount()}get has_wallet(){return Object.values(this.accounts).some((e=>"wallet"===e.account_category))}get can_change_fiat_currency(){var e;const t=!this.has_real_mt5_login,n=!this.has_real_dxtrade_login,r=0===this.statement.count&&0===this.statement.transactions.length,o=!(null!==(e=this.account_status)&&void 0!==e&&null!==(e=e.status)&&void 0!==e&&e.includes("deposit_attempt")),i=r&&t&&n&&o;return!this.is_virtual&&i&&"fiat"===this.current_currency_type}get legal_allowed_currencies(){const e=()=>{var e,t,n,r;return null!==(e=this.landing_companies)&&void 0!==e&&e.gaming_company?null===(n=this.landing_companies)||void 0===n||null===(n=n.gaming_company)||void 0===n?void 0:n.legal_allowed_currencies:null!==(t=this.landing_companies)&&void 0!==t&&t.financial_company?null===(r=this.landing_companies)||void 0===r||null===(r=r.financial_company)||void 0===r?void 0:r.legal_allowed_currencies:[]};if(!this.landing_companies||!this.root_store.ui)return[];if(!this.root_store.ui.real_account_signup_target)return e();if(["set_currency","manage"].includes(this.root_store.ui.real_account_signup_target)&&this.current_landing_company)return this.current_landing_company.legal_allowed_currencies;const t="maltainvest"===this.root_store.ui.real_account_signup_target?"financial":"gaming";return this.landing_companies[`${t}_company`]?this.landing_companies[`${t}_company`].legal_allowed_currencies:e()}get upgradeable_currencies(){return this.legal_allowed_currencies&&this.website_status.currencies_config?this.legal_allowed_currencies.map((e=>O({value:e},this.website_status.currencies_config[e]))):[]}get current_currency_type(){return"virtual"===this.account_type?"virtual":this.website_status&&this.website_status.currencies_config&&this.website_status.currencies_config[this.currency]?this.website_status.currencies_config[this.currency].type:void 0}get available_crypto_currencies(){const e=Object.values(this.accounts).reduce(((e,t)=>(e.push(t.currency),e)),[]);return this.upgradeable_currencies.filter((t=>!e.includes(t.value)&&"crypto"===t.type))}get available_onramp_currencies(){var e;return Object.entries(null===(e=this.website_status)||void 0===e?void 0:e.currencies_config).reduce(((e,t)=>{let[n,r]=t;return r.platform.ramp.length>0&&e.push(n),e}),[])}get has_fiat(){return Object.values(this.accounts).some((e=>"fiat"===e.currency_type&&!e.is_virtual&&e.landing_company_shortcode===this.landing_company_shortcode))}get current_fiat_currency(){const e=Object.values(this.accounts).find((e=>"fiat"===e.currency_type&&!e.is_virtual&&e.landing_company_shortcode===this.landing_company_shortcode));return null==e?void 0:e.currency}get current_landing_company(){const e=this.landing_companies&&Object.keys(this.landing_companies).find((e=>{var t;return(null===(t=this.landing_companies[e])||void 0===t?void 0:t.shortcode)===this.landing_company_shortcode}));return e?this.landing_companies[e]:void 0}get account_list(){return this.all_loginids.map((e=>this.getAccountInfo(e))).filter((e=>e))}get has_real_mt5_login(){return this.mt5_login_list.some((e=>"real"===e.account_type))}get has_real_dxtrade_login(){return this.dxtrade_accounts_list.some((e=>"real"===e.account_type))}get active_accounts(){return this.accounts instanceof Object?Object.values(this.accounts).filter((e=>!e.is_disabled)):[]}get all_loginids(){return(0,o.isEmptyObject)(this.accounts)?[]:Object.keys(this.accounts)}get account_title(){return(e=>{const t=A.get();return t[m(e)]||t.default})(this.loginid)}get currency(){return this.selected_currency.length?this.selected_currency:this.is_logged_in?this.accounts[this.loginid].currency:this.default_currency}is_crypto(e){return(0,o.isCryptocurrency)(e||this.currency)}get default_currency(){if(Object.keys(this.currencies_list).length>0){var e;const t=Object.keys(this.currencies_list);return(null===(e=this.currencies_list[(0,I.localize)("Fiat")])||void 0===e?void 0:e.length)<1?"USD":Object.values(this.currencies_list[`${t[0]}`])[0].text}return"USD"}get should_allow_authentication(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.some((e=>"allow_document_upload"===e||"allow_poi_resubmission"===e))}get should_allow_poinc_authentication(){var e;return this.is_fully_authenticated&&(null===(e=this.account_status)||void 0===e||null===(e=e.authentication)||void 0===e||null===(e=e.needs_verification)||void 0===e?void 0:e.includes("income"))}get is_financial_assessment_needed(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.includes("financial_assessment_notification")}get is_poa_expired(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.includes("poa_expired")}get is_authentication_needed(){var e;return!this.is_fully_authenticated&&!(null===(e=this.account_status)||void 0===e||null===(e=e.authentication)||void 0===e||null===(e=e.needs_verification)||void 0===e||!e.length)}get is_identity_verification_needed(){var e;const t=null===(e=this.account_status)||void 0===e||null===(e=e.authentication)||void 0===e?void 0:e.needs_verification;return 1===(null==t?void 0:t.length)&&(null==t?void 0:t.includes("identity"))}get real_account_creation_unlock_date(){const{cooling_off_expiration_date:e}=this.account_settings;return e}get is_social_signup(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.includes("social_signup")}get is_mt5_password_not_set(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.includes("mt5_password_not_set")}get is_dxtrade_password_not_set(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.includes("dxtrade_password_not_set")}get is_financial_information_incomplete(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.some((e=>"financial_information_not_complete"===e))}get is_deposit_lock(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.some((e=>"deposit_locked"===e))}get is_duplicate_dob_phone(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.some((e=>"duplicate_dob_phone"===e))}get is_withdrawal_lock(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.some((e=>"withdrawal_locked"===e))}get is_trading_experience_incomplete(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.some((e=>"trading_experience_not_complete"===e))}get authentication_status(){var e,t;return{document_status:null===(e=this.account_status)||void 0===e||null===(e=e.authentication)||void 0===e||null===(e=e.document)||void 0===e?void 0:e.status,identity_status:null===(t=this.account_status)||void 0===t||null===(t=t.authentication)||void 0===t||null===(t=t.identity)||void 0===t?void 0:t.status}}get social_identity_provider(){var e;return null===(e=this.account_status)||void 0===e?void 0:e.social_identity_provider}get is_from_restricted_country(){var e;return"DISABLED"===(null===(e=this.residence_list.find((e=>e.value===this.residence)))||void 0===e?void 0:e.disabled)}get is_fully_authenticated(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.some((e=>"authenticated"===e))}get is_financial_account(){return!!this.landing_companies&&"financial"===this.account_type}get landing_company_shortcode(){if(this.accounts[this.loginid])return this.accounts[this.loginid].landing_company_shortcode}get landing_company(){return this.landing_companies}get is_logged_in(){return!!(!(0,o.isEmptyObject)(this.accounts)&&Object.keys(this.accounts).length>0&&this.loginid&&this.accounts[this.loginid].token)}get has_restricted_mt5_account(){return!!this.mt5_login_list.filter((e=>{var t;return null==e||null===(t=e.status)||void 0===t?void 0:t.includes("poa_failed")})).length}get has_mt5_account_with_rejected_poa(){return!!this.mt5_login_list.filter((e=>{var t;return null==e||null===(t=e.status)||void 0===t?void 0:t.includes("poa_rejected")})).length}get should_restrict_bvi_account_creation(){return!!this.mt5_login_list.filter((e=>"bvi"===(null==e?void 0:e.landing_company_short)&&"poa_failed"===(null==e?void 0:e.status))).length}get should_restrict_vanuatu_account_creation(){return!!this.mt5_login_list.filter((e=>"vanuatu"===(null==e?void 0:e.landing_company_short)&&"poa_failed"===(null==e?void 0:e.status))).length}get should_show_eu_error(){return!!this.is_landing_company_loaded&&(this.is_eu&&!this.is_low_risk)}get is_virtual(){return!(0,o.isEmptyObject)(this.accounts)&&this.accounts[this.loginid]&&!!this.accounts[this.loginid].is_virtual}get is_eu(){if(!this.landing_companies)return!1;const{gaming_company:e,financial_company:t,mt_gaming_company:n}=this.landing_companies,r=null==t?void 0:t.shortcode,o=null==e?void 0:e.shortcode,i=(null==n?void 0:n.financial.shortcode)||(null==n?void 0:n.swap_free.shortcode);return"maltainvest"===this.landing_company_shortcode||(r||o||i?w.test(r)&&"svg"!==o||w.test(o):R.test(this.residence))}get can_upgrade(){return this.upgrade_info&&(this.upgrade_info.can_upgrade||this.upgrade_info.can_open_multi)}get can_upgrade_to(){return this.upgrade_info&&this.upgrade_info.can_upgrade_to}get virtual_account_loginid(){return this.all_loginids.find((e=>!!this.accounts[e].is_virtual))}get is_single_currency(){return 1===Object.keys(this.currencies_list).map((e=>Object.values(this.currencies_list[e]).length)).reduce(((e,t)=>e+t),0)}get account_type(){return m(this.loginid)}get is_mt5_allowed(){return this.isMT5Allowed(this.landing_companies)}get is_dxtrade_allowed(){return this.isDxtradeAllowed(this.landing_companies)}get is_bot_allowed(){return this.isBotAllowed()}setPhoneSettings(e){this.phone_settings=e}setTradersHubTracking(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.is_tradershub_tracking=e}isEligibleForMoreDemoMt5Svg(e){const t="synthetic"===e,n=p(e),r=this.mt5_login_list.filter((t=>"demo"===t.account_type&&this.getIsMarketTypeMatching(t,e))),o=this.trading_platform_available_accounts.some((e=>(t?"gaming":n)===e.market_type&&"svg"===e.shortcode)),i=r.every((e=>!("svg"===e.landing_company_short)));return o&&i}isEligibleForMoreRealMt5(e){const t="synthetic"===e,n=p(e),r=this.mt5_login_list.filter((t=>"real"===t.account_type&&this.getIsMarketTypeMatching(t,e)));return!this.trading_platform_available_accounts.filter((e=>(t?"gaming":n)===e.market_type&&"maltainvest"!==e.shortcode)).map((e=>e.shortcode)).every((e=>r.some((t=>t.landing_company_short===e))))}get is_eu_or_multipliers_only(){return this.is_multipliers_only?!this.is_multipliers_only:!(0,U.isEuCountry)(this.residence)}get clients_country(){var e;return null===(e=this.website_status)||void 0===e?void 0:e.clients_country}get is_eu_country(){const e=this.website_status.clients_country;return!!e&&(0,U.isEuCountry)(e)}get is_options_blocked(){return(0,U.isOptionsBlocked)(this.residence)}get is_multipliers_only(){return(0,U.isMultipliersOnly)(this.residence)}resetLocalStorageValues(e){this.accounts[e].accepted_bch=0,o.LocalStore.setObject(X,this.accounts),o.LocalStore.set("active_loginid",e),this.syncWithLegacyPlatforms(e,(0,r.toJS)(this.accounts)),this.loginid=e}setIsAuthorize(e){this.is_authorize=e}getBasicUpgradeInfo(){var e=this;const t=[...new Set(o.State.getResponse("authorize.upgradeable_landing_companies"))];let n,r,i=!1;if((t||[]).length){i=-1!==t.indexOf(this.accounts[this.loginid].landing_company_shortcode);const o=function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return r.find((n=>n!==e.accounts[e.loginid].landing_company_shortcode&&-1!==t.indexOf(n)))};r=o("svg","maltainvest"),r&&(n="maltainvest"===r?"financial":"real")}return{type:n,can_upgrade:!!r,can_upgrade_to:r,can_open_multi:i}}setMT5DisabledSignupTypes(e){const t=this.mt5_disabled_signup_types;this.mt5_disabled_signup_types=O(O({},t),e)}setCFDDisabledSignupTypes(e,t){if(e===o.CFD_PLATFORMS.DXTRADE){const e=this.dxtrade_disabled_signup_types;this.dxtrade_disabled_signup_types=O({current_list:e},t)}}getLimits(){return new Promise((e=>{s.WS.authorized.storage.getLimits().then((t=>{(0,r.runInAction)((()=>{t.error?(this.account_limits={api_initial_load_error:t.error.message},e(t)):(this.account_limits=O(O({},t.get_limits),{},{is_loading:!1}),e(t))}))}))}))}setCookieAccount(){var e,t;const n=/deriv\.(com|me|be)/.test(window.location.hostname)?o.deriv_urls.DERIV_HOST_NAME:window.location.hostname,{loginid:r,landing_company_shortcode:i,currency:a,account_settings:s,preferred_language:c,user_id:l}=this,g=JSON.parse(o.LocalStore.get(X)),u=this.email||(null===(e=g[r])||void 0===e?void 0:e.email),_=this.residence||(null===(t=g[r])||void 0===t?void 0:t.residence),{first_name:I,last_name:b,name:C}=s;if(r&&u){const e={loginid:r,email:u,landing_company_shortcode:i,currency:a,residence:_,first_name:I,last_name:b,name:C,preferred_language:c,user_id:l};d().set("region",(0,U.getRegion)(i,_),{domain:n}),d().set("client_information",e,{domain:n}),this.has_cookie_account=!0}else(0,o.removeCookies)("region","client_information","is_p2p_disabled"),this.has_cookie_account=!1}setCFDScore(e){this.cfd_score=e}getSelfExclusion(){return new Promise((e=>{s.WS.authorized.storage.getSelfExclusion().then((t=>{(0,r.runInAction)((()=>{t.get_self_exclusion?this.self_exclusion=t.get_self_exclusion:this.self_exclusion=!1,e(t)}))}))}))}updateSelfExclusion(e){return new Promise((t=>{s.WS.authorized.storage.setSelfExclusion(e).then((e=>{e.error||this.getSelfExclusion(),t(e)}))}))}responsePayoutCurrencies(e){const t=(null==e?void 0:e.payout_currencies)||e;this.currencies_list=(e=>{const t=[],n=[];return e.forEach((e=>{const r=(0,o.isCryptocurrency)(e);(r?n:t).push({text:(0,o.getCurrencyDisplayCode)(e),value:e,has_tooltip:r})})),{[(0,I.localize)("Fiat")]:t,[(0,I.localize)("Crypto")]:n}})(Array.isArray(t)?t:[]),this.selectCurrency("")}responseAuthorize(e){var t;this.accounts[this.loginid].email=e.authorize.email,this.accounts[this.loginid].currency=e.authorize.currency,this.accounts[this.loginid].is_virtual=+e.authorize.is_virtual,this.accounts[this.loginid].session_start=parseInt(_()().utc().valueOf()/1e3),this.accounts[this.loginid].landing_company_shortcode=e.authorize.landing_company_name,this.accounts[this.loginid].country=e.country,this.updateAccountList(e.authorize.account_list),this.upgrade_info=this.getBasicUpgradeInfo(),this.user_id=e.authorize.user_id,localStorage.setItem("active_user_id",this.user_id),localStorage.setItem(X,JSON.stringify(this.accounts)),this.upgradeable_landing_companies=[...new Set(e.authorize.upgradeable_landing_companies)],this.local_currency_config.currency=Object.keys(e.authorize.local_currencies)[0];const n=null!==(t=o.LocalStore.getObject("notification_messages")[this.loginid])&&void 0!==t?t:[];o.LocalStore.setObject("notification_messages",{[this.loginid]:n});this.local_currency_config.decimal_places=(0,o.isEmptyObject)(e.authorize.local_currencies)?2:+e.authorize.local_currencies[this.local_currency_config.currency].fractional_digits}setWebsiteStatus(e){this.website_status=e.website_status,this.responseWebsiteStatus(e),(0,o.setCurrencies)(this.website_status);const t=/deriv\.(com|me)/.test(window.location.hostname)?o.deriv_urls.DERIV_HOST_NAME:window.location.hostname,{clients_country:n}=this.website_status,r={domain:t,expires:7};try{const e=d().get("website_status")?JSON.parse(d().get("website_status")):{};e.clients_country=n,d().set("website_status",e,r)}catch(e){d().set("website_status",{clients_country:n},r)}}async accountRealReaction(e){return new Promise((t=>{var n;let i;const a=!!o.LocalStore.get(X);(0,r.runInAction)((()=>{this.is_populating_account_list=!0})),this.is_logged_in&&!a&&(localStorage.setItem(X,JSON.stringify(this.accounts)),o.LocalStore.set(X,JSON.stringify(this.accounts)),this.syncWithLegacyPlatforms(l,this.accounts));try{i=JSON.parse(o.LocalStore.get(X))}catch(e){console.error("JSON parse failed, invalid value (client.accounts): ",e)}const{oauth_token:c,client_id:l,currency_type:g}=null!==(n=e.new_account_real)&&void 0!==n?n:e.new_account_maltainvest;x().authorize(c).then((e=>{const n={};n.token=c,n.residence=e.authorize.country,n.currency=e.authorize.currency,n.is_virtual=e.authorize.is_virtual,n.landing_company_name=e.authorize.landing_company_fullname,n.landing_company_shortcode=e.authorize.landing_company_name,n.currency_type=g,(0,r.runInAction)((()=>i[l]=n)),this.setLoginInformation(i,l),s.WS.authorized.storage.getSettings().then((e=>{this.setAccountSettings(e.get_settings),t()})),this.syncWithLegacyPlatforms(l,i)})).catch((e=>{console.error("Something went wrong while registering a real account: ",e)}))}))}setLoginInformation(e,t){this.setAccounts(e),localStorage.setItem(X,JSON.stringify(e)),o.LocalStore.set(X,JSON.stringify(e)),this.is_populating_account_list=!1,this.upgrade_info=this.getBasicUpgradeInfo(),this.setSwitched(t),this.syncWithLegacyPlatforms(t,e)}async realAccountSignup(e){var t;const n="maltainvest"===this.root_store.ui.real_account_signup_target,r="samoa"===this.root_store.ui.real_account_signup_target;let o="";e.residence=this.residence,e.tax_residence||(e.tax_residence=this.residence),n&&(o=e.currency),this.root_store.ui.setRealAccountSignupParams(e);const{document_number:i,document_type:a,document_additional:c}=e,l=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,W);l.citizen=(null==e?void 0:e.citizen)||(null===(t=this.account_settings)||void 0===t?void 0:t.citizen)||this.residence;const g=n?await s.WS.newAccountRealMaltaInvest(l):await s.WS.newAccountReal(l);return g.error?Promise.reject(g.error):(await this.accountRealReaction(g),r&&await this.setAccountCurrency("BTC"),localStorage.removeItem("real_account_signup_wizard"),await this.root_store.gtm.pushDataLayer({event:"real_signup"}),Promise.resolve(O(O(O({},g),n?{new_account_maltainvest:O(O({},g.new_account_maltainvest),{},{currency:o})}:{}),r?{new_account_samoa:{currency:o}}:{})))}async setAccountCurrency(e){const t=await s.WS.setAccountCurrency(e,{previous_currency:this.currency});return t.error?Promise.reject(t.error):(await this.updateAccountCurrency(e),Promise.resolve(t))}async updateAccountCurrency(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,r.runInAction)((()=>{const t=O({},this.accounts[this.loginid]);t.currency=e,"balance"in t||(t.balance=0),this.accounts[this.loginid]=t})),t&&(localStorage.setItem(X,JSON.stringify(this.accounts)),o.LocalStore.setObject(X,JSON.parse(JSON.stringify(this.accounts)))),this.selectCurrency(e),this.root_store.notifications.removeNotificationMessage({key:"currency"}),this.root_store.notifications.removeNotificationByKey({key:"currency"}),await this.init()}async createCryptoAccount(e){const t=this.residence,{date_of_birth:n,first_name:r,last_name:i}=this.account_settings,a={residence:t,currency:e,first_name:r,last_name:i,date_of_birth:(0,o.toMoment)(n).format("YYYY-MM-DD")},c=await s.WS.newAccountReal(a);return c.error?Promise.reject(c.error):(await this.accountRealReaction(c),Promise.resolve(c))}get residence(){var e,t;return this.is_logged_in&&null!==(e=null===(t=this.account_settings)||void 0===t?void 0:t.country_code)&&void 0!==e?e:""}get email_address(){return this.accounts&&this.accounts[this.loginid]?this.accounts[this.loginid].email:""}updateAccountList(e){e.forEach((e=>{this.accounts[e.loginid]&&(this.accounts[e.loginid].excluded_until=e.excluded_until||"",Object.keys(e).forEach((t=>{const n="country"===t?"residence":t,r=void 0===e[t]?"":e[t];"loginid"!==n&&(this.accounts[e.loginid][n]=r)})))}))}async switchAccount(e){e&&!this.is_logging_in&&(this.setPreSwitchAccount(!0),this.setIsLoggingIn(!0),this.root_store.notifications.removeNotifications(!0),this.root_store.notifications.removeTradeNotifications(),this.root_store.notifications.removeAllNotificationMessages(!0),!this.is_virtual&&/VRTC|VRW/.test(e)&&this.setPrevRealAccountLoginid(this.loginid),this.setSwitched(e),this.responsePayoutCurrencies(await s.WS.authorized.payoutCurrencies()))}async resetVirtualBalance(){this.is_tradershub_tracking&&b.Analytics.trackEvent("ce_tradershub_dashboard_form",{action:"reset_balance",form_name:"traders_hub_default",account_mode:"demo"}),this.root_store.notifications.removeNotificationByKey({key:"reset_virtual_balance"}),this.root_store.notifications.removeNotificationMessage({key:"reset_virtual_balance",should_show_again:!0}),await s.WS.authorized.topupVirtual()}switchEndSignal(){this.switch_broadcast=!1}async init(e){const t=o.SessionStore.get("signup_query_param")||window.location.search,n=new URLSearchParams(t),i=null==n?void 0:n.get("redirect_url"),a=null==n?void 0:n.get("code"),c=null==n?void 0:n.get("action"),l=null==n?void 0:n.get("loginid");!window.location.pathname.endsWith(o.routes.trade)&&/chart_type|interval|symbol|trade_type/.test(t)&&window.history.replaceState({},document.title,o.routes.trade+t);const g=await this.setUserLogin(e);if(t&&window.location.pathname!==o.routes.callback_page&&(a&&c&&this.setVerificationCode(a,c),document.addEventListener("DOMContentLoaded",(()=>{setTimeout((()=>{history.replaceState(null,null,window.location.search.replace(/&?code=[^&]*/i,""))}),0)}))),this.setDeviceData(),null!=g&&g.error)return await this.logout(),this.root_store.common.setError(!0,{header:g.error.message,message:(0,I.localize)("Please Log in"),should_show_refresh:!1,redirect_label:(0,I.localize)("Log in"),redirectOnClick:()=>(0,o.redirectToLogin)(!1,(0,I.getLanguage)())}),this.setIsLoggingIn(!1),this.setInitialized(!1),this.setSwitched(""),!1;if(["crypto_transactions_withdraw","payment_withdraw"].includes(c)&&l?this.setLoginId(l):this.setLoginId(o.LocalStore.get("active_loginid")),this.user_id=o.LocalStore.get("active_user_id"),this.setAccounts(o.LocalStore.getObject(X)),this.setSwitched(""),"request_email"===c&&this.is_logged_in){var d;const e=null!==(d=null!=a?a:o.LocalStore.get(`verification_code.${c}`))&&void 0!==d?d:"";e&&(this.setVerificationCode(e,c),this.root_store.ui.toggleResetEmailModal(!0))}const u=localStorage.getItem("config.account1"),_=this.accounts[this.loginid]||(u?{token:u}:void 0);if(g){if(this.loginid===g.authorize.loginid?(h.A.authorizeAccount(g),b.Analytics.identifyEvent(this.user_id),await this.root_store.gtm.pushDataLayer({event:"login"})):await x().authorize(_.token),i){const e=o.routes[i].length>1?o.routes[i]:"";if(["crypto_transactions_withdraw","payment_agent_withdraw","payment_withdraw","reset_password"].includes(c)){const n=(0,o.filterUrlQuery)(t,["platform","code","action","loginid"]);[o.routes.cashier_withdrawal,o.routes.cashier_pa,o.routes.cashier_transactions_crypto].includes(e)?window.location.replace(`/redirect?${n}`):window.location.replace(`${e}/redirect?${n}`)}else window.location.replace(`${e}/?${(0,o.filterUrlQuery)(t,["platform","lang"])}`)}(0,r.runInAction)((()=>{this.is_populating_account_list=!1}));const e=(0,I.getRedirectionLanguage)(g.authorize.preferred_language,this.is_new_session),n=o.LocalStore.get(Z);n&&e!==n&&(window.history.replaceState({},document.title,(0,o.urlForLanguage)(e)),await this.root_store.common.changeSelectedLanguage(e)),this.citizen&&await this.onSetCitizen(this.citizen),this.is_virtual||this.setPrevRealAccountLoginid(this.loginid);!this.active_accounts.some((e=>"svg"===e.landing_company_shortcode))&&this.is_low_risk&&this.switchAccount(this.virtual_account_loginid)}if(this.selectCurrency(""),this.responsePayoutCurrencies(await s.WS.authorized.payoutCurrencies()),this.is_logged_in?(this.getWalletMigrationState(),await s.WS.authorized.mt5LoginList().then(this.responseMt5LoginList),s.WS.tradingServers(o.CFD_PLATFORMS.MT5).then(this.responseMT5TradingServers),s.WS.tradingPlatformAvailableAccounts(o.CFD_PLATFORMS.MT5).then(this.responseTradingPlatformAvailableAccounts),s.WS.tradingPlatformAvailableAccounts(o.CFD_PLATFORMS.CTRADER).then(this.responseCTraderTradingPlatformAvailableAccounts),s.WS.tradingPlatformAccountsList(o.CFD_PLATFORMS.DXTRADE).then(this.responseTradingPlatformAccountsList),s.WS.tradingPlatformAccountsList(o.CFD_PLATFORMS.CTRADER).then(this.responseTradingPlatformAccountsList),s.WS.tradingServers(o.CFD_PLATFORMS.DXTRADE).then(this.responseDxtradeTradingServers),this.responseStatement(await x().send({statement:1})),0===Object.keys(this.phone_settings).length&&this.setPhoneSettings((await s.WS.getPhoneSettings()).phone_settings),0===Object.keys(this.account_settings).length&&this.setAccountSettings((await s.WS.authorized.cache.getSettings()).get_settings),this.account_settings&&this.setPreferredLanguage(this.account_settings.preferred_language),await this.fetchResidenceList(),await this.getTwoFAStatus(),this.account_settings&&!this.account_settings.residence&&this.root_store.ui.toggleSetResidenceModal(!0),this.residence&&(await s.WS.authorized.cache.landingCompany(this.residence).then(this.responseLandingCompany),await this.fetchStatesList()),this.is_virtual||await this.getLimits(),localStorage.getItem("config.tokens")&&localStorage.getItem("config.account1")&&(localStorage.removeItem("config.tokens"),localStorage.removeItem("config.account1"))):this.resetMt5AccountListPopulation(),this.responseWebsiteStatus(await s.WS.wait("website_status")),this.registerReactions(),this.setIsLoggingIn(!1),this.setInitialized(!0),"signup"===c){const e=(0,o.filterUrlQuery)(t,["lang"]);history.replaceState(null,null,window.location.href.replace(`${t}`,""===e?"":`?${e}`))}return history.replaceState(null,null,window.location.href.replace(`${t}`,(0,o.excludeParamsFromUrlQuery)(t,["type","acp","label","server","interface","cid","age","utm_source","first_name","second_name","email","phone","_filteredParams"]))),this.setIsClientStoreInitialized(),!0}resetMt5AccountListPopulation(){this.is_populating_mt5_account_list=!1}responseWebsiteStatus(e){this.website_status=e.website_status}responseLandingCompany(e){this.landing_companies=e.landing_company,this.is_landing_company_loaded=!0,this.setStandpoint(this.landing_companies)}setIsLandingCompanyLoaded(e){this.is_landing_company_loaded=e}setStandpoint(e){if(!e)return;const{gaming_company:t,financial_company:n}=e;var r,o;null!=t&&t.shortcode&&(this.standpoint=O(O({},this.standpoint),{},{[t.shortcode]:!(null==t||!t.shortcode),gaming_company:null!==(r=null==t?void 0:t.shortcode)&&void 0!==r&&r}));null!=n&&n.shortcode&&(this.standpoint=O(O({},this.standpoint),{},{[n.shortcode]:!(null==n||!n.shortcode),financial_company:null!==(o=null==n?void 0:n.shortcode)&&void 0!==o&&o}))}setLoginId(e){this.loginid=e}setAccounts(e){this.accounts=e}setSwitched(e){this.switched=e}isDisabled(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.loginid;return this.getAccount(e).is_disabled}getToken(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.loginid;return this.getAccount(e).token}getAccount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.loginid;return this.accounts[e]}getAccountInfo(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.loginid;const n=this.getAccount(t),r=n.currency,i=n.is_disabled,a=n.is_virtual,c=!a&&r?r:this.account_title,l="null"===d().getJSON("utm_data")?{utm_source:"no source",utm_medium:"no medium",utm_campaign:"no campaign",utm_content:"no content"}:d().getJSON("utm_data"),g=null===o.LocalStore||void 0===o.LocalStore||null===(e=o.LocalStore.get("active_loginid"))||void 0===e||null===(e=e.match(/[a-zA-Z]+/g))||void 0===e?void 0:e.join("");return setTimeout((async()=>{var e;let t="";if(this.residence)t=this.residence;else try{var n;const{country_code:e}=(null===(n=await s.WS.authorized.cache.getSettings())||void 0===n?void 0:n.get_settings)||{country_code:""};t=e}catch(e){console.error("Error getting residence country",e)}const r={loggedIn:this.is_logged_in,account_type:"null"===g?"unlogged":g,residence_country:t,app_id:String((0,o.getAppId)()),device_type:(0,o.isMobile)()?"mobile":"desktop",language:(0,I.getLanguage)(),device_language:(null===(e=navigator)||void 0===e?void 0:e.language)||"en-EN",user_language:(0,I.getLanguage)().toLowerCase(),country:await C._p.getCountry(),utm_source:null==l?void 0:l.utm_source,utm_medium:null==l?void 0:l.utm_medium,utm_campaign:null==l?void 0:l.utm_campaign,utm_content:null==l?void 0:l.utm_content,domain:window.location.hostname,url:window.location.href};this.user_id&&(r.user_id=this.user_id),b.Analytics.setAttributes(r)}),4),{loginid:t,is_disabled:i,is_virtual:a,icon:c.toLowerCase(),title:"virtual"===c.toLowerCase()?(0,I.localize)("DEMO"):c}}setIsLoggingIn(e){this.is_logging_in=e}setPreSwitchAccount(e){this.pre_switch_broadcast=e}broadcastAccountChange(){this.switch_broadcast=!0}broadcastAccountChangeAfterAuthorize(){var e;return null===x()||void 0===x()||null===(e=x().wait("authorize"))||void 0===e?void 0:e.then((()=>{this.broadcastAccountChange()}))}handleNotFoundLoginId(){this.root_store.notifications.addNotificationMessage({message:(0,I.localize)("Could not switch to default account."),type:"danger"}),this.logout()}isUnableToFindLoginId(){return!this.all_loginids.some((e=>e!==this.switched))||this.switched===this.loginid}async switchAccountHandler(){var e;if(!this.switched||!this.switched.length||null===(e=this.getAccount(this.switched))||void 0===e||!e.token)return this.isUnableToFindLoginId()?void this.handleNotFoundLoginId():(this.root_store.notifications.addNotificationMessage({message:(0,I.localize)("Switching to default account."),type:"info"}),this.switchAccount(this.all_loginids[0]),void await this.switchAccountHandler());(0,r.runInAction)((()=>this.is_switching=!0)),this.setIsAuthorize(!1);const t=this.loginid;this.resetLocalStorageValues(this.switched),G.clear();const n=this.is_virtual||/VRTC|VRW/.test(t);n?(x().closeAndOpenNewConnection(),await(null===x()||void 0===x()?void 0:x().wait("authorize"))):(await s.WS.forgetAll("balance"),await x().authorize(this.getToken())),this.root_store.common.has_error&&this.root_store.common.setError(!1,null),sessionStorage.setItem("active_tab","1"),this.root_store.gtm.setLoginFlag(),await this.init(),n||this.broadcastAccountChange(),(0,r.runInAction)((()=>this.is_switching=!1))}registerReactions(){(0,r.when)((()=>this.switched),(()=>{var e;null!==(e=this.accounts[this.switched])&&void 0!==e&&e.is_virtual&&(this.root_store.notifications.removeNotifications(!0),this.root_store.notifications.removeAllNotificationMessages()),this.switchAccountHandler()}))}setBalanceActiveAccount(e){if(this.accounts[null==e?void 0:e.loginid]&&e.loginid===this.loginid){var t;if(this.accounts[e.loginid].balance=e.balance,this.accounts[e.loginid].is_virtual&&this.root_store.notifications.resetVirtualBalanceNotification(e.loginid),window.location.pathname.includes(o.routes.wallets))return void this.resetLocalStorageValues(null!==(t=localStorage.getItem("active_loginid"))&&void 0!==t?t:this.loginid);this.resetLocalStorageValues(this.loginid)}}setBalanceOtherAccounts(e){var t;if((null===(t=this.root_store.modules)||void 0===t||null===(t=t.cashier)||void 0===t||null===(t=t.account_transfer)||void 0===t||!t.is_mt5_transfer_in_progress)&&(this.accounts[null==e?void 0:e.loginid]&&!e.accounts&&e.loginid!==this.loginid&&(this.accounts[e.loginid].balance=e.balance),this.accounts[null==e?void 0:e.loginid]&&e.accounts&&Object.keys(e.accounts).forEach((t=>{!(t===this.loginid)&&this.accounts[t]&&(this.accounts[t].balance=+e.accounts[t].balance)})),null!=e&&e.total)){const t=(0,o.getPropertyValue)(e,["total","deriv"]),n=(0,o.getPropertyValue)(e,["total",o.CFD_PLATFORMS.MT5]),r=(0,o.getPropertyValue)(e,["total",o.CFD_PLATFORMS.DXTRADE]),i=!(0,o.isEmptyObject)(n),a=!(0,o.isEmptyObject)(r);this.obj_total_balance={amount_real:+t.amount,amount_mt5:i?+n.amount:this.obj_total_balance.amount_mt5,amount_dxtrade:a?+r.amount:this.obj_total_balance.amount_dxtrade,currency:t.currency}}}selectCurrency(e){this.selected_currency=e}setResidence(e){this.loginid&&(this.accounts[this.loginid].residence=e)}setCitizen(e){this.citizen=e}setEmail(e){this.loginid&&(this.accounts[this.loginid].email=e,this.email=e)}setIsClientStoreInitialized(){this.is_client_store_initialized=!0}setAccountSettings(e){JSON.stringify(e)===JSON.stringify(this.account_settings)||(this.account_settings=e,this.is_account_setting_loaded=!0)}setAccountStatus(e){this.account_status=e}async updateAccountStatus(){const e=await s.WS.authorized.getAccountStatus();e.error||this.setAccountStatus(e.get_account_status)}async updateMT5AccountDetails(){this.is_logged_in&&(await s.WS.authorized.mt5LoginList().then(this.responseMt5LoginList),await s.WS.authorized.tradingPlatformAvailableAccounts(o.CFD_PLATFORMS.MT5).then(this.responseTradingPlatformAvailableAccounts))}setInitialized(e){this.initialized_broadcast=e}cleanUp(){const e=o.LocalStore.getObject("notification_messages");e&&this.loginid&&(delete e[this.loginid],o.LocalStore.setObject("notification_messages",O({},e))),this.root_store.gtm.pushDataLayer({event:"log_out"}),this.loginid=null,this.user_id=null,this.upgrade_info=void 0,this.accounts={},this.mt5_login_list=[],this.dxtrade_accounts_list=[],this.ctrader_accounts_list=[],this.landing_companies={},o.LocalStore.set("marked_notifications",JSON.stringify([])),localStorage.setItem("active_loginid",this.loginid),localStorage.setItem("active_user_id",this.user_id),localStorage.setItem("client.accounts",JSON.stringify(this.accounts)),(0,r.runInAction)((async()=>{this.responsePayoutCurrencies(await s.WS.payoutCurrencies())})),this.root_store.notifications.removeAllNotificationMessages(!0),this.syncWithLegacyPlatforms(this.loginid,this.accounts)}async logout(){localStorage.removeItem("traders_hub_store"),localStorage.removeItem("trade_store");const e=await(0,s.a)();return 1===(null==e?void 0:e.logout)&&(this.cleanUp(),this.setLogout(!0)),e}setLogout(e){this.has_logged_out=e,this.root_store.common.has_error&&this.root_store.common.setError(!1,null)}storeClientAccounts(e,t){const n={country:"residence",landing_company_name:"landing_company_shortcode"},r={},o=null==e?void 0:e.selected_acct,i=null==e?void 0:e.code,a=null==o?void 0:o.startsWith("CRW");let s,c;o&&(a&&(c=e.selected_acct),s=e.selected_acct),t.forEach((function(e){Object.keys(e).forEach((function(t){if("loginid"===t)s||e.is_disabled||(e.is_virtual?e.is_virtual&&(s=e[t]):s=e[t]);else{const o=n[t]||t,i=void 0===e[t]?"":e[t];e.loginid in r||(r[e.loginid]={}),r[e.loginid][o]=i}}))}));let l=1;for(;e[`acct${l}`];){const t=e[`acct${l}`],n=e[`token${l}`];t&&n&&(r[t].token=n),l++}s&&r[s].token||(s=e.acct1),s&&Object.keys(r).length&&(o&&a&&(localStorage.setItem("active_wallet_loginid",c),i&&localStorage.setItem("verification_code.payment_withdraw",i)),localStorage.setItem("active_loginid",s),localStorage.setItem("client.accounts",JSON.stringify(r)),this.syncWithLegacyPlatforms(s,this.accounts))}async setUserLogin(e){let t={};const n=window.location.search;let i=!1;if(n&&window.location.pathname!==o.routes.callback_page){var a;let e=new URLSearchParams(window.location.search);e.forEach(((e,n)=>{["acct","token","cur","code"].some((e=>(null==n?void 0:n.includes(e))&&"affiliate_token"!==n))&&(t[n]=e,i=!0)})),this.is_new_session=Object.keys(t).length>0,Object.keys(t).forEach((t=>e.delete(t))),e.delete("state"),e=null===(a=e)||void 0===a?void 0:a.toString();const n=e?`?${e}`:"/";history.replaceState(null,null,`${n}${window.location.hash}`)}const s=e?e.token1:t.token1,c=localStorage.getItem("config.account1")||"";if(s||c){this.setIsLoggingIn(!0);const n=sessionStorage.getItem("redirect_url"),i=o.routes.traders_hub;(null!=n&&n.endsWith(o.routes.trade)||null!=n&&n.endsWith(o.routes.bot)||/chart_type|interval|symbol|trade_type/.test(n))&&((0,o.isTestLink)()||(0,o.isProduction)()||(0,o.isLocal)()||(0,o.isStaging)()||(0,o.isTestDerivApp)())?window.history.replaceState({},document.title,i):window.history.replaceState({},document.title,sessionStorage.getItem("redirect_url")),G.clear(),this.is_populating_account_list=!0;const a=await x().authorize(s||c);if(e&&(t=e),localStorage.getItem("config.tokens")){const e=JSON.parse(localStorage.getItem("config.tokens"));t=e}return a.error||(0,r.runInAction)((()=>{const e=(a.authorize||{}).account_list;this.upgradeable_landing_companies=[...new Set(a.upgradeable_landing_companies)],this.canStoreClientAccounts(t,e)?this.storeClientAccounts(t,e):a.error={code:"MismatchedAcct",message:(0,I.localize)("Invalid token")}})),a}}canStoreClientAccounts(e,t){const n=t&&(0,o.isEmptyObject)(this.accounts),r=Object.keys(e).filter((e=>/^acct./.test(e))).every((n=>t.some((t=>t.loginid===e[n]))));return n&&r}setVerificationCode(e,t){this.verification_code[t]=e,"phone_number_verification"!==t&&(e?o.LocalStore.set(`verification_code.${t}`,e):o.LocalStore.remove(`verification_code.${t}`)),"signup"===t&&this.fetchResidenceList()}setNewEmail(e,t){this.new_email[t]=e,e?o.LocalStore.set(`new_email.${t}`,e):o.LocalStore.remove(`new_email.${t}`)}setDeviceData(){y("signup_device",(0,o.isDesktopOs)()?"desktop":"mobile")}getSignupParams(){const e={},t=new URLSearchParams(window.location.search);return["date_first_contact","signup_device","gclid_url","utm_source","utm_ad_id","utm_adgroup_id","utm_adrollclk_id","utm_campaign_id","utm_campaign","utm_fbcl_id","utm_gl_client_id","utm_msclk_id","utm_medium","utm_term","utm_content","affiliate_token"].forEach((n=>{t.get(n)&&(e[n]=t.get(n))})),e}onSetResidence(e,t){let{residence:n}=e;n&&s.WS.setSettings({residence:n}).then((async e=>{e.error?t(e.error.message):(await this.setResidence(n),await s.WS.authorized.storage.landingCompany(this.accounts[this.loginid].residence).then(this.responseLandingCompany),await s.WS.authorized.storage.getSettings().then((async e=>{this.setAccountSettings(e.get_settings)})),(0,r.runInAction)((async()=>{await x().authorize(this.getToken()).then((()=>{(0,r.runInAction)((()=>this.upgrade_info=this.getBasicUpgradeInfo()))}))})),t())}))}async onSetCitizen(e){e&&s.WS.authorized.setSettings({set_settings:1,citizen:e})}onSignup(e,t){let{citizenship:n,password:r,residence:o}=e;this.verification_code.signup&&r&&o&&n&&s.WS.newAccountVirtual(this.verification_code.signup,r,o,this.getSignupParams()).then((async e=>{if(e.error)t(e.error.message);else{t();const{client_id:r,currency:o,oauth_token:i}=e.new_account_virtual;await this.setCitizen(n),await this.switchToNewlyCreatedAccount(r,i,o),this.root_store.gtm.pushDataLayer({event:"virtual_signup"})}})).finally((()=>{setTimeout((()=>{var e;const{event:t,analyticsData:n}=null!==(e=window.dataLayer.find((e=>"ce_questionnaire_form"===e.event)))&&void 0!==e?e:{event:"unhandled",analyticsData:{}};b.Analytics.trackEvent(t,n)}),1e4)}))}async switchToNewlyCreatedAccount(e,t,n){this.setPreSwitchAccount(!0);const r={acct1:e,token1:t,curr1:n};await this.init(r),this.broadcastAccountChange()}fetchAccountSettings(){return new Promise((e=>{s.WS.authorized.storage.getSettings().then((t=>{this.setAccountSettings(t.get_settings),e(t)}))}))}fetchResidenceList(){return new Promise((e=>{s.WS.storage.residenceList().then((t=>{this.setResidenceList(t),e(t)}))}))}setResidenceList(e){this.residence_list=e.residence_list||[]}fetchStatesList(){return new Promise(((e,t)=>{s.WS.authorized.storage.statesList({states_list:this.accounts[this.loginid].residence}).then((n=>{n.error?t(n.error):(0,r.runInAction)((()=>{this.states_list=n.states_list||[]})),e(n)}))}))}resetMt5ListPopulatedState(){this.is_mt5_account_list_updated=!1,this.is_populating_mt5_account_list=!0,this.mt5_login_list_error=null}async updateMt5LoginList(){if(this.is_logged_in&&!this.is_mt5_account_list_updated&&!this.is_populating_mt5_account_list){const e=await s.WS.mt5LoginList();this.responseMt5LoginList(e)}}responseMT5TradingServers(e){e.error?this.mt5_trading_servers=[]:this.mt5_trading_servers=e.trading_servers}responseMt5LoginList(e){this.is_populating_mt5_account_list=!1,this.is_mt5_account_list_updated=!0,this.mt5_login_list_error=null,setTimeout((()=>{this.is_mt5_account_list_updated=!1}),6e4),e.error?this.mt5_login_list_error=e.error:this.mt5_login_list=e.mt5_login_list.map((e=>{const t=(e.error?e.error.details.login:e.login).replace(/^(MT[DR]?)/i,"");if(e.error){const{account_type:n,server:r}=e.error.details;return this.setMT5DisabledSignupTypes({[n]:!0}),{account_type:n,display_login:t,has_error:!0,server:r}}return O(O({},e),{},{display_login:t})}))}responseDxtradeTradingServers(e){e.error?this.dxtrade_trading_servers=[]:(this.dxtrade_trading_servers=e.trading_servers,this.dxtrade_trading_servers.forEach((e=>{const{account_type:t,disabled:n}=e;n&&this.setCFDDisabledSignupTypes(o.CFD_PLATFORMS.DXTRADE,{[t]:!0})})))}setIsTradingPlatformAvailableAccountLoaded(e){this.is_trading_platform_available_account_loaded=e}responseTradingPlatformAvailableAccounts(e){e.error||(this.trading_platform_available_accounts=e.trading_platform_available_accounts),this.setIsTradingPlatformAvailableAccountLoaded(!0)}responseCTraderTradingPlatformAvailableAccounts(e){e.error||(this.ctrader_trading_platform_available_accounts=e.trading_platform_available_accounts)}responseTradingPlatformAccountsList(e){const{platform:t}=e.echo_req||{};this[`is_populating_${t}_account_list`]=!1,this[`${t}_accounts_list_error`]=null,e.error?this[`${t}_accounts_list_error`]=e.error:this[`${t}_accounts_list`]=(0,o.sortApiData)(e.trading_platform_accounts).map((e=>{const n=e.error?e.error.details.account_id:e.account_id;if(e.error){const{account_type:r,server:i}=e.error.details;return t!==o.CFD_PLATFORMS.DXTRADE&&t!==o.CFD_PLATFORMS.CTRADER||this.setCFDDisabledSignupTypes(t,{[r]:!0}),{account_type:r,display_login:n,has_error:!0,server:i}}return O(O({},e),{},{display_login:n})}))}responseStatement(e){e.error||(this.statement=e.statement)}getChangeableFields(){const e=[...this.account_settings.immutable_fields||[],"immutable_fields","email","password"];return Object.keys(this.account_settings).filter((t=>!e.includes(t)))}syncWithLegacyPlatforms(e,t){const n={},r={};n.iframe=document.getElementById("localstorage-sync"),r.iframe=document.getElementById("localstorage-sync__p2p"),n.origin=(0,o.getUrlSmartTrader)(),r.origin=(0,o.getUrlP2P)(!1),[n,r].forEach((n=>{if(n.iframe&&(n.iframe.contentWindow.postMessage({key:"client.accounts",value:JSON.stringify(t)},n.origin),n.iframe.contentWindow.postMessage({key:"active_loginid",value:e},n.origin),n===r)){const e=o.LocalStore.get(Z);n.iframe.contentWindow.postMessage({key:Z,value:e},n.origin)}}))}get is_high_risk(){if((0,o.isEmptyObject)(this.account_status))return!1;const{gaming_company:e,financial_company:t}=this.landing_companies,n="svg"===(null==t?void 0:t.shortcode)||"svg"===(null==e?void 0:e.shortcode)&&"maltainvest"!==(null==t?void 0:t.shortcode);return"svg"===(null==t?void 0:t.shortcode)&&"svg"===(null==e?void 0:e.shortcode)||"high"===this.account_status.risk_classification||n}get is_low_risk(){var e,t;const{gaming_company:n,financial_company:r}=this.landing_companies;return"maltainvest"===(null==r?void 0:r.shortcode)&&"svg"===(null==n?void 0:n.shortcode)||(null===(e=this.upgradeable_landing_companies)||void 0===e?void 0:e.includes("svg"))&&(null===(t=this.upgradeable_landing_companies)||void 0===t?void 0:t.includes("maltainvest"))}get has_residence(){var e;return!(null===(e=this.accounts[this.loginid])||void 0===e||!e.residence)}get ctrader_total_balance(){var e;return null===(e=this.ctrader_accounts_list)||void 0===e?void 0:e.filter((e=>"real"===e.account_type)).reduce(((e,t)=>{var n;return e+(null!==(n=null==t?void 0:t.balance)&&void 0!==n?n:0)}),0)}get is_proof_of_ownership_enabled(){var e;if(null===(e=this.account_status)||void 0===e||!e.authentication)return!1;const{ownership:t,needs_verification:n}=this.account_status.authentication;return(null==n?void 0:n.includes("ownership"))||"verified"===(null==t?void 0:t.status)}fetchFinancialAssessment(){return new Promise((async e=>{const{get_financial_assessment:t}=await s.WS.authorized.storage.getFinancialAssessment();(0,r.runInAction)((()=>this.financial_assessment=t)),e(t)}))}async setFinancialAndTradingAssessment(e){return await s.WS.setFinancialAndTradingAssessment(e)}setTwoFAStatus(e){this.has_enabled_two_fa=e}getTwoFAStatus(){return new Promise((e=>{s.WS.authorized.accountSecurity({account_security:1,totp_action:"status"}).then((t=>{if(t.error)e(t.error);else{const n=!!(0,o.getPropertyValue)(t,["account_security","totp","is_enabled"]);this.setTwoFAStatus(n),e(n)}}))}))}setTwoFAChangedStatus(e){this.has_changed_two_fa=e}async updateMT5Status(){this.updateAccountStatus(),await s.WS.authorized.mt5LoginList().then(this.root_store.client.responseMt5LoginList)}setIsAlreadyAttempted(e){this.is_already_attempted=e}setIsP2PEnabled(e){this.is_p2p_enabled=e}setRealAccountSignupFormData(e){this.real_account_signup_form_data=e}setRealAccountSignupFormStep(e){this.real_account_signup_form_step=e}setWalletMigrationState(e){this.wallet_migration_state=e}setIsWalletMigrationRequestIsInProgress(e){this.is_wallet_migration_request_is_in_progress=e}async getWalletMigrationState(){try{var e,t;const n=await s.WS.authorized.getWalletMigrationState();null!=n&&null!==(e=n.wallet_migration)&&void 0!==e&&e.state&&this.setWalletMigrationState(null==n||null===(t=n.wallet_migration)||void 0===t?void 0:t.state)}catch(e){var n,r;console.log(`Something wrong: code = ${null==e||null===(n=e.error)||void 0===n?void 0:n.code}, message = ${null==e||null===(r=e.error)||void 0===r?void 0:r.message}`)}}async startWalletMigration(){this.setIsWalletMigrationRequestIsInProgress(!0);try{await s.WS.authorized.startWalletMigration(),await this.getWalletMigrationState()}catch(n){var e,t;console.log(`Something wrong: code = ${null==n||null===(e=n.error)||void 0===e?void 0:e.code}, message = ${null==n||null===(t=n.error)||void 0===t?void 0:t.message}`)}finally{this.setIsWalletMigrationRequestIsInProgress(!1)}}async resetWalletMigration(){this.setIsWalletMigrationRequestIsInProgress(!0);try{await s.WS.authorized.resetWalletMigration(),this.getWalletMigrationState()}catch(n){var e,t;console.log(`Something wrong: code = ${null==n||null===(e=n.error)||void 0===e?void 0:e.code}, message = ${null==n||null===(t=n.error)||void 0===t?void 0:t.message}`)}finally{this.setIsWalletMigrationRequestIsInProgress(!1)}}setIsPasskeySupported(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.is_passkey_supported=e}setIsPhoneNumberVerificationEnabled(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.is_phone_number_verification_enabled=e}setIsCountryCodeDropdownEnabled(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.is_country_code_dropdown_enabled=e}setShouldShowPasskeyNotification(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.should_show_passkey_notification=e}setPasskeysStatusToCookie(e){let t=/deriv.com/.test(window.location.hostname)?C.Zh.derivHost:window.location.hostname;/deriv.dev/.test(window.location.hostname)&&(t="deriv.dev");const n=new Date;n.setFullYear(n.getFullYear()+1);const r="available"===e;d().set("passkeys_available",String(r),{expires:n,path:"/",domain:t,secure:!0,sameSite:"None"})}async fetchPasskeysList(){const e=await s.WS.authorized.send({passkeys_list:1});this.passkeys_list=null==e?void 0:e.passkeys_list}async fetchShouldShowPasskeyNotification(){var e;if(null!==(e=this.root_store.ui)&&void 0!==e&&e.is_mobile)try{await this.fetchPasskeysList();const e=0===this.passkeys_list.length;e||this.setPasskeysStatusToCookie("available"),this.setShouldShowPasskeyNotification(e)}catch(e){}else this.setShouldShowPasskeyNotification(!1)}addSubscription(e,t,n,r){var o,i;this.subscriptions[e]=null!==(o=this.subscriptions[e])&&void 0!==o?o:{},this.subscriptions[e][t]=null!==(i=this.subscriptions[e][t])&&void 0!==i?i:{sub:void 0,id:void 0},n&&(this.subscriptions[e][t].sub=n),r&&(this.subscriptions[e][t].id=r)}setExchangeRates(e){this.exchange_rates=O({},e)}get is_cr_account(){var e;return null===(e=this.loginid)||void 0===e?void 0:e.startsWith("CR")}get is_mf_account(){var e;return null===(e=this.loginid)||void 0===e?void 0:e.startsWith("MF")}get account_time_of_closure(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.account_closure)||void 0===e||null===(e=e.find((e=>{var t;return(null==e||null===(t=e.status_codes)||void 0===t?void 0:t.includes("residence_closure"))&&"residence"===(null==e?void 0:e.type)})))||void 0===e?void 0:e.time_of_closure}get is_account_to_be_closed_by_residence(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.account_closure)||void 0===e?void 0:e.find((e=>{var t;return(null==e||null===(t=e.status_codes)||void 0===t?void 0:t.includes("residence_closure"))&&"residence"===(null==e?void 0:e.type)}))}setClientKYCStatus(e){this.client_kyc_status=e}get should_show_trustpilot_notification(){var e;return null===(e=this.account_status)||void 0===e||null===(e=e.status)||void 0===e?void 0:e.includes("customer_review_eligible")}}var V=n(596176),j=n(274277),k=n.n(j),S=n(498015);const Y=(0,I.getLanguage)();function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function J(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class L extends F{constructor(e){super({root_store:e}),this.allowed_languages=Object.keys((0,V.getAllowedLanguages)(o.UNSUPPORTED_LANGUAGES)),this.app_id=void 0,this.app_router={history:null},this.app_routing_history=[],this.changing_language_timer_id="",this.current_language=Y,this.deposit_url="",this.has_error=!1,this.is_language_changing=!1,this.is_network_online=!1,this.is_socket_opened=!1,this.error={type:"info",message:""},this.network_status={},this.platform="",this.selected_contract_type="",this.server_time=k().get()||(0,o.toMoment)(),this.services_error={},this.was_socket_opened=!1,this.withdraw_url="",this.changeSelectedLanguage=async e=>(G.clear(),"EN"===e&&window.localStorage.setItem("i18n_language",e),await(null===S.A||void 0===S.A?void 0:S.A.wait("authorize")),new Promise(((t,n)=>{S.A.setSettings({set_settings:1,preferred_language:e}).then((async()=>{const r=new URL(window.location.href);"EN"===e?r.searchParams.delete("lang"):r.searchParams.set("lang",e),window.history.pushState({path:r.toString()},"",r.toString());try{await(0,o.initMoment)(e),await(0,o.setLocale)(e),await(0,I.changeLanguage)(e,(()=>{this.changeCurrentLanguage(e),x().closeAndOpenNewConnection(e),this.root_store.client.setIsAuthorize(!1)})),t()}catch(e){n()}}))}))),this.isCurrentLanguage=e=>e===this.current_language,(0,r.makeObservable)(this,{addRouteHistoryItem:r.action.bound,allowed_languages:r.observable,app_id:r.observable,app_router:r.observable,app_routing_history:r.observable,changeCurrentLanguage:r.action.bound,changeSelectedLanguage:r.action.bound,changing_language_timer_id:r.observable,checkAppId:r.action.bound,current_language:r.observable,deposit_url:r.observable,error:r.observable,has_error:r.observable,init:r.action.bound,is_from_derivgo:r.computed,is_from_tradershub_os:r.computed,is_language_changing:r.observable,is_network_online:r.observable,is_socket_opened:r.observable,network_status:r.observable,platform:r.observable,routeBackInApp:r.action.bound,routeTo:r.action.bound,selected_contract_type:r.observable,server_time:r.observable,services_error:r.observable,setAppRouterHistory:r.action.bound,setAppstorePlatform:r.action.bound,setDepositURL:r.action.bound,setError:r.action.bound,setInitialRouteHistoryItem:r.action.bound,setIsSocketOpened:r.action.bound,setNetworkStatus:r.action.bound,setPlatform:r.action.bound,setSelectedContractType:r.action.bound,setServerTime:r.action.bound,setServicesError:r.action.bound,resetServicesError:r.action.bound,setWithdrawURL:r.action.bound,showError:r.action.bound,was_socket_opened:r.observable,withdraw_url:r.observable})}setSelectedContractType(e){this.selected_contract_type=e}init(){this.setPlatform()}checkAppId(){this.app_id&&this.app_id!==(0,o.getAppId)()&&x().closeAndOpenNewConnection(),this.app_id=(0,o.getAppId)()}changeCurrentLanguage(e){this.current_language!==e&&(this.changing_language_timer_id&&clearTimeout(this.changing_language_timer_id),this.current_language=e,this.is_language_changing=!0,this.changing_language_timer_id=setTimeout((()=>{this.is_language_changing=!1}),2500))}setAppstorePlatform(e){this.platform=e}setPlatform(){const e=window.location.search;if(e){const t=new URLSearchParams(e).get("platform");t&&(this.platform=t,window.sessionStorage.setItem("config.platform",this.platform))}}get is_from_derivgo(){var e;return(null===(e=o.platforms[this.platform])||void 0===e?void 0:e.platform_name)===o.platforms.derivgo.platform_name}get is_from_outside_cashier(){return!window.location.pathname.startsWith(o.routes.cashier)}get is_from_tradershub_os(){var e;return(null===(e=o.platforms[this.platform])||void 0===e?void 0:e.platform_name)===o.platforms.tradershub_os.platform_name||(0,o.isNavigationFromTradersHubOS)()}setInitialRouteHistoryItem(e){if(-1!==window.location.href.indexOf("?ext_platform_url=")){const t=decodeURI(new URL(window.location.href).searchParams.get("ext_platform_url")),{setExternalParams:n}=this.root_store.client;n({url:t,should_redirect:!0}),0===(null==t?void 0:t.indexOf((0,o.getUrlSmartTrader)()))?this.addRouteHistoryItem({pathname:t,action:"PUSH",is_external:!0}):0===(null==t?void 0:t.indexOf(o.routes.cashier_p2p))?this.addRouteHistoryItem({pathname:t,action:"PUSH"}):this.addRouteHistoryItem(D(D({},e),{},{action:"PUSH"})),window.history.replaceState({},document.title,window.location.pathname)}else this.addRouteHistoryItem(D(D({},e),{},{action:"PUSH"}))}setServerTime(e){this.server_time=e}setIsSocketOpened(e){const t=this.was_socket_opened&&e;this.is_socket_opened=e,this.was_socket_opened=this.was_socket_opened||e,t&&this.root_store.client.broadcastAccountChangeAfterAuthorize()}setNetworkStatus(e,t){this.network_status.class?(this.network_status.class=e.class,this.network_status.tooltip=e.tooltip):this.network_status=e,this.is_network_online=t;const{addNotificationMessage:n,client_notifications:r,removeNotificationMessage:o}=this.root_store.notifications;t?o(r.you_are_offline):n(r.you_are_offline)}setError(e,t){this.has_error=e,this.error=D({type:t?t.type:"info"},t&&{header:t.header,message:t.message,redirect_label:t.redirect_label,redirectOnClick:t.redirectOnClick,should_show_refresh:t.should_show_refresh,redirect_to:t.redirect_to,should_clear_error_on_click:t.should_clear_error_on_click,should_redirect:t.should_redirect,setError:this.setError})}showError(e){let{message:t,header:n,redirect_label:r,redirectOnClick:o,should_show_refresh:i,redirect_to:a,should_clear_error_on_click:s,should_redirect:c}=e;this.setError(!0,{header:n,message:t,redirect_label:r,redirectOnClick:o,should_show_refresh:i,redirect_to:a,should_clear_error_on_click:s,type:"error",should_redirect:c})}setDepositURL(e){this.deposit_url=e}setWithdrawURL(e){this.withdraw_url=e}resetServicesError(){this.services_error={}}setServicesError(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.services_error=e,(0,o.isMobile)()?"CompanyWideLimitExceeded"===e.code||"PleaseAuthenticate"===e.code?this.root_store.ui.toggleServicesErrorModal(!0):t||this.root_store.ui.addToast({content:e.message,type:"error"}):this.root_store.ui.toggleServicesErrorModal(!0)}setAppRouterHistory(e){this.app_router.history=e}routeTo(e){this.app_router.history&&this.app_router.history.push(e)}addRouteHistoryItem(e){const t=this.app_routing_history.findIndex((t=>t.pathname===e.pathname&&"PUSH"===t.action));t>-1&&this.app_routing_history.splice(t,1),this.app_routing_history.unshift(e)}routeBackInApp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=-1;const r=this.app_routing_history.find(((e,r)=>{if("PUSH"===e.action){if(e.is_external)return!0;const i=e.pathname.split("/")[1];if([o.routes.mt5,o.routes.bot,o.routes.trade,o.routes.dxtrade].map((e=>e.split("/")[1])).includes(i)||t.includes(e.pathname))return n=r,!0}return!1}));if(r){if(r.is_external)return void(window.location.href=r.pathname);if(n>-1){this.app_routing_history.splice(0,n+1);const t=this.root_store.ui;return void(r.pathname===o.routes.cashier_p2p&&t.is_mobile?e.push(`${r.pathname}/verification`):e.push(r.pathname))}}e.push(o.routes.trade)}}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){H(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class K extends F{constructor(e){super({root_store:e}),this.is_gtm_applicable="deriv-app.binary.sx"===window.location.hostname||/^(16303|16929|19111|19112)$/.test((0,o.getAppId)()),(0,r.makeObservable)(this,{visitorId:r.computed,common_variables:r.computed,accountSwitcherListener:r.action.bound,pushDataLayer:r.action.bound,pushTransactionData:r.action.bound,eventHandler:r.action.bound,setLoginFlag:r.action.bound}),this.onSwitchAccount(this.accountSwitcherListener)}get visitorId(){return this.root_store.client.loginid}get common_variables(){return z(z({language:(0,I.getLanguage)()},this.root_store.client.is_logged_in&&{visitorId:this.visitorId,currency:this.root_store.client.currency,userId:this.root_store.client.user_id,email:this.root_store.client.email}),{},{loggedIn:this.root_store.client.is_logged_in,theme:this.root_store.ui.is_dark_mode_on?"dark":"light",platform:(()=>{const e=new URL(window.location.href),t=e.hostname,n=e.pathname;return/^(deriv-app\.binary.sx|app\.deriv\.com|staging-app\.deriv\.com|deriv.app|staging.deriv.app|localhost.binary.sx)$/.test(t)?"bot"===n?"DBot":n===o.CFD_PLATFORMS.MT5?"MT5":"DTrader":"undefined"})()})}accountSwitcherListener(){return new Promise((e=>e(this.pushDataLayer({event:"account switch"}))))}async pushDataLayer(e){var t,n;this.is_gtm_applicable&&null!==(t=this.root_store)&&void 0!==t&&null!==(t=t.client)&&void 0!==t&&t.is_logged_in&&(null===x()||void 0===x()||null===(n=x().wait("authorize"))||void 0===n||n.then((()=>{const t=z(z({},this.common_variables),e);t.event&&dataLayer.push(t)})))}pushTransactionData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.is_gtm_applicable||this.root_store.client.is_virtual)return;if(!e.transaction||!e.transaction.action)return;if(!["deposit","withdrawal"].includes(e.transaction.action))return;const n=(0,o.toMoment)(),r="GTM_transactions";let i=JSON.parse(localStorage.getItem(r))||{};Object.prototype.hasOwnProperty.call(i,"timestamp")&&n.isAfter((0,o.epochToMoment)(i.timestamp),"day")&&(localStorage.removeItem(r),i={timestamp:n.unix()});const a=i.transactions||[];if(!a.includes(e.transaction.transaction_id)){const o={event:"transaction",bom_account_type:this.root_store.client.account_type,bom_today:n.unix(),transaction:{id:e.transaction.transaction_id,type:e.transaction.action,time:e.transaction.transaction_time,amount:e.transaction.amount}};Object.assign(o,t),this.pushDataLayer(o),a.push(e.transaction.transaction_id),i.transactions=a,i.timestamp=i.timestamp||n.unix(),localStorage.setItem(r,JSON.stringify(i))}}eventHandler(e){if(!this.is_gtm_applicable)return;const t=localStorage.getItem("GTM_login"),n="1"===localStorage.getItem("GTM_new_account");localStorage.removeItem("GTM_login"),localStorage.removeItem("GTM_new_account");const r=g.getJSON("affiliate_tracking");r&&this.pushDataLayer({affiliate_token:r});const i=(0,o.toMoment)(),a={visitorId:this.visitorId,account_type:this.root_store.client.account_type,currency:this.root_store.client.currency,country:e.country,country_abbrev:e.country_code,email:e.email,url:window.location.href,today:i.unix()};n&&(a.event="new_account",a.bom_date_joined=a.bom_today),t&&(a.event=t),this.pushDataLayer(a)}setLoginFlag(e){this.is_gtm_applicable&&e&&localStorage.setItem("GTM_login",e)}}class ${constructor(e){this.root_store=e}attachModule(e,t){this[e]=t}detachModule(e){this[e]={}}}var q=n(286326),ee=n(994343),te=n.n(ee),ne=n(57886),re=n(712949),oe=n(852691),ie=n(925152),ae=n(736996),se=n(836870);function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(n),!0).forEach((function(t){ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ge(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class de extends F{constructor(e){super({root_store:e}),this.is_notifications_visible=!1,this.notifications=[],this.notification_messages=[],this.marked_notifications=[],this.push_notifications=[],this.client_notifications={},this.should_show_popups=!0,this.should_show_passkey_notification=!1,this.trade_notifications=[],this.p2p_advertiser_info={},this.p2p_order_props={},this.p2p_redirect_to={},this.p2p_completed_orders=[],this.handlePOAAddressMismatchNotifications=()=>{const{client:e}=this.root_store,{account_status:t}=e,{status:n}=t,{poa_address_mismatch:r}=(0,ae.dh)(n||[]);r&&this.showPOAAddressMismatchWarningNotification()},this.showPOAAddressMismatchWarningNotification=()=>{this.addNotificationMessage({key:"poa_address_mismatch_warning",header:(0,I.localize)("Please update your address"),message:(0,I.localize)("It appears that the address in your document doesn’t match the address in your Deriv profile. Please update your personal details now with the correct address."),action:{route:o.routes.personal_details,text:(0,I.localize)("Go to Personal details")},type:"warning",should_show_again:!0})},this.showPOAAddressMismatchSuccessNotification=()=>{this.addNotificationMessage({key:"poa_address_mismatch_success",header:(0,I.localize)("Your proof of address has been verified"),type:"announce",should_show_again:!0,platform:"Account"})},this.showPOAAddressMismatchFailureNotification=()=>{this.addNotificationMessage({key:"poa_address_mismatch_failure",header:(0,I.localize)("Your address doesn’t match your profile"),message:(0,I.localize)("Update the address in your profile."),type:"danger",should_show_again:!0,platform:"Account"})},this.handleCurrencyRemovalNotification=(e,t)=>{const n=e.status_codes.includes("funded_account"),r=e.status_codes.includes("non_funded_account");if(!n&&!r)return;const i=n?(0,I.localize)("Withdraw your funds"):(0,I.localize)("Change your currency"),a=(0,o.getDateFromTimestamp)(e.time_of_closure),s=n?(0,se.jsx)(I.Localize,{i18n_default_text:"{{currency}} accounts won't be available after {{time_of_closure}}.",values:{time_of_closure:a,currency:t}}):(0,se.jsx)(I.Localize,{i18n_default_text:"{{currency}} accounts won't be available after {{time_of_closure}}. Choose a new account currency.",values:{time_of_closure:a,currency:t}}),c=n?{route:o.routes.cashier_withdrawal,text:(0,se.jsx)(I.Localize,{i18n_default_text:"Withdraw {{currency}}",values:{currency:t}})}:{text:(0,I.localize)("Contact live chat"),onClick:()=>{re.Chat.open()}};this.addNotificationMessage({key:"account_currency_closure",header:i,message:s,action:c,type:"warning",should_show_again:!0})},(0,r.makeObservable)(this,{addNotificationBar:r.action.bound,addNotificationMessage:r.action.bound,addNotificationMessageByKey:r.action.bound,addTradeNotification:r.action.bound,addVerificationNotifications:r.action.bound,client_notifications:r.observable,filterNotificationMessages:r.action.bound,handleClientNotifications:r.action.bound,is_notifications_empty:r.computed,is_notifications_visible:r.observable,marked_notifications:r.observable,markNotificationMessage:r.action.bound,notification_messages:r.observable,notifications:r.observable,p2p_advertiser_info:r.observable,p2p_completed_orders:r.observable,p2p_order_props:r.observable,p2p_redirect_to:r.observable,push_notifications:r.observable,refreshNotifications:r.action.bound,removeAllNotificationMessages:r.action.bound,removeNotificationByKey:r.action.bound,removeNotificationMessage:r.action.bound,removeNotificationMessageByKey:r.action.bound,removeNotifications:r.action.bound,removeTradeNotifications:r.action.bound,resetVirtualBalanceNotification:r.action.bound,setClientNotifications:r.action.bound,setP2POrderProps:r.action.bound,setP2PRedirectTo:r.action.bound,setShouldShowPopups:r.action.bound,should_show_passkey_notification:r.observable,should_show_popups:r.observable,showCompletedOrderNotification:r.action.bound,toggleNotificationsModal:r.action.bound,trade_notifications:r.observable,unmarkNotificationMessage:r.action.bound,updateNotifications:r.action.bound,handleCurrencyRemovalNotification:r.action.bound}),(0,r.reaction)((()=>e.common.app_routing_history.map((e=>e.pathname))),(()=>{this.filterNotificationMessages(),this.marked_notifications=JSON.parse(o.LocalStore.get("marked_notifications")||"[]")})),(0,r.reaction)((()=>{var t;return[e.client.account_settings,e.client.account_status,e.client.landing_companies,e.client.is_p2p_enabled,null===(t=e.common)||void 0===t?void 0:t.selected_contract_type,e.client.is_eu,e.client.has_enabled_two_fa,e.client.has_changed_two_fa,e.client.should_show_passkey_notification,this.p2p_order_props.order_id]}),(()=>{(!e.client.is_logged_in||Object.keys(e.client.account_status||{}).length>0&&Object.keys(e.client.landing_companies||{}).length>0)&&(this.removeNotifications(),this.removeAllNotificationMessages(),this.setClientNotifications(),this.handleClientNotifications(),this.filterNotificationMessages(),this.checkNotificationMessages())})),(0,r.reaction)((()=>[this.p2p_completed_orders,this.p2p_advertiser_info]),(()=>{this.handleClientNotifications()}))}get is_notifications_empty(){return!this.notifications.length}addNotificationBar(e){this.push_notifications.push(e),this.push_notifications=(0,o.unique)(this.push_notifications,"msg_type")}addNotificationMessage(e){if(e&&!this.notification_messages.find((t=>t.key===e.key))){const t=o.LocalStore.get("active_loginid"),n=o.LocalStore.getObject("notification_messages");if(t){if(!!Array.isArray(n[t])&&n[t].includes(e.key))return void this.markNotificationMessage({key:e.key});const r=(0,o.isMobile)()?ie.JE:ie.Hq;this.notification_messages=[...this.notification_messages,e].sort(r),(["svg","p2p"].some((t=>{var n;return null===(n=e.key)||void 0===n?void 0:n.includes(t)}))||ae.A$&&!ae.A$.includes(e.key))&&this.updateNotifications()}}}addNotificationMessageByKey(e){e&&this.addNotificationMessage(this.client_notifications[e])}addTradeNotification(e){if(!e)return;const{buy_price:t,contract_id:n,contract_type:r,currency:i,profit:a,purchase_time:s,shortcode:c,status:l,underlying:g}=e,d=`${n}_${l}`;if(this.trade_notifications.some((e=>{let{id:t}=e;return t===d})))return;const u=(0,o.getTradeTypeName)(r,{isHighLow:(0,o.isHighLow)({shortcode:c}),showMainTitle:!0});this.trade_notifications.push({id:d,buy_price:t,contract_id:n,contract_type:`${u} ${(0,o.getTradeTypeName)(r,{isHighLow:(0,o.isHighLow)({shortcode:c})})}`.trim(),currency:i,profit:(0,o.isMultiplierContract)(r)&&!isNaN(a)?(0,o.getTotalProfit)(e):a,status:l,symbol:(0,o.getMarketName)(null!=g?g:(0,o.extractInfoFromShortcode)(c).underlying),timestamp:"open"===l?s:(0,o.getEndTime)(e)});const _=Math.floor(Date.now()/1e3)-100;this.trade_notifications=this.trade_notifications.filter((e=>{let{timestamp:t}=e;return t>_}))}addVerificationNotifications(e,t,n,r){const o=this.root_store.client.account_status.status;"verified"!==e.status||o.includes("allow_poi_resubmission")?["none","pending","expired"].includes(e.status)&&!o.includes("allow_poi_resubmission")||this.addNotificationMessage(this.client_notifications.poi_failed):this.addNotificationMessage(this.client_notifications.poi_verified),"verified"!==t.status||o.includes("allow_poa_resubmission")?n?"pending"===t.status?this.addNotificationMessage(this.client_notifications.resticted_mt5_with_pending_poa):this.addNotificationMessage(this.client_notifications.resticted_mt5_with_failed_poa):r?this.addNotificationMessage(this.client_notifications.poa_rejected_for_mt5):["none","pending","expired"].includes(t.status)&&!o.includes("allow_poa_resubmission")||this.addNotificationMessage(this.client_notifications.poa_failed):this.addNotificationMessage(this.client_notifications.poa_verified)}filterNotificationMessages(){"null"!==o.LocalStore.get("active_loginid")&&this.resetVirtualBalanceNotification(o.LocalStore.get("active_loginid")),window.location.pathname===o.routes.proof_of_identity&&(this.notification_messages=this.notification_messages.filter((e=>!ae.Yv.includes(e.key)))),window.location.pathname===o.routes.personal_details?this.notification_messages=this.notification_messages.filter((e=>"Account"===e.platform||ae.Nn.includes(e.key))):window.location.pathname.includes(o.routes.cashier_p2p)||(this.notification_messages=this.notification_messages.filter((e=>!(void 0!==e.platform&&!e.platform.includes((0,o.getPathname)()))||(e.platform.includes((0,o.getPathname)())||e.is_disposable&&(this.removeNotificationMessage({key:e.key,should_show_again:e.should_show_again}),this.removeNotificationByKey({key:e.key})),!1))))}checkNotificationMessages(){const e=o.LocalStore.getObject("notification_messages"),{loginid:t}=this.root_store.client,n=e[t]?Object.values(e[t]):[],r=o.LocalStore.getObject("p2p_settings"),i=!!r[t]&&r[t].is_notifications_visible;n.length&&n.map((e=>{e.includes("p2p")?!1===i&&this.removeNotificationByKey({key:e}):this.removeNotificationByKey({key:e})}))}async handleClientNotifications(){var e,t,n,r;const i=te()(),{account_list:a,account_settings:s,account_status:c,accounts:l,isAccountOfType:g,is_eu:d,is_identity_verification_needed:u,is_logged_in:_,is_virtual:I,is_phone_number_verification_enabled:b,landing_company_shortcode:C,loginid:h,obj_total_balance:m,website_status:A,has_enabled_two_fa:p,has_changed_two_fa:y,has_wallet:f,is_poi_dob_mismatch:B,is_financial_assessment_needed:v,is_financial_information_incomplete:F,has_restricted_mt5_account:Q,has_mt5_account_with_rejected_poa:x,is_proof_of_ownership_enabled:G,is_p2p_enabled:U,is_poa_expired:W,currency:N,is_country_code_dropdown_enabled:O,phone_settings:E}=this.root_store.client,Z=(null==E?void 0:E.carriers)&&(null==E?void 0:E.carriers.length)>0,{upgradable_daily_limits:X}=this.p2p_advertiser_info||{},{max_daily_buy:w,max_daily_sell:R}=X||{},{is_10k_withdrawal_limit_reached:T}=this.root_store.modules.cashier.withdraw,{current_language:V,selected_contract_type:j}=this.root_store.common,k="maltainvest"===C,S="svg"===C,Y=o.LocalStore.getObject("marked_notifications"),P=!!Array.isArray(Y)&&Y.includes(null===(e=this.client_notifications)||void 0===e||null===(e=e.trustpilot)||void 0===e?void 0:e.key),D=(0,o.shouldShowPhoneVerificationNotification)(null==s||null===(t=s.phone_number_verification)||void 0===t?void 0:t.next_email_attempt,i),J=!(window.location.pathname===o.routes.phone_verification)&&!(null!=s&&null!==(n=s.phone_number_verification)&&void 0!==n&&n.verified)&&(null==s?void 0:s.phone)&&!D&&!I&&b&&(!O||Z);let L;const M=(0,o.checkServerMaintenance)(A);if(null!=A&&null!==(r=A.message)&&void 0!==r&&r.length||M?this.addNotificationMessage(this.client_notifications.site_maintenance):this.removeNotificationByKey({key:this.client_notifications.site_maintenance}),_){if((0,o.isEmptyObject)(c))return;const{authentication:{document:e,identity:t,income:n,needs_verification:r,ownership:i}={},status:d,cashier_validation:_,account_closure:I=[]}=c,{cashier_locked:b,deposit_locked:C,document_needs_action:A,mt5_withdrawal_locked:O,personal_details_locked:E,poi_name_mismatch:Z,withdrawal_locked:V}=(0,ae.dh)(d||[]);this.handlePOAAddressMismatchNotifications();const j=I.find((e=>"currency"===e.type));var z,H;if(j&&this.handleCurrencyRemovalNotification(j,N),null!=d&&d.includes("mt5_additional_kyc_required")&&this.addNotificationMessage(this.client_notifications.additional_kyc_info),!p&&m.amount_real>0)this.addNotificationMessage(this.client_notifications.two_f_a);else this.removeNotificationByKey({key:null===(z=this.client_notifications.two_f_a)||void 0===z?void 0:z.key});if(J?this.addNotificationMessage(this.client_notifications.phone_number_verification):this.removeNotificationByKey({key:this.client_notifications.phone_number_verification}),k&&F?this.addNotificationMessage(this.client_notifications.need_fa):this.removeNotificationByKey({key:this.client_notifications.need_fa}),B?this.addNotificationMessage(this.client_notifications.poi_dob_mismatch):this.removeNotificationByKey({key:this.client_notifications.poi_dob_mismatch}),W?this.addNotificationMessage(this.client_notifications.poa_expired):this.removeNotificationByKey({key:this.client_notifications.poa_expired}),h!==o.LocalStore.get("active_loginid"))return;if(v)this.addNotificationMessage(this.client_notifications.notify_financial_assessment);else this.removeNotificationByKey({key:null===(H=this.client_notifications.notify_financial_assessment)||void 0===H?void 0:H.key});y&&this.addNotificationMessage(this.client_notifications.has_changed_two_fa),this.root_store.client.should_show_passkey_notification?this.addNotificationMessage(this.client_notifications.enable_passkey):this.removeNotificationByKey({key:this.client_notifications.enable_passkey}),this.root_store.client.is_account_to_be_closed_by_residence?this.addNotificationMessage(this.client_notifications.notify_account_is_to_be_closed_by_residence):this.removeNotificationByKey({key:this.client_notifications.notify_account_is_to_be_closed_by_residence}),!P&&this.root_store.client.should_show_trustpilot_notification&&this.addNotificationMessage(this.client_notifications.trustpilot);const Y=l[h];if(Y&&!Y.is_virtual){var K,$,q;if((0,o.isEmptyObject)(c))return;if(h!==o.LocalStore.get("active_loginid"))return;const{cashier_locked_status:l,documents_expired:I,FinancialAssessmentRequired:m,is_virtual:p,no_residence:y,no_withdrawal_or_trading_status:B,SelfExclusion:v,system_maintenance:F,unwelcome_status:W,withdrawal_locked_status:N,ASK_AUTHENTICATE:j,ASK_CURRENCY:k,ASK_FINANCIAL_RISK_APPROVAL:P,ASK_FIX_DETAILS:D,ASK_SELF_EXCLUSION_MAX_TURNOVER_SET:J,ASK_TIN_INFORMATION:M}=_?(0,ae.kx)(_):{},z=T&&(r.includes("document")||"verified"!==(null==e?void 0:e.status)),H=T&&"verified"!==(null==t?void 0:t.status),te=r.includes("income")&&["rejected","none"].includes(null==n?void 0:n.status),re=r.includes("income")&&"locked"===(null==n?void 0:n.status),oe=null==t?void 0:t.services.onfido.submissions_left,ie=(null==i||null===(K=i.requests)||void 0===K?void 0:K.length)>0&&"rejected"!==(null==i||null===($=i.status)||void 0===$?void 0:$.toLowerCase()),se=G&&"rejected"===(null==i||null===(q=i.status)||void 0===q?void 0:q.toLowerCase()),ce=S&&d.includes("allow_document_upload")&&"none"===(null==t?void 0:t.status)&&"none"===(null==e?void 0:e.status),le=S&&d.includes("allow_document_upload")&&"none"===(null==e?void 0:e.status),ge=S&&d.includes("allow_document_upload")&&"none"===(null==t?void 0:t.status),de=S&&"expired"===(null==t?void 0:t.status),ue=a.some((e=>"tUSDT"===e.title));var ee,ne;if(this.addVerificationNotifications(t,e,Q,x),null!=s&&s.tnc_update_notification_start_date&&this.addNotificationMessage(this.client_notifications.reaccept_tnc),z&&this.addNotificationMessage(this.client_notifications.needs_poa),H&&this.addNotificationMessage(this.client_notifications.needs_poi),te&&this.addNotificationMessage(this.client_notifications.needs_poinc),re&&this.addNotificationMessage(this.client_notifications.poinc_upload_limited),Z&&null!=t&&t.services.onfido.last_rejected&&!E&&oe>0&&this.addNotificationMessage(this.client_notifications.poi_name_mismatch),F?(this.setClientNotifications(Y),this.addNotificationMessage(this.client_notifications.system_maintenance(V,C))):b?p?this.addNotificationMessage(this.client_notifications.is_virtual):y?this.addNotificationMessage(this.client_notifications.no_residence):I?this.addNotificationMessage(this.client_notifications.documents_expired):l?this.addNotificationMessage(this.client_notifications.cashier_locked):k?this.addNotificationMessage(this.client_notifications.currency):j&&u?this.addNotificationMessage(this.client_notifications.identity):j?this.addNotificationMessage(this.client_notifications.authenticate):g("financial")&&P?this.addNotificationMessage(this.client_notifications.ask_financial_risk_approval):m?this.addNotificationMessage(this.client_notifications.risk):g("financial")&&M?this.addNotificationMessage(this.client_notifications.tax):J?this.addNotificationMessage(this.client_notifications.max_turnover_limit_not_set):D?this.addNotificationMessage(this.client_notifications.required_fields(V,C)):f||this.addNotificationMessage(this.client_notifications.cashier_locked):(V&&(j?this.addNotificationMessage(this.client_notifications.withdrawal_locked_review):B?this.addNotificationMessage(this.client_notifications.no_withdrawal_or_trading):N?this.addNotificationMessage(this.client_notifications.withdrawal_locked):D&&this.addNotificationMessage(this.client_notifications.required_fields(V,C))),C&&(v?this.addNotificationMessage(this.client_notifications.self_exclusion(Y.excluded_until)):W&&this.addNotificationMessage(this.client_notifications.unwelcome))),ue&&this.addNotificationMessage(this.client_notifications.has_tusdt_account),O&&this.addNotificationMessage(this.client_notifications.mt5_withdrawal_locked),A&&this.addNotificationMessage(this.client_notifications.document_needs_action),U)this.addNotificationMessage(this.client_notifications.dp2p),null===(ee=this.p2p_completed_orders)||void 0===ee||ee.map((e=>{const{advertiser_details:t,client_details:n,id:r,is_reviewable:o,status:i,type:a}=e;o&&("buy"===a&&"completed"===i&&n.loginid===h&&this.showCompletedOrderNotification(t.name,r),"sell"===a&&"completed"===i&&t.loginid===h&&this.showCompletedOrderNotification(n.name,r))})),X&&this.addNotificationMessage(this.client_notifications.p2p_daily_limit_increase(Y.currency,w,R));else this.removeNotificationMessageByKey({key:null===(ne=this.client_notifications.dp2p)||void 0===ne?void 0:ne.key});L=(0,ae.AX)(s,Y,g),L&&this.addNotificationMessage(this.client_notifications.required_fields(V,C)),ie&&this.addNotificationMessage(this.client_notifications.poo_required),se&&this.addNotificationMessage(this.client_notifications.poo_rejected),ce?this.addNotificationMessage(this.client_notifications.svg_needs_poi_poa):le?this.addNotificationMessage(this.client_notifications.svg_needs_poa):ge?this.addNotificationMessage(this.client_notifications.svg_needs_poi):de&&this.addNotificationMessage(this.client_notifications.svg_poi_expired)}}var re;!d&&(0,o.isMultiplierContract)(j)&&"EN"===V&&_?this.addNotificationMessage(this.client_notifications.deriv_go):this.removeNotificationMessageByKey({key:null===(re=this.client_notifications.deriv_go)||void 0===re?void 0:re.key})}showCompletedOrderNotification(e,t){const n=`p2p_order_${t}`,{setP2POrderTab:r,navigateToOrderDetails:i}=this.p2p_order_props,a=window.location.pathname.includes(o.routes.cashier_p2p)?{onClick:()=>{r(t),i(t),this.setP2POrderProps(le(le({},this.p2p_order_props),{},{order_id:t})),this.is_notifications_visible&&this.toggleNotificationsModal(),this.refreshNotifications()},text:(0,I.localize)("Give feedback")}:{route:`${o.routes.p2p_orders}?order=${t}`,text:(0,I.localize)("Give feedback")};this.addNotificationMessage({action:a,header:(0,se.jsx)(I.Localize,{i18n_default_text:"Your order {{order_id}} is complete",values:{order_id:t}}),key:n,message:(0,se.jsx)(I.Localize,{i18n_default_text:"{{name}} has released your funds. <br/> Would you like to give your feedback?",values:{name:e}}),platform:"P2P",type:"p2p_completed_order",should_show_again:!0})}markNotificationMessage(e){let{key:t}=e;this.marked_notifications.includes(t)||(this.marked_notifications.push(t),o.LocalStore.set("marked_notifications",JSON.stringify(this.marked_notifications)))}refreshNotifications(){this.removeNotifications(!0),this.removeAllNotificationMessages(),this.setClientNotifications(),this.handleClientNotifications()}removeAllNotificationMessages(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.notification_messages=e?[]:[...this.notification_messages.filter((e=>e.is_persistent))]}removeNotifications(e){this.notifications=e?[]:[...this.notifications.filter((e=>e.is_persistent))]}removeTradeNotifications(e){this.trade_notifications=e?this.trade_notifications.filter((t=>t.id!==e)):[]}removeNotificationByKey(e){let{key:t}=e;this.notifications=this.notifications.filter((e=>e.key!==t))}removeNotificationMessage(){let{key:e,should_show_again:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e)return;this.notification_messages=this.notification_messages.filter((t=>t.key!==e));const n=o.LocalStore.get("active_loginid");if(!ae.A$.includes(e)&&!e.startsWith("p2p_order")&&n){let r=o.LocalStore.getObject("notification_messages");if(r[n]&&r[n].includes(e))return;const i=()=>Array.isArray(r[n])?(r[n].push(e),r[n]):[e];t||(r=le(le({},r),{},{[n]:i()}),o.LocalStore.setObject("notification_messages",r))}}removeNotificationMessageByKey(e){let{key:t}=e;this.notification_messages=this.notification_messages.filter((e=>e.key!==t))}resetVirtualBalanceNotification(e){var t,n;const{accounts:r,is_logged_in:o}=this.root_store.client;if(!o)return;if(null===(t=r[e])||void 0===t||!t.is_virtual)return;const i=999e3,a=parseInt(null===(n=r[e])||void 0===n?void 0:n.balance);if(a<=1e3||a>=i){let e=(0,I.localize)("Your demo account balance is low. Reset your balance to continue trading from your demo account.");a>=i&&(e=(0,I.localize)("Your demo account balance has reached the maximum limit, and you will not be able to place new trades. Reset your balance to continue trading from your demo account.")),this.setClientNotifications({resetVirtualBalance:this.root_store.client.resetVirtualBalance,message:e}),this.addNotificationMessage(this.client_notifications.reset_virtual_balance)}else this.removeNotificationByKey({key:"reset_virtual_balance"}),this.removeNotificationMessage({key:"reset_virtual_balance",should_show_again:!0})}setClientNotifications(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{ui:t}=this.root_store,{has_enabled_two_fa:n,setTwoFAChangedStatus:r,logout:i,email:a,is_cr_account:c,account_settings:l}=this.root_store.client,g=n?(0,I.localize)("enabled"):(0,I.localize)("disabled"),d=(0,o.getPlatformSettings)("trader").name,u=(0,o.getPlatformSettings)("go").name,_=null==l?void 0:l.tnc_update_notification_start_date,b={ask_financial_risk_approval:{key:"ask_financial_risk_approval",header:(0,I.localize)("Complete your Appropriateness Test"),message:(0,I.localize)("Please click the following link to complete your Appropriateness Test."),action:{route:o.routes.financial_assessment,text:(0,I.localize)("Click here")},type:"warning"},authenticate:{key:"authenticate",header:(0,I.localize)("Your account has not been verified"),message:(0,I.localize)("Please submit your proof of identity and proof of address to verify your account in your account settings to access the cashier."),action:{route:o.routes.proof_of_identity,text:(0,I.localize)("Go to my account settings")},type:"warning"},cashier_locked:{key:"cashier_locked",header:(0,I.localize)("Your cashier is currently locked"),message:(0,I.localize)("Please contact us via live chat to unlock it."),action:{onClick:()=>{re.Chat.open()},text:(0,I.localize)("Go to live chat")},type:"warning"},trustpilot:{key:"trustpilot",header:(0,I.localize)("Enjoy using Deriv?"),header_popup:(0,I.localize)("We’d love to hear your thoughts"),message:(0,I.localize)("Drop your review on Trustpilot."),message_popup:(0,I.localize)("Drop your review on Trustpilot."),action:{onClick:()=>{window.open("https://www.trustpilot.com/evaluate/deriv.com","_blank"),this.markNotificationMessage({key:this.client_notifications.trustpilot.key}),this.removeNotificationByKey({key:this.client_notifications.trustpilot.key}),this.removeNotificationMessage({key:this.client_notifications.trustpilot.key,should_show_again:!1})},text:(0,I.localize)("Go to Trustpilot")},img_src:(0,o.getUrlBase)("/public/images/common/trustpilot_banner.png"),img_alt:"Trustpilot",className:"trustpilot",type:"trustpilot"},currency:{key:"currency",header:(0,I.localize)("You have not selected your account currency"),message:(0,I.localize)("Please set your account currency to enable deposits and withdrawals."),action:{onClick:()=>{t.openRealAccountSignup("set_currency")},text:(0,I.localize)("Set my account currency")},type:"danger"},p2p_daily_limit_increase:(t,n,r)=>({action:window.location.pathname.includes(o.routes.cashier_p2p)?{onClick:()=>{this.p2p_redirect_to.routeToMyProfile(),this.is_notifications_visible&&this.toggleNotificationsModal(),this.removeNotificationMessage({key:"p2p_daily_limit_increase",should_show_again:!1})},text:(0,I.localize)("Yes, increase my limits")}:{route:o.routes.p2p_my_profile,text:(0,I.localize)("Yes, increase my limits")},header:(0,se.jsx)(I.Localize,{i18n_default_text:"Enjoy higher daily limits"}),key:"p2p_daily_limit_increase",message:(0,se.jsx)(I.Localize,{i18n_default_text:"Would you like to increase your daily limits to {{max_daily_buy}} {{currency}} (buy) and {{max_daily_sell}} {{currency}} (sell)?",values:{currency:t,max_daily_buy:(0,o.formatMoney)(e.currency,n,!0),max_daily_sell:(0,o.formatMoney)(e.currency,r,!0)}}),platform:"P2P",type:"announce"}),deriv_go:{key:"deriv_go",header:(0,se.jsx)(I.Localize,{i18n_default_text:"Trade on the go"}),message:(0,se.jsx)(I.Localize,{i18n_default_text:"Get a faster mobile trading experience with the <0>{{platform_name_go}}</0> app!",components:[(0,se.jsx)(ne.StaticUrl,{className:"link dark",href:"/landing/deriv-go"},0)],values:{platform_name_go:u}}),cta_btn:{text:(0,I.localize)("Learn more"),onClick:()=>{window.open((0,o.getStaticUrl)("/landing/deriv-go"),"_blank")}},img_src:(0,o.getUrlBase)("/public/images/common/derivgo_banner.png"),img_alt:"deriv_go",type:"promotions"},documents_expired:{key:"poi_expired",header:(0,I.localize)("You submitted expired identification documents"),message:(0,I.localize)("Please submit valid identity documents to unlock the cashier."),action:{route:o.routes.proof_of_identity,text:(0,I.localize)("Submit identity documents")},type:"danger"},document_needs_action:{key:"document_needs_action",header:(0,I.localize)("Authentication failed"),message:(0,se.jsx)(I.Localize,{i18n_default_text:"<0>Your Proof of Identity or Proof of Address</0> did not meet our requirements. Please check your email for further instructions.",components:[(0,se.jsx)(oe.Sm,{className:"link",to:o.routes.proof_of_identity},0)]}),type:"warning"},dp2p:{key:"dp2p",header:(0,I.localize)("Payment problems?"),message:(0,I.localize)("There’s an app for that"),primary_btn:{text:(0,I.localize)("Learn more"),onClick:()=>{window.open((0,o.getStaticUrl)("/p2p"),"_blank")}},img_src:(0,o.getUrlBase)("/public/images/common/dp2p_banner.png"),img_alt:"Deriv P2P",type:"news"},enable_passkey:{action:{route:o.routes.passkeys,text:(0,I.localize)("Enable passkey")},key:"enable_passkey",header:(0,I.localize)("Level up your security"),message:(0,I.localize)("Strengthen your account’s security today with the latest passkeys feature."),type:"announce",should_show_again:!0},identity:{key:"identity",header:(0,I.localize)("Let’s verify your ID"),message:(0,I.localize)("You need to make a quick identity verification before you can access the Cashier. Please go to your account settings to submit your proof of identity."),action:{route:o.routes.proof_of_identity,text:(0,I.localize)("Go to my account settings")},type:"warning"},install_pwa:{key:"install_pwa",action:{onClick:()=>t.installWithDeferredPrompt(),text:(0,I.localize)("Install")},header:(0,I.localize)("Install the {{platform_name_trader}} web app",{platform_name_trader:d}),message:(0,I.localize)("Launch {{platform_name_trader}} in seconds the next time you want to trade.",{platform_name_trader:d}),type:"announce",should_hide_close_btn:!1},is_virtual:{key:"is_virtual",header:(0,I.localize)("You are on your demo account"),message:(0,I.localize)("Please switch to your real account or create one to access the cashier."),type:"warning"},max_turnover_limit_not_set:{key:"max_turnover_limit_not_set",header:(0,I.localize)("You’ve not set your 30-day turnover limit"),message:(0,I.localize)("Your access to the cashier has been temporarily disabled as you have not set your 30-day turnover limit. Please go to Self-exclusion and set the limit."),action:{route:o.routes.self_exclusion,text:(0,I.localize)("Go to Self-exclusion")},type:"danger"},mt5_withdrawal_locked:{key:"mt5_withdrawal_locked",header:(0,I.localize)("MT5 withdrawal disabled"),message:(0,I.localize)("MT5 withdrawals have been disabled on your account. Please check your email for more details."),type:"warning"},needs_poa:{action:{route:o.routes.proof_of_address,text:(0,I.localize)("Verify address")},key:"needs_poa",header:(0,I.localize)("Please verify your proof of address"),message:(0,I.localize)("To continue trading with us, please confirm where you live."),type:"danger"},needs_poi:{action:{route:o.routes.proof_of_identity,text:(0,I.localize)("Verify identity")},key:"needs_poi",header:(0,I.localize)("Please verify your proof of identity"),message:(0,I.localize)("To continue trading with us, please confirm who you are."),type:"danger"},needs_poinc:{action:{route:o.routes.proof_of_income,text:(0,I.localize)("Go to my account settings")},key:"needs_poinc",header:(0,I.localize)("Please verify your proof of income"),message:(0,I.localize)("To continue trading with us, please submit your proof of income."),type:"warning"},new_version_available:{action:{onClick:()=>window.location.reload(),text:(0,I.localize)("Refresh now")},key:"new_version_available",header:(0,I.localize)("A new version of Deriv is available"),message:(0,I.localize)("This page will automatically refresh in 5 minutes to load the latest version."),type:"warning",should_hide_close_btn:!0,timeout:3e5,timeoutMessage:e=>(0,I.localize)("Auto update in {{ remaining }} seconds",{remaining:e})},no_residence:{key:"no_residence",header:(0,I.localize)("You have not selected your country of residence"),message:(0,I.localize)("Please set your country of residence in your account settings to access the cashier."),action:{route:o.routes.personal_details,text:(0,I.localize)("Go to my account settings")},type:"warning"},no_withdrawal_or_trading:{key:"no_withdrawal_or_trading",header:(0,I.localize)("You are only allowed to make deposits"),message:(0,I.localize)("Please contact us via live chat to enable withdrawals."),action:{onClick:()=>{re.Chat.open()},text:(0,I.localize)("Go to live chat")},type:"warning"},notify_financial_assessment:{action:{route:o.routes.financial_assessment,text:(0,I.localize)("Start now")},header:(0,I.localize)("Pending action required"),key:"notify_financial_assessment",message:(0,I.localize)("Please complete your financial assessment."),should_show_again:!0,type:"warning"},password_changed:{key:"password_changed",header:(0,I.localize)("Password updated."),message:(0,se.jsx)(I.Localize,{i18n_default_text:"Please log in with your updated password."}),type:"info"},phone_number_verification:{key:"phone_number_verification",header:(0,I.localize)("Complete phone verification"),message:(0,se.jsx)(I.Localize,{i18n_default_text:"Secure your Deriv account by verifying your phone number."}),type:"warning",action:{onClick:()=>{this.is_notifications_visible&&this.toggleNotificationsModal(),s.WS.verifyEmail(a,"phone_number_verification"),localStorage.setItem("routes_from_notification_to_pnv",window.location.pathname)},route:o.routes.phone_verification,text:(0,I.localize)("Verify now")},should_show_again:!0},poa_rejected_for_mt5:{action:{route:o.routes.proof_of_address,text:(0,I.localize)("Resubmit proof of address")},key:"poa_rejected_for_mt5",header:(0,I.localize)("Please resubmit your proof of address or we may restrict your account."),message:(0,I.localize)("Please submit your proof of address."),type:"danger"},poa_failed:{action:{route:o.routes.proof_of_address,text:(0,I.localize)("Resubmit proof of address")},key:"poa_failed",header:(0,I.localize)("Please resubmit your proof of address."),type:"danger"},poa_verified:{key:"poa_verified",header:(0,I.localize)("Your proof of address is verified."),type:"announce",should_hide_close_btn:!1},poa_expired:{key:"poa_expired",header:(0,se.jsx)(I.Localize,{i18n_default_text:"Lets get your address verified"}),message:(0,se.jsx)(I.Localize,{i18n_default_text:"Please submit your proof of address"}),type:"warning",action:{route:o.routes.proof_of_address,text:(0,I.localize)("Submit now")}},poi_failed:{action:{route:o.routes.proof_of_identity,text:(0,I.localize)("Resubmit proof of identity")},key:"poi_failed",header:(0,I.localize)("Your proof of identity verification has failed"),message:(0,I.localize)("Please submit your proof of identity."),type:"danger"},poi_verified:{key:"poi_verified",header:(0,I.localize)("Your proof of identity is verified."),type:"announce",should_hide_close_btn:!1},poi_name_mismatch:{action:{route:o.routes.personal_details,text:(0,I.localize)("Personal details")},key:"poi_name_mismatch",header:(0,I.localize)("Please update your personal info"),message:(0,se.jsx)(I.Localize,{i18n_default_text:"It seems that your name in the document is not the same as your Deriv profile. Please update your name in the <0>Personal details</0> page to solve this issue.",components:[(0,se.jsx)("strong",{},0)]}),type:"warning"},poinc_upload_limited:{key:"poinc_upload_limited",header:(0,I.localize)("You've reached the limit of uploading your documents."),message:(0,I.localize)("Please check your email."),type:"danger"},resticted_mt5_with_pending_poa:{key:"resticted_mt5_with_pending_poa",header:(0,I.localize)("Your proof of address verification is pending"),message:(0,I.localize)("Your address verification is pending, and we’ve placed some restrictions on your account. The restrictions will be lifted once your address is verified."),type:"danger"},resticted_mt5_with_failed_poa:{action:{route:o.routes.proof_of_address,text:(0,I.localize)("Resubmit proof of address")},key:"resticted_mt5_with_failed_poa",header:(0,I.localize)("Your proof of address verification has failed"),message:(0,I.localize)("Your proof of address did not pass our verification checks, and we’ve placed some restrictions on your account. Please resubmit your proof of address."),type:"danger"},required_fields:(e,t)=>{let n;return n=e?(0,I.localize)("Please go to your account settings and complete your personal details to enable withdrawals."):t?(0,I.localize)("Please go to your account settings and complete your personal details to enable deposits."):(0,I.localize)("Please go to your account settings and complete your personal details to enable deposits and withdrawals."),{key:"required_fields",header:(0,I.localize)("Your personal details are incomplete"),message:n,type:"danger",action:{route:o.routes.personal_details,text:(0,I.localize)("Go to my account settings")}}},reaccept_tnc:{key:"reaccept_tnc",header:(0,I.localize)("Important update: Terms and conditions"),message:(0,se.jsx)(I.Localize,{i18n_default_text:"We've updated our <0>terms and conditions</0>. To continue trading, you must review and accept the updated terms. You'll be prompted to accept them starting [<1>{{next_prompt_date}}</1>].",components:[(0,se.jsx)(ne.StaticUrl,{className:"link",href:"terms-and-conditions",is_eu_url:!c},0),(0,se.jsx)(ne.Text,{size:"xs",weight:"bold"},1)],values:{next_prompt_date:(0,o.formatDate)(_,"DD MMM YYYY")}}),type:"announce"},reset_virtual_balance:{key:"reset_virtual_balance",header:(0,I.localize)("Reset your balance"),message:e.message,type:"info",is_persistent:!0,should_show_again:!0,is_disposable:!0,action:{text:(0,I.localize)("Reset balance"),onClick:async()=>{await e.resetVirtualBalance()}}},risk:{key:"risk",header:(0,I.localize)("Your cashier is locked"),message:(0,I.localize)("Please complete the financial assessment in your account settings to unlock it."),action:{route:o.routes.financial_assessment,text:(0,I.localize)("Go to my account settings")},type:"warning"},self_exclusion:e=>({key:"self_exclusion",header:(0,I.localize)("You have self-excluded from trading"),message:(0,se.jsx)(I.Localize,{i18n_default_text:"You have chosen to exclude yourself from trading on our website until {{exclusion_end}}. If you are unable to place a trade or deposit after your self-exclusion period, please contact us via live chat.",values:{exclusion_end:(0,o.formatDate)(e,"DD MMM, YYYY"),interpolation:{escapeValue:!1}}}),action:{onClick:()=>{re.Chat.open()},text:(0,I.localize)("Go to live chat")},type:"danger"}),site_maintenance:{key:"site_maintenance",header:(0,I.localize)("We’re updating our site"),message:(0,I.localize)("Some services may be temporarily unavailable."),type:"warning",should_show_again:!0,closeOnClick:e=>this.markNotificationMessage({key:e.key})},system_maintenance:(t,n)=>{let r,i;return(0,o.isCryptocurrency)(e.currency)?t?(i=(0,I.localize)("Unable to process withdrawals in the moment"),r=(0,I.localize)("Withdrawals are temporarily unavailable due to system maintenance. You can make withdrawals when the maintenance is complete.")):n?(i=(0,I.localize)("Unable to process deposit in the moment"),r=(0,I.localize)("Deposits are temporarily unavailable due to system maintenance. You can make deposits when the maintenance is complete.")):(i=(0,I.localize)("Scheduled cashier system maintenance"),r=(0,I.localize)("Our cryptocurrency cashier is temporarily down due to system maintenance. You can make cryptocurrency deposits and withdrawals in a few minutes when the maintenance is complete.")):(i=(0,I.localize)("Scheduled cashier maintenance"),r=(0,I.localize)("The cashier is temporarily down due to maintenance. It will be available as soon as the maintenance is complete.")),{key:"system_maintenance",header:i,message:r,type:"warning",should_show_again:!0,closeOnClick:e=>this.markNotificationMessage({key:e.key})}},tax:{key:"tax",header:(0,I.localize)("You have not provided your tax identification number"),message:(0,I.localize)("This information is necessary for legal and regulatory requirements. Please go to your account settings, and fill in your latest tax identification number."),action:{route:o.routes.personal_details,text:(0,I.localize)("Go to my account settings")},type:"danger"},tnc:{action:{onClick:async()=>{await s.WS.tncApproval(),s.WS.getSettings()},text:(0,I.localize)("I accept")},key:"tnc",header:(0,I.localize)("Terms & conditions updated"),message:(0,se.jsx)(I.Localize,{i18n_default_text:"Please accept our <0>updated Terms and Conditions</0> to proceed.",components:[(0,se.jsx)(ne.StaticUrl,{className:"link",href:"terms-and-conditions"},0)]}),type:"warning"},has_changed_two_fa:{key:"has_changed_two_fa",header:(0,I.localize)("Logging out on other devices"),message:(0,se.jsx)(I.Localize,{i18n_default_text:"You've {{two_fa_status}} 2FA on this device. You'll be logged out of your account on other devices (if any). Use your password and a 2FA code to log back in.",values:{two_fa_status:g}}),type:"info",delay:4e3,is_auto_close:!0,closeOnClick:()=>{r(!1)}},two_f_a:{key:"two_f_a",header:(0,I.localize)("Stronger security for your Deriv account"),message:(0,I.localize)("With two-factor authentication, you’ll protect your account with both your password and your phone - so only you can access your account, even if someone knows your password."),action:{route:o.routes.two_factor_authentication,text:(0,I.localize)("Secure my account")},type:"warning"},unwelcome:{key:"unwelcome",header:(0,I.localize)("Deposits are locked"),message:(0,I.localize)("Please contact us via live chat."),action:{onClick:()=>{re.Chat.open()},text:(0,I.localize)("Go to live chat")},type:"danger"},withdrawal_locked:{key:"withdrawal_locked",header:(0,I.localize)("You are only allowed to make deposits"),message:(0,I.localize)("Please contact us via live chat to enable withdrawals."),action:{onClick:()=>{re.Chat.open()},text:(0,I.localize)("Go to live chat")},type:"warning"},withdrawal_locked_review:{key:"withdrawal_locked_review",header:(0,I.localize)("You are unable to make withdrawals"),message:(0,se.jsx)(I.Localize,{i18n_default_text:"To enable withdrawals, please submit your <0>Proof of Identity (POI)</0> and <1>Proof of Address (POA)</1> and also complete the <2>financial assessment</2> in your account settings.",components:[(0,se.jsx)("a",{className:"link dark",href:"/account/proof-of-identity"},0),(0,se.jsx)("a",{className:"link dark",href:"/account/proof-of-address"},1),(0,se.jsx)("a",{className:"link dark",href:"/account/financial-assessment"},2)]}),type:"warning"},you_are_offline:{key:"you_are_offline",header:(0,I.localize)("You are offline"),message:(0,se.jsx)(I.Localize,{i18n_default_text:"Check your connection."}),type:"danger"},poi_dob_mismatch:{key:"poi_dob_mismatch",header:(0,I.localize)("Please update your personal info"),message:(0,se.jsx)(I.Localize,{i18n_default_text:"It seems that your date of birth in the document is not the same as your Deriv profile. Please update your date of birth in the <0>Personal details</0> page to solve this issue.",components:[(0,se.jsx)("strong",{},0)]}),type:"warning",action:{route:o.routes.personal_details,text:(0,I.localize)("Personal details")}},poo_required:{key:"poo_required",header:(0,se.jsx)(I.Localize,{i18n_default_text:"<0>Proof of ownership</0> <1>required</1>",components:[(0,se.jsx)("div",{},0),(0,se.jsx)("div",{},1)]}),message:(0,se.jsx)(I.Localize,{i18n_default_text:"<0></0><1>Your account is currently locked</1> <2></2><3>Please upload your proof of</3> <4>ownership to unlock your account.</4> <5></5>",components:[(0,se.jsx)("br",{},0),(0,se.jsx)("div",{},1),(0,se.jsx)("br",{},2),(0,se.jsx)("div",{},3),(0,se.jsx)("div",{},4),(0,se.jsx)("br",{},5)]}),action:{route:o.routes.proof_of_ownership,text:(0,I.localize)("Upload my document")},type:"warning"},poo_rejected:{key:"poo_rejected",header:(0,se.jsx)(I.Localize,{i18n_default_text:"<0>Proof of ownership</0> <1>verification failed</1>",components:[(0,se.jsx)("div",{},0),(0,se.jsx)("div",{},1)]}),message:(0,se.jsx)(I.Localize,{i18n_default_text:"<0></0><1>Please upload your document</1> <2>with the correct details.</2> <3></3>",components:[(0,se.jsx)("br",{},0),(0,se.jsx)("div",{},1),(0,se.jsx)("div",{},2),(0,se.jsx)("br",{},3)]}),action:{route:o.routes.proof_of_ownership,text:(0,I.localize)("Upload again")},type:"warning"},need_fa:{key:"need_fa",header:(0,I.localize)("You can only make deposits."),message:(0,se.jsx)(I.Localize,{i18n_default_text:"You can only make deposits at the moment. To enable withdrawals, please complete your financial assessment."}),type:"warning",action:{route:o.routes.financial_assessment,text:(0,I.localize)("Start assessment")},should_show_again:!0,closeOnClick:e=>this.markNotificationMessage({key:e.key})},svg_needs_poi_poa:{key:"svg_needs_poi_poa",header:(0,I.localize)("Account verification required"),message:(0,se.jsx)(I.Localize,{i18n_default_text:"Please submit your proof of identity and proof of address to verify your account and continue trading."}),type:"warning",action:{route:o.routes.proof_of_identity,text:(0,I.localize)("Go to my account settings")},closeOnClick:e=>this.markNotificationMessage({key:e.key})},svg_needs_poa:{key:"svg_needs_poa",header:(0,I.localize)("Proof of address required"),message:(0,se.jsx)(I.Localize,{i18n_default_text:"Please submit your proof of address to verify your account and continue trading."}),type:"warning",action:{route:o.routes.proof_of_address,text:(0,I.localize)("Submit proof of address")}},svg_needs_poi:{key:"svg_needs_poi",header:(0,I.localize)("Proof of identity required"),message:(0,se.jsx)(I.Localize,{i18n_default_text:"Please submit your proof of identity to verify your account and continue trading."}),type:"warning",action:{route:o.routes.proof_of_identity,text:(0,I.localize)("Submit proof of identity")},closeOnClick:e=>this.markNotificationMessage({key:e.key})},svg_poi_expired:{key:"svg_poi_expired",header:(0,I.localize)("Your proof of identity is expired"),message:(0,se.jsx)(I.Localize,{i18n_default_text:"Your proof of identity has expired. Please submit a new proof of identity to verify your account and continue trading."}),type:"warning",action:{route:o.routes.proof_of_identity,text:(0,I.localize)("Resubmit proof of identity")}},wallets_migrated:{key:"wallets_migrated",header:(0,I.localize)("Your Wallets are ready"),message:(0,I.localize)("To complete the upgrade, please log out and log in again to add more accounts and make transactions with your Wallets."),action:{onClick:async()=>{await i()},text:(0,I.localize)("Log out")},type:"announce"},wallets_failed:{key:"wallets_failed",header:(0,I.localize)("Sorry for the interruption"),message:(0,I.localize)("We're unable to complete with the Wallet upgrade. Please try again later or contact us via live chat."),action:{onClick:async()=>{re.Chat.open()},text:(0,I.localize)("Go to LiveChat")},type:"danger"},additional_kyc_info:{key:"additional_kyc_info",header:(0,se.jsx)(I.Localize,{i18n_default_text:"Pending action required"}),message:(0,se.jsx)(I.Localize,{i18n_default_text:"We require additional information for your Deriv MT5 account(s). Please take a moment to update your information now."}),action:{text:(0,I.localize)("Update now"),onClick:()=>{this.is_notifications_visible&&this.toggleNotificationsModal(),t.setFieldRefToFocus("account-opening-reason"),this.markNotificationMessage({key:"additional_kyc_info"})},route:o.routes.personal_details},type:"warning"},notify_account_is_to_be_closed_by_residence:{action:{route:o.routes.cashier_withdrawal,text:(0,I.localize)("Withdraw funds")},header:(0,I.localize)("Deposits and trading disabled"),key:"notify_account_is_to_be_closed_by_residence",message:(0,se.jsx)(I.Localize,{i18n_default_text:"Due to business changes, client accounts in your country are to be closed. Withdraw your funds by {{date}}.",values:{date:(0,o.formatDate)(this.root_store.client.account_time_of_closure,"DD MMM YYYY")}}),should_show_again:!0,type:"warning"},has_tusdt_account:{key:"has_tusdt_account",header:(0,I.localize)("Attention: tUSDT deposit address change"),message:(0,se.jsx)(I.Localize,{i18n_default_text:"Verify the address on the Deposit page before each deposit to avoid losing funds. Occasionally, the address could be updated."}),type:"announce"}};this.client_notifications=b}setP2POrderProps(e){this.p2p_order_props=e}setP2PRedirectTo(e){this.p2p_redirect_to=e}setShouldShowPopups(e){this.should_show_popups=e}toggleNotificationsModal(){b.Analytics.trackEvent("ce_notification_form",{action:this.is_notifications_visible?"close":"open",form_name:"ce_notification_form",notification_num:this.notifications.length}),this.is_notifications_visible=!this.is_notifications_visible}unmarkNotificationMessage(e){let{key:t}=e;this.marked_notifications=this.marked_notifications.filter((e=>t!==e))}updateNotifications(){this.notifications=this.notification_messages.filter((e=>["svg","p2p"].some((t=>{var n;return null===(n=e.key)||void 0===n?void 0:n.includes(t)}))?e:ae.A$&&!ae.A$.includes(e.key)))}}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){Ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ie(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class be extends F{constructor(e){var t,n;super({root_store:e,local_storage_properties:["advanced_duration_unit","is_advanced_duration","advanced_expiry_type","simple_duration_unit","duration_t","duration_s","duration_m","duration_h","duration_d","is_account_settings_visible","is_chart_asset_info_visible","is_chart_countdown_visible","is_chart_layout_default","is_dark_mode_on","is_positions_drawer_on","is_reports_visible","should_show_cancellation_warning"],store_name:"ui_store"}),this.url_hashed_values="",this.is_account_settings_visible=!1,this.is_positions_drawer_on=!1,this.is_reports_visible=!1,this.reports_route_tab_index=0,this.is_cashier_visible=!1,this.is_history_tab_active=!1,this.should_show_cancellation_warning=!0,this.footer_extensions=[],this.header_extension=void 0,this.settings_extension=void 0,this.notification_messages_ui=void 0,this.is_dark_mode_on=(null===(t=window)||void 0===t||null===(n=t.matchMedia)||void 0===n?void 0:n.call(t,"(prefers-color-scheme: dark)").matches)&&(0,o.isMobile)(),this.is_settings_modal_on=!1,this.is_language_settings_modal_on=!1,this.is_mobile_language_menu_open=!1,this.is_accounts_switcher_on=!1,this.account_switcher_disabled_message="",this.has_only_forward_starting_contracts=!1,this.is_services_error_visible=!1,this.is_account_signup_modal_visible=!1,this.is_link_expired_modal_visible=!1,this.is_set_residence_modal_visible=!1,this.is_reset_password_modal_visible=!1,this.is_reset_email_modal_visible=!1,this.is_update_email_modal_visible=!1,this.is_reset_trading_password_modal_visible=!1,this.is_mf_verification_pending_modal_visible=!1,this.is_trading_disabled_by_residence_modal_visible=!1,this.is_chart_countdown_visible=!1,this.is_chart_layout_default=!0,this.pwa_prompt_event=null,this.screen_width=window.innerWidth,this.screen_height=window.innerHeight,this.is_onscreen_keyboard_active=!1,this.is_advanced_duration=!1,this.advanced_duration_unit="t",this.advanced_expiry_type="duration",this.simple_duration_unit="t",this.duration_t=5,this.duration_s=15,this.duration_m=3,this.duration_h=1,this.duration_d=1,this.purchase_states=[!1,!1],this.is_app_disabled=!1,this.is_route_modal_on=!1,this.is_real_acc_signup_on=!1,this.is_from_signup_account=!1,this.real_account_signup_target=void 0,this.deposit_real_account_signup_target=void 0,this.has_real_account_signup_ended=!1,this.is_wallets_onboarding_tour_guide_visible=!1,this.is_verification_modal_visible=!1,this.is_verification_submitted=!1,this.is_set_currency_modal_visible=!1,this.show_positions_toggle=!0,this.modal_index=0,this.is_top_up_virtual_open=!1,this.is_top_up_virtual_in_progress=!1,this.is_top_up_virtual_success=!1,this.should_show_real_accounts_list=!1,this.real_account_signup={active_modal_index:-1,previous_currency:"",current_currency:"",success_message:"",error_message:""},this.current_focus=null,this.mobile_toast_timeout=3500,this.toasts=[],this.is_cfd_page=!1,this.is_nativepicker_visible=!1,this.is_landscape=!1,this.prompt_when=!1,this.promptFn=()=>{},this.should_show_phone_number_otp=!1,this.is_forced_to_exit_pnv=!1,this.is_phone_verification_completed=!1,this.is_closing_create_real_account_modal=!1,this.is_account_needed_modal_on=!1,this.is_mt5_migration_modal_open=!1,this.account_needed_modal_props={target:"",target_label:"",target_dmt5_label:""},this.manage_real_account_tab_index=0,this.is_real_tab_enabled=!1,this.choose_crypto_currency_target=null,this.should_show_cancel=!1,this.should_show_same_dob_phone_modal=!1,this.should_show_deposit_now_or_later_modal=!1,this.should_show_crypto_transaction_processing_modal=!1,this.should_show_risk_warning_modal=!1,this.should_show_appropriateness_warning_modal=!1,this.should_show_risk_accept_modal=!1,this.should_show_cooldown_modal=!1,this.should_show_trading_assessment_modal=!1,this.should_show_account_success_modal=!1,this.should_show_one_time_deposit_modal=!1,this.should_show_trade_assessment_form=!1,this.should_trigger_tour_guide=!1,this.is_from_success_deposit_modal=!1,this.is_trading_assessment_for_existing_user_enabled=!1,this.is_trading_assessment_for_new_user_enabled=!1,this.should_show_assessment_complete_modal=!1,this.app_contents_scroll_ref=null,this.is_deriv_account_needed_modal_visible=!1,this.is_redirected_from_email=!1,this.is_wallet_modal_visible=!1,this.is_ready_to_deposit_modal_visible=!1,this.is_need_real_account_for_cashier_modal_visible=!1,this.is_switch_to_deriv_account_modal_visible=!1,this.is_cfd_reset_password_modal_enabled=!1,this.is_mt5_migration_modal_enabled=!1,this.isUrlUnavailableModalVisible=!1,this.sub_section_index=0,this.field_ref_to_focus=null,this.is_tnc_update_modal_open=!1,this.getDurationFromUnit=e=>this[`duration_${e}`],this.changeTheme=()=>{this.is_dark_mode_on?(document.body.classList.remove("theme--light"),document.body.classList.add("theme--dark")):(document.body.classList.remove("theme--dark"),document.body.classList.add("theme--light"))},(0,r.makeObservable)(this,{account_needed_modal_props:r.observable,account_switcher_disabled_message:r.observable,has_only_forward_starting_contracts:r.observable,is_ready_to_deposit_modal_visible:r.observable,is_need_real_account_for_cashier_modal_visible:r.observable,is_services_error_visible:r.observable,is_account_signup_modal_visible:r.observable,is_link_expired_modal_visible:r.observable,is_set_residence_modal_visible:r.observable,is_reset_password_modal_visible:r.observable,is_reset_email_modal_visible:r.observable,is_update_email_modal_visible:r.observable,is_reset_trading_password_modal_visible:r.observable,is_cfd_reset_password_modal_enabled:r.observable,sub_section_index:r.observable,is_chart_countdown_visible:r.observable,is_chart_layout_default:r.observable,pwa_prompt_event:r.observable,screen_width:r.observable,screen_height:r.observable,is_onscreen_keyboard_active:r.observable,is_advanced_duration:r.observable,advanced_duration_unit:r.observable,advanced_expiry_type:r.observable,app_contents_scroll_ref:r.observable,choose_crypto_currency_target:r.observable,current_focus:r.observable,deposit_real_account_signup_target:r.observable,duration_d:r.observable,duration_h:r.observable,duration_m:r.observable,duration_s:r.observable,duration_t:r.observable,footer_extensions:r.observable,has_real_account_signup_ended:r.observable,header_extension:r.observable,is_account_needed_modal_on:r.observable,is_account_settings_visible:r.observable,is_forced_to_exit_pnv:r.observable,is_phone_verification_completed:r.observable,is_accounts_switcher_on:r.observable,is_app_disabled:r.observable,is_cashier_visible:r.observable,is_cfd_page:r.observable,is_closing_create_real_account_modal:r.observable,is_dark_mode_on:r.observable,is_deriv_account_needed_modal_visible:r.observable,is_from_signup_account:r.observable,is_redirected_from_email:r.observable,is_wallet_modal_visible:r.observable,is_history_tab_active:r.observable,is_landscape:r.observable,is_language_settings_modal_on:r.observable,is_mf_verification_pending_modal_visible:r.observable,is_trading_disabled_by_residence_modal_visible:r.observable,is_mobile_language_menu_open:r.observable,is_nativepicker_visible:r.observable,is_positions_drawer_on:r.observable,is_real_acc_signup_on:r.observable,is_real_tab_enabled:r.observable,is_reports_visible:r.observable,is_route_modal_on:r.observable,is_set_currency_modal_visible:r.observable,is_settings_modal_on:r.observable,is_switch_to_deriv_account_modal_visible:r.observable,is_top_up_virtual_in_progress:r.observable,is_top_up_virtual_open:r.observable,is_top_up_virtual_success:r.observable,is_trading_assessment_for_existing_user_enabled:r.observable,is_trading_assessment_for_new_user_enabled:r.observable,is_verification_modal_visible:r.observable,is_wallets_onboarding_tour_guide_visible:r.observable,is_verification_submitted:r.observable,is_mt5_migration_modal_open:r.observable,is_mt5_migration_modal_enabled:r.observable,is_tnc_update_modal_open:r.observable,isUrlUnavailableModalVisible:r.observable,manage_real_account_tab_index:r.observable,modal_index:r.observable,notification_messages_ui:r.observable,prompt_when:r.observable,promptFn:r.observable,purchase_states:r.observable,real_account_signup_target:r.observable,real_account_signup:r.observable,reports_route_tab_index:r.observable,settings_extension:r.observable,should_show_phone_number_otp:r.observable,should_show_same_dob_phone_modal:r.observable,should_show_deposit_now_or_later_modal:r.observable,should_show_crypto_transaction_processing_modal:r.observable,should_show_appropriateness_warning_modal:r.observable,should_show_assessment_complete_modal:r.observable,should_show_cancel:r.observable,should_show_cancellation_warning:r.observable,should_show_cooldown_modal:r.observable,should_show_account_success_modal:r.observable,should_show_one_time_deposit_modal:r.observable,should_show_real_accounts_list:r.observable,should_show_risk_accept_modal:r.observable,should_show_risk_warning_modal:r.observable,should_show_trade_assessment_form:r.observable,should_show_trading_assessment_modal:r.observable,should_trigger_tour_guide:r.observable,is_from_success_deposit_modal:r.observable,show_positions_toggle:r.observable,simple_duration_unit:r.observable,toasts:r.observable.shallow,addToast:r.action.bound,closeAccountNeededModal:r.action.bound,closeRealAccountSignup:r.action.bound,closeSuccessTopUpModal:r.action.bound,closeTopUpModal:r.action.bound,continueRouteAfterChooseCrypto:r.action.bound,disableApp:r.action.bound,disableRouteModal:r.action.bound,enableApp:r.action.bound,handleResize:r.action.bound,init:r.action.bound,installWithDeferredPrompt:r.action.bound,is_account_switcher_disabled:r.computed,is_desktop:r.computed,is_mobile:r.computed,is_tablet:r.computed,url_hashed_values:r.observable,notifyAppInstall:r.action.bound,onChangeUiStore:r.action.bound,openAccountNeededModal:r.action.bound,openDerivRealAccountNeededModal:r.action.bound,openPositionsDrawer:r.action.bound,openRealAccountSignup:r.action.bound,openSwitchToRealAccountModal:r.action.bound,openTopUpModal:r.action.bound,populateFooterExtensions:r.action.bound,populateHeaderExtensions:r.action.bound,populateSettingsExtensions:r.action.bound,removePWAPromptEvent:r.action.bound,removeToast:r.action.bound,resetPurchaseStates:r.action.bound,resetRealAccountSignupParams:r.action.bound,resetRealAccountSignupTarget:r.action.bound,setShouldShowPhoneNumberOTP:r.action.bound,setAccountSwitcherDisabledMessage:r.action.bound,setAppContentsScrollRef:r.action.bound,setCFDPasswordResetModal:r.action.bound,setChartCountdown:r.action.bound,setChartLayout:r.action.bound,setCurrentFocus:r.action.bound,setDarkMode:r.action.bound,setHasOnlyForwardingContracts:r.action.bound,setHashedValue:r.action.bound,setIsForcedToExitPnv:r.action.bound,setIsPhoneVerificationCompleted:r.action.bound,setIsClosingCreateRealAccountModal:r.action.bound,setIsFromSignupAccount:r.action.bound,setIsNativepickerVisible:r.action.bound,setIsVerificationModalVisible:r.action.bound,setIsVerificationSubmitted:r.action.bound,setReportsTabIndex:r.action.bound,toggleReadyToDepositModal:r.action.bound,toggleNeedRealAccountForCashierModal:r.action.bound,toggleShouldShowRealAccountsList:r.action.bound,shouldNavigateAfterChooseCrypto:r.action.bound,setShouldShowRiskWarningModal:r.action.bound,setRedirectFromEmail:r.action.bound,setIsWalletModalVisible:r.action.bound,setIsRealTabEnabled:r.action.bound,setIsTradingAssessmentForExistingUserEnabled:r.action.bound,setIsTradingAssessmentForNewUserEnabled:r.action.bound,setIsWalletsOnboardingTourGuideVisible:r.action.bound,setManageRealAccountActiveTabIndex:r.action.bound,setModalIndex:r.action.bound,setPromptHandler:r.action.bound,setPurchaseState:r.action.bound,setPWAPromptEvent:r.action.bound,setRealAccountSignupEnd:r.action.bound,setRealAccountSignupParams:r.action.bound,setResetTradingPasswordModalOpen:r.action.bound,setRouteModal:r.action.bound,setShouldShowAppropriatenessWarningModal:r.action.bound,setShouldShowAssessmentCompleteModal:r.action.bound,setShouldShowCancel:r.action.bound,setShouldShowCooldownModal:r.action.bound,setShouldShowOneTimeDepositModal:r.action.bound,setShouldShowTradeAssessmentForm:r.action.bound,setShouldShowTradingAssessmentModal:r.action.bound,setShouldShowWarningModal:r.action.bound,setShouldTriggerTourGuide:r.action.bound,setIsFromSuccessDepositModal:r.action.bound,setSubSectionIndex:r.action.bound,setTopUpInProgress:r.action.bound,setIsMFVericationPendingModal:r.action.bound,setIsTradingDisabledByResidenceModal:r.action.bound,setMT5MigrationModalEnabled:r.action.bound,setMobileLanguageMenuOpen:r.action.bound,toggleAccountsDialog:r.action.bound,toggleAccountSettings:r.action.bound,toggleAccountSignupModal:r.action.bound,toggleCancellationWarning:r.action.bound,toggleCashier:r.action.bound,toggleHistoryTab:r.action.bound,toggleLinkExpiredModal:r.action.bound,toggleOnScreenKeyboard:r.action.bound,togglePositionsDrawer:r.action.bound,toggleReports:r.action.bound,toggleResetEmailModal:r.action.bound,toggleResetPasswordModal:r.action.bound,toggleServicesErrorModal:r.action.bound,toggleSetCurrencyModal:r.action.bound,toggleSetResidenceModal:r.action.bound,toggleSettingsModal:r.action.bound,toggleLanguageSettingsModal:r.action.bound,toggleUpdateEmailModal:r.action.bound,toggleAccountSuccessModal:r.action.bound,toggleMT5MigrationModal:r.action.bound,toggleUrlUnavailableModal:r.action.bound,setShouldShowDepositNowOrLaterModal:r.action.bound,setShouldShowCryptoTransactionProcessingModal:r.action.bound,setShouldShowSameDOBPhoneModal:r.action.bound,field_ref_to_focus:r.observable,setFieldRefToFocus:r.action.bound,toggleTncUpdateModal:r.action.bound}),window.addEventListener("resize",this.handleResize),(0,r.autorun)((()=>{this.changeTheme()}))}setFieldRefToFocus(e){this.field_ref_to_focus=e}setIsClosingCreateRealAccountModal(e){this.is_closing_create_real_account_modal=e}setIsRealTabEnabled(e){this.is_real_tab_enabled=e}setShouldShowPhoneNumberOTP(e){this.should_show_phone_number_otp=e}async setIsForcedToExitPnv(e){this.is_forced_to_exit_pnv=e}setIsPhoneVerificationCompleted(e){this.is_phone_verification_completed=e}setHashedValue(e){this.url_hashed_values=e}init(e){this.setHashedValue(window.location.hash),this.notification_messages_ui=e}setAppContentsScrollRef(e){this.app_contents_scroll_ref=e}populateFooterExtensions(e){this.footer_extensions=e}populateHeaderExtensions(e){this.header_extension=e}populateSettingsExtensions(e){this.settings_extension=e}onChangeUiStore(e){let{name:t,value:n}=e;if(!(t in this))throw new Error(`Invalid Argument: ${t}`);this[t]=n}handleResize(){this.screen_width=window.innerWidth,this.screen_height=window.innerHeight}setPromptHandler(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};this.prompt_when=e,this.promptFn=t}get is_desktop(){return this.screen_width>1279}get is_mobile(){return this.screen_width<=600}get is_tablet(){return 600<this.screen_width&&this.screen_width<=1279}get is_account_switcher_disabled(){return!!this.account_switcher_disabled_message}setRouteModal(){this.is_route_modal_on=!0}disableRouteModal(){this.is_route_modal_on=!1}disableApp(){this.is_app_disabled=!0}enableApp(){this.is_app_disabled=!1}toggleAccountsDialog(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.is_accounts_switcher_on;this.is_accounts_switcher_on=e}setAccountSwitcherDisabledMessage(e){e?(this.is_accounts_switcher_on=!1,this.account_switcher_disabled_message=e):this.account_switcher_disabled_message=""}setIsFromSignupAccount(e){this.is_from_signup_account=e}setPurchaseState(e){this.purchase_states[e]=!0;const t=document.getElementsByClassName("btn-purchase");t[e]&&t[e].classList.add("btn-purchase--swoosh"),setTimeout((()=>{[].forEach.bind(t,(e=>{e.classList.add("btn-purchase--disabled")}))()}),250)}resetPurchaseStates(){this.purchase_states=[!1,!1]}setChartLayout(e){this.is_chart_layout_default=e}setChartCountdown(e){this.is_chart_countdown_visible=e}setDarkMode(e){return this.is_dark_mode_on!==e&&(this.is_dark_mode_on=e,this.root_store.gtm.pushDataLayer({event:"switch theme"})),this.is_dark_mode_on}setMobileLanguageMenuOpen(e){this.is_mobile_language_menu_open=e}toggleSetCurrencyModal(){this.is_set_currency_modal_visible=!this.is_set_currency_modal_visible}toggleCashier(){this.is_cashier_visible=!this.is_cashier_visible}setModalIndex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.modal_index=e}toggleSettingsModal(){this.is_settings_modal_on=!this.is_settings_modal_on}toggleLanguageSettingsModal(){var e;null===(e=window.fcWidget)||void 0===e||e.close(),this.is_language_settings_modal_on=!this.is_language_settings_modal_on}openPositionsDrawer(){this.is_positions_drawer_on=!0}openRealAccountSignup(e){e&&(this.is_real_acc_signup_on=!0,this.real_account_signup_target=e,this.is_accounts_switcher_on=!1,localStorage.removeItem("current_question_index"))}setShouldShowCancel(e){this.should_show_cancel=e}resetRealAccountSignupTarget(){this.deposit_real_account_signup_target=this.real_account_signup_target,this.real_account_signup_target=""}setManageRealAccountActiveTabIndex(e){this.manage_real_account_tab_index=e}closeRealAccountSignup(){this.root_store.client.setRealAccountSignupFormData([]),this.root_store.client.setRealAccountSignupFormStep(0),this.is_real_acc_signup_on=!1,this.resetRealAccountSignupTarget(),setTimeout((()=>{this.resetRealAccountSignupParams(),this.setRealAccountSignupEnd(!0)}),300)}openAccountNeededModal(e,t,n){this.is_account_needed_modal_on=!0,this.account_needed_modal_props={target:e,target_label:t,target_dmt5_label:n}}closeAccountNeededModal(){this.is_account_needed_modal_on=!1,this.account_needed_modal_props={target:"",target_label:"",target_dmt5_label:""}}togglePositionsDrawer(){this.is_positions_drawer_on=!this.is_positions_drawer_on}toggleAccountSettings(e){this.is_account_settings_visible=e}toggleReports(e){this.is_reports_visible=e}toggleServicesErrorModal(e){this.is_services_error_visible=e}removePWAPromptEvent(){this.pwa_prompt_event=null}setPWAPromptEvent(e){this.pwa_prompt_event=e}setHasOnlyForwardingContracts(e){this.has_only_forward_starting_contracts=e}toggleAccountSignupModal(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.is_account_signup_modal_visible;this.is_account_signup_modal_visible=e}toggleSetResidenceModal(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.is_set_residence_modal_visible;this.is_set_residence_modal_visible=e}toggleCancellationWarning(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.should_show_cancellation_warning;this.should_show_cancellation_warning=e}toggleHistoryTab(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.is_history_tab_active;this.is_history_tab_active=e}setTopUpInProgress(e){this.is_top_up_virtual_in_progress=e}closeTopUpModal(){this.is_top_up_virtual_open=!1}openTopUpModal(){this.is_top_up_virtual_open=!0}closeSuccessTopUpModal(){this.is_top_up_virtual_success=!1}toggleResetPasswordModal(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.is_reset_password_modal_visible;this.is_reset_password_modal_visible=e}toggleLinkExpiredModal(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.is_link_expired_modal_visible;this.is_link_expired_modal_visible=e}toggleResetEmailModal(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.is_reset_email_modal_visible;this.is_reset_email_modal_visible=e}toggleUpdateEmailModal(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.is_update_email_modal_visible;this.is_update_email_modal_visible=e}setResetTradingPasswordModalOpen(e){this.is_reset_trading_password_modal_visible=e}setRealAccountSignupParams(e){this.real_account_signup=_e(_e({},this.real_account_signup),e)}setRealAccountSignupEnd(e){this.has_real_account_signup_ended=e}resetRealAccountSignupParams(){this.real_account_signup={active_modal_index:-1,previous_currency:"",current_currency:"",success_message:"",error_message:""}}toggleOnScreenKeyboard(){this.is_onscreen_keyboard_active=null!==this.current_focus&&this.is_mobile&&(0,o.isTouchDevice)()}setCurrentFocus(e){this.current_focus=e,this.toggleOnScreenKeyboard()}addToast(e){var t,n;e.key=null!==(t=e.key)&&void 0!==t?t:e.content;const r=this.toasts.findIndex((t=>t.key===e.key));r>-1&&this.toasts.splice(r,1),e.timeout=null!==(n=e.timeout)&&void 0!==n?n:this.mobile_toast_timeout,e.is_bottom?this.toasts.push(e):this.toasts.unshift(e)}removeToast(e){const t=this.toasts.findIndex((t=>t.key===e));t>-1&&this.toasts.splice(t,1)}setIsNativepickerVisible(e){this.is_nativepicker_visible=e}setReportsTabIndex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.reports_route_tab_index=e}notifyAppInstall(e){this.deferred_prompt=e,setTimeout((()=>{this.root_store.notifications.addNotificationMessageByKey("install_pwa")}),1e4)}async installWithDeferredPrompt(){this.deferred_prompt.prompt();if("accepted"===(await this.deferred_prompt.userChoice).outcome){const e="install_pwa";this.root_store.notifications.removeNotificationMessage({key:e,should_show_again:!1}),this.root_store.notifications.removeNotificationByKey({key:e})}}toggleShouldShowRealAccountsList(e){this.should_show_real_accounts_list=e}shouldNavigateAfterChooseCrypto(e){this.choose_crypto_currency_target=e}continueRouteAfterChooseCrypto(){this.root_store.common.routeTo(this.choose_crypto_currency_target),this.choose_crypto_currency_target===o.routes.cashier_deposit&&this.root_store.modules.cashier.general_store.setIsDeposit(!0)}openDerivRealAccountNeededModal(){this.is_deriv_account_needed_modal_visible=!this.is_deriv_account_needed_modal_visible}setRedirectFromEmail(e){this.is_redirected_from_email=e}setIsWalletModalVisible(e){this.is_wallet_modal_visible=e}setShouldShowRiskWarningModal(e){this.should_show_risk_warning_modal=e}setIsTradingAssessmentForExistingUserEnabled(e){this.is_trading_assessment_for_existing_user_enabled=e}setIsTradingAssessmentForNewUserEnabled(e){this.is_trading_assessment_for_new_user_enabled=e}setShouldShowAppropriatenessWarningModal(e){this.should_show_appropriateness_warning_modal=e}setShouldShowWarningModal(e){this.should_show_risk_accept_modal=e}setShouldShowAssessmentCompleteModal(e){this.should_show_assessment_complete_modal=e}setShouldShowCooldownModal(e){this.should_show_cooldown_modal=e}setShouldShowTradingAssessmentModal(e){this.should_show_trading_assessment_modal=e}setShouldShowTradeAssessmentForm(e){this.should_show_trade_assessment_form=e}openSwitchToRealAccountModal(){this.is_switch_to_deriv_account_modal_visible=!this.is_switch_to_deriv_account_modal_visible}toggleReadyToDepositModal(){this.is_ready_to_deposit_modal_visible=!this.is_ready_to_deposit_modal_visible}toggleNeedRealAccountForCashierModal(){this.is_need_real_account_for_cashier_modal_visible=!this.is_need_real_account_for_cashier_modal_visible}setCFDPasswordResetModal(e){this.is_cfd_reset_password_modal_enabled=!!e}setSubSectionIndex(e){this.sub_section_index=e}setIsVerificationModalVisible(e){this.is_verification_modal_visible=e}setIsVerificationSubmitted(e){this.is_verification_submitted=e}setShouldShowOneTimeDepositModal(e){this.should_show_one_time_deposit_modal=e}toggleAccountSuccessModal(){this.should_show_account_success_modal=!this.should_show_account_success_modal}setShouldTriggerTourGuide(e){this.should_trigger_tour_guide=e}setIsFromSuccessDepositModal(e){this.is_from_success_deposit_modal=e}setIsWalletsOnboardingTourGuideVisible(e){this.is_wallets_onboarding_tour_guide_visible=e}setIsMFVericationPendingModal(e){this.is_mf_verification_pending_modal_visible=e}setIsTradingDisabledByResidenceModal(e){this.is_trading_disabled_by_residence_modal_visible=e}setMT5MigrationModalEnabled(e){this.is_mt5_migration_modal_enabled=e}toggleMT5MigrationModal(e){this.is_mt5_migration_modal_open=e}toggleUrlUnavailableModal(e){this.isUrlUnavailableModalVisible=e}setShouldShowDepositNowOrLaterModal(e){this.should_show_deposit_now_or_later_modal=e}setShouldShowCryptoTransactionProcessingModal(e){this.should_show_crypto_transaction_processing_modal=e}setShouldShowSameDOBPhoneModal(e){this.should_show_same_dob_phone_modal=e}toggleTncUpdateModal(e){this.is_tnc_update_modal_open=e}}class Ce extends F{constructor(){super(),this.active_symbols=[],(0,r.makeObservable)(this,{active_symbols:r.observable,setActiveSymbols:r.action.bound})}async setActiveSymbols(){const{active_symbols:e,error:t}=await o.WS.authorized.activeSymbols();(0,r.runInAction)((()=>{e.length&&!t?this.active_symbols=e:this.active_symbols=[]}))}}var he=n(122328),me=n.n(he),Ae=n(76005);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Be extends F{constructor(e){super(e),this.positions=[],this.all_positions=[],this.positions_map={},this.is_loading=!0,this.error="",this.addNotificationBannerCallback=void 0,this.sell_notifications=[],this.open_accu_contract=null,this.barriers=[],this.main_barrier=null,this.contract_type="",this.responseQueue=[],this.active_positions=[],this.getPositionById=(0,Ae.iB)((e=>this.positions.find((t=>+t.id==+e)))),this.deepClone=e=>JSON.parse(JSON.stringify(e)),this.proposalOpenContractQueueHandler=e=>{this.responseQueue.push(e),this.throttledUpdatePositions()},this.populateResultDetailsFromTransaction=e=>{const t=e.transaction,{contract_id:n,amount:r}=t,o=this.getPositionIndexById(n),i=this.positions[o];if(!i)return;const a=ye(ye({},i.contract_info),{},{is_sold:1,is_expired:1,status:"complete"});i.contract_info=a,i.is_valid_to_sell=!1,i.result=r>a.buy_price?"won":"lost",i.status="complete",i.is_sold=1,i.is_loading=!1,a.exit_tick_time=a.date_expiry,a.sell_price=String(r),a.profit=r-a.buy_price,this.updatePositions()},this.populateResultDetails=e=>{const t=e.proposal_open_contract,n=this.getPositionIndexById(t.contract_id);if(this.positions[n]&&(this.positions[n].contract_info=t,this.positions[n].duration=(0,o.getDurationTime)(t),this.positions[n].duration_unit=(0,o.getDurationUnitText)((0,o.getDurationPeriod)(t)),this.positions[n].exit_spot=t.exit_tick||t.current_spot,this.positions[n].is_valid_to_sell=(0,o.isValidToSell)(t),this.positions[n].result=(0,o.getDisplayStatus)(t),this.positions[n].profit_loss=+t.profit,this.positions[n].sell_time=(0,o.getEndTime)(t)||t.current_spot_time,this.positions[n].sell_price=t.sell_price,this.positions[n].status="complete",this.positions[n].contract_info.barrier&&this.positions[n].contract_info.entry_spot||(this.positions[n].contract_info.barrier=this.positions[n].barrier,this.positions[n].contract_info.entry_spot=this.positions[n].entry_spot),this.positions[n].is_loading=!1,this.root_store.ui.is_mobile&&(0,o.getEndTime)(t))){var r;const e=this.positions[n].contract_info;window.location.pathname===o.routes.trade&&this.root_store.notifications.addTradeNotification(e);const{contract_id:t,contract_type:i,currency:a,profit:s,shortcode:c,status:l}=e,g=`${t}_${l}`;if(this.sell_notifications.some((e=>{let{id:t}=e;return t===g})))return;this.sell_notifications.push({id:g});const d=(0,o.isMultiplierContract)(i)&&!isNaN(s)?(0,o.getTotalProfit)(e):s,u="won"===l||d>=0,_=`${u?(0,I.localize)("Profit"):(0,I.localize)("Loss")}: ${u?"+":""}${(0,o.formatMoney)(a,d,!0,0,0)} ${a}`;null===(r=this.addNotificationBannerCallback)||void 0===r||r.call(this,{message:(0,o.getTradeNotificationMessage)(c),redirectTo:(0,o.getContractPath)(t),title:_,type:u?"success":"error"},u?"success":"error")}},this.updatePositions=()=>{this.responseQueue.forEach((e=>this.proposalOpenContractHandler(e))),this.responseQueue=[],this.setActivePositions()},this.throttledUpdatePositions=me()(this.updatePositions,500),(0,r.makeObservable)(this,{positions:r.observable.shallow,all_positions:r.observable.shallow,is_loading:r.observable,error:r.observable,barriers:r.observable,main_barrier:r.observable,contract_type:r.observable,active_positions:r.observable.struct,initializePortfolio:r.action.bound,clearTable:r.action.bound,portfolioHandler:r.action.bound,onBuyResponse:r.action.bound,transactionHandler:r.action.bound,proposalOpenContractHandler:r.action.bound,open_accu_contract:r.observable,onClickCancel:r.action.bound,onClickSell:r.action.bound,handleSell:r.action.bound,populateResultDetailsFromTransaction:r.action.bound,populateResultDetails:r.action.bound,populateContractUpdate:r.action.bound,pushNewPosition:r.action.bound,removePositionById:r.action.bound,onHoverPosition:r.action.bound,logoutListener:r.action.bound,networkStatusChangeListener:r.action.bound,onMount:r.action.bound,onUnmount:r.override,totals:r.computed,setActivePositions:r.action.bound,setAddNotificationBannerCallback:r.action.bound,sell_notifications:r.observable,is_active_empty:r.computed,active_positions_count:r.computed,is_empty:r.computed,setPurchaseSpotBarrier:r.action,updateLimitOrderBarriers:r.action,setContractType:r.action,is_accumulator:r.computed,is_multiplier:r.computed,is_turbos:r.computed}),this.root_store=e}async initializePortfolio(){this.has_subscribed_to_poc_and_transaction&&this.clearTable(),this.is_loading=!0,await o.WS.wait("authorize"),o.WS.portfolio().then(this.portfolioHandler),o.WS.subscribeProposalOpenContract(null,this.proposalOpenContractQueueHandler),o.WS.subscribeTransaction(this.transactionHandler),this.has_subscribed_to_poc_and_transaction=!0}clearTable(){this.positions=[],this.positions_map={},this.is_loading=!1,this.error="",this.updatePositions(),this.has_subscribed_to_poc_and_transaction&&o.WS.forgetAll("proposal_open_contract","transaction"),this.has_subscribed_to_poc_and_transaction=!1}setAddNotificationBannerCallback(e){this.addNotificationBannerCallback=e}portfolioHandler(e){this.is_loading=!1,"error"in e?this.error=e.error.message:(this.error="",e.portfolio.contracts&&(this.positions=e.portfolio.contracts.filter(o.filterDisabledPositions).map((e=>(0,o.formatPortfolioPosition)(e,this.root_store.active_symbols.active_symbols))).sort(((e,t)=>t.reference-e.reference)),this.positions.forEach((e=>{this.positions_map[e.id]=e})),this.updatePositions()))}onBuyResponse(e){let{contract_id:t,longcode:n,contract_type:r}=e;const o={contract_id:t,longcode:n,contract_type:r};this.pushNewPosition(o)}async transactionHandler(e){if("error"in e&&(this.error=e.error.message),!e.transaction)return;const{contract_id:t,action:n,longcode:r}=e.transaction;if("buy"===n)this.onBuyResponse({contract_id:t,longcode:r,contract_type:""});else if("sell"===n){const n=this.getPositionIndexById(t);if(!this.positions[n])return;this.positions[n].is_loading=!0;const r=o.WS.subscribeProposalOpenContract(t,(t=>{t.error?this.populateResultDetailsFromTransaction(e):(this.updateContractTradeStore(t),this.updateContractReplayStore(t),this.populateResultDetails(t)),r.unsubscribe()}))}}updateContractTradeStore(e){const t=this.root_store.contract_trade,n=!(0,o.isEmptyObject)(e.proposal_open_contract),r=!!e.error;(n||r)&&n&&(t.addContract(this.deepClone(e.proposal_open_contract)),t.updateProposal(this.deepClone(e)))}updateContractReplayStore(e){var t;const n=this.root_store.contract_replay;n.contract_id===(null===(t=e.proposal_open_contract)||void 0===t?void 0:t.contract_id)&&n.populateConfig(e)}updateTradeStore(e,t,n){n||this.setPurchaseSpotBarrier(e,t),this.updateLimitOrderBarriers(e,t)}proposalOpenContractHandler(e){if("error"in e)return this.updateContractTradeStore(e),void this.updateContractReplayStore(e);const t=e.proposal_open_contract,n=this.positions_map[t.contract_id];if(!n)return;this.updateContractTradeStore(e),this.updateContractReplayStore(e);const r=(0,o.formatPortfolioPosition)(t,this.root_store.active_symbols.active_symbols,n.indicative);Object.assign(n,r);const i=n.indicative,a=+t.bid_price,s=+t.profit;if(Object.entries(t).forEach((e=>{let[t,r]=e;"barrier"!==t&&"high_barrier"!==t&&"low_barrier"!==t&&"entry_spot"!==t||(n[t]=+r)})),n.indicative=a,n.profit_loss=s,n.is_valid_to_sell=(0,o.isValidToSell)(t),n.contract_info=t,t.tick_count){const e=n.current_tick>(0,o.getCurrentTick)(t)?n.current_tick:(0,o.getCurrentTick)(t);n.current_tick=e}n.status=a>i?"profit":a<i?"loss":null,this.hovered_position_id===n.id&&(1===n.contract_info.is_sold?this.updateTradeStore(!1,n):this.updateTradeStore(!0,n,!0)),1===n.contract_info.is_sold&&this.populateResultDetails(e)}onClickCancel(e){const t=this.getPositionIndexById(e);this.positions[t].is_sell_requested||(this.positions[t].is_sell_requested=!0,e&&o.WS.cancelContract(e).then((e=>{e.error?this.root_store.common.setServicesError(ye({type:e.msg_type},e.error),(0,o.isDtraderV2MobileEnabled)(this.root_store.ui.is_mobile)||(0,o.isDtraderV2DesktopEnabled)(this.root_store.ui.is_desktop)):window.location.pathname===o.routes.trade&&this.root_store.ui.is_mobile||this.root_store.notifications.addNotificationMessage((0,o.contractCancelled)())})))}onClickSell(e){const t=this.getPositionIndexById(e);if(this.positions[t].is_sell_requested)return;const{bid_price:n}=this.positions[t].contract_info;this.positions[t].is_sell_requested=!0,e&&"number"==typeof n&&o.WS.sell(e,n).then(this.handleSell)}handleSell(e){if(e.error){const t=this.getPositionIndexById(e.echo_req.sell);this.positions[t].is_sell_requested=!1,"InvalidToken"!==e.error.code&&this.root_store.common.setServicesError(ye({type:e.msg_type},e.error),(0,o.isDtraderV2MobileEnabled)(this.root_store.ui.is_mobile)||(0,o.isDtraderV2DesktopEnabled)(this.root_store.ui.is_desktop))}else!e.error&&e.sell&&(this.root_store.contract_trade.sell_info={sell_price:e.sell.sold_for,transaction_id:e.sell.transaction_id},window.location.pathname===o.routes.trade&&this.root_store.ui.is_mobile||this.root_store.notifications.addNotificationMessage((0,o.contractSold)(this.root_store.client.currency,e.sell.sold_for,ne.Money)),b.Analytics.trackEvent("ce_reports_form",{action:"close_contract",form_name:"default",subform_name:"open_positions_form"}))}populateContractUpdate(e,t){let{contract_update:n}=e;const r=this.getPositionById(t);r&&(Object.assign(r.contract_update||{},n),this.updatePositions())}pushNewPosition(e){const t=(0,o.formatPortfolioPosition)(e,this.root_store.active_symbols.active_symbols);this.positions_map[t.id]||(this.positions.unshift(t),this.positions_map[t.id]=t,this.updatePositions())}removePositionById(e){const t=this.getPositionIndexById(e);this.positions.splice(t,1),delete this.positions_map[e],this.updatePositions(),this.root_store.contract_trade.removeContract({contract_id:e})}async accountSwitcherListener(){return await this.initializePortfolio(),Promise.resolve()}onHoverPosition(e,t,n){t.contract_info.underlying===n&&!(0,o.isEnded)(t.contract_info)&&(0,o.isMultiplierContract)(t.type)&&(this.hovered_position_id=e?t.id:null,this.updateTradeStore(e,t))}preSwitchAccountListener(){return this.clearTable(),Promise.resolve()}logoutListener(){return this.clearTable(),Promise.resolve()}networkStatusChangeListener(e){this.is_loading=this.is_loading||!e}onMount(){this.onPreSwitchAccount(this.preSwitchAccountListener),this.onSwitchAccount(this.accountSwitcherListener),this.onNetworkStatusChange(this.networkStatusChangeListener),this.onLogout(this.logoutListener),0!==this.positions.length||this.has_subscribed_to_poc_and_transaction||(this.root_store.client.is_logged_in?this.initializePortfolio():(0,r.reaction)((()=>this.root_store.client.is_logged_in),(()=>{this.root_store.client.is_logged_in&&this.initializePortfolio()})))}onUnmount(){/^\/reports/.test(window.location.pathname)||(this.clearTable(),this.disposePreSwitchAccount(),this.disposeSwitchAccount(),this.disposeLogout())}getPositionIndexById(e){return this.positions.findIndex((t=>+t.id==+e))}get totals(){let e=0,t=0,n=0;return this.positions.forEach((r=>{e+=+r.indicative,t+=+r.payout,n+=+r.purchase})),{indicative:e,payout:t,purchase:n}}setActivePositions(){this.active_positions=this.positions.filter((e=>!(0,o.getEndTime)(e.contract_info))),this.all_positions=[...this.positions],this.open_accu_contract=this.active_positions.find((e=>{let{type:t}=e;return(0,o.isAccumulatorContract)(t)}))}get is_active_empty(){return!this.is_loading&&0===this.active_positions.length}get active_positions_count(){return this.active_positions.length||0}get is_empty(){return!this.is_loading&&0===this.all_positions.length}setPurchaseSpotBarrier(e,t){const n="PURCHASE_SPOT_BARRIER";if(!e)return void(0,o.removeBarrier)(this.barriers,n);let r=this.barriers.find((e=>e.key===n));r?r.high!==+t.contract_info.entry_spot&&r.onChange({high:t.contract_info.entry_spot}):(r=new o.ChartBarrierStore(t.contract_info.entry_spot),r.key=n,r.draggable=!1,r.hideOffscreenBarrier=!0,r.isSingleBarrier=!0,this.barriers.push(r))}updateLimitOrderBarriers(e,t){const n=t.contract_info,{barriers:r}=this;(0,o.setLimitOrderBarriers)({barriers:r,contract_info:n,contract_type:n.contract_type,is_over:e})}setContractType(e){this.contract_type=e}get is_accumulator(){return this.contract_type===o.TRADE_TYPES.ACCUMULATOR}get is_multiplier(){return this.contract_type===o.TRADE_TYPES.MULTIPLIER}get is_turbos(){return this.contract_type===o.TRADE_TYPES.TURBOS.LONG||this.contract_type===o.TRADE_TYPES.TURBOS.SHORT}}const ve=[[1,0],[2,120],[6,600],[24,900],[120,3600],[720,14400]],Fe=e=>e||k().get().unix(),Qe=(e,t)=>_().duration(_().unix(Fe(t)).diff(_().unix(e))).asHours()<=1?"line":"candles",xe=(e,t)=>Ge(Fe(t)-e),Ge=e=>(ve.find((t=>e<=3600*t[0]))||[null,86400])[1];var Ue=n(103771),We=n.n(Ue),Ne=n(255530),Oe=n.n(Ne),Ee=n(679955),Ze=n(597598),Xe=n.n(Ze);const we=e=>{let{label:t,line_style:n,marker_config:r,status:i}=e;return r?(0,se.jsxs)("div",{className:Oe()("chart-marker-line__wrapper",`chart-marker-line--${n}`),children:[t===r.LINE_END.content_config.label&&(0,se.jsx)(ne.Icon,{icon:"IcContractExitTimeCircle",className:"chart-marker-line__icon",color:"lost"===i?"red":"green",custom_color:"lost"===i?o.BARRIER_COLORS.RED:o.BARRIER_COLORS.GREEN,size:24}),t===r.LINE_START.content_config.label&&(0,se.jsx)(ne.Icon,{icon:"IcContractStartTimeCircle",className:"chart-marker-line__icon chart-marker-line__icon--time",color:"secondary",size:24}),t===r.LINE_RESET.content_config.label&&(0,se.jsx)(ne.Icon,{icon:"IcContractResetTimeCircle",className:"chart-marker-line__icon chart-marker-line__icon--time",color:"secondary",size:24})]}):(0,se.jsx)("div",{})};we.propTypes={label:Xe().string,line_style:Xe().string,marker_config:Xe().object,status:Xe().oneOf(["won","lost"])};const Re=(0,Ee.observer)(we),Te=e=>{let{className:t,spot_count:n}=e;return(0,se.jsx)("div",{className:Oe()("chart-spot",t),children:n})};Te.propTypes={className:Xe().string,spot_count:Xe().oneOfType([Xe().number,Xe().string])};const Ve=(0,Ee.observer)(Te),je=e=>{let{align_label:t,has_hover_toggle:n,is_value_hidden:r,spot_className:i,spot_count:a,spot_epoch:s,spot_value:c,spot_profit:l,status:g}=e;const[d,u]=q.useState(!n),_=()=>{u(!d)};let b=(0,se.jsx)(Ve,{className:i,spot_count:a});return n&&(b=(0,se.jsx)("div",{"data-testid":"dt_marker_hover_container",className:"marker-hover-container",onMouseEnter:_,onMouseLeave:_,children:b})),(0,se.jsxs)(q.Fragment,{children:[(0,se.jsxs)("div",{className:"chart-spot-label",children:[d&&!r&&(0,se.jsx)("div",{className:"chart-spot-label__info-container",children:(0,se.jsxs)("div",{"data-testid":"dt_time_value_container",className:`chart-spot-label__time-value-container chart-spot-label__time-value-container--${t}`,children:[s&&(0,se.jsxs)("div",{className:"chart-spot-label__time-container",children:[(0,se.jsx)(ne.Icon,{icon:"IcClockOutline",height:10,width:10,className:"chart-spot-label__time-icon"}),(0,se.jsx)(ne.Text,{as:"p",color:"prominent",size:"xxxs",children:(0,o.toMoment)(+s).format("HH:mm:ss")})]}),(0,se.jsx)("div",{"data-testid":"dt_value_container",className:Oe()("chart-spot-label__value-container",{"chart-spot-label__value-container--won":"won"===g,"chart-spot-label__value-container--lost":"lost"===g}),children:(0,se.jsx)("p",{children:(0,o.addComma)(c)})})]})}),b]}),l&&(0,se.jsx)("div",{className:Oe()("chart-spot-label-profit",{"chart-spot-label-profit--won":"won"===g,"chart-spot-label-profit--lost":"lost"===g}),children:(0,se.jsxs)("div",{className:Oe()("chart-spot-label__value-container",{"chart-spot-label__value-container--won":"won"===g,"chart-spot-label__value-container--lost":"lost"===g}),children:[(0,se.jsx)(ne.Text,{as:"p",size:"xxs",children:(0,I.localize)("Total profit/loss:")}),(0,se.jsx)(ne.Text,{as:"p",size:"xs",children:`${parseFloat(l)>0?"+":""}${l}`})]})})]})};je.defaultProps={align_label:"top",is_value_hidden:!1},je.propTypes={align_label:Xe().oneOf(["top","middle","bottom"]),has_hover_toggle:Xe().bool,is_value_hidden:Xe().bool,spot_className:Xe().string,spot_count:Xe().oneOfType([Xe().number,Xe().string]),spot_epoch:Xe().oneOfType([Xe().number,Xe().string]),spot_value:Xe().oneOfType([Xe().number,Xe().string]),spot_profit:Xe().string,status:Xe().oneOf(["won","lost",""])};const ke=(0,Ee.observer)(je);function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const De={ContentComponent:Re,className:"chart-marker-line"},Je={LINE_END:{type:"LINE_END",marker_config:Ye({},De),content_config:{line_style:"dash",label:(0,I.localize)("End Time")}},LINE_PURCHASE:{type:"LINE_PURCHASE",marker_config:Ye({},De),content_config:{line_style:"solid",label:(0,I.localize)("Purchase Time")}},LINE_START:{type:"LINE_START",marker_config:Ye({},De),content_config:{line_style:"solid",label:(0,I.localize)("Start Time")}},LINE_RESET:{type:"LINE_RESET",marker_config:Ye({},De),content_config:{line_style:"dash",label:(0,I.localize)("Reset Time")}},SPOT_ENTRY:{type:"SPOT_ENTRY",marker_config:{ContentComponent:Ve},content_config:{className:"chart-spot__entry"}},SPOT_SELL:{type:"SPOT_SELL",marker_config:{ContentComponent:Ve},content_config:{className:"chart-spot__sell"}},SPOT_EXIT:{type:"SPOT_EXIT",marker_config:{ContentComponent:ke},content_config:{spot_className:"chart-spot__spot"}},SPOT_EXIT_2:{type:"SPOT_EXIT_2",marker_config:{ContentComponent:Ve},content_config:{className:"chart-spot__spot"}},SPOT_MIDDLE:{type:"SPOT_MIDDLE",marker_config:{ContentComponent:ke},content_config:{spot_className:"chart-spot__spot"}}},Le=(e,t,n,r)=>We()(!0,{},Je[e],{marker_config:{x:+t,y:n},content_config:r}),Me=(e,t)=>(0,o.isDigitContract)(e.contract_type)||(0,o.isTicksContract)(e.contract_type)&&t+1===e.selected_tick?t+1:(0,o.isAccumulatorContract)(e.contract_type)||(0,o.isSmartTraderContract)(e.contract_type)?null:t,ze=e=>{if(!e.entry_tick_time)return!1;const t=e.entry_tick_display_value,n=(0,o.isDigitContract)(e.contract_type)||(0,o.isTicksContract)(e.contract_type),r=Je.SPOT_ENTRY.type;let i={};return n&&(i={spot_value:`${t}`,spot_epoch:`${e.entry_tick_time}`,spot_count:1}),Le(r,e.entry_tick_time,t,i)},He=(e,t,n)=>{if(!e.exit_tick_time)return!1;const r=(0,o.isTicksContract)(e.contract_type);let i,a;t&&(i=Me(e,n),a=t.align_label);const s=e.exit_tick_display_value,c=r&&n+1!==e.selected_tick,l=(0,o.isVanillaContract)(e.contract_type)&&(0,o.isDesktop)(),g=c?Je.SPOT_EXIT_2.type:Je.SPOT_EXIT.type,d={spot_value:`${s}`,spot_epoch:`${e.exit_tick_time}`,status:""+(+e.profit>=0?"won":"lost"),align_label:l?"middle":a,spot_count:c?e.tick_stream.length:i,spot_profit:l?`${(0,o.formatMoney)(e.currency,e.profit,!0)} ${e.currency}`:""};return Le(g,+e.exit_tick_time,+s,d)},Ke=(e,t,n)=>{const r=(0,o.isAccumulatorContract)(e.contract_type),i=(0,o.isTicksContract)(e.contract_type),a=Me(e,n),s=t.tick_display_value,c=r?"":`${t.epoch}`,l=Le(Je.SPOT_MIDDLE.type,+t.epoch,+s,{spot_value:`${s}`,spot_epoch:c,align_label:t.align_label,is_value_hidden:r||i&&n+1!==e.selected_tick,spot_count:a,status:`${i?e.status:""}`});return l.type=`${l.type}_${n}`,(0,o.isMobile)()&&a>1&&!i?null:l},$e=(e,t)=>{const{tick_stream:n}=e,r=(0,o.isAccumulatorContractOpen)(e)&&10===n.length;let i=[];if(e){const n=(0,o.getEndTime)(e),a=Qe(e.date_start,n);if(e.tick_count){const n=nt(e,t);i.push(...n)}else if("candles"!==a){const t=Object.keys(qe).map((t=>qe[t](e)));i.push(...t)}if(!r){const t=Object.keys(et).map((t=>et[t](e)));i.push(...t)}i=i.filter((e=>!!e))}return i.forEach((t=>{const n=e.contract_id;t.react_key=`${n}-${t.type}`})),i},qe={[Je.SPOT_ENTRY.type]:ze,[Je.SPOT_EXIT.type]:He},et={[Je.LINE_START.type]:e=>!!e.date_start&&Le(Je.LINE_START.type,+e.date_start,null,{marker_config:Je}),[Je.LINE_RESET.type]:e=>!!e.reset_time&&Le(Je.LINE_RESET.type,+e.reset_time,null,{marker_config:Je}),[Je.LINE_END.type]:e=>{const t=(0,o.getEndTime)(e);return!!t&&Le(Je.LINE_END.type,+t,null,{status:""+(e.profit>=0?"won":"lost"),marker_config:Je})},[Je.LINE_PURCHASE.type]:e=>!(!e.purchase_time||!e.date_start||+e.purchase_time==+e.date_start)&&Le(Je.LINE_PURCHASE.type,+e.purchase_time)},tt=(e,t,n)=>{if(t>0&&n.length){const r=n[t-1];+e>+r.tick&&(e.align_label="top"),+e.tick<+r.tick&&(e.align_label="bottom"),+e.tick==+r.tick&&(e.align_label=r.align_label)}return e},nt=(e,t)=>{var n;const r=(0,o.isAccumulatorContract)(e.contract_type),i=(0,o.isSmartTraderContract)(e.contract_type),a=(0,o.isTicksContract)(e.contract_type),s=r&&!(0,o.isOpen)(e),c=r&&(null===(n=e.audit_details)||void 0===n?void 0:n.all_ticks)||e.tick_stream,l=(0,o.unique)(c,"epoch").map(tt),g=[];if(s){const{exit_tick_time:t,tick_stream:n}=e||{};t&&l.every((e=>{let{epoch:n}=e;return n!==t}))&&l.push(n[n.length-1]);const r=l.findIndex((e=>{let{epoch:n}=e;return n===t}))+1;l.length=r>0?r:l.length}return l.forEach(((n,o)=>{const c=t=>+t.epoch===e.entry_tick_time,d=+n.epoch!==e.exit_tick_time&&(r?c(n):0===o),u=o>(r?l.findIndex(c):0)&&+n.epoch!=+e.exit_tick_time,_=a&&o+1===e.selected_tick,I=(t,n)=>+t.epoch==+e.exit_tick_time||Me(e,n)===e.tick_count,b=I(n,o),C=o===l.length-1,h=l.findIndex(I),m=r&&!b&&C,A=r&&(s?o===h-1:o===l.length-2);let p;d?p=ze(e):u?p=Ke(e,n,o):b&&!m&&(n.align_label="top",p=He(e,n,o)),_&&i&&(p=Ke(e,n,o));const y=p&&p.content_config.spot_className;if(i&&u&&!_&&(p&&(p.content_config.spot_className=`${y} ${y}--smarttrader-contract-middle`),C||(p.content_config.is_value_hidden=!0)),_&&(p.content_config.spot_className=`${y} chart-spot__spot--${e.status}`),r){if((m||b)&&!s)return;if(p&&(u||b)){const e=A&&(!t||s),n=p.content_config.spot_className;p.content_config.spot_className=`${n} ${n}--accumulator${b?"-exit":"-middle"+(e?"--preexit":"")}`}}p&&g.push(p)})),g},rt={bg:"#181c25",fg:"#ffffff",grey_border:"#6e6e6e",lost:"#e6190e",open:"#2c9aff",sold:"#ffad3a",won:"#008832"},ot={bg:"#ffffff",fg:"#333333",grey_border:"#999999",lost:"#ec3f3f",open:"#2c9aff",sold:"#ffad3a",won:"#008832"};function it(e){let{status:t,profit:n,is_dark_theme:r,is_vanilla:o}=e;const i=r?rt:ot;let a=i[t||"open"];return o?"open"===t?i.open:i[n>0?"won":"lost"]:("open"===t&&n&&(a=i[n>0?"won":"lost"]),a)}const at={AUD:"A$",EUR:"€",GBP:"£",JPY:"¥",USD:"$",BTC:"₿",BCH:"",ETH:"E",ETC:"",LTC:"Ł",UST:"₮"},st=e=>{const{tick_count:t,contract_type:n}=e;return(0,o.isAccumulatorContract)(n)?"AccumulatorContract":(0,o.isDigitContract)(n)?"DigitContract":t>0?"TickContract":"NonTickContract"},ct=e=>{const{barrier:t,contract_type:n,currency:r,is_sold:i,profit:a,tick_count:s,tick_stream:c}=e,l=!s;if(!i&&!(0,o.isAccumulatorContract)(n)){if(l){if(!a||!t)return;const e=at[r]||"",n=(0,o.getDecimalPlaces)(r);return`${a<0?"-":a>0?"+":" "}${e}${Math.abs(a).toFixed(n)}`}return`${Math.max(c.length-1,0)}/${s}`}};function lt(e,t,n){if(!e||(0,o.isMultiplierContract)(e.contract_type))return null;const{transaction_ids:r,tick_stream:i,date_start:a,date_expiry:s,entry_tick:c,exit_tick:l,entry_tick_time:g,exit_tick_time:d,contract_type:u,tick_count:_,barrier_count:b,barrier:C,high_barrier:h,low_barrier:m,shortcode:A,status:p,profit:y,is_sold:f}=e,B=(0,o.isAccumulatorContract)(u),v=(0,o.isDigitContract)(u),F=_>0,Q=!F,x=(0,o.isHighLow)({shortcode:A}),G=(0,o.isTouchContract)(u),U=(0,o.isTurbosContract)(u),W=F?d:(0,o.getEndTime)(e)||s;let N;if(v||B?N=+c:1==+b&&C?N=+C:2==+b&&h&&m&&(N=+h),!a)return null;if(!r)return{type:st(e),markers:[]};const O=[],E=N||0;if(n&&!f&&O.push({epoch:a,quote:v?void 0:E,type:"activeStart",text:`${(0,I.localize)("Start")}\n${(0,I.localize)("Time")}`}),a&&c){const t=Q?it({status:"open",profit:y}):void 0;O.push({epoch:a,quote:v?void 0:E,type:"start",text:ct(e),color:t})}if(c&&(O.push({epoch:g,quote:E,type:"entry"}),(x||G||U)&&O.push({epoch:g,quote:c,type:"entryTick"})),W&&O.push({epoch:W,quote:E,type:"end"}),l?O.push({epoch:d,quote:+l,type:"exit"}):(null==i?void 0:i.length)>0&&O.push(...((e,t)=>{const{contract_type:n,tick_stream:r}=e,i=(0,o.isDigitContract)(n),a=(0,o.isAccumulatorContract)(n),s=r.length>1?r[r.length-1]:null,[,...c]=a?[]:i?[void 0,...r.slice(-1)]:r,l=c.map((e=>({epoch:e.epoch,quote:e.tick,type:"tick"})));return i||a||!s||(l.push({epoch:s.epoch,quote:s.quote,type:"latestTick"}),l.push({epoch:s.epoch,quote:t,type:"latestTickBarrier"})),l})(e,N)),B&&(null==i?void 0:i.length)>0){if("open"!==(0,o.getContractStatus)({contract_type:u,profit:y,exit_tick_time:d,status:p})){const n=i[i.length-1],r=i[i.length-2]||n;O.push(...gt({high_barrier:h,low_barrier:m,prev_epoch:r.epoch,is_dark_mode_on:t,contract_info:e}))}}return{type:st(e),markers:O,color:it({status:p,profit:Q||f?y:void 0,is_dark_theme:t,is_vanilla:(0,o.isVanillaContract)(u)})}}function gt(e){let{contract_info:t,high_barrier:n,low_barrier:r,is_accumulator_trade_without_contract:i=!1,is_dark_theme:a,has_crossed_accu_barriers:s,barrier_spot_distance:c,prev_epoch:l}=e;const{contract_type:g,profit:d,exit_tick_time:u,status:_,is_sold:I}=t||{},b=(0,o.getContractStatus)({contract_type:g,profit:d,exit_tick_time:u,status:_}),C="open"!==b,h=it({status:s||"lost"===b?"lost":i?"open":"won",is_dark_theme:a});return[{epoch:l,quote:+n,type:"highBarrier",color:h,text:c?`+${c}`:""},{epoch:l,quote:+r,type:"lowBarrier",color:h,text:c?`-${c}`:""},{epoch:l,type:"previousTick",color:it(i?{status:"fg",is_dark_theme:a}:{is_dark_theme:a,status:b,profit:I||C?d:null})}]}function dt(e){let{prev_epoch:t,high_barrier:n,low_barrier:r,is_accumulator_trade_without_contract:o=!1,has_crossed_accu_barriers:i=!1,is_dark_theme:a,contract_info:s,in_contract_details:c=!1,barrier_spot_distance:l}=e;return{type:"AccumulatorContract",markers:gt({contract_info:s,high_barrier:n,low_barrier:r,is_accumulator_trade_without_contract:o,is_dark_theme:a,has_crossed_accu_barriers:i,barrier_spot_distance:l,prev_epoch:t}),props:{hasPersistentBorders:c}}}function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){It(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function It(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class bt extends F{constructor(e,t){let{contract_id:n}=t;super({root_store:e,validation_rules:(0,o.getContractValidationRules)()}),this.digits_info=r.observable.object({}),this.sell_info=r.observable.object({}),this.contract_config={},this.display_status="purchased",this.is_ended=!1,this.is_digit_contract=!1,this.error_message="",this.contract_info=r.observable.object({}),this.is_static_chart=!1,this.end_time=null,this.accu_high_barrier=null,this.accu_low_barrier=null,this.cached_barriers_data={},this.contract_update_take_profit="",this.contract_update_stop_loss="",this.has_contract_update_take_profit=!1,this.has_contract_update_stop_loss=!1,this.contract_update_history=[],this.contract_update_config={},this.margin=void 0,this.barriers_array=[],this.markers_array=[],this.marker=null,this.accumulator_marker=null,this.is_ongoing_contract=!1,this.cacheProposalOpenContractResponse=e=>{const{contract_id:t}=e.proposal_open_contract;o.WS.storage.set({proposal_open_contract:1,contract_id:t},e)},this.createBarriersArray=e=>{let t=[];if(e){const{contract_type:n,barrier:r,entry_spot:i,high_barrier:a,low_barrier:s,reset_time:c,reset_barrier:l}=e,g=this.accu_high_barrier||r||a,d=e.profit>=0?o.BARRIER_COLORS.GREEN:o.BARRIER_COLORS.RED,u={not_draggable:!0,shade:o.DEFAULT_SHADES[2],color:(0,o.isSmartTraderContract)(n)?o.BARRIER_COLORS.BLUE:d};if((0,o.isBarrierSupported)(n)&&!(0,o.isResetContract)(n)&&(g||i&&!(0,o.isAccumulatorContract)(n))){const e=new o.ChartBarrierStore(g||i,this.accu_low_barrier||s,null,_t(_t({},u),{},{line_style:!(0,o.isAccumulatorContract)(n)&&o.BARRIER_LINE_STYLES.SOLID,hideBarrierLine:(0,o.isAccumulatorContract)(n),shade:(0,o.isAccumulatorContract)(n)&&o.DEFAULT_SHADES[2]}));e.updateBarrierShade(!0,n),t=[e]}else if((0,o.isResetContract)(n)&&i){const e=new o.ChartBarrierStore(i,s,null,_t({},u));if(e.updateBarrierShade(!0,n),t=[e],c){const r=new o.ChartBarrierStore(l,s,null,_t(_t({},u),{},{hideBarrierLine:!0,line_style:o.BARRIER_LINE_STYLES.DASHED}));e.updateBarrierShade(!1,n),t.push(r)}}}return t},(0,r.makeObservable)(this,{accu_high_barrier:r.observable,accu_low_barrier:r.observable,cached_barriers_data:r.observable,digits_info:r.observable,sell_info:r.observable,contract_config:r.observable.ref,display_status:r.observable,is_ended:r.observable,is_digit_contract:r.observable,error_message:r.observable,contract_info:r.observable.ref,is_static_chart:r.observable,end_time:r.observable,contract_update_take_profit:r.observable,contract_update_stop_loss:r.observable,has_contract_update_take_profit:r.observable,has_contract_update_stop_loss:r.observable,contract_update_history:r.observable.ref,margin:r.observable,barriers_array:r.observable.shallow,markers_array:r.observable.shallow,marker:r.observable.ref,accumulator_marker:r.observable.ref,populateConfig:r.action.bound,populateContractUpdateConfig:r.action.bound,populateContractUpdateHistory:r.action.bound,clearContractUpdateConfigValues:r.action.bound,onChange:r.action.bound,updateLimitOrder:r.action.bound,getContractsArray:r.action.bound}),this.root_store=e,this.contract_id=n}populateConfig(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=this.contract_info;this.contract_info=e,this.end_time=(0,o.getEndTime)(this.contract_info);const{accu_high_barrier:i,accu_low_barrier:a}=(0,o.getAccuBarriersForContractDetails)(e);this.accu_high_barrier=i,this.accu_low_barrier=a,this.updateBarriersArray(e,this.root_store.ui.is_dark_mode_on),this.markers_array=$e(this.contract_info),this.marker=lt(this.contract_info,this.root_store.ui.is_dark_mode_on,t),this.contract_config=(e=>{var t;if((0,o.isEmptyObject)(e))return null;const n=e.date_start,r=(0,o.getEndTime)(e),i=xe(n,r||null),a=Qe(n,r||null),s=(0,o.isAccumulatorContract)(e.contract_type),c=s&&!(null===(t=e.tick_stream)||void 0===t||!t.length)&&e.tick_stream[0].epoch,l=s&&"open"===e.status&&10===e.tick_stream.length,g=l?c:n,d=l?c:e.purchase_time;return{chart_type:e.tick_count?"line":a,granularity:e.tick_count?0:i,end_epoch:r,start_epoch:g,scroll_to_epoch:d}})(this.contract_info),this.display_status=(0,o.getDisplayStatus)(this.contract_info),this.is_ended=(0,o.isEnded)(this.contract_info),this.is_digit_contract=(0,o.isDigitContract)(this.contract_info.contract_type),!this.contract_info.barrier&&n.barrier&&this.is_digit_contract&&(this.contract_info.barrier=n.barrier),this.is_digit_contract&&(0,r.extendObservable)(this.digits_info,(0,o.getDigitInfo)(this.digits_info,this.contract_info)),1!=+e.is_settleable||e.is_sold||o.WS.send({sell_expired:1});const s=(0,o.isMultiplierContract)(this.contract_info.contract_type),c=(0,o.isAccumulatorContract)(this.contract_info.contract_type),l=(0,o.isTurbosContract)(this.contract_info.contract_type);(c||s||l)&&e.contract_id&&e.limit_order&&this.populateContractUpdateConfig(this.contract_info)}populateContractUpdateConfig(e){const t=(0,o.getContractUpdateConfig)(e);if(!(0,o.isEqualObject)(this.contract_update_config,t)){Object.assign(this,t),this.contract_update_config=t;const{contract_update:n,error:r}=e;n&&!r&&(this.contract_info.limit_order=Object.assign(this.contract_info.limit_order||{},n))}}populateContractUpdateHistory(e){let{contract_update_history:t}=e;this.root_store.contract_replay.contract_store.contract_update_history=t.sort(((e,t)=>t.order_date-e.order_date))}updateBarriersArray(e,t){var n;const{barrier:i,contract_type:a,current_spot_high_barrier:s,current_spot_low_barrier:c,high_barrier:l,low_barrier:g,status:d,current_spot_time:u,underlying:_,tick_stream:I=[]}=e||{},b=null===(n=this.barriers_array)||void 0===n?void 0:n[0];if((0,o.isAccumulatorContract)(e.contract_type)){var C,h;if(this.cached_barriers_data.current_spot_high_barrier===s&&this.cached_barriers_data.current_spot_low_barrier===c&&this.cached_barriers_data.high_barrier===l&&this.cached_barriers_data.low_barrier===g&&this.cached_barriers_data.status===d)return;const n="open"!==(0,o.getContractStatus)(e),i=n?(null===(C=I[I.length-2])||void 0===C?void 0:C.epoch)||(null===(h=I[I.length-1])||void 0===h?void 0:h.epoch):u;return n&&(this.accumulator_marker=dt({high_barrier:l,low_barrier:g,prev_epoch:i,is_dark_mode_on:t,contract_info:e,in_contract_details:!0})),this.barriers_array.length?(setTimeout((()=>(0,r.runInAction)((()=>{e&&((0,o.isBarrierSupported)(a)&&this.accu_high_barrier&&this.accu_low_barrier&&(null==b||b.updateBarriers(this.accu_high_barrier,this.accu_low_barrier)),this.markers_array=$e(e,!0),this.accumulator_marker=dt({high_barrier:this.accu_high_barrier,low_barrier:this.accu_low_barrier,prev_epoch:i,is_dark_mode_on:this.root_store.ui.is_dark_mode_on,contract_info:this.contract_info,in_contract_details:!0}))}))),(0,o.isOpen)(e)?(0,o.getAccuBarriersDefaultTimeout)(_):0),void(this.cached_barriers_data={current_spot_high_barrier:s,current_spot_low_barrier:c,high_barrier:l,low_barrier:g,status:d})):void(this.barriers_array=this.createBarriersArray(_t(_t({},e),{},{high_barrier:this.accu_high_barrier,low_barrier:this.accu_low_barrier}),t))}if(this.barriers_array.length){if(e){if(1===this.barriers_array.length&&(0,o.isResetContract)(e.contract_type)&&e.reset_time)return void(this.barriers_array=this.createBarriersArray(e,t));(0,o.isBarrierSupported)(a)&&(i||l)&&!(0,o.isResetContract)(e.contract_type)&&(null==b||b.updateBarriers(i||l,g)),(0,o.isBarrierSupported)(a)&&!(0,o.isSmartTraderContract)(a)&&(null==b||b.updateColor({barrier_color:e.profit>=0?o.BARRIER_COLORS.GREEN:o.BARRIER_COLORS.RED})),e.contract_id&&e.contract_id===this.root_store.contract_replay.contract_id&&(0,o.setLimitOrderBarriers)({barriers:this.barriers_array,contract_info:e,contract_type:a,is_over:!e.sell_time})}}else this.barriers_array=this.createBarriersArray(e,t)}clearContractUpdateConfigValues(){Object.assign(this,(0,o.getContractUpdateConfig)(this.contract_info)),this.validation_errors.contract_update_stop_loss=[],this.validation_errors.contract_update_take_profit=[]}onChange(e){let{name:t,value:n}=e;this[t]=n,this.validateProperty(t,this[t])}updateLimitOrder(){const e=(0,o.isAccumulatorContract)(this.contract_info.contract_type)||(0,o.isTurbosContract)(this.contract_info.contract_type)?{take_profit:(0,o.getLimitOrder)(this).take_profit}:(0,o.getLimitOrder)(this);0!==Object.keys(e).length&&o.WS.contractUpdate(this.contract_id,e).then((e=>{e.error?this.root_store.common.setServicesError(_t({type:e.msg_type},e.error),(0,o.isDtraderV2MobileEnabled)(this.root_store.ui.is_mobile)||(0,o.isDtraderV2DesktopEnabled)(this.root_store.ui.is_desktop)):(this.populateContractUpdateConfig(e),this.root_store.ui.is_history_tab_active&&o.WS.contractUpdateHistory(this.contract_id).then(this.populateContractUpdateHistory),this.root_store.portfolio.populateContractUpdate(e,this.contract_id))}))}getContractsArray(){return this.accumulator_marker?[this.accumulator_marker]:[]}}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ht(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class At extends F{constructor(e){super(e),this.chart_state="",this.contract_store={contract_info:{}},this.is_market_closed=!1,this.is_sell_requested=!1,this.has_error=!1,this.error_message="",this.error_code="",this.is_chart_loading=!0,this.is_chart_scaling=!1,this.is_forward_starting=!1,this.margin=void 0,this.contract_id=void 0,this.contract_info=r.observable.object({}),this.is_static_chart=!1,this.is_ongoing_contract=!1,this.contract_update=r.observable.object({}),this.should_forget_first=!1,this.handleSubscribeProposalOpenContract=async(e,t)=>{await o.WS.storage.has({proposal_open_contract:1,contract_id:e})?o.WS.storage.proposalOpenContract({contract_id:e}).then(t):(this.should_forget_first&&(await o.WS.forgetAll("proposal_open_contract"),this.should_forget_first=!1),this.subscriber=o.WS.subscribeProposalOpenContract(e,t))},this.subscribeProposalOpenContract=()=>{var e;null===o.WS||void 0===o.WS||null===(e=o.WS.wait("authorize"))||void 0===e||e.then((()=>{this.handleSubscribeProposalOpenContract(this.contract_id,this.populateConfig)}))},this.forgetProposalOpenContract=()=>{this.subscriber&&(this.subscriber.unsubscribe(),delete this.subscriber)},this.setAccountSwitcherListener=(e,t)=>{this.onSwitchAccount((()=>this.accountSwitcherListener(e,t)))},this.accountSwitcherListener=(e,t)=>(this.has_error?(this.removeErrorMessage(),this.onMount(e)):this.root_store.common.is_language_changing||t.push(o.routes.reports),Promise.resolve()),this.removeAccountSwitcherListener=()=>{this.disposeSwitchAccount()},(0,r.makeObservable)(this,{chart_state:r.observable,contract_store:r.observable,is_market_closed:r.observable,is_sell_requested:r.observable,has_error:r.observable,error_message:r.observable,error_code:r.observable,is_chart_loading:r.observable,is_chart_scaling:r.observable,is_forward_starting:r.observable,margin:r.observable,contract_id:r.observable,contract_info:r.observable.ref,is_static_chart:r.observable,contract_update:r.observable.ref,onMount:r.action.bound,onUnmount:r.override,populateConfig:r.action.bound,updateMargin:r.action.bound,chartStateChange:r.action.bound,onClickCancel:r.action.bound,onClickSell:r.action.bound,handleSell:r.action.bound,removeErrorMessage:r.action.bound}),this.root_store=e}onMount(e){e&&(this.contract_id=e,this.contract_store=new bt(this.root_store,{contract_id:e}),this.subscribeProposalOpenContract(),o.WS.setOnReconnect((()=>{this.root_store.client.is_switching||this.subscribeProposalOpenContract()})))}onUnmount(){this.forgetProposalOpenContract(this.contract_id,this.populateConfig),this.contract_id=null,this.is_ongoing_contract=!1,this.is_static_chart=!1,this.is_chart_loading=!0,this.contract_info={},this.chart_state="",this.root_store.ui.toggleHistoryTab(!1),o.WS.removeOnReconnect()}populateConfig(e){if("error"in e){const{code:t,message:n}=e.error;return this.has_error=!0,this.is_chart_loading=!1,this.error_message=n,void(this.error_code=t)}if((0,o.isEmptyObject)(e.proposal_open_contract))return this.has_error=!0,this.error_message=(0,I.localize)("Sorry, you can't view this contract because it doesn't belong to this account."),this.should_forget_first=!0,void(this.is_chart_loading=!1);if(+e.proposal_open_contract.contract_id!==this.contract_id)return;this.contract_info=e.proposal_open_contract,this.contract_update=e.proposal_open_contract.limit_order;const t=!!this.contract_info.is_forward_starting||(0,o.isForwardStarting)(this.contract_info.shortcode,this.contract_info.purchase_time);this.is_forward_starting=t,this.contract_store.populateConfig(this.contract_info);const n=this.contract_store.end_time;this.updateMargin((n||this.contract_info.date_expiry)-this.contract_info.date_start),n||(this.is_ongoing_contract=!0),n&&(this.is_ongoing_contract?this.is_static_chart=!1:this.is_static_chart=!0),this.contract_info.is_sold&&this.contract_store.cacheProposalOpenContractResponse(e)}updateMargin(e){const t=this.contract_store.contract_config.granularity;this.margin=Math.floor(t?3*t:Math.max(300,30*e/3600||0))}chartStateChange(e,t){this.chart_state=e;const n="isClosed";switch(e){case"INITIAL":this.is_chart_scaling=!1,this.is_chart_loading||(this.is_chart_loading=!0);break;case"READY":setTimeout((0,r.action)((()=>this.is_chart_scaling=!0)),10);break;case"SCROLL_TO_LEFT":setTimeout((0,r.action)((()=>{this.is_chart_loading=!1})),20);break;case"MARKET_STATE_CHANGE":t&&n in t&&(this.is_market_closed=t[n])}}onClickCancel(e){e&&o.WS.cancelContract(e).then((e=>{e.error?this.root_store.common.setServicesError(ht({type:e.msg_type},e.error),(0,o.isDtraderV2MobileEnabled)(this.root_store.ui.is_mobile)||(0,o.isDtraderV2DesktopEnabled)(this.root_store.ui.is_desktop)):this.root_store.notifications.addNotificationMessage((0,o.contractCancelled)())}))}onClickSell(e){const{bid_price:t}=this.contract_info;e&&(t||0===t)&&(this.is_sell_requested=!0,o.WS.sell(e,t).then(this.handleSell))}handleSell(e){e.error?(this.is_sell_requested=!1,this.root_store.common.setServicesError(ht({type:e.msg_type},e.error),(0,o.isDtraderV2MobileEnabled)(this.root_store.ui.is_mobile)||(0,o.isDtraderV2DesktopEnabled)(this.root_store.ui.is_desktop))):!e.error&&e.sell&&(this.is_sell_requested=!1,this.sell_info={sell_price:e.sell.sold_for,transaction_id:e.sell.transaction_id},this.root_store.notifications.addNotificationMessage((0,o.contractSold)(this.root_store.client.currency,e.sell.sold_for,ne.Money)),b.Analytics.trackEvent("ce_reports_form",{action:"close_contract",form_name:"default",subform_name:"contract_details_form"}))}removeErrorMessage(){this.error_message="",this.has_error=!1}}function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){ft(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ft(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Bt extends F{constructor(e){super({root_store:e}),this.contracts=[],this.contracts_map={},this.has_error=!1,this.error_message="",this.granularity=+o.LocalStore.get("contract_trade.granularity")||0,this.chart_type=o.LocalStore.get("contract_trade.chart_style")||"line",this.prev_chart_type="",this.prev_granularity=null,this.accu_barriers_timeout_id=null,this.accumulator_barriers_data={},this.accumulator_contract_barriers_data={},this.applicable_contracts=()=>{const{contract_type:e,symbol:t}=JSON.parse(sessionStorage.getItem("trade_store"))||{};if(!e||!t)return[];let{trade_types:n}=(0,o.getContractTypesConfig)()[e];const r=(0,o.isCallPut)(e);return r?n=[o.CONTRACT_TYPES.CALLE,o.CONTRACT_TYPES.PUTE,o.CONTRACT_TYPES.CALL,o.CONTRACT_TYPES.PUT]:(0,o.isTurbosContract)(e)?n=[o.CONTRACT_TYPES.TURBOS.LONG,o.CONTRACT_TYPES.TURBOS.SHORT]:(0,o.isVanillaContract)(e)&&(n=[o.CONTRACT_TYPES.VANILLA.CALL,o.CONTRACT_TYPES.VANILLA.PUT]),this.contracts.filter((e=>e.contract_info.underlying===t)).filter((e=>{const t=e.contract_info;return!((0,o.isMultiplierContract)(t.contract_type)&&(0,o.isEnded)(e.contract_info))})).filter((t=>{const i=t.contract_info,a=-1!==n.indexOf(i.contract_type);return a&&r&&(i.barrier&&i.entry_tick||i.shortcode)?""+ +i.entry_tick!=""+ +i.barrier||(0,o.isHighLow)(i)?e===o.TRADE_TYPES.HIGH_LOW:e===o.TRADE_TYPES.RISE_FALL||e===o.TRADE_TYPES.RISE_FALL_EQUAL:a}))},(0,r.makeObservable)(this,{accu_barriers_timeout_id:r.observable,accumulator_barriers_data:r.observable.struct,accumulator_contract_barriers_data:r.observable.struct,clearAccumulatorBarriersData:r.action.bound,contracts:r.observable.shallow,has_crossed_accu_barriers:r.computed,has_error:r.observable,error_message:r.observable,granularity:r.observable,chart_type:r.observable,updateAccumulatorBarriersData:r.action.bound,updateChartType:r.action.bound,updateGranularity:r.action.bound,markers_array:r.computed,filtered_contracts:r.computed,addContract:r.action.bound,removeContract:r.action.bound,accountSwitchListener:r.action.bound,onUnmount:r.override,prev_chart_type:r.observable,prev_granularity:r.observable,updateProposal:r.action.bound,last_contract:r.computed,clearError:r.action.bound,getContractById:r.action.bound,prev_contract:r.computed,savePreviousChartMode:r.action.bound,setNewAccumulatorBarriersData:r.action.bound}),this.root_store=e,this.onSwitchAccount(this.accountSwitchListener),(0,r.reaction)((()=>this.last_contract.contract_info),(()=>{var e;if(!(0,o.isAccumulatorContract)(null===(e=this.last_contract.contract_info)||void 0===e?void 0:e.contract_type))return;const{barrier_spot_distance:t,current_spot:n,current_spot_time:r,current_spot_high_barrier:i,current_spot_low_barrier:a,is_sold:s,underlying:c}=this.last_contract.contract_info||{};n&&i&&!s?this.updateAccumulatorBarriersData({barrier_spot_distance:t,current_spot_time:r,accumulators_high_barrier:i,accumulators_low_barrier:a,should_update_contract_barriers:!0,underlying:c}):(0,o.isAccumulatorContractOpen)(this.last_contract.contract_info)||this.clearAccumulatorBarriersData(!0,!1)}))}clearAccumulatorBarriersData(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.accu_barriers_timeout_id&&t&&clearTimeout(this.accu_barriers_timeout_id),(0,o.isAccumulatorContractOpen)(this.last_contract.contract_info)||(this.accumulator_contract_barriers_data={}),e||(this.accumulator_barriers_data={})}setNewAccumulatorBarriersData(e,t){t?this.accumulator_contract_barriers_data=yt(yt({},this.accumulator_contract_barriers_data),e):this.accumulator_barriers_data=yt(yt({},this.accumulator_barriers_data),e)}updateAccumulatorBarriersData(e){let{accumulators_high_barrier:t,accumulators_low_barrier:n,barrier_spot_distance:i,current_spot:a,current_spot_time:s,prev_spot_time:c,should_update_contract_barriers:l,underlying:g}=e;if(a){const e=null!=c?c:this.accumulator_barriers_data.current_spot_time;if(s===e)return;const t={current_spot:a,current_spot_time:s,ticks_history_prev_spot_time:e,tick_update_timestamp:Date.now()};return this.setNewAccumulatorBarriersData(t,!0),void this.setNewAccumulatorBarriersData(t)}const d={accumulators_high_barrier:t,accumulators_low_barrier:n,barrier_spot_distance:i,should_update_contract_barriers:l,proposal_prev_spot_time:s};if(this.accumulator_barriers_data.current_spot_time&&this.accumulator_barriers_data.current_spot_time!==s&&!this.accumulator_barriers_data.accumulators_high_barrier||Object.keys(d).every((e=>l?this.accumulator_contract_barriers_data[e]===d[e]:this.accumulator_barriers_data[e]===d[e])))return;const u=l?this.accumulator_contract_barriers_data.tick_update_timestamp:this.accumulator_barriers_data.tick_update_timestamp;if(document.hidden)return clearTimeout(this.accu_barriers_timeout_id),void this.setNewAccumulatorBarriersData(d,l);this.accu_barriers_timeout_id=setTimeout((()=>{(0,r.runInAction)((()=>{this.setNewAccumulatorBarriersData(d,l)}))}),(0,o.getAccuBarriersDTraderTimeout)({barriers_update_timestamp:Date.now(),has_default_timeout:this.accumulator_barriers_data.current_spot_time!==s,tick_update_timestamp:u,underlying:g}))}updateChartType(e){o.LocalStore.set("contract_trade.chart_style",e),this.chart_type=e,(0,o.setTradeURLParams)({chartType:this.chart_type})}updateGranularity(e){0===e&&-1===["line","candles","hollow","ohlc"].indexOf(this.chart_type)&&(this.chart_type="line"),o.LocalStore.set("contract_trade.granularity",e),this.granularity=e,0===this.granularity&&this.root_store.notifications.removeNotificationMessage(o.switch_to_tick_chart),(0,o.setTradeURLParams)({granularity:this.granularity})}savePreviousChartMode(e,t){this.prev_chart_type=e,this.prev_granularity=t}get has_crossed_accu_barriers(){const{symbol:e}=JSON.parse(sessionStorage.getItem("trade_store"))||{},{current_spot:t,entry_spot:n,underlying:r}=this.last_contract.contract_info||{},{accumulators_high_barrier:i,accumulators_low_barrier:a,current_spot:s,proposal_prev_spot_time:c,ticks_history_prev_spot_time:l}=((0,o.isAccumulatorContractOpen)(this.last_contract.contract_info)?this.accumulator_contract_barriers_data:this.accumulator_barriers_data)||{},g=n&&n!==t&&r===e;return!(!(s&&i&&a&&(s>=i||s<=a))||!(l&&l===c)||(0,o.isAccumulatorContractOpen)(this.last_contract.contract_info)&&!g)}get filtered_contracts(){return this.applicable_contracts()}get markers_array(){var e;let t=[];const{contract_type:n}=JSON.parse(sessionStorage.getItem("trade_store"))||{};t=this.applicable_contracts().map((e=>e.marker)).filter((e=>e)).map((e=>(0,r.toJS)(e)));const{current_spot_time:i,entry_tick_time:a,exit_tick_time:s}=this.last_contract.contract_info||{},c=a&&a!==i||s&&i<=s,{accumulators_high_barrier:l,accumulators_low_barrier:g,barrier_spot_distance:d,proposal_prev_spot_time:u}=(0,o.isAccumulatorContractOpen)(this.last_contract.contract_info)&&c&&(null===(e=this.accumulator_contract_barriers_data)||void 0===e?void 0:e.accumulators_high_barrier)&&this.accumulator_contract_barriers_data||this.accumulator_barriers_data||{};if(n===o.TRADE_TYPES.ACCUMULATOR&&u&&l){const e=(0,o.isAccumulatorContractOpen)(this.last_contract.contract_info);t.push(dt({high_barrier:l,low_barrier:g,barrier_spot_distance:d,prev_epoch:u,has_crossed_accu_barriers:this.has_crossed_accu_barriers,is_dark_theme:this.root_store.ui.is_dark_mode_on,contract_info:e?this.last_contract.contract_info:{},is_accumulator_trade_without_contract:!e||!a}))}return t}addContract(e){let{barrier:t,contract_id:n,contract_type:r,start_time:i,longcode:a,underlying:s,is_tick_contract:c,limit_order:l={}}=e;const g=this.contracts_map[n];if(g)return void(this.contracts.every((e=>e.contract_id!==n))&&this.contracts.push(g));const d=n===this.last_contract.contract_id,u=new bt(this.root_store,{contract_id:n});u.populateConfig({date_start:i,barrier:t,contract_type:r,longcode:a,underlying:s,limit_order:l},d),this.contracts.push(u),this.contracts_map[n]=u,c&&!this.root_store.portfolio.is_multiplier&&0!==this.granularity&&(0,o.isDesktop)()&&this.root_store.notifications.addNotificationMessage(o.switch_to_tick_chart)}removeContract(e){let{contract_id:t}=e;this.contracts=this.contracts.filter((e=>e.contract_id!==t)),delete this.contracts_map[t]}accountSwitchListener(){return this.has_error&&this.clearError(),Promise.resolve()}onUnmount(){this.disposeSwitchAccount()}updateProposal(e){if("error"in e)return this.has_error=!0,void(this.error_message=e.error.message);if(e.proposal_open_contract){const t=+e.proposal_open_contract.contract_id,n=this.contracts_map[t],r=t===this.last_contract.contract_id;n.populateConfig(e.proposal_open_contract,r),e.proposal_open_contract.is_sold&&(this.root_store.notifications.removeNotificationMessage(o.switch_to_tick_chart),n.cacheProposalOpenContractResponse(e))}}get last_contract(){var e;const t=this.applicable_contracts(),n=null!==(e=this.contracts[0])&&void 0!==e&&e.contract_info.current_spot_time?t.length:-1;return n>0?t[n-1]:{}}get prev_contract(){var e;const t=this.applicable_contracts();return t[(null!==(e=this.contracts[0])&&void 0!==e&&e.contract_info.current_spot_time?t.length:-1)-2]}clearError(){this.error_message="",this.has_error=!1}getContractById(e){return this.contracts_map[e]||this.root_store.contract_replay.contract_store}}function vt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){Qt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class xt extends F{constructor(e){super({root_store:e,local_storage_properties:["available_platforms","selected_region","is_cfd_restricted_country","is_financial_restricted_country"],store_name:"traders_hub_store"}),this.available_platforms=[],this.available_cfd_accounts=[],this.available_mt5_accounts=[],this.available_dxtrade_accounts=[],this.available_ctrader_accounts=[],this.combined_cfd_mt5_accounts=[],this.selected_account_type=void 0,this.selected_region=void 0,this.is_onboarding_visited=!1,this.is_first_time_visit=!0,this.is_verification_docs_list_modal_visible=!1,this.is_regulators_compare_modal_visible=!1,this.account_type_card="",this.selected_platform_type="options",this.modal_data={active_modal:"",data:{}},this.selected_jurisdiction_kyc_status={},this.is_account_transfer_modal_open=!1,this.selected_account={},this.is_real_wallets_upgrade_on=!1,this.is_wallet_migration_failed=!1,this.active_modal_tab=void 0,this.active_modal_wallet_id=void 0,this.is_cfd_restricted_country=!1,this.is_financial_restricted_country=!1,this.is_setup_real_account_or_go_to_demo_modal_visible=!1,this.getServerName=e=>{if(e){var t;const o=null===(t=e.server_info)||void 0===t||null===(t=t.geolocation)||void 0===t?void 0:t.region;var n,r;if(o)return`${o} ${1===(null==e||null===(n=e.server_info)||void 0===n||null===(n=n.geolocation)||void 0===n?void 0:n.sequence)?"":null==e||null===(r=e.server_info)||void 0===r||null===(r=r.geolocation)||void 0===r?void 0:r.sequence}`}return""},this.hasMultipleSVGAccounts=()=>{const e=[];return this.combined_cfd_mt5_accounts.map((t=>{"svg"===t.landing_company_short&&"synthetic"===t.market_type&&(e.length?e.forEach((n=>(n.server!==t.server&&e.push(t),e))):e.push(t))})),e.length>1},(0,r.makeObservable)(this,{account_type_card:r.observable,available_cfd_accounts:r.observable,available_dxtrade_accounts:r.observable,available_ctrader_accounts:r.observable,available_mt5_accounts:r.observable,available_platforms:r.observable,combined_cfd_mt5_accounts:r.observable,is_account_transfer_modal_open:r.observable,is_regulators_compare_modal_visible:r.observable,is_verification_docs_list_modal_visible:r.observable,modal_data:r.observable,is_onboarding_visited:r.observable,is_first_time_visit:r.observable,selected_account:r.observable,selected_jurisdiction_kyc_status:r.observable,selected_account_type:r.observable,selected_platform_type:r.observable,active_modal_tab:r.observable,active_modal_wallet_id:r.observable,selected_region:r.observable,is_real_wallets_upgrade_on:r.observable,is_wallet_migration_failed:r.observable,is_cfd_restricted_country:r.observable,is_financial_restricted_country:r.observable,is_setup_real_account_or_go_to_demo_modal_visible:r.observable,closeModal:r.action.bound,content_flag:r.computed,getAccount:r.action.bound,getAvailableCFDAccounts:r.action.bound,getAvailableDxtradeAccounts:r.action.bound,getAvailableCTraderAccounts:r.action.bound,setSelectedJurisdictionKYCStatus:r.action.bound,getExistingAccounts:r.action.bound,getMT5AccountKYCStatus:r.action.bound,handleTabItemClick:r.action.bound,setWalletModalActiveTab:r.action.bound,setWalletModalActiveWalletID:r.action.bound,has_any_real_account:r.computed,is_demo_low_risk:r.computed,is_demo:r.computed,is_eu_selected:r.computed,is_real:r.computed,is_low_risk_cr_eu_real:r.computed,no_CR_account:r.computed,no_MF_account:r.computed,CFDs_restricted_countries:r.computed,financial_restricted_countries:r.computed,openDemoCFDAccount:r.action.bound,openModal:r.action.bound,openRealAccount:r.action.bound,selectAccountType:r.action.bound,selectAccountTypeCard:r.action.bound,switchToCRAccount:r.action.bound,selectRegion:r.action.bound,setCombinedCFDMT5Accounts:r.action.bound,setSelectedAccount:r.action.bound,setTogglePlatformType:r.action.bound,should_show_exit_traders_modal:r.computed,show_eu_related_content:r.computed,startTrade:r.action.bound,toggleAccountTransferModal:r.action.bound,closeAccountTransferModal:r.action.bound,setIsOnboardingVisited:r.action.bound,setIsFirstTimeVisit:r.action.bound,setVerificationModalOpen:r.action.bound,toggleRegulatorsCompareModal:r.action.bound,showTopUpModal:r.action.bound,toggleWalletsUpgrade:r.action.bound,setWalletsMigrationFailedPopup:r.action.bound,cleanup:r.action.bound,setIsCFDRestrictedCountry:r.action.bound,setIsFinancialRestrictedCountry:r.action.bound,setIsSetupRealAccountOrGoToDemoModalVisible:r.action.bound,getDefaultJurisdiction:r.action.bound}),(0,r.reaction)((()=>{var e;return[this.selected_account_type,this.selected_region,this.root_store.client.is_switching,this.root_store.client.mt5_login_list,this.root_store.client.dxtrade_accounts_list,this.root_store.client.ctrader_accounts_list,this.root_store.client.is_landing_company_loaded,this.root_store.client.trading_platform_available_accounts,this.root_store.client.is_trading_platform_available_account_loaded,this.is_demo_low_risk,null===(e=this.root_store.modules)||void 0===e||null===(e=e.cfd)||void 0===e?void 0:e.current_list,this.root_store.client.landing_companies,this.root_store.common.current_language,this.financial_restricted_countries]}),(()=>{this.getAvailablePlatforms(),this.getAvailableCFDAccounts()})),(0,r.reaction)((()=>[this.selected_region,this.root_store.client.is_landing_company_loaded,this.root_store.client.loginid]),(()=>{"real"===this.selected_account_type&&this.setSwitchEU()})),(0,r.reaction)((()=>[this.root_store.client.loginid,this.root_store.client.residence]),(()=>{const e=this.root_store.client.residence,t=/^VRT|VRW/.test(this.root_store.client.loginid),n=/^MF|MFW/.test(this.root_store.client.loginid);this.selected_account_type=/^VRT|VRW/.test(this.root_store.client.loginid)?"demo":"real",this.selected_region=(t||n)&&(0,U.isEuCountry)(e)||n?"EU":"Non-EU"}))}async setSwitchEU(){var e,t;const{account_list:n,switchAccount:r,loginid:o,setIsLoggingIn:i}=this.root_store.client,a=null===(e=n.find((e=>{var t;return null===(t=e.loginid)||void 0===t?void 0:t.startsWith("MF")})))||void 0===e?void 0:e.loginid,s=null===(t=n.find((e=>{var t;return null===(t=e.loginid)||void 0===t?void 0:t.startsWith("CR")})))||void 0===t?void 0:t.loginid;"EU"!==this.selected_region||null!=o&&o.startsWith("MF")?"Non-EU"!==this.selected_region||null!=o&&o.startsWith("CR")||await r(s).then((()=>{i(!1)})):await r(a).then((()=>{i(!1)}))}setWalletModalActiveTab(e){this.active_modal_tab=e}setWalletModalActiveWalletID(e){this.active_modal_wallet_id=e}setIsCFDRestrictedCountry(e){this.is_cfd_restricted_country=e}setSelectedJurisdictionKYCStatus(e){this.selected_jurisdiction_kyc_status=e}setIsFinancialRestrictedCountry(e){this.is_financial_restricted_country=e}get no_MF_account(){const{has_maltainvest_account:e}=this.root_store.client;return"EU"===this.selected_region&&!e}get no_CR_account(){const{active_accounts:e}=this.root_store.client;return!e.some((e=>"svg"===e.landing_company_shortcode))&&"Non-EU"===this.selected_region}setSelectedAccount(e){this.selected_account=e}async selectAccountType(e){const{account_list:t,switchAccount:n,prev_real_account_loginid:r,has_active_real_account:i}=this.root_store.client;var a;if("demo"===e)await n(null===(a=t.find((e=>e.is_virtual&&!e.is_disabled)))||void 0===a?void 0:a.loginid);else if("real"===e){var s;if(i||this.content_flag!==o.ContentFlag.EU_DEMO?i||this.root_store.ui.openRealAccountSignup("svg"):this.root_store.client.real_account_creation_unlock_date?this.root_store.ui.setShouldShowCooldownModal(!0):this.root_store.ui.openRealAccountSignup("maltainvest"),r)await n(r);else await n(null===(s=t.find((e=>!e.is_virtual&&!e.is_disabled)))||void 0===s?void 0:s.loginid)}this.selected_account_type=i?e:"demo"}async switchToCRAccount(){const{account_list:e,switchAccount:t,prev_real_account_loginid:n}=this.root_store.client;var r;n&&!n.startsWith("MF")?await t(n):await t(null===(r=e.find((e=>!e.is_virtual&&!e.is_disabled&&!e.loginid.startsWith("MF"))))||void 0===r?void 0:r.loginid);this.selected_account_type="real",this.selected_region="Non-EU"}selectAccountTypeCard(e){this.account_type_card=e}selectRegion(e){this.selected_region=e}get is_demo_low_risk(){const{is_landing_company_loaded:e}=this.root_store.client;if(e){const{financial_company:e,gaming_company:t}=this.root_store.client.landing_companies;return this.content_flag===o.ContentFlag.CR_DEMO&&"maltainvest"===(null==e?void 0:e.shortcode)&&"svg"===(null==t?void 0:t.shortcode)}return!1}get content_flag(){const{is_logged_in:e,landing_companies:t,residence:n,is_landing_company_loaded:r}=this.root_store.client;if(r){const{financial_company:r,gaming_company:i}=t,a="svg"===(null==r?void 0:r.shortcode)||"svg"===(null==i?void 0:i.shortcode);if(!e)return"";if(!(null!=i&&i.shortcode||"maltainvest"!==(null==r?void 0:r.shortcode)))return this.is_demo?o.ContentFlag.EU_DEMO:o.ContentFlag.EU_REAL;if("maltainvest"===(null==r?void 0:r.shortcode)&&"svg"===(null==i?void 0:i.shortcode)&&this.is_real)return this.is_eu_user?o.ContentFlag.LOW_RISK_CR_EU:o.ContentFlag.LOW_RISK_CR_NON_EU;if(("svg"===(null==r?void 0:r.shortcode)&&"svg"===(null==i?void 0:i.shortcode)||a)&&this.is_real)return o.ContentFlag.HIGH_RISK_CR;if((0,U.isEuCountry)(n))return this.is_demo?o.ContentFlag.EU_DEMO:o.ContentFlag.EU_REAL;if(this.is_demo)return o.ContentFlag.CR_DEMO}return this.is_eu_user?o.ContentFlag.LOW_RISK_CR_EU:o.ContentFlag.LOW_RISK_CR_NON_EU}get show_eu_related_content(){return[o.ContentFlag.EU_DEMO,o.ContentFlag.EU_REAL,o.ContentFlag.LOW_RISK_CR_EU].includes(this.content_flag)}get is_low_risk_cr_eu_real(){return[o.ContentFlag.LOW_RISK_CR_EU,o.ContentFlag.EU_REAL].includes(this.content_flag)}getAvailablePlatforms(){if(!this.root_store.client.is_landing_company_loaded)return this.available_platforms;const e=(0,o.getAppstorePlatforms)();!this.financial_restricted_countries&&!this.is_eu_user||this.is_demo_low_risk?"Non-EU"===this.selected_region&&!this.financial_restricted_countries||this.is_demo_low_risk?this.available_platforms=e.filter((e=>["Non-EU","All"].some((t=>t===e.availability)))):this.available_platforms=e:this.available_platforms=e.filter((e=>["EU","All"].some((t=>t===e.availability))))}setIsOnboardingVisited(e){this.is_onboarding_visited=e}setIsFirstTimeVisit(e){this.is_first_time_visit=e}get is_eu_selected(){return"EU"===this.selected_region}get should_show_exit_traders_modal(){const e=[o.ContentFlag.LOW_RISK_CR_EU,o.ContentFlag.LOW_RISK_CR_NON_EU,o.ContentFlag.CR_DEMO].includes(this.content_flag),{active_accounts:t}=this.root_store.client;return e&&t.some((e=>"maltainvest"===e.landing_company_shortcode))}toggleRegulatorsCompareModal(){this.is_regulators_compare_modal_visible=!this.is_regulators_compare_modal_visible}get has_any_real_account(){return"real"===this.selected_account_type&&this.root_store.client.has_active_real_account}setTogglePlatformType(e){this.selected_platform_type=e}getAvailableCFDAccounts(){const{trading_platform_available_accounts:e,mt5_login_list:t,landing_company_shortcode:n,is_logged_in:r,is_trading_platform_available_account_loaded:i}=this.root_store.client,a=[{name:"Standard",description:(0,I.localize)("CFDs on derived and financial instruments."),platform:o.CFD_PLATFORMS.MT5,market_type:"synthetic",product:"standard",icon:"Standard",availability:"Non-EU"},{name:!this.is_eu_user||this.is_demo_low_risk?"Financial":"CFDs",description:(()=>!this.is_eu_user||this.is_demo_low_risk?(0,I.localize)("CFDs on financial instruments."):(0,I.localize)("CFDs on derived and financial instruments."))(),platform:o.CFD_PLATFORMS.MT5,market_type:"financial",product:"financial",icon:!this.is_eu_user||this.is_demo_low_risk?"Financial":"CFDs",availability:"All"},...this.is_real?[{name:"Financial STP",description:(0,I.localize)("Direct access to market prices."),platform:o.CFD_PLATFORMS.MT5,market_type:"financial",product:o.PRODUCT.STP,icon:"Financial",availability:"Non-EU"}]:[],{name:"Swap-Free",description:(0,I.localize)("Swap-free CFDs on selected financial and derived instruments."),platform:o.CFD_PLATFORMS.MT5,market_type:"all",product:"swap_free",icon:"SwapFree",availability:"Non-EU"},{name:(0,I.localize)("Zero Spread"),description:(0,I.localize)("Zero spread CFDs on financial and derived instruments"),platform:o.CFD_PLATFORMS.MT5,market_type:"all",product:"zero_spread",icon:"ZeroSpread",availability:"Non-EU"},{name:(0,I.localize)("Gold"),description:(0,I.localize)("Trading opportunities on popular precious metals."),platform:o.CFD_PLATFORMS.MT5,market_type:"financial",product:"gold",icon:"Gold",availability:"Non-EU"}],s=e.reduce(((e,t)=>{const{product:r,is_default_jurisdiction:o,linkable_landing_companies:i}=t;return this.is_demo||this.no_CR_account&&!this.is_eu_user?("true"===o||e[r]&&e[r].some((e=>"true"===e.is_default_jurisdiction)))&&(e[r]||(e[r]=[]),e[r].push(t)):(i.includes(n)&&"true"===o||e[r]&&e[r].some((e=>"true"===e.is_default_jurisdiction)))&&(e[r]||(e[r]=[]),e[r].push(t)),e}),{}),c=[...(0,o.getCFDAvailableAccount)(),...(()=>{if(r&&this.content_flag===o.ContentFlag.LOW_RISK_CR_EU){const e=t.filter((e=>e.landing_company_short===n));return e.length?a.filter((t=>t.product===e[0].product)):[]}return r&&i?a.filter((e=>Object.prototype.hasOwnProperty.call(s,e.product))):a})()];this.available_cfd_accounts=c.map((e=>Ft(Ft({},e),{},{description:e.description,tracking_name:e.name,name:(0,I.localize)(e.name),product:e.product}))),this.getAvailableDxtradeAccounts(),this.getAvailableCTraderAccounts(),this.getAvailableMt5Accounts(),this.setCombinedCFDMT5Accounts()}get financial_restricted_countries(){const{financial_company:e,gaming_company:t}=this.root_store.client.landing_companies,n=this.is_financial_restricted_country||"svg"===(null==e?void 0:e.shortcode)&&!t;return this.setIsFinancialRestrictedCountry(n),n}get CFDs_restricted_countries(){const{financial_company:e,gaming_company:t}=this.root_store.client.landing_companies,n=this.is_cfd_restricted_country||"svg"===(null==t?void 0:t.shortcode)&&!e;return this.setIsCFDRestrictedCountry(n),n}getAvailableMt5Accounts(){!this.is_eu_user||this.is_demo_low_risk||this.root_store.client.is_logged_in?this.financial_restricted_countries?this.available_mt5_accounts=this.available_cfd_accounts.filter((e=>"financial"===e.market_type&&e.platform===o.CFD_PLATFORMS.MT5)):this.CFDs_restricted_countries?this.available_mt5_accounts=this.available_cfd_accounts.filter((e=>"financial"!==e.market_type&&"all"!==e.market_type&&e.platform===o.CFD_PLATFORMS.MT5)):this.available_mt5_accounts=this.available_cfd_accounts.filter((e=>e.platform===o.CFD_PLATFORMS.MT5)):this.available_mt5_accounts=this.available_cfd_accounts.filter((e=>["EU","All"].some((t=>t===e.availability))))}getAvailableDxtradeAccounts(){this.CFDs_restricted_countries||this.financial_restricted_countries?this.available_dxtrade_accounts=[]:!this.is_eu_user||this.is_demo_low_risk?this.available_dxtrade_accounts=this.available_cfd_accounts.filter((e=>e.platform===o.CFD_PLATFORMS.DXTRADE)):this.available_dxtrade_accounts=this.available_cfd_accounts.filter((e=>["EU","All"].some((t=>t===e.availability))&&e.platform===o.CFD_PLATFORMS.DXTRADE))}getAvailableCTraderAccounts(){this.CFDs_restricted_countries||this.financial_restricted_countries?this.available_ctrader_accounts=[]:!this.is_eu_user||this.is_demo_low_risk?this.available_ctrader_accounts=this.available_cfd_accounts.filter((e=>e.platform===o.CFD_PLATFORMS.CTRADER)):this.available_ctrader_accounts=this.available_cfd_accounts.filter((e=>["EU","All"].some((t=>t===e.availability))&&e.platform===o.CFD_PLATFORMS.CTRADER))}getDefaultJurisdiction(){var e;const{trading_platform_available_accounts:t}=this.root_store.client,{product:n}=this.root_store.modules.cfd;return null===(e=t.filter((e=>e.product===n&&"true"===e.is_default_jurisdiction))[0])||void 0===e?void 0:e.shortcode}getExistingAccounts(e,t,n){var r;const{residence:i}=this.root_store.client,a=(null===(r=this.root_store.modules)||void 0===r||null===(r=r.cfd)||void 0===r?void 0:r.current_list)||[],s=Object.keys(a),c=this.selected_account_type;return s.filter((r=>{const s="maltainvest"===a[r].landing_company_short;return n===o.PRODUCT.STP||n===o.PRODUCT.GOLD?r.startsWith(`${e}.${c}.${n}`):e!==o.CFD_PLATFORMS.MT5||"all"===t||this.is_eu_user||s?e===o.CFD_PLATFORMS.MT5&&"all"===t?r.startsWith(`${e}.${c}.${t}_${n}`):e===o.CFD_PLATFORMS.DXTRADE&&"all"===t||e===o.CFD_PLATFORMS.CTRADER&&"all"===t?r.startsWith(`${e}.${c}.${e}@${t}`):e===o.CFD_PLATFORMS.MT5&&(this.is_eu_user||(0,U.isEuCountry)(i))&&s?r.startsWith(`${e}.${c}.${t}`):r.startsWith(`${e}.${c}.${t}@${t}`):r.startsWith(`${e}.${c}.${t}`)})).reduce(((e,t)=>(e.push(a[t]),e)),[])}startTrade(e,t){const{common:n,modules:r}=this.root_store,{toggleMT5TradeModal:o,setMT5TradeAccount:i}=r.cfd,{setAppstorePlatform:a}=n;a(e),o(),i(t)}get is_demo(){return"demo"===this.selected_account_type}get is_real(){return"real"===this.selected_account_type}get is_eu_user(){return"EU"===this.selected_region}handleTabItemClick(e){this.selected_region=0===e?"Non-EU":"EU"}async openDemoCFDAccount(e,t){const{modules:n}=this.root_store,{createCFDAccount:r,enableCFDPasswordModal:i}=n.cfd;t!==o.CFD_PLATFORMS.CTRADER?i():await r(Ft(Ft({},e),{},{platform:t}))}async openRealAccount(e,t){const{client:n,modules:r}=this.root_store,{has_active_real_account:i}=n,{createCFDAccount:a,enableCFDPasswordModal:s}=r.cfd;var c;(await this.getMT5AccountKYCStatus(),i&&t===o.CFD_PLATFORMS.MT5)?this.selected_jurisdiction_kyc_status&&null!==(c=Object.keys(this.selected_jurisdiction_kyc_status))&&void 0!==c&&c.length?this.setVerificationModalOpen(!0):s():t===o.CFD_PLATFORMS.DXTRADE?s():await a(Ft(Ft({},e),{},{platform:t}))}openModal(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.modal_data={active_modal:e,data:t}}closeModal(){this.modal_data={active_modal:"",data:{}}}selectRealLoginid(e){const{accounts:t}=this.root_store.client;Object.keys(t).includes(e)&&(this.selected_loginid=e)}getAccount(){const{modules:e,common:t}=this.root_store,{account_type:n}=e.cfd,{platform:r}=t;this.is_demo?this.openDemoCFDAccount(n,r):this.openRealAccount(n,r)}getShortCodeAndRegion(e){let t;if(this.is_real&&!this.is_eu_user){var n,r,o;const i=e.landing_company_short&&"svg"!==e.landing_company_short&&"bvi"!==e.landing_company_short&&"dml"!==e.landing_company_short?(null===(n=e.landing_company_short)||void 0===n?void 0:n.charAt(0).toUpperCase())+(null===(r=e.landing_company_short)||void 0===r?void 0:r.slice(1)):null===(o=e.landing_company_short)||void 0===o?void 0:o.toUpperCase();let a="";this.hasMultipleSVGAccounts()&&(a="financial"!==e.market_type&&"bvi"!==e.landing_company_short?` - ${this.getServerName(e)}`:""),t=`${i}${a}`}return t}setCombinedCFDMT5Accounts(){var e;this.combined_cfd_mt5_accounts=[],null===(e=this.available_mt5_accounts)||void 0===e||e.forEach((e=>{const t=this.getExistingAccounts(e.platform,e.market_type,e.product);t.length>0?t.forEach((t=>{this.combined_cfd_mt5_accounts=[...this.combined_cfd_mt5_accounts,Ft(Ft({},t),{},{icon:e.icon,sub_title:e.name,name:`${(0,o.formatMoney)(t.currency,t.display_balance,!0)} ${t.currency}`,short_code_and_region:e.product===o.PRODUCT.STP?"":this.getShortCodeAndRegion(t),platform:e.platform,description:t.display_login,key:`trading_app_card_${t.display_login}`,action_type:"multi-action",availability:this.selected_region,market_type:e.market_type,product:e.product,tracking_name:e.tracking_name})]})):this.combined_cfd_mt5_accounts=[...this.combined_cfd_mt5_accounts,{icon:e.icon,name:e.name,platform:e.platform,description:e.description,key:`trading_app_card_${e.name}`,action_type:"get",availability:this.selected_region,market_type:e.market_type,product:e.product,tracking_name:e.tracking_name}]}))}closeAccountTransferModal(){this.is_account_transfer_modal_open=!1}toggleAccountTransferModal(){this.is_account_transfer_modal_open=!this.is_account_transfer_modal_open}setVerificationModalOpen(e){this.is_verification_docs_list_modal_visible=e}showTopUpModal(e){const{ui:t,modules:n}=this.root_store,{openTopUpModal:r}=t,{setCurrentAccount:o}=n.cfd;o(e,{category:this.selected_account_type,type:e.market_type}),r()}toggleWalletsUpgrade(e){this.is_real_wallets_upgrade_on=e}setWalletsMigrationFailedPopup(e){this.is_wallet_migration_failed=e}cleanup(){localStorage.getItem("active_loginid")&&(this.root_store.client.is_logged_in||"null"!==localStorage.getItem("active_loginid"))||(localStorage.removeItem("traders_hub_store"),this.setIsFinancialRestrictedCountry(!1),this.setIsCFDRestrictedCountry(!1),this.available_platforms=[])}setIsSetupRealAccountOrGoToDemoModalVisible(e){this.is_setup_real_account_or_go_to_demo_modal_visible=e}async getMT5AccountKYCStatus(){const{jurisdiction_selected_shortcode:e,product:t}=this.root_store.modules.cfd,{trading_platform_available_accounts:n}=await o.WS.authorized.tradingPlatformAvailableAccounts(o.CFD_PLATFORMS.MT5),{mt5_login_list:r}=await o.WS.authorized.mt5LoginList(),i=null==r?void 0:r.filter((n=>n.landing_company_short===e&&n.product===t&&n.account_type===this.selected_account_type));if(i.length){var a,s;this.setSelectedJurisdictionKYCStatus(null!==(a=null===(s=i[0])||void 0===s?void 0:s.client_kyc_status)&&void 0!==a?a:{})}else{const r=null==n?void 0:n.filter((n=>n.shortcode===e&&n.product===t&&"true"===n.is_default_jurisdiction));var c,l;if(r.length)this.setSelectedJurisdictionKYCStatus(null!==(c=null===(l=r[0])||void 0===l?void 0:l.client_kyc_status)&&void 0!==c?c:{});else this.setSelectedJurisdictionKYCStatus({})}}}class Gt{constructor(){this.client=new T(this),this.common=new L(this),this.modules=new $(this),this.ui=new be(this),this.gtm=new K(this),this.notifications=new de(this),this.active_symbols=new Ce(this),this.portfolio=new Be(this),this.contract_replay=new At(this),this.contract_trade=new Bt(this),this.chart_barrier_store=new o.ChartBarrierStore(this),this.traders_hub=new xt(this)}}(0,r.configure)({enforceActions:"observed"});const Ut=e=>{const t=window.location.search,n=new URLSearchParams(t);if(((e,t)=>{"signup"===t.get("action")&&(0,o.startPerformanceEventTimer)("signup_time"),t.get("acct1")&&(0,o.startPerformanceEventTimer)("login_time"),"deriv_com"===t.get("redirect_from")&&((0,o.startPerformanceEventTimer)("redirect_from_deriv_com_time"),history.replaceState(null,null,window.location.href.replace(`${e}`,(0,o.excludeParamsFromUrlQuery)(e,["redirect_from"]))))})(t,n),"signup"===n.get("action")){const e=localStorage.getItem("config.server_url"),t=localStorage.getItem("config.app_id");localStorage.clear(),e&&localStorage.setItem("config.server_url",e),t&&localStorage.setItem("config.app_id",t)}const r=new Gt;return(e=>{window.addEventListener("storage",(t=>{switch(t.key){case"client.accounts":{var n,r;const o=e.client.loginid,i=null===(n=JSON.parse(t.newValue))||void 0===n||null===(n=n[o])||void 0===n?void 0:n.currency,a=null===(r=JSON.parse(t.oldValue))||void 0===r||null===(r=r[o])||void 0===r?void 0:r.currency;document.hidden&&i&&a!==i&&e.client.updateAccountCurrency(i,!1);break}case"active_loginid":"null"!==localStorage.getItem("active_loginid")&&localStorage.getItem("active_loginid")||e.client.logout(),document.hidden&&window.location.reload()}}))})(r),l.init(r),r.client.init(),r.common.init(),r.ui.init(e),r}},339069:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});n(286326);var r=n(57886),o=n(189137),i=n(33118),a=n(836870);const s=()=>(0,a.jsx)(r.PageError,{header:(0,i.localize)("We couldn’t find that page"),messages:[(0,i.localize)("You may have followed a broken link, or the page has moved to a new address."),(0,i.localize)("Error code: {{error_code}} page not found",{error_code:404})],redirect_urls:[o.routes.trade],redirect_labels:[(0,i.localize)("Return to trade")],classNameImage:"page-404__image",image_url:(0,o.getUrlBase)("/public/images/common/404.png")})},391289:(e,t,n)=>{"use strict";n.d(t,{z:()=>r.A,WS:()=>o.A,a:()=>l});var r=n(83658),o=n(498015),i=n(189137),a=n(712949),s=n(541862),c=n.n(s);const l=()=>o.A.logout().then(g);const g=e=>{var t,n,r,o;if(1===e.logout)return(0,i.removeCookies)("affiliate_token","affiliate_tracking","onfido_token","gclid","utm_data"),localStorage.removeItem("closed_toast_notifications"),localStorage.removeItem("is_wallet_migration_modal_closed"),localStorage.removeItem("active_wallet_loginid"),localStorage.removeItem("config.account1"),localStorage.removeItem("config.tokens"),localStorage.removeItem("verification_code.system_email_change"),localStorage.removeItem("verification_code.request_email"),localStorage.removeItem("new_email.system_email_change"),c().clear(),sessionStorage.clear(),null===(t=window.LC_API)||void 0===t||null===(n=t.close_chat)||void 0===n||n.call(t),null===(r=window.LiveChatWidget)||void 0===r||r.call("hide"),null===(o=window.fcWidget)||void 0===o||o.close(),a.Chat.clear(),e}},83658:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var r=n(214867),o=n.n(r),i=n(351447),a=n(189137),s=n(33118),c=n(274277),l=n.n(c),g=n(203087),d=n.n(g),u=n(498015);let _,I,b,C=1;const h=(()=>{let e,t,n,r=null;const c=()=>{clearTimeout(r),I.setIsSocketOpened(!1)},g=e=>{r=setTimeout((()=>{var e,t,n,r;const o=(null===u.A||void 0===u.A||null===(e=u.A.get)||void 0===e||null===(e=e.call(u.A))||void 0===e?void 0:e.expect_response_types)||{},i=Object.keys(o).filter((e=>"pending"===o[e].state)),s=new Error("deriv-api: no message received after 30s");s.userId=null===(t=_)||void 0===t?void 0:t.loginid,null===(n=window.TrackJS)||void 0===n||null===(n=n.console)||void 0===n||n.error({message:s.message,clientsCountry:null===(r=_)||void 0===r?void 0:r.clients_country,websocketUrl:(0,a.getSocketURL)(),pendingResponseTypes:i})}),3e4),e&&(_.is_logged_in||_.is_logging_in?u.A.get().expectResponse("authorize").then((()=>{u.A.subscribeWebsiteStatus(A.websiteStatus)})):u.A.subscribeWebsiteStatus(A.websiteStatus),l().init((()=>I.setServerTime(l().get()))),I.setIsSocketOpened(!0))},C=e=>{switch(clearTimeout(r),y(e),e.msg_type){case"authorize":if(e.error){const t="1"===sessionStorage.getItem("active_tab");"SelfExclusion"===(0,a.getPropertyValue)(e,["error","code"])&&t&&sessionStorage.removeItem("active_tab"),_.logout()}else/authorize/.test(a.State.get("skip_response"))||(e.authorize.loginid===_.loginid||_.is_populating_account_list||_.is_switching?e.authorize.loginid===_.loginid&&B(e):_.logout());break;case"landing_company":break;case"get_self_exclusion":m(e);break;case"get_settings":e.get_settings&&(h(e.get_settings.country_code),_.setEmail(e.get_settings.email),_.setAccountSettings(e.get_settings),b.eventHandler(e.get_settings));break;case"phone_settings":e.phone_settings&&_.setPhoneSettings(e.phone_settings);break;case"set_account_currency":u.A.forgetAll("balance").then(f);break;case"get_account_status":_.setAccountStatus(e.get_account_status);break;case"payout_currencies":_.responsePayoutCurrencies(null==e?void 0:e.payout_currencies);break;case"transaction":b.pushTransactionData(e)}},h=e=>{e&&(_.setResidence(e),u.A.landingCompany(e).then(_.responseLandingCompany))},m=r=>{var i;const a=null==r||null===(i=r.get_self_exclusion)||void 0===i?void 0:i.session_duration_limit;if(t=new Date(sessionStorage.getItem("session_start_time")||l().get()),sessionStorage.setItem("session_start_time",t),a&&a!==e){const r=60*a*1e3-(e?l().get()-o()(t):0);clearTimeout(n),n=setTimeout((()=>{_.logout(),sessionStorage.removeItem("session_start_time")}),r)}else a||clearTimeout(n);e=a},p=(0,i.flow)((function*(e){yield null===d()||void 0===d()?void 0:d().wait("website_status"),_.setBalanceActiveAccount(e)})),y=e=>{const t=e.msg_type;switch((0,a.getPropertyValue)(e,["error","code"])){case"WrongResponse":"mt5_login_list"===t?u.A.authorized.mt5LoginList().then((e=>{e.error?_.resetMt5ListPopulatedState():(_.responseMt5LoginList(e),u.A.balanceAll().then((e=>{e.error||_.setBalanceOtherAccounts(e.balance)})))})):"balance"===t?u.A.forgetAll("balance").then(f):"get_account_status"===t?u.A.authorized.getAccountStatus().then((e=>{e.error||_.setAccountStatus(e.get_account_status)})):"landing_company"===t&&_.residence&&u.A.authorized.landingCompany(_.residence).then((e=>{e.error||_.responseLandingCompany(e)}));break;case"InternalServerError":case"OutputValidationFailed":"mt5_login_list"!==t&&I.setError(!0,{message:e.error.message});break;case"RateLimit":"cashier_password"!==t&&I.setError(!0,{message:(0,s.localize)("You have reached the rate limit of requests per second. Please try later.")});break;case"InvalidAppID":case"DisabledClient":I.setError(!0,{message:e.error.message});break;case"InvalidToken":if(["cashier","paymentagent_withdraw","reset_password","trading_platform_password_reset","trading_platform_investor_password_reset","new_account_virtual","portfolio","proposal_open_contract","change_email","phone_number_challenge"].includes(t))return;const n=(0,a.getActivePlatform)(I.app_routing_history);if("DBot"===n)return;_.logout().then((()=>{let e=a.routes.traders_hub;"system_email_change"!==(0,a.getActionFromUrl)()&&("Deriv MT5"===n&&(e=a.routes.mt5),I.routeTo(e))}));break;case"AuthorizationRequired":if("buy"===t)return;_.logout()}},f=()=>{u.A.subscribeBalanceAll(A.balanceOtherAccounts),_.currency&&u.A.subscribeBalanceActiveAccount(A.balanceActiveAccount,_.loginid)},B=e=>{_.responseAuthorize(e),u.A.getPhoneSettings(),f(),u.A.storage.getSettings(),u.A.getAccountStatus(),u.A.storage.payoutCurrencies(),_.setIsAuthorize(!0),_.is_virtual||u.A.getSelfExclusion(),d().sendBuffered(),/bch/i.test(e.authorize.currency)&&_.accounts[_.loginid].accepted_bch};return{init:e=>(_=e.client,I=e.common,b=e.gtm,{onDisconnect:c,onOpen:g,onMessage:C}),setBalanceActiveAccount:p,setBalanceOtherAccounts:e=>{_.setBalanceOtherAccounts(e)},authorizeAccount:B}})(),m=h,A={websiteStatus:e=>{if(e.website_status){const t=(0,a.checkServerMaintenance)(e.website_status);if(t){const e=Math.min(Math.pow(2,C+9),6e5)*(.5+1.5*Math.random());window.setTimeout((()=>{C++,d().closeAndOpenNewConnection(),d().blockRequest(t)}),e)}else!t&&C>1&&window.location.reload();d().blockRequest(t),d().setAvailability(e.website_status.site_status),_.setWebsiteStatus(e)}},balanceActiveAccount:e=>{e.error||h.setBalanceActiveAccount(e.balance)},balanceOtherAccounts:e=>{e.error||h.setBalanceOtherAccounts(e.balance)}}},498015:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(203087);const o=n.n(r)()},736996:(e,t,n)=>{"use strict";n.d(t,{A$:()=>s,AX:()=>o,Nn:()=>c,Sd:()=>l,Yv:()=>g,dh:()=>i,kx:()=>a});var r=n(189137);const o=(e,t,n)=>{if(!e||(0,r.isEmptyObject)(e))return!1;const{is_svg:o}=t;let i;return i=o?function(){const e=r.State.getResponse("landing_company.financial_company.requirements.withdrawal")||[],t=r.State.getResponse("landing_company.financial_company.requirements.signup"),n=t?t.map((e=>"residence"===e?"country":e)):[];return[...e,...n]}():function(){if(!n("financial"))return[];return["account_opening_reason","address_line_1","address_city","phone","tax_identification_number","tax_residence"]}(),i.some((t=>!e[t]))},i=e=>e.reduce(((e,t)=>(e[t]=!0,e)),{}),a=e=>e.reduce(((e,t)=>(e[t]=!0,e)),{}),s=["contract_sold","has_changed_two_fa"],c=["system_maintenance","site_maintenance"],l=["account_currency_closure","svg","need_fa","p2p_daily_limit_increase","poinc_upload_limited","wallets_migrated","wallets_failed","needs_poinc","notify_financial_assessment","poa_expired","svg_needs_poa","svg_needs_poi","poi_failed","poa_failed","reaccept_tnc","svg_poi_expired","p2p_advertiser_nickname_added",...c],g=["authenticate","poi_expired","document_needs_action","identity","needs_poi","poi_failed","poi_verified","svg_needs_poi_poa","svg_needs_poi","svg_poi_expired"]},917964:(e,t,n)=>{"use strict";n.d(t,{T:()=>o});n(192299);var r=n(189137);n(33118),n(281476),n(294035);const o=async()=>{var e;null===r.LocalStore||void 0===r.LocalStore||null===(e=r.LocalStore.get("active_loginid"))||void 0===e||null===(e=e.match(/[a-zA-Z]+/g))||void 0===e||e.join("")}},99968:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(189137);const o=36e5;let i;function a(){return e=>{e.onupdatefound=()=>{const t=e.installing;t.onstatechange=()=>{"installed"===t.state&&navigator.serviceWorker.controller&&(console.log("New version is found, refreshing the page..."),clearInterval(i))}}}}const s=function(){"serviceWorker"in navigator&&window.addEventListener("load",(()=>{const e=`${window.location.origin}${(0,r.getUrlBase)("/service-worker.js")}`;navigator.serviceWorker.register(e).then((e=>{i=setInterval((()=>{e.update().then(a).catch((e=>{console.error("Error during service worker update:",e)}))}),o),e.onupdatefound=()=>{const t=e.installing;t.onstatechange=()=>{if("installed"===t.state&&navigator.serviceWorker.controller&&performance.now()>o){const e=new Event("UpdateAvailable");document.dispatchEvent(e)}}}})).catch((t=>{console.error("Error during service worker registration:",t,e)}))}))}},865867:e=>{function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){const t=n({},e);return delete t.passthrough,delete t.req_id,delete t.subscribe,JSON.stringify(t)}e.exports=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.session_id=void 0,this.config=e,this.debounced_calls={},this.session_id=t}requestDataTransformer(e){return this.session_id?n(n({},e),{},{session_id:this.session_id}):e}sendWillBeCalled(e){let{args:[t]}=e;this.config.wsEvent("send");const n=o(t);if(n in this.debounced_calls)return this.debounced_calls[n]}sendIsCalled(e){let{response_promise:t,args:[n,r={}]}=e;const i=function(e){return new Promise((t=>{e.then(t,t)}))}(t),a=o(n);return r.callback&&i.then(r.callback),this.debounced_calls[a]=i,i.then((()=>{delete this.debounced_calls[a]})),i}}},462195:(e,t,n)=>{function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{localize:i}=n(33118),a=n(203087),s=(()=>{const e={online:{class:"online",tooltip:i("Online")},offline:{class:"offline",tooltip:i("Offline")},blinking:{class:"blinker",tooltip:i("Connecting to server")}};let t;const n=()=>navigator.onLine;let s=null;function c(e){let{timeout:t}=e;clearTimeout(s),s=setTimeout((()=>{s=null,n()&&a.hasReadyState(2,3)?a.openNewConnection():a.send({ping:1})}),t)}const l={init:()=>t(n()?"blinking":"offline"),open:()=>t(n()?"online":"offline"),send:()=>{},message:()=>t("online"),close:()=>{t(n()?"blinking":"offline"),c({timeout:5e3})}},g=e=>{l[e]&&l[e]()};return{init:(i,s,l)=>{let d,u;if(t=t=>{const r=n();t===d&&r===u||(d=t,u=r,s(e[t],r))},"onLine"in navigator?(window.addEventListener("online",(()=>{t("blinking"),c({timeout:500})})),window.addEventListener("offline",(()=>{a.close(),t("offline")}))):navigator.onLine=!0,n()){const e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({wsEvent:g,isOnline:n},i);a.init({options:e,client:l}),a.openNewConnection()}t(n()?"blinking":"offline")},wsEvent:g}})();e.exports=s},274277:(e,t,n)=>{const r=n(214867),o=n(203087),i=n(423382).PromiseUtils,a=(()=>{let e=!1;const t=i.createPromise();let n,a,s,c,l;const g=t=>{e||(l=t,d(),clearInterval(s),s=setInterval(d,3e4),e=!0)},d=()=>{a=performance.now(),o.send({time:1}).then(u)},u=o=>{if(o.error)return;if(!e)return void g();clearInterval(c);const i=o.time,s=performance.now(),d=1e3*i+(s-a),u=()=>{const e=performance.now()-s;n=r(d+e).utc(),"function"==typeof l&&l()};u(),t.resolve(),c=setInterval(u,1e3)};return{init:g,get:()=>n?n.clone():void 0,timePromise:t.promise}})();e.exports=a},203087:(e,t,n)=>{function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a=n(475236),s=n(189137).getAppId,c=n(189137).getSocketURL,l=n(189137).cloneObject,g=n(189137).getPropertyValue,d=n(189137).State,{getLanguage:u}=n(33118),_=n(189137).website_name,I=n(541862),b=n(865867),C=(()=>{let e,t,n,r={},i=0,C=!1,m=!1,A=!1;const p={is_up:!0,is_updating:!1,is_down:!1},y=()=>{t.close()},f=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t&&n.some((e=>t.readyState===e))},B=function(){let o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u();const h=(()=>{const e=localStorage.getItem("mock_server_data");return e?JSON.parse(e):{session_id:"",is_mockserver_enabled:!1}})(),p=(null==h?void 0:h.session_id)||"";i!==s()&&(A||r.wsEvent("init"),t&&!f(2,3)||(C=!1,t=new WebSocket(function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"ws://127.0.0.1:42069":`wss://${c()}/websockets/v3?app_id=${s()}&l=${e}&brand=${_.toLowerCase()}`}(o,p)),e=new a({connection:t,storage:I,middleware:new b(r,p)})),e.onOpen().subscribe((()=>{if(r.wsEvent("open"),x("website_status"),n.is_logged_in){const t=n.getToken();e.authorize(t)}"function"==typeof r.onOpen&&r.onOpen(f(1)),"function"==typeof r.onReconnect&&m&&r.onReconnect(),m||(m=!0)})),e.onMessage().subscribe((e=>{let{data:t}=e;const n=t.msg_type;d.set(["response",n],l(t)),r.wsEvent("message"),"InvalidAppID"===g(t,["error","code"])&&(i=s()),"function"==typeof r.onMessage&&r.onMessage(t)})),e.onClose().subscribe((()=>{A?A=!1:r.wsEvent("close"),i===s()||"function"!=typeof r.onDisconnect||C||(r.onDisconnect(),C=!0)})))},v=e=>/^updating$/i.test(e),F=e=>/^down$/i.test(e),Q=e=>!("authorize"===e&&!n.is_logged_in),x=function(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return null===(t=e)||void 0===t?void 0:t.expectResponse(...r.filter(Q))},G=(t,n)=>e.subscribe(t).subscribe(n,n);return{init:e=>{let{options:t,client:o}=e;"object"==typeof t&&r!==t&&(r=t),n=o},openNewConnection:B,forgetStream:t=>e.forget(t),wait:x,availability:p,hasReadyState:f,isSiteDown:F,isSiteUpdating:v,clear:()=>{},sendBuffered:()=>{},getSocket:()=>t,get:()=>e,getAvailability:()=>p,setOnDisconnect:e=>{r.onDisconnect=e},setOnReconnect:e=>{r.onReconnect=e},removeOnReconnect:()=>{delete r.onReconnect},removeOnDisconnect:()=>{delete r.onDisconnect},cache:h({},(()=>e.cache)),storage:h({},(()=>e.storage)),blockRequest:t=>{var n;return null===(n=e)||void 0===n?void 0:n.blockRequest(t)},buy:t=>{let{proposal_id:n,price:r}=t;return e.send({buy:n,price:r})},buyAndSubscribe:e=>new Promise((t=>{let n=!1;const r=G(e,(e=>{n||(n=!0,r.unsubscribe(),t(e))}))})),sell:(t,n)=>e.send({sell:t,price:n}),cashier:function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.send(o({cashier:t},n))},cancelCryptoTransaction:t=>e.send({cashier_withdrawal_cancel:1,id:t}),cancelContract:t=>e.send({cancel:t}),close:y,cryptoWithdraw:t=>{let{address:n,amount:r,verification_code:o,estimated_fee_unique_id:i,dry_run:a=0}=t;return e.send({cashier:"withdraw",provider:"crypto",type:"api",address:n,amount:r,verification_code:o,estimated_fee_unique_id:i,dry_run:a})},cryptoConfig:()=>e.send({crypto_config:1}),contractUpdate:(t,n)=>e.send({contract_update:1,contract_id:t,limit_order:n}),contractUpdateHistory:t=>e.send({contract_update_history:1,contract_id:t}),getFinancialAssessment:()=>e.send({get_financial_assessment:1}),setFinancialAndTradingAssessment:t=>e.send(o({set_financial_assessment:1},t)),mt5NewAccount:t=>e.send(o({mt5_new_account:1},t)),newAccountVirtual:(t,n,r,i)=>e.send(o({new_account_virtual:1,verification_code:t,client_password:n,residence:r},i)),newAccountReal:t=>e.send(o({new_account_real:1},t)),newAccountRealMaltaInvest:t=>e.send(o({new_account_maltainvest:1},t)),getPhoneSettings:()=>e.send({phone_settings:1}),p2pSubscribe:(e,t)=>G(e,t),profitTable:(t,n,r)=>e.send(o({profit_table:1,description:1,limit:t,offset:n},r)),statement:(t,n,r)=>e.send(o({statement:1,description:1,limit:t,offset:n},r)),verifyEmail:function(t,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.send(o({verify_email:t,type:n},r))},getTicksHistory:t=>e.send(t),tradingPlatformPasswordChange:t=>e.send(o({trading_platform_password_change:1},t)),tradingPlatformPasswordReset:t=>e.send(o({trading_platform_password_reset:1},t)),tradingPlatformAvailableAccounts:t=>e.send({trading_platform_available_accounts:1,platform:t}),tradingPlatformInvestorPasswordChange:t=>e.send(o({trading_platform_investor_password_change:1},t)),tradingPlatformInvestorPasswordReset:t=>e.send(o({trading_platform_investor_password_reset:1},t)),activeSymbols:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"brief";return e.activeSymbols(t)},contractsForCompany:t=>{let{landing_company:n}=t;return e.send({landing_company:n,contracts_for_company:1})},paymentAgentList:(t,n)=>e.send(o({paymentagent_list:t},n&&{currency:n})),allPaymentAgentList:t=>e.send({paymentagent_list:t}),paymentAgentDetails:(t,n)=>e.send({paymentagent_details:1,passthrough:t,req_id:n}),paymentAgentWithdraw:t=>{let{amount:n,currency:r,dry_run:o=0,loginid:i,verification_code:a}=t;return e.send({amount:n,currency:r,dry_run:o,paymentagent_loginid:i,paymentagent_withdraw:1,verification_code:a})},paymentAgentTransfer:t=>{let{amount:n,currency:r,description:o,transfer_to:i,dry_run:a=0}=t;return e.send({amount:n,currency:r,description:o,transfer_to:i,paymentagent_transfer:1,dry_run:a})},setAccountCurrency:(t,n)=>e.send(o({set_account_currency:t},n&&{passthrough:n})),balanceAll:()=>e.send({balance:1,account:"all"}),setAvailability:e=>{p.is_up=(e=>/^up$/i.test(e))(e),p.is_updating=v(e),p.is_down=F(e)},subscribeBalanceAll:e=>G({balance:1,account:"all"},e),subscribeBalanceActiveAccount:(e,t)=>G({balance:1,account:t},e),subscribeProposal:(e,t)=>G(o({proposal:1},e),t),subscribeProposalOpenContract:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return G(o({proposal_open_contract:1},e&&{contract_id:e}),t)},subscribeTicks:(e,t)=>G({ticks:e},t),subscribeTicksHistory:(e,t)=>G(e,t),subscribeTransaction:e=>G({transaction:1},e),subscribeWebsiteStatus:e=>G({website_status:1},e),tncApproval:()=>e.send({tnc_approval:"1"}),transferBetweenAccounts:(t,n,r,i)=>e.send(o({transfer_between_accounts:1,accounts:"all"},t&&{account_from:t,account_to:n,currency:r,amount:i})),fetchLoginHistory:t=>e.send({login_history:1,limit:t}),closeAndOpenNewConnection:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";y(),A=!0,B(e,t)},accountStatistics:()=>e.send({account_statistics:1}),tradingServers:t=>e.send({platform:t,trading_servers:1}),tradingPlatformAccountsList:t=>e.send({trading_platform_accounts:1,platform:t}),tradingPlatformNewAccount:t=>e.send(o({trading_platform_new_account:1},t)),triggerMt5DryRun:t=>{let{email:n}=t;return e.send({account_type:"financial",dry_run:1,email:n,leverage:100,mainPassword:"Test1234",mt5_account_type:"financial_stp",mt5_new_account:1,name:"test real labuan financial stp"})},getServiceToken:(t,n)=>{const r=t;return e.send({service_token:1,service:r,server:n})},changeEmail:t=>e.send(t),getWalletMigrationState:()=>e.send({wallet_migration:"state"}),startWalletMigration:()=>e.send({wallet_migration:"start"}),resetWalletMigration:()=>e.send({wallet_migration:"reset"})}})();function h(e,t){return new Proxy(e,{get(e,n){if(e[n])return e[n];const r="function"==typeof t?t():t;if(!r)return;const o=r[n];return o?"function"==typeof o?o.bind(r):o:void 0}})}const m=h(C,(()=>C.get())),A=e=>new Proxy(e,{get:(e,t)=>e[t]&&"function"!=typeof e[t]?A(e[t]):function(){for(var n,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null==C||null===(n=C.wait("authorize"))||void 0===n?void 0:n.then((()=>e[t](...o)))}});C.authorized=A(m),e.exports=m},541862:(e,t,n)=>{const r=n(214867),o=n(189137).isEmptyObject,i=n(189137).getPropertyValue,a=n(437360).getStaticHash,s=n(189137).LocalStore,c=(()=>{const e={payout_currencies:{expire:120},proposal_open_contract:{expire:10},contracts_for:{expire:10},exchange_rates:{expire:60},trading_times:{expire:120}},t="ws_cache";let n={};const c={history:"ticks_history",candles:"ticks_history"},l=e=>{let t=!1;return Array.isArray(e)?e.length||(t=!0):"object"==typeof response_data&&(Object.keys(e).length||(t=!0)),t},g=()=>{o(n)&&(n=s.getObject(t),o(n))||n.static_hash!==a()&&I()},d=e=>i(n,e)||{},u=e=>{g();const t=d(e);let n;return r().isBefore(t.expires)?n=t.value:_(e),n},_=(e,r)=>{r?Object.keys(n).forEach((t=>{-1!==t.indexOf(e)&&delete n[t]})):e in n&&delete n[e],s.setObject(t,n)},I=()=>{s.remove(t),n={}};return{set:(o,i)=>{var g;const d=c[i.msg_type]||i.msg_type;if(i.subscription){if(!("proposal_open_contract"===d&&i.proposal_open_contract.is_sold))return}if("latest"===(null==i||null===(g=i.echo_req)||void 0===g?void 0:g.end))return;if(!e[d])return;const _=u(i.echo_req)||{},b=_[d],C=i[d],h=i.error,m=b&&l(b)&&!l(C),A=b&&l(C)&&!l(b),p=!l(_)&&!_.error;if((h||m||A)&&p)return void I();const y=r().add(e[d].expire,"m").valueOf();n.static_hash||(n.static_hash=a()),n[o]={value:i,expires:y,msg_type:d},s.setObject(t,n)},get:u,getByMsgType:e=>{g();const t=Object.keys(n).find((t=>d(t).msg_type===e));if(!t)return;const o=d(t);let i;return r().isBefore(o.expires)?i=o.value:_(t),i},has:e=>!!u(e),remove:_,clear:I}})();e.exports=c},437360:e=>{let t;const n=["it","de","fr","lu","gr","mf","es","sk","lt","nl","at","bg","si","cy","be","ro","hr","pt","pl","lv","ee","cz","fi","hu","dk","se","ie","im","gb","mt"],r=e=>n.includes(e),o=["sg","de","gr","es","au","it","lu"],i=["au","fr"],a=["de","es","it","lu","gr","au","fr"];e.exports={createElement:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.createElement(e);return Object.keys(t).forEach((e=>{const r=t[e];"text"===e?n.textContent=r:"html"===e?n.html(r):n.setAttribute(e,r)})),n},getStaticHash:()=>(t=t||(document.querySelector('script[src*="main"]').getAttribute("src")||"").split(".")[1],t),isEuCountry:r,isOptionsBlocked:e=>i.includes(e),isSyntheticsUnavailable:e=>o.includes(e),isMultipliersOnly:e=>a.includes(e),getRegion:(e,t)=>"virtual"===e?r(t)?"eu":"row":"svg"===e?"row":"eu"}},383993:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(286326),o=n(189137),i=n(919796),a=n(3076);const s=()=>{const{isGBLoaded:e,isGBAvailable:t}=(0,a.A)(),n=e||!t,{isMobile:s,isDesktop:c}=(0,i.Y)(),l=(0,o.isDtraderV2MobileEnabled)(s),g=(0,o.isDtraderV2DesktopEnabled)(c),[d,u]=(0,r.useState)(!1),[_,I]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{(e||l)&&u(l),(e||g)&&I(g)}),[s,e,c]),{dtrader_v2_enabled_mobile:d,dtrader_v2_enabled_desktop:_,load_dtrader_module:n}}},974777:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,F:()=>a});var r=n(286326),o=n(592129),i=n(488814);const a=()=>{const[e,t]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=Date.now(),n=setInterval((()=>{var r;null!==(r=window)&&void 0!==r&&null!==(r=r.fcWidget)&&void 0!==r&&r.isInitialized()?(t(!0),clearInterval(n)):Date.now()-e>=5e3&&clearInterval(n)}),100);return()=>clearInterval(n)}),[]),e},s=e=>{const[t]=(0,i.A)({featureFlag:"enable_freshworks_live_chat"}),n=(0,o.nW)(t?"https://static.deriv.com/scripts/freshchat/v1.0.2.js":null);(0,r.useEffect)((()=>{if(!t||"ready"!==n||!window.FreshChat||!window.fcSettings)return;let r;return window.FreshChat.initialize({hideButton:!0,token:e}),r=setInterval((()=>{var e;null!==(e=window)&&void 0!==e&&null!==(e=e.fcWidget)&&void 0!==e&&e.isInitialized()&&clearInterval(r)}),500),()=>{clearInterval(r)}}),[t,n,e])}},488814:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(286326),o=n(281476),i=n(712949),a=n(592129);const s=e=>{let{featureFlag:t,defaultValue:n}=e;const s=void 0!==n&&n,[c,l]=(0,r.useState)(!1),[g,d]=(0,r.useState)(!1),u=(0,a.aq)();return"undefined"!=typeof window&&(window.Analytics=o.Analytics),(0,r.useEffect)((()=>{(async()=>{const e=await(0,i.getFeatureFlag)(t,s);u()&&(l(e),d(!0))})()}),[t,s,u]),[c,g]}},140980:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(286326),o=n(281476),i=n(3076);const a=e=>{let{featureFlag:t}=e;const[n,a]=(0,r.useState)(null===o.Analytics||void 0===o.Analytics?void 0:o.Analytics.isFeatureOn(t)),{isGBLoaded:s}=(0,i.A)();return(0,r.useEffect)((()=>{var e;if(s&&(null!==o.Analytics&&void 0!==o.Analytics&&null!==(e=o.Analytics.getInstances())&&void 0!==e&&e.ab)){var n;const e=()=>{const e=null===o.Analytics||void 0===o.Analytics?void 0:o.Analytics.isFeatureOn(t);a(e)};e(),null===o.Analytics||void 0===o.Analytics||null===(n=o.Analytics.getInstances())||void 0===n||null===(n=n.ab)||void 0===n||null===(n=n.GrowthBook)||void 0===n||n.setRenderer((()=>{e()}))}}),[s,t]),[n,s]}},462518:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(773835),o=n(286326);const i=["data"];function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=()=>{const e=(0,o.useCallback)((e=>{var t;const n=["withdrawal_locked","cashier_locked"];return null!==(t=null==e?void 0:e.some((e=>n.includes(e))))&&void 0!==t&&t}),[]),t=(0,r.A)("get_account_status",{options:{refetchInterval:t=>{var n;return!e(null==t||null===(n=t.get_account_status)||void 0===n?void 0:n.status)&&2e3}}}),{data:n}=t,a=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,i),c=(0,o.useMemo)((()=>{var t,r;if(null==n||null===(t=n.get_account_status)||void 0===t||!t.status)return;const o=e(null==n||null===(r=n.get_account_status)||void 0===r?void 0:r.status);return s(s({},n.get_account_status),{},{has_mf_account_deposited:o})}),[null==n?void 0:n.get_account_status,e]);return s({data:c,has_mf_account_deposited:null==c?void 0:c.has_mf_account_deposited},a)}},413852:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>s,GZ:()=>a});var r=n(286326),o=n(592129),i=n(488814);const a=()=>{const[e,t]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=Date.now(),n=setInterval((()=>{"function"==typeof window.Intercom?(t(!0),clearInterval(n)):Date.now()-e>=5e3&&clearInterval(n)}),100);return()=>clearInterval(n)}),[]),e},s=e=>{const[t]=(0,i.A)({featureFlag:"enable_intercom"}),n=(0,o.nW)(t?"https://static.deriv.com/scripts/intercom/v1.0.1.js":null);(0,r.useEffect)((()=>{var r;if(!t||"ready"!==n||null===(r=window)||void 0===r||!r.DerivInterCom)return;let o;return window.DerivInterCom.initialize({hideLauncher:!0,token:e}),o=setInterval((()=>{var e;null!==(e=window)&&void 0!==e&&e.Intercom&&clearInterval(o)}),500),()=>{clearInterval(o)}}),[t,n,e])}},3076:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(286326),o=n(281476),i=n(8531);const a=()=>{const[e,t]=(0,r.useState)(!1),{data:n}=(0,i.A)(!0),[a,s]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{let e;if(null!=n&&n.marketing_growthbook){let n=0;e=setInterval((()=>{var r;if(n>20)return clearInterval(e),void s(!1);n+=1,null!==o.Analytics&&void 0!==o.Analytics&&null!==(r=o.Analytics.getInstances())&&void 0!==r&&r.ab&&(t(!0),clearInterval(e))}),500)}else s(!1);return()=>{clearInterval(e)}}),[n.marketing_growthbook]),{isGBLoaded:e,isGBAvailable:a}}},317691:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(890749),o=n(672313),i=n(488814);const a=()=>{const[e]=(0,i.A)({featureFlag:"hub_enabled_country_list"}),{data:t}=(0,r.A)(),{data:n}=(0,o.A)(),{citizen:a}=n;return{isHubRedirectionEnabled:"object"==typeof e&&null!==e&&Array.isArray(e.hub_enabled_country_list)&&a&&e.hub_enabled_country_list.includes(a),isChangingToHubAppId:"object"==typeof e&&null!==e&&Array.isArray(e.hub_enabled_country_list)&&t&&e.hub_enabled_country_list.includes(t)}}},43180:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(286326);const o=()=>{const[e,t]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{var e;null===(e=window.LiveChatWidget)||void 0===e||e.on("ready",(e=>{"online"===e.state.availability&&t(!0)}))}),[]),{is_livechat_available:e}}},768429:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(286326),o=n(140994);const i=()=>{const{i18n:e}=(0,o.B)(),t=r.useCallback((()=>{var t;return"rtl"===e.dir(null===(t=e.language)||void 0===t?void 0:t.toLowerCase())}),[e]),[n,i]=r.useState((()=>t()));return r.useEffect((()=>{i(t())}),[t,e.language]),n}},702001:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(414646);const o=()=>{const{client:e}=(0,r.A)(),{account_settings:t,landing_company_shortcode:n}=e,{tnc_status:o}=t||{};return o&&0===o[n]}},418679:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var r=n(286326),o=n(394559),i=n.n(o),a=n(294035),s=n(8531);const c=e=>{const{is_client_store_initialized:t,landing_company_shortcode:n=" ",currency:o=" ",email:c=" ",is_logged_in:l=" ",loginid:g=" ",residence:d=" ",last_name:u=" ",first_name:_=" "}=e,I=window.location.search,b=new URLSearchParams(I),C="reset_password"===a.vk.getQueryParameter("action"),h=b.get("code")&&C,{data:m}=(0,s.A)(!0),{cs_chat_livechat:A}=m;(0,r.useEffect)((()=>{var e;t&&A&&(null===(e=window.LiveChatWidget)||void 0===e||e.init())}),[t,A]),(0,r.useEffect)((()=>{var e;!h&&t&&(null===(e=window.LiveChatWidget)||void 0===e||e.on("ready",(e=>{var t,r;"minimized"===e.state.visibility&&(null===(r=window.LiveChatWidget)||void 0===r||r.call("hide"));const a=JSON.parse(i().get("utm_data")||"{}"),{utm_source:s,utm_medium:I,utm_campaign:b}=a,C={is_logged_in:String(l),utm_source:s||" ",utm_medium:I||" ",utm_campaign:b||" ",loginid:l?g:" ",landing_company_shortcode:l?n:" ",currency:l?o:" ",residence:l?d:" ",email:l?c:" "};var h,m,A,p;(null===(t=window.LiveChatWidget)||void 0===t||t.call("set_session_variables",C),l)?(null===(h=window.LiveChatWidget)||void 0===h||h.call("set_customer_email",c),null===(m=window.LiveChatWidget)||void 0===m||m.call("set_customer_name",`${_} ${u}`)):(null===(A=window.LiveChatWidget)||void 0===A||A.call("set_customer_email"," "),null===(p=window.LiveChatWidget)||void 0===p||p.call("set_customer_name"," "))})))}),[c,h,g,l,n,t,o,_,u,d])}},413568:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(189137),o=n(33118),i=n(57152),a=n(488814);const s=e=>{let{handleLogout:t}=e;const[n,s]=(0,a.A)({featureFlag:"hydra_be"}),c=(0,i.uM)(n,s);return{isOAuth2Enabled:c,oAuthLogout:async()=>{await(0,i.m0)(t)},loginHandler:async()=>{c&&await(0,i.ZF)({redirectCallbackUri:`${window.location.origin}/callback`}),(0,r.redirectToLogin)(!1,(0,o.getLanguage)())}}}},422692:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(414646);const o=()=>{const{client:e}=(0,r.A)(),{wallet_migration_state:t,startWalletMigration:n,resetWalletMigration:o,is_wallet_migration_request_is_in_progress:i}=e;return{state:t,is_ineligible:"ineligible"===t,is_eligible:"eligible"===t,is_in_progress:"in_progress"===t,is_migrated:"migrated"===t,is_failed:"failed"===t,is_migrating:i,startMigration:n,resetMigration:o}}},917208:()=>{}}]);
//# sourceMappingURL=core.main~d5ef20ee.f3fc20d2c474f63a88d1.js.map