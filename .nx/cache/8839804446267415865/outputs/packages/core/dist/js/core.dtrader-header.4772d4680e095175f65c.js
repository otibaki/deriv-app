"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3317],{397114:(e,t,s)=>{s.d(t,{A:()=>c});s(286326);var r=s(836870);const a=["styles"];function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function n(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(Object(s),!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function o(e,t,s){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}const c=e=>{let{styles:t={}}=e,s=function(e,t){if(null==e)return{};var s,r,a=function(e,t){if(null==e)return{};var s={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;s[r]=e[r]}return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)s=i[r],t.includes(s)||{}.propertyIsEnumerable.call(e,s)&&(a[s]=e[s])}return a}(e,a);return(0,r.jsxs)("svg",n(n({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none"},s),{},{children:[(0,r.jsx)("path",{d:"M0 9.33A9.33 9.33 0 019.33 0h5.34A9.33 9.33 0 0124 9.33v5.34A9.33 9.33 0 0114.67 24H9.33A9.33 9.33 0 010 14.67V9.33z",fill:"#FF444F"}),(0,r.jsx)("path",{d:"M15.06 4.97l-.78 4.4H11.6c-2.51 0-4.9 2.02-5.34 4.53l-.19 1.06c-.44 2.51 1.23 4.54 3.74 4.54h2.24a4.11 4.11 0 003.89-3.3L18 4.5l-2.94.47zm-1.91 10.81c-.1.57-.6 1.03-1.17 1.03h-1.36c-1.13 0-1.88-.92-1.69-2.05l.12-.66a2.55 2.55 0 012.4-2.04h2.36l-.66 3.72z",fill:"#fff"})]}))}},891118:(e,t,s)=>{s.d(t,{A:()=>n});s(286326);var r=s(57886),a=s(397114),i=s(836870);const n=()=>(0,i.jsx)("div",{className:"header__menu-left-logo",children:(0,i.jsx)(r.StaticUrl,{href:"/",children:(0,i.jsx)(a.A,{})})})},801272:(e,t,s)=>{s.r(t),s.d(t,{default:()=>I});var r=s(286326),a=s(291218),i=s(255530),n=s.n(i),o=s(189137),c=s(679955),l=s(414646),d=s(919796),u=s(450552),_=s(766475),h=s(989186),p=s(57886),m=s(461297),g=s(647620),f=s(763782),b=s(594269),v=s(526248),x=s(788624),j=s(413568),y=s(33118),A=s(281476),w=s(668563),k=s(47699),N=s(836870);const O=(0,c.observer)((()=>{const{ui:e,client:t,modules:s}=(0,l.A)(),{disableApp:i,enableApp:n,is_mobile:c,is_mobile_language_menu_open:d,setMobileLanguageMenuOpen:u,setIsForcedToExitPnv:_}=e,{account_status:h,has_wallet:O,is_authorize:P,is_logged_in:L,is_virtual:M,logout:C,should_allow_authentication:D,should_allow_poinc_authentication:E,landing_company_shortcode:S,is_proof_of_ownership_enabled:T,is_passkey_supported:I}=t,{cashier:U}=s,{payment_agent:z}=U,{is_payment_agent_visible:F}=z,H=(0,m.A)(),{isSuccess:W}=(0,g.A)(),R=(0,f.A)(),{data:B}=(0,b.A)(),{is_p2p_enabled:Y}=(0,v.A)(),{pathname:K}=(0,a.useLocation)(),V=K===o.routes.traders_hub||K.startsWith(o.routes.cashier)||K.startsWith(o.routes.account),[X,$]=r.useState(!1),[q,G]=r.useState(!1),[J,Q]=r.useState([]),Z=r.useRef(),ee=(0,a.useHistory)(),{subscribe:te,rest:{isSubscribed:se},p2p_settings:re}=(0,x.A)();r.useEffect((()=>{W&&!se&&P&&te()}),[W,re,te,se,P]),r.useEffect((()=>((h||D)&&(()=>{const e=(0,w.A)();Q(ce(e,[o.routes.account]))})(),()=>clearTimeout(Z.current))),[h,D,O,V,c,I,Y]);const ae=r.useCallback((()=>{d&&u(!1),X?(G(!0),Z.current=setTimeout((()=>{$(!1),G(!1)}),400)):$(!X)}),[X,d,u]),ie=r.useCallback((async()=>{ae(),window.location.pathname.startsWith(o.routes.phone_verification)&&(_(!0),await new Promise((e=>setTimeout(e,0)))),ee.push(o.routes.traders_hub),await C()}),[ee,C,ae]),{oAuthLogout:ne}=(0,j.A)({handleLogout:ie}),oe=r.useCallback((()=>{A.Analytics.trackEvent("ce_passkey_account_settings_form",{action:"open",form_name:"ce_passkey_account_settings_form",operating_system:(0,o.getOSNameWithUAParser)()})}),[]),ce=(e,t)=>{const s=e.flatMap((e=>e.routes||[]));return t.map((t=>e.find((e=>e.path===t))||s.find((e=>e.path===t)))).filter((e=>e))};return(0,N.jsxs)(r.Fragment,{children:[(0,N.jsx)("a",{id:"dt_mobile_drawer_toggle",onClick:ae,className:"header__mobile-drawer-toggle",children:(0,N.jsx)(p.Icon,{icon:"IcHamburger",width:"16px",height:"16px",className:"header__mobile-drawer-icon"})}),(0,N.jsx)(p.MobileDrawer,{alignment:"left",icon_class:"header__menu-toggle",is_open:X,transitionExit:q,toggle:ae,id:"dt_mobile_drawer",enableApp:n,disableApp:i,title:(0,N.jsx)("div",{children:(0,y.localize)("Account settings")}),height:"100vh",width:"295px",className:"pre-appstore",children:(0,N.jsx)(p.Div100vhContainer,{height_offset:"40px",children:(0,N.jsx)("div",{className:"header__menu-mobile-body-wrapper",children:(0,N.jsx)(r.Fragment,{children:(0,N.jsxs)(p.MobileDrawer.Body,{className:"tradershub-os-header",children:[(0,N.jsx)("div",{className:"header__menu-mobile-platform-switcher",id:"mobile_platform_switcher"}),J.map(((e,t)=>((e,t)=>{if(e.is_authenticated&&!L)return null;if(!e.routes)return(0,N.jsx)(p.MobileDrawer.Item,{children:(0,N.jsx)(k.A,{link_to:e.path,icon:e.icon_component,text:e.getTitle(),onClickLink:ae})},t);const s=e.routes.some((e=>e.subroutes)),a=!c||!I,i=e=>/passkeys/.test(e)?a:!!/languages/.test(e)&&O;return(0,N.jsxs)(r.Fragment,{children:[!s&&e.routes.map(((e,t)=>{if(!e.is_invisible&&(e.path!==o.routes.cashier_pa||F)&&(e.path!==o.routes.cashier_pa_transfer||B)&&(e.path!==o.routes.cashier_p2p||Y)&&(e.path!==o.routes.cashier_onramp||R)&&(e.path!==o.routes.cashier_acc_transfer||H))return(0,N.jsx)(p.MobileDrawer.Item,{children:(0,N.jsx)(k.A,{link_to:e.path,icon:e.icon_component,text:e.getTitle(),onClickLink:ae})},t)})),s&&e.routes.map(((e,t)=>e.subroutes?(0,N.jsx)(p.MobileDrawer.SubMenuSection,{section_icon:e.icon,section_title:e.getTitle(),children:e.subroutes.map(((e,t)=>{return(0,N.jsx)(k.A,{is_disabled:(s=e.path,(/financial-assessment/.test(s)?M:/trading-assessment/.test(s)?M||"maltainvest"!==S:/proof-of-address/.test(s)||/proof-of-identity/.test(s)?!D:/proof-of-income/.test(s)?!E:!!/proof-of-ownership/.test(s)&&(M||!T))||e.is_disabled),link_to:e.path,text:e.getTitle(),onClickLink:()=>{ae(),e.path===o.routes.passkeys&&oe()},is_hidden:i(e.path)},t);var s}))},t):(0,N.jsx)(p.MobileDrawer.Item,{children:(0,N.jsx)(k.A,{link_to:e.path,icon:e.icon_component,text:e.getTitle(),onClickLink:ae})},t)))]},t)})(e,t))),L&&(0,N.jsx)(p.MobileDrawer.Item,{onClick:ne,className:"dc-mobile-drawer__item",children:(0,N.jsx)(k.A,{icon:"IcLogout",text:(0,y.localize)("Log out")})})]})})})})})]})}));O.displayName="ToggleMenuDrawerAccountsOS";const P=O;var L=s(976327),M=s(203117),C=s(652997),D=s(878262),E=s(891118),S=s(610806),T=s(838549);const I=(0,c.observer)((()=>{const{client:e,common:t,ui:s,notifications:i,traders_hub:c}=(0,l.A)(),{currency:p,has_any_real_account:m,is_bot_allowed:g,is_dxtrade_allowed:f,is_logged_in:b,is_logging_in:v,is_mt5_allowed:x,is_virtual:j,is_switching:y}=e,{app_routing_history:A,platform:w,current_language:k,is_from_tradershub_os:O}=t,{header_extension:I,is_app_disabled:U,is_route_modal_on:z,toggleReadyToDepositModal:F,is_real_acc_signup_on:H}=s,{addNotificationMessage:W,client_notifications:R,removeNotificationMessage:B}=i,{setTogglePlatformType:Y}=c,K=(0,a.useHistory)(),{isDesktop:V,isMobile:X}=(0,d.Y)(),$=r.useCallback((()=>B({key:"new_version_available"})),[B]);r.useEffect((()=>(document.addEventListener("IgnorePWAUpdate",$),()=>document.removeEventListener("IgnorePWAUpdate",$))),[$]);const q=e=>e.filter((e=>e.link_to===o.routes.mt5?!b||x:e.link_to===o.routes.dxtrade?f:e.link_to!==o.routes.bot&&e.href!==o.routes.smarttrader||g));return(0,N.jsxs)("header",{className:n()("header",{"header--is-disabled":U||z,"header--is-hidden":o.platforms[w]&&!O,"header--tradershub_os_mobile":b&&O&&!V,"header--tradershub_os_desktop":b&&O&&V}),children:[(0,N.jsxs)("div",{className:"header__menu-items",children:[(0,N.jsxs)("div",{className:"header__menu-left",children:[V?(0,N.jsxs)(r.Fragment,{children:[(0,N.jsx)(E.A,{}),(0,N.jsx)("div",{className:"header__divider"}),(0,N.jsx)(T.A,{}),(0,N.jsx)(u.ft,{app_routing_history:A,platform_config:q(L.A),setTogglePlatformType:Y,current_language:k})]}):(0,N.jsx)(r.Fragment,{children:O?(0,N.jsx)(P,{platform_config:q(L.A)}):(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(h.A,{platform_config:q(L.A)}),I&&b&&(0,N.jsx)("div",{className:"header__menu-left-extensions",children:I})]})}),(0,N.jsx)(u.$2,{})]}),(0,N.jsxs)("div",{className:n()("header__menu-right",{"header__menu-right--hidden":!V&&v}),children:[V&&(0,N.jsx)("div",{className:"header__menu--dtrader--separator--account",children:(0,N.jsx)("div",{className:"header__menu--dtrader--separator"})}),(v||y)&&(0,N.jsx)("div",{id:"dt_core_header_acc-info-preloader",className:n()("acc-info__preloader__dtrader",{"acc-info__preloader__dtrader--no-currency":!p,"acc-info__preloader__dtrader--is-crypto":(0,o.getDecimalPlaces)(p)>2}),children:(0,N.jsx)(_.sk,{is_logged_in:b,is_mobile:!V,speed:3})}),!O&&(0,N.jsx)(S.A,{onClickDeposit:()=>{!m&&j?F():K.push(o.routes.cashier_deposit)}})]})]}),H&&(0,N.jsx)(C.default,{}),(0,N.jsx)(D.default,{}),(0,N.jsx)(M.A,{onUpdate:()=>W(null==R?void 0:R.new_version_available)})]})}))},610806:(e,t,s)=>{s.d(t,{A:()=>o});s(286326);var r=s(679955),a=s(414646),i=s(450552),n=s(836870);const o=(0,r.observer)((e=>{let{onClickDeposit:t}=e;const{client:s,ui:r,notifications:o}=(0,a.A)(),{account_type:c,balance:l,currency:d,is_eu:u,is_logged_in:_,is_virtual:h}=s,{account_switcher_disabled_message:p,disableApp:m,enableApp:g,is_account_switcher_disabled:f,is_accounts_switcher_on:b,openRealAccountSignup:v,toggleAccountsDialog:x}=r,{is_notifications_visible:j,notifications:y,toggleNotificationsModal:A}=o,w=y.filter((e=>!e.only_toast_message));return(0,n.jsx)("div",{id:"dt_core_header_acc-info-container",className:"acc-info__container",children:(0,n.jsx)(i.Xw,{acc_switcher_disabled_message:p,account_type:c,balance:l,currency:d,disableApp:m,enableApp:g,is_acc_switcher_on:b,is_acc_switcher_disabled:f,is_eu:u,is_notifications_visible:j,is_logged_in:_,is_virtual:h,onClickDeposit:t,notifications_count:w.length,toggleAccountsDialog:x,toggleNotifications:A,openRealAccountSignup:v})})}))},838549:(e,t,s)=>{s.d(t,{A:()=>_});s(286326);var r=s(291218),a=s(255530),i=s.n(a),n=s(57886),o=s(189137),c=s(679955),l=s(414646),d=s(33118),u=s(836870);const _=(0,c.observer)((()=>{const{ui:e}=(0,l.A)(),{is_dark_mode_on:t}=e,s=(0,r.useHistory)(),a=(0,r.useLocation)(),{pathname:c}=a,_=t?"IcAppstoreHomeDark":"IcAppstoreTradersHubHomeUpdated";return(0,u.jsxs)("div",{"data-testid":"dt_traders_hub_home_button",className:i()("traders-hub-header__tradershub",{"traders-hub-header__tradershub--active":c===o.routes.traders_hub||c===o.routes.traders_hub_v2}),onClick:()=>s.push(o.routes.traders_hub),children:[(0,u.jsx)("div",{className:"traders-hub-header__tradershub--home-logo",children:(0,u.jsx)(n.Icon,{icon:_,size:t?15:17})}),(0,u.jsx)(n.Text,{className:"traders-hub-header__tradershub--text",children:(0,u.jsx)(d.Localize,{i18n_default_text:"Trader's Hub"})})]})}))},878262:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});s(286326);var r=s(57886),a=s(478784),i=s(33118),n=s(679955),o=s(414646),c=s(836870);const l=(0,n.observer)((()=>{const{client:e,ui:t}=(0,o.A)(),{is_virtual:s}=e,{is_set_currency_modal_visible:n,openRealAccountSignup:l,toggleSetCurrencyModal:d}=t,u=(0,a.A)();return(0,c.jsxs)(r.Modal,{id:"dt_set_account_currency_modal",has_close_icon:!1,is_open:n,small:!0,toggleModal:d,title:u?(0,i.localize)("You have an account that needs action"):(0,i.localize)("No currency assigned to your account"),children:[(0,c.jsx)(r.Modal.Body,{children:(0,i.localize)("Please set a currency for your existing real account before creating another account.")}),(0,c.jsx)(r.Modal.Footer,{children:s?(0,c.jsx)(r.Button,{has_effect:!0,text:(0,i.localize)("OK"),onClick:d,primary:!0}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.Button,{has_effect:!0,text:(0,i.localize)("Cancel"),onClick:d,secondary:!0}),(0,c.jsx)(r.Button,{has_effect:!0,text:(0,i.localize)("Set currency"),onClick:()=>{d(),setTimeout((()=>{l("set_currency")}),250)},primary:!0})]})})]})}))},203117:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(286326);const a=e=>{let{onUpdate:t}=e;return r.useEffect((()=>{const e=()=>{document.removeEventListener("UpdateAvailable",t)},s=()=>{document.addEventListener("UpdateAvailable",t)};return document.addEventListener("UpdateAvailable",t),document.addEventListener("IgnorePWAUpdate",e),document.addEventListener("ListenPWAUpdate",s),()=>{document.removeEventListener("IgnorePWAUpdate",e),document.removeEventListener("ListenPWAUpdate",s),document.removeEventListener("UpdateAvailable",t)}}),[]),null}},654846:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(414646);const a=()=>{const{client:e}=(0,r.A)(),{active_accounts:t}=e;return t.some((e=>0===e.is_virtual))}},478784:(e,t,s)=>{s.d(t,{A:()=>i});var r=s(414646),a=s(654846);const i=()=>{const{client:e}=(0,r.A)(),{account_list:t}=e,s=(0,a.A)();return t.filter((e=>!e.is_virtual)).some((e=>"Real"!==e.title&&"Investment"!==e.title))||!s}}}]);
//# sourceMappingURL=core.dtrader-header.4772d4680e095175f65c.js.map