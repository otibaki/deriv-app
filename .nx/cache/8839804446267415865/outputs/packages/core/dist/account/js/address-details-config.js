!function(e,a){"object"==typeof exports&&"object"==typeof module?module.exports=a(require("@deriv/shared"),require("@deriv/translations")):"function"==typeof define&&define.amd?define(["@deriv/shared","@deriv/translations"],a):"object"==typeof exports?exports["@deriv/account"]=a(require("@deriv/shared"),require("@deriv/translations")):e["@deriv/account"]=a(e["@deriv/shared"],e["@deriv/translations"])}(self,((e,a)=>(()=>{"use strict";var s={"@deriv/shared":a=>{a.exports=e},"@deriv/translations":e=>{e.exports=a}},r={};function t(e){var a=r[e];if(void 0!==a)return a.exports;var l=r[e]={exports:{}};return s[e](l,l.exports,t),l.exports}t.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a}),a},t.d=(e,a)=>{for(var s in a)t.o(a,s)&&!t.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:a[s]})},t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a);var l={};t.d(l,{default:()=>n});var i=t("@deriv/shared"),d=t("@deriv/translations");const o=(e,a)=>(a&&"svg"!==a&&"maltainvest"!==a||e.address_state.rules?.shift(),e),n=(e,a)=>{let{states_list:s,upgrade_info:r,real_account_signup_target:t,account_settings:l}=e;const n=(e=>{let{states_list:a,account_settings:s,is_svg:r}=e;return s?{address_line_1:{supported_in:["svg","maltainvest"],default_value:s.address_line_1??"",rules:[["req",(0,d.localize)("First line of address is required")],["length",(0,d.localize)("Only {{max}} characters, please.",{max:70}),{max:70}],["regular",(0,d.localize)("Use only the following special characters: {{permitted_characters}}",{permitted_characters:i.address_permitted_special_characters_message,interpolation:{escapeValue:!1}}),{regex:i.regex_checks.address_details.address_line_1}],["po_box",(0,i.getErrorMessages)().po_box()]].filter((e=>r?0!==e.indexOf("po_box"):e))},address_line_2:{supported_in:["svg","maltainvest"],default_value:s.address_line_2??"",rules:[["length",(0,d.localize)("Only {{max}} characters, please.",{max:70}),{max:70}],["regular",(0,d.localize)("Use only the following special characters: {{permitted_characters}}",{permitted_characters:i.address_permitted_special_characters_message,interpolation:{escapeValue:!1}}),{regex:i.regex_checks.address_details.address_line_2}],["po_box",(0,i.getErrorMessages)().po_box()]].filter((e=>r?0!==e.indexOf("po_box"):e))},address_city:{supported_in:["svg","maltainvest"],default_value:s.address_city??"",rules:[["req",(0,d.localize)("City is required")],["length",(0,d.localize)("Only {{max}} characters, please.",{max:99}),{max:99}],["regular",(0,d.localize)("Only letters, periods, hyphens, apostrophes, and spaces, please."),{regex:i.regex_checks.address_details.address_city}]]},address_state:{supported_in:["svg","maltainvest"],default_value:a.find((e=>e.value===s.address_state))?.text??"",rules:[["req",(0,d.localize)("State is required")],["regular",(0,d.localize)("State is not in a proper format"),{regex:i.regex_checks.address_details.address_state}]]},address_postcode:{supported_in:["svg","maltainvest"],default_value:s.address_postcode??"",rules:[["length",(0,d.localize)("Please enter a {{field_name}} under {{max_number}} characters.",{field_name:(0,d.localize)("postal/ZIP code"),max_number:20,interpolation:{escapeValue:!1}}),{min:0,max:20}],["regular",(0,d.localize)("Only letters, numbers, space and hyphen are allowed."),{regex:i.regex_checks.address_details.address_postcode}]]}}:{}})({states_list:s,account_settings:l,is_svg:"svg"===r?.can_upgrade_to}),c=l.immutable_fields;return{header:{active_title:(0,d.localize)("Complete your address details"),title:(0,d.localize)("Address")},body:a,form_value:(0,i.getDefaultFields)(t,n),props:{validate:(0,i.generateValidationFunction)(t,o(n,t)),disabled_items:c},passthrough:["residence_list","is_fully_authenticated","has_real_account"],icon:"IcDashboardAddress"}};return l.default})()));