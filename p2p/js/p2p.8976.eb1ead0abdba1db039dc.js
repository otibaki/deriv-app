/*! For license information please see p2p.8976.eb1ead0abdba1db039dc.js.LICENSE.txt */
(self.webpackChunk_deriv_p2p=self.webpackChunk_deriv_p2p||[]).push([[8976],{55549:e=>{e.exports={getEnglishCharacters:e=>e.normalize("NFD").split("").filter((e=>/^[a-z ]*$/i.test(e))).join(""),getFileNameFromPath:e=>e.match(/([^/]*)\/*$/)[1].replace(".svg",""),getKebabCase:e=>e?e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/[\s]+/g,"-").toLowerCase():e,getPascalCase:e=>e?String(e).replace(/^[^A-Za-z0-9]*|[^A-Za-z0-9]*$/g,"$").replace(/[^_A-Za-z0-9]+/g,"$").replace(/([a-z])([A-Z])/g,((e,t,n)=>`${t}$${n}`)).replace(/(\$)(\w?)/g,((e,t,n)=>n.toUpperCase())):"",getSnakeCase:e=>e?e.replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/[\s]+/g,"_").toLowerCase():e}},637:(e,t)=>{var n;n=function(e){e.version="1.2.2";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}(),n=function(e){var t=0,n=0,r=0,i="undefined"!=typeof Int32Array?new Int32Array(4096):new Array(4096);for(r=0;256!=r;++r)i[r]=e[r];for(r=0;256!=r;++r)for(n=e[r],t=256+r;t<4096;t+=256)n=i[t]=n>>>8^e[255&n];var s=[];for(r=1;16!=r;++r)s[r-1]="undefined"!=typeof Int32Array?i.subarray(256*r,256*r+256):i.slice(256*r,256*r+256);return s}(t),r=n[0],i=n[1],s=n[2],a=n[3],o=n[4],u=n[5],c=n[6],l=n[7],d=n[8],h=n[9],_=n[10],f=n[11],p=n[12],m=n[13],g=n[14];e.table=t,e.bstr=function(e,n){for(var r=~n,i=0,s=e.length;i<s;)r=r>>>8^t[255&(r^e.charCodeAt(i++))];return~r},e.buf=function(e,n){for(var y=~n,v=e.length-15,b=0;b<v;)y=g[e[b++]^255&y]^m[e[b++]^y>>8&255]^p[e[b++]^y>>16&255]^f[e[b++]^y>>>24]^_[e[b++]]^h[e[b++]]^d[e[b++]]^l[e[b++]]^c[e[b++]]^u[e[b++]]^o[e[b++]]^a[e[b++]]^s[e[b++]]^i[e[b++]]^r[e[b++]]^t[e[b++]];for(v+=15;b<v;)y=y>>>8^t[255&(y^e[b++])];return~y},e.str=function(e,n){for(var r=~n,i=0,s=e.length,a=0,o=0;i<s;)(a=e.charCodeAt(i++))<128?r=r>>>8^t[255&(r^a)]:a<2048?r=(r=r>>>8^t[255&(r^(192|a>>6&31))])>>>8^t[255&(r^(128|63&a))]:a>=55296&&a<57344?(a=64+(1023&a),o=1023&e.charCodeAt(i++),r=(r=(r=(r=r>>>8^t[255&(r^(240|a>>8&7))])>>>8^t[255&(r^(128|a>>2&63))])>>>8^t[255&(r^(128|o>>6&15|(3&a)<<4))])>>>8^t[255&(r^(128|63&o))]):r=(r=(r=r>>>8^t[255&(r^(224|a>>12&15))])>>>8^t[255&(r^(128|a>>6&63))])>>>8^t[255&(r^(128|63&a))];return~r}},"undefined"==typeof DO_NOT_EXPORT_CRC?n(t):n({})},43726:function(e,t,n){!function(e){"use strict";e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(e){return/^nm$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Môre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(99420))},81241:function(e,t,n){!function(e){"use strict";var t=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},n={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},r=function(e){return function(r,i,s,a){var o=t(r),u=n[e][t(r)];return 2===o&&(u=u[i?0:1]),u.replace(/%d/i,r)}},i=["جانفي","فيفري","مارس","أفريل","ماي","جوان","جويلية","أوت","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar-dz",{months:i,monthsShort:i,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:0,doy:4}})}(n(99420))},24873:function(e,t,n){!function(e){"use strict";e.defineLocale("ar-kw",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:0,doy:12}})}(n(99420))},36008:function(e,t,n){!function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},r={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},i=function(e){return function(t,i,s,a){var o=n(t),u=r[e][n(t)];return 2===o&&(u=u[i?0:1]),u.replace(/%d/i,t)}},s=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar-ly",{months:s,monthsShort:s,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(99420))},77721:function(e,t,n){!function(e){"use strict";e.defineLocale("ar-ma",{months:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"احد_اثنين_ثلاثاء_اربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}})}(n(99420))},86774:function(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};e.defineLocale("ar-ps",{months:"كانون الثاني_شباط_آذار_نيسان_أيّار_حزيران_تمّوز_آب_أيلول_تشري الأوّل_تشرين الثاني_كانون الأوّل".split("_"),monthsShort:"ك٢_شباط_آذار_نيسان_أيّار_حزيران_تمّوز_آب_أيلول_ت١_ت٢_ك١".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[٣٤٥٦٧٨٩٠]/g,(function(e){return n[e]})).split("").reverse().join("").replace(/[١٢](?![\u062a\u0643])/g,(function(e){return n[e]})).split("").reverse().join("").replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:0,doy:6}})}(n(99420))},78155:function(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"};e.defineLocale("ar-sa",{months:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,(function(e){return n[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:0,doy:6}})}(n(99420))},32245:function(e,t,n){!function(e){"use strict";e.defineLocale("ar-tn",{months:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),monthsShort:"جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر".split("_"),weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[اليوم على الساعة] LT",nextDay:"[غدا على الساعة] LT",nextWeek:"dddd [على الساعة] LT",lastDay:"[أمس على الساعة] LT",lastWeek:"dddd [على الساعة] LT",sameElse:"L"},relativeTime:{future:"في %s",past:"منذ %s",s:"ثوان",ss:"%d ثانية",m:"دقيقة",mm:"%d دقائق",h:"ساعة",hh:"%d ساعات",d:"يوم",dd:"%d أيام",M:"شهر",MM:"%d أشهر",y:"سنة",yy:"%d سنوات"},week:{dow:1,doy:4}})}(n(99420))},28754:function(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},i={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},s=function(e){return function(t,n,s,a){var o=r(t),u=i[e][r(t)];return 2===o&&(u=u[n?0:1]),u.replace(/%d/i,t)}},a=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar",{months:a,monthsShort:a,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:s("s"),ss:s("s"),m:s("m"),mm:s("m"),h:s("h"),hh:s("h"),d:s("d"),dd:s("d"),M:s("M"),MM:s("M"),y:s("y"),yy:s("y")},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,(function(e){return n[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(99420))},44586:function(e,t,n){!function(e){"use strict";var t={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-üncü",4:"-üncü",100:"-üncü",6:"-ncı",9:"-uncu",10:"-uncu",30:"-uncu",60:"-ıncı",90:"-ıncı"};e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə".split("_"),weekdaysShort:"Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən".split("_"),weekdaysMin:"Bz_BE_ÇA_Çə_CA_Cü_Şə".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gələn həftə] dddd [saat] LT",lastDay:"[dünən] LT",lastWeek:"[keçən həftə] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s əvvəl",s:"bir neçə saniyə",ss:"%d saniyə",m:"bir dəqiqə",mm:"%d dəqiqə",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gecə|səhər|gündüz|axşam/,isPM:function(e){return/^(gündüz|axşam)$/.test(e)},meridiem:function(e,t,n){return e<4?"gecə":e<12?"səhər":e<17?"gündüz":"axşam"},dayOfMonthOrdinalParse:/\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,ordinal:function(e){if(0===e)return e+"-ıncı";var n=e%10;return e+(t[n]||t[e%100-n]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(99420))},29852:function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"хвіліна":"хвіліну":"h"===n?t?"гадзіна":"гадзіну":e+" "+function(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}({ss:t?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:t?"хвіліна_хвіліны_хвілін":"хвіліну_хвіліны_хвілін",hh:t?"гадзіна_гадзіны_гадзін":"гадзіну_гадзіны_гадзін",dd:"дзень_дні_дзён",MM:"месяц_месяцы_месяцаў",yy:"год_гады_гадоў"}[n],+e)}e.defineLocale("be",{months:{format:"студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня".split("_"),standalone:"студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань".split("_")},monthsShort:"студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж".split("_"),weekdays:{format:"нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу".split("_"),standalone:"нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота".split("_"),isFormat:/\[ ?[Ууў] ?(?:мінулую|наступную)? ?\] ?dddd/},weekdaysShort:"нд_пн_ат_ср_чц_пт_сб".split("_"),weekdaysMin:"нд_пн_ат_ср_чц_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., HH:mm",LLLL:"dddd, D MMMM YYYY г., HH:mm"},calendar:{sameDay:"[Сёння ў] LT",nextDay:"[Заўтра ў] LT",lastDay:"[Учора ў] LT",nextWeek:function(){return"[У] dddd [ў] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[У мінулую] dddd [ў] LT";case 1:case 2:case 4:return"[У мінулы] dddd [ў] LT"}},sameElse:"L"},relativeTime:{future:"праз %s",past:"%s таму",s:"некалькі секунд",m:t,mm:t,h:t,hh:t,d:"дзень",dd:t,M:"месяц",MM:t,y:"год",yy:t},meridiemParse:/ночы|раніцы|дня|вечара/,isPM:function(e){return/^(дня|вечара)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночы":e<12?"раніцы":e<17?"дня":"вечара"},dayOfMonthOrdinalParse:/\d{1,2}-(і|ы|га)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e%10!=2&&e%10!=3||e%100==12||e%100==13?e+"-ы":e+"-і";case"D":return e+"-га";default:return e}},week:{dow:1,doy:7}})}(n(99420))},91846:function(e,t,n){!function(e){"use strict";e.defineLocale("bg",{months:"януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември".split("_"),monthsShort:"яну_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек".split("_"),weekdays:"неделя_понеделник_вторник_сряда_четвъртък_петък_събота".split("_"),weekdaysShort:"нед_пон_вто_сря_чет_пет_съб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Днес в] LT",nextDay:"[Утре в] LT",nextWeek:"dddd [в] LT",lastDay:"[Вчера в] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Миналата] dddd [в] LT";case 1:case 2:case 4:case 5:return"[Миналия] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"след %s",past:"преди %s",s:"няколко секунди",ss:"%d секунди",m:"минута",mm:"%d минути",h:"час",hh:"%d часа",d:"ден",dd:"%d дена",w:"седмица",ww:"%d седмици",M:"месец",MM:"%d месеца",y:"година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}(n(99420))},80420:function(e,t,n){!function(e){"use strict";e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mɛkalo_Zuwɛnkalo_Zuluyekalo_Utikalo_Sɛtanburukalo_ɔkutɔburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_Mɛ_Zuw_Zul_Uti_Sɛt_ɔku_Now_Des".split("_"),weekdays:"Kari_Ntɛnɛn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Ntɛ_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm"},calendar:{sameDay:"[Bi lɛrɛ] LT",nextDay:"[Sini lɛrɛ] LT",nextWeek:"dddd [don lɛrɛ] LT",lastDay:"[Kunu lɛrɛ] LT",lastWeek:"dddd [tɛmɛnen lɛrɛ] LT",sameElse:"L"},relativeTime:{future:"%s kɔnɔ",past:"a bɛ %s bɔ",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lɛrɛ kelen",hh:"lɛrɛ %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(n(99420))},25776:function(e,t,n){!function(e){"use strict";var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},n={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};e.defineLocale("bn-bd",{months:"জানুয়ারি_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব্রু_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গল_বুধ_বৃহ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",ss:"%d সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/রাত|ভোর|সকাল|দুপুর|বিকাল|সন্ধ্যা|রাত/,meridiemHour:function(e,t){return 12===e&&(e=0),"রাত"===t?e<4?e:e+12:"ভোর"===t||"সকাল"===t?e:"দুপুর"===t?e>=3?e:e+12:"বিকাল"===t||"সন্ধ্যা"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"রাত":e<6?"ভোর":e<12?"সকাল":e<15?"দুপুর":e<18?"বিকাল":e<20?"সন্ধ্যা":"রাত"},week:{dow:0,doy:6}})}(n(99420))},5005:function(e,t,n){!function(e){"use strict";var t={1:"১",2:"২",3:"৩",4:"৪",5:"৫",6:"৬",7:"৭",8:"৮",9:"৯",0:"০"},n={"১":"1","২":"2","৩":"3","৪":"4","৫":"5","৬":"6","৭":"7","৮":"8","৯":"9","০":"0"};e.defineLocale("bn",{months:"জানুয়ারি_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর".split("_"),monthsShort:"জানু_ফেব্রু_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্ট_অক্টো_নভে_ডিসে".split("_"),weekdays:"রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার".split("_"),weekdaysShort:"রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি".split("_"),weekdaysMin:"রবি_সোম_মঙ্গল_বুধ_বৃহ_শুক্র_শনি".split("_"),longDateFormat:{LT:"A h:mm সময়",LTS:"A h:mm:ss সময়",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm সময়",LLLL:"dddd, D MMMM YYYY, A h:mm সময়"},calendar:{sameDay:"[আজ] LT",nextDay:"[আগামীকাল] LT",nextWeek:"dddd, LT",lastDay:"[গতকাল] LT",lastWeek:"[গত] dddd, LT",sameElse:"L"},relativeTime:{future:"%s পরে",past:"%s আগে",s:"কয়েক সেকেন্ড",ss:"%d সেকেন্ড",m:"এক মিনিট",mm:"%d মিনিট",h:"এক ঘন্টা",hh:"%d ঘন্টা",d:"এক দিন",dd:"%d দিন",M:"এক মাস",MM:"%d মাস",y:"এক বছর",yy:"%d বছর"},preparse:function(e){return e.replace(/[১২৩৪৫৬৭৮৯০]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/রাত|সকাল|দুপুর|বিকাল|রাত/,meridiemHour:function(e,t){return 12===e&&(e=0),"রাত"===t&&e>=4||"দুপুর"===t&&e<5||"বিকাল"===t?e+12:e},meridiem:function(e,t,n){return e<4?"রাত":e<10?"সকাল":e<17?"দুপুর":e<20?"বিকাল":"রাত"},week:{dow:0,doy:6}})}(n(99420))},44302:function(e,t,n){!function(e){"use strict";var t={1:"༡",2:"༢",3:"༣",4:"༤",5:"༥",6:"༦",7:"༧",8:"༨",9:"༩",0:"༠"},n={"༡":"1","༢":"2","༣":"3","༤":"4","༥":"5","༦":"6","༧":"7","༨":"8","༩":"9","༠":"0"};e.defineLocale("bo",{months:"ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ".split("_"),monthsShort:"ཟླ་1_ཟླ་2_ཟླ་3_ཟླ་4_ཟླ་5_ཟླ་6_ཟླ་7_ཟླ་8_ཟླ་9_ཟླ་10_ཟླ་11_ཟླ་12".split("_"),monthsShortRegex:/^(ཟླ་\d{1,2})/,monthsParseExact:!0,weekdays:"གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་".split("_"),weekdaysShort:"ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་".split("_"),weekdaysMin:"ཉི_ཟླ_མིག_ལྷག_ཕུར_སངས_སྤེན".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[དི་རིང] LT",nextDay:"[སང་ཉིན] LT",nextWeek:"[བདུན་ཕྲག་རྗེས་མ], LT",lastDay:"[ཁ་སང] LT",lastWeek:"[བདུན་ཕྲག་མཐའ་མ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ལ་",past:"%s སྔན་ལ",s:"ལམ་སང",ss:"%d སྐར་ཆ།",m:"སྐར་མ་གཅིག",mm:"%d སྐར་མ",h:"ཆུ་ཚོད་གཅིག",hh:"%d ཆུ་ཚོད",d:"ཉིན་གཅིག",dd:"%d ཉིན་",M:"ཟླ་བ་གཅིག",MM:"%d ཟླ་བ",y:"ལོ་གཅིག",yy:"%d ལོ"},preparse:function(e){return e.replace(/[༡༢༣༤༥༦༧༨༩༠]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,meridiemHour:function(e,t){return 12===e&&(e=0),"མཚན་མོ"===t&&e>=4||"ཉིན་གུང"===t&&e<5||"དགོང་དག"===t?e+12:e},meridiem:function(e,t,n){return e<4?"མཚན་མོ":e<10?"ཞོགས་ཀས":e<17?"ཉིན་གུང":e<20?"དགོང་དག":"མཚན་མོ"},week:{dow:0,doy:6}})}(n(99420))},34649:function(e,t,n){!function(e){"use strict";function t(e,t,n){return e+" "+function(e,t){return 2===t?function(e){var t={m:"v",b:"v",d:"z"};return void 0===t[e.charAt(0)]?e:t[e.charAt(0)]+e.substring(1)}(e):e}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],e)}function n(e){return e>9?n(e%10):e}var r=[/^gen/i,/^c[ʼ\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],i=/^(genver|c[ʼ\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[ʼ\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,s=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];e.defineLocale("br",{months:"Genver_Cʼhwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Cʼhwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercʼher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:s,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[ʼ\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:s,monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(genver|c[ʼ\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[ʼ\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warcʼhoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Decʼh da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s ʼzo",s:"un nebeud segondennoù",ss:"%d eilenn",m:"ur vunutenn",mm:t,h:"un eur",hh:"%d eur",d:"un devezh",dd:t,M:"ur miz",MM:t,y:"ur bloaz",yy:function(e){switch(n(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(añ|vet)/,ordinal:function(e){return e+(1===e?"añ":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(e){return"g.m."===e},meridiem:function(e,t,n){return e<12?"a.m.":"g.m."}})}(n(99420))},45162:function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+(1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi");case"mm":return r+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return"jedan sat";case"hh":return r+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return r+(1===e?"dan":"dana");case"MM":return r+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return r+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prošlu] dddd [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:function(e,t,n,r){if("m"===n)return t?"jedna minuta":r?"jednu minutu":"jedne minute"},mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(99420))},62457:function(e,t,n){!function(e){"use strict";e.defineLocale("ca",{months:{standalone:"gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de març_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[demà a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(99420))},39335:function(e,t,n){!function(e){"use strict";var t={standalone:"leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec".split("_"),format:"ledna_února_března_dubna_května_června_července_srpna_září_října_listopadu_prosince".split("_"),isFormat:/DD?[o.]?(\[[^\[\]]*\]|\s)+MMMM/},n="led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro".split("_"),r=[/^led/i,/^úno/i,/^bře/i,/^dub/i,/^kvě/i,/^(čvn|červen$|června)/i,/^(čvc|červenec|července)/i,/^srp/i,/^zář/i,/^říj/i,/^lis/i,/^pro/i],i=/^(leden|únor|březen|duben|květen|červenec|července|červen|června|srpen|září|říjen|listopad|prosinec|led|úno|bře|dub|kvě|čvn|čvc|srp|zář|říj|lis|pro)/i;function s(e){return e>1&&e<5&&1!=~~(e/10)}function a(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"pár sekund":"pár sekundami";case"ss":return t||r?i+(s(e)?"sekundy":"sekund"):i+"sekundami";case"m":return t?"minuta":r?"minutu":"minutou";case"mm":return t||r?i+(s(e)?"minuty":"minut"):i+"minutami";case"h":return t?"hodina":r?"hodinu":"hodinou";case"hh":return t||r?i+(s(e)?"hodiny":"hodin"):i+"hodinami";case"d":return t||r?"den":"dnem";case"dd":return t||r?i+(s(e)?"dny":"dní"):i+"dny";case"M":return t||r?"měsíc":"měsícem";case"MM":return t||r?i+(s(e)?"měsíce":"měsíců"):i+"měsíci";case"y":return t||r?"rok":"rokem";case"yy":return t||r?i+(s(e)?"roky":"let"):i+"lety"}}e.defineLocale("cs",{months:t,monthsShort:n,monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(leden|ledna|února|únor|březen|března|duben|dubna|květen|května|červenec|července|červen|června|srpen|srpna|září|říjen|října|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|úno|bře|dub|kvě|čvn|čvc|srp|zář|říj|lis|pro)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota".split("_"),weekdaysShort:"ne_po_út_st_čt_pá_so".split("_"),weekdaysMin:"ne_po_út_st_čt_pá_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[zítra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v neděli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve středu v] LT";case 4:return"[ve čtvrtek v] LT";case 5:return"[v pátek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[včera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou neděli v] LT";case 1:case 2:return"[minulé] dddd [v] LT";case 3:return"[minulou středu v] LT";case 4:case 5:return"[minulý] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"před %s",s:a,ss:a,m:a,mm:a,h:a,hh:a,d:a,dd:a,M:a,MM:a,y:a,yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(99420))},34364:function(e,t,n){!function(e){"use strict";e.defineLocale("cv",{months:"кӑрлач_нарӑс_пуш_ака_май_ҫӗртме_утӑ_ҫурла_авӑн_юпа_чӳк_раштав".split("_"),monthsShort:"кӑр_нар_пуш_ака_май_ҫӗр_утӑ_ҫур_авн_юпа_чӳк_раш".split("_"),weekdays:"вырсарникун_тунтикун_ытларикун_юнкун_кӗҫнерникун_эрнекун_шӑматкун".split("_"),weekdaysShort:"выр_тун_ытл_юн_кӗҫ_эрн_шӑм".split("_"),weekdaysMin:"вр_тн_ыт_юн_кҫ_эр_шм".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ]",LLL:"YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm",LLLL:"dddd, YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm"},calendar:{sameDay:"[Паян] LT [сехетре]",nextDay:"[Ыран] LT [сехетре]",lastDay:"[Ӗнер] LT [сехетре]",nextWeek:"[Ҫитес] dddd LT [сехетре]",lastWeek:"[Иртнӗ] dddd LT [сехетре]",sameElse:"L"},relativeTime:{future:function(e){return e+(/сехет$/i.exec(e)?"рен":/ҫул$/i.exec(e)?"тан":"ран")},past:"%s каялла",s:"пӗр-ик ҫеккунт",ss:"%d ҫеккунт",m:"пӗр минут",mm:"%d минут",h:"пӗр сехет",hh:"%d сехет",d:"пӗр кун",dd:"%d кун",M:"пӗр уйӑх",MM:"%d уйӑх",y:"пӗр ҫул",yy:"%d ҫул"},dayOfMonthOrdinalParse:/\d{1,2}-мӗш/,ordinal:"%d-мӗш",week:{dow:1,doy:7}})}(n(99420))},15057:function(e,t,n){!function(e){"use strict";e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn ôl",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(e){var t="";return e>20?t=40===e||50===e||60===e||80===e||100===e?"fed":"ain":e>0&&(t=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][e]),e+t},week:{dow:1,doy:4}})}(n(99420))},78498:function(e,t,n){!function(e){"use strict";e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"søn_man_tir_ons_tor_fre_lør".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"på dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"få sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en måned",MM:"%d måneder",y:"et år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(99420))},11614:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de-at",{months:"Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jän._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(99420))},91416:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de-ch",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(99420))},14830:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}e.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,w:t,ww:"%d Wochen",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(99420))},53147:function(e,t,n){!function(e){"use strict";var t=["ޖެނުއަރީ","ފެބްރުއަރީ","މާރިޗު","އޭޕްރީލު","މޭ","ޖޫން","ޖުލައި","އޯގަސްޓު","ސެޕްޓެމްބަރު","އޮކްޓޯބަރު","ނޮވެމްބަރު","ޑިސެމްބަރު"],n=["އާދިއްތަ","ހޯމަ","އަންގާރަ","ބުދަ","ބުރާސްފަތި","ހުކުރު","ހޮނިހިރު"];e.defineLocale("dv",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:"އާދި_ހޯމަ_އަން_ބުދަ_ބުރާ_ހުކު_ހޮނި".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/މކ|މފ/,isPM:function(e){return"މފ"===e},meridiem:function(e,t,n){return e<12?"މކ":"މފ"},calendar:{sameDay:"[މިއަދު] LT",nextDay:"[މާދަމާ] LT",nextWeek:"dddd LT",lastDay:"[އިއްޔެ] LT",lastWeek:"[ފާއިތުވި] dddd LT",sameElse:"L"},relativeTime:{future:"ތެރޭގައި %s",past:"ކުރިން %s",s:"ސިކުންތުކޮޅެއް",ss:"d% ސިކުންތު",m:"މިނިޓެއް",mm:"މިނިޓު %d",h:"ގަޑިއިރެއް",hh:"ގަޑިއިރު %d",d:"ދުވަހެއް",dd:"ދުވަސް %d",M:"މަހެއް",MM:"މަސް %d",y:"އަހަރެއް",yy:"އަހަރު %d"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:7,doy:12}})}(n(99420))},24968:function(e,t,n){!function(e){"use strict";e.defineLocale("el",{monthsNominativeEl:"Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος".split("_"),monthsGenitiveEl:"Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου".split("_"),months:function(e,t){return e?"string"==typeof t&&/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]:this._monthsNominativeEl},monthsShort:"Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ".split("_"),weekdays:"Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο".split("_"),weekdaysShort:"Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ".split("_"),weekdaysMin:"Κυ_Δε_Τρ_Τε_Πε_Πα_Σα".split("_"),meridiem:function(e,t,n){return e>11?n?"μμ":"ΜΜ":n?"πμ":"ΠΜ"},isPM:function(e){return"μ"===(e+"").toLowerCase()[0]},meridiemParse:/[ΠΜ]\.?Μ?\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[Σήμερα {}] LT",nextDay:"[Αύριο {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[Χθες {}] LT",lastWeek:function(){return 6===this.day()?"[το προηγούμενο] dddd [{}] LT":"[την προηγούμενη] dddd [{}] LT"},sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],r=t&&t.hours();return function(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}(n)&&(n=n.apply(t)),n.replace("{}",r%12==1?"στη":"στις")},relativeTime:{future:"σε %s",past:"%s πριν",s:"λίγα δευτερόλεπτα",ss:"%d δευτερόλεπτα",m:"ένα λεπτό",mm:"%d λεπτά",h:"μία ώρα",hh:"%d ώρες",d:"μία μέρα",dd:"%d μέρες",M:"ένας μήνας",MM:"%d μήνες",y:"ένας χρόνος",yy:"%d χρόνια"},dayOfMonthOrdinalParse:/\d{1,2}η/,ordinal:"%dη",week:{dow:1,doy:4}})}(n(99420))},94073:function(e,t,n){!function(e){"use strict";e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:4}})}(n(99420))},11387:function(e,t,n){!function(e){"use strict";e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(99420))},41386:function(e,t,n){!function(e){"use strict";e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(99420))},53537:function(e,t,n){!function(e){"use strict";e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(99420))},67050:function(e,t,n){!function(e){"use strict";e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}})}(n(99420))},3008:function(e,t,n){!function(e){"use strict";e.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:0,doy:6}})}(n(99420))},96963:function(e,t,n){!function(e){"use strict";e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(99420))},14865:function(e,t,n){!function(e){"use strict";e.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(99420))},43713:function(e,t,n){!function(e){"use strict";e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_aŭg_sept_okt_nov_dec".split("_"),weekdays:"dimanĉo_lundo_mardo_merkredo_ĵaŭdo_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_ĵaŭ_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_ĵa_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(e){return"p"===e.charAt(0).toLowerCase()},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodiaŭ je] LT",nextDay:"[Morgaŭ je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hieraŭ je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"antaŭ %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(n(99420))},34611:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(99420))},65247:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:4},invalidDate:"Fecha inválida"})}(n(99420))},71554:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:0,doy:6}})}(n(99420))},6341:function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4},invalidDate:"Fecha inválida"})}(n(99420))},17776:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["mõne sekundi","mõni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["ühe minuti","üks minut"],mm:[e+" minuti",e+" minutit"],h:["ühe tunni","tund aega","üks tund"],hh:[e+" tunni",e+" tundi"],d:["ühe päeva","üks päev"],M:["kuu aja","kuu aega","üks kuu"],MM:[e+" kuu",e+" kuud"],y:["ühe aasta","aasta","üks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}e.defineLocale("et",{months:"jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Täna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Järgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s pärast",past:"%s tagasi",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d päeva",M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(99420))},41927:function(e,t,n){!function(e){"use strict";e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(99420))},42148:function(e,t,n){!function(e){"use strict";var t={1:"۱",2:"۲",3:"۳",4:"۴",5:"۵",6:"۶",7:"۷",8:"۸",9:"۹",0:"۰"},n={"۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","۰":"0"};e.defineLocale("fa",{months:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),monthsShort:"ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر".split("_"),weekdays:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysShort:"یک‌شنبه_دوشنبه_سه‌شنبه_چهارشنبه_پنج‌شنبه_جمعه_شنبه".split("_"),weekdaysMin:"ی_د_س_چ_پ_ج_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/قبل از ظهر|بعد از ظهر/,isPM:function(e){return/بعد از ظهر/.test(e)},meridiem:function(e,t,n){return e<12?"قبل از ظهر":"بعد از ظهر"},calendar:{sameDay:"[امروز ساعت] LT",nextDay:"[فردا ساعت] LT",nextWeek:"dddd [ساعت] LT",lastDay:"[دیروز ساعت] LT",lastWeek:"dddd [پیش] [ساعت] LT",sameElse:"L"},relativeTime:{future:"در %s",past:"%s پیش",s:"چند ثانیه",ss:"%d ثانیه",m:"یک دقیقه",mm:"%d دقیقه",h:"یک ساعت",hh:"%d ساعت",d:"یک روز",dd:"%d روز",M:"یک ماه",MM:"%d ماه",y:"یک سال",yy:"%d سال"},preparse:function(e){return e.replace(/[۰-۹]/g,(function(e){return n[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},dayOfMonthOrdinalParse:/\d{1,2}م/,ordinal:"%dم",week:{dow:6,doy:12}})}(n(99420))},25756:function(e,t,n){!function(e){"use strict";var t="nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän".split(" "),n=["nolla","yhden","kahden","kolmen","neljän","viiden","kuuden",t[7],t[8],t[9]];function r(e,t,n,r){var s="";switch(n){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"ss":s=r?"sekunnin":"sekuntia";break;case"m":return r?"minuutin":"minuutti";case"mm":s=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":s=r?"tunnin":"tuntia";break;case"d":return r?"päivän":"päivä";case"dd":s=r?"päivän":"päivää";break;case"M":return r?"kuukauden":"kuukausi";case"MM":s=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":s=r?"vuoden":"vuotta"}return i(e,r)+" "+s}function i(e,r){return e<10?r?n[e]:t[e]:e}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tänään] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s päästä",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(99420))},30754:function(e,t,n){!function(e){"use strict";e.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(99420))},27002:function(e,t,n){!function(e){"use strict";e.defineLocale("fo",{months:"januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mán_týs_mik_hós_frí_ley".split("_"),weekdaysMin:"su_má_tý_mi_hó_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[Í dag kl.] LT",nextDay:"[Í morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[Í gjár kl.] LT",lastWeek:"[síðstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s síðani",s:"fá sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tími",hh:"%d tímar",d:"ein dagur",dd:"%d dagar",M:"ein mánaður",MM:"%d mánaðir",y:"eitt ár",yy:"%d ár"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(99420))},61762:function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ca",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}}})}(n(99420))},6185:function(e,t,n){!function(e){"use strict";e.defineLocale("fr-ch",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(99420))},35997:function(e,t,n){!function(e){"use strict";var t=/(janv\.?|févr\.?|mars|avr\.?|mai|juin|juil\.?|août|sept\.?|oct\.?|nov\.?|déc\.?|janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i,n=[/^janv/i,/^févr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^août/i,/^sept/i,/^oct/i,/^nov/i,/^déc/i];e.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsRegex:t,monthsShortRegex:t,monthsStrictRegex:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i,monthsShortStrictRegex:/(janv\.?|févr\.?|mars|avr\.?|mai|juin|juil\.?|août|sept\.?|oct\.?|nov\.?|déc\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(99420))},95020:function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[ôfrûne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien minút",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(99420))},98493:function(e,t,n){!function(e){"use strict";e.defineLocale("ga",{months:["Eanáir","Feabhra","Márta","Aibreán","Bealtaine","Meitheamh","Iúil","Lúnasa","Meán Fómhair","Deireadh Fómhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","Márt","Aib","Beal","Meith","Iúil","Lún","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["Dé Domhnaigh","Dé Luain","Dé Máirt","Dé Céadaoin","Déardaoin","Dé hAoine","Dé Sathairn"],weekdaysShort:["Domh","Luan","Máirt","Céad","Déar","Aoine","Sath"],weekdaysMin:["Do","Lu","Má","Cé","Dé","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amárach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inné ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s ó shin",s:"cúpla soicind",ss:"%d soicind",m:"nóiméad",mm:"%d nóiméad",h:"uair an chloig",hh:"%d uair an chloig",d:"lá",dd:"%d lá",M:"mí",MM:"%d míonna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(99420))},78162:function(e,t,n){!function(e){"use strict";e.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Màrt","An Giblean","An Cèitean","An t-Ògmhios","An t-Iuchar","An Lùnastal","An t-Sultain","An Dàmhair","An t-Samhain","An Dùbhlachd"],monthsShort:["Faoi","Gear","Màrt","Gibl","Cèit","Ògmh","Iuch","Lùn","Sult","Dàmh","Samh","Dùbh"],monthsParseExact:!0,weekdays:["Didòmhnaich","Diluain","Dimàirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["Dò","Lu","Mà","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-màireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-dè aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mìos",MM:"%d mìosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(e){return e+(1===e?"d":e%10==2?"na":"mh")},week:{dow:1,doy:4}})}(n(99420))},11402:function(e,t,n){!function(e){"use strict";e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuño_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xuñ._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mércores_xoves_venres_sábado".split("_"),weekdaysShort:"dom._lun._mar._mér._xov._ven._sáb.".split("_"),weekdaysMin:"do_lu_ma_mé_xo_ve_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"ás":"á")+"] LT"},nextDay:function(){return"[mañá "+(1!==this.hours()?"ás":"á")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"ás":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"á":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"ás":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return 0===e.indexOf("un")?"n"+e:"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(99420))},91987:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["थोडया सॅकंडांनी","थोडे सॅकंड"],ss:[e+" सॅकंडांनी",e+" सॅकंड"],m:["एका मिणटान","एक मिनूट"],mm:[e+" मिणटांनी",e+" मिणटां"],h:["एका वरान","एक वर"],hh:[e+" वरांनी",e+" वरां"],d:["एका दिसान","एक दीस"],dd:[e+" दिसांनी",e+" दीस"],M:["एका म्हयन्यान","एक म्हयनो"],MM:[e+" म्हयन्यानी",e+" म्हयने"],y:["एका वर्सान","एक वर्स"],yy:[e+" वर्सांनी",e+" वर्सां"]};return r?i[n][0]:i[n][1]}e.defineLocale("gom-deva",{months:{standalone:"जानेवारी_फेब्रुवारी_मार्च_एप्रील_मे_जून_जुलय_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),format:"जानेवारीच्या_फेब्रुवारीच्या_मार्चाच्या_एप्रीलाच्या_मेयाच्या_जूनाच्या_जुलयाच्या_ऑगस्टाच्या_सप्टेंबराच्या_ऑक्टोबराच्या_नोव्हेंबराच्या_डिसेंबराच्या".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"जाने._फेब्रु._मार्च_एप्री._मे_जून_जुल._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"आयतार_सोमार_मंगळार_बुधवार_बिरेस्तार_सुक्रार_शेनवार".split("_"),weekdaysShort:"आयत._सोम._मंगळ._बुध._ब्रेस्त._सुक्र._शेन.".split("_"),weekdaysMin:"आ_सो_मं_बु_ब्रे_सु_शे".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [वाजतां]",LTS:"A h:mm:ss [वाजतां]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [वाजतां]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [वाजतां]",llll:"ddd, D MMM YYYY, A h:mm [वाजतां]"},calendar:{sameDay:"[आयज] LT",nextDay:"[फाल्यां] LT",nextWeek:"[फुडलो] dddd[,] LT",lastDay:"[काल] LT",lastWeek:"[फाटलो] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s आदीं",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(वेर)/,ordinal:function(e,t){return"D"===t?e+"वेर":e},week:{dow:0,doy:3},meridiemParse:/राती|सकाळीं|दनपारां|सांजे/,meridiemHour:function(e,t){return 12===e&&(e=0),"राती"===t?e<4?e:e+12:"सकाळीं"===t?e:"दनपारां"===t?e>12?e:e+12:"सांजे"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"राती":e<12?"सकाळीं":e<16?"दनपारां":e<20?"सांजे":"राती"}})}(n(99420))},28052:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["thoddea sekondamni","thodde sekond"],ss:[e+" sekondamni",e+" sekond"],m:["eka mintan","ek minut"],mm:[e+" mintamni",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voramni",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disamni",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineamni",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsamni",e+" vorsam"]};return r?i[n][0]:i[n][1]}e.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(e,t){return"D"===t?e+"er":e},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(e,t){return 12===e&&(e=0),"rati"===t?e<4?e:e+12:"sokallim"===t?e:"donparam"===t?e>12?e:e+12:"sanje"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"rati":e<12?"sokallim":e<16?"donparam":e<20?"sanje":"rati"}})}(n(99420))},76785:function(e,t,n){!function(e){"use strict";var t={1:"૧",2:"૨",3:"૩",4:"૪",5:"૫",6:"૬",7:"૭",8:"૮",9:"૯",0:"૦"},n={"૧":"1","૨":"2","૩":"3","૪":"4","૫":"5","૬":"6","૭":"7","૮":"8","૯":"9","૦":"0"};e.defineLocale("gu",{months:"જાન્યુઆરી_ફેબ્રુઆરી_માર્ચ_એપ્રિલ_મે_જૂન_જુલાઈ_ઑગસ્ટ_સપ્ટેમ્બર_ઑક્ટ્બર_નવેમ્બર_ડિસેમ્બર".split("_"),monthsShort:"જાન્યુ._ફેબ્રુ._માર્ચ_એપ્રિ._મે_જૂન_જુલા._ઑગ._સપ્ટે._ઑક્ટ્._નવે._ડિસે.".split("_"),monthsParseExact:!0,weekdays:"રવિવાર_સોમવાર_મંગળવાર_બુધ્વાર_ગુરુવાર_શુક્રવાર_શનિવાર".split("_"),weekdaysShort:"રવિ_સોમ_મંગળ_બુધ્_ગુરુ_શુક્ર_શનિ".split("_"),weekdaysMin:"ર_સો_મં_બુ_ગુ_શુ_શ".split("_"),longDateFormat:{LT:"A h:mm વાગ્યે",LTS:"A h:mm:ss વાગ્યે",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm વાગ્યે",LLLL:"dddd, D MMMM YYYY, A h:mm વાગ્યે"},calendar:{sameDay:"[આજ] LT",nextDay:"[કાલે] LT",nextWeek:"dddd, LT",lastDay:"[ગઇકાલે] LT",lastWeek:"[પાછલા] dddd, LT",sameElse:"L"},relativeTime:{future:"%s મા",past:"%s પહેલા",s:"અમુક પળો",ss:"%d સેકંડ",m:"એક મિનિટ",mm:"%d મિનિટ",h:"એક કલાક",hh:"%d કલાક",d:"એક દિવસ",dd:"%d દિવસ",M:"એક મહિનો",MM:"%d મહિનો",y:"એક વર્ષ",yy:"%d વર્ષ"},preparse:function(e){return e.replace(/[૧૨૩૪૫૬૭૮૯૦]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/રાત|બપોર|સવાર|સાંજ/,meridiemHour:function(e,t){return 12===e&&(e=0),"રાત"===t?e<4?e:e+12:"સવાર"===t?e:"બપોર"===t?e>=10?e:e+12:"સાંજ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"રાત":e<10?"સવાર":e<17?"બપોર":e<20?"સાંજ":"રાત"},week:{dow:0,doy:6}})}(n(99420))},1338:function(e,t,n){!function(e){"use strict";e.defineLocale("he",{months:"ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר".split("_"),monthsShort:"ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳".split("_"),weekdays:"ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת".split("_"),weekdaysShort:"א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳".split("_"),weekdaysMin:"א_ב_ג_ד_ה_ו_ש".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [ב]MMMM YYYY",LLL:"D [ב]MMMM YYYY HH:mm",LLLL:"dddd, D [ב]MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[היום ב־]LT",nextDay:"[מחר ב־]LT",nextWeek:"dddd [בשעה] LT",lastDay:"[אתמול ב־]LT",lastWeek:"[ביום] dddd [האחרון בשעה] LT",sameElse:"L"},relativeTime:{future:"בעוד %s",past:"לפני %s",s:"מספר שניות",ss:"%d שניות",m:"דקה",mm:"%d דקות",h:"שעה",hh:function(e){return 2===e?"שעתיים":e+" שעות"},d:"יום",dd:function(e){return 2===e?"יומיים":e+" ימים"},M:"חודש",MM:function(e){return 2===e?"חודשיים":e+" חודשים"},y:"שנה",yy:function(e){return 2===e?"שנתיים":e%10==0&&10!==e?e+" שנה":e+" שנים"}},meridiemParse:/אחה"צ|לפנה"צ|אחרי הצהריים|לפני הצהריים|לפנות בוקר|בבוקר|בערב/i,isPM:function(e){return/^(אחה"צ|אחרי הצהריים|בערב)$/.test(e)},meridiem:function(e,t,n){return e<5?"לפנות בוקר":e<10?"בבוקר":e<12?n?'לפנה"צ':"לפני הצהריים":e<18?n?'אחה"צ':"אחרי הצהריים":"בערב"}})}(n(99420))},30894:function(e,t,n){!function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"},r=[/^जन/i,/^फ़र|फर/i,/^मार्च/i,/^अप्रै/i,/^मई/i,/^जून/i,/^जुल/i,/^अग/i,/^सितं|सित/i,/^अक्टू/i,/^नव|नवं/i,/^दिसं|दिस/i];e.defineLocale("hi",{months:{format:"जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर".split("_"),standalone:"जनवरी_फरवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितंबर_अक्टूबर_नवंबर_दिसंबर".split("_")},monthsShort:"जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.".split("_"),weekdays:"रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm बजे",LTS:"A h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm बजे",LLLL:"dddd, D MMMM YYYY, A h:mm बजे"},monthsParse:r,longMonthsParse:r,shortMonthsParse:[/^जन/i,/^फ़र/i,/^मार्च/i,/^अप्रै/i,/^मई/i,/^जून/i,/^जुल/i,/^अग/i,/^सित/i,/^अक्टू/i,/^नव/i,/^दिस/i],monthsRegex:/^(जनवरी|जन\.?|फ़रवरी|फरवरी|फ़र\.?|मार्च?|अप्रैल|अप्रै\.?|मई?|जून?|जुलाई|जुल\.?|अगस्त|अग\.?|सितम्बर|सितंबर|सित\.?|अक्टूबर|अक्टू\.?|नवम्बर|नवंबर|नव\.?|दिसम्बर|दिसंबर|दिस\.?)/i,monthsShortRegex:/^(जनवरी|जन\.?|फ़रवरी|फरवरी|फ़र\.?|मार्च?|अप्रैल|अप्रै\.?|मई?|जून?|जुलाई|जुल\.?|अगस्त|अग\.?|सितम्बर|सितंबर|सित\.?|अक्टूबर|अक्टू\.?|नवम्बर|नवंबर|नव\.?|दिसम्बर|दिसंबर|दिस\.?)/i,monthsStrictRegex:/^(जनवरी?|फ़रवरी|फरवरी?|मार्च?|अप्रैल?|मई?|जून?|जुलाई?|अगस्त?|सितम्बर|सितंबर|सित?\.?|अक्टूबर|अक्टू\.?|नवम्बर|नवंबर?|दिसम्बर|दिसंबर?)/i,monthsShortStrictRegex:/^(जन\.?|फ़र\.?|मार्च?|अप्रै\.?|मई?|जून?|जुल\.?|अग\.?|सित\.?|अक्टू\.?|नव\.?|दिस\.?)/i,calendar:{sameDay:"[आज] LT",nextDay:"[कल] LT",nextWeek:"dddd, LT",lastDay:"[कल] LT",lastWeek:"[पिछले] dddd, LT",sameElse:"L"},relativeTime:{future:"%s में",past:"%s पहले",s:"कुछ ही क्षण",ss:"%d सेकंड",m:"एक मिनट",mm:"%d मिनट",h:"एक घंटा",hh:"%d घंटे",d:"एक दिन",dd:"%d दिन",M:"एक महीने",MM:"%d महीने",y:"एक वर्ष",yy:"%d वर्ष"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/रात|सुबह|दोपहर|शाम/,meridiemHour:function(e,t){return 12===e&&(e=0),"रात"===t?e<4?e:e+12:"सुबह"===t?e:"दोपहर"===t?e>=10?e:e+12:"शाम"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"रात":e<10?"सुबह":e<17?"दोपहर":e<20?"शाम":"रात"},week:{dow:0,doy:6}})}(n(99420))},35443:function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=e+" ";switch(n){case"ss":return r+(1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi");case"m":return t?"jedna minuta":"jedne minute";case"mm":return r+(1===e?"minuta":2===e||3===e||4===e?"minute":"minuta");case"h":return t?"jedan sat":"jednog sata";case"hh":return r+(1===e?"sat":2===e||3===e||4===e?"sata":"sati");case"dd":return r+(1===e?"dan":"dana");case"MM":return r+(1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci");case"yy":return r+(1===e?"godina":2===e||3===e||4===e?"godine":"godina")}}e.defineLocale("hr",{months:{format:"siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jučer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prošlu] [nedjelju] [u] LT";case 3:return"[prošlu] [srijedu] [u] LT";case 6:return"[prošle] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[prošli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:t,m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(99420))},31754:function(e,t,n){!function(e){"use strict";var t="vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton".split(" ");function n(e,t,n,r){var i=e;switch(n){case"s":return r||t?"néhány másodperc":"néhány másodperce";case"ss":return i+(r||t)?" másodperc":" másodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return i+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" óra":" órája");case"hh":return i+(r||t?" óra":" órája");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return i+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hónap":" hónapja");case"MM":return i+(r||t?" hónap":" hónapja");case"y":return"egy"+(r||t?" év":" éve");case"yy":return i+(r||t?" év":" éve")}return""}function r(e){return(e?"":"[múlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"január_február_március_április_május_június_július_augusztus_szeptember_október_november_december".split("_"),monthsShort:"jan._feb._márc._ápr._máj._jún._júl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat".split("_"),weekdaysShort:"vas_hét_kedd_sze_csüt_pén_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,t,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s múlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(99420))},99637:function(e,t,n){!function(e){"use strict";e.defineLocale("hy-am",{months:{format:"հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի".split("_"),standalone:"հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր".split("_")},monthsShort:"հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ".split("_"),weekdays:"կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ".split("_"),weekdaysShort:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),weekdaysMin:"կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY թ.",LLL:"D MMMM YYYY թ., HH:mm",LLLL:"dddd, D MMMM YYYY թ., HH:mm"},calendar:{sameDay:"[այսօր] LT",nextDay:"[վաղը] LT",lastDay:"[երեկ] LT",nextWeek:function(){return"dddd [օրը ժամը] LT"},lastWeek:function(){return"[անցած] dddd [օրը ժամը] LT"},sameElse:"L"},relativeTime:{future:"%s հետո",past:"%s առաջ",s:"մի քանի վայրկյան",ss:"%d վայրկյան",m:"րոպե",mm:"%d րոպե",h:"ժամ",hh:"%d ժամ",d:"օր",dd:"%d օր",M:"ամիս",MM:"%d ամիս",y:"տարի",yy:"%d տարի"},meridiemParse:/գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,isPM:function(e){return/^(ցերեկվա|երեկոյան)$/.test(e)},meridiem:function(e){return e<4?"գիշերվա":e<12?"առավոտվա":e<17?"ցերեկվա":"երեկոյան"},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(ին|րդ)/,ordinal:function(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":return 1===e?e+"-ին":e+"-րդ";default:return e}},week:{dow:1,doy:7}})}(n(99420))},74380:function(e,t,n){!function(e){"use strict";e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"siang"===t?e>=11?e:e+12:"sore"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})}(n(99420))},18889:function(e,t,n){!function(e){"use strict";function t(e){return e%100==11||e%10!=1}function n(e,n,r,i){var s=e+" ";switch(r){case"s":return n||i?"nokkrar sekúndur":"nokkrum sekúndum";case"ss":return t(e)?s+(n||i?"sekúndur":"sekúndum"):s+"sekúnda";case"m":return n?"mínúta":"mínútu";case"mm":return t(e)?s+(n||i?"mínútur":"mínútum"):n?s+"mínúta":s+"mínútu";case"hh":return t(e)?s+(n||i?"klukkustundir":"klukkustundum"):s+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return t(e)?n?s+"dagar":s+(i?"daga":"dögum"):n?s+"dagur":s+(i?"dag":"degi");case"M":return n?"mánuður":i?"mánuð":"mánuði";case"MM":return t(e)?n?s+"mánuðir":s+(i?"mánuði":"mánuðum"):n?s+"mánuður":s+(i?"mánuð":"mánuði");case"y":return n||i?"ár":"ári";case"yy":return t(e)?s+(n||i?"ár":"árum"):s+(n||i?"ár":"ári")}}e.defineLocale("is",{months:"janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des".split("_"),weekdays:"sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur".split("_"),weekdaysShort:"sun_mán_þri_mið_fim_fös_lau".split("_"),weekdaysMin:"Su_Má_Þr_Mi_Fi_Fö_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[í dag kl.] LT",nextDay:"[á morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[í gær kl.] LT",lastWeek:"[síðasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s síðan",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(99420))},16230:function(e,t,n){!function(e){"use strict";e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){return 0===this.day()?"[la scorsa] dddd [alle] LT":"[lo scorso] dddd [alle] LT"},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(99420))},27900:function(e,t,n){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){return 0===this.day()?"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT":"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(99420))},27544:function(e,t,n){!function(e){"use strict";e.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"令和",narrow:"㋿",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"平成",narrow:"㍻",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"昭和",narrow:"㍼",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"大正",narrow:"㍽",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"明治",narrow:"㍾",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"西暦",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"紀元前",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(元|\d+)年/,eraYearOrdinalParse:function(e,t){return"元"===t[1]?1:parseInt(t[1]||e,10)},months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日(ddd) HH:mm"},meridiemParse:/午前|午後/i,isPM:function(e){return"午後"===e},meridiem:function(e,t,n){return e<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:function(e){return e.week()!==this.week()?"[来週]dddd LT":"dddd LT"},lastDay:"[昨日] LT",lastWeek:function(e){return this.week()!==e.week()?"[先週]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}日/,ordinal:function(e,t){switch(t){case"y":return 1===e?"元年":e+"年";case"d":case"D":case"DDD":return e+"日";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",ss:"%d秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}(n(99420))},89757:function(e,t,n){!function(e){"use strict";e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(e,t){return 12===e&&(e=0),"enjing"===t?e:"siyang"===t?e>=11?e:e+12:"sonten"===t||"ndalu"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"enjing":e<15?"siyang":e<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(n(99420))},13953:function(e,t,n){!function(e){"use strict";e.defineLocale("ka",{months:"იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი".split("_"),monthsShort:"იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ".split("_"),weekdays:{standalone:"კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი".split("_"),format:"კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს".split("_"),isFormat:/(წინა|შემდეგ)/},weekdaysShort:"კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ".split("_"),weekdaysMin:"კვ_ორ_სა_ოთ_ხუ_პა_შა".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[დღეს] LT[-ზე]",nextDay:"[ხვალ] LT[-ზე]",lastDay:"[გუშინ] LT[-ზე]",nextWeek:"[შემდეგ] dddd LT[-ზე]",lastWeek:"[წინა] dddd LT-ზე",sameElse:"L"},relativeTime:{future:function(e){return e.replace(/(წამ|წუთ|საათ|წელ|დღ|თვ)(ი|ე)/,(function(e,t,n){return"ი"===n?t+"ში":t+n+"ში"}))},past:function(e){return/(წამი|წუთი|საათი|დღე|თვე)/.test(e)?e.replace(/(ი|ე)$/,"ის წინ"):/წელი/.test(e)?e.replace(/წელი$/,"წლის წინ"):e},s:"რამდენიმე წამი",ss:"%d წამი",m:"წუთი",mm:"%d წუთი",h:"საათი",hh:"%d საათი",d:"დღე",dd:"%d დღე",M:"თვე",MM:"%d თვე",y:"წელი",yy:"%d წელი"},dayOfMonthOrdinalParse:/0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,ordinal:function(e){return 0===e?e:1===e?e+"-ლი":e<20||e<=100&&e%20==0||e%100==0?"მე-"+e:e+"-ე"},week:{dow:1,doy:7}})}(n(99420))},63607:function(e,t,n){!function(e){"use strict";var t={0:"-ші",1:"-ші",2:"-ші",3:"-ші",4:"-ші",5:"-ші",6:"-шы",7:"-ші",8:"-ші",9:"-шы",10:"-шы",20:"-шы",30:"-шы",40:"-шы",50:"-ші",60:"-шы",70:"-ші",80:"-ші",90:"-шы",100:"-ші"};e.defineLocale("kk",{months:"қаңтар_ақпан_наурыз_сәуір_мамыр_маусым_шілде_тамыз_қыркүйек_қазан_қараша_желтоқсан".split("_"),monthsShort:"қаң_ақп_нау_сәу_мам_мау_шіл_там_қыр_қаз_қар_жел".split("_"),weekdays:"жексенбі_дүйсенбі_сейсенбі_сәрсенбі_бейсенбі_жұма_сенбі".split("_"),weekdaysShort:"жек_дүй_сей_сәр_бей_жұм_сен".split("_"),weekdaysMin:"жк_дй_сй_ср_бй_жм_сн".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгін сағат] LT",nextDay:"[Ертең сағат] LT",nextWeek:"dddd [сағат] LT",lastDay:"[Кеше сағат] LT",lastWeek:"[Өткен аптаның] dddd [сағат] LT",sameElse:"L"},relativeTime:{future:"%s ішінде",past:"%s бұрын",s:"бірнеше секунд",ss:"%d секунд",m:"бір минут",mm:"%d минут",h:"бір сағат",hh:"%d сағат",d:"бір күн",dd:"%d күн",M:"бір ай",MM:"%d ай",y:"бір жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(ші|шы)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(99420))},97685:function(e,t,n){!function(e){"use strict";var t={1:"១",2:"២",3:"៣",4:"៤",5:"៥",6:"៦",7:"៧",8:"៨",9:"៩",0:"០"},n={"១":"1","២":"2","៣":"3","៤":"4","៥":"5","៦":"6","៧":"7","៨":"8","៩":"9","០":"0"};e.defineLocale("km",{months:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),monthsShort:"មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ".split("_"),weekdays:"អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍".split("_"),weekdaysShort:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysMin:"អា_ច_អ_ព_ព្រ_សុ_ស".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/ព្រឹក|ល្ងាច/,isPM:function(e){return"ល្ងាច"===e},meridiem:function(e,t,n){return e<12?"ព្រឹក":"ល្ងាច"},calendar:{sameDay:"[ថ្ងៃនេះ ម៉ោង] LT",nextDay:"[ស្អែក ម៉ោង] LT",nextWeek:"dddd [ម៉ោង] LT",lastDay:"[ម្សិលមិញ ម៉ោង] LT",lastWeek:"dddd [សប្តាហ៍មុន] [ម៉ោង] LT",sameElse:"L"},relativeTime:{future:"%sទៀត",past:"%sមុន",s:"ប៉ុន្មានវិនាទី",ss:"%d វិនាទី",m:"មួយនាទី",mm:"%d នាទី",h:"មួយម៉ោង",hh:"%d ម៉ោង",d:"មួយថ្ងៃ",dd:"%d ថ្ងៃ",M:"មួយខែ",MM:"%d ខែ",y:"មួយឆ្នាំ",yy:"%d ឆ្នាំ"},dayOfMonthOrdinalParse:/ទី\d{1,2}/,ordinal:"ទី%d",preparse:function(e){return e.replace(/[១២៣៤៥៦៧៨៩០]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(99420))},16108:function(e,t,n){!function(e){"use strict";var t={1:"೧",2:"೨",3:"೩",4:"೪",5:"೫",6:"೬",7:"೭",8:"೮",9:"೯",0:"೦"},n={"೧":"1","೨":"2","೩":"3","೪":"4","೫":"5","೬":"6","೭":"7","೮":"8","೯":"9","೦":"0"};e.defineLocale("kn",{months:"ಜನವರಿ_ಫೆಬ್ರವರಿ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬರ್_ಅಕ್ಟೋಬರ್_ನವೆಂಬರ್_ಡಿಸೆಂಬರ್".split("_"),monthsShort:"ಜನ_ಫೆಬ್ರ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂ_ಅಕ್ಟೋ_ನವೆಂ_ಡಿಸೆಂ".split("_"),monthsParseExact:!0,weekdays:"ಭಾನುವಾರ_ಸೋಮವಾರ_ಮಂಗಳವಾರ_ಬುಧವಾರ_ಗುರುವಾರ_ಶುಕ್ರವಾರ_ಶನಿವಾರ".split("_"),weekdaysShort:"ಭಾನು_ಸೋಮ_ಮಂಗಳ_ಬುಧ_ಗುರು_ಶುಕ್ರ_ಶನಿ".split("_"),weekdaysMin:"ಭಾ_ಸೋ_ಮಂ_ಬು_ಗು_ಶು_ಶ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[ಇಂದು] LT",nextDay:"[ನಾಳೆ] LT",nextWeek:"dddd, LT",lastDay:"[ನಿನ್ನೆ] LT",lastWeek:"[ಕೊನೆಯ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ನಂತರ",past:"%s ಹಿಂದೆ",s:"ಕೆಲವು ಕ್ಷಣಗಳು",ss:"%d ಸೆಕೆಂಡುಗಳು",m:"ಒಂದು ನಿಮಿಷ",mm:"%d ನಿಮಿಷ",h:"ಒಂದು ಗಂಟೆ",hh:"%d ಗಂಟೆ",d:"ಒಂದು ದಿನ",dd:"%d ದಿನ",M:"ಒಂದು ತಿಂಗಳು",MM:"%d ತಿಂಗಳು",y:"ಒಂದು ವರ್ಷ",yy:"%d ವರ್ಷ"},preparse:function(e){return e.replace(/[೧೨೩೪೫೬೭೮೯೦]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/ರಾತ್ರಿ|ಬೆಳಿಗ್ಗೆ|ಮಧ್ಯಾಹ್ನ|ಸಂಜೆ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ರಾತ್ರಿ"===t?e<4?e:e+12:"ಬೆಳಿಗ್ಗೆ"===t?e:"ಮಧ್ಯಾಹ್ನ"===t?e>=10?e:e+12:"ಸಂಜೆ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ರಾತ್ರಿ":e<10?"ಬೆಳಿಗ್ಗೆ":e<17?"ಮಧ್ಯಾಹ್ನ":e<20?"ಸಂಜೆ":"ರಾತ್ರಿ"},dayOfMonthOrdinalParse:/\d{1,2}(ನೇ)/,ordinal:function(e){return e+"ನೇ"},week:{dow:0,doy:6}})}(n(99420))},82195:function(e,t,n){!function(e){"use strict";e.defineLocale("ko",{months:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),monthsShort:"1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월".split("_"),weekdays:"일요일_월요일_화요일_수요일_목요일_금요일_토요일".split("_"),weekdaysShort:"일_월_화_수_목_금_토".split("_"),weekdaysMin:"일_월_화_수_목_금_토".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY년 MMMM D일",LLL:"YYYY년 MMMM D일 A h:mm",LLLL:"YYYY년 MMMM D일 dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY년 MMMM D일",lll:"YYYY년 MMMM D일 A h:mm",llll:"YYYY년 MMMM D일 dddd A h:mm"},calendar:{sameDay:"오늘 LT",nextDay:"내일 LT",nextWeek:"dddd LT",lastDay:"어제 LT",lastWeek:"지난주 dddd LT",sameElse:"L"},relativeTime:{future:"%s 후",past:"%s 전",s:"몇 초",ss:"%d초",m:"1분",mm:"%d분",h:"한 시간",hh:"%d시간",d:"하루",dd:"%d일",M:"한 달",MM:"%d달",y:"일 년",yy:"%d년"},dayOfMonthOrdinalParse:/\d{1,2}(일|월|주)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"일";case"M":return e+"월";case"w":case"W":return e+"주";default:return e}},meridiemParse:/오전|오후/,isPM:function(e){return"오후"===e},meridiem:function(e,t,n){return e<12?"오전":"오후"}})}(n(99420))},47046:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["çend sanîye","çend sanîyeyan"],ss:[e+" sanîye",e+" sanîyeyan"],m:["deqîqeyek","deqîqeyekê"],mm:[e+" deqîqe",e+" deqîqeyan"],h:["saetek","saetekê"],hh:[e+" saet",e+" saetan"],d:["rojek","rojekê"],dd:[e+" roj",e+" rojan"],w:["hefteyek","hefteyekê"],ww:[e+" hefte",e+" hefteyan"],M:["mehek","mehekê"],MM:[e+" meh",e+" mehan"],y:["salek","salekê"],yy:[e+" sal",e+" salan"]};return t?i[n][0]:i[n][1]}e.defineLocale("ku-kmr",{months:"Rêbendan_Sibat_Adar_Nîsan_Gulan_Hezîran_Tîrmeh_Tebax_Îlon_Cotmeh_Mijdar_Berfanbar".split("_"),monthsShort:"Rêb_Sib_Ada_Nîs_Gul_Hez_Tîr_Teb_Îlo_Cot_Mij_Ber".split("_"),monthsParseExact:!0,weekdays:"Yekşem_Duşem_Sêşem_Çarşem_Pêncşem_În_Şemî".split("_"),weekdaysShort:"Yek_Du_Sê_Çar_Pên_În_Şem".split("_"),weekdaysMin:"Ye_Du_Sê_Ça_Pê_În_Şe".split("_"),meridiem:function(e,t,n){return e<12?n?"bn":"BN":n?"pn":"PN"},meridiemParse:/bn|BN|pn|PN/,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM[a] YYYY[an]",LLL:"Do MMMM[a] YYYY[an] HH:mm",LLLL:"dddd, Do MMMM[a] YYYY[an] HH:mm",ll:"Do MMM[.] YYYY[an]",lll:"Do MMM[.] YYYY[an] HH:mm",llll:"ddd[.], Do MMM[.] YYYY[an] HH:mm"},calendar:{sameDay:"[Îro di saet] LT [de]",nextDay:"[Sibê di saet] LT [de]",nextWeek:"dddd [di saet] LT [de]",lastDay:"[Duh di saet] LT [de]",lastWeek:"dddd[a borî di saet] LT [de]",sameElse:"L"},relativeTime:{future:"di %s de",past:"berî %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,w:t,ww:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}(?:yê|ê|\.)/,ordinal:function(e,t){var n=t.toLowerCase();return n.includes("w")||n.includes("m")?e+".":e+function(e){var t=(e=""+e).substring(e.length-1),n=e.length>1?e.substring(e.length-2):"";return 12==n||13==n||"2"!=t&&"3"!=t&&"50"!=n&&"70"!=t&&"80"!=t?"ê":"yê"}(e)},week:{dow:1,doy:4}})}(n(99420))},87821:function(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},r=["کانونی دووەم","شوبات","ئازار","نیسان","ئایار","حوزەیران","تەمموز","ئاب","ئەیلوول","تشرینی یەكەم","تشرینی دووەم","كانونی یەکەم"];e.defineLocale("ku",{months:r,monthsShort:r,weekdays:"یه‌كشه‌ممه‌_دووشه‌ممه‌_سێشه‌ممه‌_چوارشه‌ممه‌_پێنجشه‌ممه‌_هه‌ینی_شه‌ممه‌".split("_"),weekdaysShort:"یه‌كشه‌م_دووشه‌م_سێشه‌م_چوارشه‌م_پێنجشه‌م_هه‌ینی_شه‌ممه‌".split("_"),weekdaysMin:"ی_د_س_چ_پ_ه_ش".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/ئێواره‌|به‌یانی/,isPM:function(e){return/ئێواره‌/.test(e)},meridiem:function(e,t,n){return e<12?"به‌یانی":"ئێواره‌"},calendar:{sameDay:"[ئه‌مرۆ كاتژمێر] LT",nextDay:"[به‌یانی كاتژمێر] LT",nextWeek:"dddd [كاتژمێر] LT",lastDay:"[دوێنێ كاتژمێر] LT",lastWeek:"dddd [كاتژمێر] LT",sameElse:"L"},relativeTime:{future:"له‌ %s",past:"%s",s:"چه‌ند چركه‌یه‌ك",ss:"چركه‌ %d",m:"یه‌ك خوله‌ك",mm:"%d خوله‌ك",h:"یه‌ك كاتژمێر",hh:"%d كاتژمێر",d:"یه‌ك ڕۆژ",dd:"%d ڕۆژ",M:"یه‌ك مانگ",MM:"%d مانگ",y:"یه‌ك ساڵ",yy:"%d ساڵ"},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,(function(e){return n[e]})).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]})).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(99420))},3145:function(e,t,n){!function(e){"use strict";var t={0:"-чү",1:"-чи",2:"-чи",3:"-чү",4:"-чү",5:"-чи",6:"-чы",7:"-чи",8:"-чи",9:"-чу",10:"-чу",20:"-чы",30:"-чу",40:"-чы",50:"-чү",60:"-чы",70:"-чи",80:"-чи",90:"-чу",100:"-чү"};e.defineLocale("ky",{months:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_"),monthsShort:"янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек".split("_"),weekdays:"Жекшемби_Дүйшөмбү_Шейшемби_Шаршемби_Бейшемби_Жума_Ишемби".split("_"),weekdaysShort:"Жек_Дүй_Шей_Шар_Бей_Жум_Ише".split("_"),weekdaysMin:"Жк_Дй_Шй_Шр_Бй_Жм_Иш".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Бүгүн саат] LT",nextDay:"[Эртең саат] LT",nextWeek:"dddd [саат] LT",lastDay:"[Кечээ саат] LT",lastWeek:"[Өткөн аптанын] dddd [күнү] [саат] LT",sameElse:"L"},relativeTime:{future:"%s ичинде",past:"%s мурун",s:"бирнече секунд",ss:"%d секунд",m:"бир мүнөт",mm:"%d мүнөт",h:"бир саат",hh:"%d саат",d:"бир күн",dd:"%d күн",M:"бир ай",MM:"%d ай",y:"бир жыл",yy:"%d жыл"},dayOfMonthOrdinalParse:/\d{1,2}-(чи|чы|чү|чу)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(99420))},21655:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?i[n][0]:i[n][1]}function n(e){if(e=parseInt(e,10),isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7;if(e<100){var t=e%10;return n(0===t?e/10:t)}if(e<1e4){for(;e>=10;)e/=10;return n(e)}return n(e/=1e3)}e.defineLocale("lb",{months:"Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._Mé._Dë._Më._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mé_Dë_Më_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gëschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(e){return n(e.substr(0,e.indexOf(" ")))?"a "+e:"an "+e},past:function(e){return n(e.substr(0,e.indexOf(" ")))?"viru "+e:"virun "+e},s:"e puer Sekonnen",ss:"%d Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:"%d Deeg",M:t,MM:"%d Méint",y:t,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(99420))},3284:function(e,t,n){!function(e){"use strict";e.defineLocale("lo",{months:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),monthsShort:"ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ".split("_"),weekdays:"ອາທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysShort:"ທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ".split("_"),weekdaysMin:"ທ_ຈ_ອຄ_ພ_ພຫ_ສກ_ສ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"ວັນdddd D MMMM YYYY HH:mm"},meridiemParse:/ຕອນເຊົ້າ|ຕອນແລງ/,isPM:function(e){return"ຕອນແລງ"===e},meridiem:function(e,t,n){return e<12?"ຕອນເຊົ້າ":"ຕອນແລງ"},calendar:{sameDay:"[ມື້ນີ້ເວລາ] LT",nextDay:"[ມື້ອື່ນເວລາ] LT",nextWeek:"[ວັນ]dddd[ໜ້າເວລາ] LT",lastDay:"[ມື້ວານນີ້ເວລາ] LT",lastWeek:"[ວັນ]dddd[ແລ້ວນີ້ເວລາ] LT",sameElse:"L"},relativeTime:{future:"ອີກ %s",past:"%sຜ່ານມາ",s:"ບໍ່ເທົ່າໃດວິນາທີ",ss:"%d ວິນາທີ",m:"1 ນາທີ",mm:"%d ນາທີ",h:"1 ຊົ່ວໂມງ",hh:"%d ຊົ່ວໂມງ",d:"1 ມື້",dd:"%d ມື້",M:"1 ເດືອນ",MM:"%d ເດືອນ",y:"1 ປີ",yy:"%d ປີ"},dayOfMonthOrdinalParse:/(ທີ່)\d{1,2}/,ordinal:function(e){return"ທີ່"+e}})}(n(99420))},93509:function(e,t,n){!function(e){"use strict";var t={ss:"sekundė_sekundžių_sekundes",m:"minutė_minutės_minutę",mm:"minutės_minučių_minutes",h:"valanda_valandos_valandą",hh:"valandos_valandų_valandas",d:"diena_dienos_dieną",dd:"dienos_dienų_dienas",M:"mėnuo_mėnesio_mėnesį",MM:"mėnesiai_mėnesių_mėnesius",y:"metai_metų_metus",yy:"metai_metų_metus"};function n(e,t,n,r){return t?i(n)[0]:r?i(n)[1]:i(n)[2]}function r(e){return e%10==0||e>10&&e<20}function i(e){return t[e].split("_")}function s(e,t,s,a){var o=e+" ";return 1===e?o+n(0,t,s[0],a):t?o+(r(e)?i(s)[1]:i(s)[0]):a?o+i(s)[1]:o+(r(e)?i(s)[1]:i(s)[2])}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadienį_pirmadienį_antradienį_trečiadienį_ketvirtadienį_penktadienį_šeštadienį".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_Šeš".split("_"),weekdaysMin:"S_P_A_T_K_Pn_Š".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[Šiandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Praėjusį] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prieš %s",s:function(e,t,n,r){return t?"kelios sekundės":r?"kelių sekundžių":"kelias sekundes"},ss:s,m:n,mm:s,h:n,hh:s,d:n,dd:s,M:n,MM:s,y:n,yy:s},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}(n(99420))},2883:function(e,t,n){!function(e){"use strict";var t={ss:"sekundes_sekundēm_sekunde_sekundes".split("_"),m:"minūtes_minūtēm_minūte_minūtes".split("_"),mm:"minūtes_minūtēm_minūte_minūtes".split("_"),h:"stundas_stundām_stunda_stundas".split("_"),hh:"stundas_stundām_stunda_stundas".split("_"),d:"dienas_dienām_diena_dienas".split("_"),dd:"dienas_dienām_diena_dienas".split("_"),M:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),MM:"mēneša_mēnešiem_mēnesis_mēneši".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(e,t,n){return n?t%10==1&&t%100!=11?e[2]:e[3]:t%10==1&&t%100!=11?e[0]:e[1]}function r(e,r,i){return e+" "+n(t[i],e,r)}function i(e,r,i){return n(t[i],e,r)}e.defineLocale("lv",{months:"janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec".split("_"),weekdays:"svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[Šodien pulksten] LT",nextDay:"[Rīt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagājušā] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pēc %s",past:"pirms %s",s:function(e,t){return t?"dažas sekundes":"dažām sekundēm"},ss:r,m:i,mm:r,h:i,hh:r,d:i,dd:r,M:i,MM:r,y:i,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(99420))},74559:function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,t){return 1===e?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function(e,n,r){var i=t.words[r];return 1===r.length?n?i[0]:i[1]:e+" "+t.correctGrammaticalCase(e,i)}};e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedjelje] [u] LT","[prošlog] [ponedjeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srijede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:"dan",dd:t.translate,M:"mjesec",MM:t.translate,y:"godinu",yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(99420))},87283:function(e,t,n){!function(e){"use strict";e.defineLocale("mi",{months:"Kohi-tāte_Hui-tanguru_Poutū-te-rangi_Paenga-whāwhā_Haratua_Pipiri_Hōngoingoi_Here-turi-kōkā_Mahuru_Whiringa-ā-nuku_Whiringa-ā-rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hōngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rātapu_Mane_Tūrei_Wenerei_Tāite_Paraire_Hātarei".split("_"),weekdaysShort:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),weekdaysMin:"Ta_Ma_Tū_We_Tāi_Pa_Hā".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hēkona ruarua",ss:"%d hēkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(99420))},85877:function(e,t,n){!function(e){"use strict";e.defineLocale("mk",{months:"јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември".split("_"),monthsShort:"јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек".split("_"),weekdays:"недела_понеделник_вторник_среда_четврток_петок_сабота".split("_"),weekdaysShort:"нед_пон_вто_сре_чет_пет_саб".split("_"),weekdaysMin:"нe_пo_вт_ср_че_пе_сa".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[Денес во] LT",nextDay:"[Утре во] LT",nextWeek:"[Во] dddd [во] LT",lastDay:"[Вчера во] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[Изминатата] dddd [во] LT";case 1:case 2:case 4:case 5:return"[Изминатиот] dddd [во] LT"}},sameElse:"L"},relativeTime:{future:"за %s",past:"пред %s",s:"неколку секунди",ss:"%d секунди",m:"една минута",mm:"%d минути",h:"еден час",hh:"%d часа",d:"еден ден",dd:"%d дена",M:"еден месец",MM:"%d месеци",y:"една година",yy:"%d години"},dayOfMonthOrdinalParse:/\d{1,2}-(ев|ен|ти|ви|ри|ми)/,ordinal:function(e){var t=e%10,n=e%100;return 0===e?e+"-ев":0===n?e+"-ен":n>10&&n<20?e+"-ти":1===t?e+"-ви":2===t?e+"-ри":7===t||8===t?e+"-ми":e+"-ти"},week:{dow:1,doy:7}})}(n(99420))},85376:function(e,t,n){!function(e){"use strict";e.defineLocale("ml",{months:"ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ".split("_"),monthsShort:"ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.".split("_"),monthsParseExact:!0,weekdays:"ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച".split("_"),weekdaysShort:"ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി".split("_"),weekdaysMin:"ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ".split("_"),longDateFormat:{LT:"A h:mm -നു",LTS:"A h:mm:ss -നു",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -നു",LLLL:"dddd, D MMMM YYYY, A h:mm -നു"},calendar:{sameDay:"[ഇന്ന്] LT",nextDay:"[നാളെ] LT",nextWeek:"dddd, LT",lastDay:"[ഇന്നലെ] LT",lastWeek:"[കഴിഞ്ഞ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s കഴിഞ്ഞ്",past:"%s മുൻപ്",s:"അൽപ നിമിഷങ്ങൾ",ss:"%d സെക്കൻഡ്",m:"ഒരു മിനിറ്റ്",mm:"%d മിനിറ്റ്",h:"ഒരു മണിക്കൂർ",hh:"%d മണിക്കൂർ",d:"ഒരു ദിവസം",dd:"%d ദിവസം",M:"ഒരു മാസം",MM:"%d മാസം",y:"ഒരു വർഷം",yy:"%d വർഷം"},meridiemParse:/രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,meridiemHour:function(e,t){return 12===e&&(e=0),"രാത്രി"===t&&e>=4||"ഉച്ച കഴിഞ്ഞ്"===t||"വൈകുന്നേരം"===t?e+12:e},meridiem:function(e,t,n){return e<4?"രാത്രി":e<12?"രാവിലെ":e<17?"ഉച്ച കഴിഞ്ഞ്":e<20?"വൈകുന്നേരം":"രാത്രി"}})}(n(99420))},83594:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){switch(n){case"s":return t?"хэдхэн секунд":"хэдхэн секундын";case"ss":return e+(t?" секунд":" секундын");case"m":case"mm":return e+(t?" минут":" минутын");case"h":case"hh":return e+(t?" цаг":" цагийн");case"d":case"dd":return e+(t?" өдөр":" өдрийн");case"M":case"MM":return e+(t?" сар":" сарын");case"y":case"yy":return e+(t?" жил":" жилийн");default:return e}}e.defineLocale("mn",{months:"Нэгдүгээр сар_Хоёрдугаар сар_Гуравдугаар сар_Дөрөвдүгээр сар_Тавдугаар сар_Зургадугаар сар_Долдугаар сар_Наймдугаар сар_Есдүгээр сар_Аравдугаар сар_Арван нэгдүгээр сар_Арван хоёрдугаар сар".split("_"),monthsShort:"1 сар_2 сар_3 сар_4 сар_5 сар_6 сар_7 сар_8 сар_9 сар_10 сар_11 сар_12 сар".split("_"),monthsParseExact:!0,weekdays:"Ням_Даваа_Мягмар_Лхагва_Пүрэв_Баасан_Бямба".split("_"),weekdaysShort:"Ням_Дав_Мяг_Лха_Пүр_Баа_Бям".split("_"),weekdaysMin:"Ня_Да_Мя_Лх_Пү_Ба_Бя".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY оны MMMMын D",LLL:"YYYY оны MMMMын D HH:mm",LLLL:"dddd, YYYY оны MMMMын D HH:mm"},meridiemParse:/ҮӨ|ҮХ/i,isPM:function(e){return"ҮХ"===e},meridiem:function(e,t,n){return e<12?"ҮӨ":"ҮХ"},calendar:{sameDay:"[Өнөөдөр] LT",nextDay:"[Маргааш] LT",nextWeek:"[Ирэх] dddd LT",lastDay:"[Өчигдөр] LT",lastWeek:"[Өнгөрсөн] dddd LT",sameElse:"L"},relativeTime:{future:"%s дараа",past:"%s өмнө",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2} өдөр/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+" өдөр";default:return e}}})}(n(99420))},40718:function(e,t,n){!function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};function r(e,t,n,r){var i="";if(t)switch(n){case"s":i="काही सेकंद";break;case"ss":i="%d सेकंद";break;case"m":i="एक मिनिट";break;case"mm":i="%d मिनिटे";break;case"h":i="एक तास";break;case"hh":i="%d तास";break;case"d":i="एक दिवस";break;case"dd":i="%d दिवस";break;case"M":i="एक महिना";break;case"MM":i="%d महिने";break;case"y":i="एक वर्ष";break;case"yy":i="%d वर्षे"}else switch(n){case"s":i="काही सेकंदां";break;case"ss":i="%d सेकंदां";break;case"m":i="एका मिनिटा";break;case"mm":i="%d मिनिटां";break;case"h":i="एका तासा";break;case"hh":i="%d तासां";break;case"d":i="एका दिवसा";break;case"dd":i="%d दिवसां";break;case"M":i="एका महिन्या";break;case"MM":i="%d महिन्यां";break;case"y":i="एका वर्षा";break;case"yy":i="%d वर्षां"}return i.replace(/%d/i,e)}e.defineLocale("mr",{months:"जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर".split("_"),monthsShort:"जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.".split("_"),monthsParseExact:!0,weekdays:"रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार".split("_"),weekdaysShort:"रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि".split("_"),weekdaysMin:"र_सो_मं_बु_गु_शु_श".split("_"),longDateFormat:{LT:"A h:mm वाजता",LTS:"A h:mm:ss वाजता",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm वाजता",LLLL:"dddd, D MMMM YYYY, A h:mm वाजता"},calendar:{sameDay:"[आज] LT",nextDay:"[उद्या] LT",nextWeek:"dddd, LT",lastDay:"[काल] LT",lastWeek:"[मागील] dddd, LT",sameElse:"L"},relativeTime:{future:"%sमध्ये",past:"%sपूर्वी",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/पहाटे|सकाळी|दुपारी|सायंकाळी|रात्री/,meridiemHour:function(e,t){return 12===e&&(e=0),"पहाटे"===t||"सकाळी"===t?e:"दुपारी"===t||"सायंकाळी"===t||"रात्री"===t?e>=12?e:e+12:void 0},meridiem:function(e,t,n){return e>=0&&e<6?"पहाटे":e<12?"सकाळी":e<17?"दुपारी":e<20?"सायंकाळी":"रात्री"},week:{dow:0,doy:6}})}(n(99420))},84592:function(e,t,n){!function(e){"use strict";e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(99420))},50381:function(e,t,n){!function(e){"use strict";e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(e,t){return 12===e&&(e=0),"pagi"===t?e:"tengahari"===t?e>=11?e:e+12:"petang"===t||"malam"===t?e+12:void 0},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(n(99420))},57944:function(e,t,n){!function(e){"use strict";e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_Ġunju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diċembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_Ġun_Lul_Aww_Set_Ott_Nov_Diċ".split("_"),weekdays:"Il-Ħadd_It-Tnejn_It-Tlieta_L-Erbgħa_Il-Ħamis_Il-Ġimgħa_Is-Sibt".split("_"),weekdaysShort:"Ħad_Tne_Tli_Erb_Ħam_Ġim_Sib".split("_"),weekdaysMin:"Ħa_Tn_Tl_Er_Ħa_Ġi_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Għada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-bieraħ fil-]LT",lastWeek:"dddd [li għadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f’ %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siegħa",hh:"%d siegħat",d:"ġurnata",dd:"%d ġranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(99420))},73219:function(e,t,n){!function(e){"use strict";var t={1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉",0:"၀"},n={"၁":"1","၂":"2","၃":"3","၄":"4","၅":"5","၆":"6","၇":"7","၈":"8","၉":"9","၀":"0"};e.defineLocale("my",{months:"ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ".split("_"),monthsShort:"ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ".split("_"),weekdays:"တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ".split("_"),weekdaysShort:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),weekdaysMin:"နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ယနေ.] LT [မှာ]",nextDay:"[မနက်ဖြန်] LT [မှာ]",nextWeek:"dddd LT [မှာ]",lastDay:"[မနေ.က] LT [မှာ]",lastWeek:"[ပြီးခဲ့သော] dddd LT [မှာ]",sameElse:"L"},relativeTime:{future:"လာမည့် %s မှာ",past:"လွန်ခဲ့သော %s က",s:"စက္ကန်.အနည်းငယ်",ss:"%d စက္ကန့်",m:"တစ်မိနစ်",mm:"%d မိနစ်",h:"တစ်နာရီ",hh:"%d နာရီ",d:"တစ်ရက်",dd:"%d ရက်",M:"တစ်လ",MM:"%d လ",y:"တစ်နှစ်",yy:"%d နှစ်"},preparse:function(e){return e.replace(/[၁၂၃၄၅၆၇၈၉၀]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},week:{dow:1,doy:4}})}(n(99420))},74677:function(e,t,n){!function(e){"use strict";e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag".split("_"),weekdaysShort:"sø._ma._ti._on._to._fr._lø.".split("_"),weekdaysMin:"sø_ma_ti_on_to_fr_lø".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i går kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"én time",hh:"%d timer",d:"én dag",dd:"%d dager",w:"én uke",ww:"%d uker",M:"én måned",MM:"%d måneder",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(99420))},50880:function(e,t,n){!function(e){"use strict";var t={1:"१",2:"२",3:"३",4:"४",5:"५",6:"६",7:"७",8:"८",9:"९",0:"०"},n={"१":"1","२":"2","३":"3","४":"4","५":"5","६":"6","७":"7","८":"8","९":"9","०":"0"};e.defineLocale("ne",{months:"जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर".split("_"),monthsShort:"जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.".split("_"),monthsParseExact:!0,weekdays:"आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार".split("_"),weekdaysShort:"आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.".split("_"),weekdaysMin:"आ._सो._मं._बु._बि._शु._श.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"Aको h:mm बजे",LTS:"Aको h:mm:ss बजे",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, Aको h:mm बजे",LLLL:"dddd, D MMMM YYYY, Aको h:mm बजे"},preparse:function(e){return e.replace(/[१२३४५६७८९०]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/राति|बिहान|दिउँसो|साँझ/,meridiemHour:function(e,t){return 12===e&&(e=0),"राति"===t?e<4?e:e+12:"बिहान"===t?e:"दिउँसो"===t?e>=10?e:e+12:"साँझ"===t?e+12:void 0},meridiem:function(e,t,n){return e<3?"राति":e<12?"बिहान":e<16?"दिउँसो":e<20?"साँझ":"राति"},calendar:{sameDay:"[आज] LT",nextDay:"[भोलि] LT",nextWeek:"[आउँदो] dddd[,] LT",lastDay:"[हिजो] LT",lastWeek:"[गएको] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%sमा",past:"%s अगाडि",s:"केही क्षण",ss:"%d सेकेण्ड",m:"एक मिनेट",mm:"%d मिनेट",h:"एक घण्टा",hh:"%d घण्टा",d:"एक दिन",dd:"%d दिन",M:"एक महिना",MM:"%d महिना",y:"एक बर्ष",yy:"%d बर्ष"},week:{dow:0,doy:6}})}(n(99420))},80097:function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(99420))},66239:function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^(maart|mrt\.?)$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",w:"één week",ww:"%d weken",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(99420))},85057:function(e,t,n){!function(e){"use strict";e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._må._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_må_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I går klokka] LT",lastWeek:"[Føregåande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein månad",MM:"%d månader",y:"eit år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(99420))},32513:function(e,t,n){!function(e){"use strict";e.defineLocale("oc-lnc",{months:{standalone:"genièr_febrièr_març_abril_mai_junh_julhet_agost_setembre_octòbre_novembre_decembre".split("_"),format:"de genièr_de febrièr_de març_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octòbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._març_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimècres_dijòus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[uèi a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ièr a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aquí %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t|è|a)/,ordinal:function(e,t){var n=1===e?"r":2===e?"n":3===e?"r":4===e?"t":"è";return"w"!==t&&"W"!==t||(n="a"),e+n},week:{dow:1,doy:4}})}(n(99420))},20068:function(e,t,n){!function(e){"use strict";var t={1:"੧",2:"੨",3:"੩",4:"੪",5:"੫",6:"੬",7:"੭",8:"੮",9:"੯",0:"੦"},n={"੧":"1","੨":"2","੩":"3","੪":"4","੫":"5","੬":"6","੭":"7","੮":"8","੯":"9","੦":"0"};e.defineLocale("pa-in",{months:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),monthsShort:"ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ".split("_"),weekdays:"ਐਤਵਾਰ_ਸੋਮਵਾਰ_ਮੰਗਲਵਾਰ_ਬੁਧਵਾਰ_ਵੀਰਵਾਰ_ਸ਼ੁੱਕਰਵਾਰ_ਸ਼ਨੀਚਰਵਾਰ".split("_"),weekdaysShort:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),weekdaysMin:"ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ".split("_"),longDateFormat:{LT:"A h:mm ਵਜੇ",LTS:"A h:mm:ss ਵਜੇ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ਵਜੇ",LLLL:"dddd, D MMMM YYYY, A h:mm ਵਜੇ"},calendar:{sameDay:"[ਅਜ] LT",nextDay:"[ਕਲ] LT",nextWeek:"[ਅਗਲਾ] dddd, LT",lastDay:"[ਕਲ] LT",lastWeek:"[ਪਿਛਲੇ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ਵਿੱਚ",past:"%s ਪਿਛਲੇ",s:"ਕੁਝ ਸਕਿੰਟ",ss:"%d ਸਕਿੰਟ",m:"ਇਕ ਮਿੰਟ",mm:"%d ਮਿੰਟ",h:"ਇੱਕ ਘੰਟਾ",hh:"%d ਘੰਟੇ",d:"ਇੱਕ ਦਿਨ",dd:"%d ਦਿਨ",M:"ਇੱਕ ਮਹੀਨਾ",MM:"%d ਮਹੀਨੇ",y:"ਇੱਕ ਸਾਲ",yy:"%d ਸਾਲ"},preparse:function(e){return e.replace(/[੧੨੩੪੫੬੭੮੯੦]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/ਰਾਤ|ਸਵੇਰ|ਦੁਪਹਿਰ|ਸ਼ਾਮ/,meridiemHour:function(e,t){return 12===e&&(e=0),"ਰਾਤ"===t?e<4?e:e+12:"ਸਵੇਰ"===t?e:"ਦੁਪਹਿਰ"===t?e>=10?e:e+12:"ਸ਼ਾਮ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"ਰਾਤ":e<10?"ਸਵੇਰ":e<17?"ਦੁਪਹਿਰ":e<20?"ਸ਼ਾਮ":"ਰਾਤ"},week:{dow:0,doy:6}})}(n(99420))},45993:function(e,t,n){!function(e){"use strict";var t="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_"),r=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^paź/i,/^lis/i,/^gru/i];function i(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function s(e,t,n){var r=e+" ";switch(n){case"ss":return r+(i(e)?"sekundy":"sekund");case"m":return t?"minuta":"minutę";case"mm":return r+(i(e)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return r+(i(e)?"godziny":"godzin");case"ww":return r+(i(e)?"tygodnie":"tygodni");case"MM":return r+(i(e)?"miesiące":"miesięcy");case"yy":return r+(i(e)?"lata":"lat")}}e.defineLocale("pl",{months:function(e,r){return e?/D MMMM/.test(r)?n[e.month()]:t[e.month()]:t},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedzielę o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W środę o] LT";case 6:return"[W sobotę o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:s,m:s,mm:s,h:s,hh:s,d:"1 dzień",dd:"%d dni",w:"tydzień",ww:s,M:"miesiąc",MM:s,y:"rok",yy:s},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(99420))},58250:function(e,t,n){!function(e){"use strict";e.defineLocale("pt-br",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_terça-feira_quarta-feira_quinta-feira_sexta-feira_sábado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sáb".split("_"),weekdaysMin:"do_2ª_3ª_4ª_5ª_6ª_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [às] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [às] HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",invalidDate:"Data inválida"})}(n(99420))},22625:function(e,t,n){!function(e){"use strict";e.defineLocale("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(99420))},67486:function(e,t,n){!function(e){"use strict";function t(e,t,n){var r=" ";return(e%100>=20||e>=100&&e%100==0)&&(r=" de "),e+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"săptămâni",MM:"luni",yy:"ani"}[n]}e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminică_luni_marți_miercuri_joi_vineri_sâmbătă".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sâm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_Sâ".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mâine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s în urmă",s:"câteva secunde",ss:t,m:"un minut",mm:t,h:"o oră",hh:t,d:"o zi",dd:t,w:"o săptămână",ww:t,M:"o lună",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}(n(99420))},48828:function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"минута":"минуту":e+" "+function(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}({ss:t?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:t?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",ww:"неделя_недели_недель",MM:"месяц_месяца_месяцев",yy:"год_года_лет"}[n],+e)}var n=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i];e.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},calendar:{sameDay:"[Сегодня, в] LT",nextDay:"[Завтра, в] LT",lastDay:"[Вчера, в] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В следующее] dddd, [в] LT";case 1:case 2:case 4:return"[В следующий] dddd, [в] LT";case 3:case 5:case 6:return"[В следующую] dddd, [в] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd, [в] LT":"[В] dddd, [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd, [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd, [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd, [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",ss:t,m:t,mm:t,h:"час",hh:t,d:"день",dd:t,w:"неделя",ww:t,M:"месяц",MM:t,y:"год",yy:t},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночи":e<12?"утра":e<17?"дня":"вечера"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:4}})}(n(99420))},78310:function(e,t,n){!function(e){"use strict";var t=["جنوري","فيبروري","مارچ","اپريل","مئي","جون","جولاءِ","آگسٽ","سيپٽمبر","آڪٽوبر","نومبر","ڊسمبر"],n=["آچر","سومر","اڱارو","اربع","خميس","جمع","ڇنڇر"];e.defineLocale("sd",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[اڄ] LT",nextDay:"[سڀاڻي] LT",nextWeek:"dddd [اڳين هفتي تي] LT",lastDay:"[ڪالهه] LT",lastWeek:"[گزريل هفتي] dddd [تي] LT",sameElse:"L"},relativeTime:{future:"%s پوء",past:"%s اڳ",s:"چند سيڪنڊ",ss:"%d سيڪنڊ",m:"هڪ منٽ",mm:"%d منٽ",h:"هڪ ڪلاڪ",hh:"%d ڪلاڪ",d:"هڪ ڏينهن",dd:"%d ڏينهن",M:"هڪ مهينو",MM:"%d مهينا",y:"هڪ سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}})}(n(99420))},9029:function(e,t,n){!function(e){"use strict";e.defineLocale("se",{months:"ođđajagemánnu_guovvamánnu_njukčamánnu_cuoŋománnu_miessemánnu_geassemánnu_suoidnemánnu_borgemánnu_čakčamánnu_golggotmánnu_skábmamánnu_juovlamánnu".split("_"),monthsShort:"ođđj_guov_njuk_cuo_mies_geas_suoi_borg_čakč_golg_skáb_juov".split("_"),weekdays:"sotnabeaivi_vuossárga_maŋŋebárga_gaskavahkku_duorastat_bearjadat_lávvardat".split("_"),weekdaysShort:"sotn_vuos_maŋ_gask_duor_bear_láv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geažes",past:"maŋit %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mánnu",MM:"%d mánut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(99420))},25297:function(e,t,n){!function(e){"use strict";e.defineLocale("si",{months:"ජනවාරි_පෙබරවාරි_මාර්තු_අප්‍රේල්_මැයි_ජූනි_ජූලි_අගෝස්තු_සැප්තැම්බර්_ඔක්තෝබර්_නොවැම්බර්_දෙසැම්බර්".split("_"),monthsShort:"ජන_පෙබ_මාර්_අප්_මැයි_ජූනි_ජූලි_අගෝ_සැප්_ඔක්_නොවැ_දෙසැ".split("_"),weekdays:"ඉරිදා_සඳුදා_අඟහරුවාදා_බදාදා_බ්‍රහස්පතින්දා_සිකුරාදා_සෙනසුරාදා".split("_"),weekdaysShort:"ඉරි_සඳු_අඟ_බදා_බ්‍රහ_සිකු_සෙන".split("_"),weekdaysMin:"ඉ_ස_අ_බ_බ්‍ර_සි_සෙ".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [වැනි] dddd, a h:mm:ss"},calendar:{sameDay:"[අද] LT[ට]",nextDay:"[හෙට] LT[ට]",nextWeek:"dddd LT[ට]",lastDay:"[ඊයේ] LT[ට]",lastWeek:"[පසුගිය] dddd LT[ට]",sameElse:"L"},relativeTime:{future:"%sකින්",past:"%sකට පෙර",s:"තත්පර කිහිපය",ss:"තත්පර %d",m:"මිනිත්තුව",mm:"මිනිත්තු %d",h:"පැය",hh:"පැය %d",d:"දිනය",dd:"දින %d",M:"මාසය",MM:"මාස %d",y:"වසර",yy:"වසර %d"},dayOfMonthOrdinalParse:/\d{1,2} වැනි/,ordinal:function(e){return e+" වැනි"},meridiemParse:/පෙර වරු|පස් වරු|පෙ.ව|ප.ව./,isPM:function(e){return"ප.ව."===e||"පස් වරු"===e},meridiem:function(e,t,n){return e>11?n?"ප.ව.":"පස් වරු":n?"පෙ.ව.":"පෙර වරු"}})}(n(99420))},71247:function(e,t,n){!function(e){"use strict";var t="január_február_marec_apríl_máj_jún_júl_august_september_október_november_december".split("_"),n="jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec".split("_");function r(e){return e>1&&e<5}function i(e,t,n,i){var s=e+" ";switch(n){case"s":return t||i?"pár sekúnd":"pár sekundami";case"ss":return t||i?s+(r(e)?"sekundy":"sekúnd"):s+"sekundami";case"m":return t?"minúta":i?"minútu":"minútou";case"mm":return t||i?s+(r(e)?"minúty":"minút"):s+"minútami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?s+(r(e)?"hodiny":"hodín"):s+"hodinami";case"d":return t||i?"deň":"dňom";case"dd":return t||i?s+(r(e)?"dni":"dní"):s+"dňami";case"M":return t||i?"mesiac":"mesiacom";case"MM":return t||i?s+(r(e)?"mesiace":"mesiacov"):s+"mesiacmi";case"y":return t||i?"rok":"rokom";case"yy":return t||i?s+(r(e)?"roky":"rokov"):s+"rokmi"}}e.defineLocale("sk",{months:t,monthsShort:n,weekdays:"nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_št_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_št_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeľu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo štvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[včera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulú nedeľu o] LT";case 1:case 2:case 4:case 5:return"[minulý] dddd [o] LT";case 3:return"[minulú stredu o] LT";case 6:return"[minulú sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(99420))},93742:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i=e+" ";switch(n){case"s":return t||r?"nekaj sekund":"nekaj sekundami";case"ss":return i+(1===e?t?"sekundo":"sekundi":2===e?t||r?"sekundi":"sekundah":e<5?t||r?"sekunde":"sekundah":"sekund");case"m":return t?"ena minuta":"eno minuto";case"mm":return i+(1===e?t?"minuta":"minuto":2===e?t||r?"minuti":"minutama":e<5?t||r?"minute":"minutami":t||r?"minut":"minutami");case"h":return t?"ena ura":"eno uro";case"hh":return i+(1===e?t?"ura":"uro":2===e?t||r?"uri":"urama":e<5?t||r?"ure":"urami":t||r?"ur":"urami");case"d":return t||r?"en dan":"enim dnem";case"dd":return i+(1===e?t||r?"dan":"dnem":2===e?t||r?"dni":"dnevoma":t||r?"dni":"dnevi");case"M":return t||r?"en mesec":"enim mesecem";case"MM":return i+(1===e?t||r?"mesec":"mesecem":2===e?t||r?"meseca":"mesecema":e<5?t||r?"mesece":"meseci":t||r?"mesecev":"meseci");case"y":return t||r?"eno leto":"enim letom";case"yy":return i+(1===e?t||r?"leto":"letom":2===e?t||r?"leti":"letoma":e<5?t||r?"leta":"leti":t||r?"let":"leti")}}e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._čet._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_če_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[včeraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejšnjo] [nedeljo] [ob] LT";case 3:return"[prejšnjo] [sredo] [ob] LT";case 6:return"[prejšnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejšnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"čez %s",past:"pred %s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(99420))},30169:function(e,t,n){!function(e){"use strict";e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj".split("_"),weekdays:"E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë".split("_"),weekdaysShort:"Die_Hën_Mar_Mër_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_Më_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(e){return"M"===e.charAt(0)},meridiem:function(e,t,n){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot në] LT",nextDay:"[Nesër në] LT",nextWeek:"dddd [në] LT",lastDay:"[Dje në] LT",lastWeek:"dddd [e kaluar në] LT",sameElse:"L"},relativeTime:{future:"në %s",past:"%s më parë",s:"disa sekonda",ss:"%d sekonda",m:"një minutë",mm:"%d minuta",h:"një orë",hh:"%d orë",d:"një ditë",dd:"%d ditë",M:"një muaj",MM:"%d muaj",y:"një vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(99420))},65023:function(e,t,n){!function(e){"use strict";var t={words:{ss:["секунда","секунде","секунди"],m:["један минут","једног минута"],mm:["минут","минута","минута"],h:["један сат","једног сата"],hh:["сат","сата","сати"],d:["један дан","једног дана"],dd:["дан","дана","дана"],M:["један месец","једног месеца"],MM:["месец","месеца","месеци"],y:["једну годину","једне године"],yy:["годину","године","година"]},correctGrammaticalCase:function(e,t){return e%10>=1&&e%10<=4&&(e%100<10||e%100>=20)?e%10==1?t[0]:t[1]:t[2]},translate:function(e,n,r,i){var s,a=t.words[r];return 1===r.length?"y"===r&&n?"једна година":i||n?a[0]:a[1]:(s=t.correctGrammaticalCase(e,a),"yy"===r&&n&&"годину"===s?e+" година":e+" "+s)}};e.defineLocale("sr-cyrl",{months:"јануар_фебруар_март_април_мај_јун_јул_август_септембар_октобар_новембар_децембар".split("_"),monthsShort:"јан._феб._мар._апр._мај_јун_јул_авг._сеп._окт._нов._дец.".split("_"),monthsParseExact:!0,weekdays:"недеља_понедељак_уторак_среда_четвртак_петак_субота".split("_"),weekdaysShort:"нед._пон._уто._сре._чет._пет._суб.".split("_"),weekdaysMin:"не_по_ут_ср_че_пе_су".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[данас у] LT",nextDay:"[сутра у] LT",nextWeek:function(){switch(this.day()){case 0:return"[у] [недељу] [у] LT";case 3:return"[у] [среду] [у] LT";case 6:return"[у] [суботу] [у] LT";case 1:case 2:case 4:case 5:return"[у] dddd [у] LT"}},lastDay:"[јуче у] LT",lastWeek:function(){return["[прошле] [недеље] [у] LT","[прошлог] [понедељка] [у] LT","[прошлог] [уторка] [у] LT","[прошле] [среде] [у] LT","[прошлог] [четвртка] [у] LT","[прошлог] [петка] [у] LT","[прошле] [суботе] [у] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"за %s",past:"пре %s",s:"неколико секунди",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:t.translate,dd:t.translate,M:t.translate,MM:t.translate,y:t.translate,yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(99420))},95872:function(e,t,n){!function(e){"use strict";var t={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],d:["jedan dan","jednog dana"],dd:["dan","dana","dana"],M:["jedan mesec","jednog meseca"],MM:["mesec","meseca","meseci"],y:["jednu godinu","jedne godine"],yy:["godinu","godine","godina"]},correctGrammaticalCase:function(e,t){return e%10>=1&&e%10<=4&&(e%100<10||e%100>=20)?e%10==1?t[0]:t[1]:t[2]},translate:function(e,n,r,i){var s,a=t.words[r];return 1===r.length?"y"===r&&n?"jedna godina":i||n?a[0]:a[1]:(s=t.correctGrammaticalCase(e,a),"yy"===r&&n&&"godinu"===s?e+" godina":e+" "+s)}};e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_četvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._čet._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_če_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juče u] LT",lastWeek:function(){return["[prošle] [nedelje] [u] LT","[prošlog] [ponedeljka] [u] LT","[prošlog] [utorka] [u] LT","[prošle] [srede] [u] LT","[prošlog] [četvrtka] [u] LT","[prošlog] [petka] [u] LT","[prošle] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:t.translate,m:t.translate,mm:t.translate,h:t.translate,hh:t.translate,d:t.translate,dd:t.translate,M:t.translate,MM:t.translate,y:t.translate,yy:t.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(n(99420))},53527:function(e,t,n){!function(e){"use strict";e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(e,t,n){return e<11?"ekuseni":e<15?"emini":e<19?"entsambama":"ebusuku"},meridiemHour:function(e,t){return 12===e&&(e=0),"ekuseni"===t?e:"emini"===t?e>=11?e:e+12:"entsambama"===t||"ebusuku"===t?0===e?0:e+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(n(99420))},48556:function(e,t,n){!function(e){"use strict";e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?":e":1===t||2===t?":a":":e")},week:{dow:1,doy:4}})}(n(99420))},37427:function(e,t,n){!function(e){"use strict";e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(n(99420))},50898:function(e,t,n){!function(e){"use strict";var t={1:"௧",2:"௨",3:"௩",4:"௪",5:"௫",6:"௬",7:"௭",8:"௮",9:"௯",0:"௦"},n={"௧":"1","௨":"2","௩":"3","௪":"4","௫":"5","௬":"6","௭":"7","௮":"8","௯":"9","௦":"0"};e.defineLocale("ta",{months:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),monthsShort:"ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்".split("_"),weekdays:"ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை".split("_"),weekdaysShort:"ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி".split("_"),weekdaysMin:"ஞா_தி_செ_பு_வி_வெ_ச".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[இன்று] LT",nextDay:"[நாளை] LT",nextWeek:"dddd, LT",lastDay:"[நேற்று] LT",lastWeek:"[கடந்த வாரம்] dddd, LT",sameElse:"L"},relativeTime:{future:"%s இல்",past:"%s முன்",s:"ஒரு சில விநாடிகள்",ss:"%d விநாடிகள்",m:"ஒரு நிமிடம்",mm:"%d நிமிடங்கள்",h:"ஒரு மணி நேரம்",hh:"%d மணி நேரம்",d:"ஒரு நாள்",dd:"%d நாட்கள்",M:"ஒரு மாதம்",MM:"%d மாதங்கள்",y:"ஒரு வருடம்",yy:"%d ஆண்டுகள்"},dayOfMonthOrdinalParse:/\d{1,2}வது/,ordinal:function(e){return e+"வது"},preparse:function(e){return e.replace(/[௧௨௩௪௫௬௭௮௯௦]/g,(function(e){return n[e]}))},postformat:function(e){return e.replace(/\d/g,(function(e){return t[e]}))},meridiemParse:/யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,meridiem:function(e,t,n){return e<2?" யாமம்":e<6?" வைகறை":e<10?" காலை":e<14?" நண்பகல்":e<18?" எற்பாடு":e<22?" மாலை":" யாமம்"},meridiemHour:function(e,t){return 12===e&&(e=0),"யாமம்"===t?e<2?e:e+12:"வைகறை"===t||"காலை"===t||"நண்பகல்"===t&&e>=10?e:e+12},week:{dow:0,doy:6}})}(n(99420))},51742:function(e,t,n){!function(e){"use strict";e.defineLocale("te",{months:"జనవరి_ఫిబ్రవరి_మార్చి_ఏప్రిల్_మే_జూన్_జులై_ఆగస్టు_సెప్టెంబర్_అక్టోబర్_నవంబర్_డిసెంబర్".split("_"),monthsShort:"జన._ఫిబ్ర._మార్చి_ఏప్రి._మే_జూన్_జులై_ఆగ._సెప్._అక్టో._నవ._డిసె.".split("_"),monthsParseExact:!0,weekdays:"ఆదివారం_సోమవారం_మంగళవారం_బుధవారం_గురువారం_శుక్రవారం_శనివారం".split("_"),weekdaysShort:"ఆది_సోమ_మంగళ_బుధ_గురు_శుక్ర_శని".split("_"),weekdaysMin:"ఆ_సో_మం_బు_గు_శు_శ".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[నేడు] LT",nextDay:"[రేపు] LT",nextWeek:"dddd, LT",lastDay:"[నిన్న] LT",lastWeek:"[గత] dddd, LT",sameElse:"L"},relativeTime:{future:"%s లో",past:"%s క్రితం",s:"కొన్ని క్షణాలు",ss:"%d సెకన్లు",m:"ఒక నిమిషం",mm:"%d నిమిషాలు",h:"ఒక గంట",hh:"%d గంటలు",d:"ఒక రోజు",dd:"%d రోజులు",M:"ఒక నెల",MM:"%d నెలలు",y:"ఒక సంవత్సరం",yy:"%d సంవత్సరాలు"},dayOfMonthOrdinalParse:/\d{1,2}వ/,ordinal:"%dవ",meridiemParse:/రాత్రి|ఉదయం|మధ్యాహ్నం|సాయంత్రం/,meridiemHour:function(e,t){return 12===e&&(e=0),"రాత్రి"===t?e<4?e:e+12:"ఉదయం"===t?e:"మధ్యాహ్నం"===t?e>=10?e:e+12:"సాయంత్రం"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"రాత్రి":e<10?"ఉదయం":e<17?"మధ్యాహ్నం":e<20?"సాయంత్రం":"రాత్రి"},week:{dow:0,doy:6}})}(n(99420))},73600:function(e,t,n){!function(e){"use strict";e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juñu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(99420))},49812:function(e,t,n){!function(e){"use strict";var t={0:"-ум",1:"-ум",2:"-юм",3:"-юм",4:"-ум",5:"-ум",6:"-ум",7:"-ум",8:"-ум",9:"-ум",10:"-ум",12:"-ум",13:"-ум",20:"-ум",30:"-юм",40:"-ум",50:"-ум",60:"-ум",70:"-ум",80:"-ум",90:"-ум",100:"-ум"};e.defineLocale("tg",{months:{format:"январи_феврали_марти_апрели_майи_июни_июли_августи_сентябри_октябри_ноябри_декабри".split("_"),standalone:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_")},monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"якшанбе_душанбе_сешанбе_чоршанбе_панҷшанбе_ҷумъа_шанбе".split("_"),weekdaysShort:"яшб_дшб_сшб_чшб_пшб_ҷум_шнб".split("_"),weekdaysMin:"яш_дш_сш_чш_пш_ҷм_шб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Имрӯз соати] LT",nextDay:"[Фардо соати] LT",lastDay:"[Дирӯз соати] LT",nextWeek:"dddd[и] [ҳафтаи оянда соати] LT",lastWeek:"dddd[и] [ҳафтаи гузашта соати] LT",sameElse:"L"},relativeTime:{future:"баъди %s",past:"%s пеш",s:"якчанд сония",m:"як дақиқа",mm:"%d дақиқа",h:"як соат",hh:"%d соат",d:"як рӯз",dd:"%d рӯз",M:"як моҳ",MM:"%d моҳ",y:"як сол",yy:"%d сол"},meridiemParse:/шаб|субҳ|рӯз|бегоҳ/,meridiemHour:function(e,t){return 12===e&&(e=0),"шаб"===t?e<4?e:e+12:"субҳ"===t?e:"рӯз"===t?e>=11?e:e+12:"бегоҳ"===t?e+12:void 0},meridiem:function(e,t,n){return e<4?"шаб":e<11?"субҳ":e<16?"рӯз":e<19?"бегоҳ":"шаб"},dayOfMonthOrdinalParse:/\d{1,2}-(ум|юм)/,ordinal:function(e){return e+(t[e]||t[e%10]||t[e>=100?100:null])},week:{dow:1,doy:7}})}(n(99420))},79513:function(e,t,n){!function(e){"use strict";e.defineLocale("th",{months:"มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม".split("_"),monthsShort:"ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.".split("_"),monthsParseExact:!0,weekdays:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์".split("_"),weekdaysShort:"อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์".split("_"),weekdaysMin:"อา._จ._อ._พ._พฤ._ศ._ส.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY เวลา H:mm",LLLL:"วันddddที่ D MMMM YYYY เวลา H:mm"},meridiemParse:/ก่อนเที่ยง|หลังเที่ยง/,isPM:function(e){return"หลังเที่ยง"===e},meridiem:function(e,t,n){return e<12?"ก่อนเที่ยง":"หลังเที่ยง"},calendar:{sameDay:"[วันนี้ เวลา] LT",nextDay:"[พรุ่งนี้ เวลา] LT",nextWeek:"dddd[หน้า เวลา] LT",lastDay:"[เมื่อวานนี้ เวลา] LT",lastWeek:"[วัน]dddd[ที่แล้ว เวลา] LT",sameElse:"L"},relativeTime:{future:"อีก %s",past:"%sที่แล้ว",s:"ไม่กี่วินาที",ss:"%d วินาที",m:"1 นาที",mm:"%d นาที",h:"1 ชั่วโมง",hh:"%d ชั่วโมง",d:"1 วัน",dd:"%d วัน",w:"1 สัปดาห์",ww:"%d สัปดาห์",M:"1 เดือน",MM:"%d เดือน",y:"1 ปี",yy:"%d ปี"}})}(n(99420))},78464:function(e,t,n){!function(e){"use strict";var t={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'ünji",4:"'ünji",100:"'ünji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};e.defineLocale("tk",{months:"Ýanwar_Fewral_Mart_Aprel_Maý_Iýun_Iýul_Awgust_Sentýabr_Oktýabr_Noýabr_Dekabr".split("_"),monthsShort:"Ýan_Few_Mar_Apr_Maý_Iýn_Iýl_Awg_Sen_Okt_Noý_Dek".split("_"),weekdays:"Ýekşenbe_Duşenbe_Sişenbe_Çarşenbe_Penşenbe_Anna_Şenbe".split("_"),weekdaysShort:"Ýek_Duş_Siş_Çar_Pen_Ann_Şen".split("_"),weekdaysMin:"Ýk_Dş_Sş_Çr_Pn_An_Şn".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[düýn] LT",lastWeek:"[geçen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s soň",past:"%s öň",s:"birnäçe sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gün",dd:"%d gün",M:"bir aý",MM:"%d aý",y:"bir ýyl",yy:"%d ýyl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'unjy";var r=e%10;return e+(t[r]||t[e%100-r]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(n(99420))},3502:function(e,t,n){!function(e){"use strict";e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(99420))},90193:function(e,t,n){!function(e){"use strict";var t="pagh_wa’_cha’_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(e,t,n,i){var s=r(e);switch(n){case"ss":return s+" lup";case"mm":return s+" tup";case"hh":return s+" rep";case"dd":return s+" jaj";case"MM":return s+" jar";case"yy":return s+" DIS"}}function r(e){var n=Math.floor(e%1e3/100),r=Math.floor(e%100/10),i=e%10,s="";return n>0&&(s+=t[n]+"vatlh"),r>0&&(s+=(""!==s?" ":"")+t[r]+"maH"),i>0&&(s+=(""!==s?" ":"")+t[i]),""===s?"pagh":s}e.defineLocale("tlh",{months:"tera’ jar wa’_tera’ jar cha’_tera’ jar wej_tera’ jar loS_tera’ jar vagh_tera’ jar jav_tera’ jar Soch_tera’ jar chorgh_tera’ jar Hut_tera’ jar wa’maH_tera’ jar wa’maH wa’_tera’ jar wa’maH cha’".split("_"),monthsShort:"jar wa’_jar cha’_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa’maH_jar wa’maH wa’_jar wa’maH cha’".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[wa’leS] LT",nextWeek:"LLL",lastDay:"[wa’Hu’] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(e){var t=e;return-1!==e.indexOf("jaj")?t.slice(0,-3)+"leS":-1!==e.indexOf("jar")?t.slice(0,-3)+"waQ":-1!==e.indexOf("DIS")?t.slice(0,-3)+"nem":t+" pIq"},past:function(e){var t=e;return-1!==e.indexOf("jaj")?t.slice(0,-3)+"Hu’":-1!==e.indexOf("jar")?t.slice(0,-3)+"wen":-1!==e.indexOf("DIS")?t.slice(0,-3)+"ben":t+" ret"},s:"puS lup",ss:n,m:"wa’ tup",mm:n,h:"wa’ rep",hh:n,d:"wa’ jaj",dd:n,M:"wa’ jar",MM:n,y:"wa’ DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(99420))},85903:function(e,t,n){!function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};e.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pzt_Sal_Çar_Per_Cum_Cmt".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),meridiem:function(e,t,n){return e<12?n?"öö":"ÖÖ":n?"ös":"ÖS"},meridiemParse:/öö|ÖÖ|ös|ÖS/,isPM:function(e){return"ös"===e||"ÖS"===e},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'ıncı";var r=e%10;return e+(t[r]||t[e%100-r]||t[e>=100?100:null])}},week:{dow:1,doy:7}})}(n(99420))},59459:function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var i={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",e+" secunds"],m:["'n míut","'iens míut"],mm:[e+" míuts",e+" míuts"],h:["'n þora","'iensa þora"],hh:[e+" þoras",e+" þoras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",e+" ars"]};return r||t?i[n][0]:i[n][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Març_Avrïu_Mai_Gün_Julia_Guscht_Setemvar_Listopäts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gün_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Súladi_Lúneçi_Maitzi_Márcuri_Xhúadi_Viénerçi_Sáturi".split("_"),weekdaysShort:"Súl_Lún_Mai_Már_Xhú_Vié_Sát".split("_"),weekdaysMin:"Sú_Lú_Ma_Má_Xh_Vi_Sá".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(e){return"d'o"===e.toLowerCase()},meridiem:function(e,t,n){return e>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi à] LT",nextDay:"[demà à] LT",nextWeek:"dddd [à] LT",lastDay:"[ieiri à] LT",lastWeek:"[sür el] dddd [lasteu à] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:t,ss:t,m:t,mm:t,h:t,hh:t,d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(99420))},41476:function(e,t,n){!function(e){"use strict";e.defineLocale("tzm-latn",{months:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minuḍ",mm:"%d minuḍ",h:"saɛa",hh:"%d tassaɛin",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(n(99420))},77820:function(e,t,n){!function(e){"use strict";e.defineLocale("tzm",{months:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),monthsShort:"ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ".split("_"),weekdays:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysShort:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),weekdaysMin:"ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ⴰⵙⴷⵅ ⴴ] LT",nextDay:"[ⴰⵙⴽⴰ ⴴ] LT",nextWeek:"dddd [ⴴ] LT",lastDay:"[ⴰⵚⴰⵏⵜ ⴴ] LT",lastWeek:"dddd [ⴴ] LT",sameElse:"L"},relativeTime:{future:"ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s",past:"ⵢⴰⵏ %s",s:"ⵉⵎⵉⴽ",ss:"%d ⵉⵎⵉⴽ",m:"ⵎⵉⵏⵓⴺ",mm:"%d ⵎⵉⵏⵓⴺ",h:"ⵙⴰⵄⴰ",hh:"%d ⵜⴰⵙⵙⴰⵄⵉⵏ",d:"ⴰⵙⵙ",dd:"%d oⵙⵙⴰⵏ",M:"ⴰⵢoⵓⵔ",MM:"%d ⵉⵢⵢⵉⵔⵏ",y:"ⴰⵙⴳⴰⵙ",yy:"%d ⵉⵙⴳⴰⵙⵏ"},week:{dow:6,doy:12}})}(n(99420))},47927:function(e,t,n){!function(e){"use strict";e.defineLocale("ug-cn",{months:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),monthsShort:"يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر".split("_"),weekdays:"يەكشەنبە_دۈشەنبە_سەيشەنبە_چارشەنبە_پەيشەنبە_جۈمە_شەنبە".split("_"),weekdaysShort:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),weekdaysMin:"يە_دۈ_سە_چا_پە_جۈ_شە".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-يىلىM-ئاينىڭD-كۈنى",LLL:"YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm",LLLL:"dddd، YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm"},meridiemParse:/يېرىم كېچە|سەھەر|چۈشتىن بۇرۇن|چۈش|چۈشتىن كېيىن|كەچ/,meridiemHour:function(e,t){return 12===e&&(e=0),"يېرىم كېچە"===t||"سەھەر"===t||"چۈشتىن بۇرۇن"===t?e:"چۈشتىن كېيىن"===t||"كەچ"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"يېرىم كېچە":r<900?"سەھەر":r<1130?"چۈشتىن بۇرۇن":r<1230?"چۈش":r<1800?"چۈشتىن كېيىن":"كەچ"},calendar:{sameDay:"[بۈگۈن سائەت] LT",nextDay:"[ئەتە سائەت] LT",nextWeek:"[كېلەركى] dddd [سائەت] LT",lastDay:"[تۆنۈگۈن] LT",lastWeek:"[ئالدىنقى] dddd [سائەت] LT",sameElse:"L"},relativeTime:{future:"%s كېيىن",past:"%s بۇرۇن",s:"نەچچە سېكونت",ss:"%d سېكونت",m:"بىر مىنۇت",mm:"%d مىنۇت",h:"بىر سائەت",hh:"%d سائەت",d:"بىر كۈن",dd:"%d كۈن",M:"بىر ئاي",MM:"%d ئاي",y:"بىر يىل",yy:"%d يىل"},dayOfMonthOrdinalParse:/\d{1,2}(-كۈنى|-ئاي|-ھەپتە)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"-كۈنى";case"w":case"W":return e+"-ھەپتە";default:return e}},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:7}})}(n(99420))},61997:function(e,t,n){!function(e){"use strict";function t(e,t,n){return"m"===n?t?"хвилина":"хвилину":"h"===n?t?"година":"годину":e+" "+function(e,t){var n=e.split("_");return t%10==1&&t%100!=11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}({ss:t?"секунда_секунди_секунд":"секунду_секунди_секунд",mm:t?"хвилина_хвилини_хвилин":"хвилину_хвилини_хвилин",hh:t?"година_години_годин":"годину_години_годин",dd:"день_дні_днів",MM:"місяць_місяці_місяців",yy:"рік_роки_років"}[n],+e)}function n(e){return function(){return e+"о"+(11===this.hours()?"б":"")+"] LT"}}e.defineLocale("uk",{months:{format:"січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня".split("_"),standalone:"січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень".split("_")},monthsShort:"січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд".split("_"),weekdays:function(e,t){var n={nominative:"неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота".split("_"),accusative:"неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу".split("_"),genitive:"неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи".split("_")};return!0===e?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):e?n[/(\[[ВвУу]\]) ?dddd/.test(t)?"accusative":/\[?(?:минулої|наступної)? ?\] ?dddd/.test(t)?"genitive":"nominative"][e.day()]:n.nominative},weekdaysShort:"нд_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"нд_пн_вт_ср_чт_пт_сб".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY р.",LLL:"D MMMM YYYY р., HH:mm",LLLL:"dddd, D MMMM YYYY р., HH:mm"},calendar:{sameDay:n("[Сьогодні "),nextDay:n("[Завтра "),lastDay:n("[Вчора "),nextWeek:n("[У] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[Минулої] dddd [").call(this);case 1:case 2:case 4:return n("[Минулого] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:"за %s",past:"%s тому",s:"декілька секунд",ss:t,m:t,mm:t,h:"годину",hh:t,d:"день",dd:t,M:"місяць",MM:t,y:"рік",yy:t},meridiemParse:/ночі|ранку|дня|вечора/,isPM:function(e){return/^(дня|вечора)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночі":e<12?"ранку":e<17?"дня":"вечора"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-й";case"D":return e+"-го";default:return e}},week:{dow:1,doy:7}})}(n(99420))},62902:function(e,t,n){!function(e){"use strict";var t=["جنوری","فروری","مارچ","اپریل","مئی","جون","جولائی","اگست","ستمبر","اکتوبر","نومبر","دسمبر"],n=["اتوار","پیر","منگل","بدھ","جمعرات","جمعہ","ہفتہ"];e.defineLocale("ur",{months:t,monthsShort:t,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd، D MMMM YYYY HH:mm"},meridiemParse:/صبح|شام/,isPM:function(e){return"شام"===e},meridiem:function(e,t,n){return e<12?"صبح":"شام"},calendar:{sameDay:"[آج بوقت] LT",nextDay:"[کل بوقت] LT",nextWeek:"dddd [بوقت] LT",lastDay:"[گذشتہ روز بوقت] LT",lastWeek:"[گذشتہ] dddd [بوقت] LT",sameElse:"L"},relativeTime:{future:"%s بعد",past:"%s قبل",s:"چند سیکنڈ",ss:"%d سیکنڈ",m:"ایک منٹ",mm:"%d منٹ",h:"ایک گھنٹہ",hh:"%d گھنٹے",d:"ایک دن",dd:"%d دن",M:"ایک ماہ",MM:"%d ماہ",y:"ایک سال",yy:"%d سال"},preparse:function(e){return e.replace(/،/g,",")},postformat:function(e){return e.replace(/,/g,"،")},week:{dow:1,doy:4}})}(n(99420))},35494:function(e,t,n){!function(e){"use strict";e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(n(99420))},4990:function(e,t,n){!function(e){"use strict";e.defineLocale("uz",{months:"январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр".split("_"),monthsShort:"янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек".split("_"),weekdays:"Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба".split("_"),weekdaysShort:"Якш_Душ_Сеш_Чор_Пай_Жум_Шан".split("_"),weekdaysMin:"Як_Ду_Се_Чо_Па_Жу_Ша".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Бугун соат] LT [да]",nextDay:"[Эртага] LT [да]",nextWeek:"dddd [куни соат] LT [да]",lastDay:"[Кеча соат] LT [да]",lastWeek:"[Утган] dddd [куни соат] LT [да]",sameElse:"L"},relativeTime:{future:"Якин %s ичида",past:"Бир неча %s олдин",s:"фурсат",ss:"%d фурсат",m:"бир дакика",mm:"%d дакика",h:"бир соат",hh:"%d соат",d:"бир кун",dd:"%d кун",M:"бир ой",MM:"%d ой",y:"бир йил",yy:"%d йил"},week:{dow:1,doy:7}})}(n(99420))},83756:function(e,t,n){!function(e){"use strict";e.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần trước lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",ss:"%d giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",w:"một tuần",ww:"%d tuần",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(99420))},23792:function(e,t,n){!function(e){"use strict";e.defineLocale("x-pseudo",{months:"J~áñúá~rý_F~ébrú~árý_~Márc~h_Áp~ríl_~Máý_~Júñé~_Júl~ý_Áú~gúst~_Sép~témb~ér_Ó~ctób~ér_Ñ~óvém~bér_~Décé~mbér".split("_"),monthsShort:"J~áñ_~Féb_~Már_~Ápr_~Máý_~Júñ_~Júl_~Áúg_~Sép_~Óct_~Ñóv_~Déc".split("_"),monthsParseExact:!0,weekdays:"S~úñdá~ý_Mó~ñdáý~_Túé~sdáý~_Wéd~ñésd~áý_T~húrs~dáý_~Fríd~áý_S~átúr~dáý".split("_"),weekdaysShort:"S~úñ_~Móñ_~Túé_~Wéd_~Thú_~Frí_~Sát".split("_"),weekdaysMin:"S~ú_Mó~_Tú_~Wé_T~h_Fr~_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~ódá~ý át] LT",nextDay:"[T~ómó~rró~w át] LT",nextWeek:"dddd [át] LT",lastDay:"[Ý~ést~érdá~ý át] LT",lastWeek:"[L~ást] dddd [át] LT",sameElse:"L"},relativeTime:{future:"í~ñ %s",past:"%s á~gó",s:"á ~féw ~sécó~ñds",ss:"%d s~écóñ~ds",m:"á ~míñ~úté",mm:"%d m~íñú~tés",h:"á~ñ hó~úr",hh:"%d h~óúrs",d:"á ~dáý",dd:"%d d~áýs",M:"á ~móñ~th",MM:"%d m~óñt~hs",y:"á ~ýéár",yy:"%d ý~éárs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")},week:{dow:1,doy:4}})}(n(99420))},98893:function(e,t,n){!function(e){"use strict";e.defineLocale("yo",{months:"Sẹ́rẹ́_Èrèlè_Ẹrẹ̀nà_Ìgbé_Èbibi_Òkùdu_Agẹmo_Ògún_Owewe_Ọ̀wàrà_Bélú_Ọ̀pẹ̀̀".split("_"),monthsShort:"Sẹ́r_Èrl_Ẹrn_Ìgb_Èbi_Òkù_Agẹ_Ògú_Owe_Ọ̀wà_Bél_Ọ̀pẹ̀̀".split("_"),weekdays:"Àìkú_Ajé_Ìsẹ́gun_Ọjọ́rú_Ọjọ́bọ_Ẹtì_Àbámẹ́ta".split("_"),weekdaysShort:"Àìk_Ajé_Ìsẹ́_Ọjr_Ọjb_Ẹtì_Àbá".split("_"),weekdaysMin:"Àì_Aj_Ìs_Ọr_Ọb_Ẹt_Àb".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Ònì ni] LT",nextDay:"[Ọ̀la ni] LT",nextWeek:"dddd [Ọsẹ̀ tón'bọ] [ni] LT",lastDay:"[Àna ni] LT",lastWeek:"dddd [Ọsẹ̀ tólọ́] [ni] LT",sameElse:"L"},relativeTime:{future:"ní %s",past:"%s kọjá",s:"ìsẹjú aayá die",ss:"aayá %d",m:"ìsẹjú kan",mm:"ìsẹjú %d",h:"wákati kan",hh:"wákati %d",d:"ọjọ́ kan",dd:"ọjọ́ %d",M:"osù kan",MM:"osù %d",y:"ọdún kan",yy:"ọdún %d"},dayOfMonthOrdinalParse:/ọjọ́\s\d{1,2}/,ordinal:"ọjọ́ %d",week:{dow:1,doy:4}})}(n(99420))},61329:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:function(e){return e.week()!==this.week()?"[下]dddLT":"[本]dddLT"},lastDay:"[昨天]LT",lastWeek:function(e){return this.week()!==e.week()?"[上]dddLT":"[本]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s后",past:"%s前",s:"几秒",ss:"%d 秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",w:"1 周",ww:"%d 周",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}})}(n(99420))},13005:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-hk",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1200?"上午":1200===r?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}(n(99420))},47696:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-mo",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"D/M/YYYY",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天] LT",nextDay:"[明天] LT",nextWeek:"[下]dddd LT",lastDay:"[昨天] LT",lastWeek:"[上]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s內",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}(n(99420))},85861:function(e,t,n){!function(e){"use strict";e.defineLocale("zh-tw",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"週日_週一_週二_週三_週四_週五_週六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日dddd HH:mm",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"中午"===t?e>=11?e:e+12:"下午"===t||"晚上"===t?e+12:void 0},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天] LT",nextDay:"[明天] LT",nextWeek:"[下]dddd LT",lastDay:"[昨天] LT",lastWeek:"[上]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|週)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"週";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"幾秒",ss:"%d 秒",m:"1 分鐘",mm:"%d 分鐘",h:"1 小時",hh:"%d 小時",d:"1 天",dd:"%d 天",M:"1 個月",MM:"%d 個月",y:"1 年",yy:"%d 年"}})}(n(99420))},99420:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,r;function i(){return t.apply(null,arguments)}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(o(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function _(e,t){for(var n in t)o(t,n)&&(e[n]=t[n]);return o(t,"toString")&&(e.toString=t.toString),o(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,r){return Ut(e,t,n,r,!0).utc()}function p(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function m(e){var t=null,n=!1,i=e._d&&!isNaN(e._d.getTime());return i&&(t=p(e),n=r.call(t.parsedDateParts,(function(e){return null!=e})),i=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?i:(e._isValid=i,e._isValid)}function g(e){var t=f(NaN);return null!=e?_(p(t),e):p(t).userInvalidated=!0,t}r=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var y=i.momentProperties=[],v=!1;function b(e,t){var n,r,i,s=y.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=p(t)),c(t._locale)||(e._locale=t._locale),s>0)for(n=0;n<s;n++)c(i=t[r=y[n]])||(e[r]=i);return e}function M(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,i.updateOffset(this),v=!1)}function E(e){return e instanceof M||null!=e&&null!=e._isAMomentObject}function L(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function w(e,t){var n=!0;return _((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){var r,s,a,u=[],c=arguments.length;for(s=0;s<c;s++){if(r="","object"==typeof arguments[s]){for(a in r+="\n["+s+"] ",arguments[0])o(arguments[0],a)&&(r+=a+": "+arguments[0][a]+", ");r=r.slice(0,-2)}else r=arguments[s];u.push(r)}L(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var T,k={};function S(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),k[e]||(L(t),k[e]=!0)}function D(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function C(e,t){var n,r=_({},e);for(n in t)o(t,n)&&(a(e[n])&&a(t[n])?(r[n]={},_(r[n],e[n]),_(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)o(e,n)&&!o(t,n)&&a(e[n])&&(r[n]=_({},r[n]));return r}function A(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)o(e,t)&&n.push(t);return n};function I(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Y=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,O={},x={};function U(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(x[e]=i),t&&(x[t[0]]=function(){return I(i.apply(this,arguments),t[1],t[2])}),n&&(x[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function P(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function R(e,t){return e.isValid()?(t=H(t,e.localeData()),O[t]=O[t]||function(e){var t,n,r=e.match(N);for(t=0,n=r.length;t<n;t++)x[r[t]]?r[t]=x[r[t]]:r[t]=P(r[t]);return function(t){var i,s="";for(i=0;i<n;i++)s+=D(r[i])?r[i].call(t,e):r[i];return s}}(t),O[t](e)):e.localeData().invalidDate()}function H(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(Y.lastIndex=0;n>=0&&Y.test(e);)e=e.replace(Y,r),Y.lastIndex=0,n-=1;return e}var F={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function j(e){return"string"==typeof e?F[e]||F[e.toLowerCase()]:void 0}function V(e){var t,n,r={};for(n in e)o(e,n)&&(t=j(n))&&(r[t]=e[n]);return r}var q={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};var z,G=/\d/,W=/\d\d/,B=/\d{3}/,K=/\d{4}/,Q=/[+-]?\d{6}/,J=/\d\d?/,Z=/\d\d\d\d?/,X=/\d\d\d\d\d\d?/,$=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ne=/\d+/,re=/[+-]?\d+/,ie=/Z|[+-]\d\d:?\d\d/gi,se=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,oe=/^[1-9]\d?/,ue=/^([1-9]\d|\d)/;function ce(e,t,n){z[e]=D(t)?t:function(e,r){return e&&n?n:t}}function le(e,t){return o(z,e)?z[e](t._strict,t._locale):new RegExp(function(e){return de(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}(e))}function de(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function he(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function _e(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=he(t)),n}z={};var fe={};function pe(e,t){var n,r,i=t;for("string"==typeof e&&(e=[e]),l(t)&&(i=function(e,n){n[t]=_e(e)}),r=e.length,n=0;n<r;n++)fe[e[n]]=i}function me(e,t){pe(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function ge(e,t,n){null!=t&&o(fe,e)&&fe[e](t,n._a,n,e)}function ye(e){return e%4==0&&e%100!=0||e%400==0}var ve=0,be=1,Me=2,Ee=3,Le=4,we=5,Te=6,ke=7,Se=8;function De(e){return ye(e)?366:365}U("Y",0,0,(function(){var e=this.year();return e<=9999?I(e,4):"+"+e})),U(0,["YY",2],0,(function(){return this.year()%100})),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),ce("Y",re),ce("YY",J,W),ce("YYYY",ee,K),ce("YYYYY",te,Q),ce("YYYYYY",te,Q),pe(["YYYYY","YYYYYY"],ve),pe("YYYY",(function(e,t){t[ve]=2===e.length?i.parseTwoDigitYear(e):_e(e)})),pe("YY",(function(e,t){t[ve]=i.parseTwoDigitYear(e)})),pe("Y",(function(e,t){t[ve]=parseInt(e,10)})),i.parseTwoDigitYear=function(e){return _e(e)+(_e(e)>68?1900:2e3)};var Ce,Ae=Ie("FullYear",!0);function Ie(e,t){return function(n){return null!=n?(Ye(this,e,n),i.updateOffset(this,t),this):Ne(this,e)}}function Ne(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Ye(e,t,n){var r,i,s,a,o;if(e.isValid()&&!isNaN(n)){switch(r=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}s=n,a=e.month(),o=29!==(o=e.date())||1!==a||ye(s)?o:28,i?r.setUTCFullYear(s,a,o):r.setFullYear(s,a,o)}}function Oe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-n)/12,1===n?ye(e)?29:28:31-n%7%2}Ce=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},U("M",["MM",2],"Mo",(function(){return this.month()+1})),U("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),U("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ce("M",J,oe),ce("MM",J,W),ce("MMM",(function(e,t){return t.monthsShortRegex(e)})),ce("MMMM",(function(e,t){return t.monthsRegex(e)})),pe(["M","MM"],(function(e,t){t[be]=_e(e)-1})),pe(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[be]=i:p(n).invalidMonth=e}));var xe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ue="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Pe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Re=ae,He=ae;function Fe(e,t,n){var r,i,s,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ce.call(this._shortMonthsParse,a))?i:null:-1!==(i=Ce.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Ce.call(this._shortMonthsParse,a))||-1!==(i=Ce.call(this._longMonthsParse,a))?i:null:-1!==(i=Ce.call(this._longMonthsParse,a))||-1!==(i=Ce.call(this._shortMonthsParse,a))?i:null}function je(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=_e(t);else if(!l(t=e.localeData().monthsParse(t)))return e;var n=t,r=e.date();return r=r<29?r:Math.min(r,Oe(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function Ve(e){return null!=e?(je(this,e),i.updateOffset(this,!0),this):Ne(this,"Month")}function qe(){function e(e,t){return t.length-e.length}var t,n,r,i,s=[],a=[],o=[];for(t=0;t<12;t++)n=f([2e3,t]),r=de(this.monthsShort(n,"")),i=de(this.months(n,"")),s.push(r),a.push(i),o.push(i),o.push(r);s.sort(e),a.sort(e),o.sort(e),this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function ze(e,t,n,r,i,s,a){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,r,i,s,a),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,r,i,s,a),o}function Ge(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function We(e,t,n){var r=7+t-n;return-(7+Ge(e,0,r).getUTCDay()-t)%7+r-1}function Be(e,t,n,r,i){var s,a,o=1+7*(t-1)+(7+n-r)%7+We(e,r,i);return o<=0?a=De(s=e-1)+o:o>De(e)?(s=e+1,a=o-De(e)):(s=e,a=o),{year:s,dayOfYear:a}}function Ke(e,t,n){var r,i,s=We(e.year(),t,n),a=Math.floor((e.dayOfYear()-s-1)/7)+1;return a<1?r=a+Qe(i=e.year()-1,t,n):a>Qe(e.year(),t,n)?(r=a-Qe(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Qe(e,t,n){var r=We(e,t,n),i=We(e+1,t,n);return(De(e)-r+i)/7}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),ce("w",J,oe),ce("ww",J,W),ce("W",J,oe),ce("WW",J,W),me(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=_e(e)}));function Je(e,t){return e.slice(t,7).concat(e.slice(0,t))}U("d",0,"do","day"),U("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),U("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),U("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),ce("d",J),ce("e",J),ce("E",J),ce("dd",(function(e,t){return t.weekdaysMinRegex(e)})),ce("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),ce("dddd",(function(e,t){return t.weekdaysRegex(e)})),me(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:p(n).invalidWeekday=e})),me(["d","e","E"],(function(e,t,n,r){t[r]=_e(e)}));var Ze="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Xe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),$e="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),et=ae,tt=ae,nt=ae;function rt(e,t,n){var r,i,s,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ce.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ce.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Ce.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Ce.call(this._weekdaysParse,a))||-1!==(i=Ce.call(this._shortWeekdaysParse,a))||-1!==(i=Ce.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ce.call(this._shortWeekdaysParse,a))||-1!==(i=Ce.call(this._weekdaysParse,a))||-1!==(i=Ce.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Ce.call(this._minWeekdaysParse,a))||-1!==(i=Ce.call(this._weekdaysParse,a))||-1!==(i=Ce.call(this._shortWeekdaysParse,a))?i:null}function it(){function e(e,t){return t.length-e.length}var t,n,r,i,s,a=[],o=[],u=[],c=[];for(t=0;t<7;t++)n=f([2e3,1]).day(t),r=de(this.weekdaysMin(n,"")),i=de(this.weekdaysShort(n,"")),s=de(this.weekdays(n,"")),a.push(r),o.push(i),u.push(s),c.push(r),c.push(i),c.push(s);a.sort(e),o.sort(e),u.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function st(){return this.hours()%12||12}function at(e,t){U(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function ot(e,t){return t._meridiemParse}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,st),U("k",["kk",2],0,(function(){return this.hours()||24})),U("hmm",0,0,(function(){return""+st.apply(this)+I(this.minutes(),2)})),U("hmmss",0,0,(function(){return""+st.apply(this)+I(this.minutes(),2)+I(this.seconds(),2)})),U("Hmm",0,0,(function(){return""+this.hours()+I(this.minutes(),2)})),U("Hmmss",0,0,(function(){return""+this.hours()+I(this.minutes(),2)+I(this.seconds(),2)})),at("a",!0),at("A",!1),ce("a",ot),ce("A",ot),ce("H",J,ue),ce("h",J,oe),ce("k",J,oe),ce("HH",J,W),ce("hh",J,W),ce("kk",J,W),ce("hmm",Z),ce("hmmss",X),ce("Hmm",Z),ce("Hmmss",X),pe(["H","HH"],Ee),pe(["k","kk"],(function(e,t,n){var r=_e(e);t[Ee]=24===r?0:r})),pe(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),pe(["h","hh"],(function(e,t,n){t[Ee]=_e(e),p(n).bigHour=!0})),pe("hmm",(function(e,t,n){var r=e.length-2;t[Ee]=_e(e.substr(0,r)),t[Le]=_e(e.substr(r)),p(n).bigHour=!0})),pe("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ee]=_e(e.substr(0,r)),t[Le]=_e(e.substr(r,2)),t[we]=_e(e.substr(i)),p(n).bigHour=!0})),pe("Hmm",(function(e,t,n){var r=e.length-2;t[Ee]=_e(e.substr(0,r)),t[Le]=_e(e.substr(r))})),pe("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ee]=_e(e.substr(0,r)),t[Le]=_e(e.substr(r,2)),t[we]=_e(e.substr(i))}));var ut=Ie("Hours",!0);var ct,lt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:xe,monthsShort:Ue,week:{dow:0,doy:6},weekdays:Ze,weekdaysMin:$e,weekdaysShort:Xe,meridiemParse:/[ap]\.?m?\.?/i},dt={},ht={};function _t(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function ft(e){return e?e.toLowerCase().replace("_","-"):e}function pt(t){var r=null;if(void 0===dt[t]&&e&&e.exports&&function(e){return!(!e||!e.match("^[^/\\\\]*$"))}(t))try{r=ct._abbr,n(56857)("./"+t),mt(r)}catch(e){dt[t]=null}return dt[t]}function mt(e,t){var n;return e&&((n=c(t)?yt(e):gt(e,t))?ct=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ct._abbr}function gt(e,t){if(null!==t){var n,r=lt;if(t.abbr=e,null!=dt[e])S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=dt[e]._config;else if(null!=t.parentLocale)if(null!=dt[t.parentLocale])r=dt[t.parentLocale]._config;else{if(null==(n=pt(t.parentLocale)))return ht[t.parentLocale]||(ht[t.parentLocale]=[]),ht[t.parentLocale].push({name:e,config:t}),null;r=n._config}return dt[e]=new A(C(r,t)),ht[e]&&ht[e].forEach((function(e){gt(e.name,e.config)})),mt(e),dt[e]}return delete dt[e],null}function yt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ct;if(!s(e)){if(t=pt(e))return t;e=[e]}return function(e){for(var t,n,r,i,s=0;s<e.length;){for(t=(i=ft(e[s]).split("-")).length,n=(n=ft(e[s+1]))?n.split("-"):null;t>0;){if(r=pt(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&_t(i,n)>=t-1)break;t--}s++}return ct}(e)}function vt(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[be]<0||n[be]>11?be:n[Me]<1||n[Me]>Oe(n[ve],n[be])?Me:n[Ee]<0||n[Ee]>24||24===n[Ee]&&(0!==n[Le]||0!==n[we]||0!==n[Te])?Ee:n[Le]<0||n[Le]>59?Le:n[we]<0||n[we]>59?we:n[Te]<0||n[Te]>999?Te:-1,p(e)._overflowDayOfYear&&(t<ve||t>Me)&&(t=Me),p(e)._overflowWeeks&&-1===t&&(t=ke),p(e)._overflowWeekday&&-1===t&&(t=Se),p(e).overflow=t),e}var bt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Mt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Et=/Z|[+-]\d\d(?::?\d\d)?/,Lt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],wt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Tt=/^\/?Date\((-?\d+)/i,kt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,St={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Dt(e){var t,n,r,i,s,a,o=e._i,u=bt.exec(o)||Mt.exec(o),c=Lt.length,l=wt.length;if(u){for(p(e).iso=!0,t=0,n=c;t<n;t++)if(Lt[t][1].exec(u[1])){i=Lt[t][0],r=!1!==Lt[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=l;t<n;t++)if(wt[t][1].exec(u[3])){s=(u[2]||" ")+wt[t][0];break}if(null==s)return void(e._isValid=!1)}if(!r&&null!=s)return void(e._isValid=!1);if(u[4]){if(!Et.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(s||"")+(a||""),Ot(e)}else e._isValid=!1}function Ct(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function At(e){var t,n=kt.exec(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(e._i));if(n){if(t=function(e,t,n,r,i,s){var a=[Ct(e),Ue.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&a.push(parseInt(s,10)),a}(n[4],n[3],n[2],n[5],n[6],n[7]),!function(e,t,n){return!e||Xe.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(p(n).weekdayMismatch=!0,n._isValid=!1,!1)}(n[1],t,e))return;e._a=t,e._tzm=function(e,t,n){if(e)return St[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(n[8],n[9],n[10]),e._d=Ge.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function It(e,t,n){return null!=e?e:null!=t?t:n}function Nt(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Yt(e){var t,n,r,i,s,a=[];if(!e._d){for(r=Nt(e),e._w&&null==e._a[Me]&&null==e._a[be]&&function(e){var t,n,r,i,s,a,o,u,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(s=1,a=4,n=It(t.GG,e._a[ve],Ke(Pt(),1,4).year),r=It(t.W,1),((i=It(t.E,1))<1||i>7)&&(u=!0)):(s=e._locale._week.dow,a=e._locale._week.doy,c=Ke(Pt(),s,a),n=It(t.gg,e._a[ve],c.year),r=It(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+s,(t.e<0||t.e>6)&&(u=!0)):i=s),r<1||r>Qe(n,s,a)?p(e)._overflowWeeks=!0:null!=u?p(e)._overflowWeekday=!0:(o=Be(n,r,i,s,a),e._a[ve]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(s=It(e._a[ve],r[ve]),(e._dayOfYear>De(s)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=Ge(s,0,e._dayOfYear),e._a[be]=n.getUTCMonth(),e._a[Me]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=r[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ee]&&0===e._a[Le]&&0===e._a[we]&&0===e._a[Te]&&(e._nextDay=!0,e._a[Ee]=0),e._d=(e._useUTC?Ge:ze).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ee]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(p(e).weekdayMismatch=!0)}}function Ot(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],p(e).empty=!0;var t,n,r,s,a,o,u,c=""+e._i,l=c.length,d=0;for(u=(r=H(e._f,e._locale).match(N)||[]).length,t=0;t<u;t++)s=r[t],(n=(c.match(le(s,e))||[])[0])&&((a=c.substr(0,c.indexOf(n))).length>0&&p(e).unusedInput.push(a),c=c.slice(c.indexOf(n)+n.length),d+=n.length),x[s]?(n?p(e).empty=!1:p(e).unusedTokens.push(s),ge(s,n,e)):e._strict&&!n&&p(e).unusedTokens.push(s);p(e).charsLeftOver=l-d,c.length>0&&p(e).unusedInput.push(c),e._a[Ee]<=12&&!0===p(e).bigHour&&e._a[Ee]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[Ee]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[Ee],e._meridiem),null!==(o=p(e).era)&&(e._a[ve]=e._locale.erasConvertYear(o,e._a[ve])),Yt(e),vt(e)}else At(e);else Dt(e)}function xt(e){var t=e._i,n=e._f;return e._locale=e._locale||yt(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),E(t)?new M(vt(t)):(d(t)?e._d=t:s(n)?function(e){var t,n,r,i,s,a,o=!1,u=e._f.length;if(0===u)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<u;i++)s=0,a=!1,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Ot(t),m(t)&&(a=!0),s+=p(t).charsLeftOver,s+=10*p(t).unusedTokens.length,p(t).score=s,o?s<r&&(r=s,n=t):(null==r||s<r||a)&&(r=s,n=t,a&&(o=!0));_(e,n||t)}(e):n?Ot(e):function(e){var t=e._i;c(t)?e._d=new Date(i.now()):d(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=Tt.exec(e._i);null===t?(Dt(e),!1===e._isValid&&(delete e._isValid,At(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:i.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):s(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Yt(e)):a(t)?function(e){if(!e._d){var t=V(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Yt(e)}}(e):l(t)?e._d=new Date(t):i.createFromInputFallback(e)}(e),m(e)||(e._d=null),e))}function Ut(e,t,n,r,i){var o={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(a(e)&&u(e)||s(e)&&0===e.length)&&(e=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=e,o._f=t,o._strict=r,function(e){var t=new M(vt(xt(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(o)}function Pt(e,t,n,r){return Ut(e,t,n,r,!1)}i.createFromInputFallback=w("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var Rt=w("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),Ht=w("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Pt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Ft(e,t){var n,r;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return Pt();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var jt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Vt(e){var t,n,r=!1,i=jt.length;for(t in e)if(o(e,t)&&(-1===Ce.call(jt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[jt[n]]){if(r)return!1;parseFloat(e[jt[n]])!==_e(e[jt[n]])&&(r=!0)}return!0}function qt(e){var t=V(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||t.isoWeek||0,a=t.day||0,o=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=Vt(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*o*60*60,this._days=+a+7*s,this._months=+i+3*r+12*n,this._data={},this._locale=yt(),this._bubble()}function zt(e){return e instanceof qt}function Gt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Wt(e,t){U(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+I(~~(e/60),2)+t+I(~~e%60,2)}))}Wt("Z",":"),Wt("ZZ",""),ce("Z",se),ce("ZZ",se),pe(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Kt(se,e)}));var Bt=/([\+\-]|\d\d)/gi;function Kt(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(Bt)||["-",0,0])[1]+_e(n[2]))?0:"+"===n[0]?r:-r}function Qt(e,t){var n,r;return t._isUTC?(n=t.clone(),r=(E(e)||d(e)?e.valueOf():Pt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Pt(e).local()}function Jt(e){return-Math.round(e._d.getTimezoneOffset())}function Zt(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Xt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,$t=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function en(e,t){var n,r,i,s=e,a=null;return zt(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(a=Xt.exec(e))?(n="-"===a[1]?-1:1,s={y:0,d:_e(a[Me])*n,h:_e(a[Ee])*n,m:_e(a[Le])*n,s:_e(a[we])*n,ms:_e(Gt(1e3*a[Te]))*n}):(a=$t.exec(e))?(n="-"===a[1]?-1:1,s={y:tn(a[2],n),M:tn(a[3],n),w:tn(a[4],n),d:tn(a[5],n),h:tn(a[6],n),m:tn(a[7],n),s:tn(a[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(i=function(e,t){var n;return e.isValid()&&t.isValid()?(t=Qt(t,e),e.isBefore(t)?n=nn(e,t):((n=nn(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Pt(s.from),Pt(s.to)),(s={}).ms=i.milliseconds,s.M=i.months),r=new qt(s),zt(e)&&o(e,"_locale")&&(r._locale=e._locale),zt(e)&&o(e,"_isValid")&&(r._isValid=e._isValid),r}function tn(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function nn(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function rn(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(S(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),sn(this,en(n,r),e),this}}function sn(e,t,n,r){var s=t._milliseconds,a=Gt(t._days),o=Gt(t._months);e.isValid()&&(r=null==r||r,o&&je(e,Ne(e,"Month")+o*n),a&&Ye(e,"Date",Ne(e,"Date")+a*n),s&&e._d.setTime(e._d.valueOf()+s*n),r&&i.updateOffset(e,a||o))}en.fn=qt.prototype,en.invalid=function(){return en(NaN)};var an=rn(1,"add"),on=rn(-1,"subtract");function un(e){return"string"==typeof e||e instanceof String}function cn(e){return E(e)||d(e)||un(e)||l(e)||function(e){var t=s(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&un(e)})).length),t&&n}(e)||function(e){var t,n,r=a(e)&&!u(e),i=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=s.length;for(t=0;t<c;t+=1)n=s[t],i=i||o(e,n);return r&&i}(e)||null==e}function ln(e,t){if(e.date()<t.date())return-ln(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function dn(e){var t;return void 0===e?this._locale._abbr:(null!=(t=yt(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var hn=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function _n(){return this._locale}var fn=1e3,pn=6e4,mn=60*pn,gn=3506328*mn;function yn(e,t){return(e%t+t)%t}function vn(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-gn:new Date(e,t,n).valueOf()}function bn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-gn:Date.UTC(e,t,n)}function Mn(e,t){return t.erasAbbrRegex(e)}function En(){var e,t,n,r,i,s=[],a=[],o=[],u=[],c=this.eras();for(e=0,t=c.length;e<t;++e)n=de(c[e].name),r=de(c[e].abbr),i=de(c[e].narrow),a.push(n),s.push(r),o.push(i),u.push(n),u.push(r),u.push(i);this._erasRegex=new RegExp("^("+u.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+a.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function Ln(e,t){U(0,[e,e.length],0,t)}function wn(e,t,n,r,i){var s;return null==e?Ke(this,r,i).year:(t>(s=Qe(e,r,i))&&(t=s),Tn.call(this,e,t,n,r,i))}function Tn(e,t,n,r,i){var s=Be(e,t,n,r,i),a=Ge(s.year,0,s.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}U("N",0,0,"eraAbbr"),U("NN",0,0,"eraAbbr"),U("NNN",0,0,"eraAbbr"),U("NNNN",0,0,"eraName"),U("NNNNN",0,0,"eraNarrow"),U("y",["y",1],"yo","eraYear"),U("y",["yy",2],0,"eraYear"),U("y",["yyy",3],0,"eraYear"),U("y",["yyyy",4],0,"eraYear"),ce("N",Mn),ce("NN",Mn),ce("NNN",Mn),ce("NNNN",(function(e,t){return t.erasNameRegex(e)})),ce("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),pe(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?p(n).era=i:p(n).invalidEra=e})),ce("y",ne),ce("yy",ne),ce("yyy",ne),ce("yyyy",ne),ce("yo",(function(e,t){return t._eraYearOrdinalRegex||ne})),pe(["y","yy","yyy","yyyy"],ve),pe(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[ve]=n._locale.eraYearOrdinalParse(e,i):t[ve]=parseInt(e,10)})),U(0,["gg",2],0,(function(){return this.weekYear()%100})),U(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Ln("gggg","weekYear"),Ln("ggggg","weekYear"),Ln("GGGG","isoWeekYear"),Ln("GGGGG","isoWeekYear"),ce("G",re),ce("g",re),ce("GG",J,W),ce("gg",J,W),ce("GGGG",ee,K),ce("gggg",ee,K),ce("GGGGG",te,Q),ce("ggggg",te,Q),me(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=_e(e)})),me(["gg","GG"],(function(e,t,n,r){t[r]=i.parseTwoDigitYear(e)})),U("Q",0,"Qo","quarter"),ce("Q",G),pe("Q",(function(e,t){t[be]=3*(_e(e)-1)})),U("D",["DD",2],"Do","date"),ce("D",J,oe),ce("DD",J,W),ce("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),pe(["D","DD"],Me),pe("Do",(function(e,t){t[Me]=_e(e.match(J)[0])}));var kn=Ie("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),ce("DDD",$),ce("DDDD",B),pe(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=_e(e)})),U("m",["mm",2],0,"minute"),ce("m",J,ue),ce("mm",J,W),pe(["m","mm"],Le);var Sn=Ie("Minutes",!1);U("s",["ss",2],0,"second"),ce("s",J,ue),ce("ss",J,W),pe(["s","ss"],we);var Dn,Cn,An=Ie("Seconds",!1);for(U("S",0,0,(function(){return~~(this.millisecond()/100)})),U(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),U(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),U(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),U(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),U(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),U(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ce("S",$,G),ce("SS",$,W),ce("SSS",$,B),Dn="SSSS";Dn.length<=9;Dn+="S")ce(Dn,ne);function In(e,t){t[Te]=_e(1e3*("0."+e))}for(Dn="S";Dn.length<=9;Dn+="S")pe(Dn,In);Cn=Ie("Milliseconds",!1),U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var Nn=M.prototype;function Yn(e){return e}Nn.add=an,Nn.calendar=function(e,t){1===arguments.length&&(arguments[0]?cn(arguments[0])?(e=arguments[0],t=void 0):function(e){var t,n=a(e)&&!u(e),r=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<i.length;t+=1)r=r||o(e,i[t]);return n&&r}(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Pt(),r=Qt(n,this).startOf("day"),s=i.calendarFormat(this,r)||"sameElse",c=t&&(D(t[s])?t[s].call(this,n):t[s]);return this.format(c||this.localeData().calendar(s,this,Pt(n)))},Nn.clone=function(){return new M(this)},Nn.diff=function(e,t,n){var r,i,s;if(!this.isValid())return NaN;if(!(r=Qt(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=j(t)){case"year":s=ln(this,r)/12;break;case"month":s=ln(this,r);break;case"quarter":s=ln(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:he(s)},Nn.endOf=function(e){var t,n;if(void 0===(e=j(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?bn:vn,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=mn-yn(t+(this._isUTC?0:this.utcOffset()*pn),mn)-1;break;case"minute":t=this._d.valueOf(),t+=pn-yn(t,pn)-1;break;case"second":t=this._d.valueOf(),t+=fn-yn(t,fn)-1}return this._d.setTime(t),i.updateOffset(this,!0),this},Nn.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=R(this,e);return this.localeData().postformat(t)},Nn.from=function(e,t){return this.isValid()&&(E(e)&&e.isValid()||Pt(e).isValid())?en({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Nn.fromNow=function(e){return this.from(Pt(),e)},Nn.to=function(e,t){return this.isValid()&&(E(e)&&e.isValid()||Pt(e).isValid())?en({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Nn.toNow=function(e){return this.to(Pt(),e)},Nn.get=function(e){return D(this[e=j(e)])?this[e]():this},Nn.invalidAt=function(){return p(this).overflow},Nn.isAfter=function(e,t){var n=E(e)?e:Pt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=j(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},Nn.isBefore=function(e,t){var n=E(e)?e:Pt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=j(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},Nn.isBetween=function(e,t,n,r){var i=E(e)?e:Pt(e),s=E(t)?t:Pt(t);return!!(this.isValid()&&i.isValid()&&s.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(s,n):!this.isAfter(s,n))},Nn.isSame=function(e,t){var n,r=E(e)?e:Pt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=j(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},Nn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Nn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Nn.isValid=function(){return m(this)},Nn.lang=hn,Nn.locale=dn,Nn.localeData=_n,Nn.max=Ht,Nn.min=Rt,Nn.parsingFlags=function(){return _({},p(this))},Nn.set=function(e,t){if("object"==typeof e){var n,r=function(e){var t,n=[];for(t in e)o(e,t)&&n.push({unit:t,priority:q[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}(e=V(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(D(this[e=j(e)]))return this[e](t);return this},Nn.startOf=function(e){var t,n;if(void 0===(e=j(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?bn:vn,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=yn(t+(this._isUTC?0:this.utcOffset()*pn),mn);break;case"minute":t=this._d.valueOf(),t-=yn(t,pn);break;case"second":t=this._d.valueOf(),t-=yn(t,fn)}return this._d.setTime(t),i.updateOffset(this,!0),this},Nn.subtract=on,Nn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Nn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Nn.toDate=function(){return new Date(this.valueOf())},Nn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?R(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",R(n,"Z")):R(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Nn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r="moment",i="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=i+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(Nn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Nn.toJSON=function(){return this.isValid()?this.toISOString():null},Nn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Nn.unix=function(){return Math.floor(this.valueOf()/1e3)},Nn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Nn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Nn.eraName=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""},Nn.eraNarrow=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""},Nn.eraAbbr=function(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""},Nn.eraYear=function(){var e,t,n,r,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=s[e].since<=s[e].until?1:-1,r=this.clone().startOf("day").valueOf(),s[e].since<=r&&r<=s[e].until||s[e].until<=r&&r<=s[e].since)return(this.year()-i(s[e].since).year())*n+s[e].offset;return this.year()},Nn.year=Ae,Nn.isLeapYear=function(){return ye(this.year())},Nn.weekYear=function(e){return wn.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},Nn.isoWeekYear=function(e){return wn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Nn.quarter=Nn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Nn.month=Ve,Nn.daysInMonth=function(){return Oe(this.year(),this.month())},Nn.week=Nn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Nn.isoWeek=Nn.isoWeeks=function(e){var t=Ke(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Nn.weeksInYear=function(){var e=this.localeData()._week;return Qe(this.year(),e.dow,e.doy)},Nn.weeksInWeekYear=function(){var e=this.localeData()._week;return Qe(this.weekYear(),e.dow,e.doy)},Nn.isoWeeksInYear=function(){return Qe(this.year(),1,4)},Nn.isoWeeksInISOWeekYear=function(){return Qe(this.isoWeekYear(),1,4)},Nn.date=kn,Nn.day=Nn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=Ne(this,"Day");return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},Nn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Nn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},Nn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Nn.hour=Nn.hours=ut,Nn.minute=Nn.minutes=Sn,Nn.second=Nn.seconds=An,Nn.millisecond=Nn.milliseconds=Cn,Nn.utcOffset=function(e,t,n){var r,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Kt(se,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(r=Jt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),s!==e&&(!t||this._changeInProgress?sn(this,en(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:Jt(this)},Nn.utc=function(e){return this.utcOffset(0,e)},Nn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Jt(this),"m")),this},Nn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Kt(ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Nn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Pt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Nn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Nn.isLocal=function(){return!!this.isValid()&&!this._isUTC},Nn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Nn.isUtc=Zt,Nn.isUTC=Zt,Nn.zoneAbbr=function(){return this._isUTC?"UTC":""},Nn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Nn.dates=w("dates accessor is deprecated. Use date instead.",kn),Nn.months=w("months accessor is deprecated. Use month instead",Ve),Nn.years=w("years accessor is deprecated. Use year instead",Ae),Nn.zone=w("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),Nn.isDSTShifted=w("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=xt(t))._a?(e=t._isUTC?f(t._a):Pt(t._a),this._isDSTShifted=this.isValid()&&function(e,t,n){var r,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&_e(e[r])!==_e(t[r]))&&a++;return a+s}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var On=A.prototype;function xn(e,t,n,r){var i=yt(),s=f().set(r,t);return i[n](s,e)}function Un(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return xn(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=xn(e,r,n,"month");return i}function Pn(e,t,n,r){"boolean"==typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,s=yt(),a=e?s._week.dow:0,o=[];if(null!=n)return xn(t,(n+a)%7,r,"day");for(i=0;i<7;i++)o[i]=xn(t,(i+a)%7,r,"day");return o}On.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return D(r)?r.call(t,n):r},On.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(N).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},On.invalidDate=function(){return this._invalidDate},On.ordinal=function(e){return this._ordinal.replace("%d",e)},On.preparse=Yn,On.postformat=Yn,On.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return D(i)?i(e,t,n,r):i.replace(/%d/i,e)},On.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return D(n)?n(t):n.replace(/%s/i,t)},On.set=function(e){var t,n;for(n in e)o(e,n)&&(D(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},On.eras=function(e,t){var n,r,s,a=this._eras||yt("en")._eras;for(n=0,r=a.length;n<r;++n)switch("string"==typeof a[n].since&&(s=i(a[n].since).startOf("day"),a[n].since=s.valueOf()),typeof a[n].until){case"undefined":a[n].until=1/0;break;case"string":s=i(a[n].until).startOf("day").valueOf(),a[n].until=s.valueOf()}return a},On.erasParse=function(e,t,n){var r,i,s,a,o,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(s=u[r].name.toUpperCase(),a=u[r].abbr.toUpperCase(),o=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return u[r];break;case"NNNN":if(s===e)return u[r];break;case"NNNNN":if(o===e)return u[r]}else if([s,a,o].indexOf(e)>=0)return u[r]},On.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?i(e.since).year():i(e.since).year()+(t-e.offset)*n},On.erasAbbrRegex=function(e){return o(this,"_erasAbbrRegex")||En.call(this),e?this._erasAbbrRegex:this._erasRegex},On.erasNameRegex=function(e){return o(this,"_erasNameRegex")||En.call(this),e?this._erasNameRegex:this._erasRegex},On.erasNarrowRegex=function(e){return o(this,"_erasNarrowRegex")||En.call(this),e?this._erasNarrowRegex:this._erasRegex},On.months=function(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Pe).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months.standalone},On.monthsShort=function(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Pe.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},On.monthsParse=function(e,t,n){var r,i,s;if(this._monthsParseExact)return Fe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},On.monthsRegex=function(e){return this._monthsParseExact?(o(this,"_monthsRegex")||qe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(o(this,"_monthsRegex")||(this._monthsRegex=He),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},On.monthsShortRegex=function(e){return this._monthsParseExact?(o(this,"_monthsRegex")||qe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(o(this,"_monthsShortRegex")||(this._monthsShortRegex=Re),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},On.week=function(e){return Ke(e,this._week.dow,this._week.doy).week},On.firstDayOfYear=function(){return this._week.doy},On.firstDayOfWeek=function(){return this._week.dow},On.weekdays=function(e,t){var n=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Je(n,this._week.dow):e?n[e.day()]:n},On.weekdaysMin=function(e){return!0===e?Je(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},On.weekdaysShort=function(e){return!0===e?Je(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},On.weekdaysParse=function(e,t,n){var r,i,s;if(this._weekdaysParseExact)return rt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},On.weekdaysRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||it.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(o(this,"_weekdaysRegex")||(this._weekdaysRegex=et),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},On.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||it.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(o(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=tt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},On.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(o(this,"_weekdaysRegex")||it.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(o(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=nt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},On.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},On.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},mt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===_e(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=w("moment.lang is deprecated. Use moment.locale instead.",mt),i.langData=w("moment.langData is deprecated. Use moment.localeData instead.",yt);var Rn=Math.abs;function Hn(e,t,n,r){var i=en(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Fn(e){return e<0?Math.floor(e):Math.ceil(e)}function jn(e){return 4800*e/146097}function Vn(e){return 146097*e/4800}function qn(e){return function(){return this.as(e)}}var zn=qn("ms"),Gn=qn("s"),Wn=qn("m"),Bn=qn("h"),Kn=qn("d"),Qn=qn("w"),Jn=qn("M"),Zn=qn("Q"),Xn=qn("y"),$n=zn;function er(e){return function(){return this.isValid()?this._data[e]:NaN}}var tr=er("milliseconds"),nr=er("seconds"),rr=er("minutes"),ir=er("hours"),sr=er("days"),ar=er("months"),or=er("years");var ur=Math.round,cr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function lr(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}var dr=Math.abs;function hr(e){return(e>0)-(e<0)||+e}function _r(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,s,a,o,u=dr(this._milliseconds)/1e3,c=dr(this._days),l=dr(this._months),d=this.asSeconds();return d?(e=he(u/60),t=he(e/60),u%=60,e%=60,n=he(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=d<0?"-":"",s=hr(this._months)!==hr(d)?"-":"",a=hr(this._days)!==hr(d)?"-":"",o=hr(this._milliseconds)!==hr(d)?"-":"",i+"P"+(n?s+n+"Y":"")+(l?s+l+"M":"")+(c?a+c+"D":"")+(t||e||u?"T":"")+(t?o+t+"H":"")+(e?o+e+"M":"")+(u?o+r+"S":"")):"P0D"}var fr=qt.prototype;return fr.isValid=function(){return this._isValid},fr.abs=function(){var e=this._data;return this._milliseconds=Rn(this._milliseconds),this._days=Rn(this._days),this._months=Rn(this._months),e.milliseconds=Rn(e.milliseconds),e.seconds=Rn(e.seconds),e.minutes=Rn(e.minutes),e.hours=Rn(e.hours),e.months=Rn(e.months),e.years=Rn(e.years),this},fr.add=function(e,t){return Hn(this,e,t,1)},fr.subtract=function(e,t){return Hn(this,e,t,-1)},fr.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=j(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+jn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Vn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},fr.asMilliseconds=zn,fr.asSeconds=Gn,fr.asMinutes=Wn,fr.asHours=Bn,fr.asDays=Kn,fr.asWeeks=Qn,fr.asMonths=Jn,fr.asQuarters=Zn,fr.asYears=Xn,fr.valueOf=$n,fr._bubble=function(){var e,t,n,r,i,s=this._milliseconds,a=this._days,o=this._months,u=this._data;return s>=0&&a>=0&&o>=0||s<=0&&a<=0&&o<=0||(s+=864e5*Fn(Vn(o)+a),a=0,o=0),u.milliseconds=s%1e3,e=he(s/1e3),u.seconds=e%60,t=he(e/60),u.minutes=t%60,n=he(t/60),u.hours=n%24,a+=he(n/24),o+=i=he(jn(a)),a-=Fn(Vn(i)),r=he(o/12),o%=12,u.days=a,u.months=o,u.years=r,this},fr.clone=function(){return en(this)},fr.get=function(e){return e=j(e),this.isValid()?this[e+"s"]():NaN},fr.milliseconds=tr,fr.seconds=nr,fr.minutes=rr,fr.hours=ir,fr.days=sr,fr.weeks=function(){return he(this.days()/7)},fr.months=ar,fr.years=or,fr.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,s=cr;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(i=e),"object"==typeof t&&(s=Object.assign({},cr,t),null!=t.s&&null==t.ss&&(s.ss=t.s-1)),r=function(e,t,n,r){var i=en(e).abs(),s=ur(i.as("s")),a=ur(i.as("m")),o=ur(i.as("h")),u=ur(i.as("d")),c=ur(i.as("M")),l=ur(i.as("w")),d=ur(i.as("y")),h=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||a<=1&&["m"]||a<n.m&&["mm",a]||o<=1&&["h"]||o<n.h&&["hh",o]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(h=h||l<=1&&["w"]||l<n.w&&["ww",l]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||d<=1&&["y"]||["yy",d])[2]=t,h[3]=+e>0,h[4]=r,lr.apply(null,h)}(this,!i,s,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)},fr.toISOString=_r,fr.toString=_r,fr.toJSON=_r,fr.locale=dn,fr.localeData=_n,fr.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",_r),fr.lang=hn,U("X",0,0,"unix"),U("x",0,0,"valueOf"),ce("x",re),ce("X",/[+-]?\d+(\.\d{1,3})?/),pe("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),pe("x",(function(e,t,n){n._d=new Date(_e(e))})),i.version="2.30.1",function(e){t=e}(Pt),i.fn=Nn,i.min=function(){return Ft("isBefore",[].slice.call(arguments,0))},i.max=function(){return Ft("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=f,i.unix=function(e){return Pt(1e3*e)},i.months=function(e,t){return Un(e,t,"months")},i.isDate=d,i.locale=mt,i.invalid=g,i.duration=en,i.isMoment=E,i.weekdays=function(e,t,n){return Pn(e,t,n,"weekdays")},i.parseZone=function(){return Pt.apply(null,arguments).parseZone()},i.localeData=yt,i.isDuration=zt,i.monthsShort=function(e,t){return Un(e,t,"monthsShort")},i.weekdaysMin=function(e,t,n){return Pn(e,t,n,"weekdaysMin")},i.defineLocale=gt,i.updateLocale=function(e,t){if(null!=t){var n,r,i=lt;null!=dt[e]&&null!=dt[e].parentLocale?dt[e].set(C(dt[e]._config,t)):(null!=(r=pt(e))&&(i=r._config),t=C(i,t),null==r&&(t.abbr=e),(n=new A(t)).parentLocale=dt[e],dt[e]=n),mt(e)}else null!=dt[e]&&(null!=dt[e].parentLocale?(dt[e]=dt[e].parentLocale,e===mt()&&mt(e)):null!=dt[e]&&delete dt[e]);return dt[e]},i.locales=function(){return T(dt)},i.weekdaysShort=function(e,t,n){return Pn(e,t,n,"weekdaysShort")},i.normalizeUnits=j,i.relativeTimeRounding=function(e){return void 0===e?ur:"function"==typeof e&&(ur=e,!0)},i.relativeTimeThreshold=function(e,t){return void 0!==cr[e]&&(void 0===t?cr[e]:(cr[e]=t,"s"===e&&(cr.ss=t-1),!0))},i.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=Nn,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()},61513:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var s,a,o=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in s=Object(arguments[u]))n.call(s,c)&&(o[c]=s[c]);if(t){a=t(s);for(var l=0;l<a.length;l++)r.call(s,a[l])&&(o[a[l]]=s[a[l]])}}return o}},56398:(e,t,n)=>{"use strict";n.d(t,{x:()=>I});var r=n(17502);function i(e,t){if(null==e)return{};var n,i,s=(0,r.A)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var s=n(17545),a=n(24586),o=n(39155),u=n(29002),c=n.n(u),l=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function d(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(c()[n[1]]||"/"===e.charAt(e.length-2))&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("--\x3e");return{type:"comment",comment:-1!==r?e.slice(4,r):""}}for(var i=new RegExp(l),s=null;null!==(s=i.exec(e));)if(s[0].trim())if(s[1]){var a=s[1].trim(),o=[a,""];a.indexOf("=")>-1&&(o=a.split("=")),t.attrs[o[0]]=o[1],i.lastIndex--}else s[2]&&(t.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return t}var h=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,_=/^\s*$/,f=Object.create(null);function p(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var n in e)t.push(n+'="'+e[n]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(p,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.comment+"--\x3e"}}var m={parse:function(e,t){t||(t={}),t.components||(t.components=f);var n,r=[],i=[],s=-1,a=!1;if(0!==e.indexOf("<")){var o=e.indexOf("<");r.push({type:"text",content:-1===o?e:e.substring(0,o)})}return e.replace(h,(function(o,u){if(a){if(o!=="</"+n.name+">")return;a=!1}var c,l="/"!==o.charAt(1),h=o.startsWith("\x3c!--"),f=u+o.length,p=e.charAt(f);if(h){var m=d(o);return s<0?(r.push(m),r):((c=i[s]).children.push(m),r)}if(l&&(s++,"tag"===(n=d(o)).type&&t.components[n.name]&&(n.type="component",a=!0),n.voidElement||a||!p||"<"===p||n.children.push({type:"text",content:e.slice(f,e.indexOf("<",f))}),0===s&&r.push(n),(c=i[s-1])&&c.children.push(n),i[s]=n),(!l||n.voidElement)&&(s>-1&&(n.voidElement||n.name===o.slice(2,-1))&&(s--,n=-1===s?r:i[s]),!a&&"<"!==p&&p)){c=-1===s?r:i[s].children;var g=e.indexOf("<",f),y=e.slice(f,-1===g?void 0:g);_.test(y)&&(y=" "),(g>-1&&s+c.length>=0||" "!==y)&&c.push({type:"text",content:y})}})),r},stringify:function(e){return e.reduce((function(e,t){return e+p("",t)}),"")}};const g=m;var y=n(63357);function v(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"==typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var b={};function M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"==typeof t[0]&&b[t[0]]||("string"==typeof t[0]&&(b[t[0]]=new Date),v.apply(void 0,t))}var E=["format"],L=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e,t){if(!e)return!1;var n=e.props?e.props.children:e.children;return t?n.length>0:!!n}function S(e){return e?e.props?e.props.children:e.children:[]}function D(e){return Array.isArray(e)?e:[e]}function C(e,t){if(!e)return"";var n="",r=D(e),a=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return r.forEach((function(e,r){if("string"==typeof e)n+="".concat(e);else if((0,o.isValidElement)(e)){var u=Object.keys(e.props).length,c=a.indexOf(e.type)>-1,l=e.props.children;if(!l&&c&&0===u)n+="<".concat(e.type,"/>");else if(l||c&&0===u)if(e.props.i18nIsDynamicList)n+="<".concat(r,"></").concat(r,">");else if(c&&1===u&&"string"==typeof l)n+="<".concat(e.type,">").concat(l,"</").concat(e.type,">");else{var d=C(l,t);n+="<".concat(r,">").concat(d,"</").concat(r,">")}else n+="<".concat(r,"></").concat(r,">")}else if(null===e)v("Trans: the passed in value is invalid - seems you passed in a null child.");else if("object"===(0,s.A)(e)){var h=e.format,_=i(e,E),f=Object.keys(_);if(1===f.length){var p=h?"".concat(f[0],", ").concat(h):f[0];n+="{{".concat(p,"}}")}else v("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",e)}else v("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",e)})),n}function A(e,t,n,r,i,a){if(""===t)return[];var u=r.transKeepBasicHtmlNodesFor||[],c=t&&new RegExp(u.join("|")).test(t);if(!e&&!c)return[t];var l={};!function e(t){D(t).forEach((function(t){"string"!=typeof t&&(k(t)?e(S(t)):"object"!==(0,s.A)(t)||(0,o.isValidElement)(t)||Object.assign(l,t))}))}(e);var d=g.parse("<0>".concat(t,"</0>")),h=T(T({},l),i);function _(e,t,n){var r=S(e),i=p(r,t.children,n);return function(e){return"[object Array]"===Object.prototype.toString.call(e)&&e.every((function(e){return(0,o.isValidElement)(e)}))}(r)&&0===i.length?r:i}function f(e,t,n,r,i){e.dummy&&(e.children=t),n.push((0,o.cloneElement)(e,T(T({},e.props),{},{key:r}),i?void 0:t))}function p(t,i,l){var d=D(t);return D(i).reduce((function(t,i,m){var g,y,v,b=i.children&&i.children[0]&&i.children[0].content&&n.services.interpolator.interpolate(i.children[0].content,h,n.language);if("tag"===i.type){var M=d[parseInt(i.name,10)];!M&&1===l.length&&l[0][i.name]&&(M=l[0][i.name]),M||(M={});var E=0!==Object.keys(i.attrs).length?(g={props:i.attrs},(v=T({},y=M)).props=Object.assign(g.props,y.props),v):M,L=(0,o.isValidElement)(E),w=L&&k(i,!0)&&!i.voidElement,S=c&&"object"===(0,s.A)(E)&&E.dummy&&!L,D="object"===(0,s.A)(e)&&null!==e&&Object.hasOwnProperty.call(e,i.name);if("string"==typeof E){var C=n.services.interpolator.interpolate(E,h,n.language);t.push(C)}else if(k(E)||w)f(E,_(E,i,l),t,m);else if(S){var A=p(d,i.children,l);t.push((0,o.cloneElement)(E,T(T({},E.props),{},{key:m}),A))}else if(Number.isNaN(parseFloat(i.name)))if(D)f(E,_(E,i,l),t,m,i.voidElement);else if(r.transSupportBasicHtmlNodes&&u.indexOf(i.name)>-1)if(i.voidElement)t.push((0,o.createElement)(i.name,{key:"".concat(i.name,"-").concat(m)}));else{var I=p(d,i.children,l);t.push((0,o.createElement)(i.name,{key:"".concat(i.name,"-").concat(m)},I))}else if(i.voidElement)t.push("<".concat(i.name," />"));else{var N=p(d,i.children,l);t.push("<".concat(i.name,">").concat(N,"</").concat(i.name,">"))}else if("object"!==(0,s.A)(E)||L)1===i.children.length&&b?t.push((0,o.cloneElement)(E,T(T({},E.props),{},{key:m}),b)):t.push((0,o.cloneElement)(E,T(T({},E.props),{},{key:m})));else{var Y=i.children[0]?b:null;Y&&t.push(Y)}}else if("text"===i.type){var O=r.transWrapTextNodes,x=a?r.unescape(n.services.interpolator.interpolate(i.content,h,n.language)):n.services.interpolator.interpolate(i.content,h,n.language);O?t.push((0,o.createElement)(O,{key:"".concat(i.name,"-").concat(m)},x)):t.push(x)}return t}),[])}return S(p([{dummy:!0,children:e||[]}],d,D(e||[]))[0])}function I(e){var t=e.children,n=e.count,r=e.parent,s=e.i18nKey,a=e.context,u=e.tOptions,c=void 0===u?{}:u,l=e.values,d=e.defaults,h=e.components,_=e.ns,f=e.i18n,p=e.t,m=e.shouldUnescape,g=i(e,L),v=(0,o.useContext)(y.gJ)||{},b=v.i18n,E=v.defaultNS,w=f||b||(0,y.TO)();if(!w)return M("You will need to pass in an i18next instance by using i18nextReactModule"),t;var k=p||w.t.bind(w)||function(e){return e};a&&(c.context=a);var S=T(T({},(0,y.rV)()),w.options&&w.options.react),D=_||k.ns||E||w.options&&w.options.defaultNS;D="string"==typeof D?[D]:D||["translation"];var I=d||C(t,S)||S.transEmptyNodeValue||s,N=S.hashTransKey,Y=s||(N?N(I):I),O=l?c.interpolation:{interpolation:T(T({},c.interpolation),{},{prefix:"#$?",suffix:"?$#"})},x=T(T(T(T({},c),{},{count:n},l),O),{},{defaultValue:I,ns:D}),U=A(h||t,Y?k(Y,x):I,w,S,x,m),P=void 0!==r?r:S.defaultTransParent;return P?(0,o.createElement)(P,g,U):U}},63357:(e,t,n)=>{"use strict";n.d(t,{gJ:()=>f,rV:()=>p,TO:()=>m,r9:()=>g});var r=n(55152),i=n(30414),s=n(24586),a=n(39155),o=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,u={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},c=function(e){return u[e]};function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,s.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h,_={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:function(e){return e.replace(o,c)}},f=(0,a.createContext)();function p(){return _}function m(){return h}(0,i.A)((function e(){(0,r.A)(this,e),this.usedNamespaces={}}),[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]);var g={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_=d(d({},_),e)}(e.options.react),function(e){h=e}(e)}}},82780:(e,t,n)=>{"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n(39155),u=n(81949),c=[],l=[];function d(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((function(e){return n.loading=!1,n.loaded=e,e})).catch((function(e){throw n.loading=!1,n.error=e,e})),n}function h(e){var t={loading:!1,loaded:{},error:null},n=[];try{Object.keys(e).forEach((function(r){var i=d(e[r]);i.loading?t.loading=!0:(t.loaded[r]=i.loaded,t.error=i.error),n.push(i.promise),i.promise.then((function(e){t.loaded[r]=e})).catch((function(e){t.error=e}))}))}catch(e){t.error=e}return t.promise=Promise.all(n).then((function(e){return t.loading=!1,e})).catch((function(e){throw t.loading=!1,e})),t}function _(e,t){return o.createElement((n=e)&&n.__esModule?n.default:n,t);var n}function f(e,t){var d,h;if(!t.loading)throw new Error("react-loadable requires a `loading` component");var f=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:_,webpack:null,modules:null},t),p=null;function m(){return p||(p=e(f.loader)),p.promise}return c.push(m),"function"==typeof f.webpack&&l.push((function(){if(e=f.webpack,"object"===r(n.m)&&e().every((function(e){return void 0!==e&&void 0!==n.m[e]})))return m();var e})),h=d=function(t){function n(r){i(this,n);var a=s(this,t.call(this,r));return a.retry=function(){a.setState({error:null,loading:!0,timedOut:!1}),p=e(f.loader),a._loadModule()},m(),a.state={error:p.error,pastDelay:!1,timedOut:!1,loading:p.loading,loaded:p.loaded},a}return a(n,t),n.preload=function(){return m()},n.prototype.componentWillMount=function(){this._mounted=!0,this._loadModule()},n.prototype._loadModule=function(){var e=this;if(this.context.loadable&&Array.isArray(f.modules)&&f.modules.forEach((function(t){e.context.loadable.report(t)})),p.loading){"number"==typeof f.delay&&(0===f.delay?this.setState({pastDelay:!0}):this._delay=setTimeout((function(){e.setState({pastDelay:!0})}),f.delay)),"number"==typeof f.timeout&&(this._timeout=setTimeout((function(){e.setState({timedOut:!0})}),f.timeout));var t=function(){e._mounted&&(e.setState({error:p.error,loaded:p.loaded,loading:p.loading}),e._clearTimeouts())};p.promise.then((function(){t()})).catch((function(e){t()}))}},n.prototype.componentWillUnmount=function(){this._mounted=!1,this._clearTimeouts()},n.prototype._clearTimeouts=function(){clearTimeout(this._delay),clearTimeout(this._timeout)},n.prototype.render=function(){return this.state.loading||this.state.error?o.createElement(f.loading,{isLoading:this.state.loading,pastDelay:this.state.pastDelay,timedOut:this.state.timedOut,error:this.state.error,retry:this.retry}):this.state.loaded?f.render(this.state.loaded,this.props):null},n}(o.Component),d.contextTypes={loadable:u.shape({report:u.func.isRequired})},h}function p(e){return f(d,e)}p.Map=function(e){if("function"!=typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return f(h,e)};var m=function(e){function t(){return i(this,t),s(this,e.apply(this,arguments))}return a(t,e),t.prototype.getChildContext=function(){return{loadable:{report:this.props.report}}},t.prototype.render=function(){return o.Children.only(this.props.children)},t}(o.Component);function g(e){for(var t=[];e.length;){var n=e.pop();t.push(n())}return Promise.all(t).then((function(){if(e.length)return g(e)}))}m.propTypes={report:u.func.isRequired},m.childContextTypes={loadable:u.shape({report:u.func.isRequired}).isRequired},p.Capture=m,p.preloadAll=function(){return new Promise((function(e,t){g(c).then(e,t)}))},p.preloadReady=function(){return new Promise((function(e,t){g(l).then(e,e)}))},e.exports=p},89678:(e,t,n)=>{"use strict";var r=n(31085),i=n(39155),s=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(i),a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function o(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}function u(e){var t=e.size,n=void 0===t?25:t,i=e.strokeColor,s=void 0===i?"none":i,o=e.storkeWidth,u=void 0===o?0:o,c=e.className,l=void 0===c?"star-svg":c,d=e.style;return r.jsx("svg",a({fill:"currentColor",width:n,height:n,viewBox:"0 0 24 24",className:l,style:a({},d)},{children:r.jsx("path",{fill:"currentColor",stroke:s,strokeMiterlimit:"10",strokeWidth:u,d:"M12,17.27L18.18,21l-1.64-7.03L22,9.24l-7.19-0.61L12,2L9.19,8.63L2,9.24l5.46,4.73L5.82,21L12,17.27z"},void 0)}),void 0)}var c=function(){return"ontouchstart"in window||navigator.maxTouchPoints>0};function l(e,t){switch(t.type){case"PointerMove":return a(a({},e),{hoverValue:t.payload});case"PointerLeave":return{defaultValue:e.defaultValue,hoverValue:null};case"MouseClick":return a(a({},e),{defaultValue:t.payload});default:return e}}t.G=function(e){var t,n,d=e.onClick,h=e.initialValue,_=void 0===h?0:h,f=e.ratingValue,p=void 0===f?0:f,m=e.iconsCount,g=void 0===m?5:m,y=e.size,v=void 0===y?40:y,b=e.readonly,M=void 0!==b&&b,E=e.fillColor,L=void 0===E?"#ffbc0b":E,w=e.fillColorArray,T=void 0===w?[]:w,k=e.emptyColor,S=void 0===k?"#cccccc":k,D=e.fullIcon,C=void 0===D?null:D,A=e.emptyIcon,I=void 0===A?null:A,N=e.customIcons,Y=void 0===N?[]:N,O=e.rtl,x=void 0!==O&&O,U=e.allowHalfIcon,P=void 0!==U&&U,R=e.allowHover,H=void 0===R||R,F=e.transition,j=void 0!==F&&F,V=e.className,q=void 0===V?"react-simple-star-rating":V,z=e.style,G=e.fullClassName,W=void 0===G?"filled-icons":G,B=e.emptyClassName,K=void 0===B?"empty-icons":B,Q=e.fullStyle,J=e.emptyStyle,Z=e.showTooltip,X=void 0!==Z&&Z,$=e.tooltipDefaultText,ee=void 0===$?"Your Rate":$,te=e.tooltipArray,ne=void 0===te?[]:te,re=e.tooltipClassName,ie=void 0===re?"react-simple-star-rating-tooltip":re,se=e.tooltipStyle,ae=i.useReducer(l,{defaultValue:p,hoverValue:null}),oe=ae[0],ue=oe.defaultValue,ce=oe.hoverValue,le=ae[1];s.default.useEffect((function(){return le({type:"MouseClick",payload:p})}),[p]);var de=function(e){var t=e.clientX,n=e.currentTarget.children[0].getBoundingClientRect(),r=n.left,i=n.right,s=n.width,a=function(e,t,n){for(var r=100/e,i=n/e,s=100,a=0;a<e;a+=1)if(t<=i*a+i/4){s=0===a&&t<i/2?0:r*a;break}return s}(pe,x?i-t:t-r,s);a>0&&ce!==a&&le({type:"PointerMove",payload:a})},he=function(){ce&&(le({type:"MouseClick",payload:ce}),d&&d(ce))},_e=i.useMemo((function(){return Math.round(_/g*100)}),[_,g]),fe=i.useMemo((function(){return H&&ce&&ce||ue&&ue||_e}),[H,ce,ue,_e]),pe=i.useMemo((function(){return P?2*g:g}),[P,g]),me=i.useCallback((function(e){var t=1;return e&&(t=P?e/pe:e/2/10),Math.round(t-1)}),[P,pe]),ge=i.useCallback((function(e){return P?e/2/10:me(e)+1}),[P,me]),ye=function(e){return ne.length>0?ne[me(e)]:ge(e)||0};return r.jsxs("span",a({style:{display:"inline-block",direction:"".concat(x?"rtl":"ltr"),touchAction:"none"}},{children:[r.jsxs("span",a({className:q,style:a({position:"relative",display:"inline-block",overflow:"hidden",whiteSpace:"nowrap",cursor:M?"":"pointer",verticalAlign:"middle",userSelect:"none"},z),onPointerMove:M?void 0:de,onPointerEnter:M?void 0:function(e){c()&&de(e)},onPointerLeave:M?void 0:function(){c()&&he(),le({type:"PointerLeave"})},onClick:M?void 0:he,"aria-hidden":"true"},{children:[r.jsx("span",a({className:K,style:a({display:"inline-block",color:S},J)},{children:o([],Array(g),!0).map((function(e,t){var n;return r.jsx(i.Fragment,{children:(null===(n=Y[t])||void 0===n?void 0:n.icon)||I||r.jsx(u,{size:v},t)},t)}))}),void 0),r.jsx("span",a({className:W,style:a((t={position:"absolute",top:0},t[x?"right":"left"]=0,t.color=H&&ce&&T[me(ce)]||ue&&T[me(ue)]||L,t.overflow="hidden",t.whiteSpace="nowrap",t.display="inline-block",t.transition=j?"width .2s ease, color .2s ease":"",t.width="".concat(fe,"%"),t),Q),title:"".concat(ce&&ge(ce)||ge(_e)," out of ").concat(g)},{children:o([],Array(g),!0).map((function(e,t){var n;return r.jsx(i.Fragment,{children:(null===(n=Y[t])||void 0===n?void 0:n.icon)||C||r.jsx(u,{size:v},void 0)},t)}))}),void 0)]}),void 0),X&&r.jsx("span",a({className:ie,style:a((n={display:"inline-block",padding:"5px 15px",backgroundColor:"#333",color:"#fff"},n[x?"marginRight":"marginLeft"]=20,n.verticalAlign="middle",n.borderRadius=5,n),se)},{children:ce&&ye(ce)||ue&&ye(ue)||_e&&ye(_e)||ee}),void 0)]}),void 0)}},73335:(e,t,n)=>{"use strict";n(61513);var r=n(39155),i=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var s=Symbol.for;i=s("react.element"),t.Fragment=s("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!u.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:s,_owner:a.current}}t.jsx=c,t.jsxs=c},31085:(e,t,n)=>{"use strict";e.exports=n(73335)},29002:e=>{e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},53373:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=a(e,s(n)))}return e}function s(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=a(t,n));return t}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},55152:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{A:()=>r})},30414:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(11369);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.A)(i.key),i)}}function s(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},24586:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(11369);function i(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},17502:(e,t,n)=>{"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}n.d(t,{A:()=>r})},1087:(e,t,n)=>{"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{A:()=>r})},11369:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(17545);function i(e){var t=function(e){if("object"!=(0,r.A)(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=(0,r.A)(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==(0,r.A)(t)?t:t+""}},17545:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},82021:(e,t,n)=>{"use strict";n.d(t,{Y:()=>l});var r=n(39155),i=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s="object"==typeof i&&i&&i.Object===Object&&i,a="object"==typeof self&&self&&self.Object===Object&&self;s||a||Function("return this")();var o=typeof window<"u"?r.useLayoutEffect:r.useEffect,u=typeof window>"u";function c(e,{defaultValue:t=!1,initializeWithValue:n=!0}={}){const i=e=>u?t:window.matchMedia(e).matches,[s,a]=(0,r.useState)((()=>n?i(e):t));function c(){a(i(e))}return o((()=>{const t=window.matchMedia(e);return c(),t.addListener?t.addListener(c):t.addEventListener("change",c),()=>{t.removeListener?t.removeListener(c):t.removeEventListener("change",c)}}),[e]),s}const l=()=>({isDesktop:c("(min-width: 1280px)"),isMobile:c("(max-width: 600px)"),isTablet:c("(min-width: 601px) and (max-width: 1279px)"),isTabletPortrait:c("(min-width: 601px) and (max-width: 1279px) and (orientation: portrait)"),isMobileOrTabletLandscape:c("(max-width: 1279px) and (orientation: landscape)")})},42022:(e,t,n)=>{"use strict";n.d(t,{N5:()=>k,Zh:()=>L});const r={real:"green.derivws.com",demo:"blue.derivws.com"},i=(Symbol.toStringTag,Symbol.toStringTag,Symbol.toStringTag,"client.active_loginid"),s=(Symbol.toStringTag,"deriv.com"),a="deriv.me",o="deriv.be",u=[s,o,a],c=typeof window<"u"&&window.location.hostname.split("app.")[1],l=u.includes(c)?c:s,d=`https://bot.${l}`,h=`https://staging-bot.${l}`,_=`https://app.${l}`,f=`https://staging-app.${l}`,p=`https://${l}`,m=`https://eu.${l}`,g=`https://staging.${l}`,y=l,v=`https://smarttrader.${l}`,b=`https://staging-smarttrader.${l}`,M=`https://p2p.${l}`,E=`https://staging-p2p.${l}`,L=Object.freeze(Object.defineProperty({__proto__:null,baseDomain:c,binaryBotProduction:d,binaryBotStaging:h,cloudflareTrace:"https://www.cloudflare.com/cdn-cgi/trace",deriv:s,derivAppProduction:_,derivAppStaging:f,derivBe:o,derivComProduction:p,derivComProductionEU:m,derivComStaging:g,derivHost:y,derivMe:a,derivP2pProduction:M,derivP2pStaging:E,domain:l,queryParameters:{lang:"lang",action:"action"},smartTraderProduction:v,smartTraderStaging:b,supportedDomains:u,whatsApp:"https://wa.me/35699578341"},Symbol.toStringTag,{value:"Module"})),w=(new RegExp("^\\p{L}[\\p{L}\\s'.-]{0,49}$","u"),Symbol.toStringTag,Symbol.toStringTag,/(ALP-|AMN-|ANA-|ANE-|ANG-|AQM-|ARS-|ART-|ATU-|BAC-|BLA-|BRQ-|CAG-|CAM-|CAN-|CAZ-|CDL-|CDY-|CLT-|CRO-|CUN-|DIG-|DRA-|DUA-|DUB-|DVC-|ELE-|ELS-|EML-|EVA-|EVR-|FIG-|FLA-|FRL-|GLK-|HMA-|HW-|HWI-|INE-|JAT-|JEF-|JER-|JKM-|JNY-|JSC-|LDN-|LIO-|LON-|LUA-|LYA-|LYO-|MAR-|MED-|MHA-|MLA-|MRD-|MYA-|NCE-|NEO-|NOH-|NOP-|OCE-|PAR-|PIC-|POT-|PPA-|PRA-|RNE-|SEA-|SLA-|SNE-|SPN-|STK-|TAH-|TAS-|TET-|TRT-|VCE-|VIE-|VKY-|VNS-|VOG-|VTR-|WAS-|WKG-|WLZ-|JAD-|MLD-|RTE-|NAM-|NEN-|BAL-|JLN-|YAL-|MGA-|FGD-|XYAO-|BON-|ALN-|ALT-|BRA-|DBY2-|STG-|MAO-|LEM-|GOA-|FOA-|MNA-|LNA-)/);Symbol.toStringTag,Symbol.toStringTag;Symbol.toStringTag;const T=e=>{const t=localStorage.getItem(e);if("undefined"!==t){if(null===t||"null"===t)return null;try{return JSON.parse(t)}catch{return null}}};Symbol.toStringTag;Symbol.toStringTag;const k=Object.freeze(Object.defineProperty({__proto__:null,createPromise:function(){let e,t;return{promise:new Promise(((n,r)=>{e=n,t=r})),resolve:e,reject:t}}},Symbol.toStringTag,{value:"Module"}));Symbol.toStringTag,Symbol.toStringTag,Symbol.toStringTag;function S(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}Symbol.toStringTag;(function e(t,n){function r(e,r,i){if(!(typeof document>"u")){"number"==typeof(i=S({},n,i)).expires&&(i.expires=new Date(Date.now()+864e5*i.expires)),i.expires&&(i.expires=i.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var s="";for(var a in i)i[a]&&(s+="; "+a,!0!==i[a]&&(s+="="+i[a].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+s}}return Object.create({set:r,get:function(e){if(!(typeof document>"u"||arguments.length&&!e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var s=n[i].split("="),a=s.slice(1).join("=");try{var o=decodeURIComponent(s[0]);if(r[o]=t.read(a,o),e===o)break}catch{}}return e?r[e]:r}},remove:function(e,t){r(e,"",S({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,S({},this.attributes,t))},withConverter:function(t){return e(S({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})})({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});Symbol.toStringTag},98531:(e,t,n)=>{"use strict";n.d(t,{xg:()=>Wt,Lc:()=>Jt});var r,i,s=n(27364),a=n(51698),o=n(82950),u=function(e,t){this.pollId=0,this.messageId=0,this.pollId=t.poll.id,this.messageId=t.poll.message_id,this._iid=e,this._payload=t};(i=r||(r={}))[i.NONE=0]="NONE",i[i.CHANNEL_ENTER=10102]="CHANNEL_ENTER",i[i.CHANNEL_EXIT=10103]="CHANNEL_EXIT",i[i.USER_CHANNEL_MUTE=10201]="USER_CHANNEL_MUTE",i[i.USER_CHANNEL_UNMUTE=10200]="USER_CHANNEL_UNMUTE",i[i.USER_CHANNEL_BAN=10601]="USER_CHANNEL_BAN",i[i.USER_CHANNEL_UNBAN=10600]="USER_CHANNEL_UNBAN",i[i.CHANNEL_FREEZE=10701]="CHANNEL_FREEZE",i[i.CHANNEL_UNFREEZE=10700]="CHANNEL_UNFREEZE",i[i.TYPING_START=10900]="TYPING_START",i[i.TYPING_END=10901]="TYPING_END",i[i.CHANNEL_JOIN=1e4]="CHANNEL_JOIN",i[i.CHANNEL_LEAVE=10001]="CHANNEL_LEAVE",i[i.CHANNEL_OPERATOR_UPDATE=10002]="CHANNEL_OPERATOR_UPDATE",i[i.CHANNEL_INVITE=10020]="CHANNEL_INVITE",i[i.CHANNEL_ACCEPT_INVITE=10021]="CHANNEL_ACCEPT_INVITE",i[i.CHANNEL_DECLINE_INVITE=10022]="CHANNEL_DECLINE_INVITE",i[i.CHANNEL_PROP_CHANGED=11e3]="CHANNEL_PROP_CHANGED",i[i.CHANNEL_DELETED=12e3]="CHANNEL_DELETED",i[i.CHANNEL_META_DATA_CHANGED=11100]="CHANNEL_META_DATA_CHANGED",i[i.CHANNEL_META_COUNTERS_CHANGED=11200]="CHANNEL_META_COUNTERS_CHANGED",i[i.CHANNEL_HIDE=13e3]="CHANNEL_HIDE",i[i.CHANNEL_UNHIDE=13001]="CHANNEL_UNHIDE",i[i.PINNED_MESSAGE_CHANGED=11300]="PINNED_MESSAGE_CHANGED";var c,l=function(){function e(e){var t;this.channelUrl=e.channel_url,this.channelType=e.channel_type,this.category=e.cat,this.data=null!==(t=e.data)&&void 0!==t?t:{},this.ts=e.ts}return Object.defineProperty(e.prototype,"isGroupChannelEvent",{get:function(){return this.channelType===s.C.GROUP},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isOpenChannelEvent",{get:function(){return this.channelType===s.C.OPEN},enumerable:!1,configurable:!0}),e}(),d=function(e){function t(t,n,r){var i=e.call(this,t,"SYEV",r)||this;return i.event=new l(r),i}return(0,s.c)(t,e),t}(s.W),h=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this,a=r.data.operators,o=void 0===a?[]:a;return i.operators=o.map((function(e){return new s.U(i._iid,e)})),i}return(0,s.c)(t,e),t}(d),_=function(e){function t(t,n,r){var i,o=this;return(o=e.call(this,t,"SYEV",r)||this).pinnedMessageIds=[],o.latestPinnedMessage=null,o.ts=0,r.data&&(o.pinnedMessageIds=null!==(i=r.data.pinned_message_ids)&&void 0!==i?i:[],o.latestPinnedMessage=r.data.latest_pinned_message?(0,a.T)(t,(0,s.g)({},r.data.latest_pinned_message)):null),o.ts=r.ts,o}return(0,s.c)(t,e),t}(s.W),f=function(e){function t(t,n){var r=e.call(this,t)||this;return r._logger=n.logger,r._sdkState=n.sdkState,r._sessionManager=n.sessionManager,r._requestQueue=n.requestQueue,r._dispatcher=n.dispatcher,r._cacheContext=n.cacheContext,r._channelType=n.channelType,r}return(0,s.c)(t,e),Object.defineProperty(t.prototype,"_messageBroadcast",{get:function(){return a.aM.of(this._iid)},enumerable:!1,configurable:!0}),t.prototype.subscribeMessageEvent=function(e,t){this._messageBroadcast.subscribe(e,t)},t.prototype.unsubscribeMessageEvent=function(e){this._messageBroadcast.unsubscribe(e)},t.prototype.getMessageFromCache=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2,null]}))}))},t.prototype.getExactlyMatchingMessagesForTokenFromCache=function(e,t,n){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2,[]]}))}))},t.prototype.getMessagesFromCache=function(e,t,n,r,i,a){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2,[]]}))}))},t.prototype.getPollMessagesFromCache=function(e,t,n,r){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2,[]]}))}))},t.prototype.getCachedMessageCountBetween=function(e,t,n,r){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2,0]}))}))},t.prototype.getUnsentMessagesFromCache=function(e,t){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2,[]]}))}))},t.prototype.removeFailedMessageFromCache=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2]}))}))},t}(s.ag),p=function(e){function t(t,n,r){var i,o,u,c,l=this;(l=e.call(this,t,"ADMM",r)||this).message=new a.ag(t,r);var d=s.V.of(t).sdkState;return l.isMentioned=(0,s.av)(l.message.mentionType,null!==(u=null!==(i=l.message.mentionedUserIds)&&void 0!==i?i:null===(o=l.message.mentionedUsers)||void 0===o?void 0:o.map((function(e){return e.userId})))&&void 0!==u?u:[],d.userId),l.forceUpdateLastMessage=null!==(c=r.force_update_last_message)&&void 0!==c&&c,l}return(0,s.c)(t,e),t}(s.W),m=function(e){function t(t,n,r){var i,o,u,c,l,d=this;(d=e.call(this,t,"AEDI",r)||this).message=new a.ag(t,r);var h=s.V.of(t).sdkState;return d.mentionCountChange=(0,s.aF)({mentionType:null===(i=r.old_values)||void 0===i?void 0:i.mention_type,mentionedUserIds:null!==(u=null===(o=r.old_values)||void 0===o?void 0:o.mentioned_user_ids)&&void 0!==u?u:[]},(0,s.u)({mentionType:d.message.mentionType,mentionedUserIds:null!==(c=d.message.mentionedUserIds)&&void 0!==c?c:null===(l=d.message.mentionedUsers)||void 0===l?void 0:l.map((function(e){return e.userId}))}),h.userId),d}return(0,s.c)(t,e),t}(s.W),g=function(e){function t(t,n,r){var i=e.call(this,t,"MRCT",r)||this;return i.channelUrl=r.channel_url,i.channelType=r.channel_type,i.event=new a.aN(r),i}return(0,s.c)(t,e),t}(s.W),y=function(e){function t(t,n,r){var i=e.call(this,t,"MTHD",r)||this;return i.event=new a.a1(t,r),i}return(0,s.c)(t,e),t}(s.W),v=function(e){function t(t,n,r){var i=e.call(this,t,"MCNT",r)||this;return i.groupChannelMemberCounts=r.group_channels.map((function(e){return{channelUrl:e.channel_url,memberCount:e.member_count,joinedMemberCount:e.joined_member_count,updatedAt:e.ts}})),i.openChannelMemberCounts=r.open_channels.map((function(e){return{channelUrl:e.channel_url,participantCount:e.participant_count,updatedAt:e.ts}})),i}return(0,s.c)(t,e),t}(s.W),b=function(e){function t(t,n,r){var i=e.call(this,t,"PEDI",r)||this;return i.event=new u(t,r),i.status=(0,s.bn)(r.poll.status)||r.poll.status,i.channelUrl=r.channel_url,i.channelType=r.channel_type,i}return(0,s.c)(t,e),t}(s.W);!function(e){e.NONE="none",e.JOINED="joined",e.INVITED="invited",e.LEFT="left"}(c||(c={}));var M,E,L,w,T,k,S,D,C=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.state=null,r.role=null,r.isMuted=!1,r.isBlockedByMe=!1,r.isBlockingMe=!1,r.state=(0,s.X)(c,n.state)?n.state:null,r.role=(0,s.X)(s.a8,n.role)?n.role:null,"boolean"==typeof n.is_muted&&(r.isMuted=n.is_muted),"boolean"==typeof n.is_blocked_by_me&&(r.isBlockedByMe=n.is_blocked_by_me),"boolean"==typeof n.is_blocking_me&&(r.isBlockingMe=n.is_blocking_me),r}return(0,s.c)(t,e),t.payloadify=function(t){return(0,s.e)((0,s.u)((0,s.g)((0,s.g)({},e.payloadify.call(this,t)),{state:t.state,role:t.role,is_muted:t.isMuted,is_blocked_by_me:t.isBlockedByMe,is_blocking_me:t.isBlockingMe})))},t}(a.G),A=function(e){function t(t,n){var r,i,a=this;return(a=e.call(this,t)||this).channelUrl=null!==(r=n.channel_url)&&void 0!==r?r:"",a.channelType=null!==(i=n.channel_type)&&void 0!==i?i:s.C.GROUP,a.member=new s.U(a._iid,n.user),a.deliveryAt=n.ts,a}return(0,s.c)(t,e),t}(s.ag);!function(e){e.ALL="all",e.PUBLIC="public",e.PRIVATE="private"}(M||(M={})),function(e){e.ALL="all",e.JOINED="joined_only",e.INVITED="invited_only",e.INVITED_BY_FRIEND="invited_by_friend",e.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(E||(E={})),function(e){e.ALL="all",e.SUPER="super",e.NON_SUPER="nonsuper",e.BROADCAST_ONLY="broadcast_only",e.EXCLUSIVE_ONLY="exclusive_only"}(L||(L={})),function(e){e.ALL="all",e.UNREAD_MESSAGE="unread_message"}(w||(w={})),function(e){e.ALL="all",e.UNHIDDEN="unhidden_only",e.HIDDEN="hidden_only",e.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",e.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(T||(T={})),function(e){e.ALL="all",e.OPERATOR="operator",e.NONOPERATOR="nonoperator"}(k||(k={})),function(e){e.AND="AND",e.OR="OR"}(S||(S={})),function(e){e.MEMBER_NICKNAME="member_nickname",e.CHANNEL_NAME="channel_name"}(D||(D={}));var I,N=function(){function e(e){var t,n,r,i,s,a,o,u,c,l,d,h,_,f,p;this._searchFilter=null,this._userIdsFilter=null,this.includeEmpty=null!==(t=null==e?void 0:e.includeEmpty)&&void 0!==t&&t,this.nicknameContainsFilter=null!==(n=null==e?void 0:e.nicknameContainsFilter)&&void 0!==n?n:null,this.nicknameStartsWithFilter=null!==(r=null==e?void 0:e.nicknameStartsWithFilter)&&void 0!==r?r:null,this.nicknameExactMatchFilter=null!==(i=null==e?void 0:e.nicknameExactMatchFilter)&&void 0!==i?i:null,this.channelNameContainsFilter=null!==(s=null==e?void 0:e.channelNameContainsFilter)&&void 0!==s?s:"",this.myMemberStateFilter=null!==(a=null==e?void 0:e.myMemberStateFilter)&&void 0!==a?a:E.ALL,this.customTypesFilter=null!==(o=null==e?void 0:e.customTypesFilter)&&void 0!==o?o:null,this.channelUrlsFilter=null!==(u=null==e?void 0:e.channelUrlsFilter)&&void 0!==u?u:null,this.superChannelFilter=null!==(c=null==e?void 0:e.superChannelFilter)&&void 0!==c?c:L.ALL,this.publicChannelFilter=null!==(l=null==e?void 0:e.publicChannelFilter)&&void 0!==l?l:M.ALL,this.customTypeStartsWithFilter=null!==(d=null==e?void 0:e.customTypeStartsWithFilter)&&void 0!==d?d:null,this.unreadChannelFilter=null!==(h=null==e?void 0:e.unreadChannelFilter)&&void 0!==h?h:w.ALL,this.hiddenChannelFilter=null!==(_=null==e?void 0:e.hiddenChannelFilter)&&void 0!==_?_:T.UNHIDDEN,this.includeFrozen=null===(f=null==e?void 0:e.includeFrozen)||void 0===f||f,(null==e?void 0:e.createdAfter)&&(this.createdAfter=e.createdAfter),(null==e?void 0:e.createdBefore)&&(this.createdBefore=e.createdBefore),this.includeMetaData=null===(p=null==e?void 0:e.includeMetaData)||void 0===p||p}return e.prototype._isFriend=function(e){return!(!e||!e.friendDiscoveryKey&&!e.friendName)},Object.defineProperty(e.prototype,"searchFilter",{get:function(){return this._searchFilter},enumerable:!1,configurable:!0}),e.prototype.setSearchFilter=function(e,t){Array.isArray(e)&&0!==e.length&&"string"==typeof t&&t&&(this._searchFilter={query:t,fields:e})},Object.defineProperty(e.prototype,"userIdsFilter",{get:function(){return this._userIdsFilter},enumerable:!1,configurable:!0}),e.prototype.setUserIdsFilter=function(e,t,n){void 0===n&&(n=S.AND),this._userIdsFilter={userIds:e,includeMode:t,queryType:n}},e.prototype.clone=function(){var t,n=new e;this.searchFilter&&n.setSearchFilter(this.searchFilter.fields,null!==(t=this.searchFilter.query)&&void 0!==t?t:void 0),this.userIdsFilter&&n.setUserIdsFilter(this.userIdsFilter.userIds,this.userIdsFilter.includeMode,this.userIdsFilter.queryType);var r=JSON.parse(JSON.stringify(this));return Object.keys(r).forEach((function(e){n[e]=r[e]})),n},e.prototype.match=function(e,t){if(this._searchFilter){var n=this._searchFilter,r=n.query,i=n.fields;if(r&&i&&i.length>0&&!i.some((function(t){switch(t){case D.CHANNEL_NAME:return e.name.toLowerCase().includes(r.toLowerCase());case D.MEMBER_NICKNAME:return e.members.some((function(e){return e.nickname.toLowerCase().includes(r.toLowerCase())}));default:return!0}})))return!1}if(this._userIdsFilter){var a=this._userIdsFilter,o=a.userIds,u=a.includeMode,c=a.queryType,l=e.members.map((function(e){return e.userId}));if(u){if(o.length>0)switch(c){case S.AND:if(o.some((function(e){return!l.includes(e)})))return!1;break;case S.OR:if(o.every((function(e){return!l.includes(e)})))return!1}}else{if(o.includes(t)||o.push(t),e.members.length>o.length)return!1;if(!(0,s.bg)(o,l))return!1}}if(!this.includeEmpty&&!e.lastMessage)return!1;if(!this.includeFrozen&&e.isFrozen)return!1;if(this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes("*")&&!this.customTypesFilter.includes(e.customType))return!1;if(this.customTypeStartsWithFilter&&!new RegExp("^".concat(this.customTypeStartsWithFilter)).test(e.customType))return!1;if(this.channelNameContainsFilter&&!e.name.toLowerCase().includes(this.channelNameContainsFilter.toLowerCase()))return!1;if(this.nicknameContainsFilter){var d=this.nicknameContainsFilter.toLowerCase();if(!e.members.some((function(e){return e.userId!==t&&e.nickname.toLowerCase().includes(d)})))return!1}if(this.nicknameStartsWithFilter){var h=this.nicknameStartsWithFilter.toLowerCase();if(!e.members.some((function(e){return e.userId!==t&&e.nickname.toLowerCase().startsWith(h)})))return!1}if(this.nicknameExactMatchFilter){var _=this.nicknameExactMatchFilter.toLowerCase();if(!e.members.some((function(e){return e.userId!==t&&e.nickname.toLowerCase()!=_})))return!1}if(this.channelUrlsFilter&&this.channelUrlsFilter.length>0&&!this.channelUrlsFilter.includes(e.url))return!1;if(this.myMemberStateFilter)switch(this.myMemberStateFilter){case E.ALL:if("none"===e.myMemberState)return!1;break;case E.JOINED:if("joined"!==e.myMemberState)return!1;break;case E.INVITED:if("invited"!==e.myMemberState)return!1;break;case E.INVITED_BY_FRIEND:if("invited"!==e.myMemberState||!this._isFriend(e.inviter))return!1;break;case E.INVITED_BY_NON_FRIEND:if("invited"!==e.myMemberState||this._isFriend(e.inviter))return!1}if(this.hiddenChannelFilter)switch(this.hiddenChannelFilter){case T.UNHIDDEN:if(e.isHidden||"unhidden"!==e.hiddenState)return!1;break;case T.HIDDEN:if(!e.isHidden)return!1;break;case T.HIDDEN_ALLOW_AUTO_UNHIDE:if(!e.isHidden||"hidden_allow_auto_unhide"!==e.hiddenState)return!1;break;case T.HIDDEN_PREVENT_AUTO_UNHIDE:if(!e.isHidden||"hidden_prevent_auto_unhide"!==e.hiddenState)return!1}if(this.unreadChannelFilter&&this.unreadChannelFilter===w.UNREAD_MESSAGE&&0===e.unreadMessageCount)return!1;if(this.publicChannelFilter)switch(this.publicChannelFilter){case M.PUBLIC:if(!e.isPublic)return!1;break;case M.PRIVATE:if(e.isPublic)return!1}if(this.superChannelFilter)switch(this.superChannelFilter){case L.SUPER:if(!e.isSuper)return!1;break;case L.NON_SUPER:if(e.isSuper)return!1}return!(this.createdAfter&&e.createdAt<this.createdAfter||this.createdBefore&&e.createdAt>this.createdBefore)},e}(),Y=function(e){function t(t,n){var r=n.sdkState,i=n.cacheContext,s=e.call(this,t)||this;return s._channels=new Map,s._sdkState=r,s._cacheContext=i,s}return(0,s.c)(t,e),Object.defineProperty(t.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb;return(0,s.w)(!!e).throw(s.s.databaseError),e.collection(a.a)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),t.prototype._serialize=function(e,t){return void 0===t&&(t=0),(0,s.g)((0,s.g)({},e.serialize()),{lastMessageUpdatedAt:e.lastMessage?e.lastMessage.createdAt:0,syncIndex:t})},t.prototype._deserialize=function(e){return He.of(this._iid).buildGroupChannelFromSerializedData(e)},Object.defineProperty(t.prototype,"channels",{get:function(){return(0,s.p)([],(0,s.q)(this._channels.values()),!1)},enumerable:!1,configurable:!0}),t.prototype.isCachedInMemory=function(e){return this._channels.has(e)},t.prototype.filterOffsetChanged=function(e){var t=this;return e.filter((function(e){if(t._channels.has(e.url))return t._channels.get(e.url).messageOffsetTimestamp<e.messageOffsetTimestamp}))},t.prototype.get=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return this._channels.has(e)?[3,3]:this.localCacheEnabled?[4,this.collection.getByKey(e)]:[3,2];case 1:if(t=r.sent())return n=this._deserialize(t),this._channels.set(e,n),[2,n];r.label=2;case 2:return[2,void 0];case 3:return[2,this._channels.get(e)]}}))}))},t.prototype.fetch=function(e){var t=e.token,n=e.limit,r=void 0===n?a.Q:n,i=e.backward,u=void 0!==i&&i,c=e.filter,l=void 0===c?new N:c,d=e.order,h=void 0===d?o.G.LATEST_LAST_MESSAGE:d,_=e.borderlineChannelUrl;return(0,s._)(this,void 0,void 0,(function(){var e,n,i,a,c,d=this;return(0,s.b)(this,(function(s){switch(s.label){case 0:return this.localCacheEnabled?(e=!!_,n=(0,o.g)(h),i={where:function(n){if(t)switch(h){case o.G.CHANNEL_NAME_ALPHABETICAL:if(!u&&n.name.localeCompare(t)<0||u&&n.name.localeCompare(t)>0)return!1;break;case o.G.CHRONOLOGICAL:if(!u&&n.createdAt>t||u&&n.createdAt<t)return!1;break;case o.G.LATEST_LAST_MESSAGE:if(!u&&n.lastMessageUpdatedAt>t||u&&n.lastMessageUpdatedAt<t)return!1}return e&&_&&_===n.url?(e=!1,!1):!e&&l.match(d._deserialize(n),d._sdkState.userId)},index:n,backward:u},[4,this.collection.query(i)]):[3,3];case 1:return[4,s.sent().fetch({limit:r})];case 2:return a=s.sent(),(c=a.map((function(e){return d._deserialize(e)}))).forEach((function(e){!l.includeMetaData&&e.cachedMetaData&&e._clearCachedMetaData(),d._channels.has(e.url)||d._channels.set(e.url,e)})),[2,c];case 3:return[2,[]]}}))}))},t.prototype.upsert=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n,r,i,a=this;return(0,s.b)(this,(function(s){switch(s.label){case 0:if(n=[],e.forEach((function(e){if(a._channels.has(e.url)){var r=a._channels.get(e.url);r._pinnedMessagesUpdatedAt<e._pinnedMessagesUpdatedAt&&(r._pinnedMessagesUpdatedAt=e._pinnedMessagesUpdatedAt),r._messageCollectionLastAccessedAt>e._messageCollectionLastAccessedAt&&Object.assign(e,{_messageCollectionLastAccessedAt:void 0}),e.cachedMetaData&&t&&(r._updateCachedMetaData(e.cachedMetaData,t).isUpdated||Object.assign(e,{_cachedMetaData:void 0})),r._update(e),n.push(r)}else a._channels.set(e.url,e),n.push(e)})),!this.localCacheEnabled)return[3,2];for(r=[],i=0;i<n.length;i++)r.push(this._serialize(n[i],i));return[4,this.collection.upsertMany(r)];case 1:s.sent(),s.label=2;case 2:return[2,n]}}))}))},t.prototype.remove=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o;return(0,s.b)(this,(function(u){switch(u.label){case 0:u.trys.push([0,5,6,7]),t=(0,s.t)(e),n=t.next(),u.label=1;case 1:return n.done?[3,4]:(r=n.value,this._channels.delete(r),this.localCacheEnabled?[4,this.collection.remove(r)]:[3,3]);case 2:u.sent(),u.label=3;case 3:return n=t.next(),[3,1];case 4:return[3,7];case 5:return i=u.sent(),a={error:i},[3,7];case 6:try{n&&!n.done&&(o=t.return)&&o.call(t)}finally{if(a)throw a.error}return[7];case 7:return[2]}}))}))},t.prototype.clear=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return this.clearMemoryCache(),this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.clearMemoryCache=function(){this._channels.clear()},t.prototype._setBlockStateOfAllChannels=function(e,t,n){return(0,s._)(this,void 0,void 0,(function(){var r,i,a,o,u,c,l,d,h,_,f,p,m,g,y,v,b,M,E;return(0,s.b)(this,(function(L){switch(L.label){case 0:if(r=[],e===this._sdkState.userId)try{for(i=(0,s.t)(this._channels.values()),a=i.next();!a.done;a=i.next()){d=a.value;try{for(g=void 0,o=(0,s.t)(d.members),u=o.next();!u.done;u=o.next())if((f=u.value).userId===t){f.isBlockedByMe=n,r.push(d);break}}catch(e){g={error:e}}finally{try{u&&!u.done&&(y=o.return)&&y.call(o)}finally{if(g)throw g.error}}}}catch(e){p={error:e}}finally{try{a&&!a.done&&(m=i.return)&&m.call(i)}finally{if(p)throw p.error}}else if(t===this._sdkState.userId)try{for(c=(0,s.t)(this._channels.values()),l=c.next();!l.done;l=c.next()){d=l.value;try{for(M=void 0,h=(0,s.t)(d.members),_=h.next();!_.done;_=h.next())if((f=_.value).userId===e){f.isBlockingMe=n,r.push(d);break}}catch(e){M={error:e}}finally{try{_&&!_.done&&(E=h.return)&&E.call(h)}finally{if(M)throw M.error}}}}catch(e){v={error:e}}finally{try{l&&!l.done&&(b=c.return)&&b.call(c)}finally{if(v)throw v.error}}return r.length>0?[4,this.upsert(r)]:[3,2];case 1:L.sent(),L.label=2;case 2:return[2]}}))}))},t.prototype.block=function(e,t){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,this._setBlockStateOfAllChannels(e,t,!0)];case 1:return n.sent(),[2]}}))}))},t.prototype.unblock=function(e,t){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,this._setBlockStateOfAllChannels(e,t,!1)];case 1:return n.sent(),[2]}}))}))},t.prototype.markAsRead=function(e,t){return void 0===t&&(t=(0,s.p)([],(0,s.q)(this._channels.keys()),!1)),(0,s._)(this,void 0,void 0,(function(){var n,r,i,a,o,u,c,l;return(0,s.b)(this,(function(d){switch(d.label){case 0:n=[],d.label=1;case 1:d.trys.push([1,6,7,8]),r=(0,s.t)(t),i=r.next(),d.label=2;case 2:return i.done?[3,5]:(a=i.value,[4,this.get(a)]);case 3:(null==(o=d.sent())?void 0:o._updateUnreadMemberState(this._sdkState.userId,e))&&(o._updateUnreadCount(0,0),n.push(o)),d.label=4;case 4:return i=r.next(),[3,2];case 5:return[3,8];case 6:return u=d.sent(),c={error:u},[3,8];case 7:try{i&&!i.done&&(l=r.return)&&l.call(r)}finally{if(c)throw c.error}return[7];case 8:return n.length>0?[4,this.upsert(n)]:[3,10];case 9:d.sent(),d.label=10;case 10:return[2]}}))}))},t}(s.ag),O={invitedUserIds:void 0,channelUrl:void 0,coverUrl:void 0,coverImage:void 0,isDistinct:void 0,isSuper:void 0,isBroadcast:void 0,isExclusive:void 0,isPublic:void 0,isDiscoverable:void 0,isStrict:void 0,isEphemeral:void 0,accessCode:void 0,name:void 0,data:void 0,customType:void 0,operatorUserIds:void 0,messageSurvivalSeconds:void 0},x=function(e){return(0,s.Q)("string",e.invitedUserIds,!0)&&(0,s.a)("string",e.channelUrl,!0)&&(0,s.a)("string",e.coverUrl,!0)&&((0,s.i)(e.coverImage)||(0,s.a)("string",e.coverImage,!0))&&(0,s.a)("boolean",e.isDistinct,!0)&&(0,s.a)("boolean",e.isSuper,!0)&&(0,s.a)("boolean",e.isBroadcast,!0)&&(0,s.a)("boolean",e.isExclusive,!0)&&(0,s.a)("boolean",e.isPublic,!0)&&(0,s.a)("boolean",e.isStrict,!0)&&(0,s.a)("boolean",e.isDiscoverable,!0)&&(0,s.a)("boolean",e.isEphemeral,!0)&&(0,s.a)("string",e.accessCode,!0)&&(0,s.a)("string",e.name,!0)&&(0,s.a)("string",e.data,!0)&&(0,s.a)("string",e.customType,!0)&&(0,s.Q)("string",e.operatorUserIds,!0)&&(0,s.a)("number",e.messageSurvivalSeconds,!0)},U={customTypes:void 0,includeEmpty:!1,includeFrozen:!0,includeMetaData:!0,includeChatNotification:!1},P=function(e){return(0,s.Q)("string",e.customTypes,!0)&&(0,s.a)("boolean",e.includeEmpty,!0)&&(0,s.a)("boolean",e.includeFrozen,!0)&&(0,s.a)("boolean",e.includeMetaData,!0)&&(0,s.a)("boolean",e.includeChatNotification,!0)},R={myMemberStateFilter:E.ALL},H=function(e){return(0,s.X)(E,e.myMemberStateFilter)};!function(e){e.GROUP_CHANNEL_UNREAD_MENTION_COUNT="group_channel_unread_mention_count",e.NONSUPER_UNREAD_MENTION_COUNT="non_super_group_channel_unread_mention_count",e.SUPER_UNREAD_MENTION_COUNT="super_group_channel_unread_mention_count",e.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT="group_channel_unread_message_count",e.NONSUPER_UNREAD_MESSAGE_COUNT="non_super_group_channel_unread_message_count",e.SUPER_UNREAD_MESSAGE_COUNT="super_group_channel_unread_message_count",e.GROUP_CHANNEL_INVITATION_COUNT="group_channel_invitation_count",e.NONSUPER_INVITATION_COUNT="non_super_group_channel_invitation_count",e.SUPER_INVITATION_COUNT="super_group_channel_invitation_count"}(I||(I={}));var F={keys:[I.GROUP_CHANNEL_UNREAD_MENTION_COUNT,I.NONSUPER_UNREAD_MENTION_COUNT,I.SUPER_UNREAD_MENTION_COUNT,I.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT,I.NONSUPER_UNREAD_MESSAGE_COUNT,I.SUPER_UNREAD_MESSAGE_COUNT,I.GROUP_CHANNEL_INVITATION_COUNT,I.NONSUPER_INVITATION_COUNT,I.SUPER_INVITATION_COUNT],customTypeFilters:void 0,customTypesFilter:void 0},j={channelCustomTypesFilter:void 0,superChannelFilter:L.ALL},V={channelUrl:void 0,scheduledStatus:void 0,messageTypeFilter:s.ar.ALL},q=((0,s.g)({},s.a2),function(e){return e.startsWith("EVENT_")||e===s.a2.SYNC_CHANNEL_CHANGELOGS||e===s.a2.REFRESH_CHANNEL}),z=function(e){function t(t){var n=t.channels,r=t.context,i=t.isWebSocketEventComing,s=void 0!==i&&i,a=t.ts,o=e.call(this)||this;return o.channels=n,o.context=r,o.isWebSocketEventComing=s,o.ts=a,o}return(0,s.c)(t,e),t}(s.b9),G=function(e){function t(t){var n=t.channelUrls,r=t.context,i=t.isWebSocketEventComing,s=void 0!==i&&i,a=e.call(this)||this;return a.channelUrls=n,a.context=r,a.isWebSocketEventComing=s,a}return(0,s.c)(t,e),t}(s.b9),W=function(){function e(e){var t=e.groupChannelCache,n=e.messageCache,r=e.unsentMessageCache,i=e.dispatcher,a=this;this._observers=new Map,i.on((function(e){return(0,s._)(a,void 0,void 0,(function(){var i,a,u,c,l,d,h,_,f,p,m,g,y,v,b,M,E,L,w=this;return(0,s.b)(this,(function(T){switch(T.label){case 0:if(!(e instanceof z))return[3,19];if(i=e.channels,y=e.context,v=e.isWebSocketEventComing,a=i.filter((function(e){return e instanceof Ot})),y.source!==s.a2.EVENT_CHANNEL_RESET_HISTORY&&y.source!==s.a2.EVENT_CHANNEL_HIDDEN)return[3,9];T.label=1;case 1:T.trys.push([1,6,7,8]),u=(0,s.t)(a),c=u.next(),T.label=2;case 2:return c.done?[3,5]:(f=c.value,[4,n.removeUnderOffset(f.url,f.messageOffsetTimestamp)]);case 3:T.sent(),T.label=4;case 4:return c=u.next(),[3,2];case 5:return[3,8];case 6:return l=T.sent(),b={error:l},[3,8];case 7:try{c&&!c.done&&(M=u.return)&&M.call(u)}finally{if(b)throw b.error}return[7];case 8:return[3,17];case 9:d=t.filterOffsetChanged(a),T.label=10;case 10:T.trys.push([10,15,16,17]),h=(0,s.t)(d),_=h.next(),T.label=11;case 11:return _.done?[3,14]:(f=_.value,[4,n.removeUnderOffset(f.url,f.messageOffsetTimestamp)]);case 12:T.sent(),T.label=13;case 13:return _=h.next(),[3,11];case 14:return[3,17];case 15:return p=T.sent(),E={error:p},[3,17];case 16:try{_&&!_.done&&(L=h.return)&&L.call(h)}finally{if(E)throw E.error}return[7];case 17:return[4,t.upsert(a,e.ts)];case 18:return m=T.sent(),v||this._broadcastUpdateEvent(m,y),[3,24];case 19:return e instanceof G?(g=e.channelUrls,y=e.context,v=e.isWebSocketEventComing,[4,t.remove(g)]):[3,22];case 20:return T.sent(),[4,(0,s.B)((function(){return(0,s._)(w,void 0,void 0,(function(){var e,t,i,a,o,u;return(0,s.b)(this,(function(c){switch(c.label){case 0:c.trys.push([0,6,7,8]),e=(0,s.t)(g),t=e.next(),c.label=1;case 1:return t.done?[3,5]:(i=t.value,[4,n.removeMessagesOfChannel(i)]);case 2:return c.sent(),[4,r.removeMessagesOfChannel(i)];case 3:c.sent(),c.label=4;case 4:return t=e.next(),[3,1];case 5:return[3,8];case 6:return a=c.sent(),o={error:a},[3,8];case 7:try{t&&!t.done&&(u=e.return)&&u.call(e)}finally{if(o)throw o.error}return[7];case 8:return[2]}}))}))}))];case 21:return T.sent(),v||this._broadcastRemoveEvent(g,y),[3,24];case 22:return e instanceof o.D?[4,t.fetch({token:Number.MAX_SAFE_INTEGER,limit:Number.MAX_SAFE_INTEGER})]:[3,24];case 23:T.sent(),T.label=24;case 24:return[2]}}))}))}))}return e.prototype._broadcastUpdateEvent=function(e,t){var n,r;try{for(var i=(0,s.t)(this._observers.values()),a=i.next();!a.done;a=i.next()){var o=a.value;o.onUpdate&&o.onUpdate(e,t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype._broadcastRemoveEvent=function(e,t){var n,r;try{for(var i=(0,s.t)(this._observers.values()),a=i.next();!a.done;a=i.next()){var o=a.value;o.onRemove&&o.onRemove(e,t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.subscribe=function(e,t){this._observers.set(e,t)},e.prototype.unsubscribe=function(e){this._observers.delete(e)},e.prototype.unsubscribeAll=function(){this._observers.clear()},e}(),B=function(e){function t(t){var n=t.userId,r=t.ts,i=t.token,a=t.filter,o=t.includeChatNotification,u=void 0!==o&&o,c=e.call(this)||this,l=(0,s.g)((0,s.g)({},U),a),d=l.customTypes,h=l.includeEmpty,_=l.includeFrozen;return c.method=s.A.GET,c.path="".concat(s.d,"/").concat(encodeURIComponent(n),"/my_group_channels/changelogs"),c.params=(0,s.e)((0,s.u)({show_delivery_receipt:!0,show_member:!0,show_read_receipt:!0,change_ts:r||null,token:i,custom_types:d,show_empty:h,show_frozen:_,include_chat_notification:u})),c}return(0,s.c)(t,e),t}(s.f),K=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.updatedChannels=n.updated.map((function(e){return new Ot(t,Object.assign(e,{ts:n.ts}))})),r.deletedChannelUrls=n.deleted,r.hasMore=n.has_more,r.token=n.next,r.ts=n.ts,r}return(0,s.c)(t,e),t}(s.h),Q=function(e){function t(t){var n=t.channelUrl,r=t.isInternalCall,i=t.showLatestMessage,a=e.call(this)||this;return a.method=s.A.GET,a.path="".concat(r?s.bh:s.aA,"/").concat(encodeURIComponent(n)),a.params={show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_latest_message:null!=i&&i},a}return(0,s.c)(t,e),t}(s.f),J=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.channel=new Ot(t,n),r}return(0,s.c)(t,e),t}(s.h),Z={includeEmpty:!1,includeFrozen:!0,includeMetaData:!0,includeChatNotification:!1,channelUrlsFilter:void 0,customTypesFilter:void 0,customTypeStartsWithFilter:void 0,nicknameContainsFilter:void 0,nicknameStartsWithFilter:void 0,nicknameExactMatchFilter:void 0,channelNameContainsFilter:void 0,myMemberStateFilter:E.ALL,unreadChannelFilter:w.ALL,superChannelFilter:L.ALL,publicChannelFilter:M.ALL,hiddenChannelFilter:T.ALL,userIdsFilter:{userIds:[],includeMode:!0,queryType:S.AND},searchFilter:{query:void 0,fields:[]},metadataKey:void 0,metadataValues:void 0,metadataOrderKeyFilter:void 0,metadataValueStartsWith:void 0,order:o.G.LATEST_LAST_MESSAGE,createdAfter:void 0,createdBefore:void 0},X=function(e){function t(t){var n=this,r=t.userId,i=t.token,a=t.limit,o=t.order,u=t.includeEmpty,c=t.myMemberStateFilter,l=t.superChannelFilter,d=t.publicChannelFilter,h=t.unreadChannelFilter,_=t.nicknameContainsFilter,f=t.nicknameStartsWithFilter,p=t.nicknameExactMatchFilter,m=t.channelNameContainsFilter,g=t.channelUrlsFilter,y=t.customTypesFilter,v=t.customTypeStartsWithFilter,b=t.hiddenChannelFilter,M=t.metadataOrderKeyFilter,E=t.metadataKey,L=t.metadataValues,w=t.metadataValueStartsWith,T=t.includeFrozen,k=t.includeMetaData,S=t.searchFilter,D=t.userIdsFilter,C=t.includeChatNotification,A=void 0!==C&&C,I=t.includeLeftChannel,N=void 0!==I&&I,Y=t.createdAfter,O=t.createdBefore;return(n=e.call(this)||this).method=s.A.GET,n.path="".concat(s.d,"/").concat(encodeURIComponent(r),"/my_group_channels"),n.params=(0,s.e)({token:i,limit:a,order:null!=o?o:Z.order,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:null!=u?u:Z.includeEmpty,member_state_filter:null!=c?c:Z.myMemberStateFilter,super_mode:null!=l?l:Z.superChannelFilter,public_mode:null!=d?d:Z.publicChannelFilter,unread_filter:null!=h?h:Z.unreadChannelFilter,members_nickname_contains:_,members_nickname_startswith:f,members_nickname:p,name_contains:m,channel_urls:g,custom_types:y,custom_type_startswith:v,hidden_mode:b,metadata_order_key:M,metadata_key:E,metadata_values:L,metadata_value_startswith:w,show_frozen:T,show_metadata:k,include_chat_notification:A,include_left_channel:N,created_after:Y,created_before:O}),S&&S.query&&S.fields&&(n.params.search_query=S.query,n.params.search_fields=S.fields),D&&D.userIds&&D.userIds.length>0&&(D.includeMode?(n.params.members_include_in=D.userIds,n.params.query_type=D.queryType.toUpperCase()):n.params.members_exactly_in=D.userIds),n}return(0,s.c)(t,e),t}(s.f),$=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.channels=[];var i=n.next,s=n.channels,a=n.ts;return r.token=i,s&&s.length>0&&(r.channels=s.map((function(e){return e.ts=a,new Ot(t,e)}))),r.ts=null!=a?a:0,r}return(0,s.c)(t,e),t}(s.h),ee=function(e){function t(t){var n=t.userId,r=t.filter,i=e.call(this)||this,a=r.myMemberStateFilter;return i.method=s.A.GET,i.path="".concat(s.d,"/").concat(encodeURIComponent(n),"/group_channel_count"),i.params={state:null!=a?a:E.ALL},i}return(0,s.c)(t,e),t}(s.f),te=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.groupChannelCount=n.group_channel_count,r}return(0,s.c)(t,e),t}(s.h),ne=function(e){function t(t){var n=t.userId,r=t.filter,i=e.call(this)||this,a=r.keys,o=r.customTypeFilters,u=r.customTypesFilter;return i.method=s.A.GET,i.path="".concat(s.d,"/").concat(encodeURIComponent(n),"/unread_item_count"),i.params=(0,s.e)({item_keys:a,custom_types:null!=u?u:o}),i}return(0,s.c)(t,e),t}(s.f),re=function(e){function t(t,n){var r=e.call(this,t,n)||this;return"number"==typeof n[I.GROUP_CHANNEL_UNREAD_MENTION_COUNT]&&(r.groupChannelUnreadMentionCount=n[I.GROUP_CHANNEL_UNREAD_MENTION_COUNT]),"number"==typeof n[I.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]&&(r.groupChannelUnreadMessageCount=n[I.GROUP_CHANNEL_UNREAD_MESSAGE_COUNT]),"number"==typeof n[I.GROUP_CHANNEL_INVITATION_COUNT]&&(r.groupChannelInvitationCount=n[I.GROUP_CHANNEL_INVITATION_COUNT]),"number"==typeof n[I.SUPER_UNREAD_MENTION_COUNT]&&(r.superGroupChannelUnreadMentionCount=n[I.SUPER_UNREAD_MENTION_COUNT]),"number"==typeof n[I.SUPER_UNREAD_MESSAGE_COUNT]&&(r.superGroupChannelUnreadMessageCount=n[I.SUPER_UNREAD_MESSAGE_COUNT]),"number"==typeof n[I.SUPER_INVITATION_COUNT]&&(r.superGroupChannelInvitationCount=n[I.SUPER_INVITATION_COUNT]),"number"==typeof n[I.NONSUPER_UNREAD_MENTION_COUNT]&&(r.nonSuperGroupChannelUnreadMentionCount=n[I.NONSUPER_UNREAD_MENTION_COUNT]),"number"==typeof n[I.NONSUPER_UNREAD_MESSAGE_COUNT]&&(r.nonSuperGroupChannelUnreadMessageCount=n[I.NONSUPER_UNREAD_MESSAGE_COUNT]),"number"==typeof n[I.NONSUPER_INVITATION_COUNT]&&(r.nonSuperGroupChannelInvitationCount=n[I.NONSUPER_INVITATION_COUNT]),r}return(0,s.c)(t,e),t}(s.h),ie=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=s.A.GET,r.path="".concat(s.d,"/").concat(encodeURIComponent(n),"/unread_channel_count"),r}return(0,s.c)(t,e),t}(s.f),se=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.unreadCount=n.unread_count,r}return(0,s.c)(t,e),t}(s.h),ae=function(e){function t(t){var n=t.userId,r=t.filter,i=t.includeFeedChannel,a=void 0!==i&&i,o=e.call(this)||this,u=r.channelCustomTypesFilter,c=r.superChannelFilter;return o.method=s.A.GET,o.path="".concat(s.d,"/").concat(encodeURIComponent(n),"/unread_message_count"),o.params={super_mode:null!=c?c:L.ALL,custom_types:u,include_feed_channel:a},o}return(0,s.c)(t,e),t}(s.f),oe=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.unreadCount=n.unread_count,r.unreadFeedCount=n.unread_feed_count,r}return(0,s.c)(t,e),t}(s.h),ue=function(e){function t(t){var n=t.channelUrl,r=t.scheduledStatus,i=t.messageTypeFilter,a=e.call(this)||this;return a.method=s.A.GET,a.path="".concat(s.bd,"/count"),a.params={channel_url:n,status:le(r)},i&&(a.params.message_type=i),a}return(0,s.c)(t,e),t}(s.f),ce=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.count=n.count,r}return(0,s.c)(t,e),t}(s.h),le=function(e){if(!e)return[];var t=[];return e.forEach((function(e){switch(e){case a.V.PENDING:t.push(a.Z.PENDING);break;case a.V.SENT:t.push(a.Z.IN_QUEUE),t.push(a.Z.SENT);break;case a.V.CANCELED:t.push(a.Z.CANCELED);break;case a.V.FAILED:t.push(a.Z.FAILED)}})),t},de=function(e){function t(t){var n=this,r=t.userId,i=t.channelUrl,a=t.coverUrl,o=t.coverImage,u=t.isDistinct,c=t.isSuper,l=t.isBroadcast,d=t.isPublic,h=t.isExclusive,_=t.isDiscoverable,f=t.isStrict,p=t.isEphemeral,m=t.accessCode,g=t.name,y=t.data,v=t.customType,b=t.messageSurvivalSeconds,M=t.invitedUserIds,E=t.operatorUserIds;return(n=e.call(this)||this).method=s.A.POST,n.path=s.aA,n.params=(0,s.e)({user_ids:(0,s.p)([r],(0,s.q)(null!=M?M:[]),!1).filter((function(e,t,n){return t===n.indexOf(e)})),channel_url:i,cover_url:a,cover_file:o,is_distinct:u,is_super:c,is_broadcast:l,is_exclusive:h,is_public:d,is_discoverable:_,strict:f,is_ephemeral:p,access_code:m,name:g,data:y,custom_type:v,operator_ids:E,message_survival_seconds:b}),n}return(0,s.c)(t,e),t}(s.f),he=function(e){function t(t,n){var r,i=this;return(i=e.call(this,t,n)||this).channel=new Ot(t,n),i.isCreated=null===(r=n.is_created)||void 0===r||r,i}return(0,s.c)(t,e),t}(s.h),_e=function(e){function t(t){var n=t.userId,r=t.channelUrls,i=e.call(this)||this;return i.method=s.A.PUT,i.path="".concat(s.d,"/").concat(encodeURIComponent(n),"/mark_as_read_all"),i.params={channel_urls:r},i}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(s.h);var fe=function(e){function t(t){var n=this,r=t.channelUrl,i=t.userId,a=t.accessCode;return(n=e.call(this)||this).method=s.A.PUT,n.path="".concat(s.aA,"/").concat(encodeURIComponent(r),"/join"),n.params={user_id:i,access_code:a},n}return(0,s.c)(t,e),t}(s.f),pe=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.channel=new Ot(t,n),r}return(0,s.c)(t,e),t}(s.h),me=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this,s=r.data,a=s.member_count,o=void 0===a?0:a,u=s.joined_member_count,c=void 0===u?0:u,l=s.users,d=void 0===l?null:l;return i.memberCount=o,i.joinedMemberCount=c,i.members=Array.isArray(d)?d.map((function(e){return new C(t,e)})):[new C(t,r.data)],i}return(0,s.c)(t,e),t}(d),ge=function(e){function t(t){var n=this,r=t.channelUrl,i=t.userId,a=t.shouldRemoveOperatorStatus;return(n=e.call(this)||this).method=s.A.PUT,n.path="".concat(s.aA,"/").concat(encodeURIComponent(r),"/leave"),n.params={user_id:i,should_remove_operator_status:a},n}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(t,n){return e.call(this,t,n)||this}),e)}(s.h);var ye=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this,s=r.data,a=s.member_count,o=void 0===a?0:a,u=s.joined_member_count,c=void 0===u?0:u;return i.memberCount=o,i.joinedMemberCount=c,i.member=new C(i._iid,r.data),i}return(0,s.c)(t,e),t}(d),ve=function(e){function t(t){var n=this,r=t.channelUrl,i=t.userIds;return(n=e.call(this)||this).method=s.A.POST,n.path="".concat(s.aA,"/").concat(encodeURIComponent(r),"/invite"),n.params={user_ids:i},n}return(0,s.c)(t,e),t}(s.f),be=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.channel=new Ot(t,n),r}return(0,s.c)(t,e),t}(s.h),Me=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this;i.inviter=null;var a=r.data,o=a.member_count,u=void 0===o?0:o,c=a.joined_member_count,l=void 0===c?0:c,d=a.inviter,h=a.invitees,_=void 0===h?[]:h;return i.memberCount=u,i.joinedMemberCount=l,d&&Object.keys(d).length>0&&(i.inviter=new s.U(t,d)),i.invitees=_.map((function(e){return new C(t,e)})),i}return(0,s.c)(t,e),t}(d),Ee=function(e){function t(t){var n=this,r=t.channelUrl,i=t.userId;return(n=e.call(this)||this).method=s.A.PUT,n.path="".concat(s.aA,"/").concat(encodeURIComponent(r),"/decline"),n.params={user_id:i},n}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(t,n){var r=e.call(this,t,n)||this;return r.channel=new Ot(t,n),r.channel.myMemberState=c.NONE,r}),e)}(s.h);var Le=function(e){function t(t,n,r){var i=e.call(this,t,n,r)||this,a=r.data,o=a.member_count,u=a.joined_member_count,c=a.inviter,l=a.invitee;return i.memberCount=null!=o?o:0,i.joinedMemberCount=null!=u?u:0,i.inviter=new s.U(t,c),i.invitee=new C(t,l),i}return(0,s.c)(t,e),t}(d),we={hidePreviousMessages:!1,allowAutoUnhide:!0},Te=function(e){function t(t){var n=this,r=t.channelUrl,i=t.userId,a=t.hidePreviousMessages,o=t.allowAutoUnhide;return(n=e.call(this)||this).method=s.A.PUT,n.path="".concat(s.aA,"/").concat(encodeURIComponent(r),"/hide"),n.params={user_id:i,hide_previous_messages:null!=a?a:we.hidePreviousMessages,allow_auto_unhide:null!=o?o:we.allowAutoUnhide},n}return(0,s.c)(t,e),t}(s.f),ke=function(e){function t(t,n){var r=e.call(this,t,n)||this,i=n.ts_message_offset;return r.messageOffsetTimestamp=i,r}return(0,s.c)(t,e),t}(s.h),Se=function(e){function t(t,n,r){var i,s,a,o=this;return(o=e.call(this,t,"SYEV",r)||this).allowAutoUnhide=null,o.hidePreviousMessages=null,o.messageOffsetTimestamp=null,r.data&&(o.allowAutoUnhide=null!==(i=r.data.allow_auto_unhide)&&void 0!==i?i:null,o.hidePreviousMessages=null!==(s=r.data.hide_previous_messages)&&void 0!==s?s:null),o.messageOffsetTimestamp=null!==(a=r.ts_message_offset)&&void 0!==a?a:null,o}return(0,s.c)(t,e),t}(s.W),De=function(e){function t(t){var n=t.channelUrl,r=t.time;return e.call(this,{code:"TPST",ackRequired:!1,payload:{channel_url:n,time:r}})||this}return(0,s.c)(t,e),t}(s.al),Ce=function(e){function t(t,n,r){var i=e.call(this,t,"SYEV",r)||this;return i.user=new s.U(t,r.data),i}return(0,s.c)(t,e),t}(s.W),Ae=function(e){function t(t){var n=t.channelUrl,r=t.time;return e.call(this,{code:"TPEN",ackRequired:!1,payload:{channel_url:n,time:r}})||this}return(0,s.c)(t,e),t}(s.al),Ie=function(e){function t(t,n,r){var i=e.call(this,t,"SYEV",r)||this;return i.user=new s.U(t,r.data),i}return(0,s.c)(t,e),t}(s.W),Ne=function(e){function t(t){var n=t.channelUrl,r=t.messageId;return e.call(this,{code:"MACK",ackRequired:!1,payload:{channel_url:n,msg_id:r}})||this}return(0,s.c)(t,e),t}(s.al),Ye=function(e){function t(t,n){var r,i,s,a,u,c,l,d,h,_,f,p,m,g,y,v,b,k,D,C,A,I,N,Y=this;return(Y=e.call(this,t,n)||this).includeEmpty=!1,Y.includeFrozen=!0,Y.includeMetaData=!0,Y.includeChatNotification=!1,Y.channelUrlsFilter=null,Y.customTypesFilter=null,Y.customTypeStartsWithFilter=null,Y.nicknameContainsFilter=null,Y.nicknameStartsWithFilter=null,Y.nicknameExactMatchFilter=null,Y.channelNameContainsFilter="",Y.myMemberStateFilter=E.ALL,Y.unreadChannelFilter=w.ALL,Y.superChannelFilter=L.ALL,Y.publicChannelFilter=M.ALL,Y.hiddenChannelFilter=T.UNHIDDEN,Y.searchFilter={fields:[],query:null},Y.userIdsFilter={userIds:[],includeMode:!0,queryType:S.AND},Y.metadataKey=null,Y.metadataValues=null,Y.metadataOrderKeyFilter=null,Y.metadataValueStartsWith=null,Y.order=o.G.LATEST_LAST_MESSAGE,Y.includeEmpty=null!==(r=n.includeEmpty)&&void 0!==r&&r,Y.includeFrozen=null===(i=n.includeFrozen)||void 0===i||i,Y.includeMetaData=null===(s=n.includeMetaData)||void 0===s||s,Y.includeChatNotification=null!==(a=n.includeChatNotification)&&void 0!==a&&a,Y.channelUrlsFilter=null!==(u=n.channelUrlsFilter)&&void 0!==u?u:null,Y.customTypesFilter=null!==(c=n.customTypesFilter)&&void 0!==c?c:null,Y.customTypeStartsWithFilter=null!==(l=n.customTypeStartsWithFilter)&&void 0!==l?l:"",Y.nicknameContainsFilter=null!==(d=n.nicknameContainsFilter)&&void 0!==d?d:null,Y.nicknameStartsWithFilter=null!==(h=n.nicknameStartsWithFilter)&&void 0!==h?h:null,Y.nicknameExactMatchFilter=null!==(_=n.nicknameExactMatchFilter)&&void 0!==_?_:null,Y.channelNameContainsFilter=null!==(f=n.channelNameContainsFilter)&&void 0!==f?f:"",Y.myMemberStateFilter=null!==(p=n.myMemberStateFilter)&&void 0!==p?p:E.ALL,Y.unreadChannelFilter=null!==(m=n.unreadChannelFilter)&&void 0!==m?m:w.ALL,Y.superChannelFilter=null!==(g=n.superChannelFilter)&&void 0!==g?g:L.ALL,Y.publicChannelFilter=null!==(y=n.publicChannelFilter)&&void 0!==y?y:M.ALL,Y.hiddenChannelFilter=null!==(v=n.hiddenChannelFilter)&&void 0!==v?v:T.UNHIDDEN,Y.searchFilter=null!==(b=n.searchFilter)&&void 0!==b?b:{fields:[],query:null},Y.userIdsFilter=null!==(k=n.userIdsFilter)&&void 0!==k?k:{userIds:[],includeMode:!0,queryType:S.AND},Y.metadataKey=null!==(D=n.metadataKey)&&void 0!==D?D:null,Y.metadataValues=null!==(C=n.metadataValues)&&void 0!==C?C:null,Y.metadataOrderKeyFilter=null!==(A=n.metadataOrderKeyFilter)&&void 0!==A?A:null,Y.metadataValueStartsWith=null!==(I=n.metadataValueStartsWith)&&void 0!==I?I:null,Y.order=null!==(N=n.order)&&void 0!==N?N:o.G.LATEST_LAST_MESSAGE,n.createdAfter&&(Y.createdAfter=n.createdAfter),n.createdBefore&&(Y.createdBefore=n.createdBefore),Y}return(0,s.c)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&(0,s.a)("boolean",this.includeEmpty)&&(0,s.a)("boolean",this.includeFrozen)&&(0,s.a)("boolean",this.includeMetaData)&&(0,s.a)("string",this.channelNameContainsFilter)&&(0,s.Q)("string",this.channelUrlsFilter,!0)&&(0,s.Q)("string",this.customTypesFilter,!0)&&(0,s.a)("string",this.customTypeStartsWithFilter)&&(0,s.a)("string",this.nicknameContainsFilter,!0)&&(0,s.a)("string",this.nicknameStartsWithFilter,!0)&&(0,s.a)("string",this.nicknameExactMatchFilter,!0)&&(0,s.X)(E,this.myMemberStateFilter)&&(0,s.X)(L,this.superChannelFilter)&&(0,s.X)(M,this.publicChannelFilter)&&(0,s.X)(w,this.unreadChannelFilter)&&(0,s.X)(T,this.hiddenChannelFilter)&&(0,s.Q)(D,this.searchFilter.fields)&&(0,s.a)("string",this.searchFilter.query,!0)&&(0,s.Q)("string",this.userIdsFilter.userIds)&&(0,s.a)("boolean",this.userIdsFilter.includeMode)&&(0,s.X)(S,this.userIdsFilter.queryType)&&(0,s.X)(o.G,this.order)&&(0,s.a)("string",this.metadataOrderKeyFilter,!0)&&(0,s.a)("string",this.metadataKey,!0)&&(0,s.Q)("string",this.metadataValues,!0)&&(0,s.a)("string",this.metadataValueStartsWith,!0)&&(0,s.bi)(this.createdAfter,!0)&&(0,s.bi)(this.createdBefore,!0)},t.prototype.serialize=function(){return(0,s.aj)(this)},t.prototype.next=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,He.of(this._iid).getMyGroupChannels(this._token,(0,s.u)((0,s.g)({},this)),this.limit,s.a2.REQUEST_CHANNEL,!0)]):[3,2]:[3,5];case 1:return e=r.sent(),t=e.channels,n=e.token,this._token=n,this._hasNext=!!n,this._isLoading=!1,[2,t];case 2:return[2,[]];case 3:throw s.s.queryInProgress;case 4:return[3,6];case 5:throw s.s.invalidParameters;case 6:return[2]}}))}))},t}(s.aP),Oe=function(e){function t(t){var n=t.channelUrl,r=t.userId,i=e.call(this)||this;return i.method=s.A.PUT,i.path="".concat(s.aA,"/").concat(encodeURIComponent(n),"/messages/mark_as_delivered"),i.params=(0,s.e)({user_id:r}),i}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(s.h);var xe,Ue=function(e){function t(t,n,r){var i=e.call(this,t,"DLVR",r)||this;return i.channelUrl=r.channel_url,i.deliveredStateUpdate=r.updated,i}return(0,s.c)(t,e),t}(s.W),Pe=function(){function e(e){var t=e.top,n=void 0===t?Number.MAX_SAFE_INTEGER:t,r=e.bottom,i=void 0===r?0:r;this.top=n,this.bottom=i}return e.prototype.includes=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.every((function(t){return e.top<=t&&t<=e.bottom}))},e.prototype.overlap=function(e){return this.includes(e.top)||this.includes(e.bottom)},e.prototype.intersect=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.some((function(t){return e.top<=t&&t<=e.bottom}))},e.prototype.extends=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.top=Math.min.apply(Math,(0,s.p)([this.top],(0,s.q)(e),!1)),this.bottom=Math.max.apply(Math,(0,s.p)([this.bottom],(0,s.q)(e),!1))},e}(),Re={},He=function(e){function t(t,n){var r,i=this;return(i=e.call(this,t,(0,s.g)((0,s.g)({},n),{channelType:s.C.GROUP}))||this)._leftChannels=new Map,i._markAsReadAllLastSentAt=0,i._forceDisableMack=null!==(r=n.forceDisableMack)&&void 0!==r&&r,i._groupChannelHandlers=new Map,i._groupChannelCache=new Y(i._iid,{sdkState:n.sdkState,cacheContext:n.cacheContext}),i._groupChannelBroadcast=new W({dispatcher:n.dispatcher,groupChannelCache:i._groupChannelCache,messageCache:a.t.of(i._iid),unsentMessageCache:a.u.of(i._iid)}),setInterval((function(){var e,t,n=function(e){e.invalidateTypingStatus()&&(i._dispatcher.dispatch(new z({channels:[e],context:{source:s.a2.EVENT_CHANNEL_TYPING_STATUS_UPDATE}})),i._groupChannelHandlers.forEach((function(t){t.onTypingStatusUpdated&&t.onTypingStatusUpdated(e)})))};try{for(var r=(0,s.t)(i._groupChannelCache.channels),a=r.next();!a.done;a=r.next())n(a.value)}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}}),1e3),i._dispatcher.on((function(e){e instanceof s.W?i._handleEvent(e).catch((function(e){if((0,s.O)(e)&&"foreground"===i._sdkState.appState)throw e})):e instanceof o.c?(0,s._)(i,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return t=e.message,[4,this.getChannelFromCache(t.channelUrl)];case 1:return(n=r.sent())&&!n.isFrozen?[3,3]:[4,this.getChannelWithoutCache(t.channelUrl,!0)];case 2:n=r.sent(),r.label=3;case 3:return n.isFrozen||(t instanceof a.$?n._autoResendUserMessage(t):t instanceof a.a0&&n._autoResendFileMessage(t)),[2]}}))})):e instanceof o.R?i.reduceDBSize():e instanceof a._&&(0,s._)(i,void 0,void 0,(function(){var t,n,r,i,o,u=this;return(0,s.b)(this,(function(c){switch(c.label){case 0:return t=e.channelUrl,n=e.channelType,r=e.parentMessage,i=new a.a1(this._iid,{channel_type:s.C.GROUP,channel_url:t,parent_message_id:r.messageId,thread_info:a.a2.payloadify(r.threadInfo)}),n!==s.C.GROUP?[3,2]:[4,this.getChannel(t,!0)];case 1:o=c.sent(),(0,s.G)((function(){return(0,s._)(u,void 0,void 0,(function(){var e,t,n,r,a;return(0,s.b)(this,(function(u){try{for(e=(0,s.t)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())(n=t.value).onThreadInfoUpdated&&n.onThreadInfoUpdated(o,i)}catch(e){r={error:e}}finally{try{t&&!t.done&&(a=e.return)&&a.call(e)}finally{if(r)throw r.error}}return[2]}))}))})),c.label=2;case 2:return[2]}}))}))})),Re[t]||(Re[t]=i),i}return(0,s.c)(t,e),Object.defineProperty(t.prototype,"_messageCache",{get:function(){return a.t.of(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_unsentMessageCache",{get:function(){return a.u.of(this._iid)},enumerable:!1,configurable:!0}),t.of=function(e){return Re[e]||(Re[e]=new t(e,s.V.of(e))),Re[e]},t.clear=function(e){Re[e]&&delete Re[e]},Object.defineProperty(t.prototype,"handlers",{get:function(){return(0,s.p)([],(0,s.q)(this._groupChannelHandlers.values()),!1)},enumerable:!1,configurable:!0}),t.prototype.buildGroupChannelFromSerializedData=function(e){var t=(0,s.z)(e);return new Ot(this._iid,Ot.payloadify(t))},t.prototype.buildGroupChannelListQueryFromSerializedData=function(e){var t=(0,s.z)(e);return new Ye(this._iid,t)},t.prototype.buildMemberFromSerializedData=function(e){var t=(0,s.z)(e);return new C(this._iid,C.payloadify(t))},t.prototype.getChannelFromCache=function(e){var t;return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,this._groupChannelCache.get(e)];case 1:return[2,null!==(t=n.sent())&&void 0!==t?t:null]}}))}))},t.prototype.getChannelsFromCache=function(e,t,n,r,i){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(s){switch(s.label){case 0:return[4,this._groupChannelCache.fetch({token:e,filter:t,order:n,limit:r,borderlineChannelUrl:i})];case 1:return[2,s.sent()]}}))}))},t.prototype.upsertChannelsToCache=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,this._groupChannelCache.upsert(e)];case 1:return[2,t.sent()]}}))}))},t.prototype.removeChannelsFromCache=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,this._groupChannelCache.remove(e)];case 1:return t.sent(),[2]}}))}))},t.prototype.clearChannelsFromCache=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return[4,this._groupChannelCache.clear()];case 1:return e.sent(),[2]}}))}))},t.prototype.reduceDBSize=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,o,u,c,l,d,h,_,f,p,m;return(0,s.b)(this,(function(g){switch(g.label){case 0:return e=a.t.of(this._iid),t=s.V.of(this._iid).cacheContext,n=t.localCacheConfig,r=t.nestdb,t.localCacheEnabled&&r&&r.state==a.v.OPENED?(i=1024*n.maxSize*1024,[4,r.estimateUsage()]):[2];case 1:if((o=g.sent())<i)return[2];u=[],c=this._groupChannelCache.channels,l={},f=0,g.label=2;case 2:return f<c.length?[4,this.getMessagesFromCache(c[f].url,0,"prev",new a.K)]:[3,5];case 3:d=g.sent(),l[c[f].url]=JSON.stringify(d).length,h=new s.a3({channel:c[f],cachedMessageCount:d.length}),u.push(h),g.label=4;case 4:return f++,[3,2];case 5:_=u.sort(n.clearOrderComparator),f=0,g.label=6;case 6:return f<_.length?[4,e.removeMessagesOfChannel(_[f].channel.url)]:[3,10];case 7:return g.sent(),[4,e._getGroupChannelPreferenceSize(_[f].channel.url)];case 8:if(p=g.sent(),m=l[_[f].channel.url]+p,(o-=m)<i)return[3,10];g.label=9;case 9:return f++,[3,6];case 10:return[2]}}))}))},t.prototype._isSuperGroupMackDisabled=function(e){var t=s.V.of(this._iid).appInfo;return!(!e.isSuper||e.isBroadcast||!(null==t?void 0:t.disableSuperGroupMack))},t.prototype._handleEvent=function(e){var t,n;return(0,s._)(this,void 0,void 0,(function(){var i,u,l,f,M,E,L,w,T,k,S,D,C,A,I,N,Y,O,x,U,P,R,H,F,j,V,q,W,B,K,Q,J,Z,X,$,ee,te,ne,re,ie,se,ae,oe,ue,ce,le,de,he,_e,fe,pe,ge,ve,be,Ee,we,Te,ke,De,Ae,Ye,Oe,xe,Pe,Re,He,Fe,je,Ve,qe,ze,Ge,We,Be,Ke,Qe,Je,Ze,Xe,$e,et,tt,nt,rt,it,st,at,ot,ut,ct,lt,dt,ht,_t,ft,pt,mt,gt,yt,vt,bt,Mt,Et,Lt,wt,Tt,St,Dt,Ct,At,It,Nt,Yt,Ot,xt,Ut,Pt,Rt,Ht,Ft,jt,Vt,qt,zt,Gt,Wt,Bt,Kt,Qt,Jt,Zt,Xt,$t,en,tn,nn,rn,sn,an,on,un=this;return(0,s.b)(this,(function(cn){switch(cn.label){case 0:switch(cn.trys.push([0,80,,81]),e.code){case"MESG":case"FILE":case"ADMM":case"BRDM":return[3,1];case"MEDI":case"FEDI":case"AEDI":return[3,4];case"DELM":return[3,7];case"READ":return[3,10];case"DLVR":return[3,13];case"MRCT":return[3,15];case"MTHD":return[3,19];case"MCNT":return[3,23];case"PEDI":return[3,32];case"VOTE":return[3,35];case"SYEV":return[3,38];case"USEV":return[3,78]}return[3,79];case 1:return w=null,"MESG"===e.code?w=e.as(a.ah):"FILE"===e.code?w=e.as(a.ai):"ADMM"!==e.code&&"BRDM"!=e.code||(w=e.as(p)),w?(i=w.message,u=w.isMentioned,l=w.forceUpdateLastMessage,i.channelType!==s.C.GROUP?[3,3]:(W=this._groupChannelCache.isCachedInMemory(i.channelUrl),R=i instanceof a.ad&&i.sender.userId===this._sdkState.userId,[4,this.getChannel(i.channelUrl,!0)])):[3,3];case 2:if(f=cn.sent(),M=s.V.of(this._iid).useMemberInfoInMessage,this._forceDisableMack||this._isSuperGroupMackDisabled(f)||i instanceof a.ag||R||(0,s.B)((function(){return(0,s._)(un,void 0,void 0,(function(){var e;return(0,s.b)(this,(function(t){switch(t.label){case 0:return e=new Ne(i),[4,this._requestQueue.send(e)];case 1:return t.sent(),[2]}}))}))})),i instanceof a.ad){try{for(E=(0,s.t)(f.members),L=E.next();!L.done;L=E.next())if((ht=L.value).userId===i.sender.userId){M||(i.sender.nickname=ht.nickname,i.sender.plainProfileUrl=ht.plainProfileUrl,i.sender.metaData=ht.metaData,i.sender.isBlockedByMe=ht.isBlockedByMe);break}}catch(e){Zt={error:e}}finally{try{L&&!L.done&&(Xt=E.return)&&Xt.call(E)}finally{if(Zt)throw Zt.error}}!M&&u&&(null===(t=i.mentionedUsers)||void 0===t||t.forEach((function(e){var t,n;try{for(var r=(0,s.t)(f.members),i=r.next();!i.done;i=r.next()){var a=i.value;if(e.userId===a.userId){e.nickname=a.nickname,e.plainProfileUrl=a.plainProfileUrl,e.metaData=a.metaData;break}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))),R&&(A=this._sessionManager.currentUser)&&(A.nickname=i.sender.nickname,A.plainProfileUrl=i.sender.plainProfileUrl,A.metaData=i.sender.metaData)}i.silent&&!R||(f.isEphemeral||W)&&(f._updateLastMessage(i),R||f._shouldUpdateUnreadCountWith(i)&&f._updateUnreadCount(f.unreadMessageCount+1,f.unreadMentionCount+(u?1:0))),l&&f._updateLastMessage(i),this._dispatcher.dispatch(new z({channels:[f],context:{source:s.a2.EVENT_MESSAGE_RECEIVED}})),i.silent&&!R||(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){var e,t,n,r,i;return(0,s.b)(this,(function(a){try{for(e=(0,s.t)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())(n=t.value).onChannelChanged&&n.onChannelChanged(f)}catch(e){r={error:e}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}return[2]}))}))})),this._dispatcher.dispatch(new s.ao({messages:[i],source:s.a2.EVENT_MESSAGE_RECEIVED})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){var e,t,n,r,a;return(0,s.b)(this,(function(o){try{for(e=(0,s.t)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())(n=t.value).onMessageReceived&&n.onMessageReceived(f,i),u&&n.onMentionReceived&&n.onMentionReceived(f,i)}catch(e){r={error:e}}finally{try{t&&!t.done&&(a=e.return)&&a.call(e)}finally{if(r)throw r.error}}return[2]}))}))})),cn.label=3;case 3:return[3,79];case 4:return w=null,"MEDI"===e.code?w=e.as(a.ae):"FEDI"===e.code?w=e.as(a.af):"AEDI"===e.code&&(w=e.as(m)),w?(T=w.message,k=w.mentionCountChange,T.threadInfo&&(T.threadInfo.unreadReplyCount=void 0),T.channelType!==s.C.GROUP?[3,6]:(W=this._groupChannelCache.isCachedInMemory(T.channelUrl),[4,this.getChannel(T.channelUrl,!0)])):[3,6];case 5:S=cn.sent(),R=T instanceof a.ad&&T.sender.userId===this._sdkState.userId,D=!1,R?(C=T.sender,(A=this._sessionManager.currentUser)&&(A.nickname=C.nickname,A.plainProfileUrl=C.plainProfileUrl,A.metaData=C.metaData)):S.isReadMessage(T)||0!==k&&!T.silent&&W&&(S._updateUnreadCount(S.unreadMessageCount,S.unreadMentionCount+k),D=!0),S._updateLastMessage(T)?D=!0:(null===(n=S.lastMessage)||void 0===n?void 0:n.isIdentical(T))&&(W?S._updateLastMessage(T)&&(D=!0):D=!0),I=!1,S.lastPinnedMessage&&S.lastPinnedMessage.messageId===T.messageId&&(S.lastPinnedMessage=T,D=!0,I=!0),D&&(this._dispatcher.dispatch(new z({channels:[S],context:{source:I?s.a2.EVENT_PINNED_MESSAGE_UPDATED:s.a2.EVENT_MESSAGE_UPDATED}})),T.silent&&!R||(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){var e,t,n,r,i;return(0,s.b)(this,(function(a){try{for(e=(0,s.t)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())(n=t.value).onChannelChanged&&n.onChannelChanged(S)}catch(e){r={error:e}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}return[2]}))}))})),I&&(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){var e,t,n,r,i;return(0,s.b)(this,(function(a){try{for(e=(0,s.t)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())(n=t.value).onPinnedMessageUpdated&&n.onPinnedMessageUpdated(S)}catch(e){r={error:e}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}return[2]}))}))}))),this._dispatcher.dispatch(new s.ao({messages:[T],source:s.a2.EVENT_MESSAGE_UPDATED})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){var e,t,n,r,i;return(0,s.b)(this,(function(a){try{for(e=(0,s.t)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())(n=t.value).onMessageUpdated&&n.onMessageUpdated(S,T),k>0&&n.onMentionReceived&&n.onMentionReceived(S,T)}catch(e){r={error:e}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}return[2]}))}))})),cn.label=6;case 6:return[3,79];case 7:return N=e.as(s.bj),fe=N.channelUrl,pe=N.channelType,Y=N.messageId,O=N.silent,x=N.messageCreatedAt,U=N.senderId,pe!==s.C.GROUP?[3,9]:[4,this.getChannel(fe,!0)];case 8:P=cn.sent(),R=U===this._sdkState.userId,O||R||x>0&&P.myLastRead<x&&P.unreadMessageCount>0&&P._updateUnreadCount(P.unreadMessageCount-1,0),this._dispatcher.dispatch(new s.aX({messageIds:[Y],source:s.a2.EVENT_MESSAGE_DELETED})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){var e,t,n,r,i;return(0,s.b)(this,(function(a){try{for(e=(0,s.t)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())(n=t.value).onMessageDeleted&&n.onMessageDeleted(P,Y)}catch(e){r={error:e}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}return[2]}))}))})),cn.label=9;case 9:return[3,79];case 10:return(H=e.as(a.ac).readStatus).channelType!==s.C.GROUP?[3,12]:(W=this._groupChannelCache.isCachedInMemory(H.channelUrl),[4,this.getChannel(H.channelUrl,!0)]);case 11:F=cn.sent(),W&&F._updateUnreadMemberState(H.reader.userId,H.readAt),H.reader.userId===this._sdkState.userId?W?(F.unreadMessageCount>0||F.unreadMentionCount>0)&&(F._updateUnreadCount(0,0),this._dispatcher.dispatch(new z({channels:[F],context:{source:s.a2.EVENT_CHANNEL_READ}})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){var e,t,n,r,i;return(0,s.b)(this,(function(a){try{for(e=(0,s.t)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())(n=t.value).onChannelChanged&&n.onChannelChanged(F)}catch(e){r={error:e}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}return[2]}))}))}))):0!==F.unreadMessageCount&&0!==F.unreadMentionCount||(this._dispatcher.dispatch(new z({channels:[F],context:{source:s.a2.EVENT_CHANNEL_READ}})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){var e,t,n,r,i;return(0,s.b)(this,(function(a){try{for(e=(0,s.t)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())(n=t.value).onChannelChanged&&n.onChannelChanged(F)}catch(e){r={error:e}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}return[2]}))}))}))):(this._dispatcher.dispatch(new z({channels:[F],context:{source:s.a2.EVENT_CHANNEL_READ}})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){var e,t,n,r,i;return(0,s.b)(this,(function(a){try{for(e=(0,s.t)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())(n=t.value).onUnreadMemberStatusUpdated&&n.onUnreadMemberStatusUpdated(F)}catch(e){r={error:e}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}return[2]}))}))}))),cn.label=12;case 12:return[3,79];case 13:return j=e.as(Ue),fe=j.channelUrl,V=j.deliveredStateUpdate,q=void 0===V?{}:V,W=this._groupChannelCache.isCachedInMemory(fe),[4,this.getChannel(fe,!0)];case 14:return B=cn.sent(),W&&Object.keys(q).forEach((function(e){B._updateUndeliveredMemberState(e,q[e])})),Object.keys(q).some((function(e){return e!==un._sdkState.userId}))&&(this._dispatcher.dispatch(new z({channels:[B],context:{source:s.a2.EVENT_CHANNEL_DELIVERED}})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){var e,t,n,r,i;return(0,s.b)(this,(function(a){try{for(e=(0,s.t)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())(n=t.value).onUndeliveredMemberStatusUpdated&&n.onUndeliveredMemberStatusUpdated(B)}catch(e){r={error:e}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}return[2]}))}))}))),[3,79];case 15:return K=e.as(g),fe=K.channelUrl,pe=K.channelType,Q=K.event,pe!==s.C.GROUP?[3,18]:[4,this.getChannel(fe,!0)];case 16:return J=cn.sent(),[4,this.getMessageFromCache(Q.messageId)];case 17:($=cn.sent())?$ instanceof a.ab&&($.applyReactionEvent(Q),this._dispatcher.dispatch(new s.ao({messages:[$],source:s.a2.EVENT_MESSAGE_REACTION_UPDATED}))):this._dispatcher.dispatch(new s.aS({event:Q,source:s.a2.EVENT_MESSAGE_REACTION_UPDATED})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){var e,t,n,r,i;return(0,s.b)(this,(function(a){try{for(e=(0,s.t)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())(n=t.value).onReactionUpdated&&n.onReactionUpdated(J,Q)}catch(e){r={error:e}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}return[2]}))}))})),cn.label=18;case 18:return[3,79];case 19:return(Z=e.as(y).event).channelType!==s.C.GROUP?[3,22]:[4,this.getChannel(Z.channelUrl,!0)];case 20:return X=cn.sent(),[4,this.getMessageFromCache(Z.targetMessageId)];case 21:($=cn.sent())?$ instanceof a.ab&&($.applyThreadInfoUpdateEvent(Z),this._dispatcher.dispatch(new s.ao({messages:[$],source:s.a2.EVENT_MESSAGE_THREADINFO_UPDATED}))):this._dispatcher.dispatch(new s.aT({event:Z,source:s.a2.EVENT_MESSAGE_THREADINFO_UPDATED})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){var e,t,n,r,i;return(0,s.b)(this,(function(a){try{for(e=(0,s.t)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())(n=t.value).onThreadInfoUpdated&&n.onThreadInfoUpdated(X,Z)}catch(e){r={error:e}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}return[2]}))}))})),cn.label=22;case 22:return[3,79];case 23:ee=e.as(v).groupChannelMemberCounts,te=[],cn.label=24;case 24:cn.trys.push([24,29,30,31]),ne=(0,s.t)(ee),re=ne.next(),cn.label=25;case 25:return re.done?[3,28]:(ie=re.value,fe=ie.channelUrl,et=ie.memberCount,tt=ie.joinedMemberCount,se=ie.updatedAt,[4,this.getChannelFromCache(fe)]);case 26:(ae=cn.sent())&&ae._setLatestMemberCount(et,tt,se)&&te.push(ae),cn.label=27;case 27:return re=ne.next(),[3,25];case 28:return[3,31];case 29:return oe=cn.sent(),$t={error:oe},[3,31];case 30:try{re&&!re.done&&(en=ne.return)&&en.call(ne)}finally{if($t)throw $t.error}return[7];case 31:return te.length>0&&(this._dispatcher.dispatch(new z({channels:te,context:{source:s.a2.EVENT_CHANNEL_MEMBER_COUNT_UPDATED}})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){var e,t,n,r,i;return(0,s.b)(this,(function(a){try{for(e=(0,s.t)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())(n=t.value).onChannelMemberCountChanged&&n.onChannelMemberCountChanged(te)}catch(e){r={error:e}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}return[2]}))}))}))),[3,79];case 32:return ue=e.as(b),ce=ue.event,le=ue.status,fe=ue.channelUrl,pe=ue.channelType,fe&&pe===s.C.GROUP?[4,this.getChannel(fe,!0)]:[3,34];case 33:de=cn.sent(),this._dispatcher.dispatch(new s.aU({event:ce,source:s.a2.EVENT_POLL_UPDATED})),(0,s.G)(le===s.bk?function(){return(0,s._)(un,void 0,void 0,(function(){var e,t,n,r,i;return(0,s.b)(this,(function(a){try{for(e=(0,s.t)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())(n=t.value).onPollDeleted&&n.onPollDeleted(de,ce.pollId)}catch(e){r={error:e}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}return[2]}))}))}:function(){return(0,s._)(un,void 0,void 0,(function(){var e,t,n,r,i;return(0,s.b)(this,(function(a){try{for(e=(0,s.t)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())(n=t.value).onPollUpdated&&n.onPollUpdated(de,ce)}catch(e){r={error:e}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}return[2]}))}))}),cn.label=34;case 34:return[3,79];case 35:return he=e.as(a.aa),_e=he.event,fe=he.channelUrl,pe=he.channelType,fe&&pe===s.C.GROUP?[4,this.getChannel(fe,!0)]:[3,37];case 36:ge=cn.sent(),this._dispatcher.dispatch(new s.aN({event:_e,source:s.a2.EVENT_POLL_VOTED})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){var e,t,n,r,i;return(0,s.b)(this,(function(a){try{for(e=(0,s.t)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())(n=t.value).onPollVoted&&n.onPollVoted(ge,_e)}catch(e){r={error:e}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}return[2]}))}))})),cn.label=37;case 37:return[3,79];case 38:if(!(ve=e.as(d).event).isGroupChannelEvent)return[3,77];switch(ve.category){case r.CHANNEL_JOIN:return[3,39];case r.CHANNEL_LEAVE:return[3,41];case r.CHANNEL_OPERATOR_UPDATE:return[3,45];case r.CHANNEL_INVITE:return[3,47];case r.CHANNEL_DECLINE_INVITE:return[3,49];case r.TYPING_START:case r.TYPING_END:return[3,51];case r.USER_CHANNEL_MUTE:case r.USER_CHANNEL_UNMUTE:return[3,53];case r.USER_CHANNEL_BAN:return[3,55];case r.USER_CHANNEL_UNBAN:return[3,59];case r.CHANNEL_FREEZE:case r.CHANNEL_UNFREEZE:return[3,61];case r.CHANNEL_HIDE:return[3,63];case r.CHANNEL_UNHIDE:return[3,65];case r.CHANNEL_DELETED:return[3,67];case r.CHANNEL_PROP_CHANGED:return[3,69];case r.CHANNEL_META_DATA_CHANGED:return[3,71];case r.CHANNEL_META_COUNTERS_CHANGED:return[3,73];case r.PINNED_MESSAGE_CHANGED:return[3,75]}return[3,77];case 39:return[4,this.getChannel(ve.channelUrl,!0)];case 40:return be=cn.sent(),Ee=e.as(me),we=Ee.memberCount,Te=Ee.joinedMemberCount,ke=Ee.members,De=!1,ke.forEach((function(e){be.isExclusive||be.isSuper||be.isBroadcast?De=De||be._setLatestMemberCount(we,Te,ve.ts):(e.state=c.JOINED,be.addMember(e,ve.ts),un._updateJoinedMemberCount(be)),e.userId===un._sdkState.userId&&(be.myMemberState=c.JOINED)})),this._dispatcher.dispatch(new z({channels:[be],context:{source:s.a2.EVENT_CHANNEL_JOINED,users:ke}})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){var t,n;try{for(var r=(0,s.t)(ke),i=r.next();!i.done;i=r.next()){var a=i.value;e.onUserJoined&&e.onUserJoined(be,a)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}be.isBroadcast&&De&&e.onChannelMemberCountChanged&&e.onChannelMemberCountChanged([be])})),[2]}))}))})),[3,77];case 41:return(_t=this._leftChannels.get(ve.channelUrl))?(Ye=_t.channel,[3,44]):[3,42];case 42:return[4,this.getChannel(ve.channelUrl,!0)];case 43:Ye=cn.sent(),cn.label=44;case 44:return Ae=Ye,Oe=e.as(ye),et=Oe.memberCount,tt=Oe.joinedMemberCount,xe=Oe.member,Pe=!1,Re=s.V.of(this._iid).appInfo,Ae.isExclusive||Ae.isSuper||Ae.isBroadcast?Pe=Ae._setLatestMemberCount(et,tt,ve.ts):((null==Re?void 0:Re.enabledChannelMemberShipHistory)?((He=Ae.members.find((function(e){return e.userId===xe.userId})))&&(He.state=c.LEFT),Ae.memberCount=et):Ae.removeMember(xe),this._updateJoinedMemberCount(Ae)),xe.userId===this._sdkState.userId?(Ae.myMemberState=c.NONE,Ae.invitedAt=0,Ae.joinedAt=0,Ae._updateUnreadCount(0,0),Ae.isPublic?this._dispatcher.dispatch(new z({channels:[Ae],context:{source:s.a2.EVENT_CHANNEL_LEFT,user:xe}})):(this._markAsLeave(Ae),this._dispatcher.dispatch(new G({channelUrls:[Ae.url],context:{source:s.a2.EVENT_CHANNEL_LEFT,user:xe}})))):this._dispatcher.dispatch(new z({channels:[Ae],context:{source:s.a2.EVENT_CHANNEL_LEFT,user:xe}})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onUserLeft&&e.onUserLeft(Ae,xe),Ae.isBroadcast&&Pe&&e.onChannelMemberCountChanged&&e.onChannelMemberCountChanged([Ae])})),[2]}))}))})),[3,77];case 45:return[4,this.getChannel(ve.channelUrl,!0)];case 46:Fe=cn.sent(),je=e.as(h).operators,Ve=je.map((function(e){return e.userId}));try{for(qe=(0,s.t)(Fe.members),ze=qe.next();!ze.done;ze=qe.next())(ht=ze.value).role=Ve.includes(ht.userId)?s.a8.OPERATOR:s.a8.NONE}catch(e){tn={error:e}}finally{try{ze&&!ze.done&&(nn=qe.return)&&nn.call(qe)}finally{if(tn)throw tn.error}}return Fe.myRole=Ve.includes(this._sdkState.userId)?s.a8.OPERATOR:s.a8.NONE,this._dispatcher.dispatch(new z({channels:[Fe],context:{source:s.a2.EVENT_CHANNEL_OPERATOR_UPDATED,operators:je}})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onOperatorUpdated&&e.onOperatorUpdated(Fe,je)})),[2]}))}))})),[3,77];case 47:return[4,this.getChannel(ve.channelUrl,!0)];case 48:Ge=cn.sent(),We=e.as(Me),et=We.memberCount,tt=We.joinedMemberCount,Be=We.inviter,(Ke=We.invitees).forEach((function(e){return e.state=c.INVITED}));try{for(Qe=(0,s.t)(Ke),Je=Qe.next();!Je.done;Je=Qe.next())Ze=Je.value,Ge.isExclusive||Ge.isSuper||Ge.isBroadcast?Ge._setLatestMemberCount(et,tt,ve.ts):Ge.addMember(Ze,ve.ts),this._sdkState.userId===Ze.userId&&(Ge.hiddenState=kt.UNHIDDEN,Ge.myMemberState!==c.JOINED&&(Ge.myMemberState=c.INVITED),Ge.invitedAt=ve.ts)}catch(e){rn={error:e}}finally{try{Je&&!Je.done&&(sn=Qe.return)&&sn.call(Qe)}finally{if(rn)throw rn.error}}return this._dispatcher.dispatch(new z({channels:[Ge],context:{source:s.a2.EVENT_CHANNEL_INVITED,inviter:Be,invitees:Ke}})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onUserReceivedInvitation&&e.onUserReceivedInvitation(Ge,Be,Ke)})),[2]}))}))})),[3,77];case 49:return[4,this.getChannel(ve.channelUrl,!0)];case 50:return Xe=cn.sent(),$e=e.as(Le),et=$e.memberCount,tt=$e.joinedMemberCount,nt=$e.inviter,rt=$e.invitee,Xe.isExclusive||Xe.isSuper||Xe.isBroadcast?Xe._setLatestMemberCount(et,tt,ve.ts):Xe.removeMember(rt),this._sdkState.userId===rt.userId?(Xe.invitedAt=0,Xe.myMemberState=c.NONE,Xe.isPublic?this._dispatcher.dispatch(new z({channels:[Xe],context:{source:s.a2.EVENT_CHANNEL_DECLINED_INVITE,inviter:nt,invitee:rt}})):this._dispatcher.dispatch(new G({channelUrls:[Xe.url],context:{source:s.a2.EVENT_CHANNEL_DECLINED_INVITE,inviter:nt,invitee:rt}}))):this._dispatcher.dispatch(new z({channels:[Xe],context:{source:s.a2.EVENT_CHANNEL_DECLINED_INVITE,inviter:nt,invitee:rt}})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onUserDeclinedInvitation&&e.onUserDeclinedInvitation(Xe,nt,rt)})),[2]}))}))})),[3,77];case 51:return[4,this.getChannel(ve.channelUrl,!0)];case 52:return it=cn.sent(),st=ve.category===r.TYPING_START,at=e.as(st?Ce:Ie).user,it._updateTypingStatus(at,st?ve.ts:0),this._dispatcher.dispatch(new z({channels:[it],context:{source:s.a2.EVENT_CHANNEL_TYPING_STATUS_UPDATE}})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onTypingStatusUpdated&&e.onTypingStatusUpdated(it)})),[2]}))}))})),[3,77];case 53:return[4,this.getChannel(ve.channelUrl,!0)];case 54:ot=cn.sent(),ut=ve.category===r.USER_CHANNEL_MUTE,(ct=e.as(ut?a.a8:a.a9).user).userId===this._sdkState.userId&&(ot.myMutedState=ut?s.bf.MUTED:s.bf.UNMUTED,ot._myMutedRemainingTime=ct.restrictionInfo.remainingDuration);try{for(lt=(0,s.t)(ot.members),dt=lt.next();!dt.done;dt=lt.next())if((ht=dt.value).userId===ct.userId){ht.isMuted=ut;break}}catch(e){an={error:e}}finally{try{dt&&!dt.done&&(on=lt.return)&&on.call(lt)}finally{if(an)throw an.error}}return this._dispatcher.dispatch(new z({channels:[ot],context:{source:ut?s.a2.EVENT_CHANNEL_MUTED:s.a2.EVENT_CHANNEL_UNMUTED,user:ct}})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){ut?e.onUserMuted&&e.onUserMuted(ot,ct):e.onUserUnmuted&&e.onUserUnmuted(ot,ct)})),[2]}))}))})),[3,77];case 55:return(_t=this._leftChannels.get(ve.channelUrl))?(pt=_t.channel,[3,58]):[3,56];case 56:return[4,this.getChannel(ve.channelUrl,!0)];case 57:pt=cn.sent(),cn.label=58;case 58:return ft=pt,this._markAsLeave(ft),(mt=e.as(a.a7).user).userId===this._sdkState.userId&&this._dispatcher.dispatch(new G({channelUrls:[ft.url],context:{source:s.a2.EVENT_CHANNEL_BANNED,user:mt}})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onUserBanned&&e.onUserBanned(ft,mt)})),[2]}))}))})),[3,77];case 59:return[4,this.getChannel(ve.channelUrl,!0)];case 60:return gt=cn.sent(),(yt=e.as(a.a6).user).userId===this._sdkState.userId&&this._dispatcher.dispatch(new G({channelUrls:[gt.url],context:{source:s.a2.EVENT_CHANNEL_UNBANNED,user:yt}})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onUserUnbanned&&e.onUserUnbanned(gt,yt)})),[2]}))}))})),[3,77];case 61:return[4,this.getChannel(ve.channelUrl,!0)];case 62:return vt=cn.sent(),bt=e.as(a.a5).freeze,vt.isFrozen=bt,this._dispatcher.dispatch(new z({channels:[vt],context:{source:bt?s.a2.EVENT_CHANNEL_FROZEN:s.a2.EVENT_CHANNEL_UNFROZEN}})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){bt?e.onChannelFrozen&&e.onChannelFrozen(vt):e.onChannelUnfrozen&&e.onChannelUnfrozen(vt)})),[2]}))}))})),[3,77];case 63:return[4,this.getChannel(ve.channelUrl,!0)];case 64:return Mt=cn.sent(),Et=e.as(Se),Lt=Et.allowAutoUnhide,wt=Et.hidePreviousMessages,Tt=Et.messageOffsetTimestamp,null!==Lt&&(Mt.hiddenState=Lt?kt.HIDDEN_ALLOW_AUTO_UNHIDE:kt.HIDDEN_PREVENT_AUTO_UNHIDE),null!==wt&&wt&&Mt._updateUnreadCount(0,0),null!==Tt&&(Mt.messageOffsetTimestamp=Tt),this._dispatcher.dispatch(new z({channels:[Mt],context:{source:s.a2.EVENT_CHANNEL_HIDDEN}})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onChannelHidden&&e.onChannelHidden(Mt)})),[2]}))}))})),[3,77];case 65:return[4,this.getChannel(ve.channelUrl,!0)];case 66:return(St=cn.sent()).hiddenState=kt.UNHIDDEN,this._dispatcher.dispatch(new z({channels:[St],context:{source:s.a2.EVENT_CHANNEL_UNHIDDEN}})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onChannelChanged&&e.onChannelChanged(St)})),[2]}))}))})),[3,77];case 67:return[4,this.getChannel(ve.channelUrl,!0)];case 68:return Dt=cn.sent(),this._dispatcher.dispatch(new G({channelUrls:[ve.channelUrl],context:{source:s.a2.EVENT_CHANNEL_DELETED}})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onChannelDeleted&&e.onChannelDeleted(Dt.url,Dt.channelType)})),[2]}))}))})),[3,77];case 69:return[4,this.getChannelWithoutCache(ve.channelUrl,!0)];case 70:return Ct=cn.sent(),this._dispatcher.dispatch(new z({channels:[Ct],context:{source:s.a2.EVENT_CHANNEL_UPDATED}})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onChannelChanged&&e.onChannelChanged(Ct)})),[2]}))}))})),[3,77];case 71:return[4,this.getChannel(ve.channelUrl,!0)];case 72:return At=cn.sent(),It=e.as(a.a4),Nt=It.created,Yt=It.updated,Ot=It.deleted,Nt&&(At._upsertCachedMetaData(Nt,ve.ts),this._dispatcher.dispatch(new z({channels:[At],context:{source:s.a2.EVENT_CHANNEL_METADATA_CREATED,metaData:Nt},ts:ve.ts}))),Yt&&(At._upsertCachedMetaData(Yt,ve.ts),this._dispatcher.dispatch(new z({channels:[At],context:{source:s.a2.EVENT_CHANNEL_METADATA_UPDATED,metaData:Yt},ts:ve.ts}))),Ot&&(At._removeFromCachedMetaData(Ot,ve.ts),this._dispatcher.dispatch(new z({channels:[At],context:{source:s.a2.EVENT_CHANNEL_METADATA_DELETED,metaDataKeys:Ot},ts:ve.ts}))),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){Nt&&e.onMetaDataCreated&&e.onMetaDataCreated(At,Nt),Yt&&e.onMetaDataUpdated&&e.onMetaDataUpdated(At,Yt),Ot&&e.onMetaDataDeleted&&e.onMetaDataDeleted(At,Ot)})),[2]}))}))})),[3,77];case 73:return[4,this.getChannel(ve.channelUrl,!0)];case 74:return xt=cn.sent(),Ut=e.as(a.a3),Pt=Ut.created,Rt=Ut.updated,Ht=Ut.deleted,Pt&&this._dispatcher.dispatch(new z({channels:[xt],context:{source:s.a2.EVENT_CHANNEL_METACOUNTER_CREATED,metaCounters:Pt}})),Rt&&this._dispatcher.dispatch(new z({channels:[xt],context:{source:s.a2.EVENT_CHANNEL_METACOUNTER_UPDATED,metaCounters:Rt}})),Ht&&this._dispatcher.dispatch(new z({channels:[xt],context:{source:s.a2.EVENT_CHANNEL_METACOUNTER_DELETED,metaCounterKeys:Ht}})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){Pt&&e.onMetaCounterCreated&&e.onMetaCounterCreated(xt,Pt),Rt&&e.onMetaCounterUpdated&&e.onMetaCounterUpdated(xt,Rt),Ht&&e.onMetaCounterDeleted&&e.onMetaCounterDeleted(xt,Ht)})),[2]}))}))})),[3,77];case 75:return[4,this.getChannel(ve.channelUrl,!0)];case 76:return Ft=cn.sent(),jt=e.as(_),Vt=jt.pinnedMessageIds,qt=jt.latestPinnedMessage,(zt=jt.ts)>Ft._pinnedMessagesUpdatedAt&&(Ft.pinnedMessageIds=null!=Vt?Vt:[],Ft.lastPinnedMessage=qt,Ft._pinnedMessagesUpdatedAt=zt,this._dispatcher.dispatch(new z({channels:[Ft],context:{source:s.a2.EVENT_PINNED_MESSAGE_UPDATED}})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){var e,t,n,r,i;return(0,s.b)(this,(function(a){try{for(e=(0,s.t)(this._groupChannelHandlers.values()),t=e.next();!t.done;t=e.next())(n=t.value).onChannelChanged&&n.onChannelChanged(Ft)}catch(e){r={error:e}}finally{try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}}return[2]}))}))})),(0,s.G)((function(){return(0,s._)(un,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return this._groupChannelHandlers.forEach((function(e){e.onPinnedMessageUpdated&&e.onPinnedMessageUpdated(Ft)})),[2]}))}))}))),[3,77];case 77:return[3,79];case 78:switch((Gt=e.as(o.U).event).category){case o.a.USER_BLOCK:Wt=o.b.getDataAsUserBlockEvent(this._iid,Gt),Kt=Wt.blocker,Qt=Wt.blockee,this._groupChannelCache.block(Kt.userId,Qt.userId);break;case o.a.USER_UNBLOCK:Bt=o.b.getDataAsUserBlockEvent(this._iid,Gt),Kt=Bt.blocker,Qt=Bt.blockee,this._groupChannelCache.unblock(Kt.userId,Qt.userId)}return[3,79];case 79:return[3,81];case 80:if(Jt=cn.sent(),(0,s.O)(Jt))throw Jt;return[3,81];case 81:return[2]}}))}))},t.prototype._markAsLeave=function(e){var t,n=this,r=null!==(t=this._leftChannels.get(e.url))&&void 0!==t?t:{channel:e,ref:0};r.ref++,this._leftChannels.set(e.url,r),setTimeout((function(){r.ref--,0===r.ref&&n._leftChannels.delete(e.url)}),1e4)},t.prototype.addHandler=function(e,t){this._groupChannelHandlers.set(e,t)},t.prototype.removeHandler=function(e){this._groupChannelHandlers.delete(e)},t.prototype.clearHandler=function(){this._groupChannelHandlers.clear()},t.prototype.subscribeChannelEvent=function(e,t){this._groupChannelBroadcast.subscribe(e,t)},t.prototype.unsubscribeChannelEvent=function(e){this._groupChannelBroadcast.unsubscribe(e)},t.prototype._updateJoinedMemberCount=function(e){e.joinedMemberCount=e.members.filter((function(e){return e.state===c.JOINED})).length},t.prototype.getChannel=function(e,t){return void 0===t&&(t=!1),(0,s._)(this,void 0,void 0,(function(){var n;return(0,s.b)(this,(function(r){switch(r.label){case 0:(0,s.w)((0,s.a)("string",e)).throw(s.s.invalidParameters),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.getChannelFromCache(e)];case 2:return(n=r.sent())?[2,n]:[3,4];case 3:return r.sent(),[3,4];case 4:return[4,this.getChannelWithoutCache(e,t)];case 5:return[2,r.sent()]}}))}))},t.prototype.getChannelWithoutCache=function(e,t){return void 0===t&&(t=!1),(0,s._)(this,void 0,void 0,(function(){var n,r,i,a,o;return(0,s.b)(this,(function(u){switch(u.label){case 0:return(0,s.w)((0,s.a)("string",e)).throw(s.s.invalidParameters),n=new Q({channelUrl:e,isInternalCall:t}),[4,this._requestQueue.send(n)];case 1:switch(r=u.sent(),i=r.as(J).channel,a=i.unreadMessageCount,o=i.unreadMentionCount,i.myCountPreference){case Tt.UNREAD_MESSAGE_COUNT_ONLY:o=0;break;case Tt.UNREAD_MENTION_COUNT_ONLY:a=0;break;case Tt.OFF:a=0,o=0}return i._updateUnreadCount(a,o),[4,this.upsertChannelsToCache([i])];case 2:return[2,u.sent()[0]]}}))}))},t.prototype.refreshChannel=function(e,t,n,r){return void 0===t&&(t=!0),void 0===n&&(n=s.a2.REFRESH_CHANNEL),void 0===r&&(r=!1),(0,s._)(this,void 0,void 0,(function(){var i,a,o,u,l;return(0,s.b)(this,(function(d){switch(d.label){case 0:return d.trys.push([0,5,,6]),i=new Q({channelUrl:e,isInternalCall:t,showLatestMessage:r}),[4,this._requestQueue.send(i)];case 1:return a=d.sent(),(o=a.as(J).channel).myMemberState!==c.NONE?[3,2]:(this._dispatcher.dispatch(new G({channelUrls:[o.url],context:{source:n}})),[3,4]);case 2:return[4,this.upsertChannelsToCache([o])];case 3:u=d.sent(),this._dispatcher.dispatch(new z({channels:u,context:{source:n}})),d.label=4;case 4:return[3,6];case 5:return(l=d.sent()).code!==s.a9.NON_AUTHORIZED&&l.code!==s.a9.NOT_FOUND_IN_DATABASE||this._dispatcher.dispatch(new G({channelUrls:[e],context:{source:n}})),[3,6];case 6:return[2]}}))}))},t.prototype.getMyGroupChannels=function(e,t,n,r,i){return void 0===r&&(r=s.a2.REQUEST_CHANNEL),void 0===i&&(i=!1),(0,s._)(this,void 0,void 0,(function(){var a,o,u,c,l,d,h,_,f;return(0,s.b)(this,(function(p){switch(p.label){case 0:return t.createdAfter&&(t.createdAfter=Math.floor(t.createdAfter/1e3)),t.createdBefore&&(t.createdBefore=Math.floor(t.createdBefore/1e3)),a=!1,i&&(o=s.V.of(this._iid),u=o.appInfo,(c=o.cacheContext)&&!c.localCacheEnabled&&(null==u?void 0:u.enabledChannelMemberShipHistory)&&(null==u?void 0:u.applicationAttributes.includes("left_user_view_support"))&&(a=!0)),l=new X((0,s.g)((0,s.g)({},t),{userId:this._sdkState.userId,token:e,limit:n,includeLeftChannel:i&&a})),[4,this._requestQueue.send(l)];case 1:return d=p.sent(),h=d.as($),_=h.channels,f=h.token,this._dispatcher.dispatch(new z({channels:_,context:{source:r}})),[2,{channels:_,token:f}]}}))}))},t.prototype.getMyGroupChannelChangeLogs=function(e,t,n){return void 0===n&&(n=s.a2.REQUEST_CHANNEL_CHANGELOGS),(0,s._)(this,void 0,void 0,(function(){var r,i,a,o,u,c,l,d;return(0,s.b)(this,(function(h){switch(h.label){case 0:return r=(0,s.g)((0,s.g)({},U),t),(0,s.w)(((0,s.a)("string",e)||(0,s.a)("number",e))&&P(r)).throw(s.s.invalidParameters),i=new B((0,s.u)({userId:this._sdkState.userId,ts:"number"==typeof e?e:null,token:"string"==typeof e?e:null,filter:r})),[4,this._requestQueue.send(i)];case 1:return a=h.sent(),o=a.as(K),u=o.updatedChannels,c=o.deletedChannelUrls,l=o.hasMore,d=o.ts,u.length>0&&this._dispatcher.dispatch(new z({channels:u,context:{source:n},ts:d})),c.length>0&&this._dispatcher.dispatch(new G({channelUrls:c,context:{source:n}})),[2,{updatedChannels:u,deletedChannelUrls:c,hasMore:l,token:o.token}]}}))}))},t.prototype.getGroupChannelCount=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return t=(0,s.g)((0,s.g)({},R),e),(0,s.w)(H(t)).throw(s.s.invalidParameters),n=new ee({userId:this._sdkState.userId,filter:t}),[4,this._requestQueue.send(n)];case 1:return[2,r.sent().as(te).groupChannelCount]}}))}))},t.prototype.getUnreadItemCount=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u,c,l,d,h,_,f,p,m,g;return(0,s.b)(this,(function(y){switch(y.label){case 0:return t=(0,s.g)((0,s.g)({},F),e),(0,s.w)(function(e){return(0,s.Q)(I,e.keys)&&(0,s.Q)("string",e.customTypeFilters,!0)&&(0,s.Q)("string",e.customTypesFilter,!0)}(t)).throw(s.s.invalidParameters),n=s.V.of(this._iid),r=n.sdkState,i=n.requestQueue,a=new ne({userId:r.userId,filter:t}),[4,i.send(a)];case 1:return o=y.sent(),u=o.as(re),c=u.groupChannelUnreadMentionCount,l=u.groupChannelUnreadMessageCount,d=u.groupChannelInvitationCount,h=u.superGroupChannelUnreadMentionCount,_=u.superGroupChannelUnreadMessageCount,f=u.superGroupChannelInvitationCount,p=u.nonSuperGroupChannelUnreadMentionCount,m=u.nonSuperGroupChannelUnreadMessageCount,g=u.nonSuperGroupChannelInvitationCount,[2,(0,s.e)({groupChannelUnreadMentionCount:c,groupChannelUnreadMessageCount:l,groupChannelInvitationCount:d,superGroupChannelUnreadMentionCount:h,superGroupChannelUnreadMessageCount:_,superGroupChannelInvitationCount:f,nonSuperGroupChannelUnreadMentionCount:p,nonSuperGroupChannelUnreadMessageCount:m,nonSuperGroupChannelInvitationCount:g})]}}))}))},t.prototype.getTotalUnreadChannelCount=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r;return(0,s.b)(this,(function(i){switch(i.label){case 0:return e=s.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new ie({userId:t.userId}),[4,n.send(r)];case 1:return[2,i.sent().as(se).unreadCount]}}))}))},t.prototype.getTotalUnreadMessageCount=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a;return(0,s.b)(this,(function(o){switch(o.label){case 0:return t=(0,s.g)((0,s.g)({},j),e),(0,s.w)(function(e){return(0,s.Q)("string",e.channelCustomTypesFilter,!0)&&(0,s.X)(L,e.superChannelFilter)}(t)).throw(s.s.invalidParameters),n=s.V.of(this._iid),r=n.sdkState,i=n.requestQueue,a=new ae({userId:r.userId,filter:t}),[4,i.send(a)];case 1:return[2,o.sent().as(oe).unreadCount]}}))}))},t.prototype.getTotalScheduledMessageCount=function(e){return void 0===e&&(e={}),(0,s._)(this,void 0,void 0,(function(){var t,n,r;return(0,s.b)(this,(function(i){switch(i.label){case 0:return t=(0,s.g)((0,s.g)({},V),e),(0,s.w)(function(e){return(0,s.a)("string",e.channelUrl,!0)&&(0,s.Q)(a.V,e.scheduledStatus,!0)&&(0,s.X)(s.ar,e.messageTypeFilter)}(t)).throw(s.s.invalidParameters),n=s.V.of(this._iid).requestQueue,r=new ue(t),[4,n.send(r)];case 1:return[2,i.sent().as(ce).count]}}))}))},t.prototype.getSubscribedTotalUnreadMessageCount=function(){var e=s.V.of(this._iid).subscribedUnreadMessageCount;return e.all>=0?e.all:0},t.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){var e=0,t=s.V.of(this._iid).subscribedUnreadMessageCount;return Object.keys(t.customTypes).forEach((function(n){e+=t.customTypes[n]})),e},t.prototype.getSubscribedCustomTypeUnreadMessageCount=function(e){var t;return null!==(t=s.V.of(this._iid).subscribedUnreadMessageCount.customTypes[e])&&void 0!==t?t:0},t.prototype.createChannel=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i;return(0,s.b)(this,(function(a){switch(a.label){case 0:return t=(0,s.g)((0,s.g)({},O),e),(0,s.w)(x(t)).throw(s.s.invalidParameters),t.isPublic||(t.accessCode=void 0),n=new de((0,s.g)({userId:this._sdkState.userId},t)),[4,this._requestQueue.send(n)];case 1:return r=a.sent(),i=r.as(he).channel,[4,this.upsertChannelsToCache([i])];case 2:return a.sent(),[2,i]}}))}))},t.prototype.markAsReadAll=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a,o,u;return(0,s.b)(this,(function(c){switch(c.label){case 0:return e=Date.now(),(0,s.w)(e-this._markAsReadAllLastSentAt>=1e3).throw(s.s.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=e,t=new _e({userId:this._sdkState.userId}),[4,this._requestQueue.send(t)];case 1:c.sent(),n=this._groupChannelCache.channels;try{for(r=(0,s.t)(n),i=r.next();!i.done;i=r.next())(a=i.value)._updateUnreadMemberState(this._sdkState.userId,e),a._updateUnreadCount(0,0)}catch(e){o={error:e}}finally{try{i&&!i.done&&(u=r.return)&&u.call(r)}finally{if(o)throw o.error}}return n.length>0?[4,this.upsertChannelsToCache(n)]:[3,3];case 2:c.sent(),c.label=3;case 3:return[2]}}))}))},t.prototype.markAsReadWithChannelUrls=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u,c,l;return(0,s.b)(this,(function(d){switch(d.label){case 0:return t=Date.now(),(0,s.w)((0,s.Q)("string",e)&&t-this._markAsReadAllLastSentAt>=1e3).throw(s.s.markAsReadAllRateLimitExceeded),this._markAsReadAllLastSentAt=t,n=new _e({userId:this._sdkState.userId,channelUrls:e}),[4,this._requestQueue.send(n)];case 1:d.sent(),r=this._groupChannelCache.channels,i=[];try{for(a=(0,s.t)(r),o=a.next();!o.done;o=a.next())u=o.value,e.includes(u.url)&&(u._updateUnreadMemberState(this._sdkState.userId,t),u._updateUnreadCount(0,0),i.push(u))}catch(e){c={error:e}}finally{try{o&&!o.done&&(l=a.return)&&l.call(a)}finally{if(c)throw c.error}}return i.length>0?[4,this.upsertChannelsToCache(i)]:[3,3];case 2:d.sent(),d.label=3;case 3:return[2]}}))}))},t.prototype.markAsDelivered=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,this.getChannel(e)];case 1:return[4,t.sent().markAsDelivered()];case 2:return t.sent(),[2]}}))}))},t.prototype.getMessageFromCache=function(e){var t;return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,this._messageCache.get(e)];case 1:return[2,null!==(t=n.sent())&&void 0!==t?t:null]}}))}))},t.prototype.getExactlyMatchingMessagesForTokenFromCache=function(e,t,n){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(r){switch(r.label){case 0:return[4,this._messageCache.fetch({channelUrl:e,token:t,filter:n,exactMatch:!0})];case 1:return[2,r.sent()]}}))}))},t.prototype.getMessagesFromCache=function(e,t,n,r,i,o){return void 0===i&&(i=a.aj),void 0===o&&(o=!0),(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(s){switch(s.label){case 0:return[4,this._messageCache.fetch({channelUrl:e,token:t,limit:i,filter:r,backward:"next"===n,inclusive:o})];case 1:return[2,s.sent()]}}))}))},t.prototype.getPollMessagesFromCache=function(e,t,n,r){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(i){switch(i.label){case 0:return[4,this._messageCache.fetch({channelUrl:e,token:t,limit:r,filter:n,backward:!1,isPollOnly:!0})];case 1:return[2,i.sent()]}}))}))},t.prototype.getCachedMessageCountBetween=function(e,t,n,r){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(i){switch(i.label){case 0:return[4,this._messageCache.countBetween(e,t,new Pe({top:n,bottom:r}))];case 1:return[2,i.sent()]}}))}))},t.prototype.getUnsentMessagesFromCache=function(e,t){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,this._unsentMessageCache.fetch({channelUrl:e,filter:t})];case 1:return[2,n.sent()]}}))}))},t.prototype.removeFailedMessageFromCache=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,this._unsentMessageCache.remove([e])];case 1:return t.sent(),[2]}}))}))},t}(f),Fe=function(e,t){return t instanceof a.ad?e.findIndex((function(e){return e instanceof a.ad&&t.isIdentical(e)})):e.findIndex((function(e){return e.isIdentical(t)}))},je=function(e,t){return e.findIndex((function(e){return e instanceof a.ab?e.messageId===t:e instanceof a.ak?e.notificationId===t:void 0}))},Ve=function(e,t){if(e.length>0){for(var n=0,r=e.length-1,i=Math.floor((n+r)/2);n<r;){var s=e[i].createdAt-t.createdAt;if(s>0)r=i,i=Math.floor((n+r)/2);else{if(!(s<0))return i;n=i+1,i=Math.floor((n+r)/2)}}return e[i].createdAt>t.createdAt?i:i+1}return e.length};!function(e){e[e.IDLE=0]="IDLE",e[e.RUNNING=1]="RUNNING",e[e.END=2]="END"}(xe||(xe={}));var qe,ze=function(e){function t(t,n,r,i){var s=e.call(this)||this;return s._state=xe.IDLE,s._retryCount=0,s._retryLimit=3,s.priority=0,s._worker=n,s}return(0,s.c)(t,e),Object.defineProperty(t.prototype,"isIdle",{get:function(){return this._state===xe.IDLE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRunning",{get:function(){return this._state===xe.RUNNING},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isDone",{get:function(){return this._state===xe.END},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"retryCount",{get:function(){return this._retryCount},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"retryLimit",{get:function(){return this._retryLimit},enumerable:!1,configurable:!0}),t.prototype._run=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:if(!this.isRunning)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._worker(e)];case 2:return t=r.sent(),this._retryCount=0,this.dispatch("progress",t),t.hasNext?this._run(t.nextToken):this.end(),[3,4];case 3:return n=r.sent(),this.dispatch("error",n),this._retryCount<this._retryLimit?(this._retryCount++,this._run(e)):this.stop(),[3,4];case 4:return[2]}}))}))},t.prototype.start=function(e){this.isIdle&&(this._state=xe.RUNNING,this._run(e))},t.prototype.stop=function(){this._state=xe.IDLE,this.dispatch("stop")},t.prototype.end=function(){this._state=xe.END,this.dispatch("end")},t}(s.E),Ge={},We=function(){function e(e){var t=e._iid,n=e.channel,r=e.limit,i=void 0===r?100:r,o=this;this.ref=0,this._iid=t,this._channel=n,this._limit=i,this._prevSyncLoopCount=0;var u,c,l=s.V.of(this._iid),d=l.sdkState,h=l.cacheContext,_=l.dispatcher,f=l.logger,p=l.statManager,m=l.messageBackgroundSyncThrottleController;this._metadataKey=(u=d.userId,c=n.url,"sendbird:".concat(u,"@groupchannel/").concat(c,"/message/sync.meta"));var g=function(e,t){return"sendbird:".concat(e,"@groupchannel/").concat(t,"/message/sync")}(d.userId,n.url);this._prevSync=new ze(g,(function(e){return(0,s._)(o,void 0,void 0,(function(){var t=this;return(0,s.b)(this,(function(r){switch(r.label){case 0:return[4,m.run("message-background-sync-".concat(n.url,"-prev"),(function(){return(0,s._)(t,void 0,void 0,(function(){var t,r,i,o,u,c,l,d,_,m,g,y;return(0,s.b)(this,(function(v){switch(v.label){case 0:return t={hasNext:!0,nextToken:0},this._prevSyncLoopCount++,[4,this.loadMetadata()];case 1:if(v.sent(),f.debug("message background prev sync from",null===(c=this._metadata)||void 0===c?void 0:c.range.top),null===(l=this._metadata)||void 0===l?void 0:l.previousComplete)return[3,10];v.label=2;case 2:return v.trys.push([2,5,8,9]),[4,a.al.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,(null===(_=null===(d=this._metadata)||void 0===d?void 0:d.range)||void 0===_?void 0:_.top)?this._metadata.range.top:e,{prevResultSize:this._limit,nextResultSize:0,replyType:s.az.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0,isInclusive:!0},s.a2.SYNC_MESSAGE_BACKGROUND)];case 3:return(r=v.sent()).length>0&&(i=r.map((function(e){return e.createdAt})),(null===(m=this._metadata)||void 0===m?void 0:(u=m.range).intersect.apply(u,(0,s.p)([],(0,s.q)(i),!1)))?this.extendRange(r):this._metadata={range:new Pe({top:Math.min.apply(Math,(0,s.p)([],(0,s.q)(i),!1)),bottom:Math.max.apply(Math,(0,s.p)([],(0,s.q)(i),!1))}),previousComplete:!1}),t.hasNext=r.length>=this._limit&&this._prevSyncLoopCount<1,this._metadata&&(t.nextToken=this._metadata.range.top,this._metadata.previousComplete=r.length<this._limit),f.debug("message background prev sync progress",t),[4,this.saveMetadata()];case 4:return v.sent(),[3,9];case 5:return o=v.sent(),f.debug("message background prev sync error",o),o instanceof s.s&&o.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:v.sent(),v.label=7;case 7:throw o;case 8:return p.put(new s.ba({type:s.bb.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:n.url,measured_on:"back_sync",event:"cache_fetch",max_db_size:null!==(y=null===(g=h.localCacheConfig)||void 0===g?void 0:g.maxSize)&&void 0!==y?y:0,use_local_cache:h.localCacheEnabled,starting_point:0,message_init_policy:""}})),[7];case 9:return[3,11];case 10:t.hasNext=!1,v.label=11;case 11:return[2,t]}}))}))}))];case 1:return[2,r.sent()]}}))}))})),this._nextSync=new ze(g,(function(e){return(0,s._)(o,void 0,void 0,(function(){var t=this;return(0,s.b)(this,(function(r){switch(r.label){case 0:return[4,m.run("message-background-sync-".concat(n.url,"-next"),(function(){return(0,s._)(t,void 0,void 0,(function(){var t,r,i,o,u,c,l,d,_,m,g;return(0,s.b)(this,(function(y){switch(y.label){case 0:return t={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:y.sent(),f.debug("message background next sync from",null===(c=this._metadata)||void 0===c?void 0:c.range.bottom),y.label=2;case 2:return y.trys.push([2,5,6,7]),[4,a.al.of(this._iid).getMessagesByTimestamp(this._channel.url,this._channel.channelType,(null===(d=null===(l=this._metadata)||void 0===l?void 0:l.range)||void 0===d?void 0:d.bottom)?this._metadata.range.bottom:e,{prevResultSize:0,nextResultSize:this._limit,replyType:s.az.ALL,includeReactions:!0,includeMetaArray:!0,includeParentMessageInfo:!0,includeThreadInfo:!0,isInclusive:!0},s.a2.SYNC_MESSAGE_BACKGROUND)];case 3:return(r=y.sent()).length>0&&(i=r.map((function(e){return e.createdAt})),(null===(_=this._metadata)||void 0===_?void 0:(u=_.range).intersect.apply(u,(0,s.p)([],(0,s.q)(i),!1)))?this.extendRange(r):this._metadata={range:new Pe({top:Math.min.apply(Math,(0,s.p)([],(0,s.q)(i),!1)),bottom:Math.max.apply(Math,(0,s.p)([],(0,s.q)(i),!1))}),previousComplete:!1}),t.hasNext=r.length>=this._limit,this._metadata&&(t.nextToken=this._metadata.range.bottom),f.debug("message background next sync progress",t),[4,this.saveMetadata()];case 4:return y.sent(),[3,7];case 5:throw o=y.sent(),f.debug("message background next sync error",o),o;case 6:return p.put(new s.ba({type:s.bb.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:n.url,measured_on:"back_sync",event:"cache_fetch",max_db_size:null!==(g=null===(m=h.localCacheConfig)||void 0===m?void 0:m.maxSize)&&void 0!==g?g:0,use_local_cache:h.localCacheEnabled,starting_point:0,message_init_policy:""}})),[7];case 7:return[2,t]}}))}))}))];case 1:return[2,r.sent()]}}))}))})),this._connectionEventContext=_.on((function(e){e instanceof s.D&&(e.stateType===s.F.CONNECTED?o.resume():o.pause())}))}return e.of=function(t,n){return Ge[t]||(Ge[t]={}),Ge[t][n.url]||(Ge[t][n.url]=new e({_iid:t,channel:n})),Ge[t][n.url].ref++,Ge[t][n.url]},e.clear=function(e,t){Ge[e]&&Ge[e][t]&&(Ge[e][t].close(),delete Ge[e])},Object.defineProperty(e.prototype,"range",{get:function(){var e,t;return null!==(t=null===(e=this._metadata)||void 0===e?void 0:e.range)&&void 0!==t?t:new Pe({})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousComplete",{get:function(){var e;return!!(null===(e=this._metadata)||void 0===e?void 0:e.previousComplete)},enumerable:!1,configurable:!0}),e.prototype.isWrappingMessages=function(e){var t;return null===(t=this.range)||void 0===t?void 0:t.includes.apply(t,(0,s.p)([],(0,s.q)(e.map((function(e){return e.createdAt}))),!1))},e.prototype.extendRange=function(e){var t;this._metadata&&(t=this._metadata.range).extends.apply(t,(0,s.p)([],(0,s.q)(e.map((function(e){return e.createdAt}))),!1))},e.prototype.loadMetadata=function(){return(0,s._)(this,void 0,void 0,(function(){var e;return(0,s.b)(this,(function(t){switch(t.label){case 0:return this._metadata?[3,2]:[4,s.V.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:e=t.sent(),this._metadata=e?{range:new Pe(e.range),previousComplete:e.previousComplete}:{range:new Pe({}),previousComplete:!1},t.label=2;case 2:return[2,this._metadata]}}))}))},e.prototype.saveMetadata=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return this._metadata?[4,s.V.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return e.sent(),[2,!0];case 2:return[2,!1]}}))}))},e.prototype.clearMetadata=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return[4,s.V.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return e.sent(),this._metadata=void 0,[2]}}))}))},e.prototype.resume=function(e){var t,n,r,i;void 0===e&&(e=Date.now());var a=s.V.of(this._iid),o=a.logger,u=a.sessionManager;a.cacheContext.localCacheEnabled&&u.session.hasSession&&(o.debug("message background sync resume()"),this._prevSyncLoopCount=0,this._metadata&&this._metadata.previousComplete||this._prevSync.start(null!==(n=null===(t=this._metadata)||void 0===t?void 0:t.range.top)&&void 0!==n?n:e),this._nextSync.start(null!==(i=null===(r=this._metadata)||void 0===r?void 0:r.range.bottom)&&void 0!==i?i:e))},e.prototype.pause=function(){s.V.of(this._iid).logger.debug("message background sync stop()"),this._prevSync.stop(),this._nextSync.stop()},e.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete Ge[this._iid][this._channel.url])},e}(),Be={},Ke=function(){function e(e){var t=e._iid,n=e.channel,r=e.includeParams,i=this;this.ref=0,this._iid=t,this._channel=n,this._includeParams=r;var o,u,c=s.V.of(this._iid),l=c.logger,d=c.sdkState,h=c.dispatcher;this._metadataKey=(o=d.userId,u=n.url,"sendbird:".concat(o,"@groupchannel/").concat(u,"/message/changelogs.meta"));var _=function(e,t){return"sendbird:".concat(e,"@groupchannel/").concat(t,"/message/changelogs")}(d.userId,this._channel.url);this._sync=new ze(_,(function(){return(0,s._)(i,void 0,void 0,(function(){var e,t,n,r,i,o,u,c,d;return(0,s.b)(this,(function(h){switch(h.label){case 0:return e={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:h.sent(),l.debug("message changelog sync from",null===(d=this._metadata)||void 0===d?void 0:d.token),h.label=2;case 2:return h.trys.push([2,5,,8]),[4,a.al.of(this._iid).getMessageChangelogs(this._channel.url,this._channel.channelType,this._metadata.token,(0,s.g)({replyType:s.az.ALL},this._includeParams),s.a2.SYNC_MESSAGE_CHANGELOGS)];case 3:return t=h.sent(),n=t.updatedMessages,r=t.deletedMessageIds,i=t.hasMore,o=t.token,u=t.forceUseNextToken,e.hasNext=i,e.nextToken=o,n.length>0||r.length>0?this._metadata&&(this._metadata.token=o):u&&this._metadata&&(this._metadata.token=o),l.debug("message changelog sync progress",e),[4,this.saveMetadata()];case 4:return h.sent(),[3,8];case 5:return c=h.sent(),l.debug("message changelog sync error",c),c instanceof s.s&&c.isInvalidTokenError?[4,this.clearMetadata()]:[3,7];case 6:h.sent(),h.label=7;case 7:throw c;case 8:return[2,e]}}))}))})),this._connectionEventContext=h.on((function(e){e instanceof s.D&&(e.stateType===s.F.CONNECTED?i.resume():i.pause())}))}return e.of=function(t,n,r){return Be[t]||(Be[t]={}),Be[t][n.url]||(Be[t][n.url]=new e({_iid:t,channel:n,includeParams:r})),Be[t][n.url].ref++,Be[t][n.url]},e.clear=function(e,t){Be[e]&&Be[e][t]&&(Be[e][t].close(),delete Be[e])},e.prototype.loadMetadata=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r;return(0,s.b)(this,(function(i){switch(i.label){case 0:return this._metadata?[3,2]:(e=s.V.of(this._iid),t=e.cacheContext,n=e.firstConnectedAt,[4,t.preference.get(this._metadataKey)]);case 1:r=i.sent(),this._metadata={token:r?r.token:n},i.label=2;case 2:return[2,this._metadata]}}))}))},e.prototype.saveMetadata=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return this._metadata?[4,s.V.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return e.sent(),[2,!0];case 2:return[2,!1]}}))}))},e.prototype.clearMetadata=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return[4,s.V.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return e.sent(),this._metadata=void 0,[2]}}))}))},e.prototype.resume=function(){var e=s.V.of(this._iid),t=e.logger;e.sessionManager.session.hasSession&&(t.debug("message changelog sync resume()"),this._sync.start(0))},e.prototype.pause=function(){s.V.of(this._iid).logger.debug("message changelog sync pause()"),this._sync.stop()},e.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete Be[this._iid][this._channel.url])},e}(),Qe={},Je=function(){function e(e){var t=e._iid,n=e.channel,r=e.hasPollMessage,i=this;this.ref=0,this._iid=t,this._channel=n;var a,o,u=s.V.of(this._iid),c=u.logger,l=u.sdkState,d=u.dispatcher;this._metadataKey=(a=l.userId,o=n.url,"sendbird:".concat(a,"@groupchannel/").concat(o,"/poll/changelogs.meta"));var h=function(e,t){return"sendbird:".concat(e,"@groupchannel/").concat(t,"/poll/changelogs")}(l.userId,this._channel.url);this._sync=new ze(h,(function(){return(0,s._)(i,void 0,void 0,(function(){var e,t,n,i,a,o,u,l;return(0,s.b)(this,(function(d){switch(d.label){case 0:return e={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:return d.sent(),c.debug("poll changelog sync from",null===(l=this._metadata)||void 0===l?void 0:l.token),(t=!this._metadata||!this._metadata.token)?[4,r()]:[3,3];case 2:t=!d.sent(),d.label=3;case 3:if(t)return[2,{hasNext:!1,nextToken:0}];this._metadata||(n=s.V.of(this._iid).firstConnectedAt,this._metadata={token:n}),d.label=4;case 4:return d.trys.push([4,7,,10]),[4,s.aO.of(this._iid).getPollChangeLogs(this._channel.url,this._channel.channelType,this._metadata.token)];case 5:return i=d.sent(),a=i.hasMore,o=i.token,e.hasNext=a,e.nextToken=o,this._metadata.token=o,c.debug("poll changelog sync progress",e),[4,this.saveMetadata()];case 6:return d.sent(),[3,10];case 7:return u=d.sent(),c.debug("poll changelog sync error",u),u instanceof s.s&&u.isInvalidTokenError?[4,this.clearMetadata()]:[3,9];case 8:d.sent(),d.label=9;case 9:throw u;case 10:return[2,e]}}))}))})),this._connectionEventContext=d.on((function(e){e instanceof s.D&&(e.stateType===s.F.CONNECTED?i.resume():i.pause())}))}return e.of=function(t,n,r){return Qe[t]||(Qe[t]={}),Qe[t][n.url]||(Qe[t][n.url]=new e({_iid:t,channel:n,hasPollMessage:r})),Qe[t][n.url].ref++,Qe[t][n.url]},e.prototype.loadMetadata=function(){return(0,s._)(this,void 0,void 0,(function(){var e;return(0,s.b)(this,(function(t){switch(t.label){case 0:return this._metadata?[3,2]:[4,s.V.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:e=t.sent(),this._metadata=e?{token:e.token}:void 0,t.label=2;case 2:return[2]}}))}))},e.prototype.saveMetadata=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return this._metadata?[4,s.V.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.clearMetadata=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return[4,s.V.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return e.sent(),this._metadata=void 0,[2]}}))}))},e.prototype.resume=function(){s.V.of(this._iid).logger.debug("poll changelog sync resume()"),this._sync.start(0)},e.prototype.pause=function(){s.V.of(this._iid).logger.debug("poll changelog sync pause()"),this._sync.stop()},e.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete Qe[this._iid][this._channel.url])},e}(),Ze=function(e){function t(t){var n,r,i,a,o,u,c,l,d,h,_=this;return(_=e.call(this)||this).method=s.A.GET,_.path="".concat((0,s.am)(t.channelType),"/").concat(t.channelUrl,"/messages_gap"),_.params=(0,s.e)({prev_start_ts:t.prevStart,prev_end_ts:t.prevEnd,prev_cache_count:t.prevCount,next_start_ts:t.nextStart,next_end_ts:t.nextEnd,next_cache_count:t.nextCount,huge_gap_threshold:null!==(n=t.threshold)&&void 0!==n?n:null,reverse:!0,custom_types:null!==(r=t.customTypes)&&void 0!==r?r:["*"],message_type:null!==(i=t.messageType)&&void 0!==i?i:null,include_reply_type:null!==(a=t.replyType)&&void 0!==a?a:s.az.NONE,include_reactions_summary:null===(o=t.includeReactions)||void 0===o||o,include_meta_array:null===(u=t.includeMetaArray)||void 0===u||u,include_thread_info:null===(c=t.includeThreadInfo)||void 0===c||c,include_parent_message_info:null===(l=t.includeParentMessageInfo)||void 0===l||l,with_sorted_meta_array:null===(d=t.includeMetaArray)||void 0===d||d,show_subchannel_messages_only:null!==(h=t.showSubchannelMessagesOnly)&&void 0!==h&&h,include_poll_details:!0,checking_continuous_messages:t.checkingContinuousMessages}),_}return(0,s.c)(t,e),t}(s.f),Xe=function(e){function t(t,n){var r,i,s,o,u,c,l=this;return(l=e.call(this,t,n)||this).isHugeGap=n.is_huge_gap,l.prevMessages=(null!==(r=n.prev_messages)&&void 0!==r?r:[]).map((function(e){return(0,a.T)(t,e)})),l.prevHasMore=null!==(i=n.prev_hasmore)&&void 0!==i&&i,l.isContinuousPrevMessages=null!==(s=n.is_continuous_prev_messages)&&void 0!==s&&s,l.nextMessages=(null!==(o=n.next_messages)&&void 0!==o?o:[]).map((function(e){return(0,a.T)(t,e)})),l.nextHasmore=null!==(u=n.next_hasmore)&&void 0!==u&&u,l.isContinuousNextMessages=null!==(c=n.is_continuous_next_messages)&&void 0!==c&&c,l}return(0,s.c)(t,e),t}(s.h),$e={includeMetaArray:!0,includeReactions:!0,includeThreadInfo:!0,includeParentMessageInfo:!0};!function(e){e.CACHE_AND_REPLACE_BY_API="cache_and_replace_by_api"}(qe||(qe={}));var et,tt,nt,rt=function(){function e(){this._onCacheResult=s.aB,this._onApiResult=s.aB}return e.prototype._invokeResponse=function(e,t,n){var r=this;(0,s.G)((function(){return(0,s._)(r,void 0,void 0,(function(){return(0,s.b)(this,(function(r){switch(e){case"local":this._onCacheResult(t,n);break;case"remote":this._onApiResult(t,n)}return[2]}))}))}))},e.prototype.onCacheResult=function(e){return this._onCacheResult=e,this},e.prototype.onApiResult=function(e){return this._onApiResult=e,this},e}(),it=function(){function e(e,t){var n=t.filter,r=t.startingPoint,i=t.limit,o=t.prevResultLimit,u=t.nextResultLimit,c=t.channel,l=t.channelManager,d=t.disableBackgroundSync,h=void 0!==d&&d,_=this;this._messages=[],this._unsentMessages=[],this._isLoadingPrevious=!1,this._isLoadingNext=!1,this._iid=e,this._key="mc-".concat((0,s.n)()),this._isDisposed=!1,this.filter=null!=n?n:new a.K,this._channel=c,this._syncRange=new Pe({}),this._hasPrevious=!0,this._hasNext=!0,this._startingPoint="number"==typeof r&&Number.isFinite(r)?r:Number.MAX_SAFE_INTEGER,this._limit=i||a.aj,this._prevResultLimit=null!=o?o:Math.floor(this._limit/2),this._nextResultLimit=null!=u?u:Math.floor(this._limit/2),this._channelManager=l;var f=s.V.of(this._iid).statManager;this._channelManager.subscribeChannelEvent(this._key,{onUpdate:function(e,t){var n=t.source,r=e.findIndex((function(e){return e.isIdentical(_.channel)}));r>=0&&(_._replaceChannelOfCollection(e[r]),_.channel._runIfHandleableWithGroupChannel((function(e){switch(n){case s.a2.EVENT_CHANNEL_UPDATED:for(var r=!1,i=0;i<_._messages.length;i++)if(_._messages[i].createdAt>=e.messageOffsetTimestamp){r=!0;var a=i;if(a>0){var o=_._messages.splice(0,a);_._removeMessagesFromView(o.map((function(e){return _.keyOf(e)})),s.a2.EVENT_MESSAGE_OFFSET_UPDATED)}break}!r&&_._messages.length>0&&_._removeMessagesFromView(_._messages.map((function(e){return _.keyOf(e)})),s.a2.EVENT_MESSAGE_OFFSET_UPDATED);break;case s.a2.EVENT_CHANNEL_UNMUTED:var u=s.V.of(_._iid).sdkState,c=t.user;u.userId===c.userId&&_._clearCheckMyMutedTimer();break;case s.a2.EVENT_CHANNEL_MUTED:u=s.V.of(_._iid).sdkState,c=t.user,u.userId===c.userId&&-1!==e._myMutedRemainingTime&&_._startCheckMyMutedTimer(e._myMutedRemainingTime);break;case s.a2.EVENT_CHANNEL_LEFT:e.isPublic&&_._clearCheckMyMutedTimer()}(0,s.G)((function(){return(0,s._)(_,void 0,void 0,(function(){var e;return(0,s.b)(this,(function(r){return q(n)&&(null===(e=this._handler)||void 0===e?void 0:e.onChannelUpdated)&&this._handler.onChannelUpdated(t,this.channel),[2]}))}))}))})),_._postprocessChannelUpdateEvent(e[r],n))},onRemove:function(e,t){var n=e.indexOf(_.channel.url);n>=0&&(_._clearCheckMyMutedTimer(),(0,s.G)((function(){return(0,s._)(_,void 0,void 0,(function(){var e;return(0,s.b)(this,(function(n){return(null===(e=this._handler)||void 0===e?void 0:e.onChannelDeleted)&&this._handler.onChannelDeleted(t,this.channel.url),[2]}))}))})),_._postprocessChannelRemoveEvent(e[n]))}}),this._channelManager.subscribeMessageEvent(this._key,{onUpdate:function(e,t){var n,r,i=[],a=[];try{for(var o=(0,s.t)(e),u=o.next();!u.done;u=o.next()){var c=u.value;c.channelUrl===_._channel.url&&(_.filter.match(c)?i.push(c):a.push(_.keyOf(c)))}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}if((0,s.bl)(t)){if(i.length>0)switch(t){case s.a2.LOCAL_MESSAGE_CANCELED:case s.a2.LOCAL_MESSAGE_RESEND_STARTED:case s.a2.EVENT_MESSAGE_SENT_FAILED:case s.a2.EVENT_MESSAGE_SENT_SUCCESS:case s.a2.EVENT_MESSAGE_UPDATED:case s.a2.EVENT_MESSAGE_THREADINFO_UPDATED:case s.a2.EVENT_MESSAGE_REACTION_UPDATED:case s.a2.EVENT_MESSAGE_FEEDBACK_ADDED:case s.a2.EVENT_MESSAGE_FEEDBACK_UPDATED:case s.a2.EVENT_MESSAGE_FEEDBACK_DELETED:case s.a2.SYNC_MESSAGE_CHANGELOGS:_._updateMessagesToView(i,t);break;case s.a2.EVENT_MESSAGE_SENT_PENDING:_._addMessagesToView(i,t);break;case s.a2.EVENT_MESSAGE_RECEIVED:_.hasNext||_._addMessagesToView(i,t);break;case s.a2.SYNC_MESSAGE_FILL:_._addMessagesToView(i,t)}a.length>0&&_._removeMessagesFromView(a,t)}_._postprocessMessageUpdateEvent(e,t)},onRemove:function(e,t){_._removeMessagesFromView(e,t),_._postprocessMessageRemoveEvent(e)},onRemoveUnsent:function(e,t){_._removeUnsentMessageFromView(e,t)},onPollChangeLogUpdate:function(e,t){_._updatePollsToView(e,t)},onPollUpdate:function(e,t){_._applyPollUpdateEventToView(e,t)},onPollVote:function(e,t){_._applyPollVoteEventToView(e,t)},onReactionUpdate:function(e,t){_._applyReactionEventToView(e,t)},onThreadInfoUpdate:function(e,t){_._applyThreadInfoEventToView(e,t)}});var p=s.V.of(this._iid),m=p.cacheContext,g=p.dispatcher,y=p.messageBackgroundSyncThrottleController;this._channel._updateMessageCollectionLastAccessedAt(),g.dispatch(new z({channels:[this._channel],context:{source:s.a2.CHANNEL_LASTACCESSEDAT_UPDATED}})),this._backgroundSync=We.of(this._iid,this._channel),!h&&this._shouldStartBackgroundSync()&&this._backgroundSync.resume(this._startingPoint),this._changelogSync=Ke.of(this._iid,this._channel,this.changelogIncludeParams),this._changelogSync.resume(),this._pollChangelogSync=Je.of(this._iid,this._channel,this._hasPollMessage.bind(this)),this._pollChangelogSync.resume(),this._prevFill=new ze(this._key,(function(e){return(0,s._)(_,void 0,void 0,(function(){var t=this;return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,y.run("message-fill-sync-".concat(c.url,"-prev"),(function(){return(0,s._)(t,void 0,void 0,(function(){var t,n,r,i,a,o,u;return(0,s.b)(this,(function(c){switch(c.label){case 0:return[4,this._getRemoteMessages(e,{prevLimit:this._prevResultLimit,source:s.a2.SYNC_MESSAGE_FILL,checkingContinuousMessages:m.localCacheEnabled})];case 1:return t=c.sent(),n=t.messages,r=t.isContinuousMessages,n.length>0?(i=Math.min.apply(Math,(0,s.p)([],(0,s.q)(n.map((function(e){return e.createdAt}))),!1)),this._syncRange.extends(i),r&&(null===(a=this._backgroundSync)||void 0===a||a.range.extends(i)),[2,{hasNext:n.length>=this._prevResultLimit&&this.viewTop<i,nextToken:this._syncRange.top}]):(m.localCacheEnabled&&f.put(new s.ba({type:s.bb.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:this.channel.url,measured_on:"gap_check",event:"cache_fetch",max_db_size:null!==(u=null===(o=m.localCacheConfig)||void 0===o?void 0:o.maxSize)&&void 0!==u?u:0,use_local_cache:m.localCacheEnabled,starting_point:0,message_init_policy:""}})),[2,{hasNext:!1,nextToken:0}])}}))}))}))];case 1:return[2,n.sent()]}}))}))})),this._nextFill=new ze(this._key,(function(e){return(0,s._)(_,void 0,void 0,(function(){var t=this;return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,y.run("message-fill-sync-".concat(c.url,"-next"),(function(){return(0,s._)(t,void 0,void 0,(function(){var t,n,r,i,a,o,u,c;return(0,s.b)(this,(function(l){switch(l.label){case 0:return[4,this._getRemoteMessages(e,{nextLimit:this._nextResultLimit,source:s.a2.SYNC_MESSAGE_FILL,checkingHasNext:!0,checkingContinuousMessages:m.localCacheEnabled})];case 1:return t=l.sent(),n=t.messages,r=t.isContinuousMessages,i=t.hasNext,n.length>0?(a=Math.max.apply(Math,(0,s.p)([],(0,s.q)(n.map((function(e){return e.createdAt}))),!1)),this._syncRange.extends(a),r&&(null===(o=this._backgroundSync)||void 0===o||o.range.extends(a)),[2,{hasNext:i,nextToken:this._syncRange.bottom}]):(m.localCacheEnabled&&f.put(new s.ba({type:s.bb.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:this.channel.url,measured_on:"gap_check",event:"cache_fetch",max_db_size:null!==(c=null===(u=m.localCacheConfig)||void 0===u?void 0:u.maxSize)&&void 0!==c?c:0,use_local_cache:m.localCacheEnabled,starting_point:0,message_init_policy:""}})),[2,{hasNext:!1,nextToken:0}])}}))}))}))];case 1:return[2,n.sent()]}}))}))})),this._connectionEventContext=g.on((function(e){if(e instanceof s.D)switch(e.stateType){case s.F.CONNECTED:(0,s.B)((function(){return(0,s._)(_,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return this._activate(),[2]}))}))}));break;case s.F.LOGOUT:_.dispose();break;default:_._clearCheckMyMutedTimer(),_._prevFill.stop(),_._nextFill.stop()}}))}return e.prototype.keyOf=function(e){return 0},Object.defineProperty(e.prototype,"changelogIncludeParams",{get:function(){return{includeReactions:!0,includeThreadInfo:!0,includeMetaArray:!0,includeParentMessageInfo:!0}},enumerable:!1,configurable:!0}),e.prototype._postprocessChannelUpdateEvent=function(e,t){},e.prototype._postprocessChannelRemoveEvent=function(e){},e.prototype._postprocessMessageUpdateEvent=function(e,t){},e.prototype._postprocessMessageRemoveEvent=function(e){},Object.defineProperty(e.prototype,"channel",{get:function(){return this._channel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"succeededMessages",{get:function(){return(0,s.p)([],(0,s.q)(this._messages),!1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"failedMessages",{get:function(){return this._unsentMessages.filter((function(e){return e.sendingStatus===s.ap.FAILED}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pendingMessages",{get:function(){return this._unsentMessages.filter((function(e){return e.sendingStatus===s.ap.PENDING}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPrevious",{get:function(){return this._hasPrevious},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewTop",{get:function(){return Math.min.apply(Math,(0,s.p)((0,s.p)([],(0,s.q)(this._messages.map((function(e){return e.createdAt}))),!1),[Number.MAX_SAFE_INTEGER],!1))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"viewBottom",{get:function(){return Math.max.apply(Math,(0,s.p)((0,s.p)([],(0,s.q)(this._messages.map((function(e){return e.createdAt}))),!1),[0],!1))},enumerable:!1,configurable:!0}),e.prototype._activate=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return s.V.of(this._iid).logger.debug("check huge gap"),this._checkHugeGap(),[4,this._refreshChannel(s.a2.SYNC_CHANNEL_CHANGELOGS)];case 1:return e.sent(),[2]}}))}))},e.prototype._replaceChannelOfCollection=function(e){this._channel.isGroupChannel()?this._channel=e:this._channel.isFeedChannel()&&(this._channel._groupChannel=e._groupChannel)},e.prototype._shouldStartBackgroundSync=function(){var e=s.V.of(this._iid).cacheContext;return this.channel.isGroupChannel()?e.localCacheEnabled&&!this.channel.isSuper:e.localCacheEnabled},e.prototype._setBaseMessageCollectionHandler=function(e){this._handler=e},e.prototype._filterUnderOffsetMessage=function(e){return e},e.prototype._updateChildMessagesInView=function(e){var t=[];return this._messages.forEach((function(n){n instanceof a.ab&&n.parentMessageId===e.messageId&&n.applyParentMessage(e)&&t.push(n)})),t},e.prototype._updatePollsToView=function(e,t){var n,r,i=this,a=[];try{for(var o=(0,s.t)(e),u=o.next();!u.done;u=o.next()){var c=u.value,l=je(this._messages,c.messageId);if(l>=0){var d=this._messages[l];d.isUserMessage()&&d.applyPoll(c),a.push(d)}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return a.length>0&&(0,s.bl)(t)&&(0,s.G)((function(){return(0,s._)(i,void 0,void 0,(function(){var e,n,r;return(0,s.b)(this,(function(i){return e={source:t},a.length>0&&(null===(r=(n=this._handler).onMessagesUpdated)||void 0===r||r.call(n,e,this.channel,a)),[2]}))}))})),a},e.prototype._applyPollUpdateEventToView=function(e,t){var n=this,r=je(this._messages,e.messageId);if(r>=0){var i=this._messages[r];i&&i.isUserMessage()&&i.poll&&i.poll.applyPollUpdateEvent(e)&&(0,s.bl)(t)&&(0,s.G)((function(){return(0,s._)(n,void 0,void 0,(function(){var e,n,r;return(0,s.b)(this,(function(s){return e={source:t},null===(r=null===(n=this._handler)||void 0===n?void 0:n.onMessagesUpdated)||void 0===r||r.call(n,e,this.channel,[i]),[2]}))}))}))}},e.prototype._applyPollVoteEventToView=function(e,t){var n=this,r=je(this._messages,e.messageId);if(r>=0){var i=this._messages[r];i&&i.isUserMessage()&&i.poll&&i.poll.applyPollVoteEvent(e)&&(0,s.bl)(t)&&(0,s.G)((function(){return(0,s._)(n,void 0,void 0,(function(){var e,n,r;return(0,s.b)(this,(function(s){return e={source:t},null===(r=null===(n=this._handler)||void 0===n?void 0:n.onMessagesUpdated)||void 0===r||r.call(n,e,this.channel,[i]),[2]}))}))}))}},e.prototype._applyReactionEventToView=function(e,t){var n=this,r=je(this._messages,e.messageId);if(r>=0){var i=this._messages[r];i&&(i.isUserMessage()||i.isFileMessage()||i.isMultipleFilesMessage())&&(0,s.bl)(t)&&(i.applyReactionEvent(e),(0,s.G)((function(){return(0,s._)(n,void 0,void 0,(function(){var e,n,r;return(0,s.b)(this,(function(s){return e={source:t},null===(r=null===(n=this._handler)||void 0===n?void 0:n.onMessagesUpdated)||void 0===r||r.call(n,e,this.channel,[i]),[2]}))}))})))}},e.prototype._applyThreadInfoEventToView=function(e,t){var n=this,r=je(this._messages,e.targetMessageId);if(r>=0){var i=this._messages[r];i&&(i.isUserMessage()||i.isFileMessage()||i.isMultipleFilesMessage())&&(0,s.bl)(t)&&(i.applyThreadInfoUpdateEvent(e),(0,s.G)((function(){return(0,s._)(n,void 0,void 0,(function(){var e,n,r;return(0,s.b)(this,(function(s){return e={source:t},null===(r=null===(n=this._handler)||void 0===n?void 0:n.onMessagesUpdated)||void 0===r||r.call(n,e,this.channel,[i]),[2]}))}))})))}},e.prototype._removeMessagesFromView=function(e,t){var n,r,i=this,a=[],o=[],u=function(e){var t=c._messages.findIndex((function(t){return i.keyOf(t)===e}));if(t>=0){var n=c._messages[t];a.push(c.keyOf(n)),o.push(n),c._messages.splice(t,1)}},c=this;try{for(var l=(0,s.t)(e),d=l.next();!d.done;d=l.next())u(d.value)}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return(0,s.bl)(t)&&o.length>0&&(0,s.G)((function(){return(0,s._)(i,void 0,void 0,(function(){var e,n,r;return(0,s.b)(this,(function(i){return e={source:t},null===(r=null===(n=this._handler)||void 0===n?void 0:n.onMessagesDeleted)||void 0===r||r.call(n,e,this.channel,a,o),[2]}))}))})),a},e.prototype._removeUnsentMessageFromView=function(e,t){var n=this._unsentMessages.findIndex((function(t){return t.reqId===e}));n>=0&&this._unsentMessages.splice(n,1)},e.prototype._getLocalMessages=function(e,t){var n=t.prevLimit,r=void 0===n?0:n,i=t.nextLimit,a=void 0===i?0:i,o=t.inclusive,u=void 0===o||o;return(0,s._)(this,void 0,void 0,(function(){var t,n,i,o,c;return(0,s.b)(this,(function(l){switch(l.label){case 0:return t=[],u?[4,this._channelManager.getExactlyMatchingMessagesForTokenFromCache(this._channel.url,e,this.filter)]:[3,2];case 1:t=l.sent(),l.label=2;case 2:return r>0?[4,this._channelManager.getMessagesFromCache(this._channel.url,e,"prev",this.filter,r,!1)]:[3,4];case 3:return i=l.sent(),[3,5];case 4:i=[],l.label=5;case 5:return n=i,a>0?[4,this._channelManager.getMessagesFromCache(this._channel.url,e,"next",this.filter,a,!1)]:[3,7];case 6:return c=l.sent(),[3,8];case 7:c=[],l.label=8;case 8:return o=c,[2,{messages:(0,s.p)((0,s.p)((0,s.p)([],(0,s.q)(t),!1),(0,s.q)(n),!1),(0,s.q)(o),!1).sort((function(e,t){return t.createdAt-e.createdAt})),prevMessagesCount:n.length,nextMessagesCount:o.length}]}}))}))},e.prototype._getRemoteMessages=function(e,t){var n=t.prevLimit,r=void 0===n?0:n,i=t.nextLimit,o=void 0===i?0:i,u=t.source,c=void 0===u?s.a2.REQUEST_MESSAGE:u,l=t.reverse,d=void 0!==l&&l,h=t.checkingHasNext,_=void 0!==h&&h,f=t.checkingContinuousMessages,p=void 0!==f&&f;return(0,s._)(this,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(i){switch(i.label){case 0:return t=a.al.of(this._iid),r>0||o>0?[4,t._getMessagesByTimestampForCollection(this._channel.url,this._channel.channelType,e,(0,s.u)((0,s.g)((0,s.g)((0,s.g)({},this.filter),$e),{isInclusive:!0,reverse:d,prevResultSize:r,nextResultSize:o})),c,_,p)]:[3,2];case 1:return n=i.sent(),[3,3];case 2:n={messages:[],isContinuousMessages:!1},i.label=3;case 3:return[2,n]}}))}))},e.prototype._checkHugeGap=function(){var e,t,n,r,i;return(0,s._)(this,void 0,void 0,(function(){var a,o,u,c,l,d,h,_,f,p,m,g,y,v,b,M,E,L,w,T,k,S,D,C,A,I=this;return(0,s.b)(this,(function(N){switch(N.label){case 0:return a=s.V.of(this._iid),o=a.dispatcher,u=a.requestQueue,c=a.cacheContext,l=a.statManager,d=a.logger,this._messages.length>0?(h=this._syncRange.top,_=this.viewTop,f=this._syncRange.bottom,p=this.hasNext?this.viewBottom:Number.MAX_SAFE_INTEGER,[4,this._channelManager.getCachedMessageCountBetween(this._channel.url,this.filter,_,h)]):[3,8];case 1:return m=N.sent(),[4,this._channelManager.getCachedMessageCountBetween(this._channel.url,this.filter,f,p)];case 2:g=N.sent(),N.label=3;case 3:return N.trys.push([3,5,6,7]),[4,(0,s.bm)((function(){return(0,s._)(I,void 0,void 0,(function(){var e,t,n,r,i,a,l,d,y,v,b,M,E,L,w,T,k,S=this;return(0,s.b)(this,(function(D){switch(D.label){case 0:return e=new Ze((0,s.g)((0,s.g)({channelUrl:this._channel.url,channelType:this._channel.channelType,prevStart:_,prevEnd:h,prevCount:m,nextStart:f,nextEnd:p,nextCount:g,checkingContinuousMessages:c.localCacheEnabled},this.filter),$e)),[4,u.send(e)];case 1:return t=D.sent(),n=t.as(Xe),r=n.isHugeGap,i=n.prevMessages,a=void 0===i?[]:i,l=n.prevHasMore,d=n.isContinuousPrevMessages,y=n.nextMessages,v=void 0===y?[]:y,b=n.nextHasmore,M=n.isContinuousNextMessages,r?(0,s.G)((function(){return(0,s._)(S,void 0,void 0,(function(){var e;return(0,s.b)(this,(function(t){return(null===(e=this._handler)||void 0===e?void 0:e.onHugeGapDetected)&&this._handler.onHugeGapDetected(),[2]}))}))})):(E=this.viewTop,L=this.viewBottom,w=Math.min.apply(Math,(0,s.p)([Number.MAX_SAFE_INTEGER,E],(0,s.q)(a.map((function(e){return e.createdAt}))),!1)),T=Math.max.apply(Math,(0,s.p)([0,L],(0,s.q)(v.map((function(e){return e.createdAt}))),!1)),o.dispatch(new s.ao({messages:a,source:s.a2.SYNC_MESSAGE_FILL})),o.dispatch(new s.ao({messages:v,source:s.a2.SYNC_MESSAGE_FILL})),this._syncRange.extends(w,T),(d||M)&&(null===(k=this._backgroundSync)||void 0===k||k.range.extends(w,T)),l&&this._prevFill.start(w),b&&this._nextFill.start(T)),[2]}}))}))}),1)];case 4:return N.sent(),[3,7];case 5:return y=N.sent(),d.debug("Failed HugeGap Check ",y),[3,7];case 6:return c.localCacheEnabled&&l.put(new s.ba({type:s.bb.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:this.channel.url,measured_on:"gap_check",event:"cache_fetch",max_db_size:null!==(t=null===(e=c.localCacheConfig)||void 0===e?void 0:e.maxSize)&&void 0!==t?t:0,use_local_cache:c.localCacheEnabled,starting_point:0,message_init_policy:""}})),[7];case 7:return[3,13];case 8:v=Date.now(),N.label=9;case 9:return N.trys.push([9,11,12,13]),[4,this._getRemoteMessages(v,{prevLimit:this._prevResultLimit,nextLimit:this._nextResultLimit,source:s.a2.SYNC_MESSAGE_FILL,checkingHasNext:!0,checkingContinuousMessages:c.localCacheEnabled})];case 10:if(b=N.sent(),M=b.messages,E=b.isContinuousMessages,L=b.hasNext,M.length>0){for(w=M.map((function(e){return e.createdAt})),T=0,k=0,S=0;S<w.length;S++)(D=w[S])<=v?T++:D>=v&&k++;this._hasPrevious=T>=this._prevResultLimit,this._hasNext=null!=L?L:k>=this._nextResultLimit,(A=this._syncRange).extends.apply(A,(0,s.p)([],(0,s.q)(w),!1)),E&&(null===(n=this._backgroundSync)||void 0===n||n.range.extends(this._syncRange.top,this._syncRange.bottom)),this._addMessagesToView(M,s.a2.SYNC_MESSAGE_FILL)}else this._hasPrevious=!1,this._hasNext=!1;return[3,13];case 11:return(C=N.sent())instanceof s.s&&C.code===s.a9.NOT_FOUND_IN_DATABASE&&(this._hasPrevious=!1,this._hasNext=!1),[3,13];case 12:return c.localCacheEnabled&&l.put(new s.ba({type:s.bb.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:this.channel.url,measured_on:"gap_check",event:"cache_fetch",max_db_size:null!==(i=null===(r=c.localCacheConfig)||void 0===r?void 0:r.maxSize)&&void 0!==i?i:0,use_local_cache:c.localCacheEnabled,starting_point:0,message_init_policy:""}})),[7];case 13:return[2]}}))}))},e.prototype._loadUnsentMessages=function(){return(0,s._)(this,void 0,void 0,(function(){var e;return(0,s.b)(this,(function(t){switch(t.label){case 0:return e=this,[4,this._channelManager.getUnsentMessagesFromCache(this._channel.url,this.filter)];case 1:return e._unsentMessages=t.sent(),[2]}}))}))},e.prototype._hasPollMessage=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return[4,this._channelManager.getPollMessagesFromCache(this._channel.url,Date.now()+6e5,this.filter,1)];case 1:return e.sent().length>0?[2,!0]:[2,!1]}}))}))},e.prototype._refreshChannel=function(e,t){return void 0===t&&(t=!1),(0,s._)(this,void 0,void 0,(function(){var n,r,i=this;return(0,s.b)(this,(function(a){switch(a.label){case 0:n=s.V.of(this._iid).logger,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._channelManager.refreshChannel(this.channel.url,!0,e,t)];case 2:return a.sent(),this.channel._runIfHandleableWithGroupChannel((function(e){e.myMutedState===s.bf.MUTED&&(0,s.B)((function(){return(0,s._)(i,void 0,void 0,(function(){var e;return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,this.channel.getMyMutedInfo()];case 1:return(e=t.sent()).isMuted&&-1!==e.remainingDuration&&this._startCheckMyMutedTimer(e.remainingDuration),[2]}}))}))}))})),[3,4];case 3:return r=a.sent(),n.warn("Failed to refresh channel",r),[3,4];case 4:return[2]}}))}))},e.prototype._startCheckMyMutedTimer=function(e){var t=this;this._clearCheckMyMutedTimer(),this._checkMyMutedStateTimer=setTimeout((function(){return(0,s._)(t,void 0,void 0,(function(){var e,t,n,r=this;return(0,s.b)(this,(function(i){switch(i.label){case 0:this._checkMyMutedStateTimer=void 0,e=!0,i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this._channel.getMyMutedInfo()];case 2:return t=i.sent(),e=!t.isMuted,[3,5];case 3:return i.sent(),e=!0,[3,5];case 4:return e&&(n=s.V.of(this._iid).sessionManager,this.channel._runIfHandleableWithGroupChannel((function(e){var t,i;e.myMutedState=s.bf.UNMUTED;var a={source:s.a2.EVENT_CHANNEL_UNMUTED,user:n.currentUser};null===(i=null===(t=r._handler)||void 0===t?void 0:t.onChannelUpdated)||void 0===i||i.call(t,a,r.channel)}))),[7];case 5:return[2]}}))}))}),e+1e3)},e.prototype._clearCheckMyMutedTimer=function(){this._checkMyMutedStateTimer&&(clearTimeout(this._checkMyMutedStateTimer),this._checkMyMutedStateTimer=void 0)},e.prototype._setHasNextAndHasPrevious=function(e,t){for(var n=e.map((function(e){return e.createdAt})),r=0,i=0,s=0;s<n.length;s++){var a=n[s];a<this._startingPoint?r++:a>this._startingPoint&&i++}this._hasPrevious=r>=this._prevResultLimit,this._hasNext=null!=t?t:i>=this._nextResultLimit},e.prototype.initialize=function(e){var t=this,n=new rt;this._messages=[],this._unsentMessages=[],this._syncRange=new Pe({}),this._hasNext=!0,this._hasPrevious=!0;var r=[],i={messages:[],prevMessagesCount:0,nextMessagesCount:0};return(0,s.G)((function(){return(0,s._)(t,void 0,void 0,(function(){var t,a,o,u,c,l=this;return(0,s.b)(this,(function(d){switch(d.label){case 0:return[4,null===(c=this._backgroundSync)||void 0===c?void 0:c.loadMetadata()];case 1:return t=d.sent(),a=s.V.of(this._iid),o=a.cacheContext,u=a.statManager,e===qe.CACHE_AND_REPLACE_BY_API&&this._getLocalMessages(this._startingPoint,{prevLimit:this._prevResultLimit,nextLimit:this._nextResultLimit}).then((function(e){return(0,s._)(l,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return i=e,r=this._filterUnderOffsetMessage(i.messages),this._addMessagesToView(r,s.a2.REQUEST_MESSAGE),[4,this._loadUnsentMessages()];case 1:return t.sent(),n._invokeResponse("local",null,r),[2]}}))}))})).catch((function(e){if((0,s.O)(e))throw e;n._invokeResponse("local",e,null)})).finally((function(){return(0,s._)(l,void 0,void 0,(function(){var a,o,c,l,d,h,_,f=this;return(0,s.b)(this,(function(p){switch(p.label){case 0:return a=s.V.of(this._iid).cacheContext,o=!0,c=!0,l=!1,a.localCacheEnabled&&r.length>0&&(d=t.range).includes.apply(d,(0,s.p)([],(0,s.q)(r.map((function(e){return e.createdAt}))),!1))&&(!t.previousComplete&&i.prevMessagesCount<this._prevResultLimit?c=!0:this._startingPoint>t.range.bottom||i.nextMessagesCount<this._nextResultLimit?l=!0:c=!1),[4,this._refreshChannel(s.a2.REFRESH_CHANNEL,l)];case 1:return p.sent(),l&&this._channel._runIfHandleableWithGroupChannel((function(e){var t=Math.max.apply(Math,(0,s.p)([],(0,s.q)(r.map((function(e){return e.createdAt}))),!1));e._latestMessageInfo&&t>=e._latestMessageInfo.createdAt&&(c=!1)})),c?(o=!1,this._getRemoteMessages(this._startingPoint,{prevLimit:this._prevResultLimit,nextLimit:this._nextResultLimit,reverse:!0,checkingHasNext:!0,checkingContinuousMessages:a.localCacheEnabled}).then((function(e){var t,r,i,a=e.messages,o=e.isContinuousMessages,u=e.hasNext,c=f._filterUnderOffsetMessage(a);f._messages=[],c.length>0?(f._setHasNextAndHasPrevious(c,u),(t=f._syncRange).extends.apply(t,(0,s.p)([],(0,s.q)(c.map((function(e){return e.createdAt}))),!1)),o&&(null===(r=f._backgroundSync)||void 0===r?void 0:r.range.overlap(f._syncRange))&&(null===(i=f._backgroundSync)||void 0===i||i.range.extends(f._syncRange.top,f._syncRange.bottom)),f._addMessagesToView(c,s.a2.REQUEST_MESSAGE)):(f._hasPrevious=!1,f._hasNext=!1),n._invokeResponse("remote",null,c)})).catch((function(e){if((0,s.O)(e))throw e;n._invokeResponse("remote",e,null)}))):(this._setHasNextAndHasPrevious(r),n._invokeResponse("remote",null,r)),a.localCacheEnabled&&u.put(new s.ba({type:s.bb.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:this.channel.url,starting_point:this._startingPoint,measured_on:"initial_load",event:o?"cache_hit":"cache_miss",max_db_size:null!==(_=null===(h=a.localCacheConfig)||void 0===h?void 0:h.maxSize)&&void 0!==_?_:0,message_init_policy:e,use_local_cache:a.localCacheEnabled,collection_id:this._key}})),[2]}}))}))})),u.put(new s.bc({type:s.bb.FEATURE_LOCALCACHE,data:{use_local_cache:o.localCacheEnabled,collection_interface:{message_init_policy:e,message:!0}}})),[2]}}))}))})),n},e.prototype.loadPrevious=function(){var e,t,n;return(0,s._)(this,void 0,void 0,(function(){var r,i,a,o,u,c,l,d,h=this;return(0,s.b)(this,(function(_){switch(_.label){case 0:if(this._isDisposed)throw new s.s({code:s.a9.COLLECTION_DISPOSED,message:"Collection has been disposed."});return r=s.V.of(this._iid),i=r.cacheContext,a=r.statManager,o=r.logger,this._hasPrevious?this._isLoadingPrevious?(o.warn("Messages are already fetching."),[2,[]]):(this._isLoadingPrevious=!0,u=this.viewTop,c=[],[4,(0,s.B)((function(){return(0,s._)(h,void 0,void 0,(function(){var e;return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,this._getLocalMessages(u,{prevLimit:this._prevResultLimit,inclusive:!1})];case 1:return e=t.sent(),c=this._filterUnderOffsetMessage(e.messages),[2]}}))}))}))]):[2,[]];case 1:return _.sent(),l=c.length>=this._prevResultLimit,i.localCacheEnabled&&a.put(new s.ba({type:s.bb.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:this.channel.url,starting_point:this._startingPoint,measured_on:"load_prev",event:l?"cache_hit":"cache_miss",max_db_size:null!==(t=null===(e=i.localCacheConfig)||void 0===e?void 0:e.maxSize)&&void 0!==t?t:0,use_local_cache:i.localCacheEnabled,collection_id:this._key,message_init_policy:""}})),l&&(null===(n=this._backgroundSync)||void 0===n?void 0:n.isWrappingMessages(c))?[3,3]:(d=!1,[4,(0,s.B)((function(){return(0,s._)(h,void 0,void 0,(function(){var e,t,n,r,i,o,l,h=this;return(0,s.b)(this,(function(_){switch(_.label){case 0:return e=s.V.of(this._iid).cacheContext,[4,this._getRemoteMessages(u,{prevLimit:this._prevResultLimit,reverse:!0,checkingContinuousMessages:e.localCacheEnabled})];case 1:return t=_.sent(),(c=this._filterUnderOffsetMessage(t.messages)).length>0&&((n=this._syncRange).extends.apply(n,(0,s.p)([],(0,s.q)(c.map((function(e){return e.createdAt}))),!1)),(null===(r=this._backgroundSync)||void 0===r?void 0:r.range.overlap(this._syncRange))&&t.isContinuousMessages&&(d=!0,null===(i=this._backgroundSync)||void 0===i||i.range.extends(this._syncRange.top))),c=c.filter((function(e){return Fe(h._messages,e)<0})),this._hasPrevious=c.length>=this._prevResultLimit,d&&a.put(new s.ba({type:s.bb.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:this.channel.url,starting_point:this._startingPoint,measured_on:"load_prev",event:"cache_fetch",max_db_size:null!==(l=null===(o=e.localCacheConfig)||void 0===o?void 0:o.maxSize)&&void 0!==l?l:0,use_local_cache:e.localCacheEnabled,collection_id:this._key,message_init_policy:""}})),[2]}}))}))}))]);case 2:return _.sent(),this._addMessagesToView(c,s.a2.REQUEST_MESSAGE),[3,4];case 3:this._hasPrevious=c.length>=this._prevResultLimit,c.length>0&&this._addMessagesToView(c,s.a2.REQUEST_MESSAGE),_.label=4;case 4:return this._isLoadingPrevious=!1,[2,c]}}))}))},e.prototype.loadNext=function(){var e,t,n;return(0,s._)(this,void 0,void 0,(function(){var r,i,a,o,u,c,l,d,h=this;return(0,s.b)(this,(function(_){switch(_.label){case 0:if(this._isDisposed)throw new s.s({code:s.a9.COLLECTION_DISPOSED,message:"Collection has been disposed."});return r=s.V.of(this._iid),i=r.cacheContext,a=r.statManager,o=r.logger,this._hasNext?this._isLoadingNext?(o.warn("Messages are already fetching."),[2,[]]):(this._isLoadingNext=!0,u=this.viewBottom,c=[],[4,(0,s.B)((function(){return(0,s._)(h,void 0,void 0,(function(){var e;return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,this._getLocalMessages(u,{nextLimit:this._nextResultLimit,inclusive:!1})];case 1:return e=t.sent(),c=this._filterUnderOffsetMessage(e.messages),[2]}}))}))}))]):[2,[]];case 1:return _.sent(),l=c.length>=this._nextResultLimit,i.localCacheEnabled&&a.put(new s.ba({type:s.bb.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:this.channel.url,starting_point:this._startingPoint,measured_on:"load_next",event:l?"cache_hit":"cache_miss",max_db_size:null!==(t=null===(e=i.localCacheConfig)||void 0===e?void 0:e.maxSize)&&void 0!==t?t:0,use_local_cache:i.localCacheEnabled,collection_id:this._key,message_init_policy:""}})),l&&(null===(n=this._backgroundSync)||void 0===n?void 0:n.isWrappingMessages(c))?[3,3]:(d=!1,[4,(0,s.B)((function(){return(0,s._)(h,void 0,void 0,(function(){var e,t,n,r,i,o,l,h,_=this;return(0,s.b)(this,(function(f){switch(f.label){case 0:return e=s.V.of(this._iid).cacheContext,[4,this._getRemoteMessages(u,{nextLimit:this._nextResultLimit,reverse:!0,checkingHasNext:!0,checkingContinuousMessages:e.localCacheEnabled})];case 1:return t=f.sent(),(c=this._filterUnderOffsetMessage(t.messages)).length>0&&((n=this._syncRange).extends.apply(n,(0,s.p)([],(0,s.q)(c.map((function(e){return e.createdAt}))),!1)),(null===(r=this._backgroundSync)||void 0===r?void 0:r.range.overlap(this._syncRange))&&t.isContinuousMessages&&(d=!0,null===(i=this._backgroundSync)||void 0===i||i.range.extends(this._syncRange.bottom))),c=c.filter((function(e){return Fe(_._messages,e)<0})),this._hasNext=null!==(o=t.hasNext)&&void 0!==o?o:c.length>=this._nextResultLimit,d&&a.put(new s.ba({type:s.bb.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:this.channel.url,starting_point:this._startingPoint,measured_on:"load_next",event:"cache_fetch",max_db_size:null!==(h=null===(l=e.localCacheConfig)||void 0===l?void 0:l.maxSize)&&void 0!==h?h:0,use_local_cache:e.localCacheEnabled,collection_id:this._key,message_init_policy:""}})),[2]}}))}))}))]);case 2:return _.sent(),this._addMessagesToView(c,s.a2.REQUEST_MESSAGE),[3,4];case 3:this._hasNext=c.length>=this._nextResultLimit,c.length>0&&this._addMessagesToView(c,s.a2.REQUEST_MESSAGE),_.label=4;case 4:return this._isLoadingNext=!1,[2,c]}}))}))},e.prototype.removeFailedMessage=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:if(this._isDisposed)throw new s.s({code:s.a9.COLLECTION_DISPOSED,message:"Collection has been disposed."});return[4,this._channelManager.removeFailedMessageFromCache(e)];case 1:return n.sent(),(t=this._unsentMessages.findIndex((function(t){return t.reqId===e})))>-1&&this._unsentMessages.splice(t,1),[2]}}))}))},e.prototype.dispose=function(){var e,t,n,r=this;if(!this._isDisposed){this._isDisposed=!0;var i=s.V.of(this._iid),a=i.cacheContext,o=i.dispatcher;this._messages=[],this._clearCheckMyMutedTimer(),this._channel._runIfHandleableWithGroupChannel((function(e){e.myMemberState!==c.NONE&&(r._channel._updateMessageCollectionLastAccessedAt(),o.dispatch(new z({channels:[r._channel],context:{source:s.a2.CHANNEL_LASTACCESSEDAT_UPDATED}})))})),a.localCacheEnabled&&(this._prevFill.stop(),this._nextFill.stop()),null===(e=this._backgroundSync)||void 0===e||e.close(),null===(t=this._changelogSync)||void 0===t||t.close(),null===(n=this._pollChangelogSync)||void 0===n||n.close(),this._channelManager.unsubscribeChannelEvent(this._key),this._channelManager.unsubscribeMessageEvent(this._key),this._connectionEventContext&&this._connectionEventContext.close()}},e}(),st=function(e){function t(t,n){return e.call(this,t,(0,s.g)((0,s.g)({},n),{channelManager:He.of(t)}))||this}return(0,s.c)(t,e),t.prototype.keyOf=function(e){return e.messageId},t.prototype.initialize=function(t){return e.prototype.initialize.call(this,t)},t.prototype.setMessageCollectionHandler=function(e){this._setBaseMessageCollectionHandler(e)},t.prototype._addMessagesToView=function(e,t){var n,r,i=this,o=this._filterUnderOffsetMessage(e),u=[],c=[];try{for(var l=(0,s.t)(o),d=l.next();!d.done;d=l.next()){var h=d.value;if(t===s.a2.SYNC_MESSAGE_FILL)if(h.messageId>0){if((m=Fe(this._messages,h))<0){Fe(this._unsentMessages,h)<0&&u.push(h);var _=Ve(this._messages,h);this._messages.splice(_,0,h)}}else h instanceof a.ad&&(m=Fe(this._unsentMessages,h))<0&&Fe(this._messages,h)<0&&(this._unsentMessages.push(h),u.push(h));else if(h.messageId>0){if((m=Fe(this._messages,h))<0){var f=Fe(this._unsentMessages,h);f<0?u.push(h):(this._unsentMessages.splice(f,1),c.push(h)),_=Ve(this._messages,h),this._messages.splice(_,0,h)}else c.push(h),this._messages[m]=h;if(h.updatedAt>0){var p=this._updateChildMessagesInView(h);c.push.apply(c,(0,s.p)([],(0,s.q)(p),!1))}}else if(h instanceof a.ad){var m;(m=Fe(this._unsentMessages,h))<0?Fe(this._messages,h)<0&&(this._unsentMessages.push(h),u.push(h)):(c.push(h),this._unsentMessages[m]=h)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}(0,s.bl)(t)&&(0,s.G)((function(){return(0,s._)(i,void 0,void 0,(function(){var e,n,r,i,a;return(0,s.b)(this,(function(s){return e={source:t},u.length>0&&(null===(r=null===(n=this._handler)||void 0===n?void 0:n.onMessagesAdded)||void 0===r||r.call(n,e,this.channel,u)),c.length>0&&(null===(a=null===(i=this._handler)||void 0===i?void 0:i.onMessagesUpdated)||void 0===a||a.call(i,e,this.channel,c)),[2]}))}))}))},t.prototype._updateMessagesToView=function(e,t){var n,r,i=this,o=[],u=[],c=[];try{for(var l=(0,s.t)(e),d=l.next();!d.done;d=l.next()){var h,_=d.value;if(_.messageId>0)if((h=Fe(this._messages,_))>=0)u.push(_),this._messages[h]=_;else{var f=Fe(this._unsentMessages,_);if(f>=0){var p=(0,s.q)(this._unsentMessages.splice(f,1),1)[0];if(this.hasNext&&p)c.push(p);else{u.push(_);var m=Ve(this._messages,_);this._messages.splice(m,0,_)}}else{var g=this._messages.map((function(e){return e.createdAt}));(_.createdAt<Math.min.apply(Math,(0,s.p)([],(0,s.q)(g),!1))&&!this._hasPrevious||_.createdAt>Math.max.apply(Math,(0,s.p)([],(0,s.q)(g),!1))&&!this._hasNext)&&o.push(_)}}else _ instanceof a.ad&&(h=Fe(this._unsentMessages,_))>=0&&(u.push(_),this._unsentMessages[h]=_)}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return(0,s.bl)(t)&&(0,s.G)((function(){return(0,s._)(i,void 0,void 0,(function(){var e,n,r,i,a;return(0,s.b)(this,(function(s){return e={source:t},u.length>0?null===(r=null===(n=this._handler)||void 0===n?void 0:n.onMessagesUpdated)||void 0===r||r.call(n,e,this.channel,u):c.length>0?null===(a=null===(i=this._handler)||void 0===i?void 0:i.onMessagesDeleted)||void 0===a||a.call(i,e,this.channel,[],c):o.length>0&&this._addMessagesToView(o,t),[2]}))}))})),u},t}(it),at={coverUrl:void 0,coverImage:void 0,isDistinct:void 0,isPublic:void 0,isDiscoverable:void 0,accessCode:void 0,name:void 0,data:void 0,customType:void 0,operatorUserIds:void 0,messageSurvivalSeconds:void 0},ot=function(e){function t(t){var n=this,r=t.channelUrl,i=t.token,a=t.limit,o=t.order,u=t.mutedMemberFilter,c=t.memberStateFilter,l=t.nicknameStartsWithFilter,d=t.operatorFilter;return(n=e.call(this)||this).method=s.A.GET,n.path="".concat(s.aA,"/").concat(encodeURIComponent(r),"/members"),n.params={token:i,limit:a,order:o,muted_member_filter:u,member_state_filter:c,nickname_startswith:l,operator_filter:d,show_member_is_muted:!0,show_read_receipt:!0,show_delivery_receipt:!0},n}return(0,s.c)(t,e),t}(s.f),ut=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.members=[];var i=n.next,s=n.members;return r.token=i,s&&s.length>0&&(r.members=s.map((function(e){return new C(t,e)}))),r}return(0,s.c)(t,e),t}(s.h);!function(e){e.ALL="all",e.MUTED="muted",e.UNMUTED="unmuted"}(et||(et={})),function(e){e.MEMBER_NICKNAME_ALPHABETICAL="member_nickname_alphabetical",e.OPERATOR_THEN_MEMBER_ALPHABETICAL="operator_then_member_alphabetical"}(tt||(tt={})),function(e){e.ALL="all",e.JOINED="joined_only",e.INVITED="invited_only",e.INVITED_BY_FRIEND="invited_by_friend",e.INVITED_BY_NON_FRIEND="invited_by_non_friend"}(nt||(nt={}));var ct=function(e){function t(t,n,r){var i,a,o,u,c=this;return(c=e.call(this,t,n,s.C.GROUP,r)||this).mutedMemberFilter=et.ALL,c.memberStateFilter=nt.ALL,c.nicknameStartsWithFilter=null,c.operatorFilter=k.ALL,c.order=tt.MEMBER_NICKNAME_ALPHABETICAL,c.mutedMemberFilter=null!==(i=r.mutedMemberFilter)&&void 0!==i?i:et.ALL,c.memberStateFilter=null!==(a=r.memberStateFilter)&&void 0!==a?a:nt.ALL,c.nicknameStartsWithFilter=null!==(o=r.nicknameStartsWithFilter)&&void 0!==o?o:null,c.order=null!==(u=r.order)&&void 0!==u?u:tt.MEMBER_NICKNAME_ALPHABETICAL,c}return(0,s.c)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&(0,s.X)(et,this.mutedMemberFilter)&&(0,s.X)(nt,this.memberStateFilter)&&((0,s.a)("string",this.nicknameStartsWithFilter)||null===this.nicknameStartsWithFilter)&&(0,s.X)(k,this.operatorFilter)&&(0,s.X)(tt,this.order)},t.prototype.next=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a;return(0,s.b)(this,(function(o){switch(o.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=s.V.of(this._iid).requestQueue,t=new ot((0,s.u)((0,s.g)((0,s.g)({},this),{token:this._token}))),[4,e.send(t)]):[3,2]:[3,5];case 1:return n=o.sent(),r=n.as(ut),i=r.members,a=r.token,this._token=a,this._hasNext=!!a,this._isLoading=!1,[2,i];case 2:return[2,[]];case 3:throw s.s.queryInProgress;case 4:return[3,6];case 5:throw s.s.invalidParameters;case 6:return[2]}}))}))},t}(s.aC),lt=function(e){function t(t){var n=this,r=t.channelUrl,i=t.userId,a=t.accessCode;return(n=e.call(this)||this).method=s.A.PUT,n.path="".concat(s.aA,"/").concat(encodeURIComponent(r),"/accept"),n.params={user_id:i,access_code:a},n}return(0,s.c)(t,e),t}(s.f),dt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.channel=new Ot(t,n),r.channel.myMemberState=c.JOINED,r}return(0,s.c)(t,e),t}(s.h),ht=function(e){function t(t){var n=this,r=t.channelUrl,i=t.isDistinct,a=t.isPublic,o=t.isDiscoverable,u=t.coverUrl,c=t.coverImage,l=t.accessCode,d=t.name,h=t.data,_=t.customType,f=t.operatorUserIds,p=t.messageSurvivalSeconds;return(n=e.call(this)||this).method=s.A.PUT,n.path="".concat(s.aA,"/").concat(encodeURIComponent(r)),n.params=(0,s.e)({is_distinct:i,is_public:a,is_discoverable:o,name:d,data:h,custom_type:_,cover_url:u,cover_file:c,access_code:l,operator_ids:f,message_survival_seconds:p}),n}return(0,s.c)(t,e),t}(s.f),_t=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.channel=new Ot(t,n),r}return(0,s.c)(t,e),t}(s.h),ft=function(e){function t(t){var n=this,r=t.channelUrl;return(n=e.call(this)||this).method=s.A.DELETE,n.path="".concat(s.aA,"/").concat(encodeURIComponent(r)),n}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(t,n){return e.call(this,t,n)||this}),e)}(s.h);var pt=function(e){function t(t){var n=this,r=t.channelUrl;return(n=e.call(this)||this).method=s.A.DELETE,n.path="".concat(s.aA,"/").concat(encodeURIComponent(r),"/hide"),n}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(s.h);var mt=function(e){function t(t){var n=t.userId,r=t.channelUrl,i=t.countPreference,a=e.call(this)||this;return a.method=s.A.PUT,a.path="".concat(s.d,"/").concat(encodeURIComponent(n),"/count_preference/").concat(encodeURIComponent(r)),a.params={count_preference:i},a}return(0,s.c)(t,e),t}(s.f),gt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.countPreference=n.count_preference,r}return(0,s.c)(t,e),t}(s.h),yt=function(e){function t(t){var n=this,r=t.channelUrl,i=t.locale;return(n=e.call(this)||this).method=s.A.PUT,n.path="".concat(s.aA,"/").concat(encodeURIComponent(r),"/reset_user_history"),n.params=(0,s.e)({locale:i}),n}return(0,s.c)(t,e),t}(s.f),vt=function(e){function t(t,n){var r=e.call(this,t,n)||this,i=n.ts_message_offset;return r.messageOffsetTimestamp=i,r}return(0,s.c)(t,e),t}(s.h),bt=(0,s.g)((0,s.g)({},a.am),{scheduledAt:void 0,file:void 0,fileUrl:void 0,fileName:void 0,mimeType:void 0,fileSize:void 0,thumbnailSizes:void 0,requireAuth:!1}),Mt=(0,s.g)((0,s.g)({},a.ao),{scheduledAt:void 0}),Et=function(e){function t(t){var n,r,i=this;i=e.call(this)||this;var o=[];t.mentionType===s.ak.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map((function(e){return e.userId}))));var u=t.channelType,c=t.channelUrl,l=t.scheduledMessageId;return i.method=s.A.PUT,i.path="".concat((0,s.am)(u),"/").concat(encodeURIComponent(c),"/scheduled_messages/").concat(encodeURIComponent(l)),i.params=(0,s.e)((0,s.u)({req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:s.aG.FILE,url:t.fileUrl,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,thumbnails:null===(n=t._thumbnails)||void 0===n?void 0:n.map((function(e){return a.aq.payloadify(e)})),custom_type:t.customType,data:t.data,require_auth:t.requireAuth,mention_type:t.mentionType,mentioned_user_ids:o,sorted_metaarray:null===(r=t.metaArrays)||void 0===r?void 0:r.map((function(e){return a.ar.payloadify(e)})),apple_critical_alert_options:t.appleCriticalAlertOptions?a.as.payloadify(t.appleCriticalAlertOptions):null,push_option:t.pushNotificationDeliveryOption})),i}return(0,s.c)(t,e),t}(s.f),Lt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.message=new a.a0(t,n),r}return(0,s.c)(t,e),t}(s.h),wt=function(e){function t(t){var n,r=this;r=e.call(this)||this;var i=[];t.mentionType===s.ak.USERS&&(t.mentionedUserIds?i=t.mentionedUserIds:t.mentionedUsers&&(i=t.mentionedUsers.map((function(e){return e.userId}))));var o=t.channelType,u=t.channelUrl,c=t.scheduledMessageId;return r.method=s.A.PUT,r.path="".concat((0,s.am)(o),"/").concat(encodeURIComponent(u),"/scheduled_messages/").concat(encodeURIComponent(c)),r.params=(0,s.e)((0,s.u)({req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:s.aG.USER,message:t.message,custom_type:t.customType,data:t.data,mention_type:t.mentionType,mentioned_user_ids:i,sorted_metaarray:null===(n=t.metaArrays)||void 0===n?void 0:n.map((function(e){return a.ar.payloadify(e)})),apple_critical_alert_options:t.appleCriticalAlertOptions?a.as.payloadify(t.appleCriticalAlertOptions):null,target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption})),r}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(t,n){var r=e.call(this,t,n)||this;return r.message=new a.$(t,n),r}),e)}(s.h);var Tt,kt,St=function(e){function t(t){var n=e.call(this)||this,r=t.channelType,i=t.channelUrl,a=t.scheduledMessageId;return n.method=s.A.DELETE,n.path="".concat((0,s.am)(r),"/").concat(encodeURIComponent(i),"/scheduled_messages/").concat(encodeURIComponent(a)),n}return(0,s.c)(t,e),t}(s.f),Dt=function(e){function t(t){var n=e.call(this)||this,r=t.channelType,i=t.channelUrl,a=t.scheduledMessageId;return n.method=s.A.POST,n.path="".concat((0,s.am)(r),"/").concat(encodeURIComponent(i),"/scheduled_messages/").concat(encodeURIComponent(a),"/send_now"),n}return(0,s.c)(t,e),t}(s.f),Ct=function(e){function t(t){var n=t.userId,r=t.channelUrl,i=t.pushTriggerOption,a=e.call(this)||this;return a.method=s.A.PUT,a.path="".concat(s.d,"/").concat(encodeURIComponent(n),"/push_preference/").concat(encodeURIComponent(r)),a.params={push_trigger_option:i},a}return(0,s.c)(t,e),t}(s.f),At=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.pushTriggerOption=n.push_trigger_option,r.enabled=n.enable,r}return(0,s.c)(t,e),t}(s.h),It=function(e){function t(t){var n=t.userId,r=t.channelUrl,i=e.call(this)||this;return i.method=s.A.GET,i.path="".concat(s.d,"/").concat(encodeURIComponent(n),"/push_preference/").concat(encodeURIComponent(r)),i}return(0,s.c)(t,e),t}(s.f),Nt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.pushTriggerOption=n.push_trigger_option,r.enabled=n.enable,r}return(0,s.c)(t,e),t}(s.h);!function(e){e.ALL="all",e.UNREAD_MESSAGE_COUNT_ONLY="unread_message_count_only",e.UNREAD_MENTION_COUNT_ONLY="unread_mention_count_only",e.OFF="off"}(Tt||(Tt={})),function(e){e.UNHIDDEN="unhidden",e.HIDDEN_ALLOW_AUTO_UNHIDE="hidden_allow_auto_unhide",e.HIDDEN_PREVENT_AUTO_UNHIDE="hidden_prevent_auto_unhide"}(kt||(kt={}));var Yt,Ot=function(e){function t(t,n){var r,i,o,u,l,d,h,_,f,p,m,g,y,v,b,M,E,L,w,T,k=this;return(k=e.call(this,t,n)||this)._unreadMemberStateMap=new Map,k._undeliveredMemberStateMap=new Map,k._typingStatus=new Map,k._lastMemberCountUpdated=0,k._typingStarted=0,k._typingEnded=0,k._hasBotInfo={general:!1,ai:!1},k.isDistinct=!1,k.isSuper=!1,k.isBroadcast=!1,k.isExclusive=!1,k.isPublic=!1,k.isDiscoverable=!0,k.isChatNotification=!1,k.isAccessCodeRequired=!1,k.isPushEnabled=!1,k.unreadMessageCount=0,k.unreadMentionCount=0,k.totalUnreadReplyCount=0,k.members=[],k.memberCount=0,k.joinedMemberCount=0,k.hiddenState=kt.UNHIDDEN,k.lastMessage=null,k.messageOffsetTimestamp=0,k.messageSurvivalSeconds=-1,k.myMemberState=c.NONE,k.myRole=s.a8.NONE,k.myMutedState=s.bf.UNMUTED,k.myLastRead=0,k.myCountPreference=Tt.ALL,k.myPushTriggerOption=s.$.DEFAULT,k.inviter=null,k.invitedAt=0,k.joinedAt=0,k.lastPinnedMessage=null,k._latestMessageInfo=null,k._pinnedMessagesUpdatedAt=0,k._myMutedRemainingTime=-1,k.channelType=s.C.GROUP,k.isDistinct=null!==(i=n.is_distinct)&&void 0!==i&&i,k.isSuper=null!==(o=n.is_super)&&void 0!==o&&o,k.isBroadcast=null!==(u=n.is_broadcast)&&void 0!==u&&u,k.isExclusive=null!==(l=n.is_exclusive)&&void 0!==l&&l,k.isPublic=null!==(d=n.is_public)&&void 0!==d&&d,k.isDiscoverable=null!==(h=n.is_discoverable)&&void 0!==h?h:k.isPublic,k.isChatNotification=null!==(_=n.is_chat_notification)&&void 0!==_&&_,k.isAccessCodeRequired=null!==(f=n.is_access_code_required)&&void 0!==f&&f,k.isPushEnabled=null!==(p=n.is_push_enabled)&&void 0!==p&&p,Array.isArray(n.members)&&(r=k.members).push.apply(r,(0,s.p)([],(0,s.q)(n.members.map((function(e){return new C(k._iid,e)}))),!1)),k.memberCount=null!==(m=n.member_count)&&void 0!==m?m:0,k.joinedMemberCount=null!==(g=n.joined_member_count)&&void 0!==g?g:0,k.hiddenState=(0,s.X)(kt,n.hidden_state)?n.hidden_state:kt.UNHIDDEN,k.messageOffsetTimestamp=null!==(y=n.ts_message_offset)&&void 0!==y?y:0,k.messageSurvivalSeconds=null!==(v=n.message_survival_seconds)&&void 0!==v?v:-1,k.lastMessage=n.last_message?(0,a.T)(k._iid,(0,s.g)({channel_type:k.channelType},n.last_message)):null,n.read_receipt&&Object.keys(n.read_receipt).forEach((function(e){(0,s.a)("number",n.read_receipt[e])&&k._updateUnreadMemberState(e,n.read_receipt[e])})),n.delivery_receipt&&Object.keys(n.delivery_receipt).forEach((function(e){(0,s.a)("number",n.delivery_receipt[e])&&k._updateUndeliveredMemberState(e,n.delivery_receipt[e])})),k.myMemberState=(0,s.X)(c,n.member_state)?n.member_state:c.NONE,k.myRole=(0,s.X)(s.a8,n.my_role)?n.my_role:s.a8.NONE,(0,s.X)(s.bf,n.is_muted)?k.myMutedState=n.is_muted:(0,s.a)("boolean",n.is_muted)?k.myMutedState=n.is_muted?s.bf.MUTED:s.bf.UNMUTED:k.myMutedState=s.bf.UNMUTED,k.myCountPreference=(0,s.X)(Tt,n.count_preference)?n.count_preference:Tt.ALL,k.myPushTriggerOption=(0,s.X)(s.$,n.push_trigger_option)?n.push_trigger_option:s.$.ALL,k.myLastRead=null!==(b=n.user_last_read)&&void 0!==b?b:0,k.inviter=n.inviter?new s.U(k._iid,n.inviter):null,k.invitedAt=null!==(M=n.invited_at)&&void 0!==M?M:0,k.joinedAt=null!==(E=n.joined_ts)&&void 0!==E?E:0,k._updateUnreadCount(null!==(L=n.unread_message_count)&&void 0!==L?L:0,null!==(w=n.unread_mention_count)&&void 0!==w?w:0),k.totalUnreadReplyCount=null!==(T=n.total_unread_thread_message_count)&&void 0!==T?T:0,k.lastPinnedMessage=n.latest_pinned_message?(0,a.T)(k._iid,(0,s.g)({channel_type:k.channelType},n.latest_pinned_message)):null,n.latest_message&&(k._latestMessageInfo={messageId:n.latest_message.message_id,createdAt:n.latest_message.created_at}),k._hasBotInfo={general:!!n.has_bot,ai:!!n.has_ai_bot},k}return(0,s.c)(t,e),Object.defineProperty(t.prototype,"isHidden",{get:function(){return this.hiddenState!==kt.UNHIDDEN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isTyping",{get:function(){return this._typingStatus.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cachedUnreadMemberState",{get:function(){var e,t,n={};try{for(var r=(0,s.t)(this._unreadMemberStateMap),i=r.next();!i.done;i=r.next()){var a=(0,s.q)(i.value,2),o=a[0],u=a[1];n[o]=u}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cachedUndeliveredMemberState",{get:function(){var e,t,n={};try{for(var r=(0,s.t)(this._undeliveredMemberStateMap),i=r.next();!i.done;i=r.next()){var a=(0,s.q)(i.value,2),o=a[0],u=a[1];n[o]=u}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasBot",{get:function(){return this._hasBotInfo.general},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasAiBot",{get:function(){return this._hasBotInfo.ai},enumerable:!1,configurable:!0}),t.payloadify=function(t){return(0,s.e)((0,s.u)((0,s.g)((0,s.g)({},e.payloadify.call(this,t)),{is_access_code_required:t.isAccessCodeRequired,is_distinct:t.isDistinct,is_super:t.isSuper,is_broadcast:t.isBroadcast,is_exclusive:t.isExclusive,is_public:t.isPublic,is_discoverable:t.isDiscoverable,is_muted:t.myMutedState,is_push_enabled:t.isPushEnabled,unread_message_count:t.unreadMessageCount,unread_mention_count:t.unreadMentionCount,total_unread_thread_message_count:t.totalUnreadReplyCount,push_trigger_option:t.myPushTriggerOption,count_preference:t.myCountPreference,hidden_state:t.hiddenState,member_count:t.memberCount,joined_member_count:t.joinedMemberCount,member_state:t.myMemberState,my_role:t.myRole,user_last_read:t.myLastRead,ts_message_offset:t.messageOffsetTimestamp,message_survival_seconds:t.messageSurvivalSeconds,read_receipt:t.cachedUnreadMemberState,delivery_receipt:t.cachedUndeliveredMemberState,members:t.members.map((function(e){return C.payloadify(e)})),last_message:t.lastMessage?(0,a.at)(t.lastMessage):null,inviter:t.inviter?s.U.payloadify(t.inviter):null,invited_at:t.invitedAt,joined_ts:t.joinedAt,latest_pinned_message:t.lastPinnedMessage?(0,a.at)(t.lastPinnedMessage):null,latest_message:t._latestMessageInfo?{message_id:t._latestMessageInfo.messageId,created_at:t._latestMessageInfo.createdAt}:null,has_bot:t.hasBot,has_ai_bot:t.hasAiBot})))},t.prototype._shouldUpdateLastMessageWith=function(e){if(e.silent)return!1;var t=s.V.of(this._iid).appInfo;switch(null==t?void 0:t.lastMessageThreadingPolicy){case s.a5.NONE:case s.a5.INCLUDE_REPLY:break;case s.a5.EXCLUDE_REPLY:if(e.parentMessageId>0)return!1;break;case s.a5.INCLUDE_REPLY_TO_CHANNEL:if(e instanceof a.ad&&e.parentMessageId>0&&!e.replyToChannel)return!1}return!this.lastMessage||this.lastMessage.createdAt<e.createdAt||this.lastMessage.createdAt===e.createdAt&&this.lastMessage.messageId===e.messageId&&this.lastMessage.updatedAt<e.updatedAt},t.prototype._tryUpdateLastMessageAndCallEvents=function(e,t){var n=s.V.of(this._iid).dispatcher,r=He.of(this._iid);this._updateLastMessage(t),r.handlers.map((function(t){t.onChannelChanged&&t.onChannelChanged(e)})),n.dispatch(new z({channels:[e],context:{source:s.a2.EVENT_MESSAGE_SENT}}))},t.prototype._shouldUpdateUnreadCountWith=function(e){var t=s.V.of(this._iid).appInfo;switch(null==t?void 0:t.unreadCountThreadingPolicy){case s.ab.NONE:case s.ab.INCLUDE_REPLY:break;case s.ab.EXCLUDE_REPLY:if(e.parentMessageId>0)return!1;break;case s.ab.INCLUDE_REPLY_TO_CHANNEL:if(e instanceof a.ad&&e.parentMessageId>0&&!e.replyToChannel)return!1}return!0},t.prototype._updateLastMessage=function(e){return!!this._shouldUpdateLastMessageWith(e)&&(this.lastMessage=e,!0)},t.prototype._updateUnreadCount=function(e,t){if("number"==typeof e&&e>=0)if(this.myCountPreference===Tt.ALL||this.myCountPreference===Tt.UNREAD_MESSAGE_COUNT_ONLY)if(this.isExclusive||this.isSuper||this.isBroadcast){var n=s.V.of(this._iid).maxSuperGroupChannelUnreadCount;this.unreadMessageCount=n&&e>=n?n:e}else this.unreadMessageCount=e;else this.unreadMessageCount=0;else this.unreadMessageCount=0;"number"==typeof t&&t>=0&&(this.myCountPreference===Tt.ALL||this.myCountPreference===Tt.UNREAD_MENTION_COUNT_ONLY)?this.unreadMentionCount=t:this.unreadMentionCount=0},t.prototype._updateUnreadMemberState=function(e,t){var n=this._unreadMemberStateMap.get(e);return(!n||n<t)&&(this._unreadMemberStateMap.set(e,t),s.V.of(this._iid).sdkState.userId===e&&(this.myLastRead=t),!0)},t.prototype._updateUndeliveredMemberState=function(e,t){var n=this._undeliveredMemberStateMap.get(e);return(!n||n<t)&&(this._undeliveredMemberStateMap.set(e,t),!0)},t.prototype._updateTypingStatus=function(e,t){void 0===t&&(t=(new Date).getTime()),t>0?this._typingStatus.set(e.userId,{user:e,ts:t}):this._typingStatus.delete(e.userId)},t.prototype._clearTypingStatus=function(){this._typingStatus.clear(),this._typingStarted=0,this._typingEnded=0},t.prototype._setLatestMemberCount=function(e,t,n){var r=!1;return n>=this._lastMemberCountUpdated&&(this._lastMemberCountUpdated=n,r=e!==this.memberCount||t!==this.joinedMemberCount,this.memberCount=e,this.joinedMemberCount=t),r},t.prototype.isReadMessage=function(e){var t=s.V.of(this._iid).sdkState,n=this._unreadMemberStateMap.get(t.userId);return!!n&&n>=e.createdAt},t.prototype.serialize=function(){var e=this;return(0,s.aj)(this,(function(t){t.cachedUnreadMemberState=e.cachedUnreadMemberState,t.cachedUndeliveredMemberState=e.cachedUndeliveredMemberState,Object.assign(t,e._serializeCachedMetaData())}))},t.prototype.createMessageCollection=function(e){return void 0===e&&(e={}),new st(this._iid,(0,s.g)((0,s.g)({},e),{channel:this}))},t.prototype.createMemberListQuery=function(e){return void 0===e&&(e={}),new ct(this._iid,this.url,e)},t.prototype.createThreadedParentMessageListQuery=function(e){return void 0===e&&(e={}),new a.au(this._iid,this.url,this.channelType,e)},t.prototype.addMember=function(e,t){if(void 0===t&&(t=0),!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var n=this.members.findIndex((function(t){return t.userId===e.userId}));if(n>-1){var r=this.members[n];r.state===c.JOINED&&(e.state=r.state),this.members.splice(n,1),this.memberCount--}this.members.push(e),this.memberCount++,this._updateUnreadMemberState(e.userId,t),this._updateUndeliveredMemberState(e.userId,t)}},t.prototype.removeMember=function(e){if(!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var t=e instanceof C?e.userId:e,n=this.members.findIndex((function(e){return e.userId===t}));if(n>-1)return this.members.splice(n,1),this.memberCount--,!0}return!1},t.prototype.getUnreadMemberCount=function(e){var t,n;if(e instanceof a.ad&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var r=s.V.of(this._iid).sdkState,i=e.createdAt,o=0;try{for(var u=(0,s.t)(this.members),l=u.next();!l.done;l=u.next()){var d=l.value;r.userId!==d.userId&&d.state===c.JOINED&&e.sender.userId!==d.userId&&(this.cachedUnreadMemberState[d.userId]||0)<i&&o++}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o}return 0},t.prototype.getUndeliveredMemberCount=function(e){var t,n;if(e instanceof a.ad&&!this.isExclusive&&!this.isSuper&&!this.isBroadcast){var r=s.V.of(this._iid).sdkState,i=e.createdAt,o=0;try{for(var u=(0,s.t)(this.members),l=u.next();!l.done;l=u.next()){var d=l.value;r.userId!==d.userId&&d.state===c.JOINED&&e.sender.userId!==d.userId&&(this.cachedUndeliveredMemberState[d.userId]||0)<i&&o++}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o}return 0},t.prototype.getReadMembers=function(e,t){var n=this;void 0===t&&(t=!1);var r=s.V.of(this._iid).sdkState;if(!r.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var i=e instanceof a.ad?e.sender:null,o=[];return this.members.forEach((function(s){if(t||s.userId!==r.userId&&s.userId!==(null==i?void 0:i.userId)){var a=n._unreadMemberStateMap.get(s.userId);a&&a>=e.createdAt&&o.push(s)}})),o},t.prototype.getUnreadMembers=function(e,t){var n=this;void 0===t&&(t=!1);var r=s.V.of(this._iid).sdkState;if(!r.userId||this.isExclusive||this.isSuper||this.isBroadcast)return[];var i=e instanceof a.ad?e.sender:null,o=[];return this.members.forEach((function(s){if(t||s.userId!==r.userId&&s.userId!==(null==i?void 0:i.userId)){var a=n._unreadMemberStateMap.get(s.userId);a&&a<e.createdAt&&o.push(s)}})),o},t.prototype.getReadStatus=function(e){var t=this;void 0===e&&(e=!1);var n=s.V.of(this._iid).sdkState;if(!n.userId||this.isExclusive||this.isSuper||this.isBroadcast)return null;var r={};return this.members.forEach((function(i){if(e||i.userId!==n.userId){var s=t._unreadMemberStateMap.get(i.userId);r[i.userId]=new a.Y(t._iid,{channel_url:t.url,channel_type:t.channelType,user:C.payloadify(i),ts:null!=s?s:0})}})),r},t.prototype.getDeliveryStatus=function(e){var t=this;void 0===e&&(e=!0);var n=s.V.of(this._iid).sdkState;if(!n.userId||this.isExclusive||this.isSuper||this.isBroadcast)return null;var r={};return this.members.forEach((function(i){if(e||i.userId!==n.userId){var s=t._undeliveredMemberStateMap.get(i.userId);r[i.userId]=new A(t._iid,{channel_url:t.url,channel_type:t.channelType,user:C.payloadify(i),ts:null!=s?s:0})}})),r},t.prototype.getTypingUsers=function(){var e=[];return this._typingStatus.forEach((function(t){var n=t.user;e.push(n)})),e},t.prototype.invalidateTypingStatus=function(){var e=this,t=s.V.of(this._iid).typingIndicatorInvalidateTime,n=Date.now(),r=!1;return this._typingStatus.forEach((function(i,s){var a=i.ts;n-a>=t&&(e._typingStatus.delete(s),r=!0)})),r},t.prototype.refresh=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2,this._refresh()]}))}))},t.prototype._refresh=function(e){return void 0===e&&(e=!1),(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o;return(0,s.b)(this,(function(u){switch(u.label){case 0:return t=s.V.of(this._iid),n=t.requestQueue,r=t.dispatcher,i=new Q({channelUrl:this.url}),[4,n.send(i)];case 1:return a=u.sent(),o=a.as(J).channel,this._update(o),e||r.dispatch(new z({channels:[o],context:{source:s.a2.REFRESH_CHANNEL}})),[2,this]}}))}))},t.prototype.freeze=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,e.prototype.freeze.call(this)];case 1:return t.sent(),s.V.of(this._iid).dispatcher.dispatch(new z({channels:[this],context:{source:s.a2.EVENT_CHANNEL_FROZEN},isWebSocketEventComing:!0})),[2]}}))}))},t.prototype.unfreeze=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,e.prototype.unfreeze.call(this)];case 1:return t.sent(),s.V.of(this._iid).dispatcher.dispatch(new z({channels:[this],context:{source:s.a2.EVENT_CHANNEL_UNFROZEN},isWebSocketEventComing:!0})),[2]}}))}))},t.prototype.updateChannel=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u;return(0,s.b)(this,(function(c){switch(c.label){case 0:return t=(0,s.g)((0,s.g)({},at),e),(0,s.w)(function(e){return(0,s.a)("string",e.coverUrl,!0)&&((0,s.i)(e.coverImage)||(0,s.a)("string",e.coverImage,!0))&&(0,s.a)("boolean",e.isDistinct,!0)&&(0,s.a)("boolean",e.isPublic,!0)&&(0,s.a)("boolean",e.isDiscoverable,!0)&&(0,s.a)("string",e.accessCode,!0)&&(0,s.a)("string",e.name,!0)&&(0,s.a)("string",e.data,!0)&&(0,s.a)("string",e.customType,!0)&&(0,s.Q)("string",e.operatorUserIds,!0)&&(0,s.a)("number",e.messageSurvivalSeconds,!0)}(t)).throw(s.s.invalidParameters),n=s.V.of(this._iid),r=n.dispatcher,i=n.requestQueue,a=new ht((0,s.g)({channelUrl:this.url},t)),[4,i.send(a)];case 1:return o=c.sent(),u=o.as(_t).channel,this._update(u),r.dispatch(new z({channels:[u],context:{source:s.a2.EVENT_CHANNEL_UPDATED},isWebSocketEventComing:!0})),[2,this]}}))}))},t.prototype.invite=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){return(0,s.w)(e.every((function(e){return e instanceof s.U}))).throw(s.s.invalidParameters),[2,this.inviteWithUserIds(e.map((function(e){return e.userId})))]}))}))},t.prototype.inviteWithUserIds=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u;return(0,s.b)(this,(function(c){switch(c.label){case 0:return(0,s.w)((0,s.Q)("string",e)).throw(s.s.invalidParameters),t=s.V.of(this._iid),n=t.dispatcher,r=t.requestQueue,i=t.sessionManager,a=new ve({channelUrl:this.url,userIds:e}),[4,r.send(a)];case 1:return o=c.sent(),u=o.as(be).channel,this._update(u),n.dispatch(new z({channels:[u],context:{source:s.a2.EVENT_CHANNEL_INVITED,inviter:i.currentUser,invitees:[]},isWebSocketEventComing:!0})),[2,this]}}))}))},t.prototype.join=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u;return(0,s.b)(this,(function(l){switch(l.label){case 0:return(0,s.w)((0,s.a)("string",e,!0)).throw(s.s.invalidParameters),t=s.V.of(this._iid),n=t.dispatcher,r=t.sdkState,i=t.requestQueue,a=new fe({channelUrl:this.url,userId:r.userId,accessCode:e}),[4,i.send(a)];case 1:return o=l.sent(),(u=o.as(pe).channel).myMemberState=this.myMemberState=c.JOINED,this._update(u),n.dispatch(new z({channels:[u],context:{source:s.a2.EVENT_CHANNEL_JOINED,users:[]},isWebSocketEventComing:!0})),[2,this]}}))}))},t.prototype.leave=function(e){return void 0===e&&(e=!1),(0,s._)(this,void 0,void 0,(function(){var t,n,r,i;return(0,s.b)(this,(function(a){switch(a.label){case 0:return t=s.V.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new ge({channelUrl:this.url,userId:n.userId,shouldRemoveOperatorStatus:e}),[4,r.send(i)];case 1:return a.sent(),this.myMemberState=c.NONE,[2]}}))}))},t.prototype.acceptInvitation=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u;return(0,s.b)(this,(function(l){switch(l.label){case 0:return(0,s.w)((0,s.a)("string",e,!0)).throw(s.s.invalidParameters),t=s.V.of(this._iid),n=t.dispatcher,r=t.sdkState,i=t.requestQueue,a=new lt({channelUrl:this.url,userId:r.userId,accessCode:e}),[4,i.send(a)];case 1:return o=l.sent(),(u=o.as(dt).channel).myMemberState=this.myMemberState=c.JOINED,this._update(u),n.dispatch(new z({channels:[u],context:{source:s.a2.EVENT_CHANNEL_ACCEPTED_INVITE},isWebSocketEventComing:!0})),[2,this]}}))}))},t.prototype.declineInvitation=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r;return(0,s.b)(this,(function(i){switch(i.label){case 0:return e=s.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new Ee({channelUrl:this.url,userId:t.userId}),[4,n.send(r)];case 1:return i.sent(),this.myMemberState=c.NONE,[2,this]}}))}))},t.prototype.sendUserMessage=function(t){var n=this,r=new a.aG,i=s.V.of(this._iid).dispatcher,u=o.A.of(this._iid);return e.prototype.sendUserMessage.call(this,t).onPending((function(e){u.completeCurrentAndProcessNextAutoResend(e),r._trigger(e)})).onFailed((function(e,t){t&&u.completeCurrentAndProcessNextAutoResend(t),r._triggerFailed(e,t)})).onSucceeded((function(e){u.completeCurrentAndProcessNextAutoResend(e),n._updateLastMessage(e),He.of(n._iid).handlers.map((function(e){e.onChannelChanged&&e.onChannelChanged(n)})),i.dispatch(new z({channels:[n],context:{source:s.a2.EVENT_MESSAGE_SENT}})),r._trigger(e)})),r},t.prototype.updateUserMessage=function(t,n){return(0,s._)(this,void 0,void 0,(function(){var r,i,a,o,u=this;return(0,s.b)(this,(function(c){switch(c.label){case 0:return r=s.V.of(this._iid).dispatcher,[4,e.prototype.updateUserMessage.call(this,t,n)];case 1:return i=c.sent(),a=this._updateLastMessage(i),o=!1,this.lastPinnedMessage&&this.lastPinnedMessage.messageId===i.messageId&&(this.lastPinnedMessage=i,a=!0,o=!0),a&&(He.of(this._iid).handlers.map((function(e){e.onChannelChanged&&e.onChannelChanged(u)})),r.dispatch(new z({channels:[this],context:{source:o?s.a2.EVENT_PINNED_MESSAGE_UPDATED:s.a2.EVENT_MESSAGE_UPDATED}}))),o&&He.of(this._iid).handlers.map((function(e){e.onPinnedMessageUpdated&&e.onPinnedMessageUpdated(u)})),r.dispatch(new s.ao({messages:[i],source:s.a2.EVENT_MESSAGE_UPDATED})),[2,i]}}))}))},t.prototype._autoResendUserMessage=function(t){var n=this,r=new a.aG,i=s.V.of(this._iid).dispatcher,u=o.A.of(this._iid);return e.prototype._autoResendUserMessage.call(this,t).onPending((function(e){u.completeCurrentAndProcessNextAutoResend(e),r._trigger(e)})).onFailed((function(e,t){u.completeCurrentAndProcessNextAutoResend(t),r._triggerFailed(e,t)})).onSucceeded((function(e){var t=He.of(n._iid);u.completeCurrentAndProcessNextAutoResend(e),n._updateLastMessage(e),t.handlers.map((function(e){e.onChannelChanged&&e.onChannelChanged(n)})),i.dispatch(new z({channels:[n],context:{source:s.a2.EVENT_MESSAGE_SENT}})),r._trigger(e)})),r},t.prototype.sendFileMessage=function(t){var n=this,r=new a.aG,i=s.V.of(this._iid).dispatcher,u=o.A.of(this._iid);return e.prototype.sendFileMessage.call(this,t).onPending((function(e){u.completeCurrentAndProcessNextAutoResend(e),r._trigger(e)})).onFailed((function(e,t){t&&u.completeCurrentAndProcessNextAutoResend(t),r._triggerFailed(e,t)})).onSucceeded((function(e){var t=He.of(n._iid);u.completeCurrentAndProcessNextAutoResend(e),n._updateLastMessage(e),t.handlers.map((function(e){e.onChannelChanged&&e.onChannelChanged(n)})),i.dispatch(new z({channels:[n],context:{source:s.a2.EVENT_MESSAGE_SENT}})),r._trigger(e)})),r},t.prototype.sendMultipleFilesMessage=function(t){var n=this,r=new a.av,i=s.V.of(this._iid).dispatcher;return e.prototype.sendMultipleFilesMessage.call(this,t).onPending((function(e){r._trigger(e)})).onFailed((function(e,t){r._triggerFailed(e,t)})).onSucceeded((function(e){var t=He.of(n._iid);n._updateLastMessage(e),t.handlers.map((function(e){e.onChannelChanged&&e.onChannelChanged(n)})),i.dispatch(new z({channels:[n],context:{source:s.a2.EVENT_MESSAGE_SENT}})),r._trigger(e)})).onFileUploaded((function(e,t,n,i){r._triggerOnFileUploaded(e,t,n,i)})),r},t.prototype.updateFileMessage=function(t,n){return(0,s._)(this,void 0,void 0,(function(){var r,i,a,o,u=this;return(0,s.b)(this,(function(c){switch(c.label){case 0:return r=s.V.of(this._iid).dispatcher,[4,e.prototype.updateFileMessage.call(this,t,n)];case 1:return i=c.sent(),a=this._updateLastMessage(i),o=!1,this.lastPinnedMessage&&this.lastPinnedMessage.messageId===i.messageId&&(this.lastPinnedMessage=i,a=!0,o=!0),a&&(He.of(this._iid).handlers.map((function(e){e.onChannelChanged&&e.onChannelChanged(u)})),r.dispatch(new z({channels:[this],context:{source:o?s.a2.EVENT_PINNED_MESSAGE_UPDATED:s.a2.EVENT_MESSAGE_UPDATED}}))),o&&He.of(this._iid).handlers.map((function(e){e.onPinnedMessageUpdated&&e.onPinnedMessageUpdated(u)})),r.dispatch(new s.ao({messages:[i],source:s.a2.EVENT_MESSAGE_UPDATED})),[2,i]}}))}))},t.prototype._autoResendFileMessage=function(t){var n=this,r=new a.aG,i=s.V.of(this._iid).dispatcher,u=o.A.of(this._iid);return e.prototype._autoResendFileMessage.call(this,t).onPending((function(e){u.completeCurrentAndProcessNextAutoResend(e),r._trigger(e)})).onFailed((function(e,t){u.completeCurrentAndProcessNextAutoResend(t),r._triggerFailed(e,t)})).onSucceeded((function(e){var t=He.of(n._iid);u.completeCurrentAndProcessNextAutoResend(e),n._updateLastMessage(e),t.handlers.map((function(e){e.onChannelChanged&&e.onChannelChanged(n)})),i.dispatch(new z({channels:[n],context:{source:s.a2.EVENT_MESSAGE_SENT}})),r._trigger(e)})),r},t.prototype.deleteMessage=function(t){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.deleteMessage.call(this,t)];case 1:return n.sent(),0===t.messageId&&t instanceof a.ad&&s.V.of(this._iid).dispatcher.dispatch(new s.aW({reqId:t.reqId,source:s.a2.EVENT_MESSAGE_DELETED})),[2]}}))}))},t.prototype.hide=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u,c;return(0,s.b)(this,(function(l){switch(l.label){case 0:return t=(0,s.g)((0,s.g)({},we),e),(0,s.w)(function(e){return(0,s.a)("boolean",e.hidePreviousMessages,!0)&&(0,s.a)("boolean",e.allowAutoUnhide,!0)}(t)).throw(s.s.invalidParameters),n=s.V.of(this._iid),r=n.dispatcher,i=n.sdkState,a=n.requestQueue,o=new Te((0,s.g)({channelUrl:this.url,userId:i.userId},t)),[4,a.send(o)];case 1:return u=l.sent(),c=u.as(ke).messageOffsetTimestamp,this.hiddenState=t.allowAutoUnhide?kt.HIDDEN_ALLOW_AUTO_UNHIDE:kt.HIDDEN_PREVENT_AUTO_UNHIDE,t.hidePreviousMessages&&this._updateUnreadCount(0,0),c&&(this.messageOffsetTimestamp=c),r.dispatch(new z({channels:[this],context:{source:s.a2.EVENT_CHANNEL_HIDDEN},isWebSocketEventComing:!0})),[2,this]}}))}))},t.prototype.unhide=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r;return(0,s.b)(this,(function(i){switch(i.label){case 0:return e=s.V.of(this._iid),t=e.dispatcher,n=e.requestQueue,r=new pt({channelUrl:this.url}),[4,n.send(r)];case 1:return i.sent(),this.hiddenState=kt.UNHIDDEN,t.dispatch(new z({channels:[this],context:{source:s.a2.EVENT_CHANNEL_UNHIDDEN},isWebSocketEventComing:!0})),[2,this]}}))}))},t.prototype.delete=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return e=s.V.of(this._iid).requestQueue,t=new ft({channelUrl:this.url}),[4,e.send(t)];case 1:return n.sent(),[2]}}))}))},t.prototype.markAsRead=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,o,u,c=this;return(0,s.b)(this,(function(l){switch(l.label){case 0:return e=s.V.of(this._iid),t=e.sdkState,n=e.dispatcher,r=e.requestQueue,i=new a.aH({channelUrl:this.url}),[4,r.send(i)];case 1:return o=l.sent(),u=o.as(a.ac).readStatus,this._updateUnreadMemberState(t.userId,u.readAt),(this.unreadMessageCount>0||this.unreadMentionCount>0)&&(this._updateUnreadCount(0,0),He.of(this._iid).handlers.map((function(e){e.onChannelChanged&&e.onChannelChanged(c)}))),n.dispatch(new z({channels:[this],context:{source:s.a2.EVENT_CHANNEL_READ}})),[2]}}))}))},t.prototype.markAsDelivered=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r;return(0,s.b)(this,(function(i){switch(i.label){case 0:return e=s.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new Oe({channelUrl:this.url,userId:t.userId}),[4,n.send(r)];case 1:return i.sent(),[2]}}))}))},t.prototype.startTyping=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,s.b)(this,(function(a){switch(a.label){case 0:return e=s.V.of(this._iid),t=e.requestQueue,n=e.typingIndicatorThrottle,(r=(new Date).getTime())-this._typingStarted>=n?(this._typingStarted=r,this._typingEnded=0,i=new De({channelUrl:this.url,time:this._typingStarted}),[4,t.send(i)]):[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}}))}))},t.prototype.endTyping=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,s.b)(this,(function(a){switch(a.label){case 0:return e=s.V.of(this._iid),t=e.requestQueue,n=e.typingIndicatorThrottle,(r=(new Date).getTime())-this._typingEnded>=n?(this._typingStarted=0,this._typingEnded=r,i=new Ae({channelUrl:this.url,time:this._typingStarted}),[4,t.send(i)]):[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}}))}))},t.prototype.createScheduledUserMessage=function(e){e=(0,s.g)((0,s.g)({},a.aw),e),(0,s.w)((0,a.ax)(e)).throw(s.s.invalidParameters);var t=new a.aG;return this._createScheduledUserMessage(e,t),t},t.prototype.updateScheduledUserMessage=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n,r,i;return(0,s.b)(this,(function(o){switch(o.label){case 0:return n=(0,s.g)((0,s.g)({},Mt),t),(0,s.w)(function(e){return(0,a.ap)(e)&&(0,s.a)("number",e.scheduledAt,!0)}(n)).throw(s.s.invalidParameters),r=s.V.of(this._iid).requestQueue,i=new wt((0,s.g)({reqId:this._generateRequestId(),scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url},n)),[4,r.send(i)];case 1:return[2,o.sent().as(a.aI).message]}}))}))},t.prototype.createScheduledFileMessage=function(e){var t=this;e=(0,s.g)((0,s.g)({},a.ay),e),(0,s.w)((0,a.az)(e)).throw(s.s.invalidParameters);var n=Date.now(),r=this._generateRequestId(),i=new a.aG;return(0,s.ax)(a.aJ).then((function(){var a=t._createPendingScheduledFileMessage(e,r,n);(0,s.G)((function(){return(0,s._)(t,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2,i._trigger(a)]}))}))}))})),(0,s.i)(e.file)?this._uploadFileAndUpdateParams(e).then((function(){return t._createScheduledFileMessage(e,i,r,n)})):this._createScheduledFileMessage(e,i,r,n),i},t.prototype.updateScheduledFileMessage=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n,r;return(0,s.b)(this,(function(i){switch(i.label){case 0:return n=(0,s.g)((0,s.g)({},bt),t),(0,s.w)(function(e){return(0,a.an)(e)&&(0,s.a)("number",e.scheduledAt,!0)&&((0,s.i)(e.file)||(0,s.a)("string",e.fileUrl))&&(0,s.a)("string",e.fileName,!0)&&(0,s.a)("string",e.mimeType,!0)&&(0,s.a)("number",e.fileSize,!0)&&(null===e.thumbnailSizes||void 0===e.thumbnailSizes||e.thumbnailSizes.every((function(e){return(0,s.a)("object",e)&&e.maxWidth>0&&e.maxHeight>0})))}(n)).throw(s.s.invalidParameters),(0,s.i)(n.file)?[4,this._uploadFileAndUpdateParams(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return r=new Et((0,s.g)({reqId:this._generateRequestId(),scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url},n)),[4,s.V.of(this._iid).requestQueue.send(r)];case 3:return[2,i.sent().as(Lt).message]}}))}))},t.prototype.cancelScheduledMessage=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return t=new St({scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url}),[4,s.V.of(this._iid).requestQueue.send(t)];case 1:return n.sent(),[2]}}))}))},t.prototype.sendScheduledMessageNow=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return t=new Dt({scheduledMessageId:e,channelType:this.channelType,channelUrl:this.url}),[4,s.V.of(this._iid).requestQueue.send(t)];case 1:return n.sent(),[2]}}))}))},t.prototype.getMyPushTriggerOption=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a;return(0,s.b)(this,(function(o){switch(o.label){case 0:return e=s.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new It({userId:t.userId,channelUrl:this.url}),[4,n.send(r)];case 1:return i=o.sent(),a=i.as(Nt).pushTriggerOption,this.myPushTriggerOption=a,[2,a]}}))}))},t.prototype.setMyPushTriggerOption=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u;return(0,s.b)(this,(function(c){switch(c.label){case 0:return(0,s.w)((0,s.X)(s.$,e)).throw(s.s.invalidParameters),t=s.V.of(this._iid),n=t.dispatcher,r=t.sdkState,i=t.requestQueue,a=new Ct({userId:r.userId,channelUrl:this.url,pushTriggerOption:e}),[4,i.send(a)];case 1:return o=c.sent(),u=o.as(At).pushTriggerOption,this.myPushTriggerOption=u,n.dispatch(new z({channels:[this],context:{source:s.a2.EVENT_CHANNEL_UPDATED},isWebSocketEventComing:!0})),[2,u]}}))}))},t.prototype.setMyCountPreference=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u;return(0,s.b)(this,(function(c){switch(c.label){case 0:return(0,s.w)((0,s.X)(Tt,e)).throw(s.s.invalidParameters),t=s.V.of(this._iid),n=t.dispatcher,r=t.sdkState,i=t.requestQueue,a=new mt({channelUrl:this.url,userId:r.userId,countPreference:e}),[4,i.send(a)];case 1:return o=c.sent(),u=o.as(gt).countPreference,this.myCountPreference=u,this._updateUnreadCount(this.unreadMessageCount,this.unreadMentionCount),n.dispatch(new z({channels:[this],context:{source:s.a2.EVENT_CHANNEL_UPDATED},isWebSocketEventComing:!0})),[2,u]}}))}))},t.prototype.resetMyHistory=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a,o;return(0,s.b)(this,(function(u){switch(u.label){case 0:return e=s.V.of(this._iid),t=e.dispatcher,n=e.requestQueue,r=e.sdkState,i=new yt({channelUrl:this.url,locale:r.localeForChatbot}),[4,n.send(i)];case 1:return a=u.sent(),o=a.as(vt).messageOffsetTimestamp,this.messageOffsetTimestamp=o,this.lastMessage&&this.lastMessage.createdAt<o&&(this.lastMessage=null),this._updateUnreadCount(0,0),this.totalUnreadReplyCount=0,t.dispatch(new z({channels:[this],context:{source:s.a2.EVENT_CHANNEL_RESET_HISTORY},isWebSocketEventComing:!0})),[2,this]}}))}))},t.prototype._uploadFileAndUpdateParams=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,o,u,c,l,d,h;return(0,s.b)(this,(function(_){switch(_.label){case 0:return(0,s.i)(e.file)?(t=s.V.of(this._iid).requestQueue,n=new a.aL({file:e.file,channelUrl:this.url,thumbnailSizes:e.thumbnailSizes,requestId:this._generateRequestId()}),[4,t.send(n)]):[3,2];case 1:r=_.sent(),i=r.as(a.aK),o=i.url,u=i.fileSize,c=void 0===u?e.fileSize:u,l=i.thumbnails,d=i.requireAuth,h=void 0!==d&&d,e.fileUrl=o,e.fileSize=c,e.requireAuth=h,e._thumbnails=l,_.label=2;case 2:return[2]}}))}))},t.prototype.resendMessage=function(e,t){var n,r=this;if((0,s.w)(e instanceof a.ad&&!e.scheduledInfo&&e.isResendable).throw(s.s.invalidParameters),e.isUserMessage()){var i=null!==(n=e.messageParams)&&void 0!==n?n:(0,a.aA)(e),o=new a.aG;return this._sendUserMessage(i,a.aB.RESEND,e.reqId).onPending((function(e){o._trigger(e)})).onFailed((function(e,t){o._triggerFailed(e,t)})).onSucceeded((function(e){r._tryUpdateLastMessageAndCallEvents(r,e),o._trigger(e)})),o}if(e.isFileMessage()){var u=this._validateFailedFileMessageHasFile(e,t);(0,s.w)(u).throw(s.s.invalidParameters),i=(0,a.aC)(e,t);var c=new a.aG;return this._sendFileMessage(i,a.aB.RESEND,e.reqId).onPending((function(e){c._trigger(e)})).onFailed((function(e,t){c._triggerFailed(e,t)})).onSucceeded((function(e){r._tryUpdateLastMessageAndCallEvents(r,e),c._trigger(e)})),c}if(e.isMultipleFilesMessage()){i=e.messageParams;var l=new a.av;return this._sendMultipleFilesMessage(i,a.aB.RESEND,e.reqId).onPending((function(e){l._trigger(e)})).onFailed((function(e,t){l._triggerFailed(e,t)})).onSucceeded((function(e){r._tryUpdateLastMessageAndCallEvents(r,e),l._trigger(e)})).onFileUploaded((function(e,t,n,r){l._triggerOnFileUploaded(e,t,n,r)})),l}},t.prototype.copyMessage=function(e,t){var n=this;if((0,s.w)(e instanceof a.z&&t instanceof a.ad&&t.sendingStatus===s.ap.SUCCEEDED&&this.url===t.channelUrl&&!t.scheduledInfo).throw(s.s.invalidParameters),t.isUserMessage()){(0,s.w)(!t.poll).throw(s.s.notSupportedError);var r=(0,a.aD)(t),i=new a.aG;return e._sendUserMessage(r).onPending((function(e){i._trigger(e)})).onFailed((function(e,t){i._triggerFailed(e,t)})).onSucceeded((function(t){e.isGroupChannel()&&n._tryUpdateLastMessageAndCallEvents(e,t),i._trigger(t)})),i}if(t.isFileMessage()){r=(0,a.aE)(t);var o=new a.aG;return e._sendFileMessage(r).onPending((function(e){o._trigger(e)})).onFailed((function(e,t){o._triggerFailed(e,t)})).onSucceeded((function(t){e.isGroupChannel()&&n._tryUpdateLastMessageAndCallEvents(e,t),o._trigger(t)})),o}if(t.isMultipleFilesMessage()){if(e.isGroupChannel()){r=(0,a.aF)(t);var u=new a.av;return e._sendMultipleFilesMessage(r,a.aB.COPY).onPending((function(e){u._trigger(e)})).onFailed((function(e,t){u._triggerFailed(e,t)})).onSucceeded((function(t){n._tryUpdateLastMessageAndCallEvents(e,t),u._trigger(t)})).onFileUploaded((function(e,t,n,r){u._triggerOnFileUploaded(e,t,n,r)})),u}throw s.s.channelTypeNotSupportedError}},t}(a.z),xt={},Ut=function(){function e(e){var t=e._iid,n=e.limit,r=void 0===n?100:n,i=this;this.ref=0,this._iid=t,this._limit=r;var a,u=s.V.of(this._iid),c=u.sdkState,l=u.dispatcher,d=u.logger,h=u.cacheContext,_=u.statManager;this._metadataKey=(a=c.userId,"sendbird:".concat(a,"@groupchannel/sync.meta"));var f=function(e){return"sendbird:".concat(e,"@groupchannel/sync")}(c.userId);this._sync=new ze(f,(function(){return(0,s._)(i,void 0,void 0,(function(){var e,t,n,r,i,a,u,l,f,p,m,g,y,v,b,M;return(0,s.b)(this,(function(E){switch(E.label){case 0:return e={hasNext:!0,nextToken:""},[4,this.loadMetadata()];case 1:if(E.sent(),d.debug("channel background sync from",null===(f=this._metadata)||void 0===f?void 0:f.token),null===(p=this._metadata)||void 0===p?void 0:p.completed)return[3,14];t={includeEmpty:!0,includeMetaData:!0,order:o.G.CHRONOLOGICAL},E.label=2;case 2:if(E.trys.push([2,9,12,13]),t.order!==o.G.LATEST_LAST_MESSAGE)return[3,6];E.label=3;case 3:return E.trys.push([3,5,,6]),[4,h.preference.get((0,s.K)(c.appId))];case 4:return n=E.sent(),t.includeChatNotification=Boolean(n),[3,6];case 5:return E.sent(),t.includeChatNotification=!1,[3,6];case 6:return[4,He.of(this._iid).getMyGroupChannels(null!==(g=null===(m=this._metadata)||void 0===m?void 0:m.token)&&void 0!==g?g:"",t,this._limit,s.a2.SYNC_CHANNEL_BACKGROUND)];case 7:return r=E.sent(),i=r.channels,a=r.token,e.hasNext=i.length>=this._limit&&!!a,e.nextToken=a,this._metadata&&(this._metadata.token=a,(l=this._metadata.range).extends.apply(l,(0,s.p)([],(0,s.q)(i.map((function(e){return e.createdAt}))),!1)),this._metadata.completed=!e.hasNext),d.debug("channel background sync progress",e),[4,this.saveMetadata()];case 8:return E.sent(),[3,13];case 9:return u=E.sent(),d.debug("channel background sync error",u),u instanceof s.s&&u.isInvalidTokenError?[4,this.clearMetaData()]:[3,11];case 10:E.sent(),E.label=11;case 11:throw u;case 12:return _.put(new s.ba({type:s.bb.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:"",measured_on:"channel_back_sync",event:"cache_fetch",max_db_size:null!==(v=null===(y=h.localCacheConfig)||void 0===y?void 0:y.maxSize)&&void 0!==v?v:0,use_local_cache:h.localCacheEnabled,starting_point:0,message_init_policy:null!==(M=null===(b=t.order)||void 0===b?void 0:b.toString())&&void 0!==M?M:"",collection_id:c.userId}})),[7];case 13:return[3,15];case 14:e.hasNext=!1,e.nextToken="",E.label=15;case 15:return[2,e]}}))}))})),this._connectionEventContext=l.on((function(e){e instanceof s.D&&(e.stateType===s.F.CONNECTED?i.resume():i.pause())}))}return e.of=function(t){return xt[t]||(xt[t]=new e({_iid:t})),xt[t].ref++,xt[t]},e.clear=function(e){xt[e]&&(xt[e].close(),delete xt[e])},Object.defineProperty(e.prototype,"range",{get:function(){var e,t;return null!==(t=null===(e=this._metadata)||void 0===e?void 0:e.range)&&void 0!==t?t:new Pe({})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"completed",{get:function(){var e;return!!(null===(e=this._metadata)||void 0===e?void 0:e.completed)},enumerable:!1,configurable:!0}),e.prototype.loadMetadata=function(){return(0,s._)(this,void 0,void 0,(function(){var e;return(0,s.b)(this,(function(t){switch(t.label){case 0:return this._metadata?[3,2]:[4,s.V.of(this._iid).cacheContext.preference.get(this._metadataKey)];case 1:e=t.sent(),this._metadata={token:e?e.token:"",range:new Pe(e?e.range:{top:Number.MAX_SAFE_INTEGER,bottom:0}),completed:!!e&&e.completed},t.label=2;case 2:return[2,this._metadata]}}))}))},e.prototype.saveMetadata=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return this._metadata?[4,s.V.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return e.sent(),[2,!0];case 2:return[2,!1]}}))}))},e.prototype.clearMetaData=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return[4,s.V.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return e.sent(),this._metadata=void 0,[2]}}))}))},e.prototype.resume=function(){var e,t,n=s.V.of(this._iid),r=n.logger;n.sessionManager.session.hasSession&&(r.debug("channel background sync resume()"),this._sync.start(null!==(t=null===(e=this._metadata)||void 0===e?void 0:e.token)&&void 0!==t?t:""))},e.prototype.pause=function(){s.V.of(this._iid).logger.debug("channel background sync stop()"),this._sync.stop()},e.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete xt[this._iid])},e}(),Pt={},Rt=function(){function e(e){var t=e._iid,n=this;this.ref=0,this._iid=t;var r,i=s.V.of(this._iid),a=i.logger,o=i.sdkState,u=i.dispatcher,c=i.cacheContext,l=i.statManager;this._metadataKey=(r=o.userId,"sendbird:".concat(r,"@groupchannel/changelogs.meta")),this._subscribers=new s.E;var d=function(e){return"sendbird:".concat(e,"@groupchannel/changelogs")}(o.userId);this._sync=new ze(d,(function(){return(0,s._)(n,void 0,void 0,(function(){var e,t,n,r,i,u,d,h,_,f,p,m;return(0,s.b)(this,(function(g){switch(g.label){case 0:return e={hasNext:!0,nextToken:0},[4,this.loadMetadata()];case 1:g.sent(),a.debug("channel changelog sync from",null===(f=this._metadata)||void 0===f?void 0:f.token),g.label=2;case 2:g.trys.push([2,9,,12]),t={includeEmpty:!0,includeMetaData:!0},g.label=3;case 3:return g.trys.push([3,5,,6]),[4,c.preference.get((0,s.K)(o.appId))];case 4:return n=g.sent(),t.includeChatNotification=Boolean(n),[3,6];case 5:return g.sent(),t.includeChatNotification=!1,[3,6];case 6:return[4,He.of(this._iid).getMyGroupChannelChangeLogs(null!==(m=null===(p=this._metadata)||void 0===p?void 0:p.token)&&void 0!==m?m:"",t,s.a2.SYNC_CHANNEL_CHANGELOGS)];case 7:return r=g.sent(),i=r.updatedChannels,u=r.deletedChannelUrls,d=r.hasMore,h=r.token,this._subscribers.dispatch("progress",{updatedChannels:i,deletedChannelUrls:u,hasMore:d,token:h}),e.hasNext=d,e.nextToken=h,this._metadata&&(this._metadata.token=h),a.debug("channel changelog sync progress",e),[4,this.saveMetadata()];case 8:return g.sent(),c.localCacheEnabled&&l.put(new s.ba({type:s.bb.FEATURE_LOCALCACHE_EVENT,ts:Date.now(),data:{channel_url:"",measured_on:"channel_change_log_sync",event:i.length>0||u.length>0?"cache_miss":"cache_hit",max_db_size:i.length,use_local_cache:c.localCacheEnabled,starting_point:0,message_init_policy:u.length.toString(),collection_id:o.userId}})),[3,12];case 9:return _=g.sent(),a.debug("channel changelog sync error",_),_ instanceof s.s&&_.isInvalidTokenError?[4,this.clearMetadata()]:[3,11];case 10:g.sent(),g.label=11;case 11:throw _;case 12:return[2,e]}}))}))})),this._sync.on("stop",(function(){n._subscribers.dispatch("pause")})),this._connectionEventContext=u.on((function(e){e instanceof s.D&&(e.stateType===s.F.CONNECTED?n.resume():n.pause())}))}return e.of=function(t){return Pt[t]||(Pt[t]=new e({_iid:t})),Pt[t].ref++,Pt[t]},e.clear=function(e){Pt[e]&&(Pt[e].close(),delete Pt[e])},Object.defineProperty(e.prototype,"isRunning",{get:function(){return this._sync.isRunning},enumerable:!1,configurable:!0}),e.prototype.loadMetadata=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r;return(0,s.b)(this,(function(i){switch(i.label){case 0:return this._metadata?[3,2]:(e=s.V.of(this._iid),t=e.cacheContext,n=e.firstConnectedAt,[4,t.preference.get(this._metadataKey)]);case 1:r=i.sent(),this._metadata={token:r?r.token:n},i.label=2;case 2:return[2,this._metadata]}}))}))},e.prototype.saveMetadata=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return this._metadata?[4,s.V.of(this._iid).cacheContext.preference.set(this._metadataKey,this._metadata)]:[3,2];case 1:return e.sent(),[2,!0];case 2:return[2,!1]}}))}))},e.prototype.clearMetadata=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return[4,s.V.of(this._iid).cacheContext.preference.remove(this._metadataKey)];case 1:return e.sent(),this._metadata=void 0,[2]}}))}))},e.prototype.on=function(e,t){return this._subscribers.on(e,t)},e.prototype.resume=function(){s.V.of(this._iid).sessionManager.session.hasSession&&this._sync.start(0)},e.prototype.pause=function(){this._sync.stop()},e.prototype.close=function(){this.ref--,this.ref<=0&&(this.ref=0,this.pause(),this._connectionEventContext.close(),delete Pt[this._iid])},e}(),Ht=function(e,t){return e.findIndex((function(e){return e.isIdentical(t)}))},Ft=function(e,t,n){if(e.length>0){for(var r=Ht(e,t),i=0,s=e.length-1,a=Math.floor((i+s)/2);i<s;){var o=jt(e[a],t,n);if(o>0)s=a,a=Math.floor((i+s)/2);else{if(!(o<0))return{place:a,oldPosition:r};i=a+1,a=Math.floor((i+s)/2)}}return{place:jt(e[a],t,n)>=0?a:a+1,oldPosition:r}}return{place:e.length,oldPosition:-1}},jt=function(e,t,n){switch(n){case o.G.LATEST_LAST_MESSAGE:return e.lastMessage&&t.lastMessage?0==(r=t.lastMessage.createdAt-e.lastMessage.createdAt)?t.createdAt-e.createdAt:r:e.lastMessage?-1:t.lastMessage?1:t.createdAt-e.createdAt;case o.G.CHRONOLOGICAL:return t.createdAt-e.createdAt;case o.G.CHANNEL_NAME_ALPHABETICAL:var r;return 0===(r=e.name.localeCompare(t.name))?e.createdAt-t.createdAt:r;default:return 0}},Vt=function(){function e(e,t){var n=t.filter,r=void 0===n?new N:n,i=t.order,u=void 0===i?o.G.LATEST_LAST_MESSAGE:i,c=t.limit,l=void 0===c?a.Q:c,d=t.includeChangesOnInitialLoad,h=void 0!==d&&d,_=this;this.channels=[],this._isInitialized=!1,this._iid=e,this._key="gcc-".concat((0,s.n)()),this._isDisposed=!1,this._isGetRemoteChannelsSucceeded=!0,this._includeChangesOnInitialLoad=h,this.filter=r,this.order=u,this._hasMore=!0,this._token="",this._limit=l;var f=s.V.of(this._iid),p=f.sdkState,m=f.cacheContext,g=f.dispatcher;m.localCacheEnabled&&(this._backgroundSync=Ut.of(e),this._backgroundSync.resume()),this._changelogSync=Rt.of(e),this._changelogSync.resume(),He.of(this._iid).subscribeChannelEvent(this._key,{onUpdate:function(e,t){var n=t.source;if(q(n)){var r=e.filter((function(e){return _.filter.match(e,p.userId)})),i=e.filter((function(e){return!_.filter.match(e,p.userId)})).map((function(e){return e.url}));r.length>0&&_._addChannelsToView(r,t),i.length>0&&_._removeChannelsFromView(i,t)}},onRemove:function(e,t){_._removeChannelsFromView(e,t)}}),g.on((function(e){e instanceof s.D&&(e.stateType===s.F.CONNECTED?_._isGetRemoteChannelsSucceeded||(0,s._)(_,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return[4,this._revokeLoadMore()];case 1:return e.sent(),[2]}}))})):e.stateType===s.F.LOGOUT&&_.dispose())}))}return Object.defineProperty(e.prototype,"hasMore",{get:function(){return!this._isDisposed&&this._hasMore},enumerable:!1,configurable:!0}),e.prototype.setGroupChannelCollectionHandler=function(e){this._handler=e},e.prototype._addChannelsToView=function(e,t,n){var r,i,a,u,c=this;void 0===n&&(n=!1);var l=[],d=[],h=[];try{for(var _=(0,s.t)(e),f=_.next();!f.done;f=_.next()){var p=f.value,m=Ht(this.channels,p);m>=0&&this.channels.splice(m,1);var g=Ft(this.channels,p,this.order).place;if(m<0)g===this.channels.length?!n&&this._hasMore||(l.push(p),this.channels.push(p)):(l.push(p),this.channels.splice(g,0,p));else switch(t.source){case s.a2.EVENT_CHANNEL_UPDATED:case s.a2.EVENT_MESSAGE_RECEIVED:case s.a2.SYNC_CHANNEL_CHANGELOGS:case s.a2.EVENT_MESSAGE_SENT:this.order===o.G.CHANNEL_NAME_ALPHABETICAL&&this._hasMore&&g===this.channels.length?h.push(p):(this.channels.splice(g,0,p),d.push(p));break;default:this.channels.splice(g,0,p),d.push(p)}}}catch(e){r={error:e}}finally{try{f&&!f.done&&(i=_.return)&&i.call(_)}finally{if(r)throw r.error}}if(h.length>0)try{for(var y=(0,s.t)(h),v=y.next();!v.done;v=y.next()){p=v.value;var b=Ht(this.channels,p);-1!==b&&this.channels.splice(b,1)}}catch(e){a={error:e}}finally{try{v&&!v.done&&(u=y.return)&&u.call(y)}finally{if(a)throw a.error}}q(t.source)&&(0,s.G)((function(){return(0,s._)(c,void 0,void 0,(function(){var e,n,r;return(0,s.b)(this,(function(i){return l.length>0&&(null===(e=this._handler)||void 0===e?void 0:e.onChannelsAdded)&&this._handler.onChannelsAdded(t,l),d.length>0&&(null===(n=this._handler)||void 0===n?void 0:n.onChannelsUpdated)&&this._handler.onChannelsUpdated(t,d),h.length>0&&(null===(r=this._handler)||void 0===r?void 0:r.onChannelsDeleted)&&this._handler.onChannelsDeleted(t,h.map((function(e){return e.url}))),[2]}))}))}))},e.prototype._removeChannelsFromView=function(e,t){var n,r,i=this,a=[],o=function(e){var t=u.channels.findIndex((function(t){return t.url===e}));t>=0&&(a.push(u.channels[t].url),u.channels.splice(t,1))},u=this;try{for(var c=(0,s.t)(e),l=c.next();!l.done;l=c.next())o(l.value)}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return q(t.source)&&a.length>0&&(0,s.G)((function(){return(0,s._)(i,void 0,void 0,(function(){var e;return(0,s.b)(this,(function(n){return(null===(e=this._handler)||void 0===e?void 0:e.onChannelsDeleted)&&this._handler.onChannelsDeleted(t,a),[2]}))}))})),a},e.prototype._getLocalChannels=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return e=He.of(this._iid),t=this.channels.length>0?function(e,t){var n,r,i,s;switch(t){case o.G.LATEST_LAST_MESSAGE:return null!==(r=null===(n=e.lastMessage)||void 0===n?void 0:n.createdAt)&&void 0!==r?r:e.createdAt;case o.G.CHRONOLOGICAL:return e.createdAt;case o.G.CHANNEL_NAME_ALPHABETICAL:return e.name;default:return null!==(s=null===(i=e.lastMessage)||void 0===i?void 0:i.createdAt)&&void 0!==s?s:e.createdAt}}(this.channels[this.channels.length-1],this.order):null,[4,e.getChannelsFromCache(t,this.filter,this.order,this._limit,t?this.channels[this.channels.length-1].url:void 0)];case 1:return[2,n.sent()]}}))}))},e.prototype._getRemoteChannels=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return[4,He.of(this._iid).getMyGroupChannels(this._token,(0,s.u)((0,s.g)((0,s.g)({},this.filter),{userIdsFilter:this.filter.userIdsFilter,searchFilter:this.filter.searchFilter,order:this.order})),this._limit)];case 1:return e=r.sent(),t=e.channels,n=e.token,this._token=n,this._hasMore=!!n,[2,t]}}))}))},e.prototype._revokeLoadMore=function(){return(0,s._)(this,void 0,void 0,(function(){var e;return(0,s.b)(this,(function(t){switch(t.label){case 0:if(this._isDisposed)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this._getRemoteChannels()];case 2:return e=t.sent(),this._isGetRemoteChannelsSucceeded=!0,this._addChannelsToView(e,{source:s.a2.REQUEST_CHANNEL},!0),[3,4];case 3:return t.sent(),this._isGetRemoteChannelsSucceeded=!1,[3,4];case 4:return[2]}}))}))},e.prototype.loadMore=function(){var e;return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u,c,l,d,h,_,f,p,m,g,y,v,b,M=this;return(0,s.b)(this,(function(E){switch(E.label){case 0:if(this._isDisposed)throw new s.s({code:s.a9.COLLECTION_DISPOSED,message:"Collection has been disposed."});return t=null,this._includeChangesOnInitialLoad&&0===this.channels.length&&this._changelogSync.isRunning?[4,new Promise((function(e){M._changelogSyncSubscriberContext=M._changelogSync.on("progress",(function(t){return e(t)})).on("pause",(function(){return e(null)}))}))]:[3,2];case 1:t=E.sent(),null===(e=this._changelogSyncSubscriberContext)||void 0===e||e.close(),E.label=2;case 2:return n=s.V.of(this._iid),r=n.cacheContext,i=n.connectionManager,a=n.statManager,this._isInitialized?[3,5]:(this._isInitialized=!0,r.localCacheEnabled?[4,this._backgroundSync.loadMetadata()]:[3,4]);case 3:E.sent(),E.label=4;case 4:a.put(new s.bc({type:s.bb.FEATURE_LOCALCACHE,data:{use_local_cache:r.localCacheEnabled,collection_interface:{group_channel:!0}}})),E.label=5;case 5:return o=[],this._hasMore?!r.localCacheEnabled||i.isConnected&&!this._backgroundSync.completed?[3,7]:[4,(0,s.B)((function(){return(0,s._)(M,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return[4,this._getLocalChannels()];case 1:return o=e.sent(),[2]}}))}))}))]:[3,11];case 6:return E.sent(),this._hasMore=o.length>=this._limit,[3,10];case 7:return E.trys.push([7,9,,10]),[4,this._getRemoteChannels()];case 8:return o=E.sent(),this._isGetRemoteChannelsSucceeded=!0,[3,10];case 9:return E.sent(),this._isGetRemoteChannelsSucceeded=!1,[3,10];case 10:this._addChannelsToView(o,{source:s.a2.REQUEST_CHANNEL},!0),E.label=11;case 11:if(t){try{for(u=(0,s.t)(t.updatedChannels),c=u.next();!c.done;c=u.next())l=c.value,(m=Ht(o,l))>=0?o[m]=l:(d=Ft(o,l,this.order).place,o.splice(d,0,l))}catch(e){g={error:e}}finally{try{c&&!c.done&&(y=u.return)&&y.call(u)}finally{if(g)throw g.error}}h=o.map((function(e){return e.url}));try{for(_=(0,s.t)(t.deletedChannelUrls),f=_.next();!f.done;f=_.next())p=f.value,(m=h.indexOf(p))>=0&&(o.splice(m,1),h.splice(m,1))}catch(e){v={error:e}}finally{try{f&&!f.done&&(b=_.return)&&b.call(_)}finally{if(v)throw v.error}}}return[2,o]}}))}))},e.prototype.dispose=function(){var e,t,n;this._isDisposed||(this._isDisposed=!0,this.channels.length>0&&this.channels.splice(0,this.channels.length),null===(e=this._backgroundSync)||void 0===e||e.close(),null===(t=this._changelogSync)||void 0===t||t.close(),null===(n=this._changelogSyncSubscriberContext)||void 0===n||n.close(),He.of(this._iid).unsubscribeChannelEvent(this._key))},e}(),qt=function(e){function t(t){var n=this,r=t.token,i=t.limit,a=t.order,o=t.includeEmpty,u=t.membershipFilter,c=t.channelNameContainsFilter,l=t.channelUrlsFilter,d=t.customTypesFilter,h=t.customTypeStartsWithFilter,_=t.superChannelFilter,f=t.metadataOrderKeyFilter,p=t.metadataKey,m=t.metadataValues,g=t.metadataValueStartsWith,y=t.includeFrozen,v=t.includeMetaData;return(n=e.call(this)||this).method=s.A.GET,n.path=s.aA,n.params=(0,s.e)((0,s.u)({token:r,limit:i,order:a,show_member:!0,show_read_receipt:!0,show_delivery_receipt:!0,show_empty:o,public_mode:M.PUBLIC,public_membership_mode:u,name_contains:c,channel_urls:l,custom_types:d,custom_type_startswith:h,super_mode:_,metadata_order_key:f,metadata_key:p,metadata_values:m,metadata_value_startswith:g,show_frozen:y,show_metadata:v})),n}return(0,s.c)(t,e),t}(s.f),zt=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.channels=[];var i=n.next,s=n.channels,a=n.ts;return r.token=i,s&&s.length>0&&(r.channels=s.map((function(e){return e.ts=a,new Ot(t,e)}))),r.ts="number"==typeof a?a:0,r}return(0,s.c)(t,e),t}(s.h);!function(e){e.ALL="all",e.JOINED="joined"}(Yt||(Yt={}));var Gt=function(e){function t(t,n){var r,i,s,a,u,c,l,d,h,_,f,p,m,g,y=this;return(y=e.call(this,t,n)||this).includeEmpty=!1,y.includeFrozen=!0,y.includeMetaData=!0,y.channelUrlsFilter=null,y.customTypesFilter=null,y.customTypeStartsWithFilter=null,y.channelNameContainsFilter=null,y.membershipFilter=Yt.ALL,y.superChannelFilter=L.ALL,y.metadataKey=null,y.metadataValues=null,y.metadataOrderKeyFilter=null,y.metadataValueStartsWith=null,y.order=o.P.CHRONOLOGICAL,y.includeEmpty=null!==(r=n.includeEmpty)&&void 0!==r&&r,y.includeFrozen=null===(i=n.includeFrozen)||void 0===i||i,y.includeMetaData=null===(s=n.includeMetaData)||void 0===s||s,y.channelUrlsFilter=null!==(a=n.channelUrlsFilter)&&void 0!==a?a:null,y.customTypesFilter=null!==(u=n.customTypesFilter)&&void 0!==u?u:null,y.customTypeStartsWithFilter=null!==(c=n.customTypeStartsWithFilter)&&void 0!==c?c:null,y.channelNameContainsFilter=null!==(l=n.channelNameContainsFilter)&&void 0!==l?l:null,y.membershipFilter=null!==(d=n.membershipFilter)&&void 0!==d?d:Yt.ALL,y.superChannelFilter=null!==(h=n.superChannelFilter)&&void 0!==h?h:L.ALL,y.metadataKey=null!==(_=n.metadataKey)&&void 0!==_?_:null,y.metadataValues=null!==(f=n.metadataValues)&&void 0!==f?f:null,y.metadataOrderKeyFilter=null!==(p=n.metadataOrderKeyFilter)&&void 0!==p?p:null,y.metadataValueStartsWith=null!==(m=n.metadataValueStartsWith)&&void 0!==m?m:null,y.order=null!==(g=n.order)&&void 0!==g?g:o.P.CHRONOLOGICAL,y}return(0,s.c)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&(0,s.a)("boolean",this.includeEmpty)&&(0,s.a)("boolean",this.includeFrozen)&&(0,s.a)("boolean",this.includeMetaData)&&(0,s.a)("string",this.channelNameContainsFilter,!0)&&(0,s.Q)("string",this.channelUrlsFilter,!0)&&(0,s.Q)("string",this.customTypesFilter,!0)&&(0,s.a)("string",this.customTypeStartsWithFilter,!0)&&(0,s.X)(Yt,this.membershipFilter)&&(0,s.X)(L,this.superChannelFilter)&&(0,s.X)(o.P,this.order)&&(0,s.a)("string",this.metadataOrderKeyFilter,!0)&&(0,s.a)("string",this.metadataKey,!0)&&(0,s.Q)("string",this.metadataValues,!0)&&(0,s.a)("string",this.metadataValueStartsWith,!0)},t.prototype.next=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a,o;return(0,s.b)(this,(function(u){switch(u.label){case 0:return this._validate()?this._isLoading?[3,3]:(e=[],this._hasNext?(this._isLoading=!0,t=s.V.of(this._iid).requestQueue,n=new qt((0,s.u)((0,s.g)((0,s.g)({},this),{token:this._token}))),[4,t.send(n)]):[3,2]):[3,5];case 1:return r=u.sent(),i=r.as(zt),a=i.channels,o=i.token,this._token=o,this._hasNext=!!o,this._isLoading=!1,[2,a];case 2:return[2,e];case 3:throw s.s.queryInProgress;case 4:return[3,6];case 5:throw s.s.invalidParameters;case 6:return[2]}}))}))},t}(s.aP),Wt=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return Object.keys(t).forEach((function(e){n.hasOwnProperty(e)&&(n[e]=t[e])})),n}return(0,s.c)(t,e),t}(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onUserJoined=s.aB,t.onUserLeft=s.aB,t.onUserReceivedInvitation=s.aB,t.onUserDeclinedInvitation=s.aB,t.onChannelHidden=s.aB,t.onUnreadMemberStatusUpdated=s.aB,t.onUndeliveredMemberStatusUpdated=s.aB,t.onTypingStatusUpdated=s.aB,t.onPollUpdated=s.aB,t.onPollVoted=s.aB,t.onPollDeleted=s.aB,t.onPinnedMessageUpdated=s.aB,t}return(0,s.c)(t,e),t}((function(){this.onUserMuted=s.aB,this.onUserUnmuted=s.aB,this.onUserBanned=s.aB,this.onUserUnbanned=s.aB,this.onChannelChanged=s.aB,this.onChannelDeleted=s.aB,this.onChannelFrozen=s.aB,this.onChannelUnfrozen=s.aB,this.onOperatorUpdated=s.aB,this.onChannelMemberCountChanged=s.aB,this.onMetaDataCreated=s.aB,this.onMetaDataUpdated=s.aB,this.onMetaDataDeleted=s.aB,this.onMetaCounterCreated=s.aB,this.onMetaCounterUpdated=s.aB,this.onMetaCounterDeleted=s.aB,this.onMessageReceived=s.aB,this.onMessageUpdated=s.aB,this.onMessageDeleted=s.aB,this.onMentionReceived=s.aB,this.onReactionUpdated=s.aB,this.onThreadInfoUpdated=s.aB}))),Bt=function(e){function t(t){var n=this,r=t.token,i=t.limit,a=t.order,o=t.reverse,u=t.channelUrl,c=t.messageTypeFilter,l=t.scheduledStatus;return(n=e.call(this)||this).method=s.A.GET,n.path="".concat(s.bd),n.params=(0,s.e)((0,s.u)({token:r,limit:i,reverse:o,channel_url:u,order:a,message_type:c,status:l})),n}return(0,s.c)(t,e),t}(s.f),Kt=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.scheduledMessages=[];var i=n.next,s=n.scheduled_messages;return r.token=i,r.scheduledMessages=s.map((function(e){return(0,a.T)(t,e)})),r}return(0,s.c)(t,e),t}(s.h),Qt=function(e){function t(t,n){var r,i,a,o,u,c=this;return(c=e.call(this,t,n)||this).channelUrl=null,c.order=null,c.reverse=!1,c.scheduledStatus=null,c.messageTypeFilter=s.ar.ALL,c.channelUrl=null!==(r=n.channelUrl)&&void 0!==r?r:null,c.order=null!==(i=n.order)&&void 0!==i?i:null,c.reverse=null!==(a=n.reverse)&&void 0!==a&&a,c.scheduledStatus=null!==(o=n.scheduledStatus)&&void 0!==o?o:null,c.messageTypeFilter=null!==(u=n.messageTypeFilter)&&void 0!==u?u:s.ar.ALL,c}return(0,s.c)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&(0,s.a)("string",this.channelUrl,!0)&&((0,s.X)(o.S,this.order)||null===this.order)&&(0,s.a)("boolean",this.reverse)&&((0,s.Q)(a.V,this.scheduledStatus)||null===this.scheduledStatus)&&(0,s.X)(s.ar,this.messageTypeFilter)},t.prototype.next=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a;return(0,s.b)(this,(function(o){switch(o.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=s.V.of(this._iid).requestQueue,t=new Bt((0,s.u)((0,s.g)((0,s.g)({},this),{token:this._token}))),[4,e.send(t)]):[3,2]:[3,5];case 1:return n=o.sent(),r=n.as(Kt),i=r.scheduledMessages,a=r.token,this._token=a,this._hasNext=!!a,this._isLoading=!1,[2,i];case 2:return[2,[]];case 3:throw s.s.queryInProgress;case 4:return[3,6];case 5:throw s.s.invalidParameters;case 6:return[2]}}))}))},t}(s.aP),Jt=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="groupChannel",t}return(0,s.c)(t,e),t.prototype.init=function(t,n){var r=n.sdkState,i=n.dispatcher,s=n.sessionManager,a=n.requestQueue,o=n.logger,u=n.onlineDetector,c=n.cacheContext;e.prototype.init.call(this,t,{sdkState:r,dispatcher:i,sessionManager:s,requestQueue:a,logger:o,onlineDetector:u,cacheContext:c}),this._manager=new He(t,{sdkState:r,cacheContext:c,dispatcher:i,sessionManager:s,requestQueue:a,logger:o})},t.prototype.createGroupChannelCollection=function(e){return void 0===e&&(e={}),new Vt(this._iid,e)},t.prototype.createMyGroupChannelListQuery=function(e){return void 0===e&&(e={}),new Ye(this._iid,e)},t.prototype.createPublicGroupChannelListQuery=function(e){return void 0===e&&(e={}),new Gt(this._iid,e)},t.prototype.createScheduledMessageListQuery=function(e){return void 0===e&&(e={}),new Qt(this._iid,e)},t.prototype.addGroupChannelHandler=function(e,t){(0,s.w)((0,s.a)("string",e)&&t instanceof Wt).throw(s.s.invalidParameters),this._manager.addHandler(e,t)},t.prototype.removeGroupChannelHandler=function(e){(0,s.w)((0,s.a)("string",e)).throw(s.s.invalidParameters),this._manager.removeHandler(e)},t.prototype.removeAllGroupChannelHandlers=function(){this._manager.clearHandler()},t.prototype.buildGroupChannelFromSerializedData=function(e){return this._manager.buildGroupChannelFromSerializedData(e)},t.prototype.buildGroupChannelListQueryFromSerializedData=function(e){return this._manager.buildGroupChannelListQueryFromSerializedData(e)},t.prototype.buildMemberFromSerializedData=function(e){return this._manager.buildMemberFromSerializedData(e)},t.prototype.getChannel=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){return(0,s.w)((0,s.a)("string",e)).throw(s.s.invalidParameters),[2,this._manager.getChannel(e)]}))}))},t.prototype.getChannelWithoutCache=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){return(0,s.w)((0,s.a)("string",e)).throw(s.s.invalidParameters),[2,this._manager.getChannelWithoutCache(e)]}))}))},t.prototype.getMyGroupChannelChangeLogsByToken=function(e,t){return void 0===t&&(t={}),(0,s._)(this,void 0,void 0,(function(){var n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return n=(0,s.g)((0,s.g)({},U),t),(0,s.w)((0,s.a)("string",e)&&P(n)).throw(s.s.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(e,n)];case 1:return[2,r.sent()]}}))}))},t.prototype.getMyGroupChannelChangeLogsByTimestamp=function(e,t){return void 0===t&&(t={}),(0,s._)(this,void 0,void 0,(function(){var n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return n=(0,s.g)((0,s.g)({},U),t),(0,s.w)((0,s.a)("number",e)&&P(n)).throw(s.s.invalidParameters),[4,this._manager.getMyGroupChannelChangeLogs(e,n)];case 1:return[2,r.sent()]}}))}))},t.prototype.getGroupChannelCount=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){return t=(0,s.g)((0,s.g)({},R),e),(0,s.w)(H(t)).throw(s.s.invalidParameters),[2,this._manager.getGroupChannelCount(t)]}))}))},t.prototype.getUnreadItemCount=function(e){return void 0===e&&(e={}),(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,this._manager.getUnreadItemCount(e)];case 1:return[2,t.sent()]}}))}))},t.prototype.getTotalUnreadChannelCount=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return[4,this._manager.getTotalUnreadChannelCount()];case 1:return[2,e.sent()]}}))}))},t.prototype.getTotalUnreadMessageCount=function(e){return void 0===e&&(e={}),(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,this._manager.getTotalUnreadMessageCount(e)];case 1:return[2,t.sent()]}}))}))},t.prototype.getTotalScheduledMessageCount=function(e){return void 0===e&&(e={}),(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,this._manager.getTotalScheduledMessageCount(e)];case 1:return[2,t.sent()]}}))}))},t.prototype.getSubscribedTotalUnreadMessageCount=function(){return this._manager.getSubscribedTotalUnreadMessageCount()},t.prototype.getSubscribedCustomTypeTotalUnreadMessageCount=function(){return this._manager.getSubscribedCustomTypeTotalUnreadMessageCount()},t.prototype.getSubscribedCustomTypeUnreadMessageCount=function(e){return this._manager.getSubscribedCustomTypeUnreadMessageCount(e)},t.prototype.createChannel=function(e){return void 0===e&&(e={}),(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){return t=(0,s.g)((0,s.g)({},O),e),(0,s.w)(x(t)).throw(s.s.invalidParameters),[2,this._manager.createChannel(t)]}))}))},t.prototype.createDistinctChannelIfNotExist=function(e){return void 0===e&&(e={}),(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){return t=(0,s.g)((0,s.g)({},O),e),(0,s.w)(x(t)).throw(s.s.invalidParameters),t&&(t.isDistinct=!0),[2,this.createChannel(t)]}))}))},t.prototype.createChannelWithUserIds=function(e,t,n,r,i,a){return void 0===t&&(t=!1),void 0===i&&(i=""),void 0===a&&(a=""),(0,s._)(this,void 0,void 0,(function(){var o;return(0,s.b)(this,(function(u){return o=(0,s.g)((0,s.g)({},O),{invitedUserIds:e,isDistinct:t,name:n,data:i,customType:a}),"string"==typeof r?o.coverUrl=r:o.coverImage=r,[2,this.createChannel(o)]}))}))},t.prototype.markAsReadAll=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return this._manager.markAsReadAll(),[2]}))}))},t.prototype.markAsReadWithChannelUrls=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){return(0,s.w)((0,s.Q)("string",e)).throw(s.s.invalidParameters),this._manager.markAsReadWithChannelUrls(e),[2]}))}))},t.prototype.markAsDelivered=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return(0,s.w)((0,s.a)("string",e)).throw(s.s.invalidParameters),[4,this.getChannel(e)];case 1:return[4,t.sent().markAsDelivered()];case 2:return t.sent(),[2]}}))}))},t}(s.a$)},17869:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>ge});var r,i=n(27364),s=n(51698),a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="poll",t}return(0,i.c)(t,e),t.prototype.init=function(t,n){var r=n.sdkState,s=n.dispatcher,a=n.sessionManager,o=n.requestQueue,u=n.logger,c=n.onlineDetector,l=n.cacheContext;e.prototype.init.call(this,t,{sdkState:r,dispatcher:s,sessionManager:a,requestQueue:o,logger:u,onlineDetector:c,cacheContext:l}),this._manager=new i.aO(t,{sdkState:r,dispatcher:s,sessionManager:a,requestQueue:o,logger:u,onlineDetector:c,cacheContext:l})},t.prototype.create=function(e){return(0,i._)(this,void 0,void 0,(function(){var t;return(0,i.b)(this,(function(n){return t=(0,i.g)((0,i.g)({},i.b1),e),(0,i.w)((0,i.b2)(t)).throw(i.s.invalidParameters),[2,this._manager.create(t)]}))}))},t.prototype.get=function(e){return(0,i._)(this,void 0,void 0,(function(){var t;return(0,i.b)(this,(function(n){return t=(0,i.g)((0,i.g)({},i.b3),e),(0,i.w)((0,i.b4)(t)).throw(i.s.invalidParameters),[2,this._manager.get(t)]}))}))},t.prototype.getOption=function(e){return(0,i._)(this,void 0,void 0,(function(){var t;return(0,i.b)(this,(function(n){return t=(0,i.g)((0,i.g)({},i.b5),e),(0,i.w)((0,i.b6)(t)).throw(i.s.invalidParameters),[2,this._manager.getOption(t)]}))}))},t.prototype.buildPollFromSerializedData=function(e){return this._manager.buildPollFromSerializedData(e)},t}(i.a$),o=n(82950),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.c)(t,e),t}(i.b9),c=function(e){this.key=e.key,this.url=e.url},l=function(e){this.id=e.id,this.name=e.name,this.url=e.url,this.emojis=e.emojis?e.emojis.map((function(e){return new c(e)})):[]},d=function(e){this.emojiHash=e.emoji_hash||"",this.emojiCategories=e.emoji_categories?e.emoji_categories.map((function(e){return new l(e)})):[]},h={profileImage:void 0,profileUrl:void 0,nickname:void 0},_=function(e){return function(t,n){return(0,i._)(void 0,void 0,void 0,(function(){var r,a,u,c;return(0,i.b)(this,(function(l){switch(l.label){case 0:switch(t){case 1:case 2:case 3:case 4:return[3,1];case 5:return[3,2];case 6:return[3,4]}return[3,11];case 1:return n(),[3,12];case 2:return[4,e.reset()];case 3:return l.sent(),n(),[3,12];case 4:return l.trys.push([4,9,,10]),r=function(e){return{v2:function(){return(0,i._)(void 0,void 0,void 0,(function(){return(0,i.b)(this,(function(t){switch(t.label){case 0:return[4,e.commitSchema([{collectionName:s.a,keyName:s.b,index:[(0,o.g)(o.G.LATEST_LAST_MESSAGE),(0,o.g)(o.G.CHRONOLOGICAL),(0,o.g)(o.G.CHANNEL_NAME_ALPHABETICAL)]},{collectionName:s.N,keyName:s.c,index:[(0,s.g)(s.M.CHANNEL_LATEST),(0,s.g)(s.M.NEWEST_CHILD_MESSAGE)]},{collectionName:s.d,keyName:s.e,index:[(0,s.g)(s.M.CHANNEL_LATEST),(0,s.g)(s.M.NEWEST_CHILD_MESSAGE)]},{collectionName:s.f,keyName:s.h}])];case 1:return[2,t.sent()]}}))}))},v3:function(){return(0,i._)(void 0,void 0,void 0,(function(){return(0,i.b)(this,(function(t){switch(t.label){case 0:return[4,e.commitSchema([{collectionName:s.i,keyName:s.j,index:[["-lastMessageUpdatedAt","-createdAt","syncIndex"]]}])];case 1:return[2,t.sent()]}}))}))},v4:function(){return(0,i._)(void 0,void 0,void 0,(function(){return(0,i.b)(this,(function(t){switch(t.label){case 0:return[4,e.commitSchema([{collectionName:s.k,keyName:s.l,index:[(0,s.m)()]}])];case 1:return[2,t.sent()]}}))}))}}}(e),a=r.v2,u=r.v3,c=r.v4,[4,a()];case 5:return l.sent(),[4,u()];case 6:return l.sent(),[4,c()];case 7:return l.sent(),[4,e.collection(s.N).removeIf({where:{channelType:i.C.OPEN}})];case 8:case 9:return l.sent(),[3,10];case 10:return n(),[3,12];case 11:n(),l.label=12;case 12:return[2]}}))}))}},f=function(){return"undefined"!=typeof document?document.visibilityState:"visible"},p=function(e){function t(t){var n=t.getVisibilityState,r=void 0===n?f:n,i=t.initialState,s=void 0===i?"visible":i,a=t.isEnabled,o=void 0===a||a,u=t.pauseCheckDelay,c=void 0===u?3e4:u,l=e.call(this)||this;return l._pauseCheckDelay=3e4,l._currentState="visible",l._getVisibilityState=r,l._pauseCheckDelay=c,l._currentState=s,l._isEnabled=o,l._boundToggleState=l._toggleState.bind(l),l}return(0,i.c)(t,e),Object.defineProperty(t.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAvailable",{get:function(){return"undefined"!=typeof window&&!!window.addEventListener&&!!window.removeEventListener},enumerable:!1,configurable:!0}),t.prototype._toggleState=function(){var e=this,t=this._getVisibilityState();"hidden"!==t?"hidden"===this._currentState&&(this._pauseDelayTimer&&(clearTimeout(this._pauseDelayTimer),this._pauseDelayTimer=void 0),this.dispatch("resume")):"hidden"!==this._currentState&&(this._pauseDelayTimer=setTimeout((function(){e._pauseDelayTimer=void 0,e.dispatch("pause")}),this._pauseCheckDelay)),this._currentState=t},t.prototype.start=function(){this._isEnabled&&this.isAvailable&&(this._boundToggleState=this._toggleState.bind(this),window.addEventListener("visibilitychange",this._boundToggleState,{capture:!0}))},t.prototype.stop=function(){this._isEnabled&&this.isAvailable&&this._boundToggleState&&window.removeEventListener("visibilitychange",this._boundToggleState,{capture:!0})},t}(i.E),m=function(){function e(e){var t=e.logger,n=e.connectionDelegate,r=void 0===n?null:n,i=this;this._onlineWorker=function(){var e;return null===(e=i.connectionDelegate)||void 0===e?void 0:e.reconnect()},this._offlineWorker=function(){var e;return null===(e=i.connectionDelegate)||void 0===e?void 0:e.disconnect()},this.unsubscribes=[],this._onlineListener=function(e){if(i.isAvailableOnWeb)return window.addEventListener("online",e),function(){return window.removeEventListener("online",e,!1)}},this._offlineListener=function(e){if(i.isAvailableOnWeb)return window.addEventListener("offline",e),function(){return window.removeEventListener("offline",e,!1)}},this.logger=t,r&&(this.connectionDelegate=r)}return Object.defineProperty(e.prototype,"isAvailableOnWeb",{get:function(){return"undefined"!=typeof window&&!!window.addEventListener&&"ononline"in window&&"onoffline"in window&&"undefined"!=typeof navigator&&void 0!==navigator.onLine},enumerable:!1,configurable:!0}),e.prototype.setOnlineListener=function(e){Boolean(e)&&"function"==typeof e&&(this._onlineListener=e)},e.prototype.setOfflineListener=function(e){Boolean(e)&&"function"==typeof e&&(this._offlineListener=e)},e.prototype.start=function(){this.unsubscribes=[this._onlineListener(this._onlineWorker),this._offlineListener(this._offlineWorker)]},e.prototype.stop=function(){var e=this;this.unsubscribes.forEach((function(t){try{null==t||t()}catch(t){e.logger.warn(t.message)}})),this.unsubscribes=[]},e.prototype.isOnline=function(){return(0,i._)(this,void 0,void 0,(function(){return(0,i.b)(this,(function(e){return this.isAvailableOnWeb?[2,navigator.onLine]:[2,new Promise((function(e){fetch("https://www.google.com",{method:i.A.GET,mode:"no-cors"}).then((function(){return e(!0)})).catch((function(){return e(!1)}))}))]}))}))},e}(),g=function(e){function t(t){var n=t.userId,r=t.nickname,s=t.profileUrl,a=t.profileImage,o=t.preferredLanguages,u=e.call(this)||this;return u.method=i.A.PUT,u.path="".concat(i.d,"/").concat(encodeURIComponent(n)),u.params=(0,i.e)((0,i.u)({nickname:r,profile_url:s,profile_file:a,preferred_languages:o})),u}return(0,i.c)(t,e),t}(i.f),y=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.user=new i.U(t,(0,i.g)({},n)),r}return(0,i.c)(t,e),t}(i.h),v=function(e){function t(t){var n=t.userId,r=t.token,s=t.deviceOS,a=t.deviceManufacturer,o=t.systemPushEnabled,u=e.call(this)||this;return u.method=i.A.POST,u.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/push/apns"),u.params=(0,i.e)({apns_device_token:r,always_push:!0,device_os:s,device_manufacturer:a,system_push_enabled:o}),u}return(0,i.c)(t,e),t}(i.f);r=i.h,(0,i.c)((function(e,t){var n=r.call(this,e,t)||this;return n.token=t.token,n.type=t.type?i.P[t.type.toLowerCase()]:i.P.UNKNOWN,n.user=new i.U(e,t.user),n}),r);var b=function(e){function t(t){var n=t.userId,r=t.token,s=t.deviceOS,a=t.deviceManufacturer,o=t.systemPushEnabled,u=e.call(this)||this;return u.method=i.A.POST,u.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/push/gcm"),u.params=(0,i.e)({gcm_reg_token:r,always_push:!0,device_os:s,device_manufacturer:a,system_push_enabled:o}),u}return(0,i.c)(t,e),t}(i.f);!function(e){(0,i.c)((function(t,n){var r=e.call(this,t,n)||this;return r.token=n.token,r.type=n.type?i.P[n.type.toLowerCase()]:i.P.UNKNOWN,r.user=new i.U(t,n.user),r}),e)}(i.h);var M=function(e){function t(t){var n=t.userId,r=t.token,s=e.call(this)||this;return s.method=i.A.DELETE,s.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/push/apns/").concat(encodeURIComponent(r)),s}return(0,i.c)(t,e),t}(i.f);!function(e){(0,i.c)((function(t,n){var r=e.call(this,t,n)||this;return r.token=n.token,r.user=new i.U(t,n.user),r.lastDeletedAt=n.device_token_last_deleted_at,r}),e)}(i.h);var E=function(e){function t(t){var n=t.userId,r=t.token,s=e.call(this)||this;return s.method=i.A.DELETE,s.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/push/gcm/").concat(encodeURIComponent(r)),s}return(0,i.c)(t,e),t}(i.f);!function(e){(0,i.c)((function(t,n){var r=e.call(this,t,n)||this;return r.token=n.token,r.user=new i.U(t,n.user),r.lastDeletedAt=n.device_token_last_deleted_at,r}),e)}(i.h);var L=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=i.A.DELETE,r.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/push/apns"),r}return(0,i.c)(t,e),t}(i.f);!function(e){(0,i.c)((function(t,n){var r=e.call(this,t,n)||this;return r.type=n.type?i.P[n.type.toLowerCase()]:i.P.UNKNOWN,r.user=new i.U(t,n.user),r.lastDeletedAt=n.device_token_last_deleted_at,r}),e)}(i.h);var w=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=i.A.DELETE,r.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/push/gcm"),r}return(0,i.c)(t,e),t}(i.f);!function(e){(0,i.c)((function(t,n){var r=e.call(this,t,n)||this;return r.type=n.type?i.P[n.type.toLowerCase()]:i.P.UNKNOWN,r.user=new i.U(t,n.user),r.lastDeletedAt=n.device_token_last_deleted_at,r}),e)}(i.h);var T=function(e){function t(t){var n=t.userId,r=t.type,s=t.token,a=t.ts,o=e.call(this)||this;return o.method=i.A.GET,o.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/push/").concat(encodeURIComponent(r),"/device_tokens"),o.params={created_ts:a,token:s},o}return(0,i.c)(t,e),t}(i.f),k=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.pushTokens={type:n.type?i.P[n.type.toLowerCase()]:i.P.UNKNOWN,deviceTokens:n.device_tokens,hasMore:n.has_more,token:n.token},r}return(0,i.c)(t,e),t}(i.h),S=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=i.A.GET,r.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/channel_invitation_preference"),r}return(0,i.c)(t,e),t}(i.f),D=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.autoAccept=n.auto_accept,r}return(0,i.c)(t,e),t}(i.h),C=function(e){function t(t){var n=t.userId,r=t.willAutoAccept,s=e.call(this)||this;return s.method=i.A.PUT,s.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/channel_invitation_preference"),s.params={auto_accept:r},s}return(0,i.c)(t,e),t}(i.f),A=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.autoAccept=n.auto_accept,r}return(0,i.c)(t,e),t}(i.h),I=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=i.A.GET,r.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/push_preference"),r}return(0,i.c)(t,e),t}(i.f),N=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.preference={doNotDisturbOn:n.do_not_disturb,startHour:n.start_hour,startMin:n.start_min,endHour:n.end_hour,endMin:n.end_min,timezone:n.timezone},r}return(0,i.c)(t,e),t}(i.h),Y=function(e){function t(t){var n=t.userId,r=t.doNotDisturbOn,s=t.startHour,a=t.startMin,o=t.endHour,u=t.endMin,c=t.timezone,l=e.call(this)||this;return l.method=i.A.PUT,l.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/push_preference"),l.params={do_not_disturb:r,start_hour:s,start_min:a,end_hour:o,end_min:u,timezone:c},l}return(0,i.c)(t,e),t}(i.f),O=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.preference={doNotDisturbOn:n.do_not_disturb,startHour:n.start_hour,startMin:n.start_min,endHour:n.end_hour,endMin:n.end_min,timezone:n.timezone},r}return(0,i.c)(t,e),t}(i.h),x=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=i.A.GET,r.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/push_preference"),r}return(0,i.c)(t,e),t}(i.f),U=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.snoozePeriod={isSnoozeOn:n.snooze_enabled},"number"==typeof n.snooze_start_ts&&(r.snoozePeriod.startTs=n.snooze_start_ts),"number"==typeof n.snooze_end_ts&&(r.snoozePeriod.endTs=n.snooze_end_ts),r}return(0,i.c)(t,e),t}(i.h),P=function(e){function t(t){var n=t.userId,r=t.snoozeOn,s=t.startTs,a=t.endTs,o=e.call(this)||this;return o.method=i.A.PUT,o.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/push_preference"),o.params={snooze_enabled:r,snooze_start_ts:s,snooze_end_ts:a},o}return(0,i.c)(t,e),t}(i.f),R=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.snoozePeriod={isSnoozeOn:n.snooze_enabled},"number"==typeof n.snooze_start_ts&&(r.snoozePeriod.startTs=n.snooze_start_ts),"number"==typeof n.snooze_end_ts&&(r.snoozePeriod.endTs=n.snooze_end_ts),r}return(0,i.c)(t,e),t}(i.h),H=function(e){function t(t){var n=t.userId,r=t.blockedUserId,s=e.call(this)||this;return s.method=i.A.POST,s.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/block"),s.params={target_id:r},s}return(0,i.c)(t,e),t}(i.f);!function(e){(0,i.c)((function(t,n){var r=e.call(this,t,n)||this;return r.user=new i.U(t,n),r}),e)}(i.h);var F=function(e){function t(t){var n=t.userId,r=t.unblockedUserId,s=e.call(this)||this;return s.method=i.A.DELETE,s.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/block/").concat(encodeURIComponent(r)),s}return(0,i.c)(t,e),t}(i.f);!function(e){(0,i.c)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(i.h);var j=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=i.A.GET,r.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/push_preference"),r}return(0,i.c)(t,e),t}(i.f),V=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.pushTriggerOption=n.push_trigger_option,r}return(0,i.c)(t,e),t}(i.h),q=function(e){function t(t){var n=t.userId,r=t.pushTriggerOption,s=e.call(this)||this;return s.method=i.A.PUT,s.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/push_preference"),s.params={push_trigger_option:r},s}return(0,i.c)(t,e),t}(i.f),z=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.pushTriggerOption=n.push_trigger_option,r}return(0,i.c)(t,e),t}(i.h),G=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=i.A.GET,r.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/push/template"),r}return(0,i.c)(t,e),t}(i.f),W=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name=n.name,r}return(0,i.c)(t,e),t}(i.h),B=function(e){function t(t){var n=t.userId,r=t.templateName,s=e.call(this)||this;return s.method=i.A.PUT,s.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/push/template"),s.params={name:r},s}return(0,i.c)(t,e),t}(i.f),K=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.name=n.name,r}return(0,i.c)(t,e),t}(i.h),Q=function(e){function t(t){var n=t.userId,r=t.token,s=e.call(this)||this;return s.method=i.A.GET,s.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/friends/changelogs"),s.params={token:r},s}return(0,i.c)(t,e),t}(i.f),J=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.changelogs={addedUsers:n.added.map((function(e){return new i.U(t,e)})),updatedUsers:n.updated.map((function(e){return new i.U(t,e)})),deletedUserIds:n.deleted,hasMore:n.has_more,token:n.next},r}return(0,i.c)(t,e),t}(i.h),Z=function(e){function t(t){var n=t.userId,r=t.discoveries,s=e.call(this)||this;return s.method=i.A.PUT,s.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/friend_discoveries"),s.params={friend_discoveries:r.map((function(e){return{friend_discovery_key:e.friendDiscoveryKey,friend_name:e.friendName}}))},s}return(0,i.c)(t,e),t}(i.f),X=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.friendDiscoveryRequestId=n.friend_discovery_request_id,r}return(0,i.c)(t,e),t}(i.h),$=function(e){function t(t){var n=t.userId,r=t.discoveryKeys,s=e.call(this)||this;return s.method=i.A.DELETE,s.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/friend_discoveries"),s.params={friend_discovery_keys:r},s}return(0,i.c)(t,e),t}(i.f);!function(e){(0,i.c)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(i.h);var ee=function(e){function t(t){var n=t.userId,r=t.userIds,s=e.call(this)||this;return s.method=i.A.POST,s.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/friends"),s.params={user_ids:r},s}return(0,i.c)(t,e),t}(i.f),te=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.users=n.users.map((function(e){return new i.U(t,e)})),r}return(0,i.c)(t,e),t}(i.h),ne=function(e){function t(t){var n=t.userId,r=t.userIds,s=e.call(this)||this;return s.method=i.A.DELETE,s.path="".concat(i.d,"/").concat(encodeURIComponent(n),"/friends"),s.params={user_ids:r},s}return(0,i.c)(t,e),t}(i.f);!function(e){(0,i.c)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(i.h);var re=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=i.A.GET,r.path="".concat(i.d,"/").concat(n,"/allow_friend_discovery"),r.params={},r}return(0,i.c)(t,e),t}(i.f),ie=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.allowFriendDiscovery=n.allow_friend_discovery,r}return(0,i.c)(t,e),t}(i.h),se=function(e){function t(t){var n=t.userId,r=t.allowFriendDiscovery,s=e.call(this)||this;return s.method=i.A.PUT,s.path="".concat(i.d,"/").concat(n,"/allow_friend_discovery"),s.params={allow_friend_discovery:r},s}return(0,i.c)(t,e),t}(i.f);!function(e){(0,i.c)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(i.h);var ae,oe=function(e){function t(){var t=e.call(this)||this;return t.method=i.A.GET,t.path=i.j,t}return(0,i.c)(t,e),t}(i.f),ue=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.emojiContainer=new d(n),r}return(0,i.c)(t,e),t}(i.h),ce=function(e){function t(t){var n=t.categoryId,r=e.call(this)||this;return r.method=i.A.GET,r.path="".concat(i.j,"/").concat(n),r}return(0,i.c)(t,e),t}(i.f),le=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.emojiCategory=new l(n),r}return(0,i.c)(t,e),t}(i.h),de=function(e){function t(t){var n=t.key,r=e.call(this)||this;return r.method=i.A.GET,r.path="".concat(i.k,"/").concat(n),r}return(0,i.c)(t,e),t}(i.f),he=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.emoji=new c(n),r}return(0,i.c)(t,e),t}(i.h),_e=function(e){function t(){var t=e.call(this)||this;return t.method=i.A.GET,t.path="".concat(i.l),t}return(0,i.c)(t,e),t}(i.f),fe=function(e){function t(t,n){var r,i=this,s=null!=n?n:{};return(i=e.call(this,t,n)||this).uikitConfiguration={string:JSON.stringify(s),json:s},i.updatedAt=null!==(r=null==n?void 0:n.updated_at)&&void 0!==r?r:0,i}return(0,i.c)(t,e),t}(i.h);!function(e){e.DELIVERED="DELIVERED",e.CLICKED="CLICKED"}(ae||(ae={}));var pe,me=function(e){function t(t){var n=t.deviceToken,r=t.pushTrackingId,s=t.messageId,a=t.allowedPushNotification,o=t.channelKey,u=t.templateKey,c=t.eventType,l=t.notificationEventDeadline,d=e.call(this)||this;return d.method=i.A.POST,d.path=i.m,d.params=(0,i.e)({device_token:n,push_tracking_id:r,message_id:s,allowed_push_notification:a,channel_key:o,template_key:u,event_type:c,notification_event_deadline:l}),d}return(0,i.c)(t,e),t}(i.f),ge=function(){function e(e,t,n){var r=this;this._storeInitialized=!1,this._iid=e,this.options=t;var s=i.V.of(e),a=s.sdkState,c=s.cacheContext,l=s.dispatcher,d=s.sessionManager,h=s.requestQueue,_=s.logger,f=s.userEventHandlers,g=s.appStateToggleEnabled;this._onlineDetector=new m({logger:_,connectionDelegate:{reconnect:function(){return(0,i._)(r,void 0,void 0,(function(){var t,n,r,s,a,o;return(0,i.b)(this,(function(c){switch(c.label){case 0:if(t=i.V.of(e),n=t.sdkState,r=t.connectionManager,(s=t.sessionManager).session.hasSession)return[3,5];c.label=1;case 1:return c.trys.push([1,3,,4]),[4,r.connect(s.session.authToken)];case 2:return c.sent(),[3,4];case 3:if(a=c.sent(),(0,i.O)(a))throw a;return _.debug("connect failed by reconnect event = ",a),[3,4];case 4:return[3,9];case 5:if("foreground"!==n.appState)return[3,9];c.label=6;case 6:return c.trys.push([6,8,,9]),[4,r.resetAndReconnect()];case 7:return c.sent(),[3,9];case 8:if(o=c.sent(),(0,i.O)(o))throw o;return _.debug("resetAndReconnect failed by reconnect event = ",o),[3,9];case 9:return l.dispatch(new u),[2]}}))}))},disconnect:function(){(0,i.B)((function(){return(0,i._)(r,void 0,void 0,(function(){return(0,i.b)(this,(function(t){switch(t.label){case 0:return[4,i.V.of(e).connectionManager.disconnect()];case 1:return t.sent(),[2]}}))}))}))}}});var y=new o.A(e,{localCacheEnabled:c.localCacheEnabled,enableAutoResend:c.localCacheConfig.enableAutoResend,dispatcher:l,sdkState:a,logger:_});n.forEach((function(t){t.init(e,{sdkState:a,cacheContext:c,dispatcher:l,sessionManager:d,requestQueue:h,logger:_,onlineDetector:r._onlineDetector}),r[t.name]=t})),this._appStateChangeDetector=new p({isEnabled:g}),this._appStateChangeDetector.on("resume",(function(){_.debug("the page resumes from freeze"),r.setForegroundState()})).on("pause",(function(){_.debug("the page freezes"),r.setBackgroundState()})),l.on((function(t){var n;if(t instanceof i.D)t.stateType===i.F.CONNECTED&&y.processNonAutoResendRegisteredPendingMessages();else if(t instanceof i.W){if("USEV"===t.code){var s=t.as(o.U).event;if(s.category===o.a.FRIEND_DISCOVERED){var u=o.b.getDataAsFriendDiscoveredEvent(e,s).friendDiscoveries;(0,i.G)((function(){return(0,i._)(r,void 0,void 0,(function(){return(0,i.b)(this,(function(e){return[2,f.forEach((function(e){e.onFriendsDiscovered&&e.onFriendsDiscovered(u)}))]}))}))}))}}}else if(t instanceof i.H){var l=i.V.of(r._iid).subscribedUnreadMessageCount,d=!1,h=t.ts;"number"==typeof h&&h>l.ts&&(l.all!==t.all&&(d=!0),l.all=t.all>=0?t.all:0,t.customTypes&&Object.keys(t.customTypes).forEach((function(e){l.customTypes[e]!==t.customTypes[e]&&(d=!0),l.customTypes[e]=t.customTypes[e]})),d=d&&l.ts>0,l.ts=h),d&&(0,i.G)((function(){return(0,i._)(r,void 0,void 0,(function(){return(0,i.b)(this,(function(e){return[2,f.forEach((function(e){e.onTotalUnreadMessageCountChanged&&e.onTotalUnreadMessageCountChanged({groupChannelCount:l.all,feedChannelCount:l.feed,customTypeUnreadCount:l.customTypes}),e.onTotalUnreadMessageCountUpdated&&e.onTotalUnreadMessageCountUpdated(l.all,l.customTypes)}))]}))}))}))}else t instanceof i.I?(c.preference.set(r._getUserProfileCacheKey(a.userId),i.J.payloadify(t.userProfile)),(null===(n=t.userProfile.appInfo.notificationInfo)||void 0===n?void 0:n.isEnabled)&&c.preference.set((0,i.K)(r.appId),{value:!0})):t instanceof i.M&&t.error&&t.error.isSessionInvalidatedError&&(_.debug("session revoked."),r._internalDisconnect(t.error))}))}return e.init=function(t){var n=t.appId,r=t.appVersion,o=t.modules,u=void 0===o?[]:o,c=t.options,l=void 0===c?new i.S:c,d=t.debugMode,h=void 0!==d&&d,_=t.customApiHost,f=t.customWebSocketHost,p=t.newInstance,m=void 0!==p&&p,g=t.logLevel,y=t.localCacheEnabled,v=void 0!==y&&y,b=t.localCacheConfig,M=void 0===b?new i.L:b,E=t.localCacheEncryption,L=t.useAsyncStorageStore,w=void 0===L?null:L,T=t.useMMKVStorageStore,k=void 0===T?null:T,S=t.appStateToggleEnabled,D=void 0===S||S;if(!pe||m){var C="su-".concat((0,i.n)()),A=null!=E?E:{encrypt:function(e){return e},decrypt:function(e){return e}},I=new s.L;I.level=null!=g?g:s.n.WARN;var N=new s.o({encryption:A});h||((0,i.o)()?k?N=new s.p({MMKV:k,encryption:A}):w&&(N=new s.A({AsyncStorage:w,encryption:A}),I.warn("AsyncStorage store is deprecated due to the small size limit. Please use MMKVStorage store instead.")):N=new s.I({encryption:A})),new i.V(C,{appId:n,appVersion:r,options:l,apiHost:null!=_?_:"https://api-".concat(n,".sendbird.com"),websocketHost:null!=f?f:"wss://ws-".concat(n,".sendbird.com"),store:N,encryption:A,logger:I,localCacheEnabled:v,localCacheConfig:M,debugMode:h,appStateToggleEnabled:D});var Y=[new s.q,new a],O=new e(C,l,(0,i.p)((0,i.p)([],(0,i.q)(u),!1),(0,i.q)(Y),!1));return pe||(pe=O),O}return pe},Object.defineProperty(e,"instance",{get:function(){return pe},enumerable:!1,configurable:!0}),Object.defineProperty(e,"version",{get:function(){return i.v},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appId",{get:function(){return i.V.of(this._iid).sdkState.appId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appInfo",{get:function(){var e=i.V.of(this._iid).appInfo;return null!=e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"appVersion",{get:function(){var e;return null!==(e=i.V.of(this._iid).sdkState.appVersion)&&void 0!==e?e:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"debugMode",{get:function(){return!!i.V.of(this._iid).debugMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logLevel",{get:function(){return i.V.of(this._iid).logger.level},set:function(e){i.V.of(this._iid).logger.level=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCacheEnabled",{get:function(){return i.V.of(this._iid).cacheContext.localCacheEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localCacheConfig",{get:function(){var e=i.V.of(this._iid).cacheContext;return e.localCacheEnabled?e.localCacheConfig:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ekey",{get:function(){return i.V.of(this._iid).sessionManager.ekey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentUser",{get:function(){var e;return null!==(e=i.V.of(this._iid).sessionManager.currentUser)&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"connectionState",{get:function(){var e=i.V.of(this._iid).connectionManager;return e.isConnected?i.r.OPEN:e.isConnecting?i.r.CONNECTING:i.r.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastConnectedAt",{get:function(){var e=i.V.of(this._iid),t=e.connectedAt;return e.connectionManager.isConnected?t:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fcmPushToken",{get:function(){var e;return null!==(e=this._fcmPushToken)&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"apnsPushToken",{get:function(){var e;return null!==(e=this._apnsPushToken)&&void 0!==e?e:null},enumerable:!1,configurable:!0}),e.prototype._getNestDBVersion=function(){return 7},e.prototype._getPreferenceVersion=function(){return 8},e.prototype._getPreferenceCacheKey=function(e){return"sendbird@".concat(this.appId,"/").concat(e,".pref")},e.prototype._getUserProfileCacheKey=function(e){return"sendbird@".concat(this.appId,"/").concat(e,".profile")},e.prototype._internalDisconnect=function(e){return(0,i._)(this,void 0,void 0,(function(){var t,n,r,s;return(0,i.b)(this,(function(a){switch(a.label){case 0:return t=i.V.of(this._iid),n=t.connectionManager,r=t.sdkState,s=t.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),s.cancelAll(),[4,n.logout(e)];case 1:return a.sent(),[4,this.clearCachedData()];case 2:return a.sent(),r.appState="foreground",[2]}}))}))},e.prototype.getMemoryStoreForDebugging=function(){var e=i.V.of(this._iid),t=e.debugMode,n=e.cacheContext;if(t)return n.store instanceof s.o?n.store:null;throw i.s.debugModeRequired},e.prototype.addExtension=function(e,t){var n=i.V.of(this._iid).sdkState;["sb_uikit","sb_syncmanager","device-os-platform"].indexOf(e)>-1&&n.extensions&&(n.extensions[e]=t)},e.prototype.addSendbirdExtensions=function(e,t,n){var r,s,a=i.V.of(this._iid),o=a.logger,u=a.sdkState,c=new RegExp(i.N);if(0===e.length)return o.debug("sb.addSendbirdExtensions() has failed because the given sendbirdExtensions is empty."),!1;if(e.find((function(e){return!c.test(e.version)})))return o.debug("sb.addSendbirdExtensions() has failed because the given version did not satisfy the SemVer specification."),!1;if(n)try{for(var l=(0,i.t)(Object.entries(n)),d=l.next();!d.done;d=l.next()){var h=(0,i.q)(d.value,2),_=h[0],f=h[1];if(/&|=/.test(_)||/&|=/.test(f))return o.debug("sb.addSendbirdExtensions() has failed because the given customData includes at least one invalid character: = or &."),!1}}catch(e){r={error:e}}finally{try{d&&!d.done&&(s=l.return)&&s.call(l)}finally{if(r)throw r.error}}return u.sendbirdRuntimeEnvironment={sendbirdExtensions:e,deviceOS:t,customData:n},!0},e.prototype.setOnlineListener=function(e){this._onlineDetector.setOnlineListener(e)},e.prototype.setOfflineListener=function(e){this._onlineDetector.setOfflineListener(e)},e.prototype._safeInitializeStore=function(e){return(0,i._)(this,void 0,void 0,(function(){var t;return(0,i.b)(this,(function(n){switch(n.label){case 0:t=i.V.of(this._iid).cacheContext,n.label=1;case 1:return n.trys.push([1,3,,5]),[4,t.store.init(e)];case 2:return n.sent(),this._storeInitialized=!0,[3,5];case 3:return n.sent(),t.replaceStore(new s.o),[4,this._safeInitializeStore(e)];case 4:return n.sent(),[3,5];case 5:return[2]}}))}))},e.prototype.setLocaleForChatbot=function(e){var t=i.V.of(this._iid).sdkState,n=function(e){return e.replace(/[^a-zA-Z-_.]/g,"")}(e.trim());n&&(t.localeForChatbot=n)},e.prototype.initializeCache=function(e){return(0,i._)(this,void 0,void 0,(function(){var t,n,r,a,u,c,l,d,h;return(0,i.b)(this,(function(f){switch(f.label){case 0:if(t=i.V.of(this._iid),n=t.sdkState,r=t.cacheContext,a=t.dispatcher,u=t.logger,n.userId&&n.userId===e)return[3,13];c="sendbird@".concat(n.appId,"/").concat(e,".db"),f.label=1;case 1:return f.trys.push([1,9,11,13]),r.localCacheEnabled?r.nestdb&&r.nestdb.state!==s.v.CLOSED&&r.nestdb.name===c?[3,3]:(l="sendbird@".concat(n.appId,"/").concat(e,".db"),(d=r.nestdb=new s.w({name:l,version:this._getNestDBVersion(),store:r.store,config:new s.x({dbname:l,itemSizeLimit:61440})})).on("upgrade",_(d)),d.on("storeReplaced",(function(e){r.replaceStore(e),r.localCacheEnabled=!1,d.on("upgrade",_(d))})),[4,d.open()]):[3,6];case 2:return f.sent(),this._storeInitialized=!0,a.dispatch(new o.D(this._iid,{userId:e})),[3,5];case 3:return[4,this._safeInitializeStore(c)];case 4:f.sent(),f.label=5;case 5:return n.userId=e,[3,8];case 6:return[4,this._safeInitializeStore(c)];case 7:f.sent(),n.userId=e,f.label=8;case 8:return[3,13];case 9:return h=f.sent(),u.warn("Nest DB Open Failed. ",h),r.store instanceof s.o||(r.replaceStore(new s.o),r.localCacheEnabled=!1),[4,this._safeInitializeStore(c)];case 10:throw f.sent(),n.userId=e,i.s.databaseError;case 11:return[4,this._setupPreference(e)];case 12:return f.sent(),[7];case 13:return[2]}}))}))},e.prototype.getCacheDataSize=function(){return(0,i._)(this,void 0,void 0,(function(){var e;return(0,i.b)(this,(function(t){switch(t.label){case 0:return(e=i.V.of(this._iid).cacheContext).localCacheEnabled&&e.nestdb?[4,e.nestdb.estimateUsage()]:[3,2];case 1:return[2,t.sent()];case 2:return[2,0]}}))}))},e.prototype.clearCachedData=function(){return(0,i._)(this,void 0,void 0,(function(){var e;return(0,i.b)(this,(function(t){switch(t.label){case 0:return(e=i.V.of(this._iid).cacheContext).localCacheEnabled&&e.nestdb?[4,e.nestdb.clear()]:[3,2];case 1:t.sent(),t.label=2;case 2:return this._storeInitialized?[4,e.preference.clear()]:[3,4];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))},e.prototype.clearCachedMessages=function(e){return(0,i._)(this,void 0,void 0,(function(){var t,n,r=this;return(0,i.b)(this,(function(a){switch(a.label){case 0:return(0,i.w)((0,i.Q)("string",e)).throw(i.s.invalidParameters),t=s.t.of(this._iid),n=s.u.of(this._iid),t&&n?[4,Promise.all(e.map((function(e){return(0,i._)(r,void 0,void 0,(function(){return(0,i.b)(this,(function(r){switch(r.label){case 0:return[4,t.removeMessagesOfChannel(e)];case 1:return r.sent(),[4,n.removeMessagesOfChannel(e)];case 2:return r.sent(),[2]}}))}))})))]:[3,2];case 1:a.sent(),a.label=2;case 2:return[2]}}))}))},e.prototype._setupPreference=function(e){return(0,i._)(this,void 0,void 0,(function(){var t,n,r,s,a;return(0,i.b)(this,(function(o){switch(o.label){case 0:return t=i.V.of(this._iid),n=t.sdkState,r=t.cacheContext,s=t.statManager,[4,r.preference.init(this._getPreferenceCacheKey(e),this._getPreferenceVersion())];case 1:return o.sent(),[4,r.preference.get(this._getUserProfileCacheKey(e))];case 2:return(a=o.sent())&&new i.J(this._iid,a).apply(),[4,s.init("sendbird@".concat(n.appId,"/").concat(e,".statlog"))];case 3:return o.sent(),[2]}}))}))},e.prototype._ready=function(e,t,n){return void 0===n&&(n={}),(0,i._)(this,void 0,void 0,(function(){var r,s,a,u,c,l;return(0,i.b)(this,(function(d){switch(d.label){case 0:return(0,i.w)((0,i.a)("string",e)&&(0,i.a)("string",t,!0)).throw(i.s.invalidParameters),r=i.V.of(this._iid),s=r.sdkState,a=r.cacheContext,u=r.connectionManager,c=n.errorForOtherUser,s.userId&&s.userId!==e?c?[3,2]:[4,u.logout()]:[3,3];case 1:return d.sent(),[3,3];case 2:throw c;case 3:return d.trys.push([3,5,,6]),[4,this.initializeCache(e)];case 4:return d.sent(),i.V.of(this._iid).dispatcher.dispatch(new o.R),[3,6];case 5:return d.sent(),l=i.V.of(this._iid).logger,a.localCacheEnabled=!1,l.warn("Cache initialization failed - cache is not available."),[3,6];case 6:return[2]}}))}))},e.prototype.authenticateFeed=function(e,t){return(0,i._)(this,void 0,void 0,(function(){return(0,i.b)(this,(function(n){switch(n.label){case 0:return[4,this.authenticate(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.authenticate=function(e,t){var n;return(0,i._)(this,void 0,void 0,(function(){var r,a,o;return(0,i.b)(this,(function(u){switch(u.label){case 0:return r=i.V.of(this._iid),a=r.sessionManager,o=r.connectionManager,[4,this._ready(e,t,{errorForOtherUser:o.isConnected?i.s.alreadyConnectedAsAnotherUser:void 0})];case 1:return u.sent(),(null===(n=a.session.services)||void 0===n?void 0:n.includes(i.R.CHAT))?[3,3]:(t||a.handler||this.setSessionHandler(new s.S),[4,a.authenticate(e,t)]);case 2:u.sent(),u.label=3;case 3:return[2,this.currentUser]}}))}))},e.prototype.connect=function(e,t){return(0,i._)(this,void 0,void 0,(function(){return(0,i.b)(this,(function(n){switch(n.label){case 0:return[4,this._ready(e,t)];case 1:n.sent(),n.label=2;case 2:return n.trys.push([2,,4,5]),[4,i.V.of(this._iid).connectionManager.connect(t)];case 3:return n.sent(),[3,5];case 4:return this._onlineDetector.start(),this._appStateChangeDetector.start(),[7];case 5:return[2,this.currentUser]}}))}))},e.prototype.reconnect=function(){var e=i.V.of(this._iid),t=e.connectionManager,n=e.sdkState,r=e.sessionManager.session.hasSession;return r&&(this._appStateChangeDetector.start(),this._onlineDetector.start(),t.resetAndReconnect().then((function(){n.appState="foreground"})).catch((function(){}))),r},e.prototype.disconnect=function(){return(0,i._)(this,void 0,void 0,(function(){return(0,i.b)(this,(function(e){switch(e.label){case 0:return[4,this._internalDisconnect()];case 1:return e.sent(),[2]}}))}))},e.prototype.disconnectWebSocket=function(){return(0,i._)(this,void 0,void 0,(function(){var e,t,n;return(0,i.b)(this,(function(r){switch(r.label){case 0:return e=i.V.of(this._iid),t=e.connectionManager,n=e.requestQueue,this._appStateChangeDetector.stop(),this._onlineDetector.stop(),n.cancelAll(),[4,t.disconnectWebSocket(!0)];case 1:return r.sent(),[2]}}))}))},e.prototype.setBackgroundState=function(){var e=i.V.of(this._iid),t=e.connectionManager,n=e.sdkState,r=e.logger;"foreground"===n.appState&&(n.appState="background",r.debug("going background state"),t.background().catch((function(e){r.debug("setBackgroundState error = ",e)})))},e.prototype.setForegroundState=function(){var e=i.V.of(this._iid),t=e.connectionManager,n=e.sdkState,r=e.dispatcher,s=e.logger;"background"===n.appState&&(n.appState="foreground",s.debug("going foreground state"),t.resetAndReconnect().catch((function(e){s.debug("setForgroundState error = ",e)})),r.dispatch(new u))},e.prototype.setSessionHandler=function(e){(0,i.w)(e instanceof s.S).throw(i.s.invalidParameters),i.V.of(this._iid).sessionManager.handler=e},e.prototype.addUserEventHandler=function(e,t){(0,i.w)((0,i.a)("string",e)&&t instanceof s.U).throw(i.s.invalidParameters),i.V.of(this._iid).userEventHandlers.set(e,t)},e.prototype.removeUserEventHandler=function(e){i.V.of(this._iid).userEventHandlers.delete(e)},e.prototype.removeAllUserEventHandler=function(){i.V.of(this._iid).userEventHandlers.clear()},e.prototype.addConnectionHandler=function(e,t){(0,i.w)((0,i.a)("string",e)&&t instanceof s.C).throw(i.s.invalidParameters),i.V.of(this._iid).connectionHandlers.set(e,t)},e.prototype.removeConnectionHandler=function(e){i.V.of(this._iid).connectionHandlers.delete(e)},e.prototype.removeAllConnectionHandler=function(){i.V.of(this._iid).connectionHandlers.clear()},e.prototype.createApplicationUserListQuery=function(e){return void 0===e&&(e={}),new s.r(this._iid,e)},e.prototype.createBlockedUserListQuery=function(e){return void 0===e&&(e={}),new s.B(this._iid,e)},e.prototype.createFriendListQuery=function(e){return void 0===e&&(e={}),new s.F(this._iid,e)},e.prototype.createMessageSearchQuery=function(e){return new s.s(this._iid,e)},e.prototype.createPollListQuery=function(e){return new i.x(this._iid,(0,i.g)({},e))},e.prototype.createPollVoterListQuery=function(e){return new i.y(this._iid,(0,i.g)({},e))},e.prototype.buildUserFromSerializedData=function(e){var t=(0,i.z)(e);return new i.U(this._iid,i.U.payloadify(t))},e.prototype.updateCurrentUserInfo=function(e){return void 0===e&&(e={}),(0,i._)(this,void 0,void 0,(function(){var t,n,r,s,a,o,u;return(0,i.b)(this,(function(c){switch(c.label){case 0:return t=(0,i.g)((0,i.g)({},h),e),(0,i.w)(function(e){return(0,i.i)(e.profileImage,!0)&&(0,i.a)("string",e.profileUrl,!0)&&(0,i.a)("string",e.nickname,!0)}(t)).throw(i.s.invalidParameters),this.currentUser?(n=i.V.of(this._iid),r=n.sdkState,s=n.requestQueue,a=new g((0,i.g)({userId:r.userId},t)),[4,s.send(a)]):[3,2];case 1:return o=c.sent(),u=o.as(y).user,this.currentUser&&(t.nickname&&(this.currentUser.nickname=u.nickname),(t.profileUrl||t.profileImage)&&(this.currentUser.plainProfileUrl=u.profileUrl)),[2,u];case 2:throw i.s.connectionRequired}}))}))},e.prototype.updateCurrentUserInfoWithPreferredLanguages=function(e){return(0,i._)(this,void 0,void 0,(function(){var t,n,r,s,a,o;return(0,i.b)(this,(function(u){switch(u.label){case 0:return(0,i.w)((0,i.Q)("string",e)).throw(i.s.invalidParameters),this.currentUser?(t=i.V.of(this._iid),n=t.sdkState,r=t.requestQueue,s=new g({userId:n.userId,preferredLanguages:e}),[4,r.send(s)]):[3,2];case 1:return a=u.sent(),o=a.as(y).user,this.currentUser&&(this.currentUser.preferredLanguages=o.preferredLanguages),[2,o];case 2:throw i.s.connectionRequired}}))}))},e.prototype.registerFCMPushTokenForCurrentUser=function(e,t){var n,r;return(0,i._)(this,void 0,void 0,(function(){var s,a,o,u,c,l,d=this;return(0,i.b)(this,(function(h){switch(h.label){case 0:if((0,i.w)((0,i.a)("string",e)&&(0,i.a)("string",null==t?void 0:t.deviceManufacturer,!0)).throw(i.s.invalidParameters),(null==t?void 0:t.deviceOS)&&(0,i.w)((0,i.X)(i.Y,t.deviceOS.platform,!0)&&(0,i.a)("string",t.deviceOS.version,!0)).throw(i.s.invalidParameters),!this.currentUser)return[3,6];s={deviceOS:"".concat((null===(n=null==t?void 0:t.deviceOS)||void 0===n?void 0:n.platform)||i.Y.ANDROID,"-").concat((null===(r=null==t?void 0:t.deviceOS)||void 0===r?void 0:r.version)||"unknown"),deviceManufacturer:null==t?void 0:t.deviceManufacturer,systemPushEnabled:null==t?void 0:t.systemPushEnabled},h.label=1;case 1:return h.trys.push([1,4,,5]),a=i.V.of(this._iid),o=a.sessionManager,u=a.sdkState,c=a.requestQueue,o.hasDeviceToken(i.P.FCM,e)?[2,i.T.SUCCESS]:(l=new b({userId:u.userId,token:e,deviceOS:s.deviceOS,deviceManufacturer:s.deviceManufacturer,systemPushEnabled:s.systemPushEnabled}),[4,c.send(l)]);case 2:return h.sent(),[4,(0,i.B)((function(){return(0,i._)(d,void 0,void 0,(function(){return(0,i.b)(this,(function(t){switch(t.label){case 0:return o.setDeviceToken(i.P.FCM,e,s),[4,o.saveDeviceToken()];case 1:return t.sent(),[2]}}))}))}))];case 3:return h.sent(),this._fcmPushToken="",[2,i.T.SUCCESS];case 4:return h.sent(),[2,i.T.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=e,[2,i.T.PENDING];case 7:return[2]}}))}))},e.prototype.unregisterFCMPushTokenForCurrentUser=function(e){return(0,i._)(this,void 0,void 0,(function(){var t,n,r,s,a,o,u=this;return(0,i.b)(this,(function(c){switch(c.label){case 0:if((0,i.w)((0,i.a)("string",e)).throw(i.s.invalidParameters),!this.currentUser)return[3,6];c.label=1;case 1:return c.trys.push([1,4,,5]),t=i.V.of(this._iid),n=t.sessionManager,r=t.sdkState,s=t.requestQueue,a=new E({userId:r.userId,token:e}),[4,s.send(a)];case 2:return o=c.sent().lastDeletedAt,[4,(0,i.B)((function(){return(0,i._)(u,void 0,void 0,(function(){return(0,i.b)(this,(function(t){switch(t.label){case 0:return n.unsetDeviceToken(i.P.FCM,e),n.setDeviceTokenDeletedAt(o),[4,n.saveDeviceToken()];case 1:return t.sent(),[2]}}))}))}))];case 3:return c.sent(),this._fcmPushToken="",[2,i.T.SUCCESS];case 4:return c.sent(),[2,i.T.ERROR];case 5:return[3,7];case 6:return this._fcmPushToken=e,[2,i.T.PENDING];case 7:return[2]}}))}))},e.prototype.unregisterFCMPushTokenAllForCurrentUser=function(){return(0,i._)(this,void 0,void 0,(function(){var e,t,n,r,s,a,o=this;return(0,i.b)(this,(function(u){switch(u.label){case 0:return this.currentUser?(e=i.V.of(this._iid),t=e.sessionManager,n=e.sdkState,r=e.requestQueue,s=new w({userId:n.userId}),[4,r.send(s)]):[3,3];case 1:return a=u.sent().lastDeletedAt,[4,(0,i.B)((function(){return(0,i._)(o,void 0,void 0,(function(){return(0,i.b)(this,(function(e){switch(e.label){case 0:return t.unsetDeviceTokens(i.P.FCM),t.setDeviceTokenDeletedAt(a),[4,t.saveDeviceToken()];case 1:return e.sent(),[2]}}))}))}))];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))},e.prototype.registerAPNSPushTokenForCurrentUser=function(e,t){var n,r;return(0,i._)(this,void 0,void 0,(function(){var s,a,o,u,c,l,d=this;return(0,i.b)(this,(function(h){switch(h.label){case 0:if((0,i.w)((0,i.a)("string",e)&&(0,i.a)("string",null==t?void 0:t.deviceManufacturer,!0)).throw(i.s.invalidParameters),(null==t?void 0:t.deviceOS)&&(0,i.w)((0,i.X)(i.Y,t.deviceOS.platform,!0)&&(0,i.a)("string",t.deviceOS.version,!0)).throw(i.s.invalidParameters),!this.currentUser)return[3,6];s={deviceOS:"".concat((null===(n=null==t?void 0:t.deviceOS)||void 0===n?void 0:n.platform)||i.Y.IOS,"-").concat((null===(r=null==t?void 0:t.deviceOS)||void 0===r?void 0:r.version)||"unknown"),deviceManufacturer:null==t?void 0:t.deviceManufacturer,systemPushEnabled:null==t?void 0:t.systemPushEnabled},h.label=1;case 1:return h.trys.push([1,4,,5]),a=i.V.of(this._iid),o=a.sessionManager,u=a.sdkState,c=a.requestQueue,o.hasDeviceToken(i.P.APNS,e)?[2,i.T.SUCCESS]:(l=new v({userId:u.userId,token:e,deviceOS:s.deviceOS,deviceManufacturer:s.deviceManufacturer,systemPushEnabled:s.systemPushEnabled}),[4,c.send(l)]);case 2:return h.sent(),[4,(0,i.B)((function(){return(0,i._)(d,void 0,void 0,(function(){return(0,i.b)(this,(function(t){switch(t.label){case 0:return o.setDeviceToken(i.P.APNS,e,s),[4,o.saveDeviceToken()];case 1:return t.sent(),[2]}}))}))}))];case 3:return h.sent(),this._apnsPushToken="",[2,i.T.SUCCESS];case 4:return h.sent(),[2,i.T.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=e,[2,i.T.PENDING];case 7:return[2]}}))}))},e.prototype.unregisterAPNSPushTokenForCurrentUser=function(e){return(0,i._)(this,void 0,void 0,(function(){var t,n,r,s,a,o,u=this;return(0,i.b)(this,(function(c){switch(c.label){case 0:if((0,i.w)((0,i.a)("string",e)).throw(i.s.invalidParameters),!this.currentUser)return[3,6];c.label=1;case 1:return c.trys.push([1,4,,5]),t=i.V.of(this._iid),n=t.sessionManager,r=t.sdkState,s=t.requestQueue,a=new M({userId:r.userId,token:e}),[4,s.send(a)];case 2:return o=c.sent().lastDeletedAt,[4,(0,i.B)((function(){return(0,i._)(u,void 0,void 0,(function(){return(0,i.b)(this,(function(t){switch(t.label){case 0:return n.unsetDeviceToken(i.P.APNS,e),n.setDeviceTokenDeletedAt(o),[4,n.saveDeviceToken()];case 1:return t.sent(),[2]}}))}))}))];case 3:return c.sent(),this._apnsPushToken="",[2,i.T.SUCCESS];case 4:return c.sent(),[2,i.T.ERROR];case 5:return[3,7];case 6:return this._apnsPushToken=e,[2,i.T.PENDING];case 7:return[2]}}))}))},e.prototype.unregisterAPNSPushTokenAllForCurrentUser=function(){return(0,i._)(this,void 0,void 0,(function(){var e,t,n,r,s,a,o=this;return(0,i.b)(this,(function(u){switch(u.label){case 0:return this.currentUser?(e=i.V.of(this._iid),t=e.sessionManager,n=e.sdkState,r=e.requestQueue,s=new L({userId:n.userId}),[4,r.send(s)]):[3,3];case 1:return a=u.sent().lastDeletedAt,[4,(0,i.B)((function(){return(0,i._)(o,void 0,void 0,(function(){return(0,i.b)(this,(function(e){switch(e.label){case 0:return t.unsetDeviceTokens(i.P.APNS),t.setDeviceTokenDeletedAt(a),[4,t.saveDeviceToken()];case 1:return e.sent(),[2]}}))}))}))];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))},e.prototype.markPushNotificationAsDelivered=function(e,t){var n;return void 0===t&&(t=!0),(0,i._)(this,void 0,void 0,(function(){var r,s,a,o,u,c,l,d,h,_,f,p,m,g,y,v,b,M,E;return(0,i.b)(this,(function(L){switch(L.label){case 0:if(r=i.V.of(this._iid),s=r.logger,a=r.sessionManager,o=r.requestQueue,u=r.pushNotificationAckManager,s.debug("markPushNotificationAsDelivered:",e),c=ae.DELIVERED,l=u.parseData(e),d=l.pushTrackingId,h=l.sessionTopics,_=l.sessionKey,f=l.messageId,p=l.channelKey,m=l.templateKey,g=l.notificationEventDeadline,!_)throw s.info("Can't use markPushNotificationAsDelivered() feature."),i.s.malformedDataError;if(!h.includes(i.Z.PUSH_ACKNOWLEDGEMENT))throw s.info("Can't use markPushNotificationAsDelivered() feature."),i.s.malformedDataError;if(u.isAcked(d,c))return s.info("already delivered push notification:",d),[2];y=Boolean(p),v=t&&y,b=null===(n=a.deviceTokens[0])||void 0===n?void 0:n.token,M=new me({deviceToken:null!=b?b:"",pushTrackingId:d,eventType:c,messageId:f,channelKey:p,templateKey:m,notificationEventDeadline:g,allowedPushNotification:v}),_&&(M.headers["Session-Key"]=_),L.label=1;case 1:return L.trys.push([1,3,,4]),[4,o.send(M)];case 2:return L.sent(),u.markAsAcked(d,c),[3,4];case 3:throw E=L.sent(),s.debug("failed to mark push notification as delivered. push tracking id: ".concat(d,". error: ").concat(E)),E;case 4:return[2]}}))}))},e.prototype.markPushNotificationAsClicked=function(e){var t;return(0,i._)(this,void 0,void 0,(function(){var n,r,s,a,o,u,c,l,d,h,_,f,p,m,g,y,v;return(0,i.b)(this,(function(b){switch(b.label){case 0:if(n=i.V.of(this._iid),r=n.logger,s=n.sessionManager,a=n.requestQueue,o=n.pushNotificationAckManager,r.debug("markPushNotificationAsClicked:",e),u=ae.CLICKED,c=o.parseData(e),l=c.pushTrackingId,d=c.sessionTopics,h=c.sessionKey,_=c.messageId,f=c.channelKey,p=c.templateKey,m=c.notificationEventDeadline,!h)throw r.info("Can't use markPushNotificationAsClicked() feature."),i.s.malformedDataError;if(!d.includes(i.Z.PUSH_ACKNOWLEDGEMENT))throw r.info("Can't use markPushNotificationAsClicked() feature."),i.s.malformedDataError;if(o.isAcked(l,u))return r.info("already clicked push notification:",l),[2];g=null===(t=s.deviceTokens[0])||void 0===t?void 0:t.token,y=new me({deviceToken:null!=g?g:"",pushTrackingId:l,eventType:u,messageId:_,channelKey:f,templateKey:p,notificationEventDeadline:m}),h&&(y.headers["Session-Key"]=h),b.label=1;case 1:return b.trys.push([1,3,,4]),[4,a.send(y)];case 2:return b.sent(),o.markAsAcked(l,u),[3,4];case 3:throw v=b.sent(),r.debug("failed to mark push notification as clicked. push tracking id: ".concat(l,". error: ").concat(v)),v;case 4:return[2]}}))}))},e.prototype.getChannelInvitationPreference=function(){return(0,i._)(this,void 0,void 0,(function(){var e,t,n,r;return(0,i.b)(this,(function(s){switch(s.label){case 0:return e=i.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new S({userId:t.userId}),[4,n.send(r)];case 1:return[2,{autoAccept:s.sent().as(D).autoAccept}]}}))}))},e.prototype.setChannelInvitationPreference=function(e){return(0,i._)(this,void 0,void 0,(function(){var t,n,r,s;return(0,i.b)(this,(function(a){switch(a.label){case 0:return(0,i.w)((0,i.a)("boolean",e)).throw(i.s.invalidParameters),t=i.V.of(this._iid),n=t.sdkState,r=t.requestQueue,s=new C({userId:n.userId,willAutoAccept:e}),[4,r.send(s)];case 1:return[2,{autoAccept:a.sent().as(A).autoAccept}]}}))}))},e.prototype.getDoNotDisturb=function(){return(0,i._)(this,void 0,void 0,(function(){var e,t,n,r;return(0,i.b)(this,(function(s){switch(s.label){case 0:return e=i.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new I({userId:t.userId}),[4,n.send(r)];case 1:return[2,s.sent().as(N).preference]}}))}))},e.prototype.setDoNotDisturb=function(e,t,n,r,s,a){return void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===s&&(s=0),void 0===a&&(a=""),(0,i._)(this,void 0,void 0,(function(){var o,u,c,l;return(0,i.b)(this,(function(d){switch(d.label){case 0:return(0,i.w)((0,i.a)("boolean",e)&&(0,i.a)("number",t)&&(0,i.a)("number",n)&&(0,i.a)("number",r)&&(0,i.a)("number",s)&&(0,i.a)("string",a)).throw(i.s.invalidParameters),o=i.V.of(this._iid),u=o.sdkState,c=o.requestQueue,l=new Y({userId:u.userId,doNotDisturbOn:e,startHour:t,startMin:n,endHour:r,endMin:s,timezone:a}),[4,c.send(l)];case 1:return[2,d.sent().as(O).preference]}}))}))},e.prototype.getSnoozePeriod=function(){return(0,i._)(this,void 0,void 0,(function(){var e,t,n,r;return(0,i.b)(this,(function(s){switch(s.label){case 0:return e=i.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new x({userId:t.userId}),[4,n.send(r)];case 1:return[2,s.sent().as(U).snoozePeriod]}}))}))},e.prototype.setSnoozePeriod=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),(0,i._)(this,void 0,void 0,(function(){var r,s,a,o;return(0,i.b)(this,(function(u){switch(u.label){case 0:return(0,i.w)((0,i.a)("boolean",e)&&(0,i.a)("number",t)&&(0,i.a)("number",n)).throw(i.s.invalidParameters),r=i.V.of(this._iid),s=r.sdkState,a=r.requestQueue,o=new P({userId:s.userId,snoozeOn:e,startTs:t,endTs:n}),[4,a.send(o)];case 1:return[2,u.sent().as(R).snoozePeriod]}}))}))},e.prototype.getMyPushTokensByToken=function(e,t){return(0,i._)(this,void 0,void 0,(function(){var n,r,s,a,o,u,c,l,d,h,_,f;return(0,i.b)(this,(function(p){switch(p.label){case 0:return(0,i.w)((0,i.a)("string",e)&&(0,i.X)(i.P,t)).throw(i.s.invalidParameters),n=i.V.of(this._iid),r=n.sdkState,s=n.requestQueue,a=n.sessionManager,o=new T({userId:r.userId,type:t,token:e}),[4,s.send(o)];case 1:u=p.sent(),c=u.as(k).pushTokens;try{for(l=(0,i.t)(c.deviceTokens),d=l.next();!d.done;d=l.next())h=d.value,a.setDeviceToken(c.type,h)}catch(e){_={error:e}}finally{try{d&&!d.done&&(f=l.return)&&f.call(l)}finally{if(_)throw _.error}}return[4,a.saveDeviceToken()];case 2:return p.sent(),[2,c]}}))}))},e.prototype.getPushTriggerOption=function(){return(0,i._)(this,void 0,void 0,(function(){var e,t,n,r;return(0,i.b)(this,(function(s){switch(s.label){case 0:return e=i.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new j({userId:t.userId}),[4,n.send(r)];case 1:return[2,s.sent().as(V).pushTriggerOption]}}))}))},e.prototype.setPushTriggerOption=function(e){return(0,i._)(this,void 0,void 0,(function(){var t,n,r,s;return(0,i.b)(this,(function(a){switch(a.label){case 0:return(0,i.w)((0,i.X)(i.$,e)).throw(i.s.invalidParameters),t=i.V.of(this._iid),n=t.sdkState,r=t.requestQueue,s=new q({userId:n.userId,pushTriggerOption:e}),[4,r.send(s)];case 1:return[2,a.sent().as(z).pushTriggerOption]}}))}))},e.prototype.getPushTemplate=function(){return(0,i._)(this,void 0,void 0,(function(){var e,t,n,r;return(0,i.b)(this,(function(s){switch(s.label){case 0:return e=i.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new G({userId:t.userId}),[4,n.send(r)];case 1:return[2,s.sent().as(W).name]}}))}))},e.prototype.setPushTemplate=function(e){return(0,i._)(this,void 0,void 0,(function(){var t,n,r,s;return(0,i.b)(this,(function(a){switch(a.label){case 0:return(0,i.w)((0,i.X)(i.a0,e)).throw(i.s.invalidParameters),t=i.V.of(this._iid),n=t.sdkState,r=t.requestQueue,s=new B({userId:n.userId,templateName:e}),[4,r.send(s)];case 1:return[2,a.sent().as(K).name]}}))}))},e.prototype.blockUser=function(e){return(0,i._)(this,void 0,void 0,(function(){var t,n,r,s;return(0,i.b)(this,(function(a){switch(a.label){case 0:return(0,i.w)(e instanceof i.U||(0,i.a)("string",e)).throw(i.s.invalidParameters),t=i.V.of(this._iid),n=t.sdkState,r=t.requestQueue,s=new H({userId:n.userId,blockedUserId:e instanceof i.U?e.userId:e}),[4,r.send(s)];case 1:return a.sent(),[2]}}))}))},e.prototype.blockUserWithUserId=function(e){return(0,i._)(this,void 0,void 0,(function(){return(0,i.b)(this,(function(t){return[2,this.blockUser(e)]}))}))},e.prototype.unblockUser=function(e){return(0,i._)(this,void 0,void 0,(function(){var t,n,r,s;return(0,i.b)(this,(function(a){switch(a.label){case 0:return(0,i.w)(e instanceof i.U||(0,i.a)("string",e)).throw(i.s.invalidParameters),t=i.V.of(this._iid),n=t.sdkState,r=t.requestQueue,s=new F({userId:n.userId,unblockedUserId:e instanceof i.U?e.userId:e}),[4,r.send(s)];case 1:return a.sent(),[2]}}))}))},e.prototype.unblockUserWithUserId=function(e){return(0,i._)(this,void 0,void 0,(function(){return(0,i.b)(this,(function(t){return[2,this.unblockUser(e)]}))}))},e.prototype.getFriendChangeLogsByToken=function(e){return(0,i._)(this,void 0,void 0,(function(){var t,n,r,s;return(0,i.b)(this,(function(a){switch(a.label){case 0:return(0,i.w)((0,i.a)("string",e)).throw(i.s.invalidParameters),t=i.V.of(this._iid),n=t.sdkState,r=t.requestQueue,s=new Q({userId:n.userId,token:e}),[4,r.send(s)];case 1:return[2,a.sent().as(J).changelogs]}}))}))},e.prototype.getAllowFriendDiscovery=function(){return(0,i._)(this,void 0,void 0,(function(){var e,t,n,r;return(0,i.b)(this,(function(s){switch(s.label){case 0:return e=i.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new re({userId:t.userId}),[4,n.send(r)];case 1:return[2,s.sent().as(ie).allowFriendDiscovery]}}))}))},e.prototype.setAllowFriendDiscovery=function(e){return(0,i._)(this,void 0,void 0,(function(){var t,n,r,s;return(0,i.b)(this,(function(a){switch(a.label){case 0:return(0,i.w)((0,i.a)("boolean",e)).throw(i.s.invalidParameters),t=i.V.of(this._iid),n=t.sdkState,r=t.requestQueue,s=new se({userId:n.userId,allowFriendDiscovery:e}),[4,r.send(s)];case 1:return a.sent(),[2,e]}}))}))},e.prototype.uploadFriendDiscoveries=function(e){return(0,i._)(this,void 0,void 0,(function(){var t,n,r,s;return(0,i.b)(this,(function(a){switch(a.label){case 0:return t=i.V.of(this._iid),n=t.sdkState,r=t.requestQueue,s=new Z({userId:n.userId,discoveries:e}),[4,r.send(s)];case 1:return[2,a.sent().as(X).friendDiscoveryRequestId]}}))}))},e.prototype.deleteFriendDiscovery=function(e){return(0,i._)(this,void 0,void 0,(function(){return(0,i.b)(this,(function(t){return[2,this.deleteFriendDiscoveries([e])]}))}))},e.prototype.deleteFriendDiscoveries=function(e){return(0,i._)(this,void 0,void 0,(function(){var t,n,r,s;return(0,i.b)(this,(function(a){switch(a.label){case 0:return(0,i.w)((0,i.Q)("string",e)).throw(i.s.invalidParameters),t=i.V.of(this._iid),n=t.sdkState,r=t.requestQueue,s=new $({userId:n.userId,discoveryKeys:e}),[4,r.send(s)];case 1:return a.sent(),[2]}}))}))},e.prototype.addFriends=function(e){return(0,i._)(this,void 0,void 0,(function(){var t,n,r,s;return(0,i.b)(this,(function(a){switch(a.label){case 0:return(0,i.w)((0,i.Q)("string",e)).throw(i.s.invalidParameters),t=i.V.of(this._iid),n=t.sdkState,r=t.requestQueue,s=new ee({userId:n.userId,userIds:e}),[4,r.send(s)];case 1:return[2,a.sent().as(te).users]}}))}))},e.prototype.deleteFriend=function(e){return(0,i._)(this,void 0,void 0,(function(){return(0,i.b)(this,(function(t){return[2,this.deleteFriends([e])]}))}))},e.prototype.deleteFriends=function(e){return(0,i._)(this,void 0,void 0,(function(){var t,n,r,s;return(0,i.b)(this,(function(a){switch(a.label){case 0:return(0,i.w)((0,i.Q)("string",e)).throw(i.s.invalidParameters),t=i.V.of(this._iid),n=t.sdkState,r=t.requestQueue,s=new ne({userId:n.userId,userIds:e}),[4,r.send(s)];case 1:return a.sent(),[2]}}))}))},e.prototype.getAllEmoji=function(){return(0,i._)(this,void 0,void 0,(function(){var e,t;return(0,i.b)(this,(function(n){switch(n.label){case 0:return e=i.V.of(this._iid).requestQueue,t=new oe,[4,e.send(t)];case 1:return[2,n.sent().as(ue).emojiContainer]}}))}))},e.prototype.getEmojiCategory=function(e){return(0,i._)(this,void 0,void 0,(function(){var t,n;return(0,i.b)(this,(function(r){switch(r.label){case 0:return t=i.V.of(this._iid).requestQueue,n=new ce({categoryId:e}),[4,t.send(n)];case 1:return[2,r.sent().as(le).emojiCategory]}}))}))},e.prototype.getEmoji=function(e){return(0,i._)(this,void 0,void 0,(function(){var t,n;return(0,i.b)(this,(function(r){switch(r.label){case 0:return t=i.V.of(this._iid).requestQueue,n=new de({key:e}),[4,t.send(n)];case 1:return[2,r.sent().as(he).emoji]}}))}))},e.prototype.getUIKitConfiguration=function(){return(0,i._)(this,void 0,void 0,(function(){var e,t,n;return(0,i.b)(this,(function(r){switch(r.label){case 0:return e=i.V.of(this._iid),(0,i.w)(e.hasExtension("sb_uikit")).throw(i.s.notSupportedError),t=e.requestQueue,n=new _e,[4,t.send(n)];case 1:return[2,r.sent().as(fe).uikitConfiguration]}}))}))},e.prototype.getReportCategoryInfoList=function(){return(0,i._)(this,void 0,void 0,(function(){return(0,i.b)(this,(function(e){switch(e.label){case 0:return[4,i.V.of(this._iid).reportCategoryManager.categories()];case 1:return[2,e.sent()]}}))}))},e}()},82950:(e,t,n)=>{"use strict";n.d(t,{A:()=>_,D:()=>p,G:()=>r,P:()=>i,R:()=>m,S:()=>s,U:()=>g,a:()=>c,b:()=>f,c:()=>d,g:()=>l});var r,i,s,a,o=n(27364),u=n(51698);(a=r||(r={})).LATEST_LAST_MESSAGE="latest_last_message",a.CHRONOLOGICAL="chronological",a.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",a.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical",function(e){e.CHRONOLOGICAL="chronological",e.CHANNEL_NAME_ALPHABETICAL="channel_name_alphabetical",e.METADATA_VALUE_ALPHABETICAL="metadata_value_alphabetical"}(i||(i={})),function(e){e.CREATED_AT="created_at",e.SCHEDULED_AT="scheduled_at"}(s||(s={}));var c,l=function(e){switch(e){case r.LATEST_LAST_MESSAGE:return["-lastMessageUpdatedAt","-createdAt","syncIndex"];case r.CHRONOLOGICAL:return["-createdAt","syncIndex"];case r.CHANNEL_NAME_ALPHABETICAL:return["name"];default:return["-lastMessageUpdatedAt","-createdAt","syncIndex"]}},d=function(e){function t(t){var n=t.message,r=e.call(this)||this;return r.message=n,r}return(0,o.c)(t,e),t}(o.b9),h={},_=function(){function e(e,t){var n=t.localCacheEnabled,r=t.enableAutoResend,i=t.dispatcher,s=t.sdkState,a=t.logger,u=this;this._iid=e,h[e]=this,this._localCacheEnabled=n,this._enableAutoResend=r,this._isProcessingAutoResend=!1,this._autoResendQueue=[],this._dispatcher=i,this._logger=a,this._sdkState=s,this._localCacheEnabled&&i.on((function(e){if(e instanceof o.D)switch(e.stateType){case o.F.CONNECTED:u._isProcessingAutoResend||u.processAutoResendRegisteredPendingMessages().then((function(){return u._processNextAutoResend()}));break;case o.F.INTERNAL_DISCONNECTED:case o.F.EXTERNAL_DISCONNECTED:u._isProcessingAutoResend=!1}}))}return e.of=function(e){return h[e]},e.prototype.processNonAutoResendRegisteredPendingMessages=function(){return(0,o._)(this,void 0,void 0,(function(){var e,t,n,r,i,s;return(0,o.b)(this,(function(a){switch(a.label){case 0:return this._enableAutoResend?[4,this._fetchAllCachedPendingMessages()]:[2];case 1:e=a.sent();try{for(t=(0,o.t)(e),n=t.next();!n.done;n=t.next())0===(r=n.value).errorCode&&(this._logger.debug("cached pending message is not auto-resend registered. changing its sending status to failed: ",r.reqId),r.sendingStatus=o.ap.FAILED,r.errorCode=o.a9.ACK_TIMEOUT,this._dispatcher.dispatch(new o.ao({messages:[r],source:o.a2.LOCAL_MESSAGE_FAILED})))}catch(e){i={error:e}}finally{try{n&&!n.done&&(s=t.return)&&s.call(t)}finally{if(i)throw i.error}}return[2]}}))}))},e.prototype.processAutoResendRegisteredPendingMessages=function(){return(0,o._)(this,void 0,void 0,(function(){var e,t,n,r,i,s,a,u;return(0,o.b)(this,(function(c){switch(c.label){case 0:return[4,this._fetchAllCachedPendingMessages()];case 1:e=c.sent();try{for(t=(0,o.t)(e),n=t.next();!n.done;n=t.next())r=n.value,this._enableAutoResend&&r.errorCode&&(0,o.aL)(r.errorCode)&&(i=(new Date).getTime(),s=r.createdAt+2592e5,this._enableAutoResend&&i<=s?this._autoResendQueue.map((function(e){return e.reqId})).indexOf(r.reqId)<0&&this._autoResendQueue.push(r):(this._logger.debug("auto-resend registered pending messaged expired. expiration date: ",new Date(s).toLocaleString()),r.sendingStatus=o.ap.FAILED,this._dispatcher.dispatch(new o.ao({messages:[r],source:o.a2.LOCAL_MESSAGE_FAILED}))))}catch(e){a={error:e}}finally{try{n&&!n.done&&(u=t.return)&&u.call(t)}finally{if(a)throw a.error}}return[2]}}))}))},e.prototype.completeCurrentAndProcessNextAutoResend=function(e){if(this._localCacheEnabled&&this._enableAutoResend&&(e.sendingStatus===o.ap.SUCCEEDED||e.sendingStatus===o.ap.FAILED&&!(0,o.aL)(e.errorCode))){var t=this.indexOf(e);t>=0&&this._autoResendQueue.splice(t,1),0===t&&this._processNextAutoResend()}},e.prototype._fetchAllCachedPendingMessages=function(){return(0,o._)(this,void 0,void 0,(function(){var e,t;return(0,o.b)(this,(function(n){switch(n.label){case 0:return e=u.u.of(this._iid),(t=new u.K).replyType=o.az.ALL,[4,e.fetch({sendingStatus:o.ap.PENDING,backward:!0,filter:t})];case 1:return[2,n.sent()]}}))}))},e.prototype.indexOf=function(e){return this._autoResendQueue.length>0?this._autoResendQueue.map((function(e){return e.reqId})).indexOf(e.reqId):-1},e.prototype._isNotInQueue=function(e){return-1===this._autoResendQueue.map((function(e){return e.reqId})).indexOf(e.reqId)},e.prototype._processNextAutoResend=function(){return(0,o._)(this,void 0,void 0,(function(){var e;return(0,o.b)(this,(function(t){if(this._localCacheEnabled&&this._enableAutoResend&&"foreground"===this._sdkState.appState)try{this._autoResendQueue.length>0?(this._isProcessingAutoResend||(this._logger.debug("auto-resend queue started."),this._isProcessingAutoResend=!0),e=this._autoResendQueue[0],this._dispatcher.dispatch(new d({message:e})),this._logger.debug("processing auto-resend for message request id: ",e.reqId)):(this._logger.debug("auto-resend queue finished."),this._isProcessingAutoResend=!1)}catch(e){this._logger.warn("process auto-resend error: ",e),this._isProcessingAutoResend=!1}return[2]}))}))},e}();!function(e){e[e.USER_BLOCK=20001]="USER_BLOCK",e[e.USER_UNBLOCK=2e4]="USER_UNBLOCK",e[e.FRIEND_DISCOVERED=20900]="FRIEND_DISCOVERED"}(c||(c={}));var f=function(){function e(e){this.category=e.cat,this.data=e.data}return e.getDataAsUserBlockEvent=function(e,t){var n=t.data,r=n.blocker,i=n.blockee;return{blocker:new o.U(e,r),blockee:new o.U(e,i)}},e.getDataAsFriendDiscoveredEvent=function(e,t){var n=t.data.friend_discoveries;return{friendDiscoveries:Array.isArray(n)?n.map((function(t){return new o.U(e,t)})):[]}},e}(),p=function(e){function t(t,n){var r=n.userId,i=e.call(this)||this;return i._iid=t,i.userId=r,i}return(0,o.c)(t,e),t}(o.b9),m=function(e){function t(){return e.call(this)||this}return(0,o.c)(t,e),t}(o.b9),g=function(e){function t(t,n,r){var i=e.call(this,t,"USEV",r)||this;return i.event=new f(r),i}return(0,o.c)(t,e),t}(o.W)},27364:(e,t,n)=>{"use strict";n.d(t,{$:()=>m,A:()=>ce,B:()=>os,C:()=>V,D:()=>Ci,E:()=>ie,F:()=>Li,G:()=>as,H:()=>Ti,I:()=>ts,J:()=>ns,K:()=>Oi,L:()=>j,M:()=>He,N:()=>et,O:()=>b,P:()=>g,Q:()=>D,R:()=>H,S:()=>x,T:()=>p,U:()=>es,V:()=>ea,W:()=>Fe,X:()=>k,Y:()=>Je,Z:()=>Us,_:()=>o,a:()=>T,a$:()=>ta,a0:()=>y,a2:()=>Bs,a3:()=>F,a5:()=>Di,a7:()=>Qs,a8:()=>q,a9:()=>h,aA:()=>fe,aB:()=>ot,aC:()=>ya,aD:()=>Ie,aE:()=>ye,aF:()=>Ye,aG:()=>B,aH:()=>fa,aI:()=>Me,aJ:()=>va,aK:()=>Fi,aL:()=>I,aM:()=>it,aN:()=>da,aO:()=>xa,aP:()=>ga,aQ:()=>U,aR:()=>a,aS:()=>aa,aT:()=>oa,aU:()=>la,aV:()=>ca,aW:()=>ua,aX:()=>sa,aY:()=>ke,aZ:()=>ee,a_:()=>ge,ab:()=>Si,af:()=>_e,ag:()=>Vi,ah:()=>w,ai:()=>G,aj:()=>Ji,ak:()=>K,al:()=>je,am:()=>Ae,an:()=>De,ao:()=>ia,ap:()=>Z,aq:()=>A,ar:()=>W,as:()=>ma,at:()=>$,au:()=>J,av:()=>Ne,aw:()=>rt,ax:()=>ds,ay:()=>nt,az:()=>Q,b:()=>u,b1:()=>Da,b2:()=>Ca,b3:()=>Na,b4:()=>Ya,b5:()=>Aa,b6:()=>Ia,b9:()=>ae,ba:()=>Ze,bb:()=>xe,bc:()=>Hs,bd:()=>Ee,bf:()=>z,bg:()=>Y,bh:()=>pe,bi:()=>C,bj:()=>st,bk:()=>ha,bl:()=>ra,bm:()=>_s,bn:()=>_a,bs:()=>Ve,bt:()=>Be,c:()=>i,d:()=>de,e:()=>oe,f:()=>Ue,g:()=>s,h:()=>Pe,i:()=>N,j:()=>be,k:()=>ve,l:()=>Le,m:()=>Se,n:()=>ne,o:()=>Xe,p:()=>d,q:()=>l,r:()=>bi,s:()=>M,t:()=>c,u:()=>ue,v:()=>_,w:()=>Xi,x:()=>Ra,y:()=>ja,z:()=>Zi});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function o(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{u(r.next(e))}catch(e){s(e)}}function o(e){try{u(r.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}u((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,o[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function c(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return a}function d(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError;var h,_="4.16.1",f=function(){function e(){}return Object.defineProperty(e,"OS_VERSION",{get:function(){return"undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.replace(/,/g,"."):"noAgent"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SDK_VERSION",{get:function(){return _},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SDK_MAJOR_VERSION",{get:function(){return e.SDK_VERSION.split(".")[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL",{get:function(){return 100},enumerable:!1,configurable:!0}),Object.defineProperty(e,"INTERNAL_CALL",{get:function(){return"ic"},enumerable:!1,configurable:!0}),e}();!function(e){e[e.NON_AUTHORIZED=400108]="NON_AUTHORIZED",e[e.INVALID_TOKEN=400111]="INVALID_TOKEN",e[e.NOT_FOUND_IN_DATABASE=400201]="NOT_FOUND_IN_DATABASE",e[e.USER_AUTH_DEACTIVATED=400300]="USER_AUTH_DEACTIVATED",e[e.USER_AUTH_DELETED_OR_NOT_FOUND=400301]="USER_AUTH_DELETED_OR_NOT_FOUND",e[e.SESSION_TOKEN_EXPIRED=400302]="SESSION_TOKEN_EXPIRED",e[e.APPLICATION_NOT_FOUND=400304]="APPLICATION_NOT_FOUND",e[e.SESSION_KEY_EXPIRED=400309]="SESSION_KEY_EXPIRED",e[e.SESSION_REVOKED=400310]="SESSION_REVOKED",e[e.INVALID_SESSION_TYPE=400312]="INVALID_SESSION_TYPE",e[e.INVALID_AUTH_FOR_SERVICE=400313]="INVALID_AUTH_FOR_SERVICE",e[e.STAT_UPLOAD_NOT_ALLOWED=403200]="STAT_UPLOAD_NOT_ALLOWED",e[e.NOT_SUPPORTED_PINNED_MESSAGE_IN_REVIEW_MESSAGE=400940]="NOT_SUPPORTED_PINNED_MESSAGE_IN_REVIEW_MESSAGE",e[e.INTERNAL_SERVER_ERROR=500901]="INTERNAL_SERVER_ERROR",e[e.RATE_LIMIT_EXCEEDED=500910]="RATE_LIMIT_EXCEEDED",e[e.INVALID_REQUIRED_FORM_VALUE=400105]="INVALID_REQUIRED_FORM_VALUE",e[e.UNKNOWN_SERVER_ERROR=900200]="UNKNOWN_SERVER_ERROR",e[e.NOT_SUPPORTED_FEATURE_IN_IN_REVIEW_MESSAGE=901500]="NOT_SUPPORTED_FEATURE_IN_IN_REVIEW_MESSAGE",e[e.ERR_DUPLICATED_DATA=400202]="ERR_DUPLICATED_DATA",e[e.DEBUG_MODE_REQUIRED=7e5]="DEBUG_MODE_REQUIRED",e[e.LOST_INSTANCE=700100]="LOST_INSTANCE",e[e.CONNECTION_RENEW=700102]="CONNECTION_RENEW",e[e.INVALID_CONNECTION_STATE_TRANSITION=700200]="INVALID_CONNECTION_STATE_TRANSITION",e[e.INVALID_COMMAND=700700]="INVALID_COMMAND",e[e.XMLHTTPREQUEST_NOT_SUPPORTED=700800]="XMLHTTPREQUEST_NOT_SUPPORTED",e[e.UNKNOWN_ERROR=77e4]="UNKNOWN_ERROR",e[e.INVALID_INITIALIZATION=800100]="INVALID_INITIALIZATION",e[e.CONNECTION_REQUIRED=800101]="CONNECTION_REQUIRED",e[e.CONNECTION_CANCELED=800102]="CONNECTION_CANCELED",e[e.INVALID_PARAMETER=800110]="INVALID_PARAMETER",e[e.NOT_SUPPORTED_ERROR=800111]="NOT_SUPPORTED_ERROR",e[e.NETWORK_ERROR=800120]="NETWORK_ERROR",e[e.NETWORK_ROUTING_ERROR=800121]="NETWORK_ROUTING_ERROR",e[e.MALFORMED_DATA=800130]="MALFORMED_DATA",e[e.MALFORMED_ERROR_DATA=800140]="MALFORMED_ERROR_DATA",e[e.WRONG_CHANNEL_TYPE=800150]="WRONG_CHANNEL_TYPE",e[e.MARK_AS_READ_RATE_LIMIT_EXCEEDED=800160]="MARK_AS_READ_RATE_LIMIT_EXCEEDED",e[e.QUERY_IN_PROGRESS=800170]="QUERY_IN_PROGRESS",e[e.ACK_TIMEOUT=800180]="ACK_TIMEOUT",e[e.LOGIN_TIMEOUT=800190]="LOGIN_TIMEOUT",e[e.WEBSOCKET_CONNECTION_CLOSED=800200]="WEBSOCKET_CONNECTION_CLOSED",e[e.WEBSOCKET_CONNECTION_FAILED=800210]="WEBSOCKET_CONNECTION_FAILED",e[e.REQUEST_FAILED=800220]="REQUEST_FAILED",e[e.FILE_UPLOAD_CANCEL_FAILED=800230]="FILE_UPLOAD_CANCEL_FAILED",e[e.REQUEST_CANCELED=800240]="REQUEST_CANCELED",e[e.REQUEST_DUPLICATED=800250]="REQUEST_DUPLICATED",e[e.FILE_SIZE_LIMIT_EXCEEDED=800260]="FILE_SIZE_LIMIT_EXCEEDED",e[e.ERR_UPLOAD_STAT_RETRY_COUNT_EXCEEDED=800270]="ERR_UPLOAD_STAT_RETRY_COUNT_EXCEEDED",e[e.SESSION_TOKEN_REQUEST_FAILED=800500]="SESSION_TOKEN_REQUEST_FAILED",e[e.SESSION_TOKEN_REFRESHED=800501]="SESSION_TOKEN_REFRESHED",e[e.SESSION_TOKEN_REFRESH_FAILED=800502]="SESSION_TOKEN_REFRESH_FAILED",e[e.COLLECTION_DISPOSED=800600]="COLLECTION_DISPOSED",e[e.DATABASE_ERROR=800700]="DATABASE_ERROR",e[e.USER_DEACTIVATED=900021]="USER_DEACTIVATED",e[e.CHANNEL_IS_FROZEN=900050]="CHANNEL_IS_FROZEN",e[e.RECEIVER_USER_DEACTIVATED=900081]="RECEIVER_USER_DEACTIVATED"}(h||(h={}));var p,m,g,y,v,b=function(e){return!(e instanceof M&&!e.shouldThrowOutside)},M=function(e){function t(n){var r=n.code,i=void 0===r?0:r,s=n.message,a=void 0===s?"":s,o=e.call(this,a)||this;return o.shouldThrowOutside=!1,o._detail="",o.name="SendbirdError",o.code=i,Object.setPrototypeOf(o,t.prototype),o}return i(t,e),Object.defineProperty(t.prototype,"detail",{get:function(){return this._detail},enumerable:!1,configurable:!0}),t.prototype.setDetail=function(e){this._detail=e},Object.defineProperty(t.prototype,"isInvalidTokenError",{get:function(){return this.code===h.INVALID_TOKEN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionExpiredError",{get:function(){return this.isSessionTokenExpiredError||this.isSessionKeyExpiredError},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionTokenExpiredError",{get:function(){return this.code===h.SESSION_TOKEN_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionKeyExpiredError",{get:function(){return this.code===h.SESSION_KEY_EXPIRED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionInvalidatedError",{get:function(){return this.isSessionRevokedError||this.isUserAuthDeactivedError||this.isUserAuthDeletedOrNotFoundError},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionRevokedError",{get:function(){return this.code===h.SESSION_REVOKED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUserAuthDeactivedError",{get:function(){return this.code===h.USER_AUTH_DEACTIVATED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUserAuthDeletedOrNotFoundError",{get:function(){return this.code===h.USER_AUTH_DELETED_OR_NOT_FOUND},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNetworkError",{get:function(){return this.code===h.NETWORK_ERROR||this.code===h.NETWORK_ROUTING_ERROR},enumerable:!1,configurable:!0}),Object.defineProperty(t,"debugModeRequired",{get:function(){return new t({code:h.DEBUG_MODE_REQUIRED,message:"Cannot run this operation in production mode."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"lostInstance",{get:function(){return new t({code:h.LOST_INSTANCE,message:"Instance ID is missing. It should belong to an instance."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"invalidCommand",{get:function(){return new t({code:h.INVALID_COMMAND,message:"Cannot send invalid command."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"unknown",{get:function(){return new t({code:h.UNKNOWN_ERROR,message:"Unknown error occurred."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionRenew",{get:function(){return new t({code:h.CONNECTION_RENEW,message:"Connection restarts."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"invalidConnectionStateTransition",{get:function(){return new t({code:h.INVALID_CONNECTION_STATE_TRANSITION,message:"Invalid connection state transition."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"xmlHttpRequestNotSupported",{get:function(){return new t({code:h.XMLHTTPREQUEST_NOT_SUPPORTED,message:"Cannot upload file. XMLHttpRequest is not defined in this environment."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionRequired",{get:function(){return new t({code:h.CONNECTION_REQUIRED,message:"Connection is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionCanceled",{get:function(){return new t({code:h.CONNECTION_CANCELED,message:"Connection is canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"invalidParameters",{get:function(){return new t({code:h.INVALID_PARAMETER,message:"Invalid parameters."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"notSupportedError",{get:function(){return new t({code:h.NOT_SUPPORTED_ERROR,message:"Given parameters are not supported."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"channelTypeNotSupportedError",{get:function(){return new t({code:h.NOT_SUPPORTED_ERROR,message:"Called method is not supported in the current channel's channel type."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"networkError",{get:function(){return new t({code:h.NETWORK_ERROR,message:"There was a network error."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"markAsReadAllRateLimitExceeded",{get:function(){return new t({code:h.MARK_AS_READ_RATE_LIMIT_EXCEEDED,message:"markAsRead rate limit exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"queryInProgress",{get:function(){return new t({code:h.QUERY_IN_PROGRESS,message:"Query in progress."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"noAckTimeout",{get:function(){return new t({code:h.ACK_TIMEOUT,message:"Command received no ack."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"loginTimeout",{get:function(){return new t({code:h.LOGIN_TIMEOUT,message:"Connection timeout."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"connectionClosed",{get:function(){return new t({code:h.WEBSOCKET_CONNECTION_CLOSED,message:"Connection is closed. Please reconnect."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"requestFailed",{get:function(){return new t({code:h.REQUEST_FAILED,message:"Request failed."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"tooManyRequests",{get:function(){return new t({code:h.REQUEST_DUPLICATED,message:"Too many requests."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"alreadyConnectedAsAnotherUser",{get:function(){return new t({code:h.REQUEST_FAILED,message:"Already logged in as a different user. Call disconnect() first."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"fileUploadCanceled",{get:function(){return new t({code:h.FILE_UPLOAD_CANCEL_FAILED,message:"File upload has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"requestCanceled",{get:function(){return new t({code:h.REQUEST_CANCELED,message:"Request has been canceled."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sessionTokenRefreshFailed",{get:function(){return new t({code:h.SESSION_TOKEN_REFRESH_FAILED,message:"Failed to refresh the session key."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"sessionTokenRequestFailed",{get:function(){return new t({code:h.SESSION_TOKEN_REQUEST_FAILED,message:"Failed to get the session token."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"databaseError",{get:function(){return new t({code:h.DATABASE_ERROR,message:"Database error."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"fileSizeLimitExceededError",{get:function(){return new t({code:h.FILE_SIZE_LIMIT_EXCEEDED,message:"File size exceeds the file size limit."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"statLogUploadLimitExceededError",{get:function(){return new t({code:h.ERR_UPLOAD_STAT_RETRY_COUNT_EXCEEDED,message:"The upload request failed due to the retry count being exceeded."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"malformedDataError",{get:function(){return new t({code:h.MALFORMED_DATA,message:"Malformed data."})},enumerable:!1,configurable:!0}),t.prototype.throwOutside=function(){throw this.shouldThrowOutside=!0,this},t}(Error),E=[h.CONNECTION_REQUIRED,h.NETWORK_ERROR,h.ACK_TIMEOUT,h.WEBSOCKET_CONNECTION_CLOSED,h.WEBSOCKET_CONNECTION_FAILED,h.FILE_UPLOAD_CANCEL_FAILED,h.REQUEST_CANCELED,h.INTERNAL_SERVER_ERROR,h.RATE_LIMIT_EXCEEDED,h.UNKNOWN_SERVER_ERROR,h.USER_DEACTIVATED,h.CHANNEL_IS_FROZEN,h.RECEIVER_USER_DEACTIVATED],L=[h.WEBSOCKET_CONNECTION_CLOSED,h.WEBSOCKET_CONNECTION_FAILED,h.CONNECTION_REQUIRED,h.CHANNEL_IS_FROZEN],w=function(e,t){if(e!==t){var n=s({},e),r=s({},t);return!(n.hasOwnProperty("messageId")&&r.hasOwnProperty("messageId")&&n.messageId!==r.messageId||n.hasOwnProperty("reqId")&&r.hasOwnProperty("reqId")&&n.reqId!==r.reqId||(n.hasOwnProperty("messageId")&&delete n.messageId,n.hasOwnProperty("reqId")&&delete n.reqId,r.hasOwnProperty("messageId")&&delete r.messageId,r.hasOwnProperty("reqId")&&delete r.reqId,JSON.stringify(n)!==JSON.stringify(r)))}return!0},T=function(e,t,n){return void 0===n&&(n=!1),!(!n||!O(t))||("string"!=typeof e?"object"==typeof e?k(e,t):S(e,t):typeof t===e)},k=function(e,t,n){return void 0===n&&(n=!1),!(!n||!O(t))||Object.values(e).includes(t)},S=function(e,t){return t instanceof e},D=function(e,t,n){return void 0===n&&(n=!1),!(!n||!O(t))||Array.isArray(t)&&t.every((function(t){return T(e,t)}))},C=function(e,t){return void 0===t&&(t=!1),!(!t||!O(e))||"number"==typeof e&&13===e.toString().length},A=function(e){return e>0&&E.indexOf(e)>=0},I=function(e){return e>0&&L.indexOf(e)>=0},N=function(e,t){if(void 0===t&&(t=!1),t&&O(e))return!0;var n="object"==typeof e&&null!==e&&e.hasOwnProperty("name")&&"string"==typeof e.name&&e.hasOwnProperty("uri")&&"string"==typeof e.uri&&e.hasOwnProperty("type")&&"string"==typeof e.type;if(!n){if("undefined"!=typeof Blob)return e instanceof Blob;if("undefined"!=typeof File)return e instanceof File}return n},Y=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(var n=d([],l(e),!1).sort(),r=d([],l(t),!1).sort(),i=0;i<n.length;++i)if(n[i]!==r[i])return!1;return!0},O=function(e){return null==e},x=function(){function e(e){var t=void 0===e?{}:e,n=t.useMemberInfoInMessage,r=void 0===n||n,i=t.typingIndicatorInvalidateTime,s=void 0===i?1e4:i,a=t.typingIndicatorThrottle,o=void 0===a?1e3:a,u=t.websocketResponseTimeout,c=void 0===u?1e4:u,l=t.websocketPayloadDecompression,d=void 0===l||l,h=t.sessionTokenRefreshTimeout,_=void 0===h?60:h;this._useMemberInfoInMessage=!0,this._typingIndicatorInvalidateTime=1e4,this._typingIndicatorThrottle=1e3,this._websocketResponseTimeout=1e4,this._sessionTokenRefreshTimeout=60,this._useMemberInfoInMessage=r,this._typingIndicatorInvalidateTime=s,this._typingIndicatorThrottle=o,this._websocketResponseTimeout=c,this._sessionTokenRefreshTimeout=_,this.websocketPayloadDecompression=d}return Object.defineProperty(e.prototype,"useMemberInfoInMessage",{get:function(){return this._useMemberInfoInMessage},set:function(e){T("boolean",e)&&(this._useMemberInfoInMessage=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typingIndicatorInvalidateTime",{get:function(){return this._typingIndicatorInvalidateTime},set:function(e){T("number",e)&&(this._typingIndicatorInvalidateTime=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"typingIndicatorThrottle",{get:function(){return this._typingIndicatorThrottle},set:function(e){T("number",e)&&e>=1e3&&e<=9e3&&(this._typingIndicatorThrottle=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"websocketResponseTimeout",{get:function(){return this._websocketResponseTimeout},set:function(e){T("number",e)&&e>=5e3&&e<=3e4&&(this._websocketResponseTimeout=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionTokenRefreshTimeout",{get:function(){return this._sessionTokenRefreshTimeout},set:function(e){T("number",e)&&(e<60?e=60:e>1800&&(e=1800),this._sessionTokenRefreshTimeout=e)},enumerable:!1,configurable:!0}),e}(),U={encrypt:function(e){return e},decrypt:function(e){return e}},P=function(){function e(e){var t=e.store;this._preference=new Map,this._store=t}return e.prototype._savePreferenceKeys=function(){return o(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this._store.set({key:this._keysAddress,value:d([],l(this._preference.keys()),!1)})];case 1:return e.sent(),[2]}}))}))},e.prototype.init=function(e,t){var n;return void 0===t&&(t=1),o(this,void 0,void 0,(function(){var r,i,s,a,o,l,d,h,_,f;return u(this,(function(u){switch(u.label){case 0:return this._version=t,this._keysAddress=e,r="".concat(e,".metadata.version"),[4,this._store.get(r)];case 1:return i=u.sent(),[4,this._store.get(e)];case 2:return s=null!==(n=u.sent())&&void 0!==n?n:[],!i||i.version<this._version?[4,this._resetPreferenceData(s,r)]:[3,4];case 3:return u.sent(),[3,11];case 4:u.trys.push([4,9,10,11]),a=c(s),o=a.next(),u.label=5;case 5:return o.done?[3,8]:(l=o.value,[4,this._store.get(l)]);case 6:(d=u.sent())&&this._preference.set(l,d),u.label=7;case 7:return o=a.next(),[3,5];case 8:return[3,11];case 9:return h=u.sent(),_={error:h},[3,11];case 10:try{o&&!o.done&&(f=a.return)&&f.call(a)}finally{if(_)throw _.error}return[7];case 11:return[2]}}))}))},e.prototype._resetPreferenceData=function(e,t){return o(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return this._preference=new Map,[4,this._store.removeMany(e)];case 1:return n.sent(),[4,this._store.set({key:t,value:{version:this._version}})];case 2:return n.sent(),[2]}}))}))},e.prototype.get=function(e){return o(this,void 0,void 0,(function(){return u(this,(function(t){return[2,this._preference.get(e)]}))}))},e.prototype.set=function(e,t){return o(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return n=!this._preference.has(e),[4,this._store.set({key:e,value:t})];case 1:return r.sent(),this._preference.set(e,t),n?[4,this._savePreferenceKeys()]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},e.prototype.remove=function(e){return o(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this._store.remove(e)];case 1:return t.sent(),this._preference.delete(e),[4,this._savePreferenceKeys()];case 2:return t.sent(),[2]}}))}))},e.prototype.clear=function(){return o(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this._store.removeMany(d([],l(this._preference.keys()),!1))];case 1:return e.sent(),this._preference.clear(),[4,this._savePreferenceKeys()];case 2:return e.sent(),[2]}}))}))},e}(),R=function(){function e(e){var t=e.encryption,n=e.store,r=e.localCacheEnabled,i=e.localCacheConfig;this.store=n,this.preference=new P({store:n}),this.encryption=null!=t?t:U,this.localCacheEnabled=r,this.localCacheConfig=i}return e.prototype.replaceStore=function(e){this.store=e,this.preference=new P({store:e})},e}();!function(e){e.SUCCESS="success",e.PENDING="pending",e.ERROR="error"}(p||(p={})),function(e){e.DEFAULT="default",e.ALL="all",e.MENTION_ONLY="mention_only",e.OFF="off"}(m||(m={})),function(e){e.FCM="gcm",e.APNS="apns",e.UNKNOWN="unknown"}(g||(g={})),function(e){e.ALTERNATIVE="alternative",e.DEFAULT="default"}(y||(y={})),function(e){e.CUSTOM="custom",e.MESSAGE_COLLECTION_ACCESSED_AT="messagecollection_accessed_at"}(v||(v={}));var H,F=function(){function e(e){var t=e.channel,n=e.cachedMessageCount;this._cachedMessageCount=0,this._channel=t,this._cachedMessageCount=n}return Object.defineProperty(e.prototype,"channel",{get:function(){return this._channel},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cachedMessageCount",{get:function(){return this._cachedMessageCount},enumerable:!1,configurable:!0}),e}(),j=function(){function e(e){var t=void 0===e?{}:e,n=t.maxSize,r=void 0===n?256:n,i=t.clearOrder,s=void 0===i?v.MESSAGE_COLLECTION_ACCESSED_AT:i,a=t.customClearOrderComparator,o=t.enableAutoResend,u=void 0===o||o;this._clearOrderComparatorUseMessageCollectionAccessedAt=function(e,t){return e.channel.messageCollectionLastAccessedAt===t.channel.messageCollectionLastAccessedAt?e.channel.lastMessage&&!t.channel.lastMessage?1:!e.channel.lastMessage&&t.channel.lastMessage?-1:e.channel.lastMessage||t.channel.lastMessage?e.channel.lastMessage.createdAt-t.channel.lastMessage.createdAt:0:e.channel.messageCollectionLastAccessedAt>t.channel.messageCollectionLastAccessedAt?1:-1},this._maxSize=Math.max(r,64),a?(this._clearOrder=s,this._customClearOrderComparator=a):this._clearOrder=v.MESSAGE_COLLECTION_ACCESSED_AT,this._enableAutoResend=u}return Object.defineProperty(e.prototype,"maxSize",{get:function(){return this._maxSize},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clearOrder",{get:function(){return this._clearOrder},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clearOrderComparator",{get:function(){var e;return this._clearOrder===v.MESSAGE_COLLECTION_ACCESSED_AT?this._clearOrderComparatorUseMessageCollectionAccessedAt:null!==(e=this._customClearOrderComparator)&&void 0!==e?e:this._clearOrderComparatorUseMessageCollectionAccessedAt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enableAutoResend",{get:function(){return this._enableAutoResend},enumerable:!1,configurable:!0}),e}();!function(e){e.FEED="feed",e.CHAT="chat",e.CHAT_API="chat_api"}(H||(H={}));var V,q,z,G,W,B,K,Q,J,Z,X,$,ee,te=function(){function e(){this.isRefreshing=!1}return Object.defineProperty(e.prototype,"hasSession",{get:function(){return!!this.sessionKey},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasChatServicePermission",{get:function(){var e;return!!(null===(e=this.services)||void 0===e?void 0:e.includes(H.CHAT))},enumerable:!1,configurable:!0}),e.prototype.clear=function(){this.authToken=void 0,this.sessionKey=void 0,this.services=[]},e}(),ne=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))},re=function(){function e(e){var t=e.container;this._container={},this._container=t,this.key=ne()}return e.prototype._register=function(e,t,n){var r;return e in this._container||(this._container[e]=new Map),null===(r=this._container[e])||void 0===r||r.set(this.key,{occurence:t,handler:n}),this},e.prototype.on=function(e,t){return this._register(e,-1,t)},e.prototype.once=function(e,t){return this._register(e,1,t)},e.prototype.close=function(){var e=this;Object.keys(this._container).forEach((function(t){var n;null===(n=e._container[t])||void 0===n||n.delete(e.key)}))},e}(),ie=function(){function e(){this._container={}}return e.prototype.on=function(e,t){return new re({container:this._container}).on(e,t)},e.prototype.once=function(e,t){return new re({container:this._container}).once(e,t)},e.prototype.dispatch=function(e,t){var n,r,i=this._container[e];if(i){var s=[];try{for(var a=c(i.keys()),o=a.next();!o.done;o=a.next()){var u=o.value,l=i.get(u);l.handler(t),l.occurence>0&&(l.occurence--,0===l.occurence&&s.push(u))}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}s.forEach((function(e){return i.delete(e)}))}},e}(),se=function(){function e(){this._dispatcher=new ie}return e.prototype.on=function(e){return this._dispatcher.on("event",e)},e.prototype.once=function(e){return this._dispatcher.once("event",e)},e.prototype.dispatch=function(e){this._dispatcher.dispatch("event",e)},e}(),ae=function(){},oe=function(e){var t={};return e&&Object.keys(e).forEach((function(n){void 0===e[n]||Number.isNaN(e[n])||null===e[n]||(t[n]=e[n])})),t},ue=function(e){if(null!=e){if("object"==typeof e){if(Array.isArray(e)){for(var t=d([],l(e),!1),n=0;n<t.length;n++)t[n]=ue(t[n]);return t}return Object.keys(e).forEach((function(t){null===e[t]&&delete e[t]})),e}return e}};!function(e){e.BASE="base",e.GROUP="group",e.OPEN="open",e.FEED="feed"}(V||(V={})),function(e){e.OPERATOR="operator",e.NONE="none"}(q||(q={})),function(e){e.MUTED="muted",e.UNMUTED="unmuted"}(z||(z={})),function(e){e.BASE="base",e.USER="user",e.FILE="file",e.ADMIN="admin"}(G||(G={})),function(e){e.ALL="",e.USER="MESG",e.FILE="FILE",e.ADMIN="ADMM"}(W||(W={})),function(e){e.USER="MESG",e.FILE="FILE",e.ADMIN="ADMM"}(B||(B={})),function(e){e.USERS="users",e.CHANNEL="channel"}(K||(K={})),function(e){e.ALL="all",e.NONE="none",e.ONLY_REPLY_TO_CHANNEL="only_reply_to_channel"}(Q||(Q={})),function(e){e.DEFAULT="default",e.SUPPRESS="suppress"}(J||(J={})),function(e){e.PENDING="pending",e.SCHEDULED="scheduled",e.SUCCEEDED="succeeded",e.FAILED="failed",e.CANCELED="canceled"}(Z||(Z={})),function(e){e.INREVIEW="InReview",e.APPROVED="Approved"}(X||(X={})),function(e){e.HIGH="high",e.NORMAL="normal",e.LOW="low"}($||($={})),function(e){e.CREATED_AT="created_at",e.UPDATED_AT="updated_at"}(ee||(ee={}));var ce,le="v3",de="/".concat(le,"/users"),he="/".concat(le,"/sdk/users"),_e="/".concat(le,"/storage/file"),fe="/".concat(le,"/group_channels"),pe="/".concat(le,"/sdk/group_channels"),me="/".concat(le,"/open_channels"),ge=("/".concat(le,"/sdk/open_channels"),"/".concat(le,"/search")),ye="/".concat(le,"/report"),ve="/".concat(le,"/emojis"),be="/".concat(le,"/emoji_categories"),Me="/".concat(le,"/polls"),Ee="/".concat(le,"/scheduled_messages"),Le="/".concat(le,"/sdk/ui_kit/configuration"),we="/".concat(le,"/sdk/statistics"),Te="/".concat(le,"/sdk/statistics/notification_statistics"),ke=("/".concat(le,"/notifications"),"/".concat(le,"/notifications/users"),"/".concat(le,"/message_templates")),Se="/".concat(le,"/sdk/push_delivery"),De="/".concat(le,"/forms"),Ce="/".concat(le,"/report_category"),Ae=function(e){switch(e){case V.FEED:case V.GROUP:return fe;case V.OPEN:return me;default:return null}},Ie=function(e){switch(e){case V.GROUP:return"".concat(ye,"/group_channels");case V.OPEN:return"".concat(ye,"/open_channels");default:return null}},Ne=function(e,t,n){var r,i;switch(e){case K.CHANNEL:return!0;case K.USERS:if(t)try{for(var s=c(t),a=s.next();!a.done;a=s.next())if(a.value===n)return!0}catch(e){r={error:e}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}return!1},Ye=function(e,t,n){var r,i,s,a,o=Ne(null!==(r=e.mentionType)&&void 0!==r?r:null,null!==(i=e.mentionedUserIds)&&void 0!==i?i:[],n),u=Ne(null!==(s=t.mentionType)&&void 0!==s?s:null,null!==(a=t.mentionedUserIds)&&void 0!==a?a:[],n);return!o&&u?1:o&&!u?-1:0},Oe=function(e,t,n){var r,i=t||new FormData;for(var s in e)if(e.hasOwnProperty(s)){var a=e[s],o=n?"".concat(n,"[").concat(s,"]"):s;N(a)?i.append(o,a,null!==(r=a.name)&&void 0!==r?r:"filename"):"object"!=typeof a||null===a||Array.isArray(a)||a instanceof Blob?i.append(o,String(a)):i=Oe(a,i,o)}return i};!function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"}(ce||(ce={}));var xe,Ue=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.params={},t.requireAuth=!0,t.headers={},t.requestId=ne(),t}return i(t,e),t.prototype.encodeParams=function(e){var t=this;return null==e||""===e?encodeURIComponent(""):Array.isArray(e)?e.map((function(e){return t.encodeParams(e)})).join(","):"object"==typeof e?encodeURIComponent(JSON.stringify(e)):encodeURIComponent(String(e))},Object.defineProperty(t.prototype,"query",{get:function(){var e=this,t=oe(this.params);return"?".concat(Object.keys(t).map((function(n){return"".concat(encodeURIComponent(n),"=").concat(e.encodeParams(t[n]))})).join("&"))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"payload",{get:function(){var e=oe(this.params);return Object.keys(e).some((function(t){return N(e[t])}))?Oe(e):JSON.stringify(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSessionKey",{get:function(){return void 0!==this.headers["Session-Key"]},enumerable:!1,configurable:!0}),t}(ae),Pe=function(e){function t(t,n){var r=e.call(this)||this;return r._iid=t,r._payload=n,r}return i(t,e),Object.defineProperty(t.prototype,"payload",{get:function(){return s({},this._payload)},enumerable:!1,configurable:!0}),t.prototype.as=function(e){return new e(this._iid,this.payload)},t}(ae),Re=function(e){function t(t){var n=e.call(this)||this;return n.requestId=t,n}return i(t,e),t}(ae),He=function(e){function t(t){var n=t.expires_in,r=t.reason,i=void 0===r?h.SESSION_KEY_EXPIRED:r,s=t.message,a=void 0===s?"":s,o=e.call(this)||this;switch(o.expiresIn=null!=n?n:0,i){case h.SESSION_KEY_EXPIRED:case h.SESSION_TOKEN_EXPIRED:case h.SESSION_REVOKED:case h.USER_AUTH_DEACTIVATED:case h.USER_AUTH_DELETED_OR_NOT_FOUND:o.error=new M({code:i,message:a})}return o}return i(t,e),Object.defineProperty(t.prototype,"invalidateSessionToken",{get:function(){var e;return!!(null===(e=this.error)||void 0===e?void 0:e.isSessionTokenExpiredError)},enumerable:!1,configurable:!0}),t}(ae),Fe=function(e){function t(t,n,r,i){void 0===i&&(i="");var s,a=this;return(a=e.call(this)||this)._iid=t,a.code=n,a.payload=r,a.requestId=null!==(s=r.req_id)&&void 0!==s?s:i,a}return i(t,e),t.createFromRawMessage=function(e,n){var r=n.substring(0,4),i={};try{i=JSON.parse(n.substring(4))}catch(e){r="NOOP"}finally{return new t(e,r,i)}},t.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),"\n")},t.prototype.as=function(e){return new e(this._iid,this.code,this.payload)},t}(ae),je=function(e){function t(t){var n,r=t.code,i=t.ackRequired,s=t.payload,a=void 0===s?{}:s,o=this;return(o=e.call(this)||this).code=r,o.payload=a,o.requestId=null!==(n=o.payload.req_id)&&void 0!==n?n:ne(),o.ackRequired=i,o.payload.req_id=o.requestId,o}return i(t,e),t.prototype.convertToMessage=function(){return"".concat(this.code).concat(JSON.stringify(this.payload),"\n")},t}(ae),Ve=function(e){function t(t){var n=t.userId,r=t.authToken,i=t.services,s=t.expiringSession,a=void 0===s||s,o=e.call(this)||this;return o.path="".concat(de,"/").concat(n,"/session_key"),o.method=ce.POST,o.params=oe({token:r,services:i,expiring_session:!!a}),o.requireAuth=!1,o}return i(t,e),t}(Ue),qe=function(e){function t(t){var n=t.authToken,r=t.expiringSession,i=void 0===r||r,s=t.requestId,a=void 0===s?void 0:s;return e.call(this,{code:"LOGI",payload:oe({token:n,expiring_session:i?1:0,req_id:a}),ackRequired:!0})||this}return i(t,e),t}(je),ze=function(e){function t(t,n){var r=e.call(this,t,n)||this,i=n.key,s=n.expires_at,a=n.services;return r.key=i,r.expiresAt=s,r.services=a,r}return i(t,e),t}(Pe),Ge=function(e){function t(t,n,r){var i,s=this;return(s=e.call(this,t,"LOGI",r)||this).error=null,s.newKey=null,s.newKey=null!==(i=r.new_key)&&void 0!==i?i:null,s.error=r.error?new M(r):null,s}return i(t,e),t}(Fe),We=function(e){function t(t){var n=e.call(this)||this;return n.statLog=t,n}return i(t,e),t}(ae),Be=function(e){function t(t){var n=t.request,r=t.deferred,i=t.error,s=void 0===i?M.requestFailed:i,a=e.call(this)||this;return a.request=n,a.deferred=r,a.error=s,a}return i(t,e),t}(ae);!function(e){e.FEATURE_LOCALCACHE="feature:local_cache",e.FEATURE_LOCALCACHE_EVENT="feature:local_cache_event",e.NOTIFICATION="noti:stats",e.WEBSOCKET_CONNECT="ws:connect",e.API_RESULT="api:result"}(xe||(xe={}));var Ke,Qe,Je,Ze=function(){function e(e){var t=e.type,n=e.data,r=e.ts,i=void 0===r?Date.now():r;this.type=t,this.createdAt=i,this.data=n}return e.payloadify=function(e){return oe({stat_type:e.type,ts:e.createdAt,data:oe(e.data)})},e}(),Xe=function(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"==navigator.product},$e=function(){return!("undefined"==typeof navigator||!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Windows Phone/i.test(navigator.userAgent))};!function(e){e.CHAT="chat",e.CALLS="calls",e.DESK="desk",e.LIVE="live",e.UIKIT_CHAT="uikit-chat",e.UIKIT_LIVE="uikit-live"}(Ke||(Ke={})),function(e){e.ANDROID="android",e.IOS="ios",e.JS="js",e.UNREAL="unreal",e.UNITY="unity",e.REACT_NATIVE="react-native",e.FLUTTER="flutter"}(Qe||(Qe={})),function(e){e.ANDROID="android",e.IOS="ios",e.WEB="web",e.MOBILE_WEB="mobile_web",e.WINDOWS="windows"}(Je||(Je={}));var et="^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",tt=function(){function e(){}return e.sendbirdSdkUserAgentWithExtension=function(e){var t=Xe()?Qe.REACT_NATIVE:Qe.JS,n={main_sdk_info:"chat/".concat(t,"/").concat(f.SDK_VERSION),device_os_platform:$e()?"mobile-web":"web",os_version:f.OS_VERSION};if(e){var r=e.sendbirdExtensions,i=e.deviceOS,a=e.customData,o=void 0===a?{}:a;i.version&&(n.os_version=i.version),i.platform&&(n.device_os_platform=i.platform),r.length>0&&(n.extension_sdk_info=r.map((function(e){var t=e.product,n=e.platform,r=e.version;return"".concat(t,"/").concat(n,"/").concat(r)})).join(",")),Object.keys(n).forEach((function(e){return delete o[e]})),Object.keys(o).length>0&&(n=s(s({},n),o))}return Object.entries(n).map((function(e){var t=l(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(r)})).join("&")},e.userAgentWithExtension=function(e){var t=Xe()?"reactnative":"JS",n=e.sb_syncmanager?"s".concat(e.sb_syncmanager):"",r=e.sb_uikit?"u".concat(e.sb_uikit):"",i=e["device-os-platform"]?"o".concat(e["device-os-platform"]):$e()?"omobile-web":"oweb";return"".concat(t,"/c").concat(f.SDK_VERSION,"/").concat(n,"/").concat(r,"/").concat(i)},e}(),nt=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=function(e){n(e)}}))},rt=function(e){function t(t){var n=e.call(this)||this;return n.requestId=t.requestId,n}return i(t,e),t}(ae),it=function(e){function t(t){var n=e.call(this)||this;return n.method=ce.DELETE,n.path="".concat(Ae(t.channelType),"/").concat(t.channelUrl,"/messages/").concat(t.messageId),t.messageToken&&(n.params=oe({mesg_token:t.messageToken})),n}return i(t,e),t}(Ue);!function(e){i((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(Pe);var st=function(e){function t(t,n,r){var i,s=this;return(s=e.call(this,t,"DELM",r)||this).channelUrl=r.channel_url,s.channelType=r.channel_type,s.messageId=Number(r.msg_id),s.silent=r.silent,s.messageCreatedAt=r.message_created_at?Number(r.message_created_at):-1,s.senderId=null!==(i=r.sender_id)&&void 0!==i?i:void 0,s}return i(t,e),t}(Fe),at=function(){function e(e,t){var n=t.session,r=t.sdkState,i=t.dispatcher,s=t.logger,a=t.useFetchCompat,o=void 0!==a&&a,u=this;this._abortControl=new Map,this._shouldImportFetchCompat=!1,this._iid=e,this._session=n,this._sdkState=r,this._dispatcher=i,this._dispatcher.on((function(e){e instanceof Re&&u.cancel(e.requestId)})),this._logger=s,this._shouldImportFetchCompat=o}return e.prototype._createHeader=function(e,t){var n=this._sdkState,r=n.appId,i=n.appVersion,a=n.sendbirdRuntimeEnvironment,o=s(s({},e.headers),{SendBird:"JS,".concat(f.OS_VERSION,",").concat(f.SDK_VERSION,",").concat(r).concat(i?",".concat(i):""),"SB-User-Agent":tt.userAgentWithExtension(this._sdkState.extensions),"Request-Sent-Timestamp":Date.now().toString(),"SB-SDK-User-Agent":tt.sendbirdSdkUserAgentWithExtension(a)});return t||(o["Content-Type"]="application/json; charset=utf-8"),e.requireAuth&&!e.hasSessionKey&&this._session.hasSession&&(o["Session-Key"]=this._session.sessionKey),o["App-Id"]=r,this._session&&this._session.authToken&&(o["Access-Token"]=this._session.authToken),o},e.prototype._statLogApiResult=function(e,t,n){e.path.includes("/sdk/statistics")||this._dispatcher.dispatch(new We(new Ze({type:xe.API_RESULT,data:{endpoint:e.path,method:e.method,success:!n,latency:Date.now()-t,error_code:null==n?void 0:n.code,error_description:null==n?void 0:n.message}})))},e.prototype._isBodyRequired=function(e){var t=e.method;return t!==ce.GET&&(t!==ce.DELETE||e instanceof it)},e.prototype.send=function(e){return o(this,void 0,void 0,(function(){var t,r,i,s,a,o,c,l,d,_,f,p,m,g,y,v,b,E,L;return u(this,(function(u){switch(u.label){case 0:t=e.path,r=e.method,i=e.uploadProgressHandler,s=this._isBodyRequired(e),a=this._sdkState.api,o="".concat(a.host).concat(t).concat(s?"":e.query),c=s?e.payload:null,l=this._createHeader(e,c instanceof FormData?c:void 0),d=new AbortController,_=d.signal,this._abortControl.set(e.requestId,d),f=Date.now(),u.label=1;case 1:return u.trys.push([1,13,,14]),i?[4,n.e(5749).then(n.bind(n,45749))]:[3,6];case 2:p=u.sent().xmlHttpRequest,u.label=3;case 3:return u.trys.push([3,5,,6]),[4,p(this._iid,{requestId:e.requestId,method:e.method,url:o,headers:l,data:null!=c?c:void 0,uploadProgressHandler:i})];case 4:return m=u.sent(),this._logger.debug("receive api response",e.requestId),this._statLogApiResult(e,f),[2,m];case 5:if(!((g=u.sent())instanceof M&&g.code===h.XMLHTTPREQUEST_NOT_SUPPORTED))throw g;return this._logger.debug("XMLHttpRequest is not available in this environment. progressHandler is ignored."),[3,6];case 6:return this._shouldImportFetchCompat&&(this._shouldImportFetchCompat=!1,("undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||{fetch:null}).fetch=null),"undefined"!=typeof AbortController?[3,8]:[4,n.e(5751).then(n.bind(n,65751))];case 7:u.sent(),u.label=8;case 8:return"function"==typeof fetch?[3,10]:[4,n.e(2721).then(n.bind(n,22721))];case 9:u.sent(),u.label=10;case 10:return[4,fetch(o,{method:r,body:c,headers:l,signal:_})];case 11:return[4,(y=u.sent()).json()];case 12:if(v=u.sent(),y.ok||y.redirected)return this._logger.debug("receive api response",e.requestId),this._statLogApiResult(e,f),[2,new Pe(this._iid,v)];if(v){if((b=new M(v)).isSessionExpiredError){if(this._dispatcher.dispatch(new He({reason:b.code,message:b.message})),!(e instanceof Ve))return E=new nt,this._dispatcher.dispatch(new Be({request:e,deferred:E,error:b})),[2,E.promise];throw b}throw b.isSessionInvalidatedError?(this._dispatcher.dispatch(new He({reason:b.code,message:b.message})),b):b}throw M.requestFailed;case 13:throw L=u.sent(),this._statLogApiResult(e,f,L),L instanceof M?(this._logger.debug("fail api request",L),L):"AbortError"===(null==L?void 0:L.name)?M.requestCanceled:(this._logger.debug("fail api request",L),M.networkError);case 14:return[2]}}))}))},e.prototype.cancel=function(e){this._abortControl.has(e)&&(this._abortControl.get(e).abort(),this._abortControl.delete(e)),this._dispatcher.dispatch(new rt({requestId:e}))},e.prototype.cancelAll=function(){var e,t;try{for(var n=c(this._abortControl.values()),r=n.next();!r.done;r=n.next())r.value.abort()}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this._abortControl.clear(),this._dispatcher.dispatch(new rt({}))},e}(),ot=function(){};function ut(e){let t=e.length;for(;--t>=0;)e[t]=0}const ct=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),lt=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),dt=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),ht=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),_t=new Array(576);ut(_t);const ft=new Array(60);ut(ft);const pt=new Array(512);ut(pt);const mt=new Array(256);ut(mt);const gt=new Array(29);ut(gt);const yt=new Array(30);function vt(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let bt,Mt,Et;function Lt(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}ut(yt);const wt=e=>e<256?pt[e]:pt[256+(e>>>7)],Tt=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},kt=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,Tt(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},St=(e,t,n)=>{kt(e,n[2*t],n[2*t+1])},Dt=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},Ct=(e,t,n)=>{const r=new Array(16);let i,s,a=0;for(i=1;i<=15;i++)a=a+n[i-1]<<1,r[i]=a;for(s=0;s<=t;s++){let t=e[2*s+1];0!==t&&(e[2*s]=Dt(r[t]++,t))}},At=e=>{let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},It=e=>{e.bi_valid>8?Tt(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Nt=(e,t,n,r)=>{const i=2*t,s=2*n;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]},Yt=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&Nt(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Nt(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},Ot=(e,t,n)=>{let r,i,s,a,o=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+o++],r+=(255&e.pending_buf[e.sym_buf+o++])<<8,i=e.pending_buf[e.sym_buf+o++],0===r?St(e,i,t):(s=mt[i],St(e,s+256+1,t),a=ct[s],0!==a&&(i-=gt[s],kt(e,i,a)),r--,s=wt(r),St(e,s,n),a=lt[s],0!==a&&(r-=yt[s],kt(e,r,a)))}while(o<e.sym_next);St(e,256,t)},xt=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let a,o,u,c=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<s;a++)0!==n[2*a]?(e.heap[++e.heap_len]=c=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=c<2?++c:0,n[2*u]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=r[2*u+1]);for(t.max_code=c,a=e.heap_len>>1;a>=1;a--)Yt(e,n,a);u=s;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Yt(e,n,1),o=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=o,n[2*u]=n[2*a]+n[2*o],e.depth[u]=(e.depth[a]>=e.depth[o]?e.depth[a]:e.depth[o])+1,n[2*a+1]=n[2*o+1]=u,e.heap[1]=u++,Yt(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,u=t.stat_desc.max_length;let c,l,d,h,_,f,p=0;for(h=0;h<=15;h++)e.bl_count[h]=0;for(n[2*e.heap[e.heap_max]+1]=0,c=e.heap_max+1;c<573;c++)l=e.heap[c],h=n[2*n[2*l+1]+1]+1,h>u&&(h=u,p++),n[2*l+1]=h,l>r||(e.bl_count[h]++,_=0,l>=o&&(_=a[l-o]),f=n[2*l],e.opt_len+=f*(h+_),s&&(e.static_len+=f*(i[2*l+1]+_)));if(0!==p){do{for(h=u-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[u]--,p-=2}while(p>0);for(h=u;0!==h;h--)for(l=e.bl_count[h];0!==l;)d=e.heap[--c],d>r||(n[2*d+1]!==h&&(e.opt_len+=(h-n[2*d+1])*n[2*d],n[2*d+1]=h),l--)}})(e,t),Ct(n,c,e.bl_count)},Ut=(e,t,n)=>{let r,i,s=-1,a=t[1],o=0,u=7,c=4;for(0===a&&(u=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++o<u&&i===a||(o<c?e.bl_tree[2*i]+=o:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,s=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4))},Pt=(e,t,n)=>{let r,i,s=-1,a=t[1],o=0,u=7,c=4;for(0===a&&(u=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++o<u&&i===a)){if(o<c)do{St(e,i,e.bl_tree)}while(0!=--o);else 0!==i?(i!==s&&(St(e,i,e.bl_tree),o--),St(e,16,e.bl_tree),kt(e,o-3,2)):o<=10?(St(e,17,e.bl_tree),kt(e,o-3,3)):(St(e,18,e.bl_tree),kt(e,o-11,7));o=0,s=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4)}};let Rt=!1;const Ht=(e,t,n,r)=>{kt(e,0+(r?1:0),3),It(e),Tt(e,n),Tt(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var Ft={_tr_init:e=>{Rt||((()=>{let e,t,n,r,i;const s=new Array(16);for(n=0,r=0;r<28;r++)for(gt[r]=n,e=0;e<1<<ct[r];e++)mt[n++]=r;for(mt[n-1]=r,i=0,r=0;r<16;r++)for(yt[r]=i,e=0;e<1<<lt[r];e++)pt[i++]=r;for(i>>=7;r<30;r++)for(yt[r]=i<<7,e=0;e<1<<lt[r]-7;e++)pt[256+i++]=r;for(t=0;t<=15;t++)s[t]=0;for(e=0;e<=143;)_t[2*e+1]=8,e++,s[8]++;for(;e<=255;)_t[2*e+1]=9,e++,s[9]++;for(;e<=279;)_t[2*e+1]=7,e++,s[7]++;for(;e<=287;)_t[2*e+1]=8,e++,s[8]++;for(Ct(_t,287,s),e=0;e<30;e++)ft[2*e+1]=5,ft[2*e]=Dt(e,5);bt=new vt(_t,ct,257,286,15),Mt=new vt(ft,lt,0,30,15),Et=new vt(new Array(0),dt,0,19,7)})(),Rt=!0),e.l_desc=new Lt(e.dyn_ltree,bt),e.d_desc=new Lt(e.dyn_dtree,Mt),e.bl_desc=new Lt(e.bl_tree,Et),e.bi_buf=0,e.bi_valid=0,At(e)},_tr_stored_block:Ht,_tr_flush_block:(e,t,n,r)=>{let i,s,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),xt(e,e.l_desc),xt(e,e.d_desc),a=(e=>{let t;for(Ut(e,e.dyn_ltree,e.l_desc.max_code),Ut(e,e.dyn_dtree,e.d_desc.max_code),xt(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*ht[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&-1!==t?Ht(e,t,n,r):4===e.strategy||s===i?(kt(e,2+(r?1:0),3),Ot(e,_t,ft)):(kt(e,4+(r?1:0),3),((e,t,n,r)=>{let i;for(kt(e,t-257,5),kt(e,n-1,5),kt(e,r-4,4),i=0;i<r;i++)kt(e,e.bl_tree[2*ht[i]+1],3);Pt(e,e.dyn_ltree,t-1),Pt(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),Ot(e,e.dyn_ltree,e.dyn_dtree)),At(e),r&&It(e)},_tr_tally:(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(mt[n]+256+1)]++,e.dyn_dtree[2*wt(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{kt(e,2,3),St(e,256,_t),(e=>{16===e.bi_valid?(Tt(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}},jt=(e,t,n,r)=>{let i=65535&e,s=e>>>16&65535,a=0;for(;0!==n;){a=n>2e3?2e3:n,n-=a;do{i=i+t[r++]|0,s=s+i|0}while(--a);i%=65521,s%=65521}return i|s<<16};const Vt=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var qt=(e,t,n,r)=>{const i=Vt,s=r+n;e^=-1;for(let n=r;n<s;n++)e=e>>>8^i[255&(e^t[n])];return~e},zt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Gt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Wt,_tr_stored_block:Bt,_tr_flush_block:Kt,_tr_tally:Qt,_tr_align:Jt}=Ft,{Z_NO_FLUSH:Zt,Z_PARTIAL_FLUSH:Xt,Z_FULL_FLUSH:$t,Z_FINISH:en,Z_BLOCK:tn,Z_OK:nn,Z_STREAM_END:rn,Z_STREAM_ERROR:sn,Z_DATA_ERROR:an,Z_BUF_ERROR:on,Z_DEFAULT_COMPRESSION:un,Z_FILTERED:cn,Z_HUFFMAN_ONLY:ln,Z_RLE:dn,Z_FIXED:hn,Z_DEFAULT_STRATEGY:_n,Z_UNKNOWN:fn,Z_DEFLATED:pn}=Gt,mn=258,gn=262,yn=42,vn=113,bn=666,Mn=(e,t)=>(e.msg=zt[t],t),En=e=>2*e-(e>4?9:0),Ln=e=>{let t=e.length;for(;--t>=0;)e[t]=0},wn=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do{n=e.head[--r],e.head[r]=n>=i?n-i:0}while(--t);t=i,r=t;do{n=e.prev[--r],e.prev[r]=n>=i?n-i:0}while(--t)};let Tn=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const kn=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Sn=(e,t)=>{Kt(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,kn(e.strm)},Dn=(e,t)=>{e.pending_buf[e.pending++]=t},Cn=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},An=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=jt(e.adler,t,i,n):2===e.state.wrap&&(e.adler=qt(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},In=(e,t)=>{let n,r,i=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match;const u=e.strstart>e.w_size-gn?e.strstart-(e.w_size-gn):0,c=e.window,l=e.w_mask,d=e.prev,h=e.strstart+mn;let _=c[s+a-1],f=c[s+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(n=t,c[n+a]===f&&c[n+a-1]===_&&c[n]===c[s]&&c[++n]===c[s+1]){s+=2,n++;do{}while(c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&c[++s]===c[++n]&&s<h);if(r=mn-(h-s),s=h-mn,r>a){if(e.match_start=t,a=r,r>=o)break;_=c[s+a-1],f=c[s+a]}}}while((t=d[t&l])>u&&0!=--i);return a<=e.lookahead?a:e.lookahead},Nn=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-gn)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),wn(e),r+=t),0===e.strm.avail_in)break;if(n=An(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=Tn(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=Tn(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<gn&&0!==e.strm.avail_in)},Yn=(e,t)=>{let n,r,i,s=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,a=0,o=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i)break;if(i=e.strm.avail_out-i,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>i&&(n=i),n<s&&(0===n&&t!==en||t===Zt||n!==r+e.strm.avail_in))break;a=t===en&&n===r+e.strm.avail_in?1:0,Bt(e,0,0,a),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,kn(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(An(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===a);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?4:t!==Zt&&t!==en&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(An(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,s=i>e.w_size?e.w_size:i,r=e.strstart-e.block_start,(r>=s||(r||t===en)&&t!==Zt&&0===e.strm.avail_in&&r<=i)&&(n=r>i?i:r,a=t===en&&0===e.strm.avail_in&&n===r?1:0,Bt(e,e.block_start,n,a),e.block_start+=n,kn(e.strm)),a?3:1)},On=(e,t)=>{let n,r;for(;;){if(e.lookahead<gn){if(Nn(e),e.lookahead<gn&&t===Zt)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Tn(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-gn&&(e.match_length=In(e,n)),e.match_length>=3)if(r=Qt(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Tn(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Tn(e,e.ins_h,e.window[e.strstart+1]);else r=Qt(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Sn(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===en?(Sn(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Sn(e,!1),0===e.strm.avail_out)?1:2},xn=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<gn){if(Nn(e),e.lookahead<gn&&t===Zt)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Tn(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-gn&&(e.match_length=In(e,n),e.match_length<=5&&(e.strategy===cn||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=Qt(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=Tn(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(Sn(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=Qt(e,0,e.window[e.strstart-1]),r&&Sn(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Qt(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===en?(Sn(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Sn(e,!1),0===e.strm.avail_out)?1:2};function Un(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const Pn=[new Un(0,0,0,0,Yn),new Un(4,4,8,4,On),new Un(4,5,16,8,On),new Un(4,6,32,32,On),new Un(4,4,16,16,xn),new Un(8,16,32,32,xn),new Un(8,16,128,128,xn),new Un(8,32,128,256,xn),new Un(32,128,258,1024,xn),new Un(32,258,258,4096,xn)];function Rn(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=pn,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),Ln(this.dyn_ltree),Ln(this.dyn_dtree),Ln(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),Ln(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),Ln(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Hn=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==yn&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==vn&&t.status!==bn?1:0},Fn=e=>{const t=(e=>{if(Hn(e))return Mn(e,sn);e.total_in=e.total_out=0,e.data_type=fn;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?yn:vn,e.adler=2===t.wrap?0:1,t.last_flush=-2,Wt(t),nn})(e);var n;return t===nn&&((n=e.state).window_size=2*n.w_size,Ln(n.head),n.max_lazy_match=Pn[n.level].max_lazy,n.good_match=Pn[n.level].good_length,n.nice_match=Pn[n.level].nice_length,n.max_chain_length=Pn[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t};var jn=(e,t,n,r,i,s)=>{if(!e)return sn;let a=1;if(t===un&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>9||n!==pn||r<8||r>15||t<0||t>9||s<0||s>hn||8===r&&1!==a)return Mn(e,sn);8===r&&(r=9);const o=new Rn;return e.state=o,o.strm=e,o.status=yn,o.wrap=a,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=3*(o.lit_bufsize-1),o.level=t,o.strategy=s,o.method=n,Fn(e)},Vn=(e,t)=>{if(Hn(e)||t>tn||t<0)return e?Mn(e,sn):sn;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===bn&&t!==en)return Mn(e,0===e.avail_out?on:sn);const r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(kn(e),0===e.avail_out)return n.last_flush=-1,nn}else if(0===e.avail_in&&En(t)<=En(r)&&t!==en)return Mn(e,on);if(n.status===bn&&0!==e.avail_in)return Mn(e,on);if(n.status===yn&&0===n.wrap&&(n.status=vn),n.status===yn){let t=pn+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=ln||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,Cn(n,t),0!==n.strstart&&(Cn(n,e.adler>>>16),Cn(n,65535&e.adler)),e.adler=1,n.status=vn,kn(e),0!==n.pending)return n.last_flush=-1,nn}if(57===n.status)if(e.adler=0,Dn(n,31),Dn(n,139),Dn(n,8),n.gzhead)Dn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Dn(n,255&n.gzhead.time),Dn(n,n.gzhead.time>>8&255),Dn(n,n.gzhead.time>>16&255),Dn(n,n.gzhead.time>>24&255),Dn(n,9===n.level?2:n.strategy>=ln||n.level<2?4:0),Dn(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Dn(n,255&n.gzhead.extra.length),Dn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=qt(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(Dn(n,0),Dn(n,0),Dn(n,0),Dn(n,0),Dn(n,0),Dn(n,9===n.level?2:n.strategy>=ln||n.level<2?4:0),Dn(n,3),n.status=vn,kn(e),0!==n.pending)return n.last_flush=-1,nn;if(69===n.status){if(n.gzhead.extra){let t=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let i=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=qt(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=i,kn(e),0!==n.pending)return n.last_flush=-1,nn;t=0,r-=i}let i=new Uint8Array(n.gzhead.extra);n.pending_buf.set(i.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=qt(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=qt(e.adler,n.pending_buf,n.pending-r,r)),kn(e),0!==n.pending)return n.last_flush=-1,nn;r=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Dn(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=qt(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=qt(e.adler,n.pending_buf,n.pending-r,r)),kn(e),0!==n.pending)return n.last_flush=-1,nn;r=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Dn(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=qt(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(kn(e),0!==n.pending))return n.last_flush=-1,nn;Dn(n,255&e.adler),Dn(n,e.adler>>8&255),e.adler=0}if(n.status=vn,kn(e),0!==n.pending)return n.last_flush=-1,nn}if(0!==e.avail_in||0!==n.lookahead||t!==Zt&&n.status!==bn){let r=0===n.level?Yn(n,t):n.strategy===ln?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(Nn(e),0===e.lookahead)){if(t===Zt)return 1;break}if(e.match_length=0,n=Qt(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Sn(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===en?(Sn(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Sn(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===dn?((e,t)=>{let n,r,i,s;const a=e.window;for(;;){if(e.lookahead<=mn){if(Nn(e),e.lookahead<=mn&&t===Zt)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){s=e.strstart+mn;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<s);e.match_length=mn-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=Qt(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Qt(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Sn(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===en?(Sn(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Sn(e,!1),0===e.strm.avail_out)?1:2})(n,t):Pn[n.level].func(n,t);if(3!==r&&4!==r||(n.status=bn),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),nn;if(2===r&&(t===Xt?Jt(n):t!==tn&&(Bt(n,0,0,!1),t===$t&&(Ln(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),kn(e),0===e.avail_out))return n.last_flush=-1,nn}return t!==en?nn:n.wrap<=0?rn:(2===n.wrap?(Dn(n,255&e.adler),Dn(n,e.adler>>8&255),Dn(n,e.adler>>16&255),Dn(n,e.adler>>24&255),Dn(n,255&e.total_in),Dn(n,e.total_in>>8&255),Dn(n,e.total_in>>16&255),Dn(n,e.total_in>>24&255)):(Cn(n,e.adler>>>16),Cn(n,65535&e.adler)),kn(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?nn:rn)},qn=e=>{if(Hn(e))return sn;const t=e.state.status;return e.state=null,t===vn?Mn(e,an):nn};const zn=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Gn=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)zn(n,t)&&(e[t]=n[t])}}return e},Wn=e=>{let t=0;for(let n=0,r=e.length;n<r;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,r=0,i=e.length;t<i;t++){let i=e[t];n.set(i,r),r+=i.length}return n};let Bn=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(r){Bn=!1}const Kn=new Uint8Array(256);for(let e=0;e<256;e++)Kn[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Kn[254]=Kn[254]=1;var Qn=e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,i,s,a=e.length,o=0;for(i=0;i<a;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),s=0,i=0;s<o;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|63&n):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|63&n):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|63&n);return t},Jn=(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,i;const s=new Array(2*n);for(i=0,r=0;r<n;){let t=e[r++];if(t<128){s[i++]=t;continue}let a=Kn[t];if(a>4)s[i++]=65533,r+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&r<n;)t=t<<6|63&e[r++],a--;a>1?s[i++]=65533:t<65536?s[i++]=t:(t-=65536,s[i++]=55296|t>>10&1023,s[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&Bn)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(s,i)},Zn=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+Kn[e[n]]>t?n:t},Xn=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const $n=Object.prototype.toString,{Z_NO_FLUSH:er,Z_SYNC_FLUSH:tr,Z_FULL_FLUSH:nr,Z_FINISH:rr,Z_OK:ir,Z_STREAM_END:sr,Z_DEFAULT_COMPRESSION:ar,Z_DEFAULT_STRATEGY:or,Z_DEFLATED:ur}=Gt;function cr(e){this.options=Gn({level:ar,method:ur,chunkSize:16384,windowBits:15,memLevel:8,strategy:or},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xn,this.strm.avail_out=0;let n=jn(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==ir)throw new Error(zt[n]);if(t.header&&((e,t)=>{Hn(e)||2!==e.state.wrap||(e.state.gzhead=t)})(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?Qn(t.dictionary):"[object ArrayBuffer]"===$n.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=((e,t)=>{let n=t.length;if(Hn(e))return sn;const r=e.state,i=r.wrap;if(2===i||1===i&&r.status!==yn||r.lookahead)return sn;if(1===i&&(e.adler=jt(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(Ln(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const s=e.avail_in,a=e.next_in,o=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Nn(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=Tn(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,Nn(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=o,e.avail_in=s,r.wrap=i,nn})(this.strm,e),n!==ir)throw new Error(zt[n]);this._dict_set=!0}}function lr(e,t){const n=new cr(t);if(n.push(e,!0),n.err)throw n.msg||zt[n.err];return n.result}cr.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(s=t===~~t?t:!0===t?rr:er,"string"==typeof e?n.input=Qn(e):"[object ArrayBuffer]"===$n.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===tr||s===nr)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=Vn(n,s),i===sr)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=qn(this.strm),this.onEnd(i),this.ended=!0,i===ir;if(0!==n.avail_out){if(s>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},cr.prototype.onData=function(e){this.chunks.push(e)},cr.prototype.onEnd=function(e){e===ir&&(this.result=Wn(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var dr={Deflate:cr,deflate:lr,deflateRaw:function(e,t){return(t=t||{}).raw=!0,lr(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,lr(e,t)},constants:Gt};const hr=16209;var _r=function(e,t){let n,r,i,s,a,o,u,c,l,d,h,_,f,p,m,g,y,v,b,M,E,L,w,T;const k=e.state;n=e.next_in,w=e.input,r=n+(e.avail_in-5),i=e.next_out,T=e.output,s=i-(t-e.avail_out),a=i+(e.avail_out-257),o=k.dmax,u=k.wsize,c=k.whave,l=k.wnext,d=k.window,h=k.hold,_=k.bits,f=k.lencode,p=k.distcode,m=(1<<k.lenbits)-1,g=(1<<k.distbits)-1;e:do{_<15&&(h+=w[n++]<<_,_+=8,h+=w[n++]<<_,_+=8),y=f[h&m];t:for(;;){if(v=y>>>24,h>>>=v,_-=v,v=y>>>16&255,0===v)T[i++]=65535&y;else{if(!(16&v)){if(64&v){if(32&v){k.mode=16191;break e}e.msg="invalid literal/length code",k.mode=hr;break e}y=f[(65535&y)+(h&(1<<v)-1)];continue t}for(b=65535&y,v&=15,v&&(_<v&&(h+=w[n++]<<_,_+=8),b+=h&(1<<v)-1,h>>>=v,_-=v),_<15&&(h+=w[n++]<<_,_+=8,h+=w[n++]<<_,_+=8),y=p[h&g];;){if(v=y>>>24,h>>>=v,_-=v,v=y>>>16&255,16&v){if(M=65535&y,v&=15,_<v&&(h+=w[n++]<<_,_+=8,_<v&&(h+=w[n++]<<_,_+=8)),M+=h&(1<<v)-1,M>o){e.msg="invalid distance too far back",k.mode=hr;break e}if(h>>>=v,_-=v,v=i-s,M>v){if(v=M-v,v>c&&k.sane){e.msg="invalid distance too far back",k.mode=hr;break e}if(E=0,L=d,0===l){if(E+=u-v,v<b){b-=v;do{T[i++]=d[E++]}while(--v);E=i-M,L=T}}else if(l<v){if(E+=u+l-v,v-=l,v<b){b-=v;do{T[i++]=d[E++]}while(--v);if(E=0,l<b){v=l,b-=v;do{T[i++]=d[E++]}while(--v);E=i-M,L=T}}}else if(E+=l-v,v<b){b-=v;do{T[i++]=d[E++]}while(--v);E=i-M,L=T}for(;b>2;)T[i++]=L[E++],T[i++]=L[E++],T[i++]=L[E++],b-=3;b&&(T[i++]=L[E++],b>1&&(T[i++]=L[E++]))}else{E=i-M;do{T[i++]=T[E++],T[i++]=T[E++],T[i++]=T[E++],b-=3}while(b>2);b&&(T[i++]=T[E++],b>1&&(T[i++]=T[E++]))}break}if(64&v){e.msg="invalid distance code",k.mode=hr;break e}y=p[(65535&y)+(h&(1<<v)-1)]}}break}}while(n<r&&i<a);b=_>>3,n-=b,_-=b<<3,h&=(1<<_)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<a?a-i+257:257-(i-a),k.hold=h,k.bits=_};const fr=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),pr=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),mr=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),gr=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var yr=(e,t,n,r,i,s,a,o)=>{const u=o.bits;let c,l,d,h,_,f,p=0,m=0,g=0,y=0,v=0,b=0,M=0,E=0,L=0,w=0,T=null;const k=new Uint16Array(16),S=new Uint16Array(16);let D,C,A,I=null;for(p=0;p<=15;p++)k[p]=0;for(m=0;m<r;m++)k[t[n+m]]++;for(v=u,y=15;y>=1&&0===k[y];y--);if(v>y&&(v=y),0===y)return i[s++]=20971520,i[s++]=20971520,o.bits=1,0;for(g=1;g<y&&0===k[g];g++);for(v<g&&(v=g),E=1,p=1;p<=15;p++)if(E<<=1,E-=k[p],E<0)return-1;if(E>0&&(0===e||1!==y))return-1;for(S[1]=0,p=1;p<15;p++)S[p+1]=S[p]+k[p];for(m=0;m<r;m++)0!==t[n+m]&&(a[S[t[n+m]]++]=m);if(0===e?(T=I=a,f=20):1===e?(T=fr,I=pr,f=257):(T=mr,I=gr,f=0),w=0,m=0,p=g,_=s,b=v,M=0,d=-1,L=1<<v,h=L-1,1===e&&L>852||2===e&&L>592)return 1;for(;;){D=p-M,a[m]+1<f?(C=0,A=a[m]):a[m]>=f?(C=I[a[m]-f],A=T[a[m]-f]):(C=96,A=0),c=1<<p-M,l=1<<b,g=l;do{l-=c,i[_+(w>>M)+l]=D<<24|C<<16|A}while(0!==l);for(c=1<<p-1;w&c;)c>>=1;if(0!==c?(w&=c-1,w+=c):w=0,m++,0==--k[p]){if(p===y)break;p=t[n+a[m]]}if(p>v&&(w&h)!==d){for(0===M&&(M=v),_+=g,b=p-M,E=1<<b;b+M<y&&(E-=k[b+M],!(E<=0));)b++,E<<=1;if(L+=1<<b,1===e&&L>852||2===e&&L>592)return 1;d=w&h,i[d]=v<<24|b<<16|_-s}}return 0!==w&&(i[_+w]=p-M<<24|64<<16),o.bits=v,0};const{Z_FINISH:vr,Z_BLOCK:br,Z_TREES:Mr,Z_OK:Er,Z_STREAM_END:Lr,Z_NEED_DICT:wr,Z_STREAM_ERROR:Tr,Z_DATA_ERROR:kr,Z_MEM_ERROR:Sr,Z_BUF_ERROR:Dr,Z_DEFLATED:Cr}=Gt,Ar=16180,Ir=16190,Nr=16191,Yr=16192,Or=16194,xr=16199,Ur=16200,Pr=16206,Rr=16209,Hr=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Fr(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const jr=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Ar||t.mode>16211?1:0},Vr=e=>{if(jr(e))return Tr;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,(e=>{if(jr(e))return Tr;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Ar,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,Er})(e)};let qr,zr,Gr=!0;const Wr=e=>{if(Gr){qr=new Int32Array(512),zr=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(yr(1,e.lens,0,288,qr,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;yr(2,e.lens,0,32,zr,0,e.work,{bits:5}),Gr=!1}e.lencode=qr,e.lenbits=9,e.distcode=zr,e.distbits=5},Br=(e,t,n,r)=>{let i;const s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(t.subarray(n-r,n-r+i),s.wnext),(r-=i)?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0};var Kr=Vr,Qr=(e,t)=>{if(!e)return Tr;const n=new Fr;e.state=n,n.strm=e,n.window=null,n.mode=Ar;const r=((e,t)=>{let n;if(jr(e))return Tr;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?Tr:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Vr(e))})(e,t);return r!==Er&&(e.state=null),r},Jr=(e,t)=>{let n,r,i,s,a,o,u,c,l,d,h,_,f,p,m,g,y,v,b,M,E,L,w=0;const T=new Uint8Array(4);let k,S;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(jr(e)||!e.output||!e.input&&0!==e.avail_in)return Tr;n=e.state,n.mode===Nr&&(n.mode=Yr),a=e.next_out,i=e.output,u=e.avail_out,s=e.next_in,r=e.input,o=e.avail_in,c=n.hold,l=n.bits,d=o,h=u,L=Er;e:for(;;)switch(n.mode){case Ar:if(0===n.wrap){n.mode=Yr;break}for(;l<16;){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}if(2&n.wrap&&35615===c){0===n.wbits&&(n.wbits=15),n.check=0,T[0]=255&c,T[1]=c>>>8&255,n.check=qt(n.check,T,2,0),c=0,l=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Rr;break}if((15&c)!==Cr){e.msg="unknown compression method",n.mode=Rr;break}if(c>>>=4,l-=4,E=8+(15&c),0===n.wbits&&(n.wbits=E),E>15||E>n.wbits){e.msg="invalid window size",n.mode=Rr;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&c?16189:Nr,c=0,l=0;break;case 16181:for(;l<16;){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}if(n.flags=c,(255&n.flags)!==Cr){e.msg="unknown compression method",n.mode=Rr;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Rr;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&4&n.wrap&&(T[0]=255&c,T[1]=c>>>8&255,n.check=qt(n.check,T,2,0)),c=0,l=0,n.mode=16182;case 16182:for(;l<32;){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}n.head&&(n.head.time=c),512&n.flags&&4&n.wrap&&(T[0]=255&c,T[1]=c>>>8&255,T[2]=c>>>16&255,T[3]=c>>>24&255,n.check=qt(n.check,T,4,0)),c=0,l=0,n.mode=16183;case 16183:for(;l<16;){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&4&n.wrap&&(T[0]=255&c,T[1]=c>>>8&255,n.check=qt(n.check,T,2,0)),c=0,l=0,n.mode=16184;case 16184:if(1024&n.flags){for(;l<16;){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&4&n.wrap&&(T[0]=255&c,T[1]=c>>>8&255,n.check=qt(n.check,T,2,0)),c=0,l=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(_=n.length,_>o&&(_=o),_&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+_),E)),512&n.flags&&4&n.wrap&&(n.check=qt(n.check,r,_,s)),o-=_,s+=_,n.length-=_),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===o)break e;_=0;do{E=r[s+_++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E))}while(E&&_<o);if(512&n.flags&&4&n.wrap&&(n.check=qt(n.check,r,_,s)),o-=_,s+=_,E)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===o)break e;_=0;do{E=r[s+_++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E))}while(E&&_<o);if(512&n.flags&&4&n.wrap&&(n.check=qt(n.check,r,_,s)),o-=_,s+=_,E)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;l<16;){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}if(4&n.wrap&&c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Rr;break}c=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Nr;break;case 16189:for(;l<32;){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}e.adler=n.check=Hr(c),c=0,l=0,n.mode=Ir;case Ir:if(0===n.havedict)return e.next_out=a,e.avail_out=u,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=l,wr;e.adler=n.check=1,n.mode=Nr;case Nr:if(t===br||t===Mr)break e;case Yr:if(n.last){c>>>=7&l,l-=7&l,n.mode=Pr;break}for(;l<3;){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}switch(n.last=1&c,c>>>=1,l-=1,3&c){case 0:n.mode=16193;break;case 1:if(Wr(n),n.mode=xr,t===Mr){c>>>=2,l-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=Rr}c>>>=2,l-=2;break;case 16193:for(c>>>=7&l,l-=7&l;l<32;){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}if((65535&c)!=(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Rr;break}if(n.length=65535&c,c=0,l=0,n.mode=Or,t===Mr)break e;case Or:n.mode=16195;case 16195:if(_=n.length,_){if(_>o&&(_=o),_>u&&(_=u),0===_)break e;i.set(r.subarray(s,s+_),a),o-=_,s+=_,u-=_,a+=_,n.length-=_;break}n.mode=Nr;break;case 16196:for(;l<14;){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}if(n.nlen=257+(31&c),c>>>=5,l-=5,n.ndist=1+(31&c),c>>>=5,l-=5,n.ncode=4+(15&c),c>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Rr;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;l<3;){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}n.lens[D[n.have++]]=7&c,c>>>=3,l-=3}for(;n.have<19;)n.lens[D[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,k={bits:n.lenbits},L=yr(0,n.lens,0,19,n.lencode,0,n.work,k),n.lenbits=k.bits,L){e.msg="invalid code lengths set",n.mode=Rr;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;w=n.lencode[c&(1<<n.lenbits)-1],m=w>>>24,g=w>>>16&255,y=65535&w,!(m<=l);){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}if(y<16)c>>>=m,l-=m,n.lens[n.have++]=y;else{if(16===y){for(S=m+2;l<S;){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}if(c>>>=m,l-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=Rr;break}E=n.lens[n.have-1],_=3+(3&c),c>>>=2,l-=2}else if(17===y){for(S=m+3;l<S;){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}c>>>=m,l-=m,E=0,_=3+(7&c),c>>>=3,l-=3}else{for(S=m+7;l<S;){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}c>>>=m,l-=m,E=0,_=11+(127&c),c>>>=7,l-=7}if(n.have+_>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Rr;break}for(;_--;)n.lens[n.have++]=E}}if(n.mode===Rr)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Rr;break}if(n.lenbits=9,k={bits:n.lenbits},L=yr(1,n.lens,0,n.nlen,n.lencode,0,n.work,k),n.lenbits=k.bits,L){e.msg="invalid literal/lengths set",n.mode=Rr;break}if(n.distbits=6,n.distcode=n.distdyn,k={bits:n.distbits},L=yr(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,k),n.distbits=k.bits,L){e.msg="invalid distances set",n.mode=Rr;break}if(n.mode=xr,t===Mr)break e;case xr:n.mode=Ur;case Ur:if(o>=6&&u>=258){e.next_out=a,e.avail_out=u,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=l,_r(e,h),a=e.next_out,i=e.output,u=e.avail_out,s=e.next_in,r=e.input,o=e.avail_in,c=n.hold,l=n.bits,n.mode===Nr&&(n.back=-1);break}for(n.back=0;w=n.lencode[c&(1<<n.lenbits)-1],m=w>>>24,g=w>>>16&255,y=65535&w,!(m<=l);){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}if(g&&!(240&g)){for(v=m,b=g,M=y;w=n.lencode[M+((c&(1<<v+b)-1)>>v)],m=w>>>24,g=w>>>16&255,y=65535&w,!(v+m<=l);){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}c>>>=v,l-=v,n.back+=v}if(c>>>=m,l-=m,n.back+=m,n.length=y,0===g){n.mode=16205;break}if(32&g){n.back=-1,n.mode=Nr;break}if(64&g){e.msg="invalid literal/length code",n.mode=Rr;break}n.extra=15&g,n.mode=16201;case 16201:if(n.extra){for(S=n.extra;l<S;){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;w=n.distcode[c&(1<<n.distbits)-1],m=w>>>24,g=w>>>16&255,y=65535&w,!(m<=l);){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}if(!(240&g)){for(v=m,b=g,M=y;w=n.distcode[M+((c&(1<<v+b)-1)>>v)],m=w>>>24,g=w>>>16&255,y=65535&w,!(v+m<=l);){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}c>>>=v,l-=v,n.back+=v}if(c>>>=m,l-=m,n.back+=m,64&g){e.msg="invalid distance code",n.mode=Rr;break}n.offset=y,n.extra=15&g,n.mode=16203;case 16203:if(n.extra){for(S=n.extra;l<S;){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Rr;break}n.mode=16204;case 16204:if(0===u)break e;if(_=h-u,n.offset>_){if(_=n.offset-_,_>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Rr;break}_>n.wnext?(_-=n.wnext,f=n.wsize-_):f=n.wnext-_,_>n.length&&(_=n.length),p=n.window}else p=i,f=a-n.offset,_=n.length;_>u&&(_=u),u-=_,n.length-=_;do{i[a++]=p[f++]}while(--_);0===n.length&&(n.mode=Ur);break;case 16205:if(0===u)break e;i[a++]=n.length,u--,n.mode=Ur;break;case Pr:if(n.wrap){for(;l<32;){if(0===o)break e;o--,c|=r[s++]<<l,l+=8}if(h-=u,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?qt(n.check,i,h,a-h):jt(n.check,i,h,a-h)),h=u,4&n.wrap&&(n.flags?c:Hr(c))!==n.check){e.msg="incorrect data check",n.mode=Rr;break}c=0,l=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;l<32;){if(0===o)break e;o--,c+=r[s++]<<l,l+=8}if(4&n.wrap&&c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Rr;break}c=0,l=0}n.mode=16208;case 16208:L=Lr;break e;case Rr:L=kr;break e;case 16210:return Sr;default:return Tr}return e.next_out=a,e.avail_out=u,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=l,(n.wsize||h!==e.avail_out&&n.mode<Rr&&(n.mode<Pr||t!==vr))&&Br(e,e.output,e.next_out,h-e.avail_out),d-=e.avail_in,h-=e.avail_out,e.total_in+=d,e.total_out+=h,n.total+=h,4&n.wrap&&h&&(e.adler=n.check=n.flags?qt(n.check,i,h,e.next_out-h):jt(n.check,i,h,e.next_out-h)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Nr?128:0)+(n.mode===xr||n.mode===Or?256:0),(0===d&&0===h||t===vr)&&L===Er&&(L=Dr),L},Zr=e=>{if(jr(e))return Tr;let t=e.state;return t.window&&(t.window=null),e.state=null,Er},Xr=(e,t)=>{const n=t.length;let r,i,s;return jr(e)?Tr:(r=e.state,0!==r.wrap&&r.mode!==Ir?Tr:r.mode===Ir&&(i=1,i=jt(i,t,n,0),i!==r.check)?kr:(s=Br(e,t,n,n),s?(r.mode=16210,Sr):(r.havedict=1,Er)))},$r=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const ei=Object.prototype.toString,{Z_NO_FLUSH:ti,Z_FINISH:ni,Z_OK:ri,Z_STREAM_END:ii,Z_NEED_DICT:si,Z_STREAM_ERROR:ai,Z_DATA_ERROR:oi,Z_MEM_ERROR:ui}=Gt;function ci(e){this.options=Gn({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(15&t.windowBits||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xn,this.strm.avail_out=0;let n=Qr(this.strm,t.windowBits);if(n!==ri)throw new Error(zt[n]);if(this.header=new $r,((e,t)=>{if(jr(e))return Tr;const n=e.state;2&n.wrap&&(n.head=t,t.done=!1)})(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Qn(t.dictionary):"[object ArrayBuffer]"===ei.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Xr(this.strm,t.dictionary),n!==ri)))throw new Error(zt[n])}function li(e,t){const n=new ci(t);if(n.push(e),n.err)throw n.msg||zt[n.err];return n.result}ci.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(a=t===~~t?t:!0===t?ni:ti,"[object ArrayBuffer]"===ei.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=Jr(n,a),s===si&&i&&(s=Xr(n,i),s===ri?s=Jr(n,a):s===oi&&(s=si));n.avail_in>0&&s===ii&&n.state.wrap>0&&0!==e[n.next_in];)Kr(n),s=Jr(n,a);switch(s){case ai:case oi:case si:case ui:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(0===n.avail_out||s===ii))if("string"===this.options.to){let e=Zn(n.output,n.next_out),t=n.next_out-e,i=Jn(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(s!==ri||0!==o){if(s===ii)return s=Zr(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},ci.prototype.onData=function(e){this.chunks.push(e)},ci.prototype.onEnd=function(e){e===ri&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Wn(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var di={Inflate:ci,inflate:li,inflateRaw:function(e,t){return(t=t||{}).raw=!0,li(e,t)},ungzip:li,constants:Gt};const{Deflate:hi,deflate:_i,deflateRaw:fi,gzip:pi}=dr,{Inflate:mi,inflate:gi,inflateRaw:yi,ungzip:vi}=di;var bi,Mi={Deflate:hi,deflate:_i,deflateRaw:fi,gzip:pi,Inflate:mi,inflate:gi,inflateRaw:yi,ungzip:vi,constants:Gt},Ei=function(e){return o(void 0,void 0,void 0,(function(){var t;return u(this,(function(n){return t=Mi.ungzip(e),[2,String.fromCharCode.apply(null,t)]}))}))};!function(e){e.CONNECTING="CONNECTING",e.OPEN="OPEN",e.CLOSED="CLOSED"}(bi||(bi={}));var Li,wi=function(e){function t(t,n){var r=n.sdkState,i=n.dispatcher,s=n.logger,a=e.call(this)||this;return a.lastActive=0,a._iid=t,a._sdkState=r,a._dispatcher=i,a._logger=s,a}return i(t,e),Object.defineProperty(t.prototype,"isOpen",{get:function(){return this.connectionState===bi.OPEN},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"connectionState",{get:function(){if(this._ws)switch(this._ws.readyState){case 0:return bi.CONNECTING;case 1:return bi.OPEN}return bi.CLOSED},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ws",{get:function(){var e;return null!==(e=this._ws)&&void 0!==e?e:null},enumerable:!1,configurable:!0}),t.prototype._handleMessage=function(e){var t=this;e.split("\n").forEach((function(e){if(e){var n=Fe.createFromRawMessage(t._iid,e);if(t._logger.debug("receive websocket event",n),"LOGI"===n.code)t.dispatch("message",n);else if("PONG"===n.code)t.dispatch("pong");else if("EXPR"===n.code){if(n.payload){var r=new He(n.payload);r.expiresIn>=0&&t._dispatcher.dispatch(r)}}else"NOOP"===n.code||t.dispatch("message",n)}}))},t.prototype.connect=function(e,t){return void 0===t&&(t=""),o(this,void 0,void 0,(function(){var n=this;return u(this,(function(r){return this._ws=new WebSocket(e,encodeURIComponent(t)),this._ws.onopen=function(){n._logger.debug("websocket open"),n.dispatch("open")},this._ws.onmessage=function(e){return o(n,void 0,void 0,(function(){var t,n,r,i,s,a,c,l=this;return u(this,(function(d){switch(d.label){case 0:return(null===(c=this._sdkState.websocket)||void 0===c?void 0:c.compression)?e.data instanceof Blob?((t=new FileReader).readAsArrayBuffer(e.data),t.onloadend=function(){return o(l,void 0,void 0,(function(){var e,n;return u(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,Ei(t.result)];case 1:return e=r.sent(),this._handleMessage(e),[3,3];case 2:return n=r.sent(),this.error(n),[3,3];case 3:return[2]}}))}))},[3,12]):[3,1]:[3,13];case 1:if(!(e.data instanceof ArrayBuffer))return[3,6];d.label=2;case 2:return d.trys.push([2,4,,5]),[4,Ei(new Uint8Array(e.data))];case 3:return s=d.sent(),this._handleMessage(s),[3,5];case 4:return n=d.sent(),this.error(n),[3,5];case 5:return[3,12];case 6:if(!("undefined"!=typeof Buffer&&e.data instanceof Buffer))return[3,11];d.label=7;case 7:return d.trys.push([7,9,,10]),r=e.data,i=r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength),[4,Ei(i)];case 8:return s=d.sent(),this._handleMessage(s),[3,10];case 9:return a=d.sent(),this.error(a),[3,10];case 10:return[3,12];case 11:"string"==typeof e.data&&this._handleMessage(e.data),d.label=12;case 12:return[3,14];case 13:this._handleMessage(e.data),d.label=14;case 14:return[2]}}))}))},this._ws.onerror=function(){n._logger.debug("websocket error"),n.dispatch("error",M.networkError)},this._ws.onclose=function(){n._logger.debug("websocket close"),n.dispatch("close")},this.lastActive=Date.now(),[2]}))}))},t.prototype.disconnect=function(){var e=this;return new Promise((function(t){e._logger.debug("websocket disconnect"),e._ws?(e._ws.onopen=ot,e._ws.onmessage=ot,e._ws.onerror=ot,e.connectionState!==bi.CLOSED?(e._ws.onclose=function(){e.dispatch("close"),t()},e._ws.close(),e._ws=void 0):t()):t()}))},t.prototype.send=function(e){if(!this._ws)throw M.connectionClosed;"PING"!==e.code?this.dispatch("ping-refresh"):this._logger.debug("send ping",e),this._ws.send(e.convertToMessage())},t.prototype.error=function(e){this._logger.debug("websocket error",e),this.dispatch("error",e)},t}(ie),Ti=function(e){function t(t){var n=t.all,r=t.feed,i=t.custom_types,s=t.ts,a=e.call(this)||this;return a.all=n,a.feed=r,a.customTypes=i,a.ts=s,a}return i(t,e),t}(ae),ki=function(){function e(e,t){var n=t.session,r=t.sdkState,i=t.dispatcher,s=t.logger,a=t.useFetchCompat,o=void 0!==a&&a,u=this;this._ackStateMap=new Map,this._sdkState=r,this._dispatcher=i,this._logger=s,this.apiClient=new at(e,{session:n,sdkState:r,dispatcher:i,logger:s,useFetchCompat:o}),this.websocketClient=new wi(e,{sdkState:r,dispatcher:i,logger:s}),this.websocketClient.on("message",(function(e){if(e.payload.unread_cnt&&u._dispatcher.dispatch(new Ti(e.payload.unread_cnt)),e.requestId){if(u._ackStateMap.has(e.requestId)){var t=u._ackStateMap.get(e.requestId);"EROR"!==e.code?t.resolve(e):t.reject(new M({code:e.payload.code,message:e.payload.message}))}}else u._dispatcher.dispatch(e)})).on("close",(function(){u._ackStateMap.forEach((function(e){e.reject(M.connectionClosed)})),u._ackStateMap.clear()}))}return e.prototype._sendApiRequest=function(e){return o(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this.apiClient.send(e)];case 1:return[2,t.sent()]}}))}))},e.prototype._sendWebsocketRequest=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i=this;return u(this,(function(s){if(!this._sdkState.websocket)throw M.connectionRequired;if(t=new nt,e.ackRequired){r=function(r,s){i._ackStateMap.has(e.requestId)&&(i._ackStateMap.delete(e.requestId),n&&(clearTimeout(n),n=null),r?(i._logger.debug("fail websocket request",e.requestId,r),t.reject(r)):(i._logger.debug("receive websocket ack",e.requestId,e),i._logger.debug("receive websocket ack",s),t.resolve(s)))};try{n=setTimeout((function(){return r(M.noAckTimeout)}),this._sdkState.websocket.responseTimeout),this._ackStateMap.set(e.requestId,{resolve:function(e){return r(void 0,e)},reject:function(e){return r(e)}}),this.websocketClient.send(e)}catch(e){r(e)}}else try{this.websocketClient.send(e),t.resolve()}catch(e){t.reject(e)}return[2,t.promise]}))}))},e.prototype.send=function(e){return o(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return e instanceof Ue?[4,this._sendApiRequest(e)]:[3,2];case 1:case 3:return[2,t.sent()];case 2:return e instanceof je?[4,this._sendWebsocketRequest(e)]:[3,4];case 4:throw M.invalidParameters}}))}))},e.prototype.cancel=function(e){this.apiClient.cancel(e)},e.prototype.cancelAll=function(){this.apiClient.cancelAll()},e}();!function(e){e[e.NONE=0]="NONE",e[e.INITIALIZED=1]="INITIALIZED",e[e.CONNECTING=2]="CONNECTING",e[e.CONNECTED=3]="CONNECTED",e[e.RECONNECTING=4]="RECONNECTING",e[e.INTERNAL_DISCONNECTED=5]="INTERNAL_DISCONNECTED",e[e.EXTERNAL_DISCONNECTED=6]="EXTERNAL_DISCONNECTED",e[e.LOGOUT=7]="LOGOUT"}(Li||(Li={}));var Si,Di,Ci=function(e){function t(t){var n=t.stateType,r=e.call(this)||this;return r.stateType=n,r}return i(t,e),t}(ae),Ai=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(ae),Ii=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(ae),Ni=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(ae),Yi=function(){function e(e){var t,n,r,i;this.isEnabled=null!==(t=e.enabled)&&void 0!==t&&t,this.feedChannels=null!==(n=e.feed_channels)&&void 0!==n?n:{},this.templateListToken=null!==(r=e.template_list_token)&&void 0!==r?r:null,this.settingsUpdatedAt=null!==(i=e.settings_updated_at)&&void 0!==i?i:0}return e.payloadify=function(e){return oe(ue({enabled:e.isEnabled,feed_channels:e.feedChannels,template_list_token:e.templateListToken,settings_updated_at:e.settingsUpdatedAt}))},e}(),Oi=function(e){return"sendbird@".concat(e,"/changelog_include_chat_notifications")},xi=function(){function e(e){var t;this.lastUpdatedAt=null!==(t=e.last_updated_at)&&void 0!==t?t:0}return e.payloadify=function(e){return oe(ue({last_updated_at:e.lastUpdatedAt}))},e}(),Ui=function(){function e(e){var t;this.token=null!==(t=e.template_list_token)&&void 0!==t?t:""}return e.payloadify=function(e){return oe(ue({template_list_token:e.token}))},e}(),Pi=function(){function e(e){void 0===e&&(e={min_stat_count:100,min_interval:10800,max_stat_count_per_request:1e3,lower_threshold:10,request_delay_range:180}),this.minStatCount=e.min_stat_count,this.minInterval=1e3*e.min_interval,this.maxStatCountPerRequest=e.max_stat_count_per_request,this.lowerThreshold=e.lower_threshold,this.requestDelayRange=1e3*e.request_delay_range}return e.payloadify=function(e){return oe(ue({min_stat_count:e.minStatCount,min_interval:e.minInterval/1e3,max_stat_count_per_request:e.maxStatCountPerRequest,lower_threshold:e.lowerThreshold,request_delay_range:e.requestDelayRange/1e3}))},e}(),Ri=function(){function e(e){void 0===e&&(e={default:{min_stat_count:100,min_interval:10800,max_stat_count_per_request:1e3,lower_threshold:10,request_delay_range:180}}),this.default=new Pi(e.default),this.realTime=new Pi(e.realtime)}return e.payloadify=function(e){return oe(ue({default:Pi.payloadify(e.default),realtime:Pi.payloadify(e.realTime)}))},e}(),Hi=1048576,Fi=5;!function(e){e[e.NONE=0]="NONE",e[e.INCLUDE_REPLY=1]="INCLUDE_REPLY",e[e.EXCLUDE_REPLY=2]="EXCLUDE_REPLY",e[e.INCLUDE_REPLY_TO_CHANNEL=3]="INCLUDE_REPLY_TO_CHANNEL"}(Si||(Si={})),function(e){e[e.NONE=0]="NONE",e[e.INCLUDE_REPLY=1]="INCLUDE_REPLY",e[e.EXCLUDE_REPLY=2]="EXCLUDE_REPLY",e[e.INCLUDE_REPLY_TO_CHANNEL=3]="INCLUDE_REPLY_TO_CHANNEL"}(Di||(Di={}));var ji=function(){function e(e){var t,n,r,i,s,a,o,u;void 0===e&&(e={}),this.emojiHash=e.emoji_hash||"",this.uploadSizeLimit=e.file_upload_size_limit?e.file_upload_size_limit*Hi:Number.MAX_SAFE_INTEGER,this.useReaction=!!e.use_reaction,this.applicationAttributes=null!==(t=e.application_attributes)&&void 0!==t?t:[],this.premiumFeatureList=null!==(n=e.premium_feature_list)&&void 0!==n?n:[],this.deviceTokenCache=this.applicationAttributes.includes("sdk_device_token_cache"),this.enabledChannelMemberShipHistory=this.applicationAttributes.includes("channel_membership_history"),this.multipleFilesMessageFileCountLimit=null!==(r=e.multiple_file_send_max_size)&&void 0!==r?r:5,this.allowSdkStatsUpload=null===(i=e.allow_sdk_log_ingestion)||void 0===i||i,this.unreadCountThreadingPolicy=null!==(s=e.unread_cnt_threading_policy)&&void 0!==s?s:Si.NONE,this.lastMessageThreadingPolicy=null!==(a=e.last_msg_threading_policy)&&void 0!==a?a:Di.NONE,this.uikitConfigInfo=new xi(null!==(o=e.uikit_config)&&void 0!==o?o:{}),this.notificationInfo=e.notifications?new Yi(e.notifications):null,this.messageTemplateInfo=e.message_template?new Ui(e.message_template):null,this.statConfigInfo=e.log_publish_config?new Ri(e.log_publish_config):new Ri,this.disableSuperGroupMack=null!==(u=e.disable_supergroup_mack)&&void 0!==u&&u}return e.payloadify=function(e){return oe(ue({emoji_hash:e.emojiHash,file_upload_size_limit:e.uploadSizeLimit/Hi,application_attributes:e.applicationAttributes,premium_feature_list:e.premiumFeatureList,use_reaction:e.useReaction,allow_sdk_log_ingestion:e.allowSdkStatsUpload,unread_cnt_threading_policy:e.unreadCountThreadingPolicy,last_msg_threading_policy:e.lastMessageThreadingPolicy,uikit_config:e.uikitConfigInfo?xi.payloadify(e.uikitConfigInfo):null,notifications:e.notificationInfo?Yi.payloadify(e.notificationInfo):null,message_template:e.messageTemplateInfo?Ui.payloadify(e.messageTemplateInfo):null,log_publish_config:e.statConfigInfo?Ri.payloadify(e.statConfigInfo):null,disable_supergroup_mack:e.disableSuperGroupMack}))},e}(),Vi=function(){function e(e){this._iid="",this._iid=e}return e.payloadify=function(e){return{}},e}(),qi=function(e){function t(t){var n=t.userId,r=t.metadata,i=e.call(this)||this;return i.method=ce.POST,i.path="".concat(de,"/").concat(n,"/metadata"),i.params={metadata:r},i}return i(t,e),t}(Ue),zi=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.metaData=n,r}return i(t,e),t}(Pe),Gi=function(e){function t(t){var n=t.userId,r=t.metadata,i=t.upsert,s=e.call(this)||this;return s.method=ce.PUT,s.path="".concat(de,"/").concat(n,"/metadata"),s.params={metadata:r,upsert:i},s}return i(t,e),t}(Ue),Wi=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.metadata=n,r}return i(t,e),t}(Pe),Bi=function(e){function t(t){var n=t.userId,r=t.metadataKey,i=e.call(this)||this;return i.method=ce.DELETE,i.path="".concat(de,"/").concat(n,"/metadata/").concat(r),i}return i(t,e),t}(Ue);!function(e){i((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(Pe);var Ki=function(e){function t(t){var n=t.userId,r=e.call(this)||this;return r.method=ce.DELETE,r.path="".concat(de,"/").concat(n,"/metadata"),r}return i(t,e),t}(Ue);!function(e){i((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(Pe);var Qi,Ji=function(e,t){var n=JSON.parse(JSON.stringify(e));return n._iid&&delete n._iid,t&&t(n),n},Zi=function(e,t){var n=JSON.parse(JSON.stringify(e));return t&&t(n),n},Xi=function(e){return{do:function(t){e||t()},throw:function(t){if(!e)throw t}}};!function(e){e.ONLINE="online",e.OFFLINE="offline",e.NON_AVAILABLE="nonavailable"}(Qi||(Qi={}));var $i,es=function(e){function t(t,n){var r,i,s,a,o,u,c,h,_,f,p,m,g=this;return(g=e.call(this,t)||this).userId=null!==(i=null!==(r=n.guest_id)&&void 0!==r?r:n.user_id)&&void 0!==i?i:"",g.nickname=null!==(a=null!==(s=n.nickname)&&void 0!==s?s:n.name)&&void 0!==a?a:"",g.plainProfileUrl=null!==(u=null!==(o=n.profile_url)&&void 0!==o?o:n.image)&&void 0!==u?u:"",g.requireAuth=null!==(c=n.require_auth_for_profile_image)&&void 0!==c&&c,g.metaData=null!==(h=n.metadata)&&void 0!==h?h:{},g.connectionStatus=Qi.NON_AVAILABLE,k(Qi,n.is_online)?g.connectionStatus=n.is_online:T("boolean",n.is_online)&&(g.connectionStatus=n.is_online?Qi.ONLINE:Qi.OFFLINE),g.isActive=null===(_=n.is_active)||void 0===_||_,g.lastSeenAt=null!==(f=n.last_seen_at)&&void 0!==f?f:null,g.preferredLanguages=n.preferred_languages?d([],l(n.preferred_languages),!1):null,g.friendDiscoveryKey=null!==(p=n.friend_discovery_key)&&void 0!==p?p:null,g.friendName=null!==(m=n.friend_name)&&void 0!==m?m:null,g}return i(t,e),t.payloadify=function(t){return oe(ue(s(s({},e.payloadify.call(this,t)),{user_id:t.userId,nickname:t.nickname,profile_url:t.plainProfileUrl,require_auth_for_profile_image:t.requireAuth,metadata:t.metaData,is_online:t.connectionStatus,is_active:t.isActive,last_seen_at:t.lastSeenAt,preferred_languages:t.preferredLanguages,friend_discovery_key:t.friendDiscoveryKey,friend_name:t.friendName})))},Object.defineProperty(t.prototype,"profileUrl",{get:function(){var e=ea.of(this._iid).sessionManager;return this.requireAuth&&e.ekey?"".concat(this.plainProfileUrl,"?auth=").concat(e.ekey):this.plainProfileUrl},enumerable:!1,configurable:!0}),t.prototype.serialize=function(){return Ji(this)},t.prototype._isValidMetaData=function(e){return!Array.isArray(e)&&Object.keys(e).length>0&&Object.keys(e).map((function(t){return e[t]})).every((function(e){return T("string",e)}))},t.prototype._applyMetaData=function(e,t){var n=this;void 0===t&&(t=!1),Object.keys(e).forEach((function(r){t?delete n.metaData[r]:n.metaData[r]=e[r]}))},t.prototype.createMetaData=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i,s,a;return u(this,(function(o){switch(o.label){case 0:return Xi(this._isValidMetaData(e)).throw(M.invalidParameters),t=ea.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new qi({userId:n.userId,metadata:e}),[4,r.send(i)];case 1:return s=o.sent(),a=s.as(zi).metaData,this._applyMetaData(a),[2,this.metaData]}}))}))},t.prototype.updateMetaData=function(e,t){return void 0===t&&(t=!1),o(this,void 0,void 0,(function(){var n,r,i,s,a,o;return u(this,(function(u){switch(u.label){case 0:return Xi(this._isValidMetaData(e)).throw(M.invalidParameters),n=ea.of(this._iid),r=n.sdkState,i=n.requestQueue,s=new Gi({userId:r.userId,metadata:e,upsert:t}),[4,i.send(s)];case 1:return a=u.sent(),o=a.as(Wi).metadata,this._applyMetaData(o),[2,this.metaData]}}))}))},t.prototype.deleteMetaData=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i,s;return u(this,(function(a){switch(a.label){case 0:return Xi(T("string",e)).throw(M.invalidParameters),t=ea.of(this._iid),n=t.sdkState,r=t.requestQueue,i=new Bi({userId:n.userId,metadataKey:e}),[4,r.send(i)];case 1:return a.sent(),this._applyMetaData(((s={})[e]=!0,s),!0),[2,this.metaData]}}))}))},t.prototype.deleteAllMetaData=function(){return o(this,void 0,void 0,(function(){var e,t,n,r;return u(this,(function(i){switch(i.label){case 0:return e=ea.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new Ki({userId:t.userId}),[4,n.send(r)];case 1:return i.sent(),this.metaData={},[2]}}))}))},t}(Vi),ts=function(e){function t(t){var n=t.userProfile,r=e.call(this)||this;return r.userProfile=n,r}return i(t,e),t}(ae),ns=function(){function e(e,t){var n,r,i,s,a,o,u,c,l,d,h,_,f,p;this._iid=e,this.appInfo=new ji(t),this.user=new es(e,t),this.connectedAt=null!==(n=t.login_ts)&&void 0!==n?n:0,this.firstConnectedAt=0,this.pingInterval=null!==(r=t.ping_interval)&&void 0!==r?r:15e3,this.pongTimeout=null!==(i=t.pong_timeout)&&void 0!==i?i:5e3,this.reconnectInterval=null!==(a=null===(s=t.reconnect)||void 0===s?void 0:s.interval)&&void 0!==a?a:3e3,this.reconnectMaxInterval=null!==(u=null===(o=t.reconnect)||void 0===o?void 0:o.max_interval)&&void 0!==u?u:6e4,this.reconnectRetryCount=null!==(l=null===(c=t.reconnect)||void 0===c?void 0:c.retry_cnt)&&void 0!==l?l:5,this.reconnectIntervalMultiple=null!==(h=null===(d=t.reconnect)||void 0===d?void 0:d.mul)&&void 0!==h?h:2,this.maxUnreadCountOnSuperGroup=null!==(_=t.max_unread_cnt_on_super_group)&&void 0!==_?_:100,this.profileImageEncryption=!!t.profile_image_encryption,this.concurrentCallLimit=null!==(f=t.concurrent_call_limit)&&void 0!==f?f:5,this.backOffDelay=null!==(p=t.back_off_delay)&&void 0!==p?p:100}return e.payloadify=function(e){return oe(ue(s(s(s({},es.payloadify(e.user)),ji.payloadify(e.appInfo)),{login_ts:e.connectedAt,ping_interval:e.pingInterval,pong_timeout:e.pongTimeout,reconnect:{interval:e.reconnectInterval,max_interval:e.reconnectMaxInterval,retry_cnt:e.reconnectRetryCount,mul:e.reconnectIntervalMultiple},max_unread_cnt_on_super_group:e.maxUnreadCountOnSuperGroup,profile_image_encryption:e.profileImageEncryption,concurrent_call_limit:e.concurrentCallLimit,back_off_delay:e.backOffDelay})))},e.prototype.apply=function(){var e=this.reconnectInterval,t=this.reconnectMaxInterval,n=this.reconnectIntervalMultiple,r=ea.of(this._iid);r.sdkState.websocket&&(r.sdkState.websocket.pingInterval=1e3*this.pingInterval,r.sdkState.websocket.pongTimeout=1e3*this.pongTimeout,r.sdkState.websocket.reconnectMaxRetry=this.reconnectRetryCount,r.sdkState.websocket.reconnectRetryStrategy={calcTimeout:function(r){return r>0?1e3*Math.min(e*Math.pow(n,r-1),t):10}}),r.appInfo=this.appInfo,r.sessionManager.currentUser=this.user,r.connectedAt=this.connectedAt,this.firstConnectedAt||(r.firstConnectedAt=this.connectedAt),r.maxSuperGroupChannelUnreadCount=this.maxUnreadCountOnSuperGroup,r.concurrentCallLimit=this.concurrentCallLimit,r.backOffDelay=this.backOffDelay,r.dispatcher.dispatch(new ts({userProfile:this}))},e}(),rs=function(e){function t(t){var n=t.request,r=void 0===n||n,i=t.features,a=void 0===i?{}:i,o=t.options,u=void 0===o?{}:o,c=t.statConfigInfo,l=e.call(this)||this;return l.request=r,l.features=s({localCache:!0,notification:!0},a),l.options=s({ingestion:!0},u),l.statConfigInfo=c,l}return i(t,e),t}(ae),is=function(e){function t(t,n,r){var i,s,a,o,u=this;return(u=e.call(this,t,n,r)||this).error=null,u.services=[],u.userProfile=new ns(t,r),u.deviceTokenLastDeletedAt=null!==(i=r.device_token_last_deleted_at)&&void 0!==i?i:0,u.key=null!==(s=r.key)&&void 0!==s?s:"",u.ekey=null!==(a=r.ekey)&&void 0!==a?a:"",u.error=r.error?new M(r):null,u.services=null!==(o=r.services)&&void 0!==o?o:[],u}return i(t,e),t.asError=function(e){return new t("","LOGI",s({user_id:"",error:!0},e))},t.prototype.applyTo=function(e){return o(this,void 0,void 0,(function(){var t,n,r;return u(this,(function(i){switch(i.label){case 0:return this.error?[3,4]:(t=ea.of(e))?(n=t.sessionManager,r=t.dispatcher,[4,n.login(this)]):[3,2];case 1:return i.sent(),this.userProfile.apply(),r.dispatch(new rs({request:this.userProfile.appInfo.applicationAttributes.includes("allow_sdk_request_log_publish"),features:{localCache:this.userProfile.appInfo.applicationAttributes.includes("allow_sdk_feature_local_cache_log_publish"),notification:this.userProfile.appInfo.applicationAttributes.includes("allow_sdk_noti_stats_log_publish")},options:{ingestion:this.userProfile.appInfo.allowSdkStatsUpload},statConfigInfo:this.userProfile.appInfo.statConfigInfo})),[3,3];case 2:throw M.lostInstance;case 3:return[3,5];case 4:throw this.error;case 5:return[2]}}))}))},t}(Fe),ss=function(){function e(){this.type=Li.NONE,this.name="none"}return e.prototype.run=function(e){return o(this,void 0,void 0,(function(){return u(this,(function(e){return[2]}))}))},e.prototype.onConnect=function(e,t){return o(this,void 0,void 0,(function(){return u(this,(function(e){return[2]}))}))},e.prototype.onReconnect=function(e,t){return t.resetReconnectCount,o(this,void 0,void 0,(function(){return u(this,(function(e){return[2]}))}))},e.prototype.onDisconnect=function(e,t){return t.error,t.autoReconnect,t.cause,o(this,void 0,void 0,(function(){return u(this,(function(e){return[2]}))}))},e.prototype.onDisconnectWebSocket=function(e,t){return o(this,void 0,void 0,(function(){return u(this,(function(e){return[2]}))}))},e.prototype.onLogout=function(e,t){return o(this,void 0,void 0,(function(){return u(this,(function(e){return[2]}))}))},e}(),as=function(e){return o(void 0,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e()];case 1:return n.sent(),[3,3];case 2:if(!((t=n.sent())instanceof M))throw t;return t.throwOutside(),[3,3];case 3:return[2]}}))}))},os=function(e){return o(void 0,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,e()];case 1:case 2:return t.sent(),[3,3];case 3:return[2]}}))}))},us=function(e){function t(t){void 0===t&&(t={});var n,r=this;return(r=e.call(this)||this).type=Li.LOGOUT,r.name="logout",r._wasPreviouslyConnected=null===(n=t.wasPreviouslyConnected)||void 0===n||n,r}return i(t,e),t.prototype.run=function(e){return o(this,void 0,void 0,(function(){var t,n,r=this;return u(this,(function(i){switch(i.label){case 0:return t=Date.now(),n=e.sdkState.userId,[4,e.logout()];case 1:return i.sent(),[4,e.changeState(new bs,t)];case 2:return i.sent(),this._wasPreviouslyConnected&&as((function(){return o(r,void 0,void 0,(function(){return u(this,(function(t){return e.connectionHandlers.forEach((function(e){e.onDisconnected&&e.onDisconnected(n)})),[2]}))}))})),[2]}}))}))},t}(ss),cs=function(e){function t(){var t=e.call(this)||this;return t.type=Li.EXTERNAL_DISCONNECTED,t.name="externaldisconnected",t}return i(t,e),t.prototype.run=function(e){return o(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,e.disconnect()];case 1:return t.sent(),[2]}}))}))},t.prototype.onConnect=function(e,t){return o(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return n=Date.now(),[4,e.disconnect()];case 1:return r.sent(),[4,e.changeState(new gs({authToken:t}),n)];case 2:return r.sent(),[2]}}))}))},t.prototype.onReconnect=function(e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return t=Date.now(),[4,e.changeState(new fs,t)];case 1:return n.sent(),[2]}}))}))},t.prototype.onLogout=function(e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return t=Date.now(),[4,e.changeState(new us,t)];case 1:return n.sent(),[2]}}))}))},t}(ss),ls=function(e){function t(t){var n=t.autoReconnect,r=e.call(this)||this;return r.type=Li.INTERNAL_DISCONNECTED,r.name="internaldisconnected",r._autoReconnect=!1,r._autoReconnect=n,r}return i(t,e),t.prototype.run=function(e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return t=Date.now(),[4,e.disconnect()];case 1:return n.sent(),this._autoReconnect?[4,e.changeState(new fs,t)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.onConnect=function(e,t){return o(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return n=Date.now(),[4,e.disconnect()];case 1:return r.sent(),[4,e.changeState(new gs({authToken:t}),n)];case 2:return r.sent(),[2]}}))}))},t.prototype.onReconnect=function(e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return t=Date.now(),[4,e.changeState(new fs,t)];case 1:return n.sent(),[2]}}))}))},t.prototype.onDisconnectWebSocket=function(e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return t=Date.now(),[4,e.changeState(new cs,t)];case 1:return n.sent(),[2]}}))}))},t.prototype.onLogout=function(e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return t=Date.now(),[4,e.changeState(new us,t)];case 1:return n.sent(),[2]}}))}))},t}(ss),ds=function(e){return o(void 0,void 0,void 0,(function(){return u(this,(function(t){return[2,new Promise((function(t){return setTimeout(t,e)}))]}))}))},hs=function(){function e(){}return e.prototype.calcTimeout=function(){return 0},e}(),_s=function(e,t,n){return void 0===n&&(n=new hs),o(void 0,void 0,void 0,(function(){var r,i,s,a,o,c;return u(this,(function(u){switch(u.label){case 0:r=0,i=null,s=function(e){return i=null!=e?e:new Error("Halted")},a=function(){r=0},u.label=1;case 1:if(!(-1===t||r<t))return[3,9];u.label=2;case 2:return u.trys.push([2,4,,8]),[4,e(s,a)];case 3:if(o=u.sent(),i)throw i;return[2,o];case 4:if(c=u.sent(),i)return[3,6];if(++r===t)throw c;return[4,ds(n.calcTimeout(r))];case 5:return u.sent(),[3,7];case 6:throw i;case 7:return[3,8];case 8:return[3,1];case 9:throw"It should not happen."}}))}))},fs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=Li.RECONNECTING,t.name="reconnecting",t._callbacks=[],t}return i(t,e),t.prototype._halt=function(e){this._haltConnect&&(this._haltConnect(e),this._haltConnect=void 0)},t.prototype._flushCallbacks=function(e){this._haltConnect=void 0,this._resetConnect=void 0,this._callbacks.forEach((function(t){return t(e)}))},t.prototype.run=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i,s,a,c=this;return u(this,(function(l){switch(l.label){case 0:t=Date.now(),n=new nt,this._callbacks.push((function(e){return e?n.reject(e):n.resolve()})),as((function(){return o(c,void 0,void 0,(function(){return u(this,(function(t){return e.connectionHandlers.forEach((function(e){e.onReconnectStarted&&e.onReconnectStarted()})),[2]}))}))})),l.label=1;case 1:return l.trys.push([1,4,,9]),r=e.sdkState.websocket,i=r.reconnectMaxRetry,s=r.reconnectRetryStrategy,[4,_s((function(t,n){return o(c,void 0,void 0,(function(){var r;return u(this,(function(i){switch(i.label){case 0:this._haltConnect=t,this._resetConnect=n,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e.connect()];case 2:return i.sent(),[3,4];case 3:if(r=i.sent(),e.clearLoginTimer(),r instanceof M){if(r.code===h.CONNECTION_CANCELED)return t(r),[2];if(r.isSessionExpiredError||r.isSessionInvalidatedError)return t(r),[2]}throw r;case 4:return[2]}}))}))}),i,s)];case 2:return l.sent(),[4,e.changeState(new ps,t)];case 3:return l.sent(),this._flushCallbacks(),as((function(){return o(c,void 0,void 0,(function(){return u(this,(function(t){return e.connectionHandlers.forEach((function(e){e.onReconnectSucceeded&&e.onReconnectSucceeded()})),[2]}))}))})),[3,9];case 4:return a=l.sent(),b(a)?[3,7]:a instanceof M?a.code===h.CONNECTION_CANCELED?[3,6]:[4,e.changeState(new ls({autoReconnect:!1}),t)]:[3,6];case 5:l.sent(),l.label=6;case 6:return this._flushCallbacks(a),as((function(){return o(c,void 0,void 0,(function(){return u(this,(function(t){return e.connectionHandlers.forEach((function(e){e.onReconnectFailed&&e.onReconnectFailed()})),[2]}))}))})),[3,8];case 7:throw a;case 8:return[3,9];case 9:return[2,n.promise]}}))}))},t.prototype.onConnect=function(e,t){return o(this,void 0,void 0,(function(){var n;return u(this,(function(r){return n=new nt,this._halt(M.connectionCanceled),e.cancelConnectForRetry(),this._callbacks.push((function(){var r=Date.now();e.changeState(new gs({authToken:t}),r).then((function(){n.resolve()})).catch((function(e){n.reject(e)}))})),[2,n.promise]}))}))},t.prototype.onReconnect=function(e,t){var n=t.resetReconnectCount,r=void 0!==n&&n;return o(this,void 0,void 0,(function(){var e;return u(this,(function(t){return e=new nt,this._resetConnect&&r&&this._resetConnect(),this._callbacks.push((function(t){return t?e.reject(t):e.resolve()})),[2,e.promise]}))}))},t.prototype.onDisconnect=function(e,t){t._error;var n=t.autoReconnect,r=void 0===n||n;return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return t=Date.now(),this._halt(M.connectionCanceled),[4,e.changeState(new ls({autoReconnect:r}),t)];case 1:return n.sent(),[2]}}))}))},t.prototype.onDisconnectWebSocket=function(e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return t=Date.now(),this._halt(M.connectionCanceled),[4,e.changeState(new cs,t)];case 1:return n.sent(),[2]}}))}))},t.prototype.onLogout=function(e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return t=Date.now(),this._halt(M.connectionCanceled),[4,e.changeState(new us,t)];case 1:return n.sent(),[2]}}))}))},t}(ss),ps=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=Li.CONNECTED,t.name="connected",t}return i(t,e),t.prototype.onReconnect=function(e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return t=Date.now(),[4,e.disconnect()];case 1:return n.sent(),[4,e.changeState(new fs,t)];case 2:return n.sent(),[2]}}))}))},t.prototype.onDisconnect=function(e,t){var n=t.autoReconnect;return o(this,void 0,void 0,(function(){var t;return u(this,(function(r){switch(r.label){case 0:return t=Date.now(),[4,e.changeState(new ls({autoReconnect:n}),t)];case 1:return r.sent(),[2]}}))}))},t.prototype.onDisconnectWebSocket=function(e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return t=Date.now(),[4,e.changeState(new cs,t)];case 1:return n.sent(),[2]}}))}))},t.prototype.onLogout=function(e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return t=Date.now(),[4,e.changeState(new us,t)];case 1:return n.sent(),[2]}}))}))},t}(ss);!function(e){e.ExternalSetBackground="ExternalSetBackground",e.ExternalDisconnectWebSocket="ExternalDisconnectWebSocket"}($i||($i={}));var ms=function(){function e(e,t){var n=t.sdkState,r=t.cacheContext,i=t.connectionHandlers,s=t.sessionManager,a=t.websocketClient,o=t.dispatcher,u=t.logger,c=t.disableWebSocketCloseEventHandling,l=void 0!==c&&c;this._disableWebSocketCloseEventHandling=!1,this._webSocketClosedCause=null,this._logger=u,this._disableWebSocketCloseEventHandling=l,this._context=new ws(e,{sdkState:n,cacheContext:r,connectionHandlers:i,sessionManager:s,websocketClient:a,dispatcher:o,logger:u}),this._sdkState=n,this._sessionManager=s,this._websocketClient=a}return e.prototype._registerEventDispatcher=function(){var e=this;this._disableWebSocketCloseEventHandling||(this._clearEventDispatcher(),this._sessionEventDispatcherContext=this._sessionManager.on("refresh",(function(){e.isConnecting||e.isConnected||(e._logger.debug("try reconnect by session key refresh"),os((function(){return o(e,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this.reconnect()];case 1:return e.sent(),[2]}}))}))})))})),this._websocketEventDispatcherContext=this._websocketClient.on("close",(function(){"foreground"!==e._sdkState.appState||e._webSocketClosedCause||os((function(){return o(e,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this._sessionManager.isSessionKeyRefreshing?[3,2]:(this._logger.debug("try reconnect by websocket connection closed"),[4,this.reconnect()]);case 1:return e.sent(),[3,4];case 2:return[4,this.disconnectWebSocket()];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))}))})))},e.prototype._clearEventDispatcher=function(){this._sessionEventDispatcherContext&&(this._sessionEventDispatcherContext.close(),this._sessionEventDispatcherContext=void 0),this._websocketEventDispatcherContext&&(this._websocketEventDispatcherContext.close(),this._websocketEventDispatcherContext=void 0)},Object.defineProperty(e.prototype,"isConnected",{get:function(){return this._context.currentState.type===Li.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isConnecting",{get:function(){var e=this._context.currentState;return e.type===Li.CONNECTING||e.type===Li.RECONNECTING},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"websocketClient",{get:function(){return this._websocketClient},enumerable:!1,configurable:!0}),e.prototype.connect=function(e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return t=this._context.currentState,this._webSocketClosedCause=null,[4,t.onConnect(this._context,e)];case 1:return n.sent(),this._registerEventDispatcher(),[2]}}))}))},e.prototype.reconnect=function(){return o(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return e=this._context.currentState,this._webSocketClosedCause=null,[4,e.onReconnect(this._context,{})];case 1:return t.sent(),[2]}}))}))},e.prototype.resetAndReconnect=function(){return o(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return e=this._context.currentState,this._webSocketClosedCause=null,[4,e.onReconnect(this._context,{resetReconnectCount:!0})];case 1:return t.sent(),[2]}}))}))},e.prototype.background=function(){return o(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return e=this._context.currentState,this._webSocketClosedCause=$i.ExternalSetBackground,[4,e.onDisconnect(this._context,{autoReconnect:!1,cause:this._webSocketClosedCause})];case 1:return t.sent(),[2]}}))}))},e.prototype.disconnect=function(e){return o(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return[4,this._context.currentState.onDisconnect(this._context,{error:e,autoReconnect:!0,cause:this._webSocketClosedCause})];case 1:return t.sent(),[2]}}))}))},e.prototype.disconnectWebSocket=function(e){return void 0===e&&(e=!1),o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return t=this._context.currentState,e&&(this._webSocketClosedCause=$i.ExternalDisconnectWebSocket),[4,t.onDisconnectWebSocket(this._context,{cause:this._webSocketClosedCause})];case 1:return n.sent(),[2]}}))}))},e.prototype.logout=function(e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return t=this._context.currentState,this._clearEventDispatcher(),[4,t.onLogout(this._context,e)];case 1:return n.sent(),[2]}}))}))},e}(),gs=function(e){function t(t){var n=t.authToken,r=e.call(this)||this;return r.type=Li.CONNECTING,r.name="connecting",r._authToken="",r._callbacks=[],r._authToken=n,r}return i(t,e),t.prototype._halt=function(e){this._haltConnect&&(this._haltConnect(e),this._haltConnect=void 0)},t.prototype._flushCallbacks=function(e){this._haltConnect=void 0,this._callbacks.forEach((function(t){return t(e)}))},t.prototype.run=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i=this;return u(this,(function(s){switch(s.label){case 0:t=Date.now(),n=new nt,this._callbacks.push((function(e){return e?n.reject(e):n.resolve()})),s.label=1;case 1:return s.trys.push([1,4,,10]),[4,_s((function(t){return o(i,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:this._haltConnect=t,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,e.connect(this._authToken)];case 2:return r.sent(),[3,4];case 3:if(n=r.sent(),e.clearLoginTimer(),n instanceof M&&n.code===h.CONNECTION_CANCELED)return t(n),[2];throw n;case 4:return[2]}}))}))}),e.sdkState.websocket.connectMaxRetry)];case 2:return s.sent(),[4,e.changeState(new ps,t)];case 3:return s.sent(),as((function(){return o(i,void 0,void 0,(function(){return u(this,(function(t){return this._flushCallbacks(),e.connectionHandlers.forEach((function(t){t.onConnected&&t.onConnected(e.sdkState.userId)})),[2]}))}))})),[3,10];case 4:return r=s.sent(),b(r)?[3,8]:[4,e.disconnect()];case 5:return s.sent(),r instanceof M?r.code===h.CONNECTION_CANCELED?[3,7]:[4,e.changeState(new bs,t)]:[3,7];case 6:s.sent(),s.label=7;case 7:return as((function(){return o(i,void 0,void 0,(function(){return u(this,(function(e){return this._flushCallbacks(r),[2]}))}))})),[3,9];case 8:throw r;case 9:return[3,10];case 10:return[2,n.promise]}}))}))},t.prototype.onConnect=function(e){return o(this,void 0,void 0,(function(){var e;return u(this,(function(t){return e=new nt,this._callbacks.push((function(t){return t?e.reject(t):e.resolve()})),[2,e.promise]}))}))},t.prototype.onDisconnect=function(e,t){var n=t.error,r=void 0===n?null:n,i=t.autoReconnect,s=void 0!==i&&i,a=t.cause,c=void 0===a?null:a;return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return t=Date.now(),this._halt(null!=r?r:ys(c)),e.hasSession?[4,e.changeState(new ls({autoReconnect:s}),t)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,e.changeState(new us,t)];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))},t.prototype.onDisconnectWebSocket=function(e,t){return o(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return this._halt(ys((null==t?void 0:t.cause)||null)),n=Date.now(),e.hasSession?[4,e.changeState(new cs,n)]:[3,2];case 1:return r.sent(),[3,4];case 2:return[4,e.changeState(new us,n)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},t.prototype.onLogout=function(e,t){return o(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return n=Date.now(),this._halt(null!=t?t:M.connectionCanceled),[4,e.changeState(new us,n)];case 1:return r.sent(),[2]}}))}))},t}(ss);function ys(e){var t=M.connectionCanceled;if(e){var n=null;switch(e){case $i.ExternalSetBackground:n="Connection has been canceled due to the application having externally moved to background while in ConnectingState.";break;case $i.ExternalDisconnectWebSocket:n="Connection has been canceled because sb.disconnectWebSocket() was called while in ConnectingState."}n&&t.setDetail(n)}return t}var vs,bs=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=Li.INITIALIZED,t.name="initialized",t}return i(t,e),t.prototype.onConnect=function(e,t){return o(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return n=Date.now(),[4,e.changeState(new gs({authToken:t}),n)];case 1:return r.sent(),[2]}}))}))},t.prototype.onLogout=function(e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return t=Date.now(),[4,e.changeState(new us({wasPreviouslyConnected:!1}),t)];case 1:return n.sent(),[2]}}))}))},t}(ss),Ms=function(e){function t(){return e.call(this,{code:"PING",payload:{id:Date.now(),active:1},ackRequired:!1})||this}return i(t,e),t}(je),Es=function(){function e(e){var t=e.pingDelegate,n=e.sdkState,r=e.logger;this.pingDelegate=t,this.sdkState=n,this._logger=r}return Object.defineProperty(e.prototype,"isWaiting",{get:function(){return!!this._pingTimeoutTimer},enumerable:!1,configurable:!0}),e.prototype.ping=function(){var e,t=this;if(!this.sdkState.websocket)throw M.connectionRequired;var n=new Ms;try{var r=null!==(e=this.sdkState.websocket.pongTimeout)&&void 0!==e?e:5e3;this._pingTimeoutTimer=setTimeout((function(){t._logger.debug("pinger.ping() timeout"),t.pingDelegate.error()}),r),this.pingDelegate.send(n),this._logger.debug("pinger.ping()")}catch(e){this._logger.debug("pinger.ping() error",e),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=void 0),this.pingDelegate.error()}return n},e.prototype.pong=function(){this._logger.debug("pinger.pong()"),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=void 0)},e.prototype.refreshTimer=function(){var e,t=this;if(!this.sdkState.websocket)throw M.connectionRequired;this._logger.debug("pinger.refreshTimer()");var n=null!==(e=this.sdkState.websocket.pingInterval)&&void 0!==e?e:15e3;this.stop(),this._pingTimer=setInterval((function(){t.ping()}),n)},e.prototype.start=function(){this._logger.debug("pinger.start()"),this.refreshTimer(),this.ping()},e.prototype.stop=function(){this._logger.debug("pinger.stop()"),this._pingTimer&&(clearInterval(this._pingTimer),this._pingTimer=void 0),this._pingTimeoutTimer&&(clearTimeout(this._pingTimeoutTimer),this._pingTimeoutTimer=void 0)},e}(),Ls=["premium_feature_list","file_upload_size_limit","application_attributes","emoji_hash","multiple_file_send_max_size","notifications","message_template"],ws=function(e){function t(t,n){var r,i=n.sdkState,s=n.cacheContext,a=n.connectionHandlers,o=n.sessionManager,u=n.websocketClient,c=n.dispatcher,l=n.logger,d=n.entryState,h=void 0===d?new bs:d,_=this;return(_=e.call(this)||this)._stateUpdatedAt=0,_._connectingAt=0,_._connectedAt=0,_._logiReceivedAt=0,_._connectionRequestQueue=[],_._iid=t,_.sdkState=i,_.cacheContext=s,_.connectionHandlers=a,_._sessionManager=o,_._websocketClient=u,_._dispatcher=c,_._logger=l,_._currentState=h,(null===(r=_.sdkState.websocket)||void 0===r?void 0:r.pingerDisabled)||(_._pinger=new Es({pingDelegate:{send:function(e){return _._websocketClient.send(e)},error:function(e){return _._websocketClient.error(e)}},sdkState:_.sdkState,logger:l})),_._websocketClient.on("open",(function(){_._connectedAt=Date.now(),_._tryResolveConnectionRequest()})).on("message",(function(e){"LOGI"===e.code&&(_.clearLoginTimer(),_._dispatcher.dispatch(e.as(is)))})).on("ping-refresh",(function(){var e;return null===(e=_._pinger)||void 0===e?void 0:e.refreshTimer()})).on("pong",(function(){var e;return null===(e=_._pinger)||void 0===e?void 0:e.pong()})).on("error",(function(){var e;return null===(e=_._pinger)||void 0===e?void 0:e.stop()})).on("close",(function(){_._logiProcessingTimer=setTimeout((function(){_._logiProcessingTimer=void 0,_._unresolvedLogi||_._rejectConnectionRequest(M.networkError)}),500)})),_._dispatcher.on((function(e){e instanceof is&&(_._unresolvedLogi=e,_._tryResolveConnectionRequest())})),_}return i(t,e),Object.defineProperty(t.prototype,"currentState",{get:function(){return this._currentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSession",{get:function(){return this._sessionManager.session.hasSession},enumerable:!1,configurable:!0}),t.prototype.changeState=function(e,t){return o(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return t>=this._stateUpdatedAt?(this._currentState=e,this._stateUpdatedAt=t,this._dispatcher.dispatch(new Ci({stateType:e.type})),this._logger.debug("connection state changes to ".concat(e.name)),[4,this._currentState.run(this)]):[3,2];case 1:return n.sent(),[2,!0];case 2:return[2,!1]}}))}))},t.prototype._tryResolveConnectionRequest=function(){var e;return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return t=this._unresolvedLogi,this._websocketClient.isOpen&&t?(this._unresolvedLogi=void 0,this._logiReceivedAt=Date.now(),t.error?[3,2]:[4,t.applyTo(this._iid)]):[3,3];case 1:return n.sent(),this._statLogConnection(),null===(e=this._pinger)||void 0===e||e.start(),this._connectionRequestQueue.forEach((function(e){return e.resolve()})),this._connectionRequestQueue=[],this.sdkState.appState="foreground",[3,3];case 2:this._sessionManager.session.authToken=void 0,t.error.isSessionExpiredError||t.error.isSessionInvalidatedError?this._dispatcher.dispatch(new He({reason:t.error.code,message:t.error.message})):this._logger.warn("login failed: ".concat(t.error)),this._rejectConnectionRequest(t.error),n.label=3;case 3:return[2]}}))}))},t.prototype._rejectConnectionRequest=function(e){var t;if(null===(t=this._pinger)||void 0===t||t.stop(),this.clearLoginTimer(),this._connectionRequestQueue.length>0){var n=this._connectionRequestQueue;this._connectionRequestQueue=[],n.forEach((function(t){return t.reject(e)})),this._statLogConnection(e)}},t.prototype._url=function(){var e,t=this.sdkState,n=t.appId,r=t.appVersion,i=t.userId,s=t.extensions,a=t.sendbirdRuntimeEnvironment,o=this.cacheContext.localCacheEnabled,u=this._sessionManager.session,c=null===(e=this.sdkState.websocket)||void 0===e?void 0:e.compression,l=!!(null!=s?s:{}).sb_uikit,d=tt.userAgentWithExtension(s);return"".concat(this.sdkState.websocket.host,"/?p=JS&pv=").concat(encodeURIComponent(f.OS_VERSION),"&sv=").concat(encodeURIComponent(f.SDK_VERSION),"&ai=").concat(n).concat(r?"&av=".concat(r):"").concat(u.hasSession?"":"&user_id=".concat(encodeURIComponent(i)),"&pmce=").concat(c?1:0,"&active=1&device_token_types=").concat(encodeURIComponent(["gcm","huawei","apns"].join(",")),"&SB-User-Agent=").concat(d,"&SB-SDK-User-Agent=").concat(encodeURIComponent(tt.sendbirdSdkUserAgentWithExtension(a)),"&Request-Sent-Timestamp=").concat(Date.now().toString(),"&include_extra_data=").concat(encodeURIComponent(String(Ls))).concat(this._sessionManager.handler?"&expiring_session=1":"","&use_local_cache=").concat(o?1:0,"&include_poll_details=1").concat(l?"&uikit_config=1":"")},t.prototype._statLogConnection=function(e){var t;this._dispatcher.dispatch(new We(new Ze({type:xe.WEBSOCKET_CONNECT,data:{host_url:null===(t=this.sdkState.websocket)||void 0===t?void 0:t.host,success:!e,latency:this._connectedAt>0?this._connectedAt-this._connectingAt:Date.now()-this._connectingAt,logi_latency:this._logiReceivedAt>0?this._logiReceivedAt-this._connectingAt:void 0,error_code:null==e?void 0:e.code,error_description:null==e?void 0:e.message}})))},t.prototype.connect=function(e){var t;return void 0===e&&(e=""),o(this,void 0,void 0,(function(){var n,r,i,s=this;return u(this,(function(a){return this._logiProcessingTimer&&(clearTimeout(this._logiProcessingTimer),this._logiProcessingTimer=void 0,this._rejectConnectionRequest(M.connectionCanceled)),n=new nt,this._connectionRequestQueue.push(n),1===this._connectionRequestQueue.length&&(this._connectingAt=Date.now(),this._connectedAt=0,this._logiReceivedAt=0,this._loginTimer=setTimeout((function(){s._loginTimer=void 0,s._rejectConnectionRequest(M.loginTimeout)}),null===(t=this.sdkState.websocket)||void 0===t?void 0:t.responseTimeout),r=this._sessionManager.session,e&&(r.authToken=e,r.sessionKey=void 0),i=this._url(),r.sessionKey||r.authToken?this._websocketClient.connect(i,JSON.stringify(r.hasSession?{auth:r.sessionKey}:{token:r.authToken})):this._websocketClient.connect(i,JSON.stringify({}))),[2,n.promise]}))}))},t.prototype.cancelConnectForRetry=function(){this._dispatcher.dispatch(is.asError(M.connectionRenew))},t.prototype.disconnect=function(){return o(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return[4,this._websocketClient.disconnect()];case 1:return e.sent(),[2]}}))}))},t.prototype.logout=function(){return o(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this.sdkState.userId=void 0,this._unresolvedLogi=void 0,[4,this.disconnect()];case 1:return e.sent(),[4,this._sessionManager.clear()];case 2:return e.sent(),[2]}}))}))},t.prototype.clearLoginTimer=function(){this._loginTimer&&(clearTimeout(this._loginTimer),this._loginTimer=void 0)},t}(ie),Ts=function(e){function t(t){var n=t.appId,r=t.userId,i=t.includeUIKitConfig,s=void 0!==i&&i,a=t.localCacheEnabled,o=void 0===a||a,u=t.expiringSession,c=void 0===u||u,l=e.call(this)||this;return l.path="".concat(he,"/").concat(r,"/authentication"),l.method=ce.POST,l.params=oe({expiring_session:!!c,include_logi:!0,include_extra_data:String(Ls),uikit_config:s,use_local_cache:o,app_id:n}),l.requireAuth=!1,l}return i(t,e),t}(Ue),ks=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.logi=new is(t,"LOGI",n),r}return i(t,e),t}(Pe);!function(e){e[e.ALL=0]="ALL",e[e.WEBSOCKET=1]="WEBSOCKET",e[e.API=2]="API"}(vs||(vs={}));var Ss,Ds,Cs=[Ve,Ts],As=function(){function e(e,t){var n=t.session,r=t.sdkState,i=t.dispatcher,s=t.logger,a=t.useFetchCompat,o=void 0!==a&&a,u=this;this._currentConnectionStateType=Li.INITIALIZED,this._lazyCallQueue=[],this.commandRouter=new ki(e,{session:n,sdkState:r,dispatcher:i,logger:s,useFetchCompat:o}),this._session=n,this._logger=s,this._dispatcher=i,this._dispatcher.on((function(e){var t,n,r;if(e instanceof Ci){var i=e.stateType;switch(u._currentConnectionStateType=i,i){case Li.CONNECTED:u._resolveLazyCallQueue();break;case Li.INITIALIZED:case Li.INTERNAL_DISCONNECTED:case Li.EXTERNAL_DISCONNECTED:case Li.LOGOUT:u._rejectLazyCallQueue((null===(r=u._session)||void 0===r?void 0:r.hasSession)?M.connectionClosed:M.connectionRequired)}}else if(e instanceof Ai)u._session.hasChatServicePermission||u._resolveLazyCallQueue(vs.API);else if(e instanceof Ii||e instanceof Ni)u._rejectLazyCallQueue(M.connectionClosed);else if(e instanceof Be){var s=e.request,a=e.deferred,o=e.error;try{for(var l=c(Cs),d=l.next();!d.done;d=l.next())if(s instanceof d.value)return void a.reject(o)}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(t)throw t.error}}u._lazyCallQueue.push({command:s,deferred:a})}}))}return Object.defineProperty(e.prototype,"isReady",{get:function(){return this._currentConnectionStateType===Li.CONNECTED},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLazyCallActivated",{get:function(){return this._currentConnectionStateType===Li.CONNECTING||this._currentConnectionStateType===Li.RECONNECTING||this._session.isRefreshing},enumerable:!1,configurable:!0}),e.prototype._classifyLazyCallQueueByScope=function(e){var t,n=[],r=[];switch(e){case vs.ALL:t=null;break;case vs.WEBSOCKET:t=je;break;case vs.API:t=Ue}var i=!1;return this._lazyCallQueue.forEach((function(e){!t||e.command instanceof t||(i=!0),i?r.push(e):n.push(e)})),[n,r]},e.prototype._resolveLazyCallQueue=function(e){var t=this;void 0===e&&(e=vs.ALL);var n=l(this._classifyLazyCallQueueByScope(e),2),r=n[0],i=n[1];this._lazyCallQueue=i,r.forEach((function(e){return o(t,void 0,void 0,(function(){var t,n,r,i,s;return u(this,(function(a){switch(a.label){case 0:t=e.command,n=e.deferred,(r=e.timeout)&&clearTimeout(r),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.send(t)];case 2:return i=a.sent(),n.resolve(i),[3,4];case 3:return s=a.sent(),n.reject(s),[3,4];case 4:return[2]}}))}))}))},e.prototype._rejectLazyCallQueue=function(e,t){var n=this;void 0===t&&(t=vs.ALL);var r=l(this._classifyLazyCallQueueByScope(t),2),i=r[0],s=r[1];this._lazyCallQueue=s,i.forEach((function(t){return o(n,void 0,void 0,(function(){var n,r;return u(this,(function(i){return n=t.deferred,r=t.timeout,clearTimeout(r),n.reject(e),[2]}))}))}))},e.prototype.send=function(e){return o(this,void 0,void 0,(function(){var t,n,r=this;return u(this,(function(i){switch(i.label){case 0:return e instanceof je?this.isReady?(this._logger.debug("send websocket request",e),[4,this.commandRouter.send(e)]):[3,2]:[3,4];case 1:case 5:case 7:return[2,i.sent()];case 2:if(this.isLazyCallActivated)return this._logger.debug("wait websocket request",e),t=new nt,this._lazyCallQueue.push({command:e,deferred:t,timeout:setTimeout((function(){return r.timeout(e.requestId)}),1e4)}),[2,t.promise];throw this._logger.debug("fail websocket request"),M.connectionRequired;case 3:case 9:return[3,11];case 4:return e instanceof Ue?this._session.hasSession?(this._logger.debug("send api request",e),[4,this.commandRouter.send(e)]):[3,6]:[3,10];case 6:return e.hasSessionKey?(this._logger.debug("send api request with tmp session key",e),[4,this.commandRouter.send(e)]):[3,8];case 8:if(this.isLazyCallActivated)return this._logger.debug("wait api request",e),t=new nt,this._lazyCallQueue.push({command:e,deferred:t,timeout:setTimeout((function(){return r.timeout(e.requestId)}),1e4)}),[2,t.promise];throw n=M.connectionRequired,this._logger.debug("fail api request",n),n;case 10:throw M.invalidCommand;case 11:return[2]}}))}))},e.prototype.forceSend=function(e){return o(this,void 0,void 0,(function(){return u(this,(function(t){switch(t.label){case 0:return this._logger.debug("send forced request",e),e instanceof je||e instanceof Ue?[4,this.commandRouter.send(e)]:[3,2];case 1:return[2,t.sent()];case 2:throw M.invalidCommand}}))}))},e.prototype.timeout=function(e){this._logger.debug("timeout request",e);var t=this._lazyCallQueue.findIndex((function(t){return t.command.requestId===e}));t>-1&&(this._lazyCallQueue[t].deferred.reject(M.connectionRequired),this._lazyCallQueue.splice(t,1))},e.prototype.cancel=function(e){this._logger.debug("cancel api request",e),this.commandRouter.cancel(e)},e.prototype.cancelAll=function(){this._logger.debug("cancel all api requests"),this.commandRouter.cancelAll()},e}(),Is="sendbird@devicetokens",Ns=function(){function e(e){var t=e.type,n=e.token,r=e.device_os,i=e.device_manufacturer,s=e.system_push_enabled;this.type=t,this.token=n,this.deviceOS=r,this.deviceManufacturer=i,this.systemPushEnabled=s}return e.payloadify=function(e){return oe(ue({type:e.type,token:e.token,device_os:e.deviceOS,device_manufacturer:e.deviceManufacturer,system_push_enabled:e.systemPushEnabled}))},e}(),Ys=new WeakMap,Os=function(e){function t(t){var n=t._iid,r=t.session,i=t.cacheContext,s=t.sdkState,a=t.dispatcher,o=t.requestQueue,u=t.logger,c=t.pushNotificationAckManager,l=e.call(this)||this;return l._currentConnectionStateType=Li.INITIALIZED,l._isRefreshingAuthToken=!1,l.currentUser=null,l.session=r,l._iid=n,l._cacheContext=i,l._sdkState=s,l._dispatcher=a,l._requestQueue=o,l._logger=u,l._pushNotificationAckManager=c,l._deviceTokens=[],l._dispatcher.on((function(e){var t,n,r;if(e instanceof Ci){var i=e.stateType;l._currentConnectionStateType=i}else if(e instanceof He&&l.handler&&!l.isSessionKeyRefreshing){if(l._currentConnectionStateType===Li.CONNECTING)return;(null===(t=e.error)||void 0===t?void 0:t.isSessionInvalidatedError)?l.close():((null===(n=e.error)||void 0===n?void 0:n.isSessionTokenExpiredError)&&l.refreshAuthToken().catch((function(e){if(b(e)&&"foreground"===l._sdkState.appState)throw e})),(null===(r=e.error)||void 0===r?void 0:r.isSessionKeyExpiredError)&&(l._logger.debug("session expired"),l.handler.onSessionExpired&&l.handler.onSessionExpired(),l.refreshSessionKey().catch((function(e){if(b(e)&&"foreground"===l._sdkState.appState)throw e}))))}})),l}return i(t,e),Object.defineProperty(t.prototype,"ekey",{get:function(){return Ys.get(this)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceTokens",{get:function(){return this._deviceTokens},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"deviceTokenLastDeletedAt",{get:function(){return this._deviceTokenLastDeletedAt},enumerable:!1,configurable:!0}),t.prototype.indexOfDeviceToken=function(e,t){return this._deviceTokens.findIndex((function(n){return n.type===e&&n.token===t}))},t.prototype.hasDeviceToken=function(e,t){return this.indexOfDeviceToken(e,t)>=0},t.prototype.createRefreshWebsocketCommand=function(e,t){return new qe({authToken:e,expiringSession:!0,requestId:t})},t.prototype._refreshSessionKeyByWebSocket=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i,s;return u(this,(function(a){switch(a.label){case 0:return t=this.createRefreshWebsocketCommand(e),[4,this._requestQueue.forceSend(t)];case 1:if(n=a.sent(),r=n.as(Ge),i=r.newKey,s=r.error)throw s;return this.session.sessionKey=null!=i?i:this.session.sessionKey,[2]}}))}))},t.prototype._refreshSessionKeyByApi=function(e){return o(this,void 0,void 0,(function(){var t,n=this;return u(this,(function(r){switch(r.label){case 0:return t=new Ve({userId:this._sdkState.userId,authToken:e,services:this.session.services&&this.session.services.length>0?this.session.services:void 0,expiringSession:!0}),[4,_s((function(e){return o(n,void 0,void 0,(function(){var n,r,i,s,a;return u(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this._requestQueue.forceSend(t)];case 1:return n=o.sent(),r=n.as(ze),i=r.key,s=r.services,this.session.sessionKey=i,this.session.services=s,[3,3];case 2:if(a=o.sent(),!this._isSessionRelatedError(a))throw a;return e(a),[3,3];case 3:return[2]}}))}))}),3)];case 1:return r.sent(),[2]}}))}))},t.prototype._refreshSessionKey=function(e,t){return void 0===t&&(t=!0),o(this,void 0,void 0,(function(){var n,r;return u(this,(function(i){switch(i.label){case 0:if(this._currentConnectionStateType!==Li.CONNECTED)return[3,8];i.label=1;case 1:return i.trys.push([1,3,,8]),[4,this._refreshSessionKeyByWebSocket(e)];case 2:return i.sent(),this.complete(),[2];case 3:n=i.sent(),i.label=4;case 4:return i.trys.push([4,6,,7]),[4,this._handleSessionRefreshError(n,t)];case 5:return i.sent(),[2];case 6:return i.sent(),[3,7];case 7:return[3,8];case 8:return i.trys.push([8,10,,12]),[4,this._refreshSessionKeyByApi(e)];case 9:return i.sent(),this.complete(),[3,12];case 10:return r=i.sent(),[4,this._handleSessionRefreshError(r,t)];case 11:return i.sent(),[3,12];case 12:return[2]}}))}))},t.prototype._receiveNewAuthToken=function(){var e,t=this,n=new nt;if(this._isRefreshingAuthToken=!0,this.session.sessionKey=void 0,this.session.authToken=void 0,null===(e=this.handler)||void 0===e?void 0:e.onSessionTokenRequired){var r=null,i=function(){r&&(clearTimeout(r),r=null)},s=function(e){i(),t._isRefreshingAuthToken&&(t._isRefreshingAuthToken=!1,n.resolve(e))},a=function(e){i(),t._isRefreshingAuthToken&&(t._isRefreshingAuthToken=!1,n.reject(e))};r=setTimeout((function(){return a()}),1e3*this._sdkState.sessionTokenRefreshTimeout),as((function(){return o(t,void 0,void 0,(function(){var e;return u(this,(function(t){return(null===(e=this.handler)||void 0===e?void 0:e.onSessionTokenRequired)&&this.handler.onSessionTokenRequired(s,a),[2]}))}))}))}else n.resolve(null);return n.promise},t.prototype._handleSessionRefreshError=function(e,t){return void 0===t&&(t=!1),o(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return e instanceof M&&(e.isSessionTokenExpiredError||e.code===h.APPLICATION_NOT_FOUND)?(this.session.authToken=void 0,t?[4,this._receiveNewAuthToken()]:[3,6]):[3,6];case 1:return(n=r.sent())?(this.session.authToken=n,[4,this._refreshSessionKey(this.session.authToken,!1)]):[3,3];case 2:return r.sent(),[3,5];case 3:return[4,this.clear()];case 4:r.sent(),r.label=5;case 5:return[2];case 6:throw e}}))}))},t.prototype._isSessionRelatedError=function(e){return e instanceof M&&(e.isSessionExpiredError||e.isSessionInvalidatedError)},Object.defineProperty(t.prototype,"isSessionKeyRefreshing",{get:function(){return this.session.isRefreshing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRefreshingAuthToken",{get:function(){return this._isRefreshingAuthToken},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSessionExpiring",{get:function(){return!!this.handler},enumerable:!1,configurable:!0}),t.prototype.authenticate=function(e,t){var n;return o(this,void 0,void 0,(function(){var r,i,s;return u(this,(function(a){switch(a.label){case 0:return this.session.authToken=t,r=new Ts({appId:this._sdkState.appId,userId:e,includeUIKitConfig:!!(null!==(n=this._sdkState.extensions)&&void 0!==n?n:{}).sb_uikit,localCacheEnabled:this._cacheContext.localCacheEnabled,expiringSession:this.isSessionExpiring}),[4,this._requestQueue.commandRouter.send(r)];case 1:return i=a.sent(),(s=i.as(ks).logi).error?[3,4]:this.session.hasChatServicePermission?[3,3]:[4,s.applyTo(this._iid)];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:throw s.error;case 5:return[2]}}))}))},t.prototype.login=function(e){var t;return o(this,void 0,void 0,(function(){var n,r,i,s,a,o,c,l;return u(this,(function(u){switch(u.label){case 0:return n=e.key,r=e.ekey,i=e.services,s=e.userProfile,a=e.deviceTokenLastDeletedAt,o=void 0===a?0:a,this.session.sessionKey=n,this.session.services=i,Ys.set(this,r),this._deviceTokenCacheEnabled=null===(t=null==s?void 0:s.appInfo)||void 0===t?void 0:t.deviceTokenCache,c=this._cacheContext.preference,this._deviceTokenCacheEnabled?[4,c.get(Is)]:[3,5];case 1:return!(l=u.sent())||l.lastDeletedAt<o?(this._deviceTokens=[],this._deviceTokenLastDeletedAt=o,[4,this.saveDeviceToken()]):[3,3];case 2:return u.sent(),[3,4];case 3:this._deviceTokens=l.tokens.map((function(e){return new Ns(Ns.payloadify(e))})),this._deviceTokenLastDeletedAt=l.lastDeletedAt,u.label=4;case 4:return[3,7];case 5:return[4,c.remove(Is)];case 6:u.sent(),u.label=7;case 7:return[2]}}))}))},t.prototype.complete=function(){var e=this;this.dispatch("refresh"),this._dispatcher.dispatch(new Ai),as((function(){return o(e,void 0,void 0,(function(){var e;return u(this,(function(t){return this._logger.debug("session refreshed"),(null===(e=this.handler)||void 0===e?void 0:e.onSessionRefreshed)&&this.handler.onSessionRefreshed(),[2]}))}))}))},t.prototype.error=function(e){var t=this;as((function(){return o(t,void 0,void 0,(function(){var t;return u(this,(function(n){return(null===(t=this.handler)||void 0===t?void 0:t.onSessionError)&&this.handler.onSessionError(e),[2]}))}))}))},t.prototype.close=function(){var e=this;this.dispatch("close"),this._dispatcher.dispatch(new Ni),as((function(){return o(e,void 0,void 0,(function(){var e;return u(this,(function(t){return this._logger.debug("session closed"),(null===(e=this.handler)||void 0===e?void 0:e.onSessionClosed)&&this.handler.onSessionClosed(),[2]}))}))}))},t.prototype.refreshAuthToken=function(){return o(this,void 0,void 0,(function(){var e,t;return u(this,(function(n){switch(n.label){case 0:if(e=null,!this.isSessionExpiring||this.session.isRefreshing)return[3,9];this.session.isRefreshing=!0,n.label=1;case 1:return n.trys.push([1,7,8,9]),[4,this._receiveNewAuthToken()];case 2:return(e=n.sent())?(this._logger.debug("session refreshing.."),this.session.authToken=e,[4,this._refreshSessionKey(this.session.authToken)]):[3,4];case 3:return n.sent(),[3,6];case 4:return[4,this.clear()];case 5:n.sent(),n.label=6;case 6:return[3,9];case 7:throw n.sent(),t=e?M.sessionTokenRefreshFailed:M.sessionTokenRequestFailed,this._dispatcher.dispatch(new Ii),this.error(t),this._logger.debug("refresh auth token error = ",t),t;case 8:return this.session.isRefreshing=!1,[7];case 9:return[2]}}))}))},t.prototype.refreshSessionKey=function(){return o(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:if(!this.isSessionExpiring||this.session.isRefreshing)return[3,5];this.session.isRefreshing=!0,t.label=1;case 1:return t.trys.push([1,3,4,5]),[4,this._refreshSessionKey(this.session.authToken)];case 2:return t.sent(),[3,5];case 3:throw t.sent(),e=M.sessionTokenRefreshFailed,this._dispatcher.dispatch(new Ii),this.error(e),e;case 4:return this.session.isRefreshing=!1,[7];case 5:return[2]}}))}))},t.prototype.setDeviceToken=function(e,t,n){if(this._deviceTokenCacheEnabled&&this.indexOfDeviceToken(e,t)<0){var r=new Ns({type:e,token:t,device_os:null==n?void 0:n.deviceOS,device_manufacturer:null==n?void 0:n.deviceManufacturer,system_push_enabled:null==n?void 0:n.systemPushEnabled});return this._deviceTokens.push(r),!0}return!1},t.prototype.unsetDeviceToken=function(e,t){if(this._deviceTokenCacheEnabled){var n=this.indexOfDeviceToken(e,t);n>=0&&this._deviceTokens.splice(n,1)}},t.prototype.unsetDeviceTokens=function(e){this._deviceTokenCacheEnabled&&(this._deviceTokens=e?this._deviceTokens.filter((function(t){return t.type!==e})):[])},t.prototype.setDeviceTokenDeletedAt=function(e){e>0&&(this._deviceTokenLastDeletedAt=e)},t.prototype.saveDeviceToken=function(){return o(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this._deviceTokenCacheEnabled?[4,this._cacheContext.preference.set(Is,{tokens:this._deviceTokens,lastDeletedAt:this._deviceTokenLastDeletedAt})]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.clear=function(){return o(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return this.currentUser=null,this.session.clear(),this.close(),Ys.delete(this),this._deviceTokens=[],this._deviceTokenLastDeletedAt=0,[4,this.saveDeviceToken()];case 1:return e.sent(),this._pushNotificationAckManager.clear(),[2]}}))}))},t}(ie),xs=function(e,t){var n,r;if(null!==e&&null!==t){var i=Object.keys(e),s=Object.keys(t),a=d([],l(new Set(d(d([],l(i),!1),l(s),!1))),!1),o={};try{for(var u=c(a),h=u.next();!h.done;h=u.next()){var _=h.value,f=typeof e[_],p=typeof t[_];"undefined"===f?o[_]=t[_]:"undefined"===p?o[_]=e[_]:f!==p?o[_]=t[_]:"object"===f&&e[_]&&t[_]?o[_]=xs(e[_],t[_]):o[_]=t[_]}}catch(e){n={error:e}}finally{try{h&&!h.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}return o}return t};!function(e){e[e.PENDING=0]="PENDING",e[e.COLLECT_ONLY=1]="COLLECT_ONLY",e[e.ENABLED=2]="ENABLED",e[e.DISABLED=3]="DISABLED"}(Ss||(Ss={})),function(e){e.DAILY="daily",e.DEFAULT="default",e.REALTIME="realtime"}(Ds||(Ds={}));var Us,Ps=100,Rs=function(){function e(e){var t=e.deviceId,n=e.cacheContext,r=e.requestQueue;this.queue=[],this.flushWaitQueue=[],this.enabledState=Ss.PENDING,this.isFlushing=!1,this._sentLogStats=[],this.deviceId=t,this.cacheContext=n,this.requestQueue=r,this.logInfo={deviceId:t,statLogs:[],generation:1,lastFlushedAt:0},this.limit=Ps}return Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this.enabledState===Ss.ENABLED},enumerable:!1,configurable:!0}),e.prototype.init=function(e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return this.key=e,[4,this.cacheContext.preference.get(this.key)];case 1:return(t=n.sent())&&(this.logInfo=t),[2]}}))}))},e.prototype._mergeQueue=function(){this.flushWaitQueue.length>0&&(this.queue=this.queue.concat(this.flushWaitQueue),this.flushWaitQueue=[])},e.prototype._isDuplicateStat=function(e){var t=this._sentLogStats.find((function(t){var n;return t.channelUrl===e.data.channel_url&&t.messageId===(null!==(n=e.data.notificationId)&&void 0!==n?n:e.data.message_id)&&t.action===e.data.action}));return t||this._sentLogStats.push({channelUrl:e.data.channel_url,messageId:e.data.message_id,action:e.data.action}),!!t},e.prototype._save=function(){return o(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return e=d(d([],l(this.queue),!1),l(this.flushWaitQueue),!1),[4,this.cacheContext.preference.set(this.key,{deviceId:this.logInfo.deviceId,statLogs:e.map((function(e){return Ze.payloadify(e)})),generation:this.logInfo.generation++,lastFlushedAt:this.logInfo.lastFlushedAt})];case 1:return t.sent(),[2]}}))}))},e.prototype.clear=function(){return o(this,void 0,void 0,(function(){return u(this,(function(e){return this.queue=[],this.flushWaitQueue=[],this.logInfo.generation=1,this._save(),[2]}))}))},e}(),Hs=function(e){function t(t){var n,r,i,s,a=t.type,o=t.data,u=t.ts,c=void 0===u?Date.now():u,l=e.call(this,{type:a,data:o,ts:c})||this;return l.date=new Date(c),l.key="".concat((n=l.date,r=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,"0"),s=String(n.getDate()).padStart(2,"0"),"".concat(r).concat(i).concat(s)),"_").concat(a),l}return i(t,e),t}(Ze),Fs=function(e){function t(t){var n=t.deviceId,r=t.statLogs,i=e.call(this)||this;return i.method=ce.POST,i.path="".concat(we),i.params={device_id:n,log_entries:r.map((function(e){return Ze.payloadify(e)}))},i}return i(t,e),t}(Ue),js=function(e){function t(t){var n=t.deviceId,r=t.cacheContext,i=t.requestQueue;return e.call(this,{deviceId:n,cacheContext:r,requestQueue:i})||this}return i(t,e),Object.defineProperty(t.prototype,"_isSendable",{get:function(){return 0!==this.queue.length&&Date.now()-this.logInfo.lastFlushedAt>=this.statConfig.minInterval},enumerable:!1,configurable:!0}),t.prototype.init=function(t){return o(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,e.prototype.init.call(this,t+".daily")];case 1:return n.sent(),this.queue=this.logInfo.statLogs.map((function(e){return new Ze({type:e.stat_type,ts:e.ts,data:e.data})})),[2]}}))}))},t.prototype.setConfig=function(e,t){return o(this,void 0,void 0,(function(){var n,r,i,s;return u(this,(function(a){switch(a.label){case 0:return this.statConfig=e,this.statConfig.minInterval=864e5,this._mergeQueue(),t.localCacheStat?(this.enabledState=t.enabledStat?Ss.ENABLED:Ss.COLLECT_ONLY,[3,3]):[3,1];case 1:return this.enabledState=Ss.DISABLED,[4,this.clear()];case 2:a.sent(),a.label=3;case 3:return this.isEnabled&&this._isSendable?[4,this._getUploadStats()]:[3,9];case 4:n=a.sent(),r=Math.max(Math.floor(Math.random()*this.statConfig.requestDelayRange),100),i=0,a.label=5;case 5:return i<n.length?(s=n.slice(i,1+this.statConfig.maxStatCountPerRequest),[4,ds(r)]):[3,9];case 6:return a.sent(),[4,this._flush(s)];case 7:a.sent(),a.label=8;case 8:return i+=this.statConfig.maxStatCountPerRequest,[3,5];case 9:return[2]}}))}))},t.prototype.put=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i;return u(this,(function(s){switch(s.label){case 0:return this.enabledState===Ss.DISABLED?[2,!0]:(t=this.enabledState===Ss.PENDING||this.isFlushing?this.flushWaitQueue:this.queue,n=l(t.filter((function(t){return t instanceof Hs&&t.key===e.key})),1),(r=n[0])?r.data=xs(r.data,e.data):t.push(e),this.enabledState===Ss.PENDING?[3,2]:[4,this._save()]);case 1:s.sent(),s.label=2;case 2:return this.isEnabled?(this._mergeQueue(),this._isSendable?[4,this._getUploadStats()]:[3,5]):[3,5];case 3:return i=s.sent(),[4,this._flush(i)];case 4:return[2,s.sent()];case 5:return[2,!0]}}))}))},t.prototype._getUploadStats=function(){return o(this,void 0,void 0,(function(){var e;return u(this,(function(t){return e=this.queue.filter((function(e){if(e instanceof Hs){var t=new Date,n=l([e.date.getFullYear(),t.getFullYear()],2),r=n[0],i=n[1];if(r<i)return!0;if(r===i){var s=l([e.date.getMonth(),t.getMonth()],2),a=s[0],o=s[1];if(a<o)return!0;if(a===o){var u=l([e.date.getDate(),t.getDate()],2);return u[0]<u[1]}}}return!1})),[2,e]}))}))},t.prototype._flush=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i;return u(this,(function(s){switch(s.label){case 0:if(t=!0,!(e.length>0))return[3,10];if(this.isFlushing)return[3,9];this.isFlushing=!0,s.label=1;case 1:return s.trys.push([1,4,8,9]),n=d([],l(e),!1).slice(0,Math.min(this.limit,this.statConfig.maxStatCountPerRequest)),r=new Fs({deviceId:this.deviceId,statLogs:n}),[4,this.requestQueue.send(r)];case 2:return s.sent(),this.queue=d([],l(e),!1).slice(n.length).concat(this.flushWaitQueue),this.flushWaitQueue=[],this.limit=Ps,this.logInfo.lastFlushedAt=Date.now(),[4,this._save()];case 3:return s.sent(),[3,9];case 4:return(i=s.sent())instanceof M?i.code!==h.NON_AUTHORIZED?[3,6]:[4,this.clear()]:[3,7];case 5:return s.sent(),this.enabledState=Ss.DISABLED,[3,7];case 6:i.code===h.STAT_UPLOAD_NOT_ALLOWED&&(this.enabledState=Ss.COLLECT_ONLY),s.label=7;case 7:return this.limit=this.limit+20,t=!1,[3,9];case 8:return this.isFlushing=!1,[7];case 9:return[3,11];case 10:this.isFlushing=!1,s.label=11;case 11:return[2,t]}}))}))},t}(Rs),Vs=function(e){function t(t){var n=t.deviceId,r=t.cacheContext,i=t.requestQueue;return e.call(this,{deviceId:n,cacheContext:r,requestQueue:i})||this}return i(t,e),t.prototype._isSendable=function(e){if(void 0===e&&(e=!1),this.queue.length<this.statConfig.lowerThreshold)return!1;if(e){if(Date.now()-this.logInfo.lastFlushedAt<this.statConfig.minInterval)return!1}else if(this.queue.length<this.statConfig.minStatCount)return!1;return!0},t.prototype._filterQueueByType=function(e,t){return o(this,void 0,void 0,(function(){return u(this,(function(n){return[2,t?e.filter((function(e){return e.type!==xe.FEATURE_LOCALCACHE_EVENT})):e.filter((function(e){return e.type===xe.FEATURE_LOCALCACHE_EVENT}))]}))}))},t.prototype.init=function(t){return o(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,e.prototype.init.call(this,t+".default")];case 1:return n.sent(),this.queue=this.logInfo.statLogs.map((function(e){return e.data=s({message_init_policy:"",starting_point:0},e.data),new Ze({type:e.stat_type,ts:e.ts,data:e.data})})),[2]}}))}))},t.prototype.setConfig=function(e,t){return o(this,void 0,void 0,(function(){var n,r,i,s;return u(this,(function(a){switch(a.label){case 0:return this.statConfig=e,this._mergeQueue(),t.requestStat||t.localCacheStat?(this.enabledState=t.enabledStat?Ss.ENABLED:Ss.COLLECT_ONLY,n=void 0,t.requestStat||(n=!1),t.localCacheStat||(n=!0),void 0===n?[3,3]:(r=this,[4,this._filterQueueByType(this.queue,n)])):[3,4];case 1:return r.queue=a.sent(),i=this,[4,this._filterQueueByType(this.flushWaitQueue,n)];case 2:i.flushWaitQueue=a.sent(),this._save(),a.label=3;case 3:return[3,6];case 4:return this.enabledState=Ss.DISABLED,[4,this.clear()];case 5:a.sent(),a.label=6;case 6:return this.isEnabled&&this._isSendable(!0)?(s=Math.max(Math.floor(Math.random()*this.statConfig.requestDelayRange),100),[4,ds(s)]):[3,9];case 7:return a.sent(),[4,this._flush(this.queue)];case 8:a.sent(),a.label=9;case 9:return[2]}}))}))},t.prototype.put=function(e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return this.enabledState===Ss.DISABLED?[2,!0]:((t=this.enabledState===Ss.PENDING||this.isFlushing?this.flushWaitQueue:this.queue).push(e),this.enabledState===Ss.PENDING?[3,2]:[4,this._save()]);case 1:n.sent(),n.label=2;case 2:return this.isEnabled?(this._mergeQueue(),this._isSendable()?[4,this._flush(t)]:[3,4]):[3,4];case 3:return[2,n.sent()];case 4:return[2,!0]}}))}))},t.prototype._flush=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i;return u(this,(function(s){switch(s.label){case 0:if(t=!0,!(e.length>0))return[3,10];if(this.isFlushing)return[3,9];this.isFlushing=!0,s.label=1;case 1:return s.trys.push([1,4,8,9]),n=d([],l(e),!1).slice(0,Math.min(this.limit,this.statConfig.maxStatCountPerRequest)),r=new Fs({deviceId:this.deviceId,statLogs:n}),[4,this.requestQueue.send(r)];case 2:return s.sent(),this.queue=d([],l(e),!1).slice(n.length).concat(this.flushWaitQueue),this.flushWaitQueue=[],this.limit=Ps,this.logInfo.lastFlushedAt=Date.now(),[4,this._save()];case 3:return s.sent(),[3,9];case 4:return(i=s.sent())instanceof M?i.code!==h.NON_AUTHORIZED?[3,6]:[4,this.clear()]:[3,7];case 5:return s.sent(),this.enabledState=Ss.DISABLED,[3,7];case 6:i.code===h.STAT_UPLOAD_NOT_ALLOWED&&(this.enabledState=Ss.COLLECT_ONLY),s.label=7;case 7:return this.limit=this.limit+20,t=!1,[3,9];case 8:return this.isFlushing=!1,[7];case 9:return[3,11];case 10:this.isFlushing=!1,s.label=11;case 11:return[2,t]}}))}))},t}(Rs),qs=function(e){function t(t){var n=t.deviceId,r=t.statLogs,i=e.call(this)||this;return i.method=ce.POST,i.path="".concat(Te),i.params={device_id:n,log_entries:r.map((function(e){return Ze.payloadify(e)}))},i}return i(t,e),t}(Ue),zs=function(e){function t(t){var n=t.deviceId,r=t.cacheContext,i=t.requestQueue;return e.call(this,{deviceId:n,cacheContext:r,requestQueue:i})||this}return i(t,e),Object.defineProperty(t.prototype,"_isSendable",{get:function(){return this.queue.length>=this.statConfig.minStatCount&&this.queue.length>this.statConfig.lowerThreshold||this.logInfo.lastFlushedAt>0&&Date.now()-this.logInfo.lastFlushedAt>=this.statConfig.minInterval},enumerable:!1,configurable:!0}),t.prototype.init=function(t){return o(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,e.prototype.init.call(this,t+".realtime")];case 1:return n.sent(),this.queue=this.logInfo.statLogs.map((function(e){var t;return e.data=oe(s(s({},e.data),{message_id:null!==(t=e.data.notificationId)&&void 0!==t?t:e.data.message_id,notificationId:void 0})),new Ze({type:e.stat_type,ts:e.ts,data:e.data})})),this._sentLogStats=this.queue.map((function(e){var t;return{channelUrl:e.data.channelUrl,messageId:null!==(t=e.data.notificationId)&&void 0!==t?t:e.data.message_id,action:e.data.action}})),[2]}}))}))},t.prototype.setConfig=function(e,t){return o(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return this.statConfig=e,this._mergeQueue(),t.notificationStat?(this.enabledState=t.enabledStat?Ss.ENABLED:Ss.COLLECT_ONLY,[3,3]):[3,1];case 1:return this.enabledState=Ss.DISABLED,[4,this.clear()];case 2:r.sent(),r.label=3;case 3:return this.isEnabled&&this._isSendable?(n=Math.max(Math.floor(Math.random()*this.statConfig.requestDelayRange),100),[4,ds(n)]):[3,6];case 4:return r.sent(),[4,this._flush(this.queue)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))},t.prototype.put=function(e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return this.enabledState===Ss.DISABLED?[2,!0]:(t=this.enabledState===Ss.PENDING||this.isFlushing?this.flushWaitQueue:this.queue,this._isDuplicateStat(e)?[2,!0]:(t.push(e),this.enabledState===Ss.PENDING?[3,2]:[4,this._save()]));case 1:n.sent(),n.label=2;case 2:return this.isEnabled?(this._mergeQueue(),this.isEnabled&&this._isSendable?[4,this._flush(t)]:[3,4]):[3,4];case 3:return[2,n.sent()];case 4:return[2,!0]}}))}))},t.prototype._flush=function(e){return o(this,void 0,void 0,(function(){var t,n,r,i;return u(this,(function(s){switch(s.label){case 0:if(t=!0,!(e.length>0))return[3,10];if(this.isFlushing)return[3,9];this.isFlushing=!0,s.label=1;case 1:return s.trys.push([1,4,8,9]),n=d([],l(e),!1).slice(0,Math.min(this.limit,this.statConfig.maxStatCountPerRequest)),r=new qs({deviceId:this.deviceId,statLogs:n}),[4,this.requestQueue.send(r)];case 2:return s.sent(),this.queue=d([],l(e),!1).slice(n.length).concat(this.flushWaitQueue),this.flushWaitQueue=[],this.limit=Ps,this.logInfo.lastFlushedAt=Date.now(),[4,this._save()];case 3:return s.sent(),[3,9];case 4:return(i=s.sent())instanceof M?i.code!==h.NON_AUTHORIZED?[3,6]:[4,this.clear()]:[3,7];case 5:return s.sent(),this.enabledState=Ss.DISABLED,[3,7];case 6:i.code===h.STAT_UPLOAD_NOT_ALLOWED&&(this.enabledState=Ss.COLLECT_ONLY),s.label=7;case 7:return this.limit=this.limit+20,t=!1,[3,9];case 8:return this.isFlushing=!1,[7];case 9:return[3,11];case 10:this.isFlushing=!1,s.label=11;case 11:return[2,t]}}))}))},t}(Rs),Gs=function(){function e(e){var t=e.cacheContext,n=e.requestQueue,r=e.dispatcher,i=e.logger;this._collectRequestStat=!0,this._collectFeatureLocalCacheStat=!0,this._collectionNotificationStat=!0,this._retryCount=0,this.deviceId=ne(),this.cacheContext=t,this.requestQueue=n,this.dispatcher=r,this.logger=i,this._dailyStatCollector=new js({deviceId:this.deviceId,cacheContext:this.cacheContext,requestQueue:this.requestQueue}),this._defaultStatCollector=new Vs({deviceId:this.deviceId,cacheContext:this.cacheContext,requestQueue:this.requestQueue}),this._notificationStatCollector=new zs({deviceId:this.deviceId,cacheContext:this.cacheContext,requestQueue:this.requestQueue})}return e.prototype._migration=function(){return o(this,void 0,void 0,(function(){var e,t,n,r;return u(this,(function(i){switch(i.label){case 0:return[4,this.cacheContext.preference.get(this.key)];case 1:return(e=i.sent())?(t=[],e.statLogs.forEach((function(e){e.stat_type===xe.FEATURE_LOCALCACHE&&t.push(new Ze({type:e.stat_type,ts:e.ts,data:e.data}))})),[4,this.cacheContext.preference.set(this.key+".daily",{deviceId:e.deviceId,statLogs:t.map((function(e){return Ze.payloadify(e)})),generation:e.generation,lastFlushedAt:e.lastFlushedAt})]):[3,6];case 2:return i.sent(),n=[],e.statLogs.forEach((function(e){e.stat_type!==xe.FEATURE_LOCALCACHE&&e.stat_type!==xe.NOTIFICATION&&(e.stat_type===xe.FEATURE_LOCALCACHE_EVENT&&(e.data=s({message_init_policy:"",starting_point:0},e.data)),n.push(new Ze({type:e.stat_type,ts:e.ts,data:e.data})))})),[4,this.cacheContext.preference.set(this.key+".default",{deviceId:e.deviceId,statLogs:n.map((function(e){return Ze.payloadify(e)})),generation:e.generation,lastFlushedAt:e.lastFlushedAt})];case 3:return i.sent(),r=[],e.statLogs.forEach((function(e){var t;e.stat_type===xe.NOTIFICATION&&(e.data=oe(s(s({},e.data),{message_id:null!==(t=e.data.notificationId)&&void 0!==t?t:e.data.message_id,notificationId:void 0})),r.push(new Ze({type:e.stat_type,ts:e.ts,data:e.data})))})),[4,this.cacheContext.preference.set(this.key+".realtime",{deviceId:e.deviceId,statLogs:r.map((function(e){return Ze.payloadify(e)})),generation:e.generation,lastFlushedAt:e.lastFlushedAt})];case 4:return i.sent(),[4,this.cacheContext.preference.remove(this.key)];case 5:i.sent(),i.label=6;case 6:return[2]}}))}))},e.prototype.init=function(e){return o(this,void 0,void 0,(function(){var t=this;return u(this,(function(n){switch(n.label){case 0:return this.key=e,[4,this._migration()];case 1:return n.sent(),[4,this._dailyStatCollector.init(this.key)];case 2:return n.sent(),[4,this._defaultStatCollector.init(this.key)];case 3:return n.sent(),[4,this._notificationStatCollector.init(this.key)];case 4:return n.sent(),this.commandEventContext||(this.commandEventContext=this.dispatcher.on((function(e){return o(t,void 0,void 0,(function(){var t,n,r,i,s,a;return u(this,(function(o){return e instanceof We?(t=e.statLog,this.put(t)):e instanceof rs&&(n=e.request,r=e.features,i=e.options,s=e.statConfigInfo,this._retryCount=0,this._collectRequestStat=n,this._collectFeatureLocalCacheStat=null==r?void 0:r.localCache,this._collectionNotificationStat=null==r?void 0:r.notification,this._statConfig=s,this._dailyStatCollector.setConfig(this._statConfig.default,{localCacheStat:this._collectFeatureLocalCacheStat,enabledStat:i.ingestion}),this._defaultStatCollector.setConfig(this._statConfig.default,{requestStat:this._collectRequestStat,localCacheStat:this._collectFeatureLocalCacheStat,enabledStat:i.ingestion}),this._notificationStatCollector.setConfig(null!==(a=this._statConfig.realTime)&&void 0!==a?a:this._statConfig.default,{notificationStat:this._collectionNotificationStat,enabledStat:i.ingestion})),[2]}))}))}))),[2]}}))}))},e.prototype.put=function(e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return t=!0,e instanceof Hs?this._collectFeatureLocalCacheStat?[4,this._dailyStatCollector.put(e)]:[3,2]:[3,3];case 1:t=n.sent(),n.label=2;case 2:return[3,13];case 3:switch(e.type){case xe.API_RESULT:case xe.WEBSOCKET_CONNECT:return[3,4];case xe.FEATURE_LOCALCACHE:case xe.FEATURE_LOCALCACHE_EVENT:return[3,7];case xe.NOTIFICATION:return[3,10]}return[3,13];case 4:return this._collectRequestStat?[4,this._defaultStatCollector.put(e)]:[3,6];case 5:t=n.sent(),n.label=6;case 6:return[3,13];case 7:return this._collectFeatureLocalCacheStat?[4,this._defaultStatCollector.put(e)]:[3,9];case 8:t=n.sent(),n.label=9;case 9:return[3,13];case 10:return this._collectionNotificationStat?[4,this._notificationStatCollector.put(e)]:[3,12];case 11:t=n.sent(),n.label=12;case 12:return[3,13];case 13:return t?this._retryCount=0:(this._retryCount++,this._retryCount>20&&(this._dailyStatCollector.enabledState=Ss.COLLECT_ONLY,this._defaultStatCollector.enabledState=Ss.COLLECT_ONLY,this._notificationStatCollector.enabledState=Ss.COLLECT_ONLY,this.logger.debug(M.statLogUploadLimitExceededError))),[2]}}))}))},e.prototype.close=function(){this.commandEventContext&&(this.commandEventContext.close(),this.commandEventContext=void 0)},e}(),Ws=function(){function e(e){var t=e.limit,n=void 0===t?5:t;this.workersByKey={},this.limit=n}return e.prototype.run=function(e,t){return o(this,void 0,void 0,(function(){var n;return u(this,(function(r){switch(r.label){case 0:return this.workersByKey[e]||(this.workersByKey[e]=[]),this.workersByKey[e].length<this.limit?(this.workersByKey[e].push(t),[4,t()]):[3,2];case 1:return n=r.sent(),this.workersByKey[e].pop(),[2,n];case 2:throw M.tooManyRequests}}))}))},e.prototype.clear=function(e){this.workersByKey[e]=[]},e}();!function(e){e.DELIVERY_RECEIPT="delivery_receipt",e.PUSH_ACKNOWLEDGEMENT="push_acknowledgement"}(Us||(Us={}));var Bs,Ks=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._pushAckedCache={},t}return i(t,e),t.prototype.isAcked=function(e,t){var n,r="".concat(e,"_").concat(t);return null!==(n=this._pushAckedCache[r])&&void 0!==n&&n},t.prototype.markAsAcked=function(e,t){var n="".concat(e,"_").concat(t);this._pushAckedCache[n]=!0},t.prototype.clear=function(){ea.of(this._iid).logger.debug("clear push acked cache"),this._pushAckedCache={}},t.prototype.parseData=function(e){var t,n,r,i,s=ea.of(this._iid).logger,a=e.sendbird;if("string"==typeof a)try{a=JSON.parse(a)}catch(e){throw s.info("push notification payload does not contain sendbird payload in JSON format."),M.malformedDataError}if(!a||"object"!=typeof a)throw s.info("push notification payload does not contain sendbird payload in JSON format."),M.malformedDataError;var o=null!==(t=a.push_tracking_id)&&void 0!==t?t:"",u=a.notification_message_id,c=a.notification_channel_key,l=a.notification_template_key,d=a.notification_event_deadline,h=null!==(n=a.session_key)&&void 0!==n?n:{},_=null!==(r=null==h?void 0:h.key)&&void 0!==r?r:"",f=null!==(i=null==h?void 0:h.topics)&&void 0!==i?i:[];if("string"!=typeof o||0===o.length)throw s.info("push tracking id is not available"),M.malformedDataError;if("string"!=typeof u||0===u.length)throw s.info("message id is not available"),M.malformedDataError;return{pushTrackingId:o,sessionKey:_,sessionTopics:f,messageId:u,channelKey:c,templateKey:l,notificationEventDeadline:d}},t}(Vi),Qs=function(e){this.name=e.name,this._custom=e.custom,this._usedByModerationEngine=e.used_by_moderation_engine},Js=function(e){function t(){var t=e.call(this)||this;return t.method=ce.GET,t.path=Ce,t}return i(t,e),t}(Ue),Zs=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.reportCategories=n.categories,r}return i(t,e),t}(Pe),Xs=function(e){function t(t){var n=e.call(this,t)||this;return n._categories=[],n}return i(t,e),t.prototype.categories=function(){return o(this,void 0,void 0,(function(){return u(this,(function(e){switch(e.label){case 0:return 0!==this._categories.length?[3,2]:[4,this._fetchCategories()];case 1:e.sent(),e.label=2;case 2:return[2,this._categories]}}))}))},t.prototype._fetchCategories=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,i;return u(this,(function(s){switch(s.label){case 0:return e=ea.of(this._iid).requestQueue,t=new Js,[4,e.send(t)];case 1:return n=s.sent(),(r=n.as(Zs).reportCategories)&&(i=this._categories).push.apply(i,d([],l(r.map((function(e){return new Qs(e)}))),!1)),[2]}}))}))},t}(Vi),$s={},ea=function(){function e(e,t){var n,r,i,s,a,o,u,c,l;if(this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map,!$s[e]){$s[e]=this;var d=null!==(n=t.options)&&void 0!==n?n:new x,h=this.sdkState={appId:t.appId,appVersion:null!==(r=t.appVersion)&&void 0!==r?r:"",appState:"foreground",userId:void 0,extensions:{},api:{host:null!==(i=t.apiHost)&&void 0!==i?i:"https://api-".concat(t.appId,".sendbird.com")},websocket:{host:null!==(s=t.websocketHost)&&void 0!==s?s:"wss://ws-".concat(t.appId,".sendbird.com"),pingerDisabled:!!t.noPingpong,pingInterval:void 0,pongTimeout:void 0,connectMaxRetry:2,compression:!0,reconnectMaxRetry:-1,reconnectRetryStrategy:new hs,responseTimeout:d.websocketResponseTimeout},sessionTokenRefreshTimeout:d.sessionTokenRefreshTimeout};this.appInfo=void 0,this.subscribedUnreadMessageCount={all:0,feed:0,customTypes:{},ts:0};var _=this.logger=t.logger;this.connectedAt=0,this.firstConnectedAt=0,this.connectionHandlers=new Map,this.userEventHandlers=new Map;var p=this.cacheContext=new R({encryption:t.encryption,store:t.store,localCacheEnabled:null!==(a=t.localCacheEnabled)&&void 0!==a&&a,localCacheConfig:null!==(o=t.localCacheConfig)&&void 0!==o?o:new j});this.debugMode=null!==(u=t.debugMode)&&void 0!==u&&u,this.maxSuperGroupChannelUnreadCount=f.DEFAULT_MAX_UNREAD_COUNT_OF_SUPER_GROUP_CHANNEL,this.useMemberInfoInMessage=d.useMemberInfoInMessage,this.typingIndicatorInvalidateTime=d.typingIndicatorInvalidateTime,this.typingIndicatorThrottle=d.typingIndicatorThrottle,this.concurrentCallLimit=void 0,this.backOffDelay=void 0;var m=this.dispatcher=new se,g=new te;this.requestQueue=new As(e,{session:g,sdkState:h,dispatcher:m,logger:_,useFetchCompat:t.useFetchCompat}),this.pushNotificationAckManager=new Ks(e),this.sessionManager=new Os({_iid:e,session:g,cacheContext:p,sdkState:h,dispatcher:m,requestQueue:this.requestQueue,logger:_,pushNotificationAckManager:this.pushNotificationAckManager}),this.connectionManager=new ms(e,{sdkState:h,cacheContext:this.cacheContext,connectionHandlers:this.connectionHandlers,dispatcher:m,sessionManager:this.sessionManager,websocketClient:this.requestQueue.commandRouter.websocketClient,disableWebSocketCloseEventHandling:null!==(c=t.disableWebSocketCloseEventHandling)&&void 0!==c&&c,logger:_}),this.statManager=new Gs({cacheContext:this.cacheContext,requestQueue:this.requestQueue,dispatcher:this.dispatcher,logger:_}),this.appStateToggleEnabled=null===(l=t.appStateToggleEnabled)||void 0===l||l,this.messageBackgroundSyncThrottleController=new Ws({limit:5}),this.reportCategoryManager=new Xs(e)}return $s[e]}return e.of=function(e){if($s[e])return $s[e];throw M.lostInstance},e.clear=function(e){$s[e]&&delete $s[e]},e.prototype.hasExtension=function(e){return this.sdkState.extensions&&this.sdkState.extensions[e]},e}(),ta=function(){function e(){}return e.prototype.init=function(e,t){var n=t.sdkState,r=t.dispatcher,i=t.sessionManager,s=t.requestQueue,a=t.logger;t.onlineDetector;var o=t.cacheContext;this._iid=e,this._cacheContext=o,this._sdkState=n,this._dispatcher=r,this._sessionManager=i,this._requestQueue=s,this._logger=a},e}();!function(e){e.UNKNOWN="UNKNOWN",e.EVENT_CHANNEL_CREATED="EVENT_CHANNEL_CREATED",e.EVENT_CHANNEL_UPDATED="EVENT_CHANNEL_UPDATED",e.EVENT_CHANNEL_DELETED="EVENT_CHANNEL_DELETED",e.EVENT_CHANNEL_READ="EVENT_CHANNEL_READ",e.EVENT_CHANNEL_DELIVERED="EVENT_CHANNEL_DELIVERED",e.EVENT_CHANNEL_INVITED="EVENT_CHANNEL_INVITED",e.EVENT_CHANNEL_JOINED="EVENT_CHANNEL_JOINED",e.EVENT_CHANNEL_LEFT="EVENT_CHANNEL_LEFT",e.EVENT_CHANNEL_ACCEPTED_INVITE="EVENT_CHANNEL_ACCEPTED_INVITE",e.EVENT_CHANNEL_DECLINED_INVITE="EVENT_CHANNEL_DECLINED_INVITE",e.EVENT_CHANNEL_OPERATOR_UPDATED="EVENT_CHANNEL_OPERATOR_UPDATED",e.EVENT_CHANNEL_BANNED="EVENT_CHANNEL_BANNED",e.EVENT_CHANNEL_UNBANNED="EVENT_CHANNEL_UNBANNED",e.EVENT_CHANNEL_MUTED="EVENT_CHANNEL_MUTED",e.EVENT_CHANNEL_UNMUTED="EVENT_CHANNEL_UNMUTED",e.EVENT_CHANNEL_FROZEN="EVENT_CHANNEL_FROZEN",e.EVENT_CHANNEL_UNFROZEN="EVENT_CHANNEL_UNFROZEN",e.EVENT_CHANNEL_HIDDEN="EVENT_CHANNEL_HIDDEN",e.EVENT_CHANNEL_UNHIDDEN="EVENT_CHANNEL_UNHIDDEN",e.EVENT_CHANNEL_RESET_HISTORY="EVENT_CHANNEL_RESET_HISTORY",e.EVENT_CHANNEL_TYPING_STATUS_UPDATE="EVENT_CHANNEL_TYPING_STATUS_UPDATE",e.EVENT_CHANNEL_MEMBER_COUNT_UPDATED="EVENT_CHANNEL_MEMBER_COUNT_UPDATED",e.EVENT_CHANNEL_METADATA_CREATED="EVENT_CHANNEL_METADATA_CREATED",e.EVENT_CHANNEL_METADATA_UPDATED="EVENT_CHANNEL_METADATA_UPDATED",e.EVENT_CHANNEL_METADATA_DELETED="EVENT_CHANNEL_METADATA_DELETED",e.EVENT_CHANNEL_METACOUNTER_CREATED="EVENT_CHANNEL_METACOUNTER_CREATED",e.EVENT_CHANNEL_METACOUNTER_UPDATED="EVENT_CHANNEL_METACOUNTER_UPDATED",e.EVENT_CHANNEL_METACOUNTER_DELETED="EVENT_CHANNEL_METACOUNTER_DELETED",e.EVENT_MESSAGE_SENT="EVENT_MESSAGE_SENT",e.EVENT_MESSAGE_RECEIVED="EVENT_MESSAGE_RECEIVED",e.EVENT_MESSAGE_UPDATED="EVENT_MESSAGE_UPDATED",e.EVENT_PINNED_MESSAGE_UPDATED="EVENT_PINNED_MESSAGE_UPDATED",e.REQUEST_CHANNEL="REQUEST_CHANNEL",e.REQUEST_CHANNEL_CHANGELOGS="REQUEST_CHANNEL_CHANGELOGS",e.REFRESH_CHANNEL="REFRESH_CHANNEL",e.CHANNEL_LASTACCESSEDAT_UPDATED="CHANNEL_LASTACCESSEDAT_UPDATED",e.SYNC_CHANNEL_BACKGROUND="SYNC_CHANNEL_BACKGROUND",e.SYNC_CHANNEL_CHANGELOGS="SYNC_CHANNEL_CHANGELOGS",e.EVENT_MESSAGE_SENT_SUCCESS="EVENT_MESSAGE_SENT_SUCCESS",e.EVENT_MESSAGE_SENT_FAILED="EVENT_MESSAGE_SENT_FAILED",e.EVENT_MESSAGE_SENT_PENDING="EVENT_MESSAGE_SENT_PENDING",e.EVENT_MESSAGE_DELETED="EVENT_MESSAGE_DELETED",e.EVENT_MESSAGE_FEEDBACK_ADDED="EVENT_MESSAGE_FEEDBACK_ADDED",e.EVENT_MESSAGE_FEEDBACK_UPDATED="EVENT_MESSAGE_FEEDBACK_UPDATED",e.EVENT_MESSAGE_FEEDBACK_DELETED="EVENT_MESSAGE_FEEDBACK_DELETED",e.EVENT_MESSAGE_READ="EVENT_MESSAGE_READ",e.EVENT_MESSAGE_DELIVERED="EVENT_MESSAGE_DELIVERED",e.EVENT_MESSAGE_REACTION_UPDATED="EVENT_MESSAGE_REACTION_UPDATED",e.EVENT_MESSAGE_THREADINFO_UPDATED="EVENT_MESSAGE_THREADINFO_UPDATED",e.EVENT_MESSAGE_OFFSET_UPDATED="EVENT_MESSAGE_OFFSET_UPDATED",e.REQUEST_MESSAGE="REQUEST_MESSAGE",e.EVENT_THREAD_INFO_UPDATED="EVENT_THREADINFO_UPDATED",e.EVENT_POLL_UPDATED="EVENT_POLL_UPDATED",e.EVENT_POLL_VOTED="EVENT_POLL_VOTED",e.SYNC_POLL_CHANGELOGS="SYNC_POLL_CHANGELOGS",e.REQUEST_RESEND_MESSAGE="REQUEST_RESEND_MESSAGE",e.REQUEST_THREADED_MESSAGE="REQUEST_THREADED_MESSAGE",e.REQUEST_MESSAGE_CHANGELOGS="REQUEST_MESSAGE_CHANGELOGS",e.SYNC_MESSAGE_FILL="SYNC_MESSAGE_FILL",e.SYNC_MESSAGE_BACKGROUND="SYNC_MESSAGE_BACKGROUND",e.SYNC_MESSAGE_CHANGELOGS="SYNC_MESSAGE_CHANGELOGS",e.LOCAL_MESSAGE_PENDING_CREATED="LOCAL_MESSAGE_PENDING_CREATED",e.LOCAL_MESSAGE_FAILED="LOCAL_MESSAGE_FAILED",e.LOCAL_MESSAGE_CANCELED="LOCAL_MESSAGE_CANCELED",e.LOCAL_MESSAGE_RESEND_STARTED="LOCAL_MESSAGE_RESEND_STARTED"}(Bs||(Bs={})),s({},Bs);var na,ra=function(e){return e.startsWith("EVENT_")||e.startsWith("LOCAL_MESSAGE_")||e===Bs.SYNC_MESSAGE_FILL||e===Bs.SYNC_MESSAGE_CHANGELOGS||e===Bs.SYNC_POLL_CHANGELOGS},ia=function(e){function t(t){var n=t.messages,r=t.source,i=t.isWebSocketEventComing,s=void 0!==i&&i,a=e.call(this)||this;return a.messages=n,a.source=r,a.isWebSocketEventComing=s,a}return i(t,e),t}(ae),sa=function(e){function t(t){var n=t.messageIds,r=t.source,i=t.isWebSocketEventComing,s=void 0!==i&&i,a=e.call(this)||this;return a.messageIds=n,a.source=r,a.isWebSocketEventComing=s,a}return i(t,e),t}(ae),aa=function(e){function t(t){var n=t.event,r=t.source,i=t.isWebSocketEventComing,s=void 0!==i&&i,a=e.call(this)||this;return a.event=n,a.source=r,a.isWebSocketEventComing=s,a}return i(t,e),t}(ae),oa=function(e){function t(t){var n=t.event,r=t.source,i=t.isWebSocketEventComing,s=void 0!==i&&i,a=e.call(this)||this;return a.event=n,a.source=r,a.isWebSocketEventComing=s,a}return i(t,e),t}(ae),ua=function(e){function t(t){var n=t.reqId,r=t.source,i=e.call(this)||this;return i.reqId=n,i.source=r,i}return i(t,e),t}(ae),ca=function(e){function t(t){var n=t.polls,r=t.source,i=e.call(this)||this;return i.polls=n,i.source=r,i}return i(t,e),t}(ae),la=function(e){function t(t){var n=t.event,r=t.source,i=e.call(this)||this;return i.event=n,i.source=r,i}return i(t,e),t}(ae),da=function(e){function t(t){var n=t.event,r=t.source,i=e.call(this)||this;return i.event=n,i.source=r,i}return i(t,e),t}(ae);!function(e){e.OPEN="open",e.CLOSED="closed"}(na||(na={}));var ha="removed",_a=function(e){switch(e){case"open":return na.OPEN;case"closed":return na.CLOSED;default:return null}},fa=function(e){return!e||!!e.text&&T("string",e.text)},pa=function(e){function t(t,n){var r,i,s,a,o,u,c,l=this;return(l=e.call(this,t)||this).pollId=0,l.id=0,l.text=null,l.voteCount=0,l.createdBy=null,l.createdAt=0,l.updatedAt=0,l._lastVotedAt=0,l.pollId=null!==(r=n.poll_id)&&void 0!==r?r:0,l.id=null!==(i=n.id)&&void 0!==i?i:0,l.text=null!==(s=n.text)&&void 0!==s?s:null,l.voteCount=null!==(a=n.vote_count)&&void 0!==a?a:0,l.createdBy=null!==(o=n.created_by)&&void 0!==o?o:null,l.createdAt=null!==(u=n.created_at)&&void 0!==u?u:0,l.updatedAt=null!==(c=n.updated_at)&&void 0!==c?c:0,l}return i(t,e),t.payloadify=function(t){return oe(ue(s(s({},e.payloadify.call(this,t)),{vote_count:t.voteCount,poll_id:t.pollId,text:t.text,created_at:t.createdAt,id:t.id,created_by:t.createdBy,updated_at:t.updatedAt})))},t}(Vi),ma=function(e){function t(t,n){var r,i,s,a,o,u,c,l,d,h,_,f,p,m=this;return(m=e.call(this,t)||this).id=0,m.title=null,m.createdAt=0,m.updatedAt=0,m.closeAt=-1,m.status=na.CLOSED,m.messageId=0,m.data=null,m.voterCount=-1,m.options=[],m.createdBy=null,m.allowUserSuggestion=!1,m.allowMultipleVotes=!1,m.votedPollOptionIds=[],m.id=null!==(r=n.id)&&void 0!==r?r:0,m.title=null!==(i=n.title)&&void 0!==i?i:null,m.createdAt=null!==(s=n.created_at)&&void 0!==s?s:0,m.updatedAt=null!==(a=n.updated_at)&&void 0!==a?a:0,m.closeAt=null!==(o=n.close_at)&&void 0!==o?o:-1,m.status=null!==(u=_a(n.status))&&void 0!==u?u:na.CLOSED,m.messageId=null!==(c=n.message_id)&&void 0!==c?c:0,m.data=null!==(l=n.data)&&void 0!==l?l:null,m.voterCount=null!==(d=n.voter_count)&&void 0!==d?d:-1,m.options=n.options?n.options.map((function(e){return new pa(m._iid,e)})):[],m.createdBy=null!==(h=n.created_by)&&void 0!==h?h:null,m.allowUserSuggestion=null!==(_=n.allow_user_suggestion)&&void 0!==_&&_,m.allowMultipleVotes=null!==(f=n.allow_multiple_votes)&&void 0!==f&&f,m.votedPollOptionIds=null!==(p=n.voted_option_ids)&&void 0!==p?p:[],m}return i(t,e),t.prototype._applyPollUpdatePayload=function(e){var t,n,r,i,s,a,o,u,c=this;this.title=null!==(t=e.title)&&void 0!==t?t:this.title,this.updatedAt=null!==(n=e.updated_at)&&void 0!==n?n:this.updatedAt,this.closeAt=null!==(r=e.close_at)&&void 0!==r?r:this.closeAt,this.status=null!==(i=_a(e.status))&&void 0!==i?i:this.status,this.data=null!==(s=e.data)&&void 0!==s?s:this.data,this.voterCount=null!==(a=e.voter_count)&&void 0!==a?a:this.voterCount,e.options&&(this.options=e.options.map((function(e){return new pa(c._iid,e)})),this.votedPollOptionIds=e.options.filter((function(e){return e.vote_count>0})).map((function(e){return e.id}))),this.allowUserSuggestion=null!==(o=e.allow_user_suggestion)&&void 0!==o?o:this.allowUserSuggestion,this.allowMultipleVotes=null!==(u=e.allow_multiple_votes)&&void 0!==u?u:this.allowMultipleVotes},t.payloadify=function(t){return oe(ue(s(s({},e.payloadify.call(this,t)),{id:t.id,title:t.title,created_at:t.createdAt,updated_at:t.updatedAt,close_at:t.closeAt,status:t.status,message_id:t.messageId,data:t.data,voter_count:t.voterCount,options:t.options.map((function(e){return pa.payloadify(e)})),created_by:t.createdBy,allow_user_suggestion:t.allowUserSuggestion,allow_multiple_votes:t.allowMultipleVotes,voted_option_ids:t.votedPollOptionIds})))},t.prototype.applyPollUpdateEvent=function(e){var t=e._payload.poll;return!(!t||this.id!==t.id||t.updated_at<this.updatedAt||(this._applyPollUpdatePayload(t),0))},t.prototype.applyPollVoteEvent=function(e){if(this.id!==e.pollId)return!1;var t=this.options,n=t.map((function(e){return e.id})),r=e._payload,i=Math.floor(r.ts/1e3);return r.updated_vote_counts.forEach((function(e){var r=n.indexOf(e.option_id);if(r>-1){var s=t[r];i>=s._lastVotedAt&&(s.voteCount=e.vote_count,s._lastVotedAt=i)}})),r.req_id&&r.voted_option_ids&&(this.votedPollOptionIds=r.voted_option_ids),"number"==typeof r.voter_count&&(this.voterCount=r.voter_count),!0},t.prototype.serialize=function(){return Ji(this)},t}(Vi),ga=function(){function e(e,t){var n;this.limit=20,this._isLoading=!1,this._hasNext=!0,this._token="",this._iid=e,this.limit=null!==(n=t.limit)&&void 0!==n?n:20}return Object.defineProperty(e.prototype,"hasNext",{get:function(){return this._hasNext},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._isLoading},enumerable:!1,configurable:!0}),e.prototype._validate=function(){return T("number",this.limit)&&this.limit>0},e}(),ya=function(e){function t(t,n,r,i){var s=e.call(this,t,i)||this;return s.channelUrl=n,s.channelType=r,s}return i(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&T("string",this.channelUrl)&&k(V,this.channelType)},t}(ga),va=function(e){this.pollId=0,this.messageId=0,this.pollId=e.poll_id,this.messageId=e.message_id,this._payload=e},ba=function(e){function t(t){var n=t.title,r=t.optionTexts,i=t.data,s=t.allowUserSuggestion,a=t.allowMultipleVotes,o=t.closeAt,u=e.call(this)||this;return u.method=ce.POST,u.path=Me,u.params={title:n,options:r,data:i,allow_user_suggestion:s,allow_multiple_votes:a,close_at:o},u}return i(t,e),t}(Ue),Ma=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.poll=new ma(t,n),r}return i(t,e),t}(Pe),Ea=function(e){function t(t){var n=t.channelUrl,r=t.channelType,i=t.pollId,s=e.call(this)||this;return s.method=ce.GET,s.path="".concat(Me,"/").concat(encodeURIComponent(i)),s.params={channel_url:n,channel_type:r},s}return i(t,e),t}(Ue),La=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.poll=new ma(t,n),r}return i(t,e),t}(Pe),wa=function(e){function t(t){var n=t.channelUrl,r=t.channelType,i=t.pollId,s=t.pollOptionId,a=e.call(this)||this;return a.method=ce.GET,a.path="".concat(Me,"/").concat(encodeURIComponent(i),"/options/").concat(encodeURIComponent(s)),a.params={channel_url:n,channel_type:r},a}return i(t,e),t}(Ue),Ta=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.pollOption=new pa(t,n),r}return i(t,e),t}(Pe),ka=function(e){function t(t){var n=t.channelType,r=t.channelUrl,i=t.timestamp,s=t.token,a=e.call(this)||this;return a.method=ce.GET,a.path="".concat(Ae(n),"/").concat(encodeURIComponent(r),"/polls/changelogs"),a.params=oe({change_ts:i,token:s}),a}return i(t,e),t}(Ue),Sa=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.updatedPolls=n.updated.map((function(e){return function(e,t){return new ma(e,t)}(t,e)})),r.deletedPollIds=n.deleted.map((function(e){return e})),r.hasMore=n.has_more,r.nextToken=n.next,r}return i(t,e),t}(Pe),Da={title:"",optionTexts:[],data:void 0,allowUserSuggestion:void 0,allowMultipleVotes:void 0,closeAt:-1},Ca=function(e){return T("string",e.title)&&(t=e.optionTexts,D("string",t)&&t.every((function(e){return""!==e.trim()})))&&fa(e.data)&&T("boolean",e.allowUserSuggestion,!0)&&T("boolean",e.allowMultipleVotes,!0)&&T("number",e.closeAt,!0);var t},Aa={channelUrl:"",channelType:V.BASE,pollId:0,pollOptionId:0},Ia=function(e){return T("string",e.channelUrl)&&""!==e.channelUrl&&k(V,e.channelType)&&T("number",e.pollId)&&e.pollId>0&&T("number",e.pollOptionId)&&e.pollOptionId>0},Na={channelUrl:"",channelType:V.BASE,pollId:0},Ya=function(e){return T("string",e.channelUrl)&&""!==e.channelUrl&&k(V,e.channelType)&&T("number",e.pollId)},Oa={},xa=function(){function e(e,t){var n=t.sdkState,r=t.dispatcher,i=t.sessionManager,s=t.requestQueue,a=t.logger;this._iid=e,this._sdkState=n,this._sessionManager=i,this._requestQueue=s,this._dispatcher=r,this._logger=a,Oa[e]=this}return e.of=function(e){return Oa[e]},e.prototype.buildPollFromSerializedData=function(e){var t=Zi(e);return new ma(this._iid,ma.payloadify(t))},e.prototype.get=function(e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return Xi(Ya(e)).throw(M.invalidParameters),t=new Ea(s({},e)),[4,this._requestQueue.send(t)];case 1:return[2,n.sent().as(La).poll]}}))}))},e.prototype.create=function(e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return Xi(Ca(e)).throw(M.invalidParameters),t=new ba(s({},e)),[4,this._requestQueue.send(t)];case 1:return[2,n.sent().as(Ma).poll]}}))}))},e.prototype.getOption=function(e){return o(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return Xi(Ia(e)).throw(M.invalidParameters),t=new wa(s({},e)),[4,this._requestQueue.send(t)];case 1:return[2,n.sent().as(Ta).pollOption]}}))}))},e.prototype.getPollChangeLogs=function(e,t,n,r){return void 0===r&&(r=Bs.SYNC_POLL_CHANGELOGS),o(this,void 0,void 0,(function(){var i,s,a,o,c,l,d;return u(this,(function(u){switch(u.label){case 0:return i=new ka(ue({channelType:t,channelUrl:e,timestamp:"number"==typeof n?n:null,token:"string"==typeof n?n:null})),[4,this._requestQueue.send(i)];case 1:return s=u.sent(),a=s.as(Sa),o=a.updatedPolls,c=a.deletedPollIds,l=a.hasMore,d=a.nextToken,o.length>0&&this._dispatcher.dispatch(new ca({polls:o,source:r})),[2,{updatedPolls:o,deletedPollIds:c,hasMore:l,token:d}]}}))}))},e}(),Ua=function(e){function t(t){var n=t.channelUrl,r=t.channelType,i=t.token,s=t.limit,a=e.call(this)||this;return a.method=ce.GET,a.path=Me,a.params={channel_url:n,channel_type:r,token:i,limit:s},a}return i(t,e),t}(Ue),Pa=function(e){function t(t,n){var r,i=this;return(i=e.call(this,t,n)||this).polls=(null!==(r=n.polls)&&void 0!==r?r:[]).map((function(e){return new ma(t,e)})),i.token=n.next,i}return i(t,e),t}(Pe),Ra=function(e){function t(t,n){return e.call(this,t,n.channelUrl,n.channelType,n)||this}return i(t,e),t.prototype.next=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,i,a;return u(this,(function(o){switch(o.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=ea.of(this._iid).requestQueue,t=new Ua(s(s({},this),{token:this._token})),[4,e.send(t)]):[3,2]:[3,5];case 1:return n=o.sent(),r=n.as(Pa),i=r.polls,a=r.token,this._token=a,this._hasNext=!!a,this._isLoading=!1,[2,i];case 2:return[2,[]];case 3:throw M.queryInProgress;case 4:return[3,6];case 5:throw M.invalidParameters;case 6:return[2]}}))}))},t}(ya),Ha=function(e){function t(t){var n=t.channelUrl,r=t.channelType,i=t.pollId,s=t.pollOptionId,a=t.token,o=t.limit,u=e.call(this)||this;return u.method=ce.GET,u.path="".concat(Me,"/").concat(encodeURIComponent(i),"/options/").concat(encodeURIComponent(s),"/voters"),u.params={channel_url:n,channel_type:r,token:a,limit:o},u}return i(t,e),t}(Ue),Fa=function(e){function t(t,n){var r,i=this;return(i=e.call(this,t,n)||this).voters=(null!==(r=n.voters)&&void 0!==r?r:[]).map((function(e){return new es(t,e)})),i.token=n.next,i}return i(t,e),t}(Pe),ja=function(e){function t(t,n){var r=e.call(this,t,n.channelUrl,n.channelType,n)||this;return r.pollId=n.pollId,r.pollOptionId=n.pollOptionId,r}return i(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&T("number",this.pollId)&&T("number",this.pollOptionId)},t.prototype.next=function(){return o(this,void 0,void 0,(function(){var e,t,n,r,i,a;return u(this,(function(o){switch(o.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=ea.of(this._iid).requestQueue,t=new Ha(s(s({},this),{pollId:this.pollId,pollOptionId:this.pollOptionId,token:this._token})),[4,e.send(t)]):[3,2]:[3,5];case 1:return n=o.sent(),r=n.as(Fa),i=r.voters,a=r.token,this._token=a,this._hasNext=!!a,this._isLoading=!1,[2,i];case 2:return[2,[]];case 3:throw M.queryInProgress;case 4:return[3,6];case 5:throw M.invalidParameters;case 6:return[2]}}))}))},t}(ya)},51698:(e,t,n)=>{"use strict";n.d(t,{$:()=>Q,A:()=>Jr,B:()=>Qn,C:()=>jn,F:()=>Xn,G:()=>Le,I:()=>Qr,K:()=>ni,L:()=>ti,M:()=>ei,N:()=>bn,Q:()=>mn,S:()=>Vn,T:()=>ee,U:()=>qn,V:()=>U,Y:()=>E,Z:()=>P,_:()=>x,a:()=>gn,a0:()=>te,a1:()=>ki,a2:()=>c,a3:()=>Lt,a4:()=>ht,a5:()=>xt,a6:()=>Yt,a7:()=>It,a8:()=>St,a9:()=>Ct,aA:()=>Ie,aB:()=>Pn,aC:()=>He,aD:()=>Ce,aE:()=>Pe,aF:()=>Dn,aG:()=>we,aH:()=>L,aI:()=>en,aJ:()=>Rn,aK:()=>u,aL:()=>o,aM:()=>vi,aN:()=>d,aa:()=>pn,ab:()=>V,ac:()=>w,ad:()=>q,ae:()=>zt,af:()=>Wt,ag:()=>W,ah:()=>Vt,ai:()=>se,aj:()=>vn,ak:()=>X,al:()=>Ti,am:()=>je,an:()=>Ve,ao:()=>qe,ap:()=>ze,aq:()=>a,ar:()=>v,as:()=>m,at:()=>$,au:()=>Yi,av:()=>An,aw:()=>ai,ax:()=>oi,ay:()=>ui,az:()=>ci,b:()=>yn,c:()=>Mn,d:()=>li,e:()=>di,f:()=>wn,g:()=>ii,h:()=>Tn,i:()=>kn,j:()=>Sn,k:()=>En,l:()=>Ln,m:()=>si,n:()=>Xr,o:()=>Wr,p:()=>Zr,q:()=>Ui,r:()=>Wn,s:()=>Ai,t:()=>pi,u:()=>_i,v:()=>Kr,w:()=>$r,x:()=>er,z:()=>Fn});var r,i,s=n(27364),a=function(){function e(e,t,n){var r,i;this.width=0,this.height=0,this.realWidth=0,this.realHeight=0,this._requireAuth=!1,this._iid=e,this.plainUrl=t.url,this.width=t.width,this.height=t.height,this.realWidth=null!==(r=t.real_width)&&void 0!==r?r:t.width,this.realHeight=null!==(i=t.real_height)&&void 0!==i?i:t.height,this._requireAuth=n}return e.payloadify=function(t){return(0,s.e)((0,s.u)(t instanceof e?{url:t.plainUrl,width:t.width,height:t.height,real_width:t.realWidth,real_height:t.realHeight}:{url:"",width:t.maxWidth,height:t.maxHeight,real_width:0,real_height:0}))},Object.defineProperty(e.prototype,"url",{get:function(){var e=s.V.of(this._iid).sessionManager;return this._requireAuth&&e.ekey?"".concat(this.plainUrl,"?auth=").concat(e.ekey):this.plainUrl},enumerable:!1,configurable:!0}),e}(),o=function(e){function t(t){var n=e.call(this)||this;if(n.method=s.A.POST,n.path="".concat(s.af),n.params=(0,s.e)({file:t.file,channel_url:t.channelUrl}),t.thumbnailSizes)for(var r=0;r<t.thumbnailSizes.length;r++){var i=t.thumbnailSizes[r],a=i.maxWidth,o=i.maxHeight;n.params["thumbnail".concat(r+1)]="".concat(a,",").concat(o)}return n.requestId=t.requestId,n}return(0,s.c)(t,e),t}(s.f),u=function(e){function t(t,n){var r,i,s,o,u=this;return(u=e.call(this,t,n)||this).url=n.url,u.fileSize=null!==(r=n.file_size)&&void 0!==r?r:0,u.thumbnails=null!==(s=null===(i=n.thumbnails)||void 0===i?void 0:i.map((function(e){return new a(t,e,!1)})))&&void 0!==s?s:[],u.requireAuth=null!==(o=n.require_auth)&&void 0!==o&&o,u}return(0,s.c)(t,e),t}(s.h),c=function(e){function t(t,n){var r,i,a,o,u,c=this;return(c=e.call(this,t)||this).replyCount=0,c.memberCount=0,c.lastRepliedAt=0,c.updatedAt=0,c.replyCount=null!==(r=n.reply_count)&&void 0!==r?r:0,c.memberCount=null!==(i=n.member_count)&&void 0!==i?i:0,c.mostRepliedUsers=n.most_replies&&(0,s.Q)("object",n.most_replies)?n.most_replies.map((function(e){return new s.U(c._iid,e)})):[],c.unreadReplyCount=null!==(a=n.unread_message_count)&&void 0!==a?a:0,c.isPushNotificationEnabled="number"==typeof n.push_enabled?n.push_enabled>0:void 0,c.lastRepliedAt=null!==(o=n.last_replied_at)&&void 0!==o?o:0,c.updatedAt=null!==(u=n.updated_at)&&void 0!==u?u:0,c}return(0,s.c)(t,e),t.payloadify=function(t){return(0,s.e)((0,s.u)((0,s.g)((0,s.g)({},e.payloadify.call(this,t)),{reply_count:t.replyCount,unread_message_count:t.unreadReplyCount,member_count:t.memberCount,most_replies:Array.isArray(t.mostRepliedUsers)?t.mostRepliedUsers.map((function(e){return s.U.payloadify(e)})):[],push_enabled:"boolean"==typeof t.isPushNotificationEnabled?t.isPushNotificationEnabled?1:0:void 0,last_replied_at:t.lastRepliedAt,updated_at:t.updatedAt})))},Object.defineProperty(t.prototype,"_isUpdateRequired",{get:function(){return void 0===this.unreadReplyCount||void 0===this.isPushNotificationEnabled},enumerable:!1,configurable:!0}),t.prototype._updateFrom=function(e){var t,n;this.unreadReplyCount=null!==(t=e.unreadReplyCount)&&void 0!==t?t:this.unreadReplyCount,this.isPushNotificationEnabled=null!==(n=e.isPushNotificationEnabled)&&void 0!==n?n:this.isPushNotificationEnabled},t}(s.ag);(i=r||(r={})).ADD="add",i.DELETE="delete";var l,d=function(e){var t;this.messageId=0,this.operation=null,this.updatedAt=0;var n=(0,s.a)("string",e.msg_id)?parseInt(e.msg_id):e.msg_id,i=e.user_id,a=e.operation?e.operation.toLowerCase():null,o=e.reaction,u=e.updated_at,c=e.count,l=e.sampled_user_ids,d=null!==(t=e.sampled_user_info)&&void 0!==t?t:{};n&&(0,s.a)("string",i)&&(0,s.a)("string",a)&&(0,s.X)(r,a)&&(0,s.a)("string",o)&&o&&(0,s.a)("number",u)&&(this.messageId=n,this.userId=i,this.key=o,this.operation=a,this.updatedAt=u,this._count=c,this._sampledUserIds=l,this._sampledUserInfoList=d)},h=function(e){function t(t,n,r){var i,s=this;return(s=e.call(this,t)||this).userId=n,s.nickname=r.nickname,s.plainProfileUrl=r.profile_url,s.requireAuth=null!==(i=r.require_auth_for_profile_image)&&void 0!==i&&i,s}return(0,s.c)(t,e),Object.defineProperty(t.prototype,"profileUrl",{get:function(){var e=s.V.of(this._iid).sessionManager;return this.requireAuth&&e.ekey?"".concat(this.plainProfileUrl,"?auth=").concat(e.ekey):this.plainProfileUrl},enumerable:!1,configurable:!0}),t.payloadify=function(e){return{nickname:e.nickname,profile_url:e.plainProfileUrl,require_auth_for_profile_image:e.requireAuth}},t}(s.ag),_=function(e){function t(t,n){var r,i,a,o,u,c,l,d,_,f=this;(f=e.call(this,t)||this)._sampledUserInfoList=[],f._count=0,f._hasCurrentUserReacted=!1;var p=n.key,m=(0,s.p)([],(0,s.q)(null!==(o=null!==(a=n.sampled_user_ids)&&void 0!==a?a:n.user_ids)&&void 0!==o?o:[]),!1),g=null!==(c=null!==(u=n.last_ts)&&void 0!==u?u:n.updated_at)&&void 0!==c?c:0,y=null!==(l=n.is_self_included)&&void 0!==l?l:m.includes(s.V.of(t).sdkState.userId),v=null!==(d=n.sampled_user_info)&&void 0!==d?d:{};(0,s.a)("string",p)&&p&&(0,s.Q)("string",m)&&m.length>0&&(0,s.a)("number",g)&&(f.key=p,f._sampledUserIds=m,f._updatedAt=g,f._count=null!==(_=n.count)&&void 0!==_?_:m.length,f._hasCurrentUserReacted=y,Object.keys(v).forEach((function(e){f._sampledUserInfoList.push(new h(t,e,v[e]))})));var b={};try{for(var M=(0,s.t)(f.sampledUserIds),E=M.next();!E.done;E=M.next())b[E.value]=f.updatedAt}catch(t){r={error:t}}finally{try{E&&!E.done&&(i=M.return)&&i.call(M)}finally{if(r)throw r.error}}return f._version=b,f}return(0,s.c)(t,e),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this._count},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userIds",{get:function(){return this._sampledUserIds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sampledUserIds",{get:function(){return this._sampledUserIds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sampledUserInfoList",{get:function(){return this._sampledUserInfoList},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return this._count},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updatedAt",{get:function(){return this._updatedAt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCurrentUserReacted",{get:function(){return this._hasCurrentUserReacted},enumerable:!1,configurable:!0}),t.payloadify=function(e){var t={};return e._sampledUserInfoList.forEach((function(e){t[e.userId]=h.payloadify(e)})),(0,s.e)((0,s.u)({key:e.key,sampled_user_ids:e._sampledUserIds,sampled_user_info:t,count:e._count,is_self_included:e._hasCurrentUserReacted,last_ts:e._updatedAt}))},t.prototype.applyEvent=function(e){var t=this;if(e.key===this.key&&this.updatedAt<=e.updatedAt)if(e._sampledUserIds)this._sampledUserIds=e._sampledUserIds,this._sampledUserInfoList=[],Object.keys(e._sampledUserInfoList).forEach((function(n){t._sampledUserInfoList.push(new h(t._iid,n,e._sampledUserInfoList[n]))})),this._count=e._count,void 0!==e._hasCurrentUserReacted&&(this._hasCurrentUserReacted=e._hasCurrentUserReacted),this._updatedAt=e.updatedAt;else{if(!this._version[e.userId]||this._version[e.userId]<=e.updatedAt){var n=this._sampledUserIds.indexOf(e.userId);switch(e.operation){case r.ADD:n<0&&this._sampledUserIds.push(e.userId);break;case r.DELETE:n>=0&&this._sampledUserIds.splice(n,1)}this._count=this._sampledUserIds.length,this._version[e.userId]=e.updatedAt}this._updatedAt=Math.max(this.updatedAt,e.updatedAt)}},t}(s.ag),f=function(){function e(e){this.secureUrl=null,this.type=null,this.width=0,this.height=0,this.alt=null,this.url=e.url,e.secure_url&&(this.secureUrl=e.secure_url),e.type&&(this.type=e.type),e.width&&(this.width=e.width),e.height&&(this.height=e.height),e.alt&&(this.alt=e.alt)}return e.payloadify=function(e){var t,n;return(0,s.e)((0,s.u)({url:e.url,secure_url:e.secureUrl,type:e.type,width:null!==(t=e.width)&&void 0!==t?t:0,height:null!==(n=e.height)&&void 0!==n?n:0,alt:e.alt}))},e}(),p=function(){function e(e){this.title=null,this.url=null,this.description=null,this.defaultImage=null,e["og:title"]&&(this.title=e["og:title"]),e["og:url"]&&(this.url=e["og:url"]),e["og:description"]&&(this.description=e["og:description"]),e["og:image"]&&(this.defaultImage=new f(e["og:image"]))}return e.payloadify=function(e){return(0,s.e)((0,s.u)({"og:title":e.title,"og:url":e.url,"og:description":e.description,"og:image":e.defaultImage?f.payloadify(e.defaultImage):null}))},e}(),m=function(){function e(e){var t,n;this.volume=0,this.name=null!==(t=e.name)&&void 0!==t?t:"default",this.volume=null!==(n=e.volume)&&void 0!==n?n:1}return e.prototype.serialize=function(){return{name:this.name,volume:this.volume}},e.payloadify=function(e){return(0,s.e)((0,s.u)({name:e.name,volume:e.volume}))},e}();!function(e){e.GOOD="good",e.BAD="bad"}(l||(l={}));var g=function(){function e(e){this.id=e.id,this.rating=e.rating,this.comment=e.comment}return e._getStatus=function(e){return e?"id"in e?"SUBMITTED":"NO_FEEDBACK":"NOT_APPLICABLE"},e._isSubmitted=function(t){return"SUBMITTED"===e._getStatus(t)},e._getPayloadByStatus=function(e){return"NO_FEEDBACK"===e?{}:null},e.payloadify=function(e){return(0,s.e)((0,s.u)({id:e.id,rating:e.rating,comment:e.comment}))},e}(),y=function(e){function t(t,n){var r,i=this;return(i=e.call(this,t,n)||this).isBlockedByMe=!1,i.role=(0,s.X)(s.a8,n.role)?n.role:s.a8.NONE,i.isBlockedByMe=null!==(r=n.is_blocked_by_me)&&void 0!==r&&r,i}return(0,s.c)(t,e),t.payloadify=function(t){return(0,s.e)((0,s.u)((0,s.g)((0,s.g)({},e.payloadify.call(this,t)),{role:t.role,is_blocked_by_me:t.isBlockedByMe})))},t}(s.U),v=function(){function e(e){this.key=e.key,this.value=(0,s.Q)("string",e.value)?(0,s.p)([],(0,s.q)(e.value),!1):[]}return e.payloadify=function(e){var t;return(0,s.e)((0,s.u)({key:e.key,value:null!==(t=e.value)&&void 0!==t?t:[]}))},e}(),b=function(e){switch(e){case s.ai.BASE:return"";case s.ai.USER:return"MESG";case s.ai.FILE:return"FILE";case s.ai.ADMIN:return"ADMM"}},M=function(e){function t(t,n){var r,i,a,o,u,c,l,d,h,_=this;(_=e.call(this,t)||this).channelType=s.C.BASE,_.messageType=s.ai.BASE,_.mentionType=null,_.mentionedUsers=null,_.mentionedUserIds=null,_.mentionedMessageTemplate=void 0,_.metaArrays=[],_.extendedMessage={},_.createdAt=0,_.updatedAt=0,_.channelUrl=n.channel_url,_.channelType=(0,s.X)(s.C,n.channel_type)?n.channel_type:s.C.GROUP,n.channel&&(n.channel.channel_url&&(_.channelUrl=n.channel.channel_url),n.channel.channel_type&&(_.channelType=n.channel.channel_type)),_.data=null!==(r=n.data)&&void 0!==r?r:"",_.customType=null!==(i=n.custom_type)&&void 0!==i?i:"",_.mentionType=(0,s.X)(s.ak,n.mention_type)?n.mention_type:null,_.mentionedUsers=n.mentioned_users?n.mentioned_users.map((function(e){return new s.U(_._iid,e)})):null,_.mentionedUserIds=null!==(a=n.mentioned_user_ids)&&void 0!==a?a:null,_.mentionedUsers&&!_.mentionedUserIds&&(_.mentionedUserIds=_.mentionedUsers.map((function(e){return e.userId}))),_.mentionedMessageTemplate=n.mentioned_message_template;var f=null!==(o=n.metaarray)&&void 0!==o?o:{},p=null!==(u=n.metaarray_key_order)&&void 0!==u?u:Object.keys(f).sort((function(e,t){return e.localeCompare(t)}));_.metaArrays=[];for(var m=0;m<p.length;m++){var g=p[m];_.metaArrays.push(new v({key:g,value:f[g]||[]}))}return n.sorted_metaarray&&(_.metaArrays=n.sorted_metaarray.map((function(e){return new v(e)}))),_.extendedMessage=null!==(c=n.extended_message)&&void 0!==c?c:{},_.extendedMessagePayload=n.extended_message_payload,_.createdAt=null!==(d=null!==(l=n.created_at)&&void 0!==l?l:n.ts)&&void 0!==d?d:0,_.updatedAt=null!==(h=n.updated_at)&&void 0!==h?h:0,_}return(0,s.c)(t,e),t.payloadify=function(t){var n,r;return(0,s.e)((0,s.u)((0,s.g)((0,s.g)({},e.payloadify.call(this,t)),{channel_url:t.channelUrl,channel_type:t.channelType,type:b(t.messageType),data:t.data,custom_type:t.customType,mention_type:t.mentionType,mentioned_user_ids:t.mentionedUserIds,mentioned_users:null===(n=t.mentionedUsers)||void 0===n?void 0:n.map((function(e){return s.U.payloadify(e)})),mentioned_message_template:t.mentionedMessageTemplate,sorted_metaarray:null===(r=t.metaArrays)||void 0===r?void 0:r.map((function(e){return v.payloadify(e)})),extended_message:t.extendedMessage,extended_message_payload:t.extendedMessagePayload,created_at:t.createdAt,updated_at:t.updatedAt})))},t.prototype.isIdentical=function(e){return!0},t.prototype.isEqual=function(e){return(0,s.ah)(this,e)},t.prototype.isUserMessage=function(){return this.messageType===s.ai.USER},t.prototype.isFileMessage=function(){return this.messageType===s.ai.FILE&&!Object.prototype.hasOwnProperty.call(this,"fileInfoList")},t.prototype.isMultipleFilesMessage=function(){return this.messageType===s.ai.FILE&&Object.prototype.hasOwnProperty.call(this,"fileInfoList")},t.prototype.isAdminMessage=function(){return this.messageType===s.ai.ADMIN},t.prototype.serialize=function(){return(0,s.aj)(this)},t.prototype.getMetaArraysByKeys=function(e){return this.metaArrays.filter((function(t){return e.includes(t.key)}))},t}(s.ag),E=function(e){function t(t,n){var r,i,a=this;return(a=e.call(this,t)||this).channelUrl=null!==(r=n.channel_url)&&void 0!==r?r:"",a.channelType=null!==(i=n.channel_type)&&void 0!==i?i:s.C.GROUP,a.reader=new s.U(a._iid,n.user),a.readAt=n.ts,a}return(0,s.c)(t,e),t}(s.ag),L=function(e){function t(t){var n=t.channelUrl;return e.call(this,{code:"READ",ackRequired:!0,payload:{channel_url:n}})||this}return(0,s.c)(t,e),t}(s.al),w=(function(e){(0,s.c)((function(t){var n=e.call(this)||this,r=t.channelUrl,i=t.channelType,a=t.userId,o=t.notificationIds;return n.method=s.A.PUT,n.path="".concat((0,s.am)(i),"/").concat(encodeURIComponent(r),"/messages/mark_as_read"),n.params=(0,s.e)((0,s.u)({user_id:a,message_ids:o})),n}),e)}(s.f),function(e){function t(t,n,r){var i=e.call(this,t,"READ",r)||this;return i.readStatus=new E(t,r),i}return(0,s.c)(t,e),t}(s.W)),T=(function(e){(0,s.c)((function(t,n){var r=e.call(this,t,n)||this;return r.readAt=n.ts,r.unreadMessageCount=n.unread_message_count,r}),e)}(s.h),function(e){function t(t){var n=t.channelUrl,r=t.messageId;return e.call(this,{code:"READ",ackRequired:!0,payload:{channel_url:n,parent_message_id:r}})||this}return(0,s.c)(t,e),t}(s.al)),k=function(e){function t(t){var n=t.channelType,r=t.channelUrl,i=t.messageId,a=t.pushEnabled,o=e.call(this)||this;return o.method=s.A.PUT,o.path="".concat((0,s.am)(n),"/").concat(encodeURIComponent(r),"/messages/").concat(i,"/thread_push"),o.params={push_enabled:a},o}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(t,n){return e.call(this,t,n)||this}),e)}(s.h);var S=function(e){function t(t){var n=t.channelType,r=t.channelUrl,i=t.messageId,a=t.rating,o=t.comment,u=e.call(this)||this;return u.method=s.A.POST,u.path="".concat((0,s.am)(n),"/").concat(encodeURIComponent(r),"/messages/").concat(i,"/feedbacks"),u.params={rating:a,comment:o},u}return(0,s.c)(t,e),t}(s.f),D=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.feedback=new g(n),r}return(0,s.c)(t,e),t}(s.h),C=function(e){function t(t){var n=t.channelType,r=t.channelUrl,i=t.messageId,a=t.feedbackId,o=t.rating,u=t.comment,c=e.call(this)||this;return c.method=s.A.PUT,c.path="".concat((0,s.am)(n),"/").concat(encodeURIComponent(r),"/messages/").concat(i,"/feedbacks/").concat(a),c.params={rating:o,comment:u},c}return(0,s.c)(t,e),t}(s.f),A=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.feedback=new g(n),r}return(0,s.c)(t,e),t}(s.h),I=function(e){function t(t){var n=t.channelType,r=t.channelUrl,i=t.messageId,a=t.feedbackId,o=e.call(this)||this;return o.method=s.A.DELETE,o.path="".concat((0,s.am)(n),"/").concat(encodeURIComponent(r),"/messages/").concat(i,"/feedbacks/").concat(a),o}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(t,n){var r=e.call(this,t,n)||this;return r.feedback=new g(n),r}),e)}(s.h);var N,Y,O=function(e){function t(t,n){var r,i,o,u,c,l=this;return(l=e.call(this,t)||this).plainUrl="",l.fileName=null,l.mimeType=null,l.fileSize=0,l.thumbnails=[],l._requireAuth=!1,l.plainUrl=null!==(r=n.url)&&void 0!==r?r:"",l.fileName=null!==(i=n.file_name)&&void 0!==i?i:null,l.mimeType=null!==(o=n.file_type)&&void 0!==o?o:null,l.fileSize=null!==(u=n.file_size)&&void 0!==u?u:0,l._requireAuth=null!==(c=n.require_auth)&&void 0!==c&&c,l.thumbnails=n.thumbnails?n.thumbnails.map((function(e){var t;return new a(l._iid,"string"==typeof e?{url:e,width:0,height:0}:(0,s.g)((0,s.g)({},e),{url:(null!==(t=e.url)&&void 0!==t?t:"").split("auth=")[0]}),l._requireAuth)})):[],l}return(0,s.c)(t,e),t.payloadify=function(e){var t;return(0,s.e)((0,s.u)({url:e.plainUrl,file_name:e.fileName,file_type:e.mimeType,file_size:e.fileSize,thumbnails:null===(t=e.thumbnails)||void 0===t?void 0:t.map((function(e){var t;return{url:(null!==(t=e.plainUrl)&&void 0!==t?t:"").split("auth=")[0],width:e.width,height:e.height,real_width:e.realWidth,real_height:e.realHeight}})),require_auth:e._requireAuth}))},Object.defineProperty(t.prototype,"url",{get:function(){var e=s.V.of(this._iid).sessionManager;return this._requireAuth&&e.ekey?"".concat(this.plainUrl,"?auth=").concat(e.ekey):this.plainUrl},enumerable:!1,configurable:!0}),t}(s.ag),x=function(e){var t=e.channelUrl,n=e.channelType,r=e.parentMessage;this.channelUrl=t,this.channelType=n,this.parentMessage=r};!function(e){e.NUMBER="number",e.ENUM="enum",e.TEXT="text",e.REGEX="regex",e.DECIMAL_PLACE="decimal_place"}(N||(N={})),function(e){e.TEXT="text",e.TEXTAREA="textarea",e.NUMBER="number",e.PHONE="phone",e.EMAIL="email",e.CHIP="chip"}(Y||(Y={}));var U,P,R=function(){function e(e,t){var n=t.id,r=t.name,i=t.items,s=t.version,a=t.is_submitted;this.messageId=e,this.id=n,this.name=r,this.items=i.map((function(e){return new H(e)})).sort((function(e,t){return e.sortOrder-t.sortOrder})),this.version=null!=s?s:1,this._isSubmitted=a}return Object.defineProperty(e.prototype,"isSubmitted",{get:function(){var e;return null!==(e=this._isSubmitted)&&void 0!==e?e:this.items.some((function(e){return Array.isArray(e.submittedValues)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSubmittable",{get:function(){return this.items.every((function(e){return e.required?!!(Array.isArray(e.draftValues)&&e.draftValues.length>0)&&e.isValid(e.draftValues):!(Array.isArray(e.draftValues)&&e.draftValues.length>0)||e.isValid(e.draftValues)}))},enumerable:!1,configurable:!0}),e.payloadify=function(e){return(0,s.e)((0,s.u)({id:e.id,name:e.name,items:e.items.map((function(e){return H.payloadify(e)})),version:e.version,is_submitted:e._isSubmitted}))},e.isMessageFormPayload=function(e){return Boolean(null==e?void 0:e.message_form)},e}(),H=function(){function e(e){var t=e.id,n=e.name,r=e.required,i=e.sort_order,a=e.placeholder,o=e.style,u=e.item_type,c=e.validators,l=e.value,d=e.values;this.id=t,this.name=n,this.required=r,this.sortOrder=i,this.placeholder=a,0===Object.keys(o).length?this.style={layout:u}:this.style=(0,s.e)({layout:o.layout,options:o.options,defaultOptions:o.default_options,resultCount:o.result_count}),d?this.submittedValues=d:l&&(this.submittedValues=[l]),this._validators=c}return e.prototype.isValid=function(e){var t=this;return e.every((function(e){var n=function(e,t){return t.every((function(t){switch(t.key){case N.NUMBER:var n=Number(e);return!(isNaN(n)||t.min&&"number"!=typeof t.min||t.max&&"number"!=typeof t.max||"number"==typeof t.min&&n<t.min||"number"==typeof t.max&&n>t.max);case N.ENUM:return"string"==typeof e&&(!(t.enums&&Array.isArray(t.enums)&&t.enums.length>0&&!t.enums.includes(e))||t.allow_other);case N.TEXT:return!("string"!=typeof e||"number"==typeof t.min_length&&e.length<t.min_length||"number"==typeof t.max_length&&e.length>t.max_length);case N.REGEX:if("string"!=typeof e)return!1;if(t.regex){if("string"!=typeof t.regex)return!1;if(!new RegExp(t.regex).test(e))return!1}return!0;case N.DECIMAL_PLACE:return 0!==e.length&&(n=Number(e),!(isNaN(n)||(!t.max_decimal_place||"number"==typeof t.max_decimal_place)&&t.max_decimal_place&&!function(e,t){var n=e.toString(),r=n.indexOf(".");return-1===r||n.slice(r+1).length<=t}(n,t.max_decimal_place)));default:return!0}}))}(e,t._validators);return n}))},e.payloadify=function(e){return(0,s.e)((0,s.u)({id:e.id,name:e.name,required:e.required,sort_order:e.sortOrder,placeholder:e.placeholder,style:(0,s.e)({layout:e.style.layout,options:e.style.options,default_options:e.style.defaultOptions,result_count:e.style.resultCount}),item_type:e.style.layout,validators:e._validators,values:e.submittedValues}))},e}(),F=function(e){function t(t){var n=e.call(this)||this;return n.method=s.A.POST,n.path="".concat(s.an,"/").concat(t.formId,"/submit"),n.params=(0,s.e)({message_id:t.messageId,items:t.items}),n}return(0,s.c)(t,e),t}(s.f);!function(e){e.PENDING="pending",e.SENT="sent",e.FAILED="failed",e.CANCELED="canceled"}(U||(U={})),function(e){e.PENDING="pending",e.IN_QUEUE="in_queue",e.SENT="sent",e.FAILED="failed",e.CANCELED="canceled",e.REMOVED="removed"}(P||(P={}));var j,V=function(e){function t(t,n){var r,i,s,a,o,u,l,d,h,f=this;return(f=e.call(this,t,n)||this).parentMessage=null,f.silent=!1,f.isOperatorMessage=!1,f.threadInfo=null,f.reactions=[],f.appleCriticalAlertOptions=null,f.scheduledInfo=null,f.suggestedReplies=null,f.myFeedback=null,f.myFeedbackStatus="NOT_APPLICABLE",f.messageForm=null,f._isContinuousMessages=!1,f._scheduledStatus=null,f.messageId=null!==(i=null!==(r=n.msg_id)&&void 0!==r?r:n.message_id)&&void 0!==i?i:0,f.parentMessageId=null!==(s="string"==typeof n.parent_message_id?parseInt(n.parent_message_id):n.parent_message_id)&&void 0!==s?s:0,f.threadInfo=n.thread_info?new c(f._iid,n.thread_info):null,n.reactions_summary?f.reactions=n.reactions_summary.map((function(e){return new _(t,e)})):n.reactions?f.reactions=n.reactions.map((function(e){return new _(t,e)})):f.reactions=[],f.ogMetaData=n.og_tag?new p(n.og_tag):null,f.silent=null!==(a=n.silent)&&void 0!==a&&a,f.isOperatorMessage=null!==(o=n.is_op_msg)&&void 0!==o&&o,f.appleCriticalAlertOptions=n.apple_critical_alert_options?new m(n.apple_critical_alert_options):null,"number"==typeof n.scheduled_message_id&&"number"==typeof n.scheduled_at&&n.scheduled_status&&(f.scheduledInfo={scheduledMessageId:n.scheduled_message_id,scheduledAt:n.scheduled_at},f._scheduledStatus=n.scheduled_status),f._isContinuousMessages=null!==(u=n.is_continuous_messages)&&void 0!==u&&u,f.myFeedback=g._isSubmitted(n.feedback)?new g(n.feedback):null,f.myFeedbackStatus=g._getStatus(n.feedback),f.suggestedReplies=null!==(d=null===(l=n.extended_message_payload)||void 0===l?void 0:l.suggested_replies)&&void 0!==d?d:null,f.messageForm=R.isMessageFormPayload(n.extended_message_payload)?new R(f.messageId,n.extended_message_payload.message_form):null,f.message=null!==(h=n.message)&&void 0!==h?h:"",f}return(0,s.c)(t,e),t.payloadify=function(t){var n,r;return(0,s.e)((0,s.u)((0,s.g)((0,s.g)({},e.payloadify.call(this,t)),{message_id:t.messageId,parent_message_id:t.parentMessageId,thread_info:t.threadInfo?c.payloadify(t.threadInfo):null,reactions_summary:t.reactions.map((function(e){return _.payloadify(e)})),og_tag:t.ogMetaData?p.payloadify(t.ogMetaData):null,silent:t.silent,is_op_msg:t.isOperatorMessage,apple_critical_alert_options:t.appleCriticalAlertOptions?m.payloadify(t.appleCriticalAlertOptions):null,scheduled_message_id:null===(n=t.scheduledInfo)||void 0===n?void 0:n.scheduledMessageId,scheduled_at:null===(r=t.scheduledInfo)||void 0===r?void 0:r.scheduledAt,scheduled_status:t._scheduledStatus,feedback:t.myFeedback?g.payloadify(t.myFeedback):g._getPayloadByStatus(t.myFeedbackStatus),message:t.message})))},t._getParentMessageInfoPayload=function(e){return(0,s.e)((0,s.u)({type:b(e.messageType),ts:e.createdAt,user:e.sender?y.payloadify(e.sender):null,message:e.message,file:{url:e.plainUrl,name:e.name,type:e.type,require_auth:e.requireAuth},files:Array.isArray(e.fileInfoList)?e.fileInfoList.map((function(e){return O.payloadify(e)})):null}))},t.prototype.isIdentical=function(e){return this.messageId===e.messageId},t.prototype.applyThreadInfoUpdateEvent=function(e){return this.messageId===e.targetMessageId&&(e.threadInfo._isUpdateRequired&&this.threadInfo&&e.threadInfo._updateFrom(this.threadInfo),this.threadInfo=e.threadInfo,!0)},t.prototype._findReactionIndex=function(e){for(var t=0;t<this.reactions.length;t++)if(this.reactions[t].key===e)return t;return-1},t.prototype.applyReactionEvent=function(e){var t=s.V.of(this._iid).sdkState;if(this.messageId===e.messageId)switch(e.operation){case r.ADD:e.userId===t.userId&&(e._hasCurrentUserReacted=!0),-1!==(n=this._findReactionIndex(e.key))?this.reactions[n].applyEvent(e):e._sampledUserIds?this.reactions.push(new _(this._iid,{key:e.key,sampled_user_ids:e._sampledUserIds,sampled_user_info:e._sampledUserInfoList,count:e._count,is_self_included:e._hasCurrentUserReacted,last_ts:e.updatedAt})):this.reactions.push(new _(this._iid,{key:e.key,user_ids:[e.userId],updated_at:e.updatedAt}));break;case r.DELETE:var n;-1!==(n=this._findReactionIndex(e.key))&&(e._sampledUserIds?0===e._count?this.reactions.splice(n,1):(e.userId===t.userId&&(e._hasCurrentUserReacted=!1),this.reactions[n].applyEvent(e)):(this.reactions[n].applyEvent(e),this.reactions[n].isEmpty&&this.reactions.splice(n,1)))}},t.prototype.applyParentMessage=function(e){if(!this.parentMessage)return this.parentMessage=e,!0;if(this.parentMessageId===e.messageId){var t=this.parentMessage.updatedAt;if(e.updatedAt>=t)return this.parentMessage=e,!0}return!1},t.prototype._triggerThreadInfoUpdatedEvent=function(){return(0,s._)(this,void 0,void 0,(function(){var e;return(0,s.b)(this,(function(t){return(e=s.V.of(this._iid).dispatcher).dispatch(new x({channelType:s.C.GROUP,channelUrl:this.channelUrl,parentMessage:this})),e.dispatch(new s.ao({messages:[this],source:s.a2.EVENT_MESSAGE_THREADINFO_UPDATED})),[2]}))}))},t.prototype.markThreadAsRead=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return e=s.V.of(this._iid).requestQueue,t=new T({channelUrl:this.channelUrl,messageId:this.messageId}),[4,e.send(t)];case 1:return n.sent(),this.threadInfo&&0!==this.threadInfo.unreadReplyCount?(this.threadInfo.unreadReplyCount=0,[4,this._triggerThreadInfoUpdatedEvent()]):[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.setPushNotificationEnabled=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return t=s.V.of(this._iid).requestQueue,n=new k({channelUrl:this.channelUrl,channelType:this.channelType,messageId:this.messageId,pushEnabled:e}),[4,t.send(n)];case 1:return r.sent(),this.threadInfo&&this.threadInfo.isPushNotificationEnabled!==e&&(this.threadInfo.isPushNotificationEnabled=e),[2]}}))}))},t.prototype.submitMessageForm=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a;return(0,s.b)(this,(function(o){switch(o.label){case 0:if(t=s.V.of(this._iid).requestQueue,n=null,r=null,i=this.messageForm,!e&&i){if(!i.isSubmittable)throw new s.s({code:s.a9.INVALID_PARAMETER,message:"The form is not submittable. Please check all form items are valid before submitting."});if(i.isSubmitted)throw new s.s({code:s.a9.INVALID_PARAMETER,message:"The form has already been submitted."});n=i.id,r=i.items.reduce((function(e,t){return e.push({form_item_id:t.id,values:Array.isArray(t.draftValues)?t.draftValues:[]}),e}),[])}else e&&(n=e.formId,r=Object.entries(e.answers).reduce((function(e,t){var n=(0,s.q)(t,2),r=n[0],i=n[1],a=Number(r);if(Number.isNaN(a))throw new s.s({code:s.a9.INVALID_PARAMETER,message:"Keys in answers must be numeric string."});return e.push({form_item_id:a,value:i}),e}),[]));if(!n||!r)throw new s.s({code:s.a9.INVALID_PARAMETER,message:"Missing one or more required inputs: formId, answers."});return a=new F({messageId:this.messageId,formId:n,items:r}),[4,t.send(a)];case 1:return o.sent(),[2]}}))}))},t.prototype.submitFeedback=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o;return(0,s.b)(this,(function(u){switch(u.label){case 0:return t=s.V.of(this._iid),n=t.requestQueue,r=t.dispatcher,i=new S({channelUrl:this.channelUrl,channelType:this.channelType,messageId:this.messageId,rating:e.rating,comment:e.comment}),[4,n.send(i)];case 1:return a=u.sent(),o=a.as(D),this.myFeedback=o.feedback,this.myFeedbackStatus="SUBMITTED",r.dispatch(new s.ao({messages:[this],source:s.a2.EVENT_MESSAGE_FEEDBACK_ADDED})),[2]}}))}))},t.prototype.updateFeedback=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o;return(0,s.b)(this,(function(u){switch(u.label){case 0:return t=s.V.of(this._iid),n=t.requestQueue,r=t.dispatcher,i=new C({channelUrl:this.channelUrl,channelType:this.channelType,messageId:this.messageId,feedbackId:e.id,rating:e.rating,comment:e.comment}),[4,n.send(i)];case 1:return a=u.sent(),o=a.as(A),this.myFeedback=o.feedback,this.myFeedbackStatus="SUBMITTED",r.dispatch(new s.ao({messages:[this],source:s.a2.EVENT_MESSAGE_FEEDBACK_UPDATED})),[2]}}))}))},t.prototype.deleteFeedback=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i;return(0,s.b)(this,(function(a){switch(a.label){case 0:return t=s.V.of(this._iid),n=t.requestQueue,r=t.dispatcher,i=new I({channelUrl:this.channelUrl,channelType:this.channelType,messageId:this.messageId,feedbackId:e}),[4,n.send(i)];case 1:return a.sent(),this.myFeedback=null,this.myFeedbackStatus="NO_FEEDBACK",r.dispatch(new s.ao({messages:[this],source:s.a2.EVENT_MESSAGE_FEEDBACK_DELETED})),[2]}}))}))},t}(M),q=function(e){function t(t,n){var r,i,a,o,u=this;if((u=e.call(this,t,n)||this).reqId="",u.replyToChannel=!1,u.errorCode=0,u.sender=n.user?new y(u._iid,n.user):n.sender_id,u.reqId=null!==(i=null!==(r=n.req_id)&&void 0!==r?r:n.request_id)&&void 0!==i?i:"",u.replyToChannel=null!==(a=n.is_reply_to_channel)&&void 0!==a&&a,n.request_state&&(0,s.X)(s.ap,n.request_state)&&(u.sendingStatus=n.request_state),!u.sendingStatus)if(u.messageId>0)u.sendingStatus=s.ap.SUCCEEDED;else if(u.scheduledInfo)switch(n.scheduled_status&&(u._scheduledStatus=n.scheduled_status),n.scheduled_status){case P.SENT:case P.IN_QUEUE:u.sendingStatus=s.ap.SUCCEEDED;break;case P.PENDING:u.sendingStatus=s.ap.SCHEDULED;break;case P.FAILED:case P.REMOVED:u.sendingStatus=s.ap.FAILED;break;case P.CANCELED:u.sendingStatus=s.ap.CANCELED}else u.sendingStatus=s.ap.PENDING;return u.errorCode=null!==(o=n.error_code)&&void 0!==o?o:0,u._messageToken=n.mesg_token,u}return(0,s.c)(t,e),t.payloadify=function(t){return(0,s.e)((0,s.u)((0,s.g)((0,s.g)({},e.payloadify.call(this,t)),{user:y.payloadify(t.sender),req_id:t.reqId,is_reply_to_channel:t.replyToChannel,request_state:t.sendingStatus,error_code:t.errorCode,mesg_token:t._messageToken})))},Object.defineProperty(t.prototype,"isResendable",{get:function(){return(this.sendingStatus===s.ap.FAILED||this.sendingStatus===s.ap.CANCELED)&&(0,s.aq)(this.errorCode)},enumerable:!1,configurable:!0}),t.prototype.isIdentical=function(e){return this.messageId>0&&e.messageId>0?this.messageId===e.messageId:this.reqId===e.reqId},t}(V),z={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:s.ar.ALL,customTypesFilter:void 0,senderUserIdsFilter:void 0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1},G=function(e){return(0,s.a)("number",e.prevResultSize)&&(0,s.a)("number",e.nextResultSize)&&(0,s.a)("boolean",e.isInclusive)&&(0,s.a)("boolean",e.reverse)&&(0,s.a)("string",e.messageTypeFilter)&&(0,s.X)(s.ar,e.messageTypeFilter)&&(0,s.Q)("string",e.customTypesFilter,!0)&&(0,s.Q)("string",e.senderUserIdsFilter,!0)&&(0,s.a)("boolean",e.includeMetaArray)&&(0,s.a)("boolean",e.includeReactions)&&(0,s.a)("boolean",e.includeParentMessageInfo)},W=function(e){function t(t,n){var r,i,a,o=this;if((o=e.call(this,t,n)||this).translations={},o.messageType=s.ai.ADMIN,o.translations=null!==(r=n.translations)&&void 0!==r?r:{},n.parent_message_info){var u=n.parent_message_info;o.parentMessage=ee(t,(0,s.e)((0,s.u)((0,s.g)((0,s.g)({},u),{message_id:o.parentMessageId,channel_url:o.channelUrl,channel_type:o.channelType,file:u.file,url:null===(i=u.file)||void 0===i?void 0:i.url,require_auth:null===(a=u.file)||void 0===a?void 0:a.require_auth}))))}return o}return(0,s.c)(t,e),t.payloadify=function(t){return(0,s.e)((0,s.u)((0,s.g)((0,s.g)({},e.payloadify.call(this,t)),{translations:t.translations,parent_message_info:t.parentMessage?e._getParentMessageInfoPayload.call(this,t.parentMessage):null})))},t.prototype.getThreadedMessagesByTimestamp=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return n=(0,s.g)((0,s.g)({},z),t),(0,s.w)(this.messageId>0&&(0,s.a)("number",e)&&G(n)).throw(s.s.invalidParameters),[4,Ti.of(this._iid).getThreadedMessagesByTimestamp(this,e,n)];case 1:return[2,r.sent()]}}))}))},t}(V),B=function(){function e(e){var t,n;this.detail={},this.type=null!==(t=e.type)&&void 0!==t?t:"",this.vendor=null!==(n=e.vendor)&&void 0!==n?n:"",e.detail&&(0,s.a)("object",e.detail)&&!Array.isArray(e.detail)&&(this.detail=e.detail)}return e.payloadify=function(e){return(0,s.e)((0,s.u)({type:e.type,vendor:e.vendor,detail:e.detail}))},e}(),K=function(){function e(e){this.status=e.status,e.original_message_info&&(this.originalMessageInfo={createdAt:e.original_message_info.ts,messageId:e.original_message_info.id})}return e.payloadify=function(e){return(0,s.e)({status:e.status,original_message_info:e.originalMessageInfo?{id:e.originalMessageInfo.messageId,ts:e.originalMessageInfo.createdAt}:void 0})},e}(),Q=function(e){function t(t,n){var r,i,a,o,u,c,l,d=this;if((d=e.call(this,t,n)||this).messageParams=null,d.translations={},d.translationTargetLanguages=[],d.messageSurvivalSeconds=-1,d.plugins=[],d._poll=null,d.messageType=s.ai.USER,d.translations=null!==(a=n.translations)&&void 0!==a?a:{},d.translationTargetLanguages=null!==(o=n.target_langs)&&void 0!==o?o:[],0===Object.keys(d.translations).length&&d.translationTargetLanguages.length>0)try{for(var h=(0,s.t)(d.translationTargetLanguages),_=h.next();!_.done;_=h.next()){var f=_.value;d.translations[f]=""}}catch(e){r={error:e}}finally{try{_&&!_.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}if(d.messageSurvivalSeconds=null!==(u=n.message_survival_seconds)&&void 0!==u?u:-1,d.plugins=n.plugins?n.plugins.map((function(e){return new B(e)})):[],d._poll=n.poll?new s.as(d._iid,n.poll):null,n.parent_message_info){var p=n.parent_message_info;d.parentMessage=ee(t,(0,s.e)((0,s.u)((0,s.g)((0,s.g)({},p),{created_at:p.ts,message_id:d.parentMessageId,channel_url:d.channelUrl,channel_type:d.channelType,file:p.file,url:null===(c=p.file)||void 0===c?void 0:c.url,require_auth:null===(l=p.file)||void 0===l?void 0:l.require_auth}))))}return n.review_info&&(d.messageReviewInfo=new K(n.review_info)),d}return(0,s.c)(t,e),t.payloadify=function(t){return(0,s.e)((0,s.u)((0,s.g)((0,s.g)({},e.payloadify.call(this,t)),{translations:t.translations,message_survival_seconds:t.messageSurvivalSeconds,plugins:t.plugins.map((function(e){return B.payloadify(e)})),poll:t._poll?s.as.payloadify(t._poll):null,parent_message_info:t.parentMessage?e._getParentMessageInfoPayload.call(this,t.parentMessage):null,review_info:t.messageReviewInfo?K.payloadify(t.messageReviewInfo):void 0})))},t.prototype.getThreadedMessagesByTimestamp=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return n=(0,s.g)((0,s.g)({},z),t),(0,s.w)(this.messageId>0&&(0,s.a)("number",e)&&G(n)).throw(s.s.invalidParameters),[4,Ti.of(this._iid).getThreadedMessagesByTimestamp(this,e,n)];case 1:return[2,r.sent()]}}))}))},t.prototype.applyPoll=function(e){return!(this._poll&&this._poll.id===e.id&&this._poll.updatedAt>e.updatedAt||(this._poll=e,0))},Object.defineProperty(t.prototype,"poll",{get:function(){return this._poll},enumerable:!1,configurable:!0}),t}(q),J=function(e){function t(t,n){var r,i,a,o,u,c,l,d,h=this;if((h=e.call(this,t,n)||this).messageParams=null,h.fileInfoList=[],h.messageSurvivalSeconds=-1,h.messageType=s.ai.FILE,h.data=null!==(a=null!==(i=null===(r=n.file)||void 0===r?void 0:r.data)&&void 0!==i?i:n.custom)&&void 0!==a?a:"",h.fileInfoList=null!==(u=null===(o=n.files)||void 0===o?void 0:o.map((function(e){return new O(t,e)})))&&void 0!==u?u:[],h.messageSurvivalSeconds=null!==(c=n.message_survival_seconds)&&void 0!==c?c:-1,n.parent_message_info){var _=n.parent_message_info;h.parentMessage=ee(t,(0,s.e)((0,s.u)((0,s.g)((0,s.g)({},_),{created_at:_.ts,message_id:h.parentMessageId,channel_url:h.channelUrl,channel_type:h.channelType,file:_.file,url:null===(l=_.file)||void 0===l?void 0:l.url,require_auth:null===(d=_.file)||void 0===d?void 0:d.require_auth}))))}return h}return(0,s.c)(t,e),t.prototype.getThreadedMessagesByTimestamp=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return n=(0,s.g)((0,s.g)({},z),t),(0,s.w)(this.messageId>0&&(0,s.a)("number",e)&&G(n)).throw(s.s.invalidParameters),[4,Ti.of(this._iid).getThreadedMessagesByTimestamp(this,e,n)];case 1:return[2,r.sent()]}}))}))},t.payloadify=function(t){var n,r,i,a,o,u;return(0,s.e)((0,s.u)((0,s.g)((0,s.g)({},e.payloadify.call(this,t)),{file:{name:null!==(r=null===(n=t.fileInfoList[0])||void 0===n?void 0:n.fileName)&&void 0!==r?r:"",size:null!==(a=null===(i=t.fileInfoList[0])||void 0===i?void 0:i.fileSize)&&void 0!==a?a:0,type:null!==(u=null===(o=t.fileInfoList[0])||void 0===o?void 0:o.mimeType)&&void 0!==u?u:"",data:t.data},files:Array.isArray(t.fileInfoList)?t.fileInfoList.map((function(e){return O.payloadify(e)})):null,message_survival_seconds:t.messageSurvivalSeconds,parent_message_info:t.parentMessage?e._getParentMessageInfoPayload.call(this,t.parentMessage):null})))},t._isMultipleFilesMessagePayload=function(e){var t=e.files;return Array.isArray(t)&&t.length>=2},t._isMultipleFilesMessageSerializedData=function(e){var t=e.fileInfoList;return Array.isArray(t)},t}(q);!function(e){e.SENT="SENT",e.READ="READ"}(j||(j={}));var Z,X=function(e){function t(t,n){var r,i,a=this;if((a=e.call(this,t,n)||this).notificationData=null,a.notificationId=n.notification_message_id,a.messageType=s.ai.ADMIN,a.messageStatus=null!==(r=n.message_status)&&void 0!==r?r:j.SENT,a.priority=null!==(i=n.priority)&&void 0!==i?i:s.at.NORMAL,a.notificationEventDeadline=n.notification_event_deadline,0===a.extendedMessage.sub_type)try{var o=JSON.parse(a.extendedMessage.sub_data),u=o.label,c=o.tags,l=void 0===c?[]:c,d=o.template_key,h=o.template_variables;a.notificationData={label:u,tags:l,templateKey:d,templateVariables:h}}catch(t){}return a}return(0,s.c)(t,e),t.payloadify=function(t){return(0,s.e)((0,s.u)((0,s.g)((0,s.g)({},e.payloadify.call(this,t)),{notification_message_id:t.notificationId,message_status:t.messageStatus,priority:t.priority,notification_event_deadline:t.notificationEventDeadline})))},t.prototype.isIdentical=function(e){return this.notificationId===e.notificationId},t}(M),$=function(e){if(e.notificationId)return X.payloadify(e);switch(e.messageType){case s.ai.USER:return Q.payloadify(e);case s.ai.FILE:return e.fileInfoList?J.payloadify(e):te.payloadify(e);case s.ai.ADMIN:return W.payloadify(e);default:throw s.s.unknown}},ee=function(e,t){if(t.notification_message_id)return new X(e,t);switch(t.type){case"MESG":return new Q(e,t);case"FILE":return J._isMultipleFilesMessagePayload(t)?new J(e,t):new te(e,t);case"ADMM":case"BRDM":return new W(e,t);default:return null}},te=function(e){function t(t,n){var r,i,o,u,c,l,d,h,_,f,p,m,g,y,v=this;(v=e.call(this,t,n)||this).messageParams=null,v.plainUrl="",v.requireAuth=!1,v.thumbnails=[],v.messageSurvivalSeconds=-1,v.messageType=s.ai.FILE;var b=n.file;if(v.plainUrl=(null!==(i=null!==(r=null==b?void 0:b.url)&&void 0!==r?r:n.url)&&void 0!==i?i:"").split("?auth=")[0],v.name=null!==(u=null!==(o=null==b?void 0:b.name)&&void 0!==o?o:n.name)&&void 0!==u?u:"File",v.size=null!==(l=null!==(c=null==b?void 0:b.size)&&void 0!==c?c:n.size)&&void 0!==l?l:0,v.data=null!==(h=null!==(d=null==b?void 0:b.data)&&void 0!==d?d:n.custom)&&void 0!==h?h:"",v.type=b?null!==(_=b.type)&&void 0!==_?_:"":null!==(f=n.type)&&void 0!==f?f:"",v.requireAuth=null!==(p=n.require_auth)&&void 0!==p&&p,v.thumbnails=n.thumbnails?n.thumbnails.map((function(e){var t;return new a(v._iid,"string"==typeof e?{url:e,width:0,height:0}:(0,s.g)((0,s.g)({},e),{url:(null!==(t=e.url)&&void 0!==t?t:"").split("auth=")[0]}),v.requireAuth)})):[],v.messageSurvivalSeconds=null!==(m=n.message_survival_seconds)&&void 0!==m?m:-1,n.parent_message_info){var M=n.parent_message_info;v.parentMessage=ee(t,(0,s.e)((0,s.u)((0,s.g)((0,s.g)({},M),{created_at:M.ts,message_id:v.parentMessageId,channel_url:v.channelUrl,channel_type:v.channelType,file:M.file,url:null===(g=M.file)||void 0===g?void 0:g.url,require_auth:null===(y=M.file)||void 0===y?void 0:y.require_auth}))))}return v}return(0,s.c)(t,e),t.payloadify=function(t){var n;return(0,s.e)((0,s.u)((0,s.g)((0,s.g)({},e.payloadify.call(this,t)),{url:t.plainUrl,require_auth:t.requireAuth,file:{name:t.name,size:t.size,type:t.type,data:t.data},thumbnails:null===(n=t.thumbnails)||void 0===n?void 0:n.map((function(e){return{url:e.plainUrl,width:e.width,height:e.height,real_width:e.realWidth,real_height:e.realHeight}})),message_survival_seconds:t.messageSurvivalSeconds,parent_message_info:t.parentMessage?e._getParentMessageInfoPayload.call(this,t.parentMessage):null})))},Object.defineProperty(t.prototype,"url",{get:function(){var e=s.V.of(this._iid).sessionManager;return this.requireAuth&&e.ekey?"".concat(this.plainUrl,"?auth=").concat(e.ekey):this.plainUrl},enumerable:!1,configurable:!0}),t.prototype.getThreadedMessagesByTimestamp=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return n=(0,s.g)((0,s.g)({},z),t),(0,s.w)(this.messageId>0&&(0,s.a)("number",e)&&G(n)).throw(s.s.invalidParameters),[4,Ti.of(this._iid).getThreadedMessagesByTimestamp(this,e,n)];case 1:return[2,r.sent()]}}))}))},t}(q),ne=function(e){function t(t,n){var r=n.file,i=n.fileUrl,s=n.fileName,a=n.fileSize,o=n.mimeType,u=n.thumbnailSizes,c=n._uploadedMetaData,l=n._thumbnails,d=e.call(this,t)||this;return d._plainUrl=i,d.file=r,d.fileName=s,d.fileSize=a,d.mimeType=o,d.thumbnailSizes=u,d._uploadedMetaData=c,d._thumbnails=l,d}return(0,s.c)(t,e),t.getPlainUrl=function(e){return e instanceof t?e._plainUrl:e.fileUrl},Object.defineProperty(t.prototype,"fileUrl",{get:function(){var e,t=s.V.of(this._iid).sessionManager;return this._plainUrl&&(null===(e=this._uploadedMetaData)||void 0===e?void 0:e.requireAuth)&&t.ekey?"".concat(this._plainUrl,"?auth=").concat(t.ekey):this._plainUrl},set:function(e){this._plainUrl=e},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return{file:this.file,fileUrl:this._plainUrl,fileName:this.fileName,fileSize:this.fileSize,mimeType:this.mimeType,thumbnailSizes:this.thumbnailSizes,_thumbnails:this._thumbnails,_uploadedMetaData:this._uploadedMetaData}},t}(s.ag),re=function(e){function t(t){var n,r,i,o,u=[];return t.mentionType===s.ak.USERS&&(t.mentionedUserIds?u=t.mentionedUserIds:t.mentionedUsers&&(u=t.mentionedUsers.map((function(e){return e.userId})))),e.call(this,{code:"FILE",ackRequired:!0,payload:(0,s.e)((0,s.u)({channel_url:t.channelUrl,files:t.files?oe(t.files):null,url:t.url,name:null!==(n=t.fileName)&&void 0!==n?n:"",type:null!==(r=t.mimeType)&&void 0!==r?r:"",size:null!==(i=t.fileSize)&&void 0!==i?i:0,custom:t.data,custom_type:t.customType,thumbnails:null===(o=t._thumbnails)||void 0===o?void 0:o.map((function(e){return a.payloadify(e)})),require_auth:t.requireAuth,metaarray:t.metaArrays,mention_type:t.mentionType,mentioned_user_ids:u,push_option:t.pushNotificationDeliveryOption&&t.pushNotificationDeliveryOption!==s.au.DEFAULT?t.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:t.appleCriticalAlertOptions?m.payloadify(t.appleCriticalAlertOptions):null,silent:t.silent,reply_to_channel:t.isReplyToChannel,parent_message_id:t.parentMessageId?t.parentMessageId:null,req_id:t.reqId,pin_message:t.isPinnedMessage,message:t.message}))})||this}return(0,s.c)(t,e),t}(s.al),ie=function(e){function t(t){var n,r,i=this;i=e.call(this)||this;var o=[];return t.mentionType===s.ak.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map((function(e){return e.userId})))),i.method=s.A.POST,i.path="".concat((0,s.am)(t.channelType),"/").concat(encodeURIComponent(t.channelUrl),"/messages"),i.params=(0,s.e)((0,s.u)({message_type:s.ai.FILE,user_id:t.userId,files:t.files?oe(t.files):null,url:t.fileUrl,mention_type:t.mentionType,mentioned_user_ids:o,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,data:t.data,custom_type:t.customType,thumbnails:null===(n=t._thumbnails)||void 0===n?void 0:n.map((function(e){return a.payloadify(e)})),require_auth:t.requireAuth,sorted_metaarray:null===(r=t.metaArrays)||void 0===r?void 0:r.map((function(e){return v.payloadify(e)})),push_option:t.pushNotificationDeliveryOption,parent_message_id:t.parentMessageId?t.parentMessageId:null,apple_critical_alert_options:t.appleCriticalAlertOptions?m.payloadify(t.appleCriticalAlertOptions):null,reply_to_channel:t.isReplyToChannel,req_id:t.reqId,pin_message:t.isPinnedMessage})),i}return(0,s.c)(t,e),t}(s.f),se=function(e){function t(t,n,r){var i,a,o,u,c=this;(c=e.call(this,t,"FILE",r)||this).message=r.files&&r.files.length>=2?new J(t,r):new te(t,r);var l=s.V.of(t).sdkState;return c.isMentioned=(0,s.av)(c.message.mentionType,null!==(o=null!==(i=c.message.mentionedUserIds)&&void 0!==i?i:null===(a=c.message.mentionedUsers)||void 0===a?void 0:a.map((function(e){return e.userId})))&&void 0!==o?o:[],l.userId),c.forceUpdateLastMessage=null!==(u=r.force_update_last_message)&&void 0!==u&&u,c}return(0,s.c)(t,e),t}(s.W),ae=function(e){function t(t,n){var r,i,a,o,u=this;(u=e.call(this,t,n)||this).message=n.files&&n.files.length>=2?new J(t,n):new te(t,n);var c=s.V.of(t).sdkState;return u.isMentioned=(0,s.av)(u.message.mentionType,null!==(a=null!==(r=u.message.mentionedUserIds)&&void 0!==r?r:null===(i=u.message.mentionedUsers)||void 0===i?void 0:i.map((function(e){return e.userId})))&&void 0!==a?a:[],c.userId),u.forceUpdateLastMessage=null!==(o=n.force_update_last_message)&&void 0!==o&&o,u}return(0,s.c)(t,e),t}(s.h);function oe(e){return e.map((function(e){var t,n;return(0,s.e)((0,s.u)({url:ne.getPlainUrl(e),file_name:e.fileName,file_type:e.mimeType,file_size:e.fileSize,thumbnails:null===(t=e._thumbnails)||void 0===t?void 0:t.map((function(e){return a.payloadify(e)})),require_auth:null===(n=e._uploadedMetaData)||void 0===n?void 0:n.requireAuth}))}))}!function(e){e[e.PENDING=0]="PENDING",e[e.UPLOADING=1]="UPLOADING",e[e.UPLOADED=2]="UPLOADED",e[e.SENDING=3]="SENDING",e[e.FAILED=4]="FAILED"}(Z||(Z={}));var ue,ce=function(){function e(e,t){var n=t.sdkState,r=t.dispatcher,i=t.requestQueue,a=t.onlineDetector,o=t.cacheContext,u=this;this._queueMap=new Map,this._iid=e,this._sdkState=n,this._requestQueue=i,this._cacheContext=o,this._dispatcher=r,this._dispatcher.on((function(e){e instanceof s.D&&(u._connectionState=e.stateType)})),this._onlineDetector=a}return Object.defineProperty(e.prototype,"_shouldSendThroughWebSocket",{get:function(){return this._connectionState===s.F.CONNECTED||this._connectionState===s.F.CONNECTING||this._connectionState===s.F.RECONNECTING},enumerable:!1,configurable:!0}),e.prototype._sendFileMessage=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n,r;return(0,s.b)(this,(function(i){switch(i.label){case 0:return n=this._createSendFileMessageRequestParams(e,t),this._shouldSendThroughWebSocket?(r=new re(n),[4,this._requestQueue.send(r)]):[3,2];case 1:return[2,i.sent().as(se).message];case 2:return r=new ie((0,s.g)((0,s.g)({},n),{userId:this._sdkState.userId})),[4,this._requestQueue.send(r)];case 3:return[2,i.sent().as(ae).message]}}))}))},e.prototype._createSendFileMessageRequestParams=function(e,t){var n=(0,s.g)((0,s.g)({},t.params),{channelUrl:e.url,channelType:e.channelType,reqId:t.requestId,url:""});if(t.multipleFileUploadInfo){var r=t.params;n.files=r.fileInfoList}else r=t.params,n.url=r.fileUrl,n.requireAuth=r.requireAuth;return n},e.prototype._resolveMessageQueue=function(e){var t;return(0,s._)(this,void 0,void 0,(function(){var n,r,i,a,o,u,c,l,d,h,_,f,p;return(0,s.b)(this,(function(m){switch(m.label){case 0:if(!(n=this._queueMap.get(e.url)))return[3,21];if(n.isResolving)return[3,20];n.isResolving=!0,r=[],i=!0,m.label=1;case 1:m.trys.push([1,15,16,17]),a=(0,s.t)(n.messageQueue),o=a.next(),m.label=2;case 2:if(o.done)return[3,14];switch((u=o.value).state){case Z.PENDING:case Z.UPLOADING:return[3,3];case Z.UPLOADED:return[3,4];case Z.FAILED:return[3,12]}return[3,13];case 3:return i=!1,r.push(u),[3,13];case 4:if(!i)return[3,10];m.label=5;case 5:return m.trys.push([5,8,,9]),u.state=Z.SENDING,[4,this._sendFileMessage(e,u)];case 6:return c=m.sent(),u.deferred.resolve(c),[4,(0,s.ax)(100)];case 7:return m.sent(),[3,9];case 8:return l=m.sent(),u.deferred.reject(l),[3,9];case 9:return[3,11];case 10:r.push(u),m.label=11;case 11:return[3,13];case 12:return d=null!==(t=u.error)&&void 0!==t?t:s.s.unknown,u.deferred.reject(d.code===s.a9.REQUEST_CANCELED?s.s.fileUploadCanceled:d),[3,13];case 13:return o=a.next(),[3,2];case 14:return[3,17];case 15:return h=m.sent(),f={error:h},[3,17];case 16:try{o&&!o.done&&(p=a.return)&&p.call(a)}finally{if(f)throw f.error}return[7];case 17:return _=n.isResolveRequestPending,n.messageQueue=r,n.isResolving=!1,n.isResolveRequestPending=!1,_?[4,this._resolveMessageQueue(e)]:[3,19];case 18:m.sent(),m.label=19;case 19:return[3,21];case 20:n.isResolveRequestPending=!0,m.label=21;case 21:return[2]}}))}))},e.prototype._uploadNextPendingItem=function(e){var t;return(0,s._)(this,void 0,void 0,(function(){var n,r,i,a,o,u,c,l,d,h;return(0,s.b)(this,(function(_){switch(_.label){case 0:return(n=this._queueMap.get(e.url))&&(r=n.messageQueue.find((function(e){return e.state===Z.PENDING})))?r.multipleFileUploadInfo?(i=r.multipleFileUploadInfo,a=i.uploadIndex,o=i.uploadCount,u=i.requestHandler,h=r.params,c=h.fileInfoList[a],!(0,s.i)(c.file)||(null===(t=c._uploadedMetaData)||void 0===t?void 0:t.isUploaded)?[3,2]:[4,this._tryUploadNextItemAndUpdateItemState(e,n,r)]):[3,4]:[3,9];case 1:return _.sent(),[3,3];case 2:r.state=a<o-1?Z.PENDING:Z.UPLOADED,_.label=3;case 3:return l=h.fileInfoList[a],d=r.multipleFileUploadInfo.uploadIndex++,r.multipleFileUploadInfo.isCopy||null==u||u._triggerOnFileUploaded(r.requestId,d,l,r.error),[3,7];case 4:return h=r.params,(0,s.i)(h.file)?[4,this._tryUploadNextItemAndUpdateItemState(e,n,r)]:[3,6];case 5:return _.sent(),[3,7];case 6:h.thumbnailSizes=[],r.state=Z.UPLOADED,_.label=7;case 7:return this._uploadNextPendingItem(e),[4,this._resolveMessageQueue(e)];case 8:_.sent(),_.label=9;case 9:return[2]}}))}))},e.prototype._tryUploadNextItemAndUpdateItemState=function(e,t,n){return(0,s._)(this,void 0,void 0,(function(){var r,i,a,o,u,c;return(0,s.b)(this,(function(l){switch(l.label){case 0:return[4,this._onlineDetector.isOnline()];case 1:if(r=l.sent(),!s.V.of(this._iid).sessionManager.currentUser||!r)return n.error=s.s.connectionRequired,n.state=Z.FAILED,[2];if(!(t.uploadQueue.length<6))return[3,9];n.state=Z.UPLOADING,t.uploadQueue.push(n),l.label=2;case 2:return l.trys.push([2,7,,8]),n.multipleFileUploadInfo?(i=n.multipleFileUploadInfo,a=i.uploadIndex,o=i.uploadCount,u=n.params,[4,this._uploadNextFileForMultipleFilesItemAndUpdateParams(e,n,u)]):[3,4];case 3:return l.sent(),n.state=a<o-1?Z.PENDING:Z.UPLOADED,[3,6];case 4:return u=n.params,[4,this._uploadNextFileForSingleFileItemAndUpdateParams(e,n,u)];case 5:l.sent(),n.state=Z.UPLOADED,l.label=6;case 6:return[3,8];case 7:switch((c=l.sent()).code){case s.a9.REQUEST_FAILED:n.error=new s.s({code:s.a9.NETWORK_ERROR,message:"Failed to upload a file."});break;case s.a9.REQUEST_CANCELED:n.error=s.s.fileUploadCanceled;break;default:n.error=c}return n.state=Z.FAILED,[3,8];case 8:this._dequeueUploadItem(t,n),l.label=9;case 9:return[2]}}))}))},e.prototype._dequeueUploadItem=function(e,t){var n=e.uploadQueue.findIndex((function(e){return e.requestId===t.requestId}));n>=0&&e.uploadQueue.splice(n,1)},e.prototype._uploadNextFileForSingleFileItemAndUpdateParams=function(e,t,n){var r,i,a;return(0,s._)(this,void 0,void 0,(function(){var c,l,d,h,_,f,p,m,g,y;return(0,s.b)(this,(function(s){switch(s.label){case 0:return c=new o({file:n.file,channelUrl:e.url,thumbnailSizes:n.thumbnailSizes,requestId:t.requestId}),[4,this._requestQueue.send(c)];case 1:return l=s.sent(),d=l.as(u),h=d.url,_=d.fileSize,f=void 0===_?n.fileSize:_,p=d.thumbnails,m=void 0===p?[]:p,g=d.requireAuth,y=void 0!==g&&g,n.fileName=null!==(r=n.fileName)&&void 0!==r?r:n.file.name,n.mimeType=null!==(i=n.mimeType)&&void 0!==i?i:n.file.type,n.fileSize=null!==(a=n.fileSize)&&void 0!==a?a:n.file.size,n.fileUrl=h,n.fileSize=f,n.requireAuth=y,n._thumbnails=m,[2]}}))}))},e.prototype._uploadNextFileForMultipleFilesItemAndUpdateParams=function(e,t,n){var r,i,a;return(0,s._)(this,void 0,void 0,(function(){var c,l,d,h,_,f,p,m,g,y,v;return(0,s.b)(this,(function(b){switch(b.label){case 0:return c=t.multipleFileUploadInfo.uploadIndex,l=n.fileInfoList[c],d=new o({file:l.file,channelUrl:e.url,thumbnailSizes:l.thumbnailSizes,requestId:t.requestId}),[4,this._requestQueue.send(d)];case 1:return h=b.sent(),_=h.as(u),f=_.url,p=_.fileSize,m=void 0===p?l.fileSize:p,g=_.thumbnails,y=_.requireAuth,v=void 0!==y&&y,l.fileName=null!==(r=l.fileName)&&void 0!==r?r:l.file.name,l.mimeType=null!==(i=l.mimeType)&&void 0!==i?i:l.file.type,l.fileSize=null!==(a=l.fileSize)&&void 0!==a?a:l.file.size,l.file=void 0,l.fileUrl=f,l.fileSize=m,l._thumbnails=g,l._uploadedMetaData=(0,s.g)((0,s.g)({},l._uploadedMetaData),{requireAuth:v,isUploaded:!0}),l instanceof ne||(n.fileInfoList[c]=new ne(this._iid,l)),[2]}}))}))},e.prototype.request=function(e,t,n,r){return void 0===r&&(r={}),(0,s._)(this,void 0,void 0,(function(){var i,a,o,u,c;return(0,s.b)(this,(function(l){return this._queueMap.has(e.url)||(i={messageQueue:[],uploadQueue:[],isResolving:!1,isResolveRequestPending:!1},this._queueMap.set(e.url,i)),a=this._queueMap.get(e.url),o=new s.ay,u={requestId:t,params:n,state:Z.PENDING,deferred:o},function(e){return"fileInfoList"in e}(n)&&(c=(0,s.g)({uploadIndex:0,uploadCount:n.fileInfoList.length},r),u.multipleFileUploadInfo=c),a.messageQueue.push(u),this._uploadNextPendingItem(e),[2,o.promise]}))}))},e.prototype.cancel=function(e,t){var n,r,i=this._queueMap.get(e.url);if(i){var a=t?[i.messageQueue.find((function(e){return e.requestId===t}))]:(0,s.p)([],(0,s.q)(i.messageQueue),!1);try{for(var o=(0,s.t)(a),u=o.next();!u.done;u=o.next()){var c=u.value;if(c)switch(c.state){case Z.PENDING:if(c.state=Z.FAILED,c.error=s.s.requestCanceled,c.multipleFileUploadInfo&&!c.multipleFileUploadInfo.isCopy){var l=c.multipleFileUploadInfo,d=l.uploadIndex,h=l.requestHandler,_=c.params.fileInfoList[d];null==h||h._triggerOnFileUploaded(c.requestId,d,_,s.s.fileUploadCanceled)}this._resolveMessageQueue(e);break;case Z.UPLOADING:this._requestQueue.cancel(c.requestId),this._dispatcher.dispatch(new s.aw({requestId:c.requestId}))}}}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}else t&&(this._requestQueue.cancel(t),this._dispatcher.dispatch(new s.aw({requestId:t})))},e}(),le={prevResultSize:0,nextResultSize:0,isInclusive:!1,reverse:!1,messageTypeFilter:s.ar.ALL,customTypesFilter:void 0,senderUserIdsFilter:void 0,replyType:s.az.NONE,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1,showSubchannelMessagesOnly:!1},de=function(e){return(0,s.a)("number",e.prevResultSize)&&(0,s.a)("number",e.nextResultSize)&&(0,s.a)("boolean",e.isInclusive)&&(0,s.a)("boolean",e.reverse)&&(0,s.a)("string",e.messageTypeFilter)&&(0,s.X)(s.ar,e.messageTypeFilter)&&(0,s.Q)("string",e.customTypesFilter,!0)&&(0,s.Q)("string",e.senderUserIdsFilter,!0)&&(0,s.X)(s.az,e.replyType)&&(0,s.a)("boolean",e.includeMetaArray)&&(0,s.a)("boolean",e.includeReactions)&&(0,s.a)("boolean",e.includeParentMessageInfo)&&(0,s.a)("boolean",e.includeThreadInfo)&&(0,s.a)("boolean",e.showSubchannelMessagesOnly)},he={replyType:s.az.NONE,includeReactions:!1,includeThreadInfo:!1,includeMetaArray:!1,includeParentMessageInfo:!1},_e=function(e){return(0,s.X)(s.az,e.replyType)&&(0,s.a)("boolean",e.includeReactions)&&(0,s.a)("boolean",e.includeMetaArray)&&(0,s.a)("boolean",e.includeParentMessageInfo)&&(0,s.a)("boolean",e.includeThreadInfo)},fe=function(e){function t(t){var n=t.channelType,r=t.channelUrl,i=t.messageId,a=t.includeMetaArray,o=t.includeReactions,u=t.includeThreadInfo,c=t.includeParentMessageInfo,l=e.call(this)||this;return l.method=s.A.GET,l.path="".concat((0,s.am)(n),"/").concat(encodeURIComponent(r),"/messages/").concat(encodeURIComponent(i)),l.params={is_sdk:!0,with_sorted_meta_array:a,include_reactions_summary:null!=o&&o,include_thread_info:u,include_parent_message_info:c,include_poll_details:!0},l}return(0,s.c)(t,e),t}(s.f),pe=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.message=n?ee(t,(0,s.g)({},n)):null,r}return(0,s.c)(t,e),t}(s.h),me=function(e){function t(t){var n=t.channelType,r=t.channelUrl,i=t.timestamp,a=t.token,o=t.prevResultSize,u=t.nextResultSize,c=t.isInclusive,l=t.reverse,d=t.messageTypeFilter,h=t.customTypesFilter,_=t.senderUserIdsFilter,f=t.replyType,p=t.includeMetaArray,m=t.includeReactions,g=t.parentMessageId,y=t.includeThreadInfo,v=t.includeParentMessageInfo,b=t.showSubchannelMessagesOnly,M=t.checkingHasNext,E=t.checkingContinuousMessages,L=e.call(this)||this;return L.method=s.A.GET,L.path="".concat((0,s.am)(n),"/").concat(encodeURIComponent(r),"/messages"),L.params=(0,s.e)((0,s.u)({is_sdk:!0,prev_limit:o,next_limit:u,include:c,reverse:l,message_ts:i,message_id:a,message_type:null!=d?d:null,custom_types:h,sender_ids:_,include_reply_type:f,with_sorted_meta_array:p,include_reactions_summary:m,parent_message_id:g,include_thread_info:y,include_parent_message_info:v,show_subchannel_message_only:b,include_poll_details:!0,checking_has_next:M,checking_continuous_messages:E})),L}return(0,s.c)(t,e),t}(s.f),ge=function(e){function t(t,n){var r=e.call(this,t,n)||this;return void 0!==n.is_continuous_messages&&(r.isContinuousMessages=n.is_continuous_messages),void 0!==n.has_next&&(r.hasNext=n.has_next),r.messages=n.messages.map((function(e){return ee(t,e)})),r}return(0,s.c)(t,e),t}(s.h),ye=function(e){function t(t){var n=t.channelType,r=t.channelUrl,i=t.timestamp,a=t.token,o=t.replyType,u=t.includeMetaArray,c=t.includeReactions,l=t.includeThreadInfo,d=t.includeParentMessageInfo,h=e.call(this)||this;return h.method=s.A.GET,h.path="".concat((0,s.am)(n),"/").concat(encodeURIComponent(r),"/messages/changelogs"),h.params={change_ts:i,token:a,with_sorted_meta_array:u,include_reactions_summary:c,include_thread_info:l,include_reply_type:o,include_parent_message_info:d,include_poll_details:!0},h}return(0,s.c)(t,e),t}(s.f),ve=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.updatedMessages=n.updated.map((function(e){return ee(t,e)})),r.deletedMessagesInfo=n.deleted.map((function(e){return{messageId:e.message_id,deletedAt:e.deleted_at}})),r.hasMore=n.has_more,r.nextToken=n.next,r.forceUseNextToken=n.force_use_next_token||!1,r}return(0,s.c)(t,e),t}(s.h),be=function(e){function t(t){var n=t.channelUrl,r=t.scheduledMessageId,i=e.call(this)||this;return i.method=s.A.GET,i.path="".concat(s.aA,"/").concat(encodeURIComponent(n),"/scheduled_messages/").concat(encodeURIComponent(r)),i.params={},i}return(0,s.c)(t,e),t}(s.f),Me=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.message=n?ee(t,(0,s.g)({},n)):null,r}return(0,s.c)(t,e),t}(s.h);!function(e){e.MUTED="muted",e.BANNED="banned"}(ue||(ue={}));var Ee=function(){function e(e){var t,n,r,i;this.restrictionType=null,(0,s.X)(ue,e.restriction_type)&&(this.restrictionType=e.restriction_type),this.description=null!==(t=e.description)&&void 0!==t?t:null,this.endAt=null!==(r=null!==(n=e.end_at)&&void 0!==n?n:e.muted_end_at)&&void 0!==r?r:-1,this.remainingDuration=null!==(i=e.remaining_duration)&&void 0!==i?i:-1}return e.payloadify=function(e){return(0,s.e)((0,s.u)({restriction_type:e.restrictionType,description:e.description,end_at:e.endAt,remaining_duration:e.remainingDuration}))},e}(),Le=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.restrictionInfo=new Ee(n),r}return(0,s.c)(t,e),t.payloadify=function(t){return(0,s.e)((0,s.u)((0,s.g)((0,s.g)({},e.payloadify.call(this,t)),Ee.payloadify(t.restrictionInfo))))},t}(s.U),we=(function(e){(0,s.c)((function(t,n){var r,i=this;return(i=e.call(this,t,n)||this).isMuted=!1,i.isMuted=null!==(r=n.is_muted)&&void 0!==r&&r,i}),e)}(s.U),function(){function e(){this._onPending=s.aB,this._onFailed=s.aB,this._onSucceeded=s.aB}return e.prototype._trigger=function(e){switch(null==e?void 0:e.sendingStatus){case s.ap.PENDING:0===e.errorCode&&this._onPending(e);break;case s.ap.SCHEDULED:case s.ap.SUCCEEDED:this._onSucceeded(e)}},e.prototype._triggerFailed=function(e,t){switch(null==t?void 0:t.sendingStatus){case s.ap.FAILED:case s.ap.CANCELED:this._onFailed(e,t.scheduledInfo?null:t)}},e.prototype.onPending=function(e){return this._onPending=e,this},e.prototype.onFailed=function(e){return this._onFailed=e,this},e.prototype.onSucceeded=function(e){return this._onSucceeded=e,this},e}()),Te={data:void 0,customType:void 0,mentionType:s.ak.USERS,mentionedUserIds:void 0,mentionedUsers:void 0,mentionedMessageTemplate:void 0,metaArrays:void 0,parentMessageId:void 0,isReplyToChannel:!1,pushNotificationDeliveryOption:void 0,appleCriticalAlertOptions:void 0,isPinnedMessage:!1},ke=function(e){return(0,s.a)("string",e.data,!0)&&(0,s.a)("string",e.customType,!0)&&(0,s.X)(s.ak,e.mentionType)&&(0,s.Q)("string",e.mentionedUserIds,!0)&&(0,s.Q)(s.U,e.mentionedUsers,!0)&&(0,s.a)("string",e.mentionedMessageTemplate,!0)&&(0,s.Q)(v,e.metaArrays,!0)&&(0,s.a)("number",e.parentMessageId,!0)&&(0,s.a)("boolean",e.isReplyToChannel)&&(0,s.X)(s.au,e.pushNotificationDeliveryOption,!0)&&(0,s.a)(m,e.appleCriticalAlertOptions,!0)&&(0,s.a)("boolean",e.isPinnedMessage,!0)},Se=function(e){return{isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption,pollId:e.pollId}},De=(0,s.g)((0,s.g)({},Te),{message:"",translationTargetLanguages:void 0,pollId:void 0,extendedMessagePayload:void 0});function Ce(e){var t,n,r;return null!==(t=e.messageParams)&&void 0!==t?t:(0,s.u)((0,s.g)((0,s.g)({},e),{mentionType:e.mentionType,mentionedUserIds:null!==(n=e.mentionedUserIds)&&void 0!==n?n:null===(r=e.mentionedUsers)||void 0===r?void 0:r.map((function(e){return e.userId})),translationTargetLanguages:Object.keys(e.translations),pushNotificationDeliveryOption:s.au.DEFAULT,parentMessageId:null,isReplyToChannel:!1,isPinnedMessage:!1}))}var Ae,Ie=function(e){var t;return(0,s.e)((0,s.u)({data:e.data,customType:e.customType,mentionType:e.mentionType,mentionedUsers:e.mentionedUsers,mentionedUserIds:e.mentionedUserIds,mentionedMessageTemplate:e.mentionedMessageTemplate,metaArrays:e.metaArrays,pollId:null===(t=e.poll)||void 0===t?void 0:t.id,parentMessageId:e.parentMessageId,appleCriticalAlertOptions:e.appleCriticalAlertOptions,message:e.message,translationTargetLanguages:Object.keys(e.translations),extendedMessagePayload:e.extendedMessagePayload}))},Ne=function(e){return ke(e)&&(0,s.a)("string",e.message)&&(0,s.Q)("string",e.translationTargetLanguages,!0)&&(0,s.a)("number",e.pollId,!0)&&(0,s.a)("object",e.extendedMessagePayload,!0)};!function(e){e.FILE="file",e.BLOB="blob",e.BLOB_LIKE_OBJECT="blobLikeObject",e.URL="url"}(Ae||(Ae={}));var Ye=function(e){return"undefined"!=typeof window&&"Blob"in window&&"undefined"!=typeof Blob&&e instanceof Blob},Oe=function(e){return e===Ae.BLOB||e===Ae.FILE},xe=function(e){return{file:e.file,fileKey:e.fileKey,fileType:e.fileType,isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption}},Ue=(0,s.g)((0,s.g)({},Te),{file:void 0,fileKey:void 0,fileUrl:void 0,fileName:void 0,fileType:void 0,fileSize:void 0,mimeType:void 0,thumbnailSizes:void 0,requireAuth:!1,message:void 0});function Pe(e){var t,n,r,i;return null!==(t=e.messageParams)&&void 0!==t?t:(0,s.u)((0,s.g)((0,s.g)({},e),{fileUrl:e.plainUrl,fileName:e.name,fileSize:e.size,mimeType:e.type,mentionType:e.mentionType,mentionedUserIds:null!==(n=e.mentionedUserIds)&&void 0!==n?n:null===(r=e.mentionedUsers)||void 0===r?void 0:r.map((function(e){return e.userId})),pushNotificationDeliveryOption:s.au.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:null===(i=e.thumbnails)||void 0===i?void 0:i.map((function(e){return{maxWidth:e.width,maxHeight:e.height}})),requireAuth:e.requireAuth,isPinnedMessage:!1,_thumbnails:e.thumbnails,message:e.message}))}var Re,He=function(e,t){var n;return e.messageParams?(!e.url&&(0,s.i)(t)&&(e.messageParams.file=t),e.messageParams):(0,s.e)((0,s.u)({data:e.data,customType:e.customType,mentionType:e.mentionType,mentionedUsers:e.mentionedUsers,mentionedUserIds:e.mentionedUserIds,metaArrays:e.metaArrays,parentMessageId:e.parentMessageId,appleCriticalAlertOptions:e.appleCriticalAlertOptions,file:t,fileUrl:e.url,fileName:e.name,fileSize:e.size,mimeType:e.type,thumbnailSizes:null===(n=e.thumbnails)||void 0===n?void 0:n.map((function(e){return{maxWidth:e.width,maxHeight:e.height}})),message:e.message}))},Fe=function(e){return ke(e)&&((0,s.i)(e.file)||(0,s.a)("string",e.fileUrl))&&(0,s.a)("string",e.fileName,!0)&&(0,s.a)("string",e.mimeType,!0)&&(0,s.a)("number",e.fileSize,!0)&&(0,s.a)("string",e.message,!0)&&(null===e.thumbnailSizes||void 0===e.thumbnailSizes||Array.isArray(e.thumbnailSizes)&&e.thumbnailSizes.every((function(e){return(0,s.a)("object",e)&&e.maxWidth>0&&e.maxHeight>0})))},je={data:void 0,customType:void 0,mentionType:s.ak.USERS,mentionedUserIds:void 0,mentionedUsers:void 0,mentionedMessageTemplate:void 0,metaArrays:void 0,pushNotificationDeliveryOption:void 0,appleCriticalAlertOptions:void 0},Ve=function(e){return(0,s.a)("string",e.data,!0)&&(0,s.a)("string",e.customType,!0)&&(0,s.X)(s.ak,e.mentionType)&&(0,s.Q)("string",e.mentionedUserIds,!0)&&(0,s.Q)(s.U,e.mentionedUsers,!0)&&(0,s.a)("string",e.mentionedMessageTemplate,!0)&&(0,s.Q)(v,e.metaArrays,!0)&&(0,s.X)(s.au,e.pushNotificationDeliveryOption,!0)&&(0,s.a)(m,e.appleCriticalAlertOptions,!0)},qe=(0,s.g)((0,s.g)({},je),{message:void 0,translationTargetLanguages:void 0,pollId:void 0}),ze=function(e){return Ve(e)&&(0,s.a)("string",e.message,!0)&&(0,s.Q)("string",e.translationTargetLanguages,!0)&&(0,s.a)("number",e.pollId,!0)},Ge=(0,s.g)({},je),We=function(e){function t(t){var n=t.channelUrl,r=t.channelType,i=t.token,a=t.limit,o=e.call(this)||this;return o.method=s.A.GET,o.path="".concat((0,s.am)(r),"/").concat(encodeURIComponent(n),"/operators"),o.params={token:i,limit:a},o}return(0,s.c)(t,e),t}(s.f),Be=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.operators=n.operators.map((function(e){return new s.U(t,e)})),r.token=n.next,r}return(0,s.c)(t,e),t}(s.h),Ke=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return(0,s.c)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)},t.prototype.next=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a,o;return(0,s.b)(this,(function(u){switch(u.label){case 0:return this._validate()?this._isLoading?[3,3]:(e=[],this._hasNext?(this._isLoading=!0,t=s.V.of(this._iid).requestQueue,n=new We((0,s.g)((0,s.g)({},this),{channelUrl:this.channelUrl,token:this._token})),[4,t.send(n)]):[3,2]):[3,5];case 1:return r=u.sent(),i=r.as(Be),a=i.operators,o=i.token,this._token=o,this._hasNext=!!o,this._isLoading=!1,[2,a];case 2:return[2,e];case 3:throw s.s.queryInProgress;case 4:return[3,6];case 5:throw s.s.invalidParameters;case 6:return[2]}}))}))},t}(s.aC),Qe=function(e){function t(t,n,r,i){var a,o,u,c,l,d,h,_,f,p,m=this;return(m=e.call(this,t,n,r,i)||this).reverse=!1,m.messageTypeFilter=s.ar.ALL,m.customTypesFilter=null,m.senderUserIdsFilter=null,m.replyType=s.az.NONE,m.includeMetaArray=!1,m.includeReactions=!1,m.includeParentMessageInfo=!1,m.includeThreadInfo=!1,m.showSubchannelMessagesOnly=!1,m._edge=Number.MAX_SAFE_INTEGER,m.reverse=null!==(a=i.reverse)&&void 0!==a&&a,m.messageTypeFilter=null!==(o=i.messageTypeFilter)&&void 0!==o?o:s.ar.ALL,m.customTypesFilter=null!==(u=i.customTypesFilter)&&void 0!==u?u:null,m.senderUserIdsFilter=null!==(c=i.senderUserIdsFilter)&&void 0!==c?c:null,m.replyType=null!==(l=i.replyType)&&void 0!==l?l:s.az.NONE,m.includeMetaArray=null!==(d=i.includeMetaArray)&&void 0!==d&&d,m.includeReactions=null!==(h=i.includeReactions)&&void 0!==h&&h,m.includeParentMessageInfo=null!==(_=i.includeParentMessageInfo)&&void 0!==_&&_,m.includeThreadInfo=null!==(f=i.includeThreadInfo)&&void 0!==f&&f,m.showSubchannelMessagesOnly=null!==(p=i.showSubchannelMessagesOnly)&&void 0!==p&&p,m}return(0,s.c)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&(0,s.a)("boolean",this.reverse)&&(0,s.X)(s.ar,this.messageTypeFilter)&&(0,s.X)(s.az,this.replyType)&&(0,s.Q)("string",this.customTypesFilter,!0)&&(0,s.Q)("string",this.senderUserIdsFilter,!0)&&(0,s.a)("boolean",this.includeMetaArray)&&(0,s.a)("boolean",this.includeReactions)&&(0,s.a)("boolean",this.includeParentMessageInfo)&&(0,s.a)("boolean",this.includeThreadInfo)&&(0,s.a)("boolean",this.showSubchannelMessagesOnly)},t.prototype.load=function(){return(0,s._)(this,void 0,void 0,(function(){var e;return(0,s.b)(this,(function(t){switch(t.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,[4,Ti.of(this._iid).getMessagesByTimestamp(this.channelUrl,this.channelType,this._edge,(0,s.u)({prevResultSize:this.limit,nextResultSize:0,isInclusive:!1,reverse:this.reverse,messageTypeFilter:this.messageTypeFilter,customTypesFilter:this.customTypesFilter,replyType:this.replyType,senderUserIdsFilter:this.senderUserIdsFilter,includeReactions:this.includeReactions,includeMetaArray:this.includeMetaArray,includeParentMessageInfo:this.includeParentMessageInfo,includeThreadInfo:this.includeThreadInfo,showSubchannelMessagesOnly:this.showSubchannelMessagesOnly}))]):[3,2]:[3,5];case 1:return e=t.sent(),this._edge=Math.min.apply(Math,(0,s.p)([Number.MAX_SAFE_INTEGER],(0,s.q)(e.map((function(e){return e.createdAt}))),!1)),this._hasNext=e.length>=this.limit,this._isLoading=!1,[2,e];case 2:return[2,[]];case 3:throw s.s.queryInProgress;case 4:return[3,6];case 5:throw s.s.invalidParameters;case 6:return[2]}}))}))},t}(s.aC),Je=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType,a=t.limit,o=t.token;return(n=e.call(this)||this).method=s.A.GET,n.path="".concat((0,s.am)(i),"/").concat(encodeURIComponent(r),"/mute"),n.params={limit:a,token:o},n}return(0,s.c)(t,e),t}(s.f),Ze=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.mutedUsers=[];var i=n.next,s=n.muted_list;return r.token=i,s&&s.length>0&&(r.mutedUsers=s.map((function(e){return new Le(t,e)}))),r}return(0,s.c)(t,e),t}(s.h),Xe=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return(0,s.c)(t,e),t.prototype.next=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a;return(0,s.b)(this,(function(o){switch(o.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=s.V.of(this._iid).requestQueue,t=new Je((0,s.g)((0,s.g)({},this),{token:this._token})),[4,e.send(t)]):[3,2]:[3,5];case 1:return n=o.sent(),r=n.as(Ze),i=r.mutedUsers,a=r.token,this._token=a,this._hasNext=!!a,this._isLoading=!1,[2,i];case 2:return[2,[]];case 3:throw s.s.queryInProgress;case 4:return[3,6];case 5:throw s.s.invalidParameters;case 6:return[2]}}))}))},t}(s.aC),$e=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType,a=t.limit,o=t.token;return(n=e.call(this)||this).method=s.A.GET,n.path="".concat((0,s.am)(i),"/").concat(encodeURIComponent(r),"/ban"),n.params=(0,s.e)({limit:a,token:o}),n}return(0,s.c)(t,e),t}(s.f),et=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.bannedUsers=[];var i=n.next,s=n.banned_list;return r.token=i,s&&s.length>0&&(r.bannedUsers=s.map((function(e){return new Le(t,e.user)}))),r}return(0,s.c)(t,e),t}(s.h),tt=function(e){function t(t,n,r,i){return e.call(this,t,n,r,i)||this}return(0,s.c)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)},t.prototype.next=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a;return(0,s.b)(this,(function(o){switch(o.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=s.V.of(this._iid).requestQueue,t=new $e((0,s.g)((0,s.g)({},this),{token:this._token})),[4,e.send(t)]):[3,2]:[3,5];case 1:return n=o.sent(),r=n.as(et),i=r.bannedUsers,a=r.token,this._token=a,this._hasNext=!!a,this._isLoading=!1,[2,i];case 2:return[2,[]];case 3:throw s.s.queryInProgress;case 4:return[3,6];case 5:throw s.s.invalidParameters;case 6:return[2]}}))}))},t}(s.aC);!function(e){e.SPAM="spam",e.HARASSING="harassing",e.SUSPICIOUS="suspicious",e.INAPPROPRIATE="inappropriate"}(Re||(Re={}));var nt=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType,a=t.operatorUserIds;return(n=e.call(this)||this).method=s.A.POST,n.path="".concat((0,s.am)(i),"/").concat(encodeURIComponent(r),"/operators"),n.params={operator_ids:a},n}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(s.h);var rt=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType,a=t.operatorUserIds;return(n=e.call(this)||this).method=s.A.DELETE,n.path="".concat((0,s.am)(i),"/").concat(encodeURIComponent(r),"/operators"),n.params={operator_ids:a},n}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(t,n){return e.call(this,t,n)||this}),e)}(s.h);var it=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType,a=t.userId;return(n=e.call(this)||this).method=s.A.GET,n.path="".concat((0,s.am)(i),"/").concat(encodeURIComponent(r),"/mute/").concat(a),n}return(0,s.c)(t,e),t}(s.f),st=function(e){function t(t,n){var r=e.call(this,t,n)||this;r.isMuted=!1,r.startAt=0,r.endAt=0;var i=n.is_muted,s=n.start_at,a=n.end_at,o=n.remaining_duration,u=n.description;return r.isMuted=i,r.startAt=s,r.endAt=a,r.remainingDuration=o,r.description=u,r}return(0,s.c)(t,e),t}(s.h),at=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType,a=t.keys;return(n=e.call(this)||this).method=s.A.GET,n.path="".concat((0,s.am)(i),"/").concat(encodeURIComponent(r),"/metadata"),n.params={keys:a,include_ts:!0},n}return(0,s.c)(t,e),t}(s.f),ot=function(e){function t(t,n){var r=e.call(this,t,n)||this,i=n.metadata,s=n.ts;return r.metadata=i,r.ts=s,r}return(0,s.c)(t,e),t}(s.h),ut=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType,a=t.metadata;return(n=e.call(this)||this).method=s.A.POST,n.path="".concat((0,s.am)(i),"/").concat(encodeURIComponent(r),"/metadata"),n.params={metadata:a,include_ts:!0},n}return(0,s.c)(t,e),t}(s.f),ct=function(e){function t(t,n){var r,i,s=this;return(s=e.call(this,t,n)||this).metaData=null!==(r=n.metadata)&&void 0!==r?r:{},s.ts=null!==(i=n.ts)&&void 0!==i?i:null,s}return(0,s.c)(t,e),t}(s.h),lt=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType,a=t.metadata,o=t.upsert;return(n=e.call(this)||this).method=s.A.PUT,n.path="".concat((0,s.am)(i),"/").concat(encodeURIComponent(r),"/metadata"),n.params={metadata:a,include_ts:!0,upsert:null!=o&&o},n}return(0,s.c)(t,e),t}(s.f),dt=function(e){function t(t,n){var r=e.call(this,t,n)||this,i=n.metadata,s=n.ts;return r.metadata=i,r.ts=s,r}return(0,s.c)(t,e),t}(s.h),ht=function(e){function t(t,n,r){var i=e.call(this,t,"SYEV",r)||this;return r.data&&(i.created=r.data.created,i.updated=r.data.updated,i.deleted=r.data.deleted),i}return(0,s.c)(t,e),t}(s.W),_t=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType,a=t.key;return(n=e.call(this)||this).method=s.A.DELETE,n.path="".concat((0,s.am)(i),"/").concat(encodeURIComponent(r),"/metadata/").concat(a),n.params={include_ts:!0},n}return(0,s.c)(t,e),t}(s.f),ft=function(e){function t(t,n){var r=e.call(this,t,n)||this,i=n.ts;return r.ts=i,r}return(0,s.c)(t,e),t}(s.h),pt=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType;return(n=e.call(this)||this).method=s.A.DELETE,n.path="".concat((0,s.am)(i),"/").concat(encodeURIComponent(r),"/metadata"),n.params={include_ts:!0},n}return(0,s.c)(t,e),t}(s.f),mt=function(e){function t(t,n){var r=e.call(this,t,n)||this,i=n.ts;return r.ts=i,r}return(0,s.c)(t,e),t}(s.h),gt=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType,a=t.keys;return(n=e.call(this)||this).method=s.A.GET,n.path="".concat((0,s.am)(i),"/").concat(encodeURIComponent(r),"/metacounter"),n.params={keys:a},n}return(0,s.c)(t,e),t}(s.f),yt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.metaCounter=n,r}return(0,s.c)(t,e),t}(s.h),vt=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType,a=t.metaCounter;return(n=e.call(this)||this).method=s.A.POST,n.path="".concat((0,s.am)(i),"/").concat(encodeURIComponent(r),"/metacounter"),n.params={metacounter:a},n}return(0,s.c)(t,e),t}(s.f),bt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.metaCounter=n,r}return(0,s.c)(t,e),t}(s.h),Mt=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType,a=t.metaCounter,o=t.upsert,u=void 0!==o&&o,c=t.mode,l=void 0===c?"set":c;return(n=e.call(this)||this).method=s.A.PUT,n.path="".concat((0,s.am)(i),"/").concat(encodeURIComponent(r),"/metacounter"),n.params={metacounter:a,upsert:u,mode:l},n}return(0,s.c)(t,e),t}(s.f),Et=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.metaCounter=n,r}return(0,s.c)(t,e),t}(s.h),Lt=function(e){function t(t,n,r){var i=e.call(this,t,"SYEV",r)||this;return r.data&&(i.created=r.data.created,i.updated=r.data.updated,i.deleted=r.data.deleted),i}return(0,s.c)(t,e),t}(s.W),wt=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType,a=t.key;return(n=e.call(this)||this).method=s.A.DELETE,n.path="".concat((0,s.am)(i),"/").concat(encodeURIComponent(r),"/metacounter/").concat(a),n.params={},n}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(t,n){return e.call(this,t,n)||this}),e)}(s.h);var Tt=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType;return(n=e.call(this)||this).method=s.A.DELETE,n.path="".concat((0,s.am)(i),"/").concat(encodeURIComponent(r),"/metacounter"),n.params={},n}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(s.h);var kt=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType,a=t.userId,o=t.seconds,u=t.description;return(n=e.call(this)||this).method=s.A.POST,n.path="".concat((0,s.am)(i),"/").concat(encodeURIComponent(r),"/mute"),n.params={user_id:a,seconds:o,description:u},n}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(t,n){return e.call(this,t,n)||this}),e)}(s.h);var St=function(e){function t(t,n,r){var i=e.call(this,t,"SYEV",r)||this;return i.user=new Le(t,r.data),i}return(0,s.c)(t,e),t}(s.W),Dt=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType,a=t.userId;return(n=e.call(this)||this).method=s.A.DELETE,n.path="".concat((0,s.am)(i),"/").concat(encodeURIComponent(r),"/mute/").concat(encodeURIComponent(a)),n}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(s.h);var Ct=function(e){function t(t,n,r){var i=e.call(this,t,"SYEV",r)||this;return i.user=new Le(t,r.data),i}return(0,s.c)(t,e),t}(s.W),At=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType,a=t.userId,o=t.seconds,u=t.description;return(n=e.call(this)||this).method=s.A.POST,n.path="".concat((0,s.am)(i),"/").concat(encodeURIComponent(r),"/ban"),n.params=(0,s.e)({user_id:a,seconds:o,description:u}),n}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(s.h);var It=function(e){function t(t,n,r){var i=e.call(this,t,"SYEV",r)||this;return i.user=new Le(t,r.data),r.data.member_count&&(i.memberCount=r.data.member_count),r.data.joined_member_count&&(i.joinedMemberCount=r.data.joined_member_count),i}return(0,s.c)(t,e),t}(s.W),Nt=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType,a=t.userId;return(n=e.call(this)||this).method=s.A.DELETE,n.path="".concat((0,s.am)(i),"/").concat(encodeURIComponent(r),"/ban/").concat(encodeURIComponent(a)),n}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(s.h);var Yt=function(e){function t(t,n,r){var i=e.call(this,t,"SYEV",r)||this;return i.user=new Le(t,r.data),i}return(0,s.c)(t,e),t}(s.W),Ot=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType,a=t.freezing;return(n=e.call(this)||this).method=s.A.PUT,n.path="".concat((0,s.am)(i),"/").concat(encodeURIComponent(r),"/freeze"),n.params={freeze:a},n}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(s.h);var xt=function(e){function t(t,n,r){var i=e.call(this,t,"SYEV",r)||this;return i.freeze=r.data.freeze,i}return(0,s.c)(t,e),t}(s.W),Ut=function(e){return e instanceof s.a7?e._custom?"custom":e.name:e},Pt=function(e){if(e instanceof s.a7&&e._custom)return e.name},Rt=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType,a=t.category,o=t.userId,u=t.description;return(n=e.call(this)||this).method=s.A.POST,n.path="".concat((0,s.aD)(i),"/").concat(encodeURIComponent(r)),n.params=(0,s.e)({report_category:Ut(a),reporting_user_id:o,report_description:u,custom_report_category_name:Pt(a)}),n}return(0,s.c)(t,e),t}(s.f),Ht=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType,a=t.category,o=t.userId,u=t.offendingUserId,c=t.description;return(n=e.call(this)||this).method=s.A.POST,n.path="".concat(s.aE,"/users/").concat(u),n.params=(0,s.e)({channel_url:r,channel_type:i===s.C.OPEN?"open_channels":"group_channels",report_category:Ut(a),reporting_user_id:o,report_description:c,custom_report_category_name:Pt(a)}),n}return(0,s.c)(t,e),t}(s.f),Ft=function(e){function t(t){var n=this,r=t.channelUrl,i=t.channelType,a=t.category,o=t.userId,u=t.offendingUserId,c=t.messageId,l=t.description;return(n=e.call(this)||this).method=s.A.POST,n.path="".concat((0,s.aD)(i),"/").concat(encodeURIComponent(r),"/messages/").concat(c),n.params=(0,s.e)({report_category:Ut(a),reporting_user_id:o,report_description:l,offending_user_id:u,custom_report_category_name:Pt(a)}),n}return(0,s.c)(t,e),t}(s.f),jt=function(e){function t(t){var n=[];return t.mentionType===s.ak.USERS&&(t.mentionedUserIds?n=t.mentionedUserIds:t.mentionedUsers&&(n=t.mentionedUsers.map((function(e){return e.userId})))),e.call(this,{code:"MESG",ackRequired:!0,payload:(0,s.e)((0,s.u)({channel_url:t.channelUrl,message:t.message,data:t.data,custom_type:t.customType,metaarray:t.metaArrays,mention_type:t.mentionType,mentioned_user_ids:n,mentioned_message_template:t.mentionedMessageTemplate,target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption&&t.pushNotificationDeliveryOption!==s.au.DEFAULT?t.pushNotificationDeliveryOption:void 0,apple_critical_alert_options:t.appleCriticalAlertOptions,silent:t.silent,reply_to_channel:t.isReplyToChannel,parent_message_id:t.parentMessageId?t.parentMessageId:null,req_id:t.reqId,poll_id:t.pollId,pin_message:t.isPinnedMessage,extended_message_payload:t.extendedMessagePayload}))})||this}return(0,s.c)(t,e),t}(s.al),Vt=function(e){function t(t,n,r){var i,a,o,u,c=this;(c=e.call(this,t,"MESG",r)||this).message=new Q(t,r);var l=s.V.of(t).sdkState;return c.isMentioned=(0,s.av)(c.message.mentionType,null!==(o=null!==(i=c.message.mentionedUserIds)&&void 0!==i?i:null===(a=c.message.mentionedUsers)||void 0===a?void 0:a.map((function(e){return e.userId})))&&void 0!==o?o:[],l.userId),c.forceUpdateLastMessage=null!==(u=r.force_update_last_message)&&void 0!==u&&u,c}return(0,s.c)(t,e),t}(s.W),qt=function(e){function t(t){var n=null;return t.mentionType===s.ak.USERS&&(t.mentionedUserIds?n=t.mentionedUserIds:t.mentionedUsers&&(n=t.mentionedUsers.map((function(e){return e.userId})))),e.call(this,{code:"MEDI",ackRequired:!0,payload:(0,s.e)((0,s.u)({channel_url:t.channelUrl,msg_id:t.messageId,message:t.message,data:t.data,custom_type:t.customType,metaarray:t.metaArrayParams,mention_type:t.mentionType,mentioned_user_ids:n,mentioned_message_template:t.mentionedMessageTemplate,apple_critical_alert_options:t.appleCriticalAlertOptions?m.payloadify(t.appleCriticalAlertOptions):null,poll_id:t.pollId}))})||this}return(0,s.c)(t,e),t}(s.al),zt=function(e){function t(t,n,r){var i,a,o,u,c,l=this;(l=e.call(this,t,"MEDI",r)||this).message=new Q(t,r);var d=s.V.of(t).sdkState;return l.mentionCountChange=(0,s.aF)({mentionType:null===(i=r.old_values)||void 0===i?void 0:i.mention_type,mentionedUserIds:null!==(o=null===(a=r.old_values)||void 0===a?void 0:a.mentioned_user_ids)&&void 0!==o?o:[]},(0,s.u)({mentionType:l.message.mentionType,mentionedUserIds:null!==(u=l.message.mentionedUserIds)&&void 0!==u?u:null===(c=l.message.mentionedUsers)||void 0===c?void 0:c.map((function(e){return e.userId}))}),d.userId),l}return(0,s.c)(t,e),t}(s.W),Gt=function(e){function t(t){var n=null;return t.mentionType===s.ak.USERS&&(t.mentionedUserIds?n=t.mentionedUserIds:t.mentionedUsers&&(n=t.mentionedUsers.map((function(e){return e.userId})))),e.call(this,{code:"FEDI",ackRequired:!0,payload:(0,s.e)((0,s.u)({channel_url:t.channelUrl,msg_id:t.messageId,data:t.data,custom_type:t.customType,metaarray:t.metaArrayParams,mention_type:t.mentionType,mentioned_user_ids:n,apple_critical_alert_options:t.appleCriticalAlertOptions}))})||this}return(0,s.c)(t,e),t}(s.al),Wt=function(e){function t(t,n,r){var i,a,o,u,c,l=this;(l=e.call(this,t,"FEDI",r)||this).message=new te(t,r);var d=s.V.of(t).sdkState;return l.mentionCountChange=(0,s.aF)({mentionType:null===(i=r.old_values)||void 0===i?void 0:i.mention_type,mentionedUserIds:null!==(o=null===(a=r.old_values)||void 0===a?void 0:a.mentioned_user_ids)&&void 0!==o?o:[]},(0,s.u)({mentionType:l.message.mentionType,mentionedUserIds:null!==(u=l.message.mentionedUserIds)&&void 0!==u?u:null===(c=l.message.mentionedUsers)||void 0===c?void 0:c.map((function(e){return e.userId}))}),d.userId),l}return(0,s.c)(t,e),t}(s.W),Bt=function(e){function t(t){var n=t.channelType,r=t.channelUrl,i=t.messageId,a=t.reactionKey,o=e.call(this)||this;return o.method=s.A.POST,o.path="".concat((0,s.am)(n),"/").concat(encodeURIComponent(r),"/messages/").concat(i,"/reactions"),o.params={reaction:a},o}return(0,s.c)(t,e),t}(s.f),Kt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.reactionEvent=new d(n),r}return(0,s.c)(t,e),t}(s.h),Qt=function(e){function t(t){var n=t.channelType,r=t.channelUrl,i=t.messageId,a=t.reactionKey,o=e.call(this)||this;return o.method=s.A.DELETE,o.path="".concat((0,s.am)(n),"/").concat(encodeURIComponent(r),"/messages/").concat(i,"/reactions"),o.params={reaction:a},o}return(0,s.c)(t,e),t}(s.f),Jt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.reactionEvent=new d((0,s.g)({},n)),r}return(0,s.c)(t,e),t}(s.h),Zt=function(e){function t(t){var n=t.channelType,r=t.channelUrl,i=t.messageId,a=t.translationTargetLanguages,o=e.call(this)||this;return o.method=s.A.POST,o.path="".concat((0,s.am)(n),"/").concat(encodeURIComponent(r),"/messages/").concat(encodeURIComponent(i),"/translation"),o.params={target_langs:a},o}return(0,s.c)(t,e),t}(s.f),Xt=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.message=new Q(t,n),r}return(0,s.c)(t,e),t}(s.h),$t=function(e){function t(t){var n,r=this;r=e.call(this)||this;var i=[];t.mentionType===s.ak.USERS&&(t.mentionedUserIds?i=t.mentionedUserIds:t.mentionedUsers&&(i=t.mentionedUsers.map((function(e){return e.userId}))));var a=t.channelType,o=t.channelUrl;return r.method=s.A.POST,r.path="".concat((0,s.am)(a),"/").concat(encodeURIComponent(o),"/scheduled_messages"),r.params=(0,s.e)((0,s.u)({req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:s.aG.USER,message:t.message,custom_type:t.customType,data:t.data,mention_type:t.mentionType,mentioned_user_ids:i,sorted_metaarray:null===(n=t.metaArrays)||void 0===n?void 0:n.map((function(e){return v.payloadify(e)})),apple_critical_alert_options:t.appleCriticalAlertOptions?m.payloadify(t.appleCriticalAlertOptions):null,target_langs:t.translationTargetLanguages,push_option:t.pushNotificationDeliveryOption})),r}return(0,s.c)(t,e),t}(s.f),en=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.message=new Q(t,n),r}return(0,s.c)(t,e),t}(s.h),tn=function(e){function t(t){var n,r,i=this;i=e.call(this)||this;var o=[];t.mentionType===s.ak.USERS&&(t.mentionedUserIds?o=t.mentionedUserIds:t.mentionedUsers&&(o=t.mentionedUsers.map((function(e){return e.userId}))));var u=t.channelType,c=t.channelUrl;return i.method=s.A.POST,i.path="".concat((0,s.am)(u),"/").concat(encodeURIComponent(c),"/scheduled_messages"),i.params=(0,s.u)({req_id:t.reqId,scheduled_at:t.scheduledAt,message_type:s.aG.FILE,url:t.fileUrl,file_name:t.fileName,file_size:t.fileSize,file_type:t.mimeType,thumbnails:null===(n=t._thumbnails)||void 0===n?void 0:n.map((function(e){return a.payloadify(e)})),custom_type:t.customType,data:t.data,require_auth:t.requireAuth,mention_type:t.mentionType,mentioned_user_ids:o,sorted_metaarray:null===(r=t.metaArrays)||void 0===r?void 0:r.map((function(e){return v.payloadify(e)})),apple_critical_alert_options:t.appleCriticalAlertOptions?m.payloadify(t.appleCriticalAlertOptions):null,push_option:t.pushNotificationDeliveryOption}),i}return(0,s.c)(t,e),t}(s.f),nn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.message=new te(t,n),r}return(0,s.c)(t,e),t}(s.h),rn=function(e){function t(t){var n=t.pollId,r=t.title,i=t.data,a=t.allowUserSuggestion,o=t.allowMultipleVotes,u=t.closeAt,c=e.call(this)||this;return c.method=s.A.PUT,c.path="".concat(s.aI,"/").concat(encodeURIComponent(n)),c.params={title:r,data:i,allow_user_suggestion:a,allow_multiple_votes:o,close_at:u},c}return(0,s.c)(t,e),t}(s.f),sn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.poll=new s.as(t,n),r}return(0,s.c)(t,e),t}(s.h),an=function(e){function t(t){var n=t.pollId,r=e.call(this)||this;return r.method=s.A.DELETE,r.path="".concat(s.aI,"/").concat(encodeURIComponent(n)),r}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(s.h);var on=function(e){function t(t){var n=t.pollId,r=e.call(this)||this;return r.method=s.A.PUT,r.path="".concat(s.aI,"/").concat(encodeURIComponent(n),"/close"),r}return(0,s.c)(t,e),t}(s.f),un=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.poll=new s.as(t,n),r}return(0,s.c)(t,e),t}(s.h),cn=function(e){function t(t){var n=t.channelUrl,r=t.channelType,i=t.pollId,a=t.optionText,o=e.call(this)||this;return o.method=s.A.POST,o.path="".concat(s.aI,"/").concat(encodeURIComponent(i),"/options"),o.params={channel_url:n,channel_type:r,text:a},o}return(0,s.c)(t,e),t}(s.f),ln=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.poll=new s.as(t,n),r}return(0,s.c)(t,e),t}(s.h),dn=function(e){function t(t){var n=t.pollId,r=t.pollOptionId,i=t.optionText,a=e.call(this)||this;return a.method=s.A.PUT,a.path="".concat(s.aI,"/").concat(encodeURIComponent(n),"/options/").concat(encodeURIComponent(r)),a.params={text:i},a}return(0,s.c)(t,e),t}(s.f),hn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.poll=new s.as(t,n),r}return(0,s.c)(t,e),t}(s.h),_n=function(e){function t(t){var n=t.pollId,r=t.pollOptionId,i=e.call(this)||this;return i.method=s.A.DELETE,i.path="".concat(s.aI,"/").concat(encodeURIComponent(n),"/options/").concat(encodeURIComponent(r)),i}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(){return null!==e&&e.apply(this,arguments)||this}),e)}(s.h);var fn=function(e){function t(t){var n=t.reqId,r=t.channelType,i=t.channelUrl,a=t.pollId,o=t.pollOptionIds;return e.call(this,{code:"VOTE",ackRequired:!0,payload:(0,s.e)({req_id:n,channel_type:r===s.C.OPEN?"open_channels":"group_channels",channel_url:i,poll_id:a,option_ids:o})})||this}return(0,s.c)(t,e),t}(s.al),pn=function(e){function t(t,n,r){var i=e.call(this,t,"VOTE",r)||this;return i.event=new s.aJ(r),i.channelUrl=r.channel_url,i.channelType=r.channel_type,i}return(0,s.c)(t,e),t}(s.W),mn=100,gn="GroupChannel",yn="url",vn=100,bn="Message",Mn="messageId",En="NotificationMessage",Ln="notificationId",wn="Poll",Tn="pollId",kn="FeedChannel",Sn="url";function Dn(e){var t,n,r;return null!==(t=e.messageParams)&&void 0!==t?t:(0,s.u)((0,s.g)((0,s.g)({},e),{isReplyToChannel:!1,mentionedUserIds:null!==(n=e.mentionedUserIds)&&void 0!==n?n:null===(r=e.mentionedUsers)||void 0===r?void 0:r.map((function(e){return e.userId})),pushNotificationDeliveryOption:s.au.DEFAULT,isPinnedMessage:!1,fileInfoList:e.fileInfoList.map((function(e){var t;return{fileUrl:e.plainUrl,fileName:e.fileName,fileSize:e.fileSize,mimeType:e.mimeType,thumbnailSizes:null===(t=e.thumbnails)||void 0===t?void 0:t.map((function(e){return{maxWidth:e.width,maxHeight:e.height}})),_thumbnails:e.thumbnails,_uploadedMetaData:{requireAuth:e._requireAuth,isUploaded:!0}}}))}))}var Cn=(0,s.g)((0,s.g)({},Te),{fileInfoList:[],message:""}),An=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onFileUploaded=s.aB,t}return(0,s.c)(t,e),t.prototype._triggerOnFileUploaded=function(e,t,n,r){this._onFileUploaded(e,t,n,r)},t.prototype.onFileUploaded=function(e){return this._onFileUploaded=e,this},t.prototype.onPending=function(t){return e.prototype.onPending.call(this,t),this},t.prototype.onFailed=function(t){return e.prototype.onFailed.call(this,t),this},t.prototype.onSucceeded=function(t){return e.prototype.onSucceeded.call(this,t),this},t}(we),In=function(e){function t(t,n){var r=e.call(this,t)||this;return r.message=null,r.message=ee(t,n.message),r}return(0,s.c)(t,e),t}(s.ag),Nn=function(e){function t(t){var n=this,r=t.channelType,i=t.channelUrl,a=t.limit,o=t.token,u=t.includeReactions,c=t.includeMetaArray,l=t.includeParentMessageInfo,d=t.includeThreadInfo,h=t.includePollDetails;return(n=e.call(this)||this).method=s.A.GET,n.path="".concat((0,s.am)(r),"/").concat(encodeURIComponent(i),"/pinned_messages"),n.params=(0,s.e)({limit:a,token:o,include_reactions_summary:u,with_sorted_meta_array:c,include_thread_info:d,include_parent_message_info:l,include_poll_details:h}),n}return(0,s.c)(t,e),t}(s.f),Yn=function(e){function t(t,n){var r=e.call(this,t,n)||this,i=n.pinned_messages,s=n.has_more,a=n.next;return r.pinnedMessages=i.map((function(e){return new In(t,e)})),r.hasMore=s,r.token=a,r}return(0,s.c)(t,e),t}(s.h),On=function(e){function t(t,n,r,i){var s=e.call(this,t,n,r,i)||this;return s.includeMetaArray=i.includeMetaArray,s.includeReactions=i.includeReactions,s.includeParentMessageInfo=i.includeParentMessageInfo,s.includeThreadInfo=i.includeThreadInfo,s.includePollDetails=i.includePollDetails,s}return(0,s.c)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&(0,s.a)("boolean",this.includeMetaArray,!0)&&(0,s.a)("boolean",this.includeReactions,!0)&&(0,s.a)("boolean",this.includeParentMessageInfo,!0)&&(0,s.a)("boolean",this.includeThreadInfo,!0)&&(0,s.a)("boolean",this.includePollDetails,!0)},t.prototype.next=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a,o;return(0,s.b)(this,(function(u){switch(u.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=s.V.of(this._iid).requestQueue,t=new Nn((0,s.g)((0,s.g)({},this),{token:this._token})),[4,e.send(t)]):[3,2]:[3,5];case 1:return n=u.sent(),r=n.as(Yn),i=r.pinnedMessages,a=r.hasMore,o=r.token,this._token=o,this._hasNext=!!a,this._isLoading=!1,[2,i];case 2:return[2,[]];case 3:throw s.s.queryInProgress;case 4:return[3,6];case 5:throw s.s.invalidParameters;case 6:return[2]}}))}))},t}(s.aC),xn=function(e){function t(t){var n=t.channelType,r=t.channelUrl,i=t.messageId,a=e.call(this)||this;return a.method=s.A.POST,a.path="".concat((0,s.am)(n),"/").concat(encodeURIComponent(r),"/messages/").concat(i,"/pin"),a}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(t,n){return e.call(this,t,n)||this}),e)}(s.h);var Un=function(e){function t(t){var n=t.channelType,r=t.channelUrl,i=t.messageId,a=e.call(this)||this;return a.method=s.A.DELETE,a.path="".concat((0,s.am)(n),"/").concat(encodeURIComponent(r),"/messages/").concat(i,"/pin"),a}return(0,s.c)(t,e),t}(s.f);!function(e){(0,s.c)((function(t,n){return e.call(this,t,n)||this}),e)}(s.h);var Pn,Rn=2;!function(e){e.SEND="send",e.RESEND="resend",e.COPY="copy"}(Pn||(Pn={}));var Hn,Fn=function(e){function t(t,n){var r,i,a,o,u,c,l,d=this;return(d=e.call(this,t)||this)._name="",d._createdAt=0,d.pinnedMessageIds=[],d.channelType=s.C.BASE,d.coverUrl="",d.customType="",d.data="",d.isFrozen=!1,d.isEphemeral=!1,d.creator=null,d._messageCollectionLastAccessedAt=0,d._url=n.channel_url,d._name=null!==(r=n.name)&&void 0!==r?r:"",d._createdAt=1e3*n.created_at,d.coverUrl=null!==(i=n.cover_url)&&void 0!==i?i:"",d.customType=null!==(a=n.custom_type)&&void 0!==a?a:"",d.data=null!==(o=n.data)&&void 0!==o?o:"",d.isFrozen=null!==(u=n.freeze)&&void 0!==u&&u,d.isEphemeral=null!==(c=n.is_ephemeral)&&void 0!==c&&c,d.creator=n.created_by?new s.U(d._iid,n.created_by):null,n.metadata&&Object.keys(n.metadata).length>0&&n.ts?(d._cachedMetaData=new Map,Object.keys(n.metadata).forEach((function(e){d._cachedMetaData.set(e,{value:n.metadata[e],isRemoved:!1,updatedAt:n.ts})}))):"string"==typeof n.metadata&&(d._cachedMetaData=new Map(Object.entries(JSON.parse(n.metadata)))),d.pinnedMessageIds=null!==(l=n.pinned_message_ids)&&void 0!==l?l:[],d}return(0,s.c)(t,e),Object.defineProperty(t.prototype,"url",{get:function(){return this._url},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(e){this._name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"createdAt",{get:function(){return this._createdAt},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return(0,s.g)((0,s.g)({},this),{url:this._url,name:this._name,createdAt:this._createdAt})},t.payloadify=function(t){return(0,s.e)((0,s.u)((0,s.g)((0,s.g)({},e.payloadify.call(this,t)),{channel_url:t.url,name:t.name,cover_url:t.coverUrl,custom_type:t.customType,data:t.data,freeze:t.isFrozen,is_ephemeral:t.isEphemeral,created_by:t.creator?s.U.payloadify(t.creator):null,created_at:t.createdAt/1e3,metadata:t.cachedMetaData,pinned_message_ids:t.pinnedMessageIds})))},t.prototype.isGroupChannel=function(){return this.channelType===s.C.GROUP},t.prototype.isOpenChannel=function(){return this.channelType===s.C.OPEN},t.prototype.isFeedChannel=function(){return this.channelType===s.C.FEED},Object.defineProperty(t.prototype,"cachedMetaData",{get:function(){var e={};return this._cachedMetaData?(this._cachedMetaData.forEach((function(t,n){t.isRemoved||(e[n]=t.value)})),e):e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"messageCollectionLastAccessedAt",{get:function(){return this._messageCollectionLastAccessedAt},enumerable:!1,configurable:!0}),t.prototype._serializeCachedMetaData=function(){return this._cachedMetaData?{cachedMetaData:JSON.stringify(Object.fromEntries(this._cachedMetaData))}:{}},t.prototype._updateMessageCollectionLastAccessedAt=function(){this._messageCollectionLastAccessedAt=Date.now()},t.prototype._update=function(e){var t=(0,s.e)(e);Object.assign(this,t)},t.prototype._upsertCachedMetaData=function(e,t){var n=this;Object.keys(e).forEach((function(r){n._cachedMetaData||(n._cachedMetaData=new Map);var i=n._cachedMetaData.get(r);(!i||i.updatedAt<=t)&&n._cachedMetaData.set(r,{value:e[r],isRemoved:!1,updatedAt:t})}))},t.prototype._updateCachedMetaData=function(e,t){var n=this,r=!1;return this._cachedMetaData?this._cachedMetaData.forEach((function(i,s){var a;i.updatedAt<=t&&(n._cachedMetaData.set(s,{value:null!==(a=e[s])&&void 0!==a?a:i.value,isRemoved:!e[s],updatedAt:t}),r=!0)})):(this._cachedMetaData=new Map,Object.keys(e).forEach((function(r){n._cachedMetaData.set(r,{value:e[r],isRemoved:!1,updatedAt:t})})),r=!0),{isUpdated:r}},t.prototype._removeFromCachedMetaData=function(e,t){var n=this;this._cachedMetaData&&e.forEach((function(e){var r=n._cachedMetaData.get(e);r&&r.updatedAt<t&&(r.isRemoved=!0,r.updatedAt=t)}))},t.prototype._clearCachedMetaData=function(){this._cachedMetaData&&this._cachedMetaData.clear()},t.prototype._runIfHandleableWithGroupChannel=function(e){this.isGroupChannel()?e(this):this.isFeedChannel()&&e(this.groupChannel)},t.prototype._generateRequestId=function(){return"rq-".concat((0,s.n)())},t.prototype.isIdentical=function(e){return e&&this.url===e.url},t.prototype.isEqual=function(e){return(0,s.ah)(this,e)},t.prototype.createOperatorListQuery=function(e){return void 0===e&&(e={}),new Ke(this._iid,this.url,this.channelType,e)},t.prototype.createMutedUserListQuery=function(e){return void 0===e&&(e={}),new Xe(this._iid,this.url,this.channelType,e)},t.prototype.createBannedUserListQuery=function(e){return void 0===e&&(e={}),new tt(this._iid,this.url,this.channelType,e)},t.prototype.createPreviousMessageListQuery=function(e){return void 0===e&&(e={}),new Qe(this._iid,this.url,this.channelType,e)},t.prototype.createPinnedMessageListQuery=function(e){return void 0===e&&(e={}),new On(this._iid,this.url,this.channelType,e)},t.prototype.addOperators=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return(0,s.w)((0,s.Q)("string",e)).throw(s.s.invalidParameters),t=s.V.of(this._iid).requestQueue,n=new nt({channelUrl:this.url,channelType:this.channelType,operatorUserIds:e}),[4,t.send(n)];case 1:return r.sent(),[2]}}))}))},t.prototype.removeOperators=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return(0,s.w)((0,s.Q)("string",e)).throw(s.s.invalidParameters),t=s.V.of(this._iid).requestQueue,n=new rt({channelUrl:this.url,channelType:this.channelType,operatorUserIds:e}),[4,t.send(n)];case 1:return r.sent(),[2]}}))}))},t.prototype.getMyMutedInfo=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a,o,u,c,l,d;return(0,s.b)(this,(function(h){switch(h.label){case 0:return e=s.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new it({channelUrl:this.url,channelType:this.channelType,userId:t.userId}),[4,n.send(r)];case 1:return i=h.sent(),a=i.as(st),o=a.isMuted,u=a.startAt,c=a.endAt,l=a.remainingDuration,d=a.description,[2,{isMuted:o,startAt:u,endAt:c,remainingDuration:l,description:d}]}}))}))},t.prototype.getMetaData=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o;return(0,s.b)(this,(function(u){switch(u.label){case 0:return(0,s.w)((0,s.Q)("string",e)).throw(s.s.invalidParameters),t=s.V.of(this._iid).requestQueue,n=new at({channelUrl:this.url,channelType:this.channelType,keys:e}),[4,t.send(n)];case 1:return r=u.sent(),i=r.as(ot),a=i.metadata,o=i.ts,this._upsertCachedMetaData(a,o),[2,a]}}))}))},t.prototype.getAllMetaData=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a;return(0,s.b)(this,(function(o){switch(o.label){case 0:return e=s.V.of(this._iid).requestQueue,t=new at({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,e.send(t)];case 1:return n=o.sent(),r=n.as(ot),i=r.metadata,a=r.ts,this._updateCachedMetaData(i,a),[2,i]}}))}))},t.prototype.createMetaData=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i;return(0,s.b)(this,(function(a){switch(a.label){case 0:return t=s.V.of(this._iid).requestQueue,n=new ut({channelUrl:this.url,channelType:this.channelType,metadata:e}),[4,t.send(n)];case 1:return r=a.sent(),i=r.as(ct).metaData,this._upsertCachedMetaData(i,0),[2,i]}}))}))},t.prototype.updateMetaData=function(e,t){return void 0===t&&(t=!1),(0,s._)(this,void 0,void 0,(function(){var n,r,i,a,o,u;return(0,s.b)(this,(function(c){switch(c.label){case 0:return n=s.V.of(this._iid).requestQueue,r=new lt({channelUrl:this.url,channelType:this.channelType,metadata:e,upsert:t}),[4,n.send(r)];case 1:return i=c.sent(),a=i.as(dt),o=a.metadata,u=a.ts,this._upsertCachedMetaData(o,u),[2,o]}}))}))},t.prototype.deleteMetaData=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i;return(0,s.b)(this,(function(a){switch(a.label){case 0:return(0,s.w)((0,s.a)("string",e)).throw(s.s.invalidParameters),t=s.V.of(this._iid).requestQueue,n=new _t({channelUrl:this.url,channelType:this.channelType,key:e}),[4,t.send(n)];case 1:return r=a.sent(),i=r.as(ft).ts,this._removeFromCachedMetaData([e],i),[2]}}))}))},t.prototype.deleteAllMetaData=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r;return(0,s.b)(this,(function(i){switch(i.label){case 0:return e=s.V.of(this._iid).requestQueue,t=new pt({channelUrl:this.url,channelType:this.channelType}),[4,e.send(t)];case 1:return n=i.sent(),r=n.as(mt).ts,this._removeFromCachedMetaData((0,s.p)([],(0,s.q)(this._cachedMetaData.keys()),!1),r),[2]}}))}))},t.prototype.getMetaCounters=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return(0,s.w)((0,s.Q)("string",e)).throw(s.s.invalidParameters),t=s.V.of(this._iid).requestQueue,n=new gt({channelUrl:this.url,channelType:this.channelType,keys:e}),[4,t.send(n)];case 1:return[2,r.sent().as(yt).metaCounter]}}))}))},t.prototype.getAllMetaCounters=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return e=s.V.of(this._iid).requestQueue,t=new gt({channelUrl:this.url,channelType:this.channelType,keys:[]}),[4,e.send(t)];case 1:return[2,n.sent().as(yt).metaCounter]}}))}))},t.prototype.createMetaCounters=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return t=s.V.of(this._iid).requestQueue,n=new vt({channelUrl:this.url,channelType:this.channelType,metaCounter:e}),[4,t.send(n)];case 1:return[2,r.sent().as(bt).metaCounter]}}))}))},t.prototype.updateMetaCounters=function(e,t){return void 0===t&&(t=!1),(0,s._)(this,void 0,void 0,(function(){var n,r;return(0,s.b)(this,(function(i){switch(i.label){case 0:return n=s.V.of(this._iid).requestQueue,r=new Mt({channelUrl:this.url,channelType:this.channelType,metaCounter:e,upsert:t}),[4,n.send(r)];case 1:return[2,i.sent().as(Et).metaCounter]}}))}))},t.prototype.increaseMetaCounters=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return t=s.V.of(this._iid).requestQueue,n=new Mt({channelUrl:this.url,channelType:this.channelType,metaCounter:e,upsert:!1,mode:"increase"}),[4,t.send(n)];case 1:return[2,r.sent().as(Et).metaCounter]}}))}))},t.prototype.decreaseMetaCounters=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return t=s.V.of(this._iid).requestQueue,n=new Mt({channelUrl:this.url,channelType:this.channelType,metaCounter:e,upsert:!1,mode:"decrease"}),[4,t.send(n)];case 1:return[2,r.sent().as(Et).metaCounter]}}))}))},t.prototype.deleteMetaCounter=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return(0,s.w)((0,s.a)("string",e)).throw(s.s.invalidParameters),t=s.V.of(this._iid).requestQueue,n=new wt({channelUrl:this.url,channelType:this.channelType,key:e}),[4,t.send(n)];case 1:return r.sent(),[2]}}))}))},t.prototype.deleteAllMetaCounters=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return e=s.V.of(this._iid).requestQueue,t=new Tt({channelUrl:this.url,channelType:this.channelType}),[4,e.send(t)];case 1:return n.sent(),[2]}}))}))},t.prototype.muteUser=function(e,t,n){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(r){return[2,this.muteUserWithUserId(e.userId,t,n)]}))}))},t.prototype.muteUserWithUserId=function(e,t,n){return(0,s._)(this,void 0,void 0,(function(){var r,i;return(0,s.b)(this,(function(a){switch(a.label){case 0:return(0,s.w)((0,s.a)("string",e)&&(0,s.a)("number",t,!0)&&(0,s.a)("string",n,!0)).throw(s.s.invalidParameters),r=s.V.of(this._iid).requestQueue,i=new kt({channelUrl:this.url,channelType:this.channelType,userId:e,seconds:t,description:n}),[4,r.send(i)];case 1:return a.sent(),[2]}}))}))},t.prototype.unmuteUser=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){return[2,this.unmuteUserWithUserId(e.userId)]}))}))},t.prototype.unmuteUserWithUserId=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return(0,s.w)((0,s.a)("string",e)).throw(s.s.invalidParameters),t=s.V.of(this._iid).requestQueue,n=new Dt({channelUrl:this.url,channelType:this.channelType,userId:e}),[4,t.send(n)];case 1:return r.sent(),[2]}}))}))},t.prototype.banUser=function(e,t,n){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(r){return[2,this.banUserWithUserId(e.userId,t,n)]}))}))},t.prototype.banUserWithUserId=function(e,t,n){return(0,s._)(this,void 0,void 0,(function(){var r,i;return(0,s.b)(this,(function(a){switch(a.label){case 0:return(0,s.w)((0,s.a)("string",e)&&(0,s.a)("number",t,!0)&&(0,s.a)("string",n,!0)).throw(s.s.invalidParameters),r=s.V.of(this._iid).requestQueue,i=new At({channelUrl:this.url,channelType:this.channelType,userId:e,seconds:t,description:n}),[4,r.send(i)];case 1:return a.sent(),[2]}}))}))},t.prototype.unbanUser=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){return[2,this.unbanUserWithUserId(e.userId)]}))}))},t.prototype.unbanUserWithUserId=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return(0,s.w)((0,s.a)("string",e)).throw(s.s.invalidParameters),t=s.V.of(this._iid).requestQueue,n=new Nt({channelUrl:this.url,channelType:this.channelType,userId:e}),[4,t.send(n)];case 1:return r.sent(),[2]}}))}))},t.prototype.freeze=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return e=s.V.of(this._iid).requestQueue,t=new Ot({channelUrl:this.url,channelType:this.channelType,freezing:!0}),[4,e.send(t)];case 1:return n.sent(),this.isFrozen=!0,[2]}}))}))},t.prototype.unfreeze=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return e=s.V.of(this._iid).requestQueue,t=new Ot({channelUrl:this.url,channelType:this.channelType,freezing:!1}),[4,e.send(t)];case 1:return n.sent(),this.isFrozen=!1,[2]}}))}))},t.prototype.getMessagesByMessageId=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return n=(0,s.g)((0,s.g)({},le),t),(0,s.w)((0,s.a)("number",e)&&de(n)).throw(s.s.invalidParameters),[4,Ti.of(this._iid).getMessagesByMessageId(this.url,this.channelType,e,n)];case 1:return[2,r.sent()]}}))}))},t.prototype.getMessagesByTimestamp=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return n=(0,s.g)((0,s.g)({},le),t),(0,s.w)((0,s.a)("number",e)&&de(n)).throw(s.s.invalidParameters),[4,Ti.of(this._iid).getMessagesByTimestamp(this.url,this.channelType,e,n)];case 1:return[2,r.sent()]}}))}))},t.prototype.getMessageChangeLogsSinceTimestamp=function(e,t){return void 0===t&&(t={}),(0,s._)(this,void 0,void 0,(function(){var n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return n=(0,s.g)((0,s.g)({},he),t),(0,s.w)((0,s.a)("number",e)&&_e(n)).throw(s.s.invalidParameters),[4,Ti.of(this._iid).getMessageChangelogs(this.url,this.channelType,e,n)];case 1:return[2,r.sent()]}}))}))},t.prototype.getMessageChangeLogsSinceToken=function(e,t){return void 0===t&&(t={}),(0,s._)(this,void 0,void 0,(function(){var n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return n=(0,s.g)((0,s.g)({},he),t),(0,s.w)((0,s.a)("string",e)&&_e(n)).throw(s.s.invalidParameters),[4,Ti.of(this._iid).getMessageChangelogs(this.url,this.channelType,e,n)];case 1:return[2,r.sent()]}}))}))},t.prototype._createPendingSendableMessagePayload=function(e,t,n){var r,i=s.V.of(this._iid).sessionManager;return(0,s.e)((0,s.u)({channel_url:this.url,channel_type:this.channelType,msg_id:0,parent_message_id:e.parentMessageId,data:e.data,custom_type:e.customType,mention_type:e.mentionType,sorted_metaarray:e.metaArrays?e.metaArrays.map((function(e){return v.payloadify(e)})):null,apple_critical_alert_options:e.appleCriticalAlertOptions?m.payloadify(e.appleCriticalAlertOptions):null,created_at:n,user:i.currentUser?y.payloadify(i.currentUser):null,req_id:t,request_state:s.ap.PENDING,mentioned_user_ids:e.mentionedUserIds,mentioned_users:null===(r=e.mentionedUsers)||void 0===r?void 0:r.map((function(e){return s.U.payloadify(e)}))}))},t.prototype._createPendingUserMessage=function(e,t,n){var r,i,a={};if(e.translationTargetLanguages)try{for(var o=(0,s.t)(e.translationTargetLanguages),u=o.next();!u.done;u=o.next())a[u.value]=""}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}var c=(0,s.e)((0,s.g)((0,s.g)({},this._createPendingSendableMessagePayload(e,t,n)),{type:s.ai.USER,message:e.message,translations:a,extended_message_payload:e.extendedMessagePayload})),l=new Q(this._iid,c);return l.messageParams=e,l},t.prototype._createPendingScheduledUserMessage=function(e,t,n){var r=this._createPendingUserMessage(e,t,n);return r.scheduledInfo={scheduledMessageId:0,scheduledAt:e.scheduledAt,scheduledMessageParams:e},r},t.prototype._createPendingFileMessage=function(e,t,n){var r,i,o,u,c,l,d,h=(0,s.e)((0,s.g)((0,s.g)({},this._createPendingSendableMessagePayload(e,t,n)),{type:s.ai.FILE,url:e.fileUrl,file:{name:null!==(r=e.fileName)&&void 0!==r?r:null===(i=e.file)||void 0===i?void 0:i.name,size:null!==(o=e.fileSize)&&void 0!==o?o:null===(u=e.file)||void 0===u?void 0:u.size,type:null!==(c=e.mimeType)&&void 0!==c?c:null===(l=e.file)||void 0===l?void 0:l.type,data:e.data},thumbnails:null===(d=e._thumbnails)||void 0===d?void 0:d.map((function(e){return a.payloadify(e)})),message:e.message})),_=new te(this._iid,h);return _.messageParams=e,_},t.prototype._createPendingMultipleFilesMessage=function(e,t,n){var r=(0,s.e)((0,s.g)((0,s.g)({},this._createPendingSendableMessagePayload(e,t,n)),{type:s.ai.FILE,file:e.fileInfoList.length>0?{name:e.fileInfoList[0].fileName,size:e.fileInfoList[0].fileSize,type:e.fileInfoList[0].mimeType,data:e.data}:void 0,message:e.message})),i=new J(this._iid,r);return i.messageParams=e,i},t.prototype._validateFailedFileMessageHasFile=function(e,t){var n;return Boolean(e.url)||(0,s.i)(t)||(0,s.i)(null===(n=e.messageParams)||void 0===n?void 0:n.file)},t.prototype._createPendingScheduledFileMessage=function(e,t,n){var r=this._createPendingFileMessage(e,t,n);return r.scheduledInfo={scheduledMessageId:0,scheduledAt:e.scheduledAt,scheduledMessageParams:e},r},t.prototype._markMessageAsFailed=function(e,t,n){void 0===n&&(n=!1),e.errorCode=t.code,t.code===s.a9.REQUEST_CANCELED||t.code===s.a9.FILE_UPLOAD_CANCEL_FAILED?e.sendingStatus=s.ap.CANCELED:n||(e.sendingStatus=s.ap.FAILED)},t.prototype.sendUserMessage=function(e){var t=(0,s.g)((0,s.g)({},De),e);return(0,s.w)(Ne(t)).throw(s.s.invalidParameters),this._sendUserMessage(t)},t.prototype._sendUserMessage=function(e,t,n){var r=this;void 0===t&&(t=Pn.SEND);var i=s.V.of(this._iid),a=i.dispatcher,o=i.requestQueue,u=null!=n?n:this._generateRequestId(),c=Date.now(),l=new we;return(0,s.ax)(2).then((function(){var n=r._createPendingUserMessage(e,u,c);a.dispatch(new s.ao({messages:[n],source:t===Pn.RESEND?s.a2.LOCAL_MESSAGE_RESEND_STARTED:s.a2.EVENT_MESSAGE_SENT_PENDING})),(0,s.G)((function(){return(0,s._)(r,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2,l._trigger(n)]}))}))}));var i=new jt((0,s.g)((0,s.g)({},e),{channelUrl:r.url,channelType:r.channelType,reqId:u}));o.send(i).then((function(e){var t=e.as(Vt).message;a.dispatch(new s.ao({messages:[t],source:s.a2.EVENT_MESSAGE_SENT_SUCCESS})),(0,s.G)((function(){return(0,s._)(r,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2,l._trigger(t)]}))}))}))})).catch((function(t){if((0,s.O)(t))throw t;(0,s.ax)(2).then((function(){var n=r._createPendingUserMessage(e,u,c),i=s.V.of(r._iid).cacheContext,o=i.localCacheEnabled&&i.localCacheConfig.enableAutoResend&&(0,s.aL)(t.code);r._markMessageAsFailed(n,t,o),a.dispatch(new s.ao({messages:[n],source:n.sendingStatus===s.ap.PENDING?s.a2.REQUEST_RESEND_MESSAGE:s.a2.EVENT_MESSAGE_SENT_FAILED})),(0,s.G)((function(){return(0,s._)(r,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2,l._triggerFailed(t,n)]}))}))}))}))}))})),l},t.prototype._autoResendUserMessage=function(e){return(0,s.w)(e instanceof Q&&!!e.messageParams).throw(s.s.invalidParameters),this._sendUserMessage(e.messageParams,Pn.SEND,e.reqId)},t.prototype.resendUserMessage=function(e){var t;return(0,s._)(this,void 0,void 0,(function(){var n,r;return(0,s.b)(this,(function(i){return(0,s.w)(e instanceof Q&&!e.scheduledInfo).throw(s.s.invalidParameters),n=new s.ay,r=null!==(t=e.messageParams)&&void 0!==t?t:Ie(e),this._sendUserMessage(r,Pn.RESEND,e.reqId).onFailed((function(e){return n.reject(e)})).onSucceeded((function(e){return n.resolve(e)})),[2,n.promise]}))}))},t.prototype.updateUserMessage=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n,r,i;return(0,s.b)(this,(function(a){switch(a.label){case 0:return n=(0,s.g)((0,s.g)({},qe),t),(0,s.w)((0,s.a)("number",e)&&ze(n)).throw(s.s.invalidParameters),r=s.V.of(this._iid).requestQueue,i=new qt((0,s.g)({channelType:this.channelType,channelUrl:this.url,messageId:e,metaArrayParams:n.metaArrays?{array:n.metaArrays,mode:"add",upsert:!0}:void 0},n)),[4,r.send(i)];case 1:return[2,a.sent().as(zt).message]}}))}))},t.prototype.copyUserMessage=function(e,n){var r,i,a;return(0,s._)(this,void 0,void 0,(function(){var o,u;return(0,s.b)(this,(function(c){return(0,s.w)(e instanceof t&&n instanceof Q&&n.sendingStatus===s.ap.SUCCEEDED&&this.url===n.channelUrl&&!n.scheduledInfo).throw(s.s.invalidParameters),(0,s.w)(!n.poll).throw(s.s.notSupportedError),o=new s.ay,u=null!==(r=n.messageParams)&&void 0!==r?r:(0,s.u)((0,s.g)((0,s.g)({},n),{mentionType:n.mentionType,mentionedUserIds:null!==(i=n.mentionedUserIds)&&void 0!==i?i:null===(a=n.mentionedUsers)||void 0===a?void 0:a.map((function(e){return e.userId})),translationTargetLanguages:Object.keys(n.translations),pushNotificationDeliveryOption:s.au.DEFAULT,parentMessageId:null,isReplyToChannel:!1,isPinnedMessage:!1})),e._sendUserMessage(u).onSucceeded((function(e){o.resolve(e)})).onFailed((function(e){return o.reject(e)})),[2,o.promise]}))}))},t.prototype.translateUserMessage=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n,r;return(0,s.b)(this,(function(i){switch(i.label){case 0:return(0,s.w)(e instanceof Q&&e.messageId>0&&(0,s.Q)("string",t)).throw(s.s.invalidParameters),n=s.V.of(this._iid).requestQueue,r=new Zt({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,translationTargetLanguages:t}),[4,n.send(r)];case 1:return[2,i.sent().as(Xt).message]}}))}))},t.prototype._createScheduledUserMessage=function(e,t){var n=this,r=s.V.of(this._iid).requestQueue,i=Date.now(),a=this._generateRequestId();(0,s.ax)(2).then((function(){var r=n._createPendingScheduledUserMessage(e,a,i);(0,s.G)((function(){return(0,s._)(n,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2,t._trigger(r)]}))}))}))}));var o=new $t((0,s.g)({reqId:a,channelType:this.channelType,channelUrl:this.url},e));r.send(o).then((function(e){var r=e.as(en).message;(0,s.G)((function(){return(0,s._)(n,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2,t._trigger(r)]}))}))}))})).catch((function(r){if((0,s.O)(r))throw r;(0,s.ax)(2).then((function(){var o=n._createPendingScheduledUserMessage(e,a,i);n._markMessageAsFailed(o,r),(0,s.G)((function(){return(0,s._)(n,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2,t._triggerFailed(r,o)]}))}))}))}))}))},t.prototype.sendFileMessage=function(e){var t=(0,s.g)((0,s.g)({},Ue),e);return(0,s.w)(Fe(t)).throw(s.s.invalidParameters),this._sendFileMessage(t)},t.prototype.sendMultipleFilesMessage=function(e){var t,n=(0,s.g)((0,s.g)({},Cn),e),r=s.V.of(this._iid);(0,s.w)(function(e,t){return void 0===t&&(t=s.aK),ke(e)&&(0,s.a)("string",e.message,!0)&&Array.isArray(e.fileInfoList)&&e.fileInfoList.length>=2&&e.fileInfoList.length<=t&&e.fileInfoList.every((function(e){return function(e){return((0,s.i)(e.file)||(0,s.a)("string",e.fileUrl))&&(0,s.a)("string",e.fileName,!0)&&(0,s.a)("string",e.mimeType,!0)&&(0,s.a)("number",e.fileSize,!0)&&(void 0===e.thumbnailSizes||Array.isArray(e.thumbnailSizes)&&e.thumbnailSizes.every((function(e){return e.maxWidth>0&&e.maxHeight>0})))}(e)}))}(n,null===(t=r.appInfo)||void 0===t?void 0:t.multipleFilesMessageFileCountLimit)).throw(s.s.invalidParameters);var i=!!e.fileInfoList.find((function(e){var t=r.appInfo.uploadSizeLimit;return e.file instanceof Blob&&e.file.size>t||e.fileSize>t}));return(0,s.w)(!i).throw(s.s.fileSizeLimitExceededError),this._sendMultipleFilesMessage(n)},t.prototype._sendFileMessage=function(e,t,n){var r=this;void 0===t&&(t=Pn.SEND);var i=s.V.of(this._iid).dispatcher,a=Ti.of(this._iid).fileMessageQueue,o=null!=n?n:this._generateRequestId(),u=Date.now(),c=new we;return(0,s.ax)(2).then((function(){var n=r._createPendingFileMessage(e,o,u);i.dispatch(new s.ao({messages:[n],source:t===Pn.RESEND?s.a2.LOCAL_MESSAGE_RESEND_STARTED:s.a2.EVENT_MESSAGE_SENT_PENDING})),(0,s.G)((function(){return(0,s._)(r,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2,c._trigger(n)]}))}))})),a.request(r,o,e).then((function(e){i.dispatch(new s.ao({messages:[e],source:s.a2.EVENT_MESSAGE_SENT_SUCCESS})),(0,s.G)((function(){return(0,s._)(r,void 0,void 0,(function(){return(0,s.b)(this,(function(t){return[2,c._trigger(e)]}))}))}))})).catch((function(t){if((0,s.O)(t))throw t;(0,s.ax)(2).then((function(){var n=r._createPendingFileMessage(e,o,u),a=s.V.of(r._iid).cacheContext,l=a.localCacheEnabled&&a.localCacheConfig.enableAutoResend&&(0,s.aL)(t.code);r._markMessageAsFailed(n,t,l),i.dispatch(new s.ao({messages:[n],source:n.sendingStatus===s.ap.PENDING?s.a2.REQUEST_RESEND_MESSAGE:t.code===s.a9.FILE_UPLOAD_CANCEL_FAILED?s.a2.LOCAL_MESSAGE_CANCELED:s.a2.EVENT_MESSAGE_SENT_FAILED})),(0,s.G)((function(){return(0,s._)(r,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2,c._triggerFailed(t,n)]}))}))}))}))}))})),c},t.prototype._autoResendFileMessage=function(e){(0,s.w)(e instanceof te&&!!e.messageParams).throw(s.s.invalidParameters);var t=s.V.of(this._iid).logger;return t.debug("autoResendFileMessage pending",e),this._sendFileMessage(e.messageParams,Pn.SEND,e.reqId).onFailed((function(e){t.debug("autoResendFileMessage failed",e)})).onSucceeded((function(e){t.debug("autoResendFileMessage success",e)}))},t.prototype._sendMultipleFilesMessage=function(e,t,n){var r=this,i=s.V.of(this._iid).dispatcher,a=Ti.of(this._iid).fileMessageQueue,o=null!=n?n:this._generateRequestId(),u=Date.now(),c=new An;return(0,s.ax)(2).then((function(){var n=r._createPendingMultipleFilesMessage(e,o,u);i.dispatch(new s.ao({messages:[n],source:t===Pn.RESEND?s.a2.LOCAL_MESSAGE_RESEND_STARTED:s.a2.EVENT_MESSAGE_SENT_PENDING})),(0,s.G)((function(){return(0,s._)(r,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2,c._trigger(n)]}))}))})),a.request(r,o,e,{requestHandler:c,isCopy:t===Pn.COPY}).then((function(e){i.dispatch(new s.ao({messages:[e],source:s.a2.EVENT_MESSAGE_SENT_SUCCESS})),(0,s.G)((function(){return(0,s._)(r,void 0,void 0,(function(){return(0,s.b)(this,(function(t){return[2,c._trigger(e)]}))}))}))})).catch((function(t){if((0,s.O)(t))throw t;(0,s.ax)(2).then((function(){var n=r._createPendingMultipleFilesMessage(e,o,u);r._markMessageAsFailed(n,t),i.dispatch(new s.ao({messages:[n],source:s.a2.EVENT_MESSAGE_SENT_FAILED})),(0,s.G)((function(){return(0,s._)(r,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2,c._triggerFailed(t,n)]}))}))}))}))}))})),c},t.prototype._createScheduledFileMessage=function(e,t,n,r){var i=this,a=s.V.of(this._iid).requestQueue,o=new tn((0,s.g)((0,s.g)({reqId:n,channelType:this.channelType,channelUrl:this.url},e),{fileUrl:e.fileUrl,requireAuth:e.requireAuth}));a.send(o).then((function(e){var n=e.as(nn).message;(0,s.G)((function(){return(0,s._)(i,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2,t._trigger(n)]}))}))}))})).catch((function(a){if((0,s.O)(a))throw a;(0,s.ax)(2).then((function(){var o=i._createPendingScheduledFileMessage(e,n,r);i._markMessageAsFailed(o,a),(0,s.G)((function(){return(0,s._)(i,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2,t._triggerFailed(a,o)]}))}))}))}))}))},t.prototype.sendFileMessages=function(e){var t,n;(0,s.w)(e.every((function(e){return Fe((0,s.g)((0,s.g)({},Ue),e))}))).throw(s.s.invalidParameters);var r=new we;try{for(var i=(0,s.t)(e),a=i.next();!a.done;a=i.next()){var o=a.value;this.sendFileMessage(o).onPending((function(e){return r._trigger(e)})).onFailed((function(e,t){return r._triggerFailed(e,t)})).onSucceeded((function(e){return r._trigger(e)}))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},t.prototype.resendFileMessage=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n,r,i;return(0,s.b)(this,(function(a){return n=this._validateFailedFileMessageHasFile(e,t),(0,s.w)(e instanceof te&&n&&!e.scheduledInfo).throw(s.s.invalidParameters),r=new s.ay,i=He(e,t),this._sendFileMessage(i,Pn.RESEND,e.reqId).onFailed((function(e){return r.reject(e)})).onSucceeded((function(e){return r.resolve(e)})),[2,r.promise]}))}))},t.prototype.resendMessage=function(e,t){var n,r;if((0,s.w)(e instanceof q&&!e.scheduledInfo&&e.isResendable).throw(s.s.invalidParameters),e.isUserMessage()){var i=null!==(n=e.messageParams)&&void 0!==n?n:Ie(e);return this._sendUserMessage(i,Pn.RESEND,e.reqId)}if(e.isFileMessage()){var a=this._validateFailedFileMessageHasFile(e,t);return(0,s.w)(a).throw(s.s.invalidParameters),i=null!==(r=e.messageParams)&&void 0!==r?r:He(e,t),this._sendFileMessage(i,Pn.RESEND,e.reqId)}if(e.isMultipleFilesMessage())throw s.s.channelTypeNotSupportedError},t.prototype.updateFileMessage=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n,r,i;return(0,s.b)(this,(function(a){switch(a.label){case 0:return n=(0,s.g)((0,s.g)({},Ge),t),(0,s.w)((0,s.a)("number",e)&&function(e){return Ve(e)}(n)).throw(s.s.invalidParameters),r=s.V.of(this._iid).requestQueue,i=new Gt((0,s.g)({channelType:this.channelType,channelUrl:this.url,messageId:e,metaArrayParams:n.metaArrays?{array:n.metaArrays,mode:"add",upsert:!0}:void 0},n)),[4,r.send(i)];case 1:return[2,a.sent().as(Wt).message]}}))}))},t.prototype.uploadFile=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,c,l;return(0,s.b)(this,(function(d){switch(d.label){case 0:return t=s.V.of(this._iid).requestQueue,n=(0,s.n)(),(r=new o({file:e.file,channelUrl:this.url,thumbnailSizes:e.thumbnailSizes,requestId:n})).uploadProgressHandler=e.progressHandler,e.uploadStartedHandler&&e.uploadStartedHandler(n),[4,t.send(r)];case 1:return i=d.sent(),a=i.as(u),c=a.url,l=a.thumbnails,[2,{requestId:n,url:c,thumbnails:l}]}}))}))},t.prototype.cancelUploadingFileMessage=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){return(0,s.w)((0,s.a)("string",e)).throw(s.s.invalidParameters),Ti.of(this._iid).fileMessageQueue.cancel(this,e),[2,!0]}))}))},t.prototype.copyFileMessage=function(e,n){var r,i,a;return(0,s._)(this,void 0,void 0,(function(){var o,u;return(0,s.b)(this,(function(c){return(0,s.w)(e instanceof t&&n instanceof te&&n.sendingStatus===s.ap.SUCCEEDED&&this.url===n.channelUrl&&!n.scheduledInfo).throw(s.s.invalidParameters),o=new s.ay,u=(0,s.u)((0,s.g)((0,s.g)({},n),{fileUrl:n.url,fileName:n.name,fileSize:n.size,mimeType:n.type,mentionType:n.mentionType,mentionedUserIds:null!==(r=n.mentionedUserIds)&&void 0!==r?r:null===(i=n.mentionedUsers)||void 0===i?void 0:i.map((function(e){return e.userId})),pushNotificationDeliveryOption:s.au.DEFAULT,parentMessageId:null,isReplyToChannel:!1,thumbnailSizes:null===(a=n.thumbnails)||void 0===a?void 0:a.map((function(e){return{maxWidth:e.width,maxHeight:e.height}})),requireAuth:n.requireAuth,isPinnedMessage:!1})),e._sendFileMessage(u).onSucceeded((function(e){return o.resolve(e)})).onFailed((function(e){return o.reject(e)})),[2,o.promise]}))}))},t.prototype.copyMessage=function(e,n){(0,s.w)(e instanceof t&&n instanceof q&&n.sendingStatus===s.ap.SUCCEEDED&&this.url===n.channelUrl&&!n.scheduledInfo).throw(s.s.invalidParameters);var r=n,i=e;if(r.isUserMessage()){(0,s.w)(!r.poll).throw(s.s.notSupportedError);var a=Ce(r);return i._sendUserMessage(a)}if(r.isFileMessage())return a=Pe(r),i._sendFileMessage(a);if(n.isMultipleFilesMessage())throw s.s.channelTypeNotSupportedError},t.prototype.deleteMessage=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return(0,s.w)(e instanceof V).throw(s.s.invalidParameters),e.messageId>0?(t=s.V.of(this._iid).requestQueue,n=new s.aM({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,messageToken:e instanceof q?e._messageToken:void 0}),[4,t.send(n)]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.addReaction=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n,r;return(0,s.b)(this,(function(i){switch(i.label){case 0:return(0,s.w)(e instanceof V&&e.messageId>0&&(0,s.a)("string",t)).throw(s.s.invalidParameters),n=s.V.of(this._iid).requestQueue,r=new Bt({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,reactionKey:t}),[4,n.send(r)];case 1:return[2,i.sent().as(Kt).reactionEvent]}}))}))},t.prototype.deleteReaction=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n,r;return(0,s.b)(this,(function(i){switch(i.label){case 0:return(0,s.w)(e instanceof V&&e.messageId>0&&(0,s.a)("string",t)).throw(s.s.invalidParameters),n=s.V.of(this._iid).requestQueue,r=new Qt({channelType:this.channelType,channelUrl:this.url,messageId:e.messageId,reactionKey:t}),[4,n.send(r)];case 1:return[2,i.sent().as(Jt).reactionEvent]}}))}))},t.prototype._updateUserMessageMetaArray=function(e,t,n,r){return(0,s._)(this,void 0,void 0,(function(){var i,a,o,u,c,l;return(0,s.b)(this,(function(d){switch(d.label){case 0:return i=s.V.of(this._iid),a=i.dispatcher,o=i.requestQueue,u=new qt({channelType:this.channelType,channelUrl:this.url,messageId:e,metaArrayParams:{array:t,mode:n,upsert:r}}),[4,o.send(u)];case 1:return c=d.sent(),l=c.as(zt).message,a.dispatch(new s.ao({messages:[l],source:s.a2.EVENT_MESSAGE_UPDATED})),[2,l]}}))}))},t.prototype._updateFileMessageMetaArray=function(e,t,n,r){return(0,s._)(this,void 0,void 0,(function(){var i,a,o,u,c,l;return(0,s.b)(this,(function(d){switch(d.label){case 0:return i=s.V.of(this._iid),a=i.dispatcher,o=i.requestQueue,u=new Gt({channelType:this.channelType,channelUrl:this.url,messageId:e,metaArrayParams:{array:t,mode:n,upsert:r}}),[4,o.send(u)];case 1:return c=d.sent(),l=c.as(Wt).message,a.dispatch(new s.ao({messages:[l],source:s.a2.EVENT_MESSAGE_UPDATED})),[2,l]}}))}))},t.prototype.createMessageMetaArrayKeys=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n;return(0,s.b)(this,(function(r){return(0,s.w)(e instanceof V&&e.messageId>0&&(0,s.Q)("string",t)).throw(s.s.invalidParameters),n=t.map((function(e){return new v({key:e})})),e instanceof te?[2,this._updateFileMessageMetaArray(e.messageId,n,"add",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,n,"add",!0)]}))}))},t.prototype.deleteMessageMetaArrayKeys=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n;return(0,s.b)(this,(function(r){return(0,s.w)(e instanceof V&&e.messageId>0&&(0,s.Q)("string",t)).throw(s.s.invalidParameters),n=t.map((function(e){return new v({key:e})})),e instanceof te?[2,this._updateFileMessageMetaArray(e.messageId,n,"remove",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,n,"remove",!0)]}))}))},t.prototype.addMessageMetaArrayValues=function(e,t){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(n){return(0,s.w)(e instanceof V&&e.messageId>0&&t.every((function(e){return e instanceof v}))).throw(s.s.invalidParameters),e instanceof te?[2,this._updateFileMessageMetaArray(e.messageId,t,"add",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,t,"add",!0)]}))}))},t.prototype.removeMessageMetaArrayValues=function(e,t){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(n){return(0,s.w)(e instanceof V&&e.messageId>0&&t.every((function(e){return e instanceof v}))).throw(s.s.invalidParameters),e instanceof te?[2,this._updateFileMessageMetaArray(e.messageId,t,"remove",!0)]:[2,this._updateUserMessageMetaArray(e.messageId,t,"remove",!0)]}))}))},t.prototype.report=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n,r,i,a;return(0,s.b)(this,(function(o){switch(o.label){case 0:return(0,s.w)(((0,s.X)(Re,e)||e instanceof s.a7)&&(0,s.a)("string",t)).throw(s.s.invalidParameters),n=s.V.of(this._iid),r=n.sdkState,i=n.requestQueue,a=new Rt({channelUrl:this.url,channelType:this.channelType,userId:r.userId,category:e,description:t}),[4,i.send(a)];case 1:return o.sent(),[2]}}))}))},t.prototype.reportUser=function(e,t,n){return(0,s._)(this,void 0,void 0,(function(){var r,i,a,o;return(0,s.b)(this,(function(u){switch(u.label){case 0:return(0,s.w)(e instanceof s.U&&((0,s.X)(Re,t)||t instanceof s.a7)&&(0,s.a)("string",n)).throw(s.s.invalidParameters),r=s.V.of(this._iid),i=r.sdkState,a=r.requestQueue,o=new Ht({channelUrl:this.url,channelType:this.channelType,userId:i.userId,offendingUserId:e.userId,category:t,description:n}),[4,a.send(o)];case 1:return u.sent(),[2]}}))}))},t.prototype.reportMessage=function(e,t,n){return(0,s._)(this,void 0,void 0,(function(){var r,i,a,o;return(0,s.b)(this,(function(u){switch(u.label){case 0:return(0,s.w)(e instanceof q&&((0,s.X)(Re,t)||t instanceof s.a7)&&(0,s.a)("string",n)).throw(s.s.invalidParameters),r=s.V.of(this._iid),i=r.sdkState,a=r.requestQueue,o=new Ft({channelUrl:this.url,channelType:this.channelType,userId:i.userId,offendingUserId:e.sender.userId,messageId:e.messageId,category:t,description:n,messageToken:e._messageToken}),[4,a.send(o)];case 1:return u.sent(),[2]}}))}))},t.prototype.updatePoll=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n,r;return(0,s.b)(this,(function(i){switch(i.label){case 0:return(0,s.w)((0,s.a)("number",e)&&function(e){return(0,s.a)("string",e.title,!0)&&(0,s.aH)(e.data)&&(0,s.a)("boolean",e.allowUserSuggestion,!0)&&(0,s.a)("boolean",e.allowMultipleVotes,!0)&&(0,s.a)("number",e.closeAt,!0)}(t)).throw(s.s.invalidParameters),n=s.V.of(this._iid).requestQueue,r=new rn((0,s.g)({pollId:e},t)),[4,n.send(r)];case 1:return[2,i.sent().as(sn).poll]}}))}))},t.prototype.deletePoll=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r;return(0,s.b)(this,(function(i){switch(i.label){case 0:return t=(0,s.a)("number",e),(0,s.w)(t).throw(s.s.invalidParameters),n=s.V.of(this._iid).requestQueue,r=new an({pollId:e}),[4,n.send(r)];case 1:return i.sent(),[2]}}))}))},t.prototype.closePoll=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r;return(0,s.b)(this,(function(i){switch(i.label){case 0:return t=(0,s.a)("number",e),(0,s.w)(t).throw(s.s.invalidParameters),n=s.V.of(this._iid).requestQueue,r=new on({pollId:e}),[4,n.send(r)];case 1:return[2,i.sent().as(un).poll]}}))}))},t.prototype.addPollOption=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n,r,i;return(0,s.b)(this,(function(a){switch(a.label){case 0:return n=(0,s.a)("number",e)&&(0,s.a)("string",t)&&""!==t.trim(),(0,s.w)(n).throw(s.s.invalidParameters),r=s.V.of(this._iid).requestQueue,i=new cn({channelUrl:this.url,channelType:this.channelType,pollId:e,optionText:t}),[4,r.send(i)];case 1:return[2,a.sent().as(ln).poll]}}))}))},t.prototype.updatePollOption=function(e,t,n){return(0,s._)(this,void 0,void 0,(function(){var r,i,a;return(0,s.b)(this,(function(o){switch(o.label){case 0:return r=(0,s.a)("number",e)&&(0,s.a)("number",t)&&(0,s.a)("string",n)&&""!==n.trim(),(0,s.w)(r).throw(s.s.invalidParameters),i=s.V.of(this._iid).requestQueue,a=new dn({pollId:e,pollOptionId:t,optionText:n}),[4,i.send(a)];case 1:return[2,o.sent().as(hn).poll]}}))}))},t.prototype.deletePollOption=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n,r,i;return(0,s.b)(this,(function(a){switch(a.label){case 0:return n=(0,s.a)("number",e)&&(0,s.a)("number",t),(0,s.w)(n).throw(s.s.invalidParameters),r=s.V.of(this._iid).requestQueue,i=new _n({pollId:e,pollOptionId:t}),[4,r.send(i)];case 1:return a.sent(),[2]}}))}))},t.prototype.votePoll=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n,r,i,a,o,u,c;return(0,s.b)(this,(function(l){switch(l.label){case 0:return n=(0,s.a)("number",e)&&(0,s.Q)("number",t),(0,s.w)(n).throw(s.s.invalidParameters),r=s.V.of(this._iid),i=r.requestQueue,a=r.dispatcher,o=new fn({reqId:this._generateRequestId(),channelUrl:this.url,channelType:this.channelType,pollId:e,pollOptionIds:t}),[4,i.send(o)];case 1:return u=l.sent(),c=u.as(pn).event,a.dispatch(new s.aN({event:c,source:s.a2.EVENT_POLL_VOTED})),[2,c]}}))}))},t.prototype.getPollChangeLogsSinceTimestamp=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return(0,s.w)((0,s.a)("number",e)).throw(s.s.invalidParameters),[4,s.aO.of(this._iid).getPollChangeLogs(this.url,this.channelType,e)];case 1:return[2,t.sent()]}}))}))},t.prototype.getPollChangeLogsSinceToken=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return(0,s.w)((0,s.a)("string",e,!0)),[4,s.aO.of(this._iid).getPollChangeLogs(this.url,this.channelType,e)];case 1:return[2,t.sent()]}}))}))},t.prototype.createPollListQuery=function(e){return void 0===e&&(e=10),new s.x(this._iid,{channelUrl:this.url,channelType:this.channelType,limit:e})},t.prototype.createPollVoterListQuery=function(e,t,n){return void 0===n&&(n=20),new s.y(this._iid,{channelUrl:this.url,channelType:this.channelType,pollId:e,pollOptionId:t,limit:n})},t.prototype.pinMessage=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return(0,s.w)((0,s.a)("number",e)&&e>0).throw(s.s.invalidParameters),t=s.V.of(this._iid).requestQueue,n=new xn({channelType:this.channelType,channelUrl:this.url,messageId:e}),[4,t.send(n)];case 1:return r.sent(),[2]}}))}))},t.prototype.unpinMessage=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return(0,s.w)((0,s.a)("number",e)&&e>0).throw(s.s.invalidParameters),t=s.V.of(this._iid).requestQueue,n=new Un({channelType:this.channelType,channelUrl:this.url,messageId:e}),[4,t.send(n)];case 1:return r.sent(),[2]}}))}))},t}(s.ag),jn=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return Object.keys(t).forEach((function(e){n.hasOwnProperty(e)&&(n[e]=t[e])})),n}return(0,s.c)(t,e),t}((function(){this.onConnected=s.aB,this.onReconnectStarted=s.aB,this.onReconnectSucceeded=s.aB,this.onReconnectFailed=s.aB,this.onDisconnected=s.aB})),Vn=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return Object.keys(t).forEach((function(e){n.hasOwnProperty(e)&&(n[e]=t[e])})),n}return(0,s.c)(t,e),t}((function(){this.onSessionExpired=s.aB,this.onSessionTokenRequired=function(e){return e(null)},this.onSessionError=s.aB,this.onSessionRefreshed=s.aB,this.onSessionClosed=s.aB})),qn=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return Object.keys(t).forEach((function(e){n.hasOwnProperty(e)&&(n[e]=t[e])})),n}return(0,s.c)(t,e),t}((function(){this.onFriendsDiscovered=s.aB,this.onTotalUnreadMessageCountChanged=s.aB,this.onTotalUnreadMessageCountUpdated=s.aB})),zn=function(e){function t(t){var n=t.limit,r=t.token,i=t.userIdsFilter,a=t.metaDataKeyFilter,o=t.metaDataValuesFilter,u=t.nicknameStartsWithFilter,c=e.call(this)||this;return c.method=s.A.GET,c.path=s.d,c.params=(0,s.e)({limit:n,token:r,user_ids:i,metadatakey:a,metadatavalues_in:o,nickname_startswith:u}),c}return(0,s.c)(t,e),t}(s.f),Gn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.users=n.users.map((function(e){return new s.U(t,e)})),r.next=n.next,r}return(0,s.c)(t,e),t}(s.h),Wn=function(e){function t(t,n){var r,i,s,a=this;return(a=e.call(this,t,n)||this).userIdsFilter=null,a.metaDataKeyFilter=null,a.metaDataValuesFilter=null,a.nicknameStartsWithFilter=null,a.userIdsFilter=null!==(r=n.userIdsFilter)&&void 0!==r?r:null,a.metaDataKeyFilter=null!==(i=n.metaDataKeyFilter)&&void 0!==i?i:null,a.metaDataValuesFilter=null!==(s=n.metaDataValuesFilter)&&void 0!==s?s:null,a.nicknameStartsWithFilter=n.nicknameStartsWithFilter||null,a}return(0,s.c)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&(0,s.Q)("string",this.userIdsFilter,!0)&&(0,s.a)("string",this.metaDataKeyFilter,!0)&&(0,s.Q)("string",this.metaDataValuesFilter,!0)&&(0,s.a)("string",this.nicknameStartsWithFilter,!0)},t.prototype.next=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a;return(0,s.b)(this,(function(o){switch(o.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=s.V.of(this._iid).requestQueue,t=new zn((0,s.u)((0,s.g)((0,s.g)({},this),{token:this._token}))),[4,e.send(t)]):[3,2]:[3,5];case 1:return n=o.sent(),r=n.as(Gn),i=r.users,a=r.next,this._token=a,this._hasNext=!!a,this._isLoading=!1,[2,i];case 2:return[2,[]];case 3:throw s.s.queryInProgress;case 4:return[3,6];case 5:throw s.s.invalidParameters;case 6:return[2]}}))}))},t}(s.aP),Bn=function(e){function t(t){var n=t.userId,r=t.limit,i=t.token,a=t.userIdsFilter,o=e.call(this)||this;return o.method=s.A.GET,o.path="".concat(s.d,"/").concat(n,"/block"),o.params=(0,s.e)({limit:r,token:i,user_ids:a}),o}return(0,s.c)(t,e),t}(s.f),Kn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.users=n.users.map((function(e){return new s.U(t,e)})),r.next=n.next,r}return(0,s.c)(t,e),t}(s.h),Qn=function(e){function t(t,n){var r,i=this;return(i=e.call(this,t,n)||this).userIdsFilter=null,i.userIdsFilter=null!==(r=n.userIdsFilter)&&void 0!==r?r:null,i}return(0,s.c)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&(0,s.Q)("string",this.userIdsFilter,!0)},t.prototype.next=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a,o,u;return(0,s.b)(this,(function(c){switch(c.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=s.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new Bn((0,s.u)((0,s.g)((0,s.g)({},this),{userId:t.userId,token:this._token}))),[4,n.send(r)]):[3,2]:[3,5];case 1:return i=c.sent(),a=i.as(Kn),o=a.users,u=a.next,this._token=u,this._hasNext=!!u,this._isLoading=!1,[2,o];case 2:return[2,[]];case 3:throw s.s.queryInProgress;case 4:return[3,6];case 5:throw s.s.invalidParameters;case 6:return[2]}}))}))},t}(s.aP),Jn=function(e){function t(t){var n=t.userId,r=t.limit,i=t.token,a=e.call(this)||this;return a.method=s.A.GET,a.path="".concat(s.d,"/").concat(encodeURIComponent(n),"/friends"),a.params={limit:r,token:i},a}return(0,s.c)(t,e),t}(s.f),Zn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.hasMore=n.has_more,r.users=n.users.map((function(e){return new s.U(t,e)})),r.next=n.next,r}return(0,s.c)(t,e),t}(s.h),Xn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,s.c)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)},t.prototype.next=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a,o,u,c;return(0,s.b)(this,(function(l){switch(l.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=s.V.of(this._iid),t=e.sdkState,n=e.requestQueue,r=new Jn((0,s.g)((0,s.g)({},this),{userId:t.userId,token:this._token})),[4,n.send(r)]):[3,2]:[3,5];case 1:return i=l.sent(),a=i.as(Zn),o=a.users,u=a.hasMore,c=a.next,this._token=c,this._hasNext=u,this._isLoading=!1,[2,o];case 2:return[2,[]];case 3:throw s.s.queryInProgress;case 4:return[3,6];case 5:throw s.s.invalidParameters;case 6:return[2]}}))}))},t}(s.aP),$n={},er=function(){function e(e){var t=e.dbname,n=e.itemSizeLimit,r=void 0===n?1048576:n,i=e.cacheLimit,s=void 0===i?256:i,a=e.blockHashBase,o=void 0===a?2:a,u=e.blockHashMultiplier,c=void 0===u?10:u,l=e.blockHashConstant,d=void 0===l?11:l,h=e.transactionApplyDelay,_=void 0===h?200:h,f=e.disableLogger,p=void 0!==f&&f;return $n[t]||(this.itemSizeLimit=r,this.cacheLimit=s,this.blockHashBase=o,this.blockHashMultiplier=c,this.blockHashConstant=d,this.transactionApplyDelay=_,this.disableLogger=p,$n[t]=this),$n[t]}return e.get=function(e){return $n[e]},e}();!function(e){e[e.UNKNOWN_ERROR=6e7]="UNKNOWN_ERROR",e[e.STORE_NOT_DEFINED=61001e3]="STORE_NOT_DEFINED",e[e.STORE_NOT_AVAILABLE=61001001]="STORE_NOT_AVAILABLE",e[e.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING=61001002]="STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING",e[e.STORE_IS_FULL=61001003]="STORE_IS_FULL",e[e.STORE_NOT_INITIALIZED=61001004]="STORE_NOT_INITIALIZED",e[e.STORE_INVALID_KEY_TYPE=61002e3]="STORE_INVALID_KEY_TYPE",e[e.STORE_BROKEN_INTEGRITY=61002001]="STORE_BROKEN_INTEGRITY",e[e.STORE_BROKEN_BLOB=61002002]="STORE_BROKEN_BLOB",e[e.STORE_ENCRYPTION_INVALID=61002003]="STORE_ENCRYPTION_INVALID",e[e.STORE_ITEM_SIZE_LIMIT_EXCEEDED=61017e3]="STORE_ITEM_SIZE_LIMIT_EXCEEDED",e[e.STORE_READ_FAILED=61017001]="STORE_READ_FAILED",e[e.STORE_WRITE_FAILED=61017002]="STORE_WRITE_FAILED",e[e.DATABASE_SCHEMA_NOT_ON_UPGRADE=62002e3]="DATABASE_SCHEMA_NOT_ON_UPGRADE",e[e.COLLECTION_NOT_READY=63001e3]="COLLECTION_NOT_READY",e[e.COLLECTION_KEY_NOT_MATCH=63002e3]="COLLECTION_KEY_NOT_MATCH",e[e.COLLECTION_QUERY_NOT_VALID=63002001]="COLLECTION_QUERY_NOT_VALID",e[e.COLLECTION_KEY_NOT_FOUND=63004e3]="COLLECTION_KEY_NOT_FOUND",e[e.COLLECTION_KEY_NOT_GIVEN=63004001]="COLLECTION_KEY_NOT_GIVEN",e[e.COLLECTION_INSERT_DUPLICATE=63009e3]="COLLECTION_INSERT_DUPLICATE",e[e.COLLECTION_WRITE_FAILED=63017e3]="COLLECTION_WRITE_FAILED",e[e.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED=63017001]="COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED",e[e.INDEX_TABLE_IS_REQUIRED=65001e3]="INDEX_TABLE_IS_REQUIRED",e[e.INDEX_TYPE_NOT_MATCH=65002e3]="INDEX_TYPE_NOT_MATCH",e[e.COMPARE_TYPE_NOT_MATCH=69002001]="COMPARE_TYPE_NOT_MATCH",e[e.CIRCULAR_REFERENCE_FOUND=69002002]="CIRCULAR_REFERENCE_FOUND"}(Hn||(Hn={}));var tr,nr=function(e){function t(n){var r=n.code,i=void 0===r?Hn.UNKNOWN_ERROR:r,s=n.message,a=void 0===s?"Unknown error occurred.":s,o=e.call(this,a)||this;return o.code=i,Object.setPrototypeOf(o,t.prototype),o}return(0,s.c)(t,e),Object.defineProperty(t,"storeNotDefined",{get:function(){return new t({code:Hn.STORE_NOT_DEFINED,message:"Store is not defined. Specify the store on NestDB()"})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeNotAvailable",{get:function(){return new t({code:Hn.STORE_NOT_AVAILABLE,message:"Store is not available. Check your environment settings."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeNotAvailableInPrivateBrowsing",{get:function(){return new t({code:Hn.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING,message:"Store is not available because it is in private browsing."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeIsFull",{get:function(){return new t({code:Hn.STORE_IS_FULL,message:"Store is full."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeNotInitialized",{get:function(){return new t({code:Hn.STORE_NOT_INITIALIZED,message:"Store is not initialized."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeKeyTypeIsInvalid",{get:function(){return new t({code:Hn.STORE_INVALID_KEY_TYPE,message:"Store key should be string type."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeBrokenIntegrity",{get:function(){return new t({code:Hn.STORE_BROKEN_INTEGRITY,message:"Data should be in a store but it does not. Integrity is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeBrokenBlob",{get:function(){return new t({code:Hn.STORE_BROKEN_BLOB,message:"Data should be in a store but it does not. Blob data is broken."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeEncryptionInvalid",{get:function(){return new t({code:Hn.STORE_ENCRYPTION_INVALID,message:"Encryption algorithm has changed. All the store should reset."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeItemSizeExceeded",{get:function(){return new t({code:Hn.STORE_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that the store allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeReadFailed",{get:function(){return new t({code:Hn.STORE_READ_FAILED,message:"Failed to read from store."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"storeWriteFailed",{get:function(){return new t({code:Hn.STORE_WRITE_FAILED,message:"Failed to write to store."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"databaseSchemaNotOnUpgrade",{get:function(){return new t({code:Hn.DATABASE_SCHEMA_NOT_ON_UPGRADE,message:"Committing schema is not allowed when upgrade is not running."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionNotReady",{get:function(){return new t({code:Hn.COLLECTION_NOT_READY,message:"Collection is not ready due to an error during initialization."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotMatch",{get:function(){return new t({code:Hn.COLLECTION_KEY_NOT_MATCH,message:"keyName of collection could not change."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionQueryNotValid",{get:function(){return new t({code:Hn.COLLECTION_QUERY_NOT_VALID,message:"Query parameter is not a valid format."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionInsertDuplicate",{get:function(){return new t({code:Hn.COLLECTION_INSERT_DUPLICATE,message:"The key already exists."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotFound",{get:function(){return new t({code:Hn.COLLECTION_KEY_NOT_FOUND,message:"The key is not found."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionKeyNotGiven",{get:function(){return new t({code:Hn.COLLECTION_KEY_NOT_GIVEN,message:"The item should contain [keyName] property."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionWriteFailed",{get:function(){return new t({code:Hn.COLLECTION_WRITE_FAILED,message:"Failed to write an item."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"collectionItemSizeExceeded",{get:function(){return new t({code:Hn.COLLECTION_ITEM_SIZE_LIMIT_EXCEEDED,message:"The size of the item exceeds the limit that a collection allows."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"indexTableIsRequired",{get:function(){return new t({code:Hn.INDEX_TABLE_IS_REQUIRED,message:"Index table is required."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"indexTypesNotMatch",{get:function(){return new t({code:Hn.INDEX_TYPE_NOT_MATCH,message:"Indexed column should have primitive type."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"compareTypesNotMatch",{get:function(){return new t({code:Hn.COMPARE_TYPE_NOT_MATCH,message:"Values to compare have different types."})},enumerable:!1,configurable:!0}),Object.defineProperty(t,"circularReferenceFound",{get:function(){return new t({code:Hn.CIRCULAR_REFERENCE_FOUND,message:"Cannot handle circular referenced object."})},enumerable:!1,configurable:!0}),t}(Error);!function(e){e.INIT="init",e.READY="ready",e.CLOSED="closed"}(tr||(tr={}));var rr,ir=function(e,t){if(void 0===t&&(t=new WeakMap),"object"==typeof e&&null!==e){if(t.has(e))throw nr.circularReferenceFound;var n;return t.set(e,!0),Array.isArray(e)?n=e.map((function(e){return ir(e,t)})):e instanceof RegExp||e instanceof Date?n=e:(n={},Object.keys(e).forEach((function(r){n[r]=ir(e[r],t)}))),t.delete(e),n}return e},sr=function(e,t){if(null==t)return 1;if(null==e)return-1;if(typeof e!=typeof t)throw nr.compareTypesNotMatch;var n=0;switch(typeof e){case"boolean":case"number":n=e-t;break;case"string":n=e.localeCompare(t)}return n},ar=function(e,t){for(var n=0,r=0;r<e.length;r++)n=e.charCodeAt(r)+(n<<6)+(n<<16)-n;return(n>>>0)%t},or=function(e){return new Promise((function(t){setTimeout((function(){return t()}),e)}))},ur=function(e,t){if(!t)return!1;if("function"!=typeof e){for(var n in e)if(["/and","&&"].includes(n)){if(e[n].some((function(e){return!ur(e,t)})))return!1}else if(["/or","||"].includes(n)){if(e[n].every((function(e){return!ur(e,t)})))return!1}else if("/where"===n){if(!(0,e[n])(t))return!1}else{var r=n;if("object"==typeof e[r]){var i=e[r];for(var s in i)switch(s){case"/eq":case"=":if((a=t[r])!==(o=i[s]))return!1;break;case"/neq":case"!=":if((a=t[r])===(o=i[s]))return!1;break;case"/gt":case">":var a=t[r],o=i[s];if(!(sr(a,o)>0))return!1;break;case"/gte":case">=":if(a=t[r],o=i[s],!(sr(a,o)>=0))return!1;break;case"/lt":case"<":if(a=t[r],o=i[s],!(sr(a,o)<0))return!1;break;case"/lte":case"<=":if(a=t[r],o=i[s],!(sr(a,o)<=0))return!1;break;case"/in":if(a=t[r],!(o=i[s]).includes(a))return!1;break;case"/nin":if(a=t[r],(o=i[s]).includes(a))return!1;break;case"/contain":if(a=t[r],o=i[s],!a.includes(o))return!1;break;case"/regex":if(a=t[r],!(o=i[s]).test(a))return!1;break;case"/where":if(a=t[r],!(0,i[s])(a))return!1}}else if("function"==typeof e[r]){if(!e[r](t[r]))return!1}else if(e[r]!==t[r])return!1}return!0}return e(t)},cr=function(){},lr=function(){return Promise.resolve()},dr=function(e){return e},hr=function(e,t){t()};!function(e){e[e.FORWARD=0]="FORWARD",e[e.BACKWARD=1]="BACKWARD"}(rr||(rr={}));var _r,fr,pr,mr=function(){function e(e){var t=e.initialPrevValue,n=void 0===t?null:t,r=e.initialNextValue,i=void 0===r?null:r,s=e.iterator,a=e.map,o=void 0===a?dr:a,u=e.backward,c=void 0===u?lr:u,l=e.forward,d=void 0===l?lr:l,h=e.complete,_=void 0===h?cr:h;this._prevValue=n,this._nextValue=i,this._error=null,this._map=o,this._backward=c,this._forward=d,this._iterator=s,this._complete=_}return Object.defineProperty(e.prototype,"prevValue",{get:function(){return this._map(this._prevValue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextValue",{get:function(){return this._map(this._nextValue)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"error",{get:function(){return this._error},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPrevious",{get:function(){return!!this._prevValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNext",{get:function(){return!!this._nextValue},enumerable:!1,configurable:!0}),e.prototype.prev=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:if(!this.hasPrevious)return[3,6];r.label=1;case 1:return r.trys.push([1,3,,4]),e=this._prevValue,t=this,[4,this._backward()];case 2:return t._prevValue=r.sent()||null,this._nextValue=e,[3,4];case 3:return n=r.sent(),this._error=n,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,r.sent()];case 6:this._complete(),r.label=7;case 7:return[2]}}))}))},e.prototype.next=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:if(!this.hasNext)return[3,6];r.label=1;case 1:return r.trys.push([1,3,,4]),e=this._nextValue,t=this,[4,this._forward()];case 2:return t._nextValue=r.sent()||null,this._prevValue=e,[3,4];case 3:return n=r.sent(),this._error=n,[3,4];case 4:return[4,this._iterator(this)];case 5:return[2,r.sent()];case 6:this._complete(),r.label=7;case 7:return[2]}}))}))},e.prototype.stop=function(){this._prevValue=null,this._nextValue=null,this._complete()},e}(),gr=function(){function e(e){var t=e.condition,n=void 0===t?{}:t,r=e.backward,i=void 0!==r&&r,s=e.blockManager,a=e.indexer;this.condition=n,this.backward=i,this._blockManager=s,this._indexer=a}return e.prototype.findOptimizedStartPosition=function(){var e=this,t=["=","/eq",">",">=","/gt","/gte"],n=["=","/eq","<","<=","/lt","/lte"];if(this.backward){var r=this._indexer.origin.length-1;if("function"!=typeof this.condition)for(h=0;h<this._indexer.fields.length;h++){var i=this._indexer.fields[h],s=1;if("-"===i[0]&&(i=i.slice(1),s=-1),this.condition[i])if("object"==typeof this.condition[i]){var a=s>0?n:t;for(var o in this.condition[i])if(a.includes(o))for(var u=r;u>=0;u--)if(s*sr(this._indexer.origin[u].columnValues[h],this.condition[i][o])<=0){r=u;break}}else for(u=r;u>=0;u--)if(s*sr(this._indexer.origin[u].columnValues[h],this.condition[i])<=0){r=u;break}}return Math.min(r+1,this._indexer.origin.length-1)}var c=0;if("function"!=typeof this.condition)for(var l=function(r){var i=d._indexer.fields[r],s=1;if("-"===i[0]&&(i=i.slice(1),s=-1),d.condition[i])if("object"==typeof d.condition[i])Object.keys(d.condition[i]).forEach((function(a){if((s>0?t:n).includes(a))for(var o=c;o<e._indexer.origin.length;o++)if(s*sr(e._indexer.origin[o].columnValues[r],e.condition[i][a])>=0){c=o;break}}));else for(var a=c;a<d._indexer.origin.length;a++)if(s*sr(d._indexer.origin[a].columnValues[r],d.condition[i])>=0){c=a;break}},d=this,h=0;h<this._indexer.fields.length;h++)l(h);return Math.max(c-1,0)},e.prototype.each=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u,c=this;return(0,s.b)(this,(function(l){switch(l.label){case 0:if(t=this.findOptimizedStartPosition(),n=0,this.backward&&this._indexer.origin[t]&&(n=this._indexer.origin[t].keys.length-1),r=function(){if(c._indexer.origin[t]){if(!c._indexer.origin[t].keys[++n]){if(!c._indexer.origin[++t])return!1;n=0}return!0}return!1},i=function(){if(c._indexer.origin[t]){if(!c._indexer.origin[t].keys[--n]){if(!c._indexer.origin[--t])return!1;n=c._indexer.origin[t].keys.length-1}return!0}return!1},a=null,!this._indexer.origin[t])return[3,4];o=this.backward?i:r,l.label=1;case 1:return[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[n])];case 2:if((u=l.sent())&&ur(this.condition,u))return a=u,[3,4];l.label=3;case 3:if(o())return[3,1];l.label=4;case 4:return[4,new Promise((function(o){var u=new mr({initialNextValue:ir(a),iterator:e,forward:function(){return(0,s._)(c,void 0,void 0,(function(){var e,a;return(0,s.b)(this,(function(s){switch(s.label){case 0:e=this.backward?i:r,s.label=1;case 1:return e()?[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[n])]:[3,3];case 2:return(a=s.sent())&&ur(this.condition,a)?[2,ir(a)]:[3,1];case 3:return[2,null]}}))}))},backward:function(){return(0,s._)(c,void 0,void 0,(function(){var e,a;return(0,s.b)(this,(function(s){switch(s.label){case 0:e=this.backward?r:i,s.label=1;case 1:return e()?[4,this._blockManager.getFromBlock(this._indexer.origin[t].keys[n])]:[3,3];case 2:return(a=s.sent())&&ur(this.condition,a)?[2,ir(a)]:[3,1];case 3:return[2,null]}}))}))},complete:o});e(u)}))];case 5:return[2,l.sent()]}}))}))},e}(),yr=function(){function e(e){var t=e.condition,n=void 0===t?{}:t,r=e.backward,i=void 0!==r&&r,s=e.mutex,a=e.blockManager,o=e.indexer;this._mutex=s,this._iterator=new gr({condition:n,backward:i,blockManager:a,indexer:o})}return e.prototype.fetch=function(e){return void 0===e&&(e={}),(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a=this;return(0,s.b)(this,(function(o){switch(o.label){case 0:if(t=Math.max(e.offset||0,0),0===(n="number"==typeof e.limit?e.limit:Number.MAX_SAFE_INTEGER))return[2,[]];if(n<0)throw nr.collectionQueryNotValid;o.label=1;case 1:return o.trys.push([1,4,,5]),r=[],[4,this._mutex.lock()];case 2:return o.sent(),[4,this._iterator.each((function(e){return(0,s._)(a,void 0,void 0,(function(){return(0,s.b)(this,(function(i){return e.error?e.stop():e.hasNext?0===t?(r.push(e.nextValue),0<n&&n<=r.length?e.stop():e.next()):(t--,e.next()):e.stop(),[2]}))}))}))];case 3:return o.sent(),this._mutex.unlock(),[2,r];case 4:throw i=o.sent(),this._mutex.unlock(),i;case 5:return[2]}}))}))},e.prototype.count=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n=this;return(0,s.b)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),e=0,[4,this._mutex.lock()];case 1:return r.sent(),[4,this._iterator.each((function(t){return(0,s._)(n,void 0,void 0,(function(){return(0,s.b)(this,(function(n){return t.error?t.stop():t.hasNext?(e++,t.next()):t.stop(),[2]}))}))}))];case 2:return r.sent(),this._mutex.unlock(),[2,e];case 3:throw t=r.sent(),this._mutex.unlock(),t;case 4:return[2]}}))}))},e}(),vr=function(e){return"".concat("nest","@").concat(e)},br=function(e,t){return"".concat(vr(e),"/").concat(t)},Mr=function(e,t){return"".concat(br(e,t),".metadata")},Er=function(e,t){return"".concat(br(e,t),"/block.")},Lr=function(e,t){return"".concat(br(e,t),"/blob.")},wr=function(){function e(e){var t=e.dbname,n=e.collectionName,r=e.store;this.dbname=t,this.collectionName=n,this.store=r}return e.prototype.get=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u,c,l;return(0,s.b)(this,(function(s){switch(s.label){case 0:return[4,this.store.get(e)];case 1:return(t=s.sent())?(n=t.data,r=t.type,"undefined"==typeof fetch?[3,4]:[4,fetch(n)]):[3,5];case 2:return[4,s.sent().blob()];case 3:return[2,s.sent()];case 4:for(i=[],a=atob(n.split(",")[1]),o=0;o<a.length;o+=512){for(u=a.slice(o,o+512),c=new Array(u.length),l=0;l<u.length;l++)c[l]=u.charCodeAt(l);i.push(new Uint8Array(c))}return[2,new Blob(i,{type:r})];case 5:return[2,null]}}))}))},e.prototype.save=function(e,t){return void 0===t&&(t="".concat(Date.now())),(0,s._)(this,void 0,void 0,(function(){var n,r,i,a,o=this;return(0,s.b)(this,(function(s){switch(s.label){case 0:return[4,new Promise((function(n){var r=function(e,t,n,r){return void 0===r&&(r=0),"".concat(Lr(e,t)).concat(n,".").concat(r)}(o.dbname,o.collectionName,t),i=new FileReader;i.onload=function(){n({blobId:r,data:i.result,type:e.type})},i.readAsDataURL(e)}))];case 1:return n=s.sent(),r=n.blobId,i=n.data,a=n.type,[4,this.store.set({key:r,value:{data:i,type:a}})];case 2:return s.sent(),[2,r]}}))}))},e.prototype.remove=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,this.store.remove(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.clear=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n=this;return(0,s.b)(this,(function(r){switch(r.label){case 0:return e=Lr(this.dbname,this.collectionName),[4,this.store.getAllKeys()];case 1:return t=r.sent(),[4,Promise.all(t.filter((function(t){return t.startsWith(e)})).map((function(e){return(0,s._)(n,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,this.store.remove(e)];case 1:return[2,t.sent()]}}))}))})))];case 2:return r.sent(),[2]}}))}))},e}();!function(e){e[e.COMMIT=0]="COMMIT",e[e.WRITE=1]="WRITE",e[e.ERROR=2]="ERROR"}(_r||(_r={})),function(e){e.PENDING="pending",e.PERSISTENT="persistent",e.VOLATILE="volatile"}(fr||(fr={})),function(e){e[e.NO_CACHE=0]="NO_CACHE",e[e.DEFAULT=1]="DEFAULT",e[e.PERSISTENT=2]="PERSISTENT"}(pr||(pr={}));var Tr,kr,Sr=[fr.PENDING,fr.VOLATILE],Dr={},Cr=function(){function e(e){var t=e.dbname,n=e.limit,r=void 0===n?256:n;return Dr[t]||(this.dbname=t,this._items=[],this._limit=r,Dr[t]=this),Dr[t]}return e.get=function(e){return Dr[e]},Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),e.prototype.find=function(e,t,n){return void 0===n&&(n=pr.DEFAULT),(0,s._)(this,void 0,void 0,(function(){var r,i;return(0,s.b)(this,(function(s){switch(s.label){case 0:return(r=this.get(t))?[3,2]:[4,e.get(t)];case 1:return(i=s.sent())&&(r={key:t,value:i,state:n===pr.PERSISTENT?fr.PERSISTENT:fr.VOLATILE},this.put(r)),[3,3];case 2:n===pr.PERSISTENT&&(r.state=fr.PERSISTENT),s.label=3;case 3:return[2,r]}}))}))},e.prototype.get=function(e,t){void 0===t&&(t=pr.DEFAULT);var n=this._items.map((function(e){return e.key})).indexOf(e);if(n>-1){var r=this._items[n];return t===pr.PERSISTENT&&(r.state=fr.PERSISTENT),t!==pr.NO_CACHE&&this.put(r),r}return null},e.prototype.put=function(e){var t,n;if(this._limit>0){var r=this._items.map((function(e){return e.key})).indexOf(e.key);if(r>-1)Sr.includes(this._items[r].state)&&Sr.includes(e.state)?(this._items.splice(r,1),this._items.push(e)):(this._items[r].state=e.state,this._items[r].value=e.value);else{this._items.push(e);var i=this._items.filter((function(e){return e.state===fr.VOLATILE})),a=i.length-this._limit;if(a>0){var o=[];try{for(var u=(0,s.t)(this._items),c=u.next();!c.done;c=u.next()){var l=c.value;l.state===fr.VOLATILE&&a>0?a--:o.push(l)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}this._items=o}}}},e.prototype.remove=function(e){var t=this._items.map((function(e){return e.key})).indexOf(e);t>-1&&this._items.splice(t,1)},e.prototype.clearByCondition=function(e){this._items=this._items.filter((function(t){return!e(t)}))},e.prototype.clearForDatabase=function(e){this.clearByCondition((function(t){return t.key.startsWith(vr(e))}))},e.prototype.clear=function(e){void 0===e&&(e=!1),this._items=e?[]:this._items.filter((function(e){return e.state!==fr.VOLATILE}))},e}(),Ar=function(){function e(e){var t=e.dbname,n=e.collectionName,r=e.store;this._requests=[],this._onCommit=new Map,this._onWrite=new Map,this._onError=new Map,this.dbname=t,this.collectionName=n,this.metadataKey=function(e,t){return"".concat(br(e,t),"/trans.metadata")}(t,n),this.recordsetKey=function(e,t){return"".concat(br(e,t),"/trans.recordset")}(t,n),this._store=r}return Object.defineProperty(e.prototype,"generation",{get:function(){return this._metadata?this._metadata.generation:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"requestCount",{get:function(){return this._requests.length},enumerable:!1,configurable:!0}),e.prototype._getReducedRecordset=function(e){return void 0===e&&(e=[]),(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,this._store.get(this.recordsetKey)];case 1:return(t=n.sent()||[]).push.apply(t,(0,s.p)([],(0,s.q)(e),!1)),[2,this._reduceRecordSet(t)]}}))}))},e.prototype._reduceRecordSet=function(e){for(var t=[],n={},r=e.length-1;r>=0;r--){for(var i=e[r],s=[],a=i.requests.length-1;a>=0;a--){var o=i.requests[a],u=o.data;n[u.key]||(s.unshift(o),n[u.key]=!0)}s.length>0&&(i.requests=s,t.unshift(i))}return t},e.prototype._applyRecord=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n,r,i,a,o,u,c,l,d;return(0,s.b)(this,(function(h){switch(h.label){case 0:n=Cr.get(this.dbname),r=t.generation,i=t.requests,a=null,h.label=1;case 1:return h.trys.push([1,3,,4]),[4,this._store.setMany(i.map((function(e){return(0,s.g)((0,s.g)({},e.data),{generation:r})})))];case 2:for(o=h.sent(),u=0;u<i.length;u++)o[u]instanceof Error&&(a||(a=o[u]),c=i[u].data,n.put((0,s.g)((0,s.g)({},c),{state:fr.PERSISTENT})));return[3,4];case 3:return l=h.sent(),a=l,[3,4];case 4:return a?[3,6]:(d=e.filter((function(e){return e.generation!==r})),[4,this._store.set({key:this.recordsetKey,value:d})]);case 5:return h.sent(),this._onWrite.forEach((function(e){e(i.map((function(e){return e.data})))})),[3,7];case 6:this._onError.forEach((function(e){a&&e(a)})),h.label=7;case 7:return[2]}}))}))},e.prototype.init=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a,o,u;return(0,s.b)(this,(function(c){switch(c.label){case 0:return e=this,[4,this._store.get(this.metadataKey)];case 1:return e._metadata=c.sent()||{generation:1},[4,this._getReducedRecordset()];case 2:t=c.sent(),c.label=3;case 3:c.trys.push([3,8,9,10]),n=(0,s.t)(t),r=n.next(),c.label=4;case 4:return r.done?[3,7]:(i=r.value,[4,this._applyRecord(t,i)]);case 5:c.sent(),c.label=6;case 6:return r=n.next(),[3,4];case 7:return[3,10];case 8:return a=c.sent(),o={error:a},[3,10];case 9:try{r&&!r.done&&(u=n.return)&&u.call(n)}finally{if(o)throw o.error}return[7];case 10:return[2]}}))}))},e.prototype.on=function(e,t,n){switch(e){case _r.COMMIT:this._onCommit.set(t,n);break;case _r.WRITE:this._onWrite.set(t,n);break;case _r.ERROR:this._onError.set(t,n)}},e.prototype.requestWrite=function(e,t){this._requests.push({data:e,options:t}),Cr.get(this.dbname).put((0,s.g)({state:fr.PENDING},e))},e.prototype.requestMultipleWrite=function(e,t){var n,r,i=Cr.get(this.dbname);try{for(var a=(0,s.t)(e),o=a.next();!o.done;o=a.next()){var u=o.value;this._requests.push({data:u,options:t}),i.put((0,s.g)({state:fr.PENDING},u))}}catch(e){n={error:e}}finally{try{o&&!o.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},e.prototype.clear=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return Cr.get(this.dbname).clearByCondition((function(e){return e.state===fr.PENDING})),this._requests=[],[2]}))}))},e.prototype.commit=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a,o,u,c,l,d,h,_=this;return(0,s.b)(this,(function(f){switch(f.label){case 0:if(!((e=this._requests).length>0))return[3,4];for(t=[],n={},u=e.length-1;u>=0;u--)r=e[u],l=r.data,n[l.key]||(n[l.key]=!0,t.unshift(r));return i={generation:this.generation,requests:t},[4,this._getReducedRecordset([i])];case 1:return a=f.sent(),[4,this._store.set({key:this.recordsetKey,value:a})];case 2:return f.sent(),this._metadata.generation++,[4,this._store.set({key:this.metadataKey,value:this._metadata})];case 3:for(f.sent(),o=Cr.get(this.dbname),u=0;u<t.length;u++)c=t[u],l=c.data,d=c.options,o.put((0,s.g)((0,s.g)({},l),{state:d&&d.persistent?fr.PERSISTENT:fr.VOLATILE}));this._requests=[],this._onCommit.forEach((function(t){t(e.map((function(e){return e.data})))})),h=er.get(this.dbname),setTimeout((function(){try{_._applyRecord(a,i)}catch(e){_._onError.forEach((function(t){return t(e)}))}}),h.transactionApplyDelay),f.label=4;case 4:return[2]}}))}))},e}(),Ir=function(){function e(e){var t=e.blockId,n=e.keyName,r=e.items,i=void 0===r?[]:r,a=e.limit;this.blockId=t,this.keyName=n,this.limit=a,this._items=(0,s.p)([],(0,s.q)(i),!1)}return e.createFromCacheItem=function(t){return t?new e(t.value):null},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},enumerable:!1,configurable:!0}),e.prototype.serialize=function(){return{blockId:this.blockId,keyName:this.keyName,limit:this.limit,items:this._items}},e.prototype.getItemByKey=function(e){var t=this,n=this._items.find((function(n){var r=n[t.keyName];return e===r}));return null!=n?n:null},e.prototype.has=function(e){var t=this;return this._items.map((function(e){return e[t.keyName]})).includes(e)},e.prototype.add=function(e){var t=this,n=this._items.map((function(e){return e[t.keyName]})).indexOf(e[this.keyName]);return n<0?this._items.length<this.limit&&(this._items.push(e),!0):(this._items[n]=e,!0)},e.prototype.remove=function(e){for(var t=0;t<this._items.length;t++)if(this._items[t][this.keyName]===e)return this._items.splice(t,1),!0;return!1},e.prototype.clear=function(){this._items=[]},e}(),Nr=function(){function e(e){var t=e.dbname,n=e.collectionName,r=e.metadata,i=e.hashFunction,s=void 0===i?ar:i,a=e.transaction,o=e.store;this.dbname=t,this.collectionName=n,this.hashFunction=s,this.metadata=r,this._transaction=a,this._store=o}return Object.defineProperty(e.prototype,"keyName",{get:function(){return this.metadata.keyName},enumerable:!1,configurable:!0}),e.prototype.createBlockId=function(e,t){return void 0===t&&(t=this.metadata.blockLevel),n=this.dbname,r=this.collectionName,i=t,s="".concat(function(e,t,n){var r=n.base*Math.pow(n.multiplier,t)+n.constant;return(n.hashFunction||ar)(e,r)}(e,t,{hashFunction:this.hashFunction,base:this.metadata.blockHashBase,multiplier:this.metadata.blockHashMultiplier,constant:this.metadata.blockHashConstant})),"".concat(Er(n,r)).concat(i,".").concat(s);var n,r,i,s},e.prototype._findBlock=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a;return(0,s.b)(this,(function(s){switch(s.label){case 0:t=Cr.get(this.dbname),n=this.metadata.blockLevel,s.label=1;case 1:return n>0?(r=this.createBlockId(e,n),[4,t.find(this._store,r)]):[3,4];case 2:if((i=s.sent())&&(null==(a=Ir.createFromCacheItem(i))?void 0:a.getItemByKey(e)))return[2,a];s.label=3;case 3:return n--,[3,1];case 4:return[2,null]}}))}))},e.prototype.getFromBlock=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,this._findBlock(e)];case 1:return[2,(t=n.sent())?t.getItemByKey(e):null]}}))}))},e.prototype.putToBlock=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n,r,i,a,o;return(0,s.b)(this,(function(s){switch(s.label){case 0:return n=er.get(this.dbname),r=this.createBlockId(e),i=Math.floor(this._store.itemSizeLimit/n.itemSizeLimit),[4,Cr.get(this.dbname).find(this._store,r)];case 1:return a=s.sent(),(null==(o=a?Ir.createFromCacheItem(a):new Ir({blockId:r,keyName:this.keyName,items:[],limit:i}))?void 0:o.add(t))?(this._transaction.requestWrite({key:o.blockId,value:o.serialize()}),[2,!0]):[2,!1]}}))}))},e.prototype.removeFromBlock=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,this._findBlock(e)];case 1:return(t=n.sent())&&t.remove(e)?(this._transaction.requestWrite({key:t.blockId,value:t.serialize()}),[2,!0]):[2,!1]}}))}))},e.prototype.clearAllBlocks=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return e=Er(this.dbname,this.collectionName),[4,this._store.getAllKeys()];case 1:return t=r.sent(),n=t.filter((function(t){return t.startsWith(e)})),[4,this._store.removeMany(n)];case 2:return r.sent(),[4,this._transaction.clear()];case 3:return r.sent(),Cr.get(this.dbname).clearByCondition((function(t){return t.key.startsWith(e)})),[2]}}))}))},e}(),Yr=function(){function e(e){var t=e.dbname,n=e.collectionName,r=e.keyName,i=e.fields,s=e.transaction,a=e.store,o=this;this._origin=[],this._table=[];var u=function(e,t,n){return"".concat(br(e,t),"/index.").concat(n)}(t,n,i.join(">"));this.dbname=t,this.collectionName=n,this.keyName=r,this.fields=i,this.indexerKey=u,this._store=a,this._transaction=s,this._transaction.on(_r.COMMIT,this.indexerKey,(function(){return o.commit()})),this._transaction.on(_r.ERROR,this.indexerKey,(function(){return o.abort()}))}return e.createKey=function(e){return e.join(">")},e.parseKey=function(e){return e.split(">")},e.prototype._addItem=function(e){var t=e[this.keyName],n=this.getColumnValues(e),r=(0,s.q)(this.indexOf(n),2),i=r[0];return r[1]?!this._table[i].keys.includes(t)&&(this._table[i].keys.push(t),!0):(this._table.splice(i,0,{columnValues:n,keys:[t]}),!0)},e.prototype._removeItem=function(e){var t=e[this.keyName],n=this.getColumnValues(e),r=(0,s.q)(this.indexOf(n),2),i=r[0];if(r[1]){var a=this._table[i].keys.indexOf(t);if(a>-1)return this._table[i].keys.splice(a,1),0===this._table[i].keys.length&&this._table.splice(i,1),!0}return!1},Object.defineProperty(e.prototype,"origin",{get:function(){return this._origin},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"table",{get:function(){return this._table},enumerable:!1,configurable:!0}),e.prototype.getColumnValues=function(e){var t,n,r,i,a=[];try{for(var o=(0,s.t)(this.fields),u=o.next();!u.done;u=o.next()){var c=u.value;if("-"===c[0]&&(c=c.slice(1)),i=typeof(r=e[c]),null!==r&&"undefined"!==i&&"boolean"!==i&&"number"!==i&&"string"!==i)throw nr.indexTypesNotMatch;a.push(e[c])}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return a},e.prototype.diff=function(e,t){for(var n in this.fields){var r="-"===this.fields[n][0]?-1:1,i=sr(e[n],t[n]);if(0!==i)return r*i}return 0},e.prototype.indexOf=function(e){if(this._table.length>0){for(var t=0,n=this._table.length-1;t<=n;){var r=Math.floor((t+n)/2),i=this.diff(e,this._table[r].columnValues);if(i>0)t=r+1;else{if(!(i<0))return[r,!0];n=r-1}}return[t,!1]}return[0,!1]},e.prototype.ensure=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a,o,u,c,l,d,h,_,f,p,m,g;return(0,s.b)(this,(function(y){switch(y.label){case 0:return[4,(e=Cr.get(this.dbname)).find(this._store,this.indexerKey,pr.PERSISTENT)];case 1:return(t=y.sent())?[3,11]:(n=Er(this.dbname,this.collectionName),[4,this._store.getAllKeys()]);case 2:r=y.sent(),y.label=3;case 3:y.trys.push([3,8,9,10]),i=(0,s.t)(r),a=i.next(),y.label=4;case 4:return a.done?[3,7]:(o=a.value).startsWith(n)?[4,e.find(this._store,o,pr.NO_CACHE)]:[3,6];case 5:if(u=y.sent(),c=Ir.createFromCacheItem(u))try{for(m=void 0,l=(0,s.t)(c.items),d=l.next();!d.done;d=l.next())h=d.value,this._addItem(h)}catch(e){m={error:e}}finally{try{d&&!d.done&&(g=l.return)&&g.call(l)}finally{if(m)throw m.error}}y.label=6;case 6:return a=i.next(),[3,4];case 7:return[3,10];case 8:return _=y.sent(),f={error:_},[3,10];case 9:try{a&&!a.done&&(p=i.return)&&p.call(i)}finally{if(f)throw f.error}return[7];case 10:return this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[3,12];case 11:this._origin=t.value,this._table=ir(this._origin),y.label=12;case 12:return[2]}}))}))},e.prototype.drop=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return Cr.get(this.dbname).remove(this.indexerKey),[4,this._store.remove(this.indexerKey)];case 1:return e.sent(),[2]}}))}))},e.prototype.addItem=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){return this._addItem(e)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]}))}))},e.prototype.removeItem=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){return this._removeItem(e)&&this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]}))}))},e.prototype.clear=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return this._table=[],this._transaction.requestWrite({key:this.indexerKey,value:this._table},{persistent:!0}),[2]}))}))},e.prototype.commit=function(){this._origin=this._table,this._table=ir(this._origin)},e.prototype.abort=function(){this._table=ir(this._origin)},e}(),Or=function(){return"undefined"!=typeof document&&"undefined"!=typeof navigator&&"ReactNative"!==navigator.product},xr=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))};!function(e){e[e.PROCESSING=0]="PROCESSING",e[e.DONE=1]="DONE"}(Tr||(Tr={})),function(e){e.NEWNODE="newnode",e.REMOVENODE="removenode",e.CLAIM_HOST="claimhost",e.SYNC_HOST="synchost",e.REQUEST_LOCK="requestlock",e.ACQUIRE_LOCK="acquirelock",e.RELEASE_LOCK="releaselock"}(kr||(kr={}));var Ur,Pr={},Rr=function(){function e(e,t){void 0===t&&(t={});var n=this;return this._state=Tr.PROCESSING,this._queue=[],this._activationQueue=[],Pr[e]&&!t.forceCreate||(this.nodeId=xr(),this.key=e,Or()&&(t.startAsInvisible?this.registerNode():"visible"===document.visibilityState?this.claimHost():this.registerNode(),document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState&&n.claimHost()})),window.addEventListener("message",(function(e){var t,r,i=e.data;if(null==i?void 0:i.isNestDbMessage){var a=i.nodeId,o=i.requestId,u=i.key,c=i.op,l=i.data;if(a!==n.nodeId&&u===n.key)switch(c){case kr.NEWNODE:n._sendSync();break;case kr.CLAIM_HOST:n._sendSync(),n._hostId=a;break;case kr.SYNC_HOST:if(!n.isInSync){n._activationTimeout&&clearTimeout(n._activationTimeout);var d=l,h=d.currentItemRequestId,_=d.queue,f=function(e){n._queue.findIndex((function(t){return t.requestId===e.requestId}))<0&&n._requestLock({isNestDbMessage:!0,nodeId:e.nodeId,requestId:e.requestId,key:n.key,op:kr.REQUEST_LOCK,ts:e.ts})};try{for(var p=(0,s.t)(_),m=p.next();!m.done;m=p.next())f(m.value)}catch(e){t={error:e}}finally{try{m&&!m.done&&(r=p.return)&&r.call(p)}finally{if(t)throw t.error}}n._currentItem=n._queue.find((function(e){return e.requestId===h})),n._completeSync()}break;case kr.REMOVENODE:n._queue=n._queue.filter((function(e){return e.nodeId!==i.nodeId})),n._currentItem&&n._currentItem.nodeId===i.nodeId&&(n._currentItem=void 0,n._acquire(n._queue[0]));break;case kr.REQUEST_LOCK:n._requestLock(i);break;case kr.ACQUIRE_LOCK:var g=n._queue.find((function(e){return e.requestId===o}));n._acquire(g);break;case kr.RELEASE_LOCK:n._release(o)}}})),window.addEventListener("beforeunload",(function(){n._send(kr.REMOVENODE)}))),Pr[e]=this),Pr[e]}return Object.defineProperty(e.prototype,"locked",{get:function(){return!!this._currentItem},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isHost",{get:function(){return this._hostId===this.nodeId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isInSync",{get:function(){return this._state==Tr.DONE},enumerable:!1,configurable:!0}),e.prototype._send=function(e,t){var n;void 0===t&&(t={});var r={isNestDbMessage:!0,nodeId:this.nodeId,requestId:null!==(n=null==t?void 0:t.requestId)&&void 0!==n?n:xr(),key:this.key,op:e,data:t.data,ts:Date.now()};return Or()&&window.postMessage(r,"*"),r},e.prototype._acquire=function(e){e?(this._currentItem=e,this._currentItem.onAcquired&&this._currentItem.onAcquired(e.requestId)):this._currentItem=void 0},e.prototype._release=function(e){if(this._currentItem&&this._currentItem.requestId===e){var t=this._currentItem;this._currentItem=void 0,t.nodeId===this.nodeId&&this._send(kr.RELEASE_LOCK,{requestId:t.requestId});var n=this._queue.findIndex((function(t){return t.requestId===e}));n>-1&&this._queue.splice(n,1),t.onReleased&&t.onReleased(e)}},e.prototype._requestLock=function(e){var t=this;return new Promise((function(n){for(var r={nodeId:e.nodeId,requestId:e.requestId,ts:e.ts,onAcquired:function(e){t.isHost&&t._send(kr.ACQUIRE_LOCK,{requestId:e}),n()},onReleased:function(){t._acquire(t._queue[0])}},i=!1,s=0;s<t._queue.length;s++)if(t._queue[s].ts>r.ts){t._queue.splice(s,0,r),i=!0;break}i||t._queue.push(r),t._currentItem||t._acquire(t._queue[0])}))},e.prototype._sendSync=function(){var e;this.isHost&&this._send(kr.SYNC_HOST,{data:{currentItemRequestId:null===(e=this._currentItem)||void 0===e?void 0:e.requestId,queue:this._queue.map((function(e){return{nodeId:e.nodeId,requestId:e.requestId,ts:e.ts}}))}})},e.prototype._waitUntilSyncCompleted=function(){return(0,s._)(this,void 0,void 0,(function(){var e=this;return(0,s.b)(this,(function(t){return this.isHost&&!this.isInSync?[2,new Promise((function(t){e._activationQueue.push(t)}))]:[2]}))}))},e.prototype._waitSync=function(){var e=this;this.isInSync||(this._activationTimeout=setTimeout((function(){e._completeSync()}),8))},e.prototype._completeSync=function(){this.isInSync||(this._state=Tr.DONE,this._activationQueue.forEach((function(e){return e()})),this._activationQueue=[])},e.prototype.registerNode=function(){this._send(kr.NEWNODE),this._waitSync()},e.prototype.claimHost=function(){this._hostId=this.nodeId,this._send(kr.CLAIM_HOST),this._waitSync()},e.prototype.lock=function(){return(0,s._)(this,void 0,void 0,(function(){var e;return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,this._waitUntilSyncCompleted()];case 1:return t.sent(),e=this._send(kr.REQUEST_LOCK),[4,this._requestLock(e)];case 2:return t.sent(),[2]}}))}))},e.prototype.unlock=function(){var e;(null===(e=this._currentItem)||void 0===e?void 0:e.requestId)&&this._release(this._currentItem.requestId)},e}(),Hr=function(){function e(e){var t=e.dbname,n=e.collectionName,r=e.keyName,i=e.keyHash,a=e.indexes,o=e.store,u=this;this._state=tr.INIT,this._indexers=[],this.dbname=t,this.name=n,this.keyName=r,this.indexes=(0,s.p)([[r]],(0,s.q)(a.filter((function(e){return Yr.createKey(e)!==u.keyName}))),!1),this._keyHash=i,this._store=o,this._mutex=new Rr(function(e,t){return"".concat(br(e,t),".lock")}(t,n)),this._blobContainer=new wr({dbname:t,collectionName:n,store:o}),this._transaction=new Ar({dbname:t,collectionName:n,store:o})}return e.metadataOf=function(e,t,n){return(0,s._)(this,void 0,void 0,(function(){var r;return(0,s.b)(this,(function(i){switch(i.label){case 0:return r=Mr(e,t),[4,n.get(r)];case 1:return[2,i.sent()]}}))}))},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReady",{get:function(){return this._state===tr.READY},enumerable:!1,configurable:!0}),e.prototype.init=function(){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u,c,l,d,h,_,f,p,m=this;return(0,s.b)(this,(function(g){switch(g.label){case 0:return[4,this._mutex.lock()];case 1:g.sent(),g.label=2;case 2:return g.trys.push([2,9,,10]),t=er.get(this.dbname),[4,e.metadataOf(this.dbname,this.name,this._store)];case 3:return n=g.sent(),this._metadata=n||{keyName:this.keyName,blockLevel:1,blockHashBase:t.blockHashBase,blockHashMultiplier:t.blockHashMultiplier,blockHashConstant:t.blockHashConstant,indexes:this.indexes},[4,this._transaction.init()];case 4:g.sent(),this._blockManager=new Nr({dbname:this.dbname,collectionName:this.name,hashFunction:this._keyHash,metadata:this._metadata,transaction:this._transaction,store:this._store}),r=(0,s.p)([],(0,s.q)(this.indexes),!1),i=[],a=r.map((function(e){return Yr.createKey(e)})),o=n?n.indexes.map((function(e){return Yr.createKey(e)})):[];try{for(u=(0,s.t)(o),c=u.next();!c.done;c=u.next())l=c.value,a.includes(l)||i.push(Yr.parseKey(l))}catch(e){f={error:e}}finally{try{c&&!c.done&&(p=u.return)&&p.call(u)}finally{if(f)throw f.error}}return(d=[]).push.apply(d,(0,s.p)([],(0,s.q)(r.map((function(e){var t=new Yr({dbname:m.dbname,collectionName:m.name,keyName:m.keyName,fields:e,transaction:m._transaction,store:m._store});return m._indexers.push(t),t.ensure()}))),!1)),d.push.apply(d,(0,s.p)([],(0,s.q)(i.map((function(e){return new Yr({dbname:m.dbname,collectionName:m.name,keyName:m.keyName,fields:e,transaction:m._transaction,store:m._store}).drop()}))),!1)),[4,Promise.all(d)];case 5:return g.sent(),[4,this._transaction.commit()];case 6:return g.sent(),a.sort().join(",")===o.sort().join(",")?[3,8]:(h=Mr(this.dbname,this.name),this._metadata.indexes=r,[4,this._store.set({key:h,value:this._metadata})]);case 7:g.sent(),g.label=8;case 8:return this._state=tr.READY,this._mutex.unlock(),[3,10];case 9:throw _=g.sent(),this._mutex.unlock(),_;case 10:return[2]}}))}))},e.prototype.close=function(){this._state=tr.CLOSED},e.prototype._hasPropertyOfKeyName=function(e){var t=e[this.keyName];return"string"==typeof t&&!!t},e.prototype._getIndexerBy=function(e){var t,n;void 0===e&&(e=null),e||(e=[this.keyName]);var r=Yr.createKey(e);try{for(var i=(0,s.t)(this._indexers),a=i.next();!a.done;a=i.next()){var o=a.value;if(r===Yr.createKey(o.fields))return o}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}throw nr.indexTableIsRequired},e.prototype._upgradeBlockLevel=function(){return(0,s._)(this,void 0,void 0,(function(){var e;return(0,s.b)(this,(function(t){switch(t.label){case 0:return e=Mr(this.dbname,this.name),this._metadata.blockLevel++,[4,this._store.set({key:e,value:this._metadata})];case 1:return t.sent(),[2]}}))}))},e.prototype._requestInsert=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o;return(0,s.b)(this,(function(u){switch(u.label){case 0:return t=e[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return u.sent()?[3,13]:[4,this._blockManager.putToBlock(t,e)];case 2:return u.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return u.sent(),[4,this._blockManager.putToBlock(t,e)];case 4:u.sent(),u.label=5;case 5:u.trys.push([5,10,11,12]),n=(0,s.t)(this._indexers),r=n.next(),u.label=6;case 6:return r.done?[3,9]:[4,r.value.addItem(e)];case 7:u.sent(),u.label=8;case 8:return r=n.next(),[3,6];case 9:return[3,12];case 10:return i=u.sent(),a={error:i},[3,12];case 11:try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(a)throw a.error}return[7];case 12:return[3,14];case 13:throw nr.collectionInsertDuplicate;case 14:return[2]}}))}))},e.prototype._requestUpsert=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u,c,l,d,h,_,f;return(0,s.b)(this,(function(p){switch(p.label){case 0:return t=e[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return(n=p.sent())?[3,13]:[4,this._blockManager.putToBlock(t,e)];case 2:return p.sent()?[3,5]:[4,this._upgradeBlockLevel()];case 3:return p.sent(),[4,this._blockManager.putToBlock(t,e)];case 4:p.sent(),p.label=5;case 5:p.trys.push([5,10,11,12]),r=(0,s.t)(this._indexers),i=r.next(),p.label=6;case 6:return i.done?[3,9]:[4,(c=i.value).addItem(e)];case 7:p.sent(),p.label=8;case 8:return i=r.next(),[3,6];case 9:return[3,12];case 10:return a=p.sent(),d={error:a},[3,12];case 11:try{i&&!i.done&&(h=r.return)&&h.call(r)}finally{if(d)throw d.error}return[7];case 12:return[3,23];case 13:return[4,this._blockManager.putToBlock(t,e)];case 14:p.sent(),p.label=15;case 15:p.trys.push([15,21,22,23]),o=(0,s.t)(this._indexers),u=o.next(),p.label=16;case 16:return u.done?[3,20]:0===(c=u.value).diff(c.getColumnValues(n),c.getColumnValues(e))?[3,19]:[4,c.removeItem(n)];case 17:return p.sent(),[4,c.addItem(e)];case 18:p.sent(),p.label=19;case 19:return u=o.next(),[3,16];case 20:return[3,23];case 21:return l=p.sent(),_={error:l},[3,23];case 22:try{u&&!u.done&&(f=o.return)&&f.call(o)}finally{if(_)throw _.error}return[7];case 23:return[2]}}))}))},e.prototype._requestUpdate=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u,c;return(0,s.b)(this,(function(l){switch(l.label){case 0:return t=e[this.keyName],[4,this._blockManager.getFromBlock(t)];case 1:return(n=l.sent())?[4,this._blockManager.putToBlock(t,e)]:[3,11];case 2:l.sent(),l.label=3;case 3:l.trys.push([3,9,10,11]),r=(0,s.t)(this._indexers),i=r.next(),l.label=4;case 4:return i.done?[3,8]:0===(a=i.value).diff(a.getColumnValues(n),a.getColumnValues(e))?[3,7]:[4,a.removeItem(n)];case 5:return l.sent(),[4,a.addItem(e)];case 6:l.sent(),l.label=7;case 7:return i=r.next(),[3,4];case 8:return[3,11];case 9:return o=l.sent(),u={error:o},[3,11];case 10:try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(u)throw u.error}return[7];case 11:return[2]}}))}))},e.prototype._requestRemove=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o;return(0,s.b)(this,(function(u){switch(u.label){case 0:return[4,this._blockManager.getFromBlock(e)];case 1:return(t=u.sent())?[4,this._blockManager.removeFromBlock(e)]:[3,10];case 2:u.sent(),u.label=3;case 3:u.trys.push([3,8,9,10]),n=(0,s.t)(this._indexers),r=n.next(),u.label=4;case 4:return r.done?[3,7]:[4,r.value.removeItem(t)];case 5:u.sent(),u.label=6;case 6:return r=n.next(),[3,4];case 7:return[3,10];case 8:return i=u.sent(),a={error:i},[3,10];case 9:try{r&&!r.done&&(o=n.return)&&o.call(n)}finally{if(a)throw a.error}return[7];case 10:return[2]}}))}))},e.prototype._requestClear=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,s.b)(this,(function(a){switch(a.label){case 0:return[4,this._blockManager.clearAllBlocks()];case 1:a.sent(),a.label=2;case 2:a.trys.push([2,7,8,9]),e=(0,s.t)(this._indexers),t=e.next(),a.label=3;case 3:return t.done?[3,6]:[4,t.value.clear()];case 4:a.sent(),a.label=5;case 5:return t=e.next(),[3,3];case 6:return[3,9];case 7:return n=a.sent(),r={error:n},[3,9];case 8:try{t&&!t.done&&(i=e.return)&&i.call(e)}finally{if(r)throw r.error}return[7];case 9:return[2]}}))}))},e.prototype.getByKey=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,6];case 1:r.sent(),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,this._blockManager.getFromBlock(e)];case 3:return t=r.sent(),this._mutex.unlock(),[2,ir(t)];case 4:throw n=r.sent(),this._mutex.unlock(),n;case 5:return[3,7];case 6:throw nr.collectionNotReady;case 7:return[2]}}))}))},e.prototype.query=function(e){if(void 0===e&&(e={}),this.isReady)return new yr({condition:e.where,mutex:this._mutex,blockManager:this._blockManager,indexer:this._getIndexerBy(e.index),backward:!!e.backward});throw nr.collectionNotReady},e.prototype.insertOne=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:n.sent(),n.label=2;case 2:if(n.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(e))throw nr.collectionKeyNotGiven;return[4,this._requestInsert(ir(e))];case 3:return n.sent(),[4,this._transaction.commit()];case 4:return n.sent(),this._mutex.unlock(),[2,e];case 5:return t=n.sent(),[4,this._transaction.clear()];case 6:throw n.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw nr.collectionNotReady;case 9:return[2]}}))}))},e.prototype.insertMany=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u,c=this;return(0,s.b)(this,(function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:l.sent(),l.label=2;case 2:if(l.trys.push([2,12,,14]),e.some((function(e){return!c._hasPropertyOfKeyName(e)})))throw nr.collectionKeyNotGiven;l.label=3;case 3:l.trys.push([3,8,9,10]),t=(0,s.t)(e),n=t.next(),l.label=4;case 4:return n.done?[3,7]:(r=n.value,[4,this._requestInsert(ir(r))]);case 5:l.sent(),l.label=6;case 6:return n=t.next(),[3,4];case 7:return[3,10];case 8:return i=l.sent(),o={error:i},[3,10];case 9:try{n&&!n.done&&(u=t.return)&&u.call(t)}finally{if(o)throw o.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return l.sent(),this._mutex.unlock(),[2,e];case 12:return a=l.sent(),[4,this._transaction.clear()];case 13:throw l.sent(),this._mutex.unlock(),a;case 14:return[3,16];case 15:throw nr.collectionNotReady;case 16:return[2]}}))}))},e.prototype.upsertOne=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:n.sent(),n.label=2;case 2:if(n.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(e))throw nr.collectionKeyNotGiven;return[4,this._requestUpsert(ir(e))];case 3:return n.sent(),[4,this._transaction.commit()];case 4:return n.sent(),this._mutex.unlock(),[2,e];case 5:return t=n.sent(),[4,this._transaction.clear()];case 6:throw n.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw nr.collectionNotReady;case 9:return[2]}}))}))},e.prototype.upsertMany=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u,c=this;return(0,s.b)(this,(function(l){switch(l.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:l.sent(),l.label=2;case 2:if(l.trys.push([2,12,,14]),e.some((function(e){return!c._hasPropertyOfKeyName(e)})))throw nr.collectionKeyNotGiven;l.label=3;case 3:l.trys.push([3,8,9,10]),t=(0,s.t)(e),n=t.next(),l.label=4;case 4:return n.done?[3,7]:(r=n.value,[4,this._requestUpsert(ir(r))]);case 5:l.sent(),l.label=6;case 6:return n=t.next(),[3,4];case 7:return[3,10];case 8:return i=l.sent(),o={error:i},[3,10];case 9:try{n&&!n.done&&(u=t.return)&&u.call(t)}finally{if(o)throw o.error}return[7];case 10:return[4,this._transaction.commit()];case 11:return l.sent(),this._mutex.unlock(),[2,e];case 12:return a=l.sent(),[4,this._transaction.clear()];case 13:throw l.sent(),this._mutex.unlock(),a;case 14:return[3,16];case 15:throw nr.collectionNotReady;case 16:return[2]}}))}))},e.prototype.update=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:n.sent(),n.label=2;case 2:if(n.trys.push([2,5,,7]),!this._hasPropertyOfKeyName(e))throw nr.collectionKeyNotGiven;return[4,this._requestUpdate(ir(e))];case 3:return n.sent(),[4,this._transaction.commit()];case 4:return n.sent(),this._mutex.unlock(),[2,e];case 5:return t=n.sent(),[4,this._transaction.clear()];case 6:throw n.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw nr.collectionNotReady;case 9:return[2]}}))}))},e.prototype.updateIf=function(e,t){return(0,s._)(this,void 0,void 0,(function(){var n,r,i,a,o,u,c,l,d,h,_,f,p,m,g=this;return(0,s.b)(this,(function(y){switch(y.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,16];case 1:y.sent(),y.label=2;case 2:return y.trys.push([2,13,,15]),n=e.where,r=void 0===n?{}:n,i=e.index,a=void 0===i?null:i,o=e.backward,u=void 0!==o&&o,c=[],[4,new gr({condition:r,blockManager:this._blockManager,backward:u,indexer:this._getIndexerBy(a)}).each((function(e){return(0,s._)(g,void 0,void 0,(function(){var n;return(0,s.b)(this,(function(i){if(e.error)throw e.stop(),e.error;return e.hasNext?(n=e.nextValue,ur(r,n)&&t.set&&("function"!=typeof t.set?Object.keys(t.set).forEach((function(e){var r;n[e]=null===(r=t.set)||void 0===r?void 0:r[e]})):t.set(n),c.push(n)),e.next()):e.stop(),[2]}))}))}))];case 3:y.sent(),y.label=4;case 4:y.trys.push([4,9,10,11]),l=(0,s.t)(c),d=l.next(),y.label=5;case 5:return d.done?[3,8]:(h=d.value,[4,this._requestUpdate(ir(h))]);case 6:y.sent(),y.label=7;case 7:return d=l.next(),[3,5];case 8:return[3,11];case 9:return _=y.sent(),p={error:_},[3,11];case 10:try{d&&!d.done&&(m=l.return)&&m.call(l)}finally{if(p)throw p.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return y.sent(),this._mutex.unlock(),[2,c];case 13:return f=y.sent(),[4,this._transaction.clear()];case 14:throw y.sent(),this._mutex.unlock(),f;case 15:return[3,17];case 16:throw this._transaction.clear(),nr.collectionNotReady;case 17:return[2]}}))}))},e.prototype.remove=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:n.sent(),n.label=2;case 2:return n.trys.push([2,5,,7]),[4,this._requestRemove(e)];case 3:return n.sent(),[4,this._transaction.commit()];case 4:return n.sent(),this._mutex.unlock(),[3,7];case 5:return t=n.sent(),[4,this._transaction.clear()];case 6:throw n.sent(),this._mutex.unlock(),t;case 7:return[3,9];case 8:throw nr.collectionNotReady;case 9:return[2]}}))}))},e.prototype.removeIf=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u,c,l,d,h,_,f,p,m=this;return(0,s.b)(this,(function(g){switch(g.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,15];case 1:g.sent(),g.label=2;case 2:return g.trys.push([2,13,,14]),t=e.where,n=void 0===t?{}:t,r=e.index,i=void 0===r?null:r,a=e.backward,o=void 0!==a&&a,u=[],[4,new gr({condition:n,blockManager:this._blockManager,backward:o,indexer:this._getIndexerBy(i)}).each((function(e){return(0,s._)(m,void 0,void 0,(function(){var t,r;return(0,s.b)(this,(function(i){if(e.error)throw e.stop(),e.error;return e.hasNext?(t=e.nextValue,ur(n,t)&&(r=t[this.keyName],u.push(r)),e.next()):e.stop(),[2]}))}))}))];case 3:g.sent(),g.label=4;case 4:g.trys.push([4,9,10,11]),c=(0,s.t)(u),l=c.next(),g.label=5;case 5:return l.done?[3,8]:(d=l.value,[4,this._requestRemove(d)]);case 6:g.sent(),g.label=7;case 7:return l=c.next(),[3,5];case 8:return[3,11];case 9:return h=g.sent(),f={error:h},[3,11];case 10:try{l&&!l.done&&(p=c.return)&&p.call(c)}finally{if(f)throw f.error}return[7];case 11:return[4,this._transaction.commit()];case 12:return g.sent(),this._mutex.unlock(),[2,u];case 13:throw _=g.sent(),this._mutex.unlock(),_;case 14:return[3,16];case 15:throw this._transaction.clear(),nr.collectionNotReady;case 16:return[2]}}))}))},e.prototype.clear=function(){return(0,s._)(this,void 0,void 0,(function(){var e;return(0,s.b)(this,(function(t){switch(t.label){case 0:return this.isReady?[4,this._mutex.lock()]:[3,8];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,5,,7]),[4,this._requestClear()];case 3:return t.sent(),[4,this._transaction.commit()];case 4:return t.sent(),this._mutex.unlock(),[3,7];case 5:return e=t.sent(),[4,this._transaction.clear()];case 6:throw t.sent(),this._mutex.unlock(),e;case 7:return[3,9];case 8:throw nr.collectionNotReady;case 9:return[2]}}))}))},e.prototype.getBlob=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,this._blobContainer.get(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.saveBlob=function(e,t){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,this._blobContainer.save(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.removeBlob=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,this._blobContainer.remove(e)];case 1:return t.sent(),[2]}}))}))},e.prototype.removeAllBlobs=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return[4,this._blobContainer.clear()];case 1:return e.sent(),[2]}}))}))},e}(),Fr="[NESTDB]",jr=!0,Vr=function(){function e(){}return e.off=function(){jr=!1},e.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];jr&&console.log.apply(console,(0,s.p)(["".concat(Fr,"[LOG]")],(0,s.q)(e),!1))},e.warning=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];jr&&console.warn.apply(console,(0,s.p)(["".concat(Fr,"[WARNING]")],(0,s.q)(e),!1))},e.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];jr&&console.error.apply(console,(0,s.p)(["".concat(Fr,"[ERROR]")],(0,s.q)(e),!1))},e}(),qr=[{},{a:700400,n:"error"}],zr=function(){function e(e){var t,n,r;this.encryption=null!==(t=e.encryption)&&void 0!==t?t:s.aQ,this.itemSizeLimit=null!==(n=e.itemSizeLimit)&&void 0!==n?n:4194304,this.metadataBuffer=null!==(r=e.metadataBuffer)&&void 0!==r?r:256}return Object.defineProperty(e.prototype,"_encryptionCheckKey",{get:function(){return"".concat(this.dbname,".encrypt")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_reservedKeys",{get:function(){return[this._encryptionCheckKey]},enumerable:!1,configurable:!0}),e.prototype._getRawKey=function(e,t){return void 0===t&&(t=""),"".concat(e).concat(t)},e.prototype._generateShardPostfixArray=function(e){return void 0===e&&(e=1),(0,s.p)([],(0,s.q)(Array(e).keys()),!1)},e.prototype._shardify=function(e){var t=this,n=e.key,r=e.value,i=JSON.stringify(this.encryption.encrypt(r)),s=Math.ceil(i.length/this.adjustedItemSizeLimit);return this._generateShardPostfixArray(s).map((function(e){var r={key:t._getRawKey(n,".".concat(e)),data:i.substring(e*t.adjustedItemSizeLimit,(e+1)*t.adjustedItemSizeLimit)};return 0===e&&(r.metadata={shards:s}),r}))},e.prototype._resetIfEncryptionChanged=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a,o,u,c,l=this;return(0,s.b)(this,(function(s){switch(s.label){case 0:return[4,this.get(this._encryptionCheckKey)];case 1:if(e=s.sent(),t={encrypted:qr.map((function(e){var t;return null===(t=l.encryption)||void 0===t?void 0:t.encrypt(e)}))},!e)return[3,8];if(!e.encrypted||!Array.isArray(e.encrypted))return[3,6];for(i in n=e.encrypted,r=[],n)r.push(i);a=0,s.label=2;case 2:return a<r.length?(i=r[a])in n?(o=i,u=JSON.stringify(e.encrypted[o]),c=JSON.stringify(t.encrypted[o]),u===c?[3,4]:(Vr.warning("Encryption algorithm has changed. Stored data would be cleared."),[4,this.clear()])):[3,4]:[3,5];case 3:return s.sent(),[3,5];case 4:return a++,[3,2];case 5:return[3,8];case 6:return[4,this.clear()];case 7:s.sent(),s.label=8;case 8:return[4,this.set({key:this._encryptionCheckKey,value:t})];case 9:return s.sent(),[2]}}))}))},Object.defineProperty(e.prototype,"adjustedItemSizeLimit",{get:function(){return Math.max(this.itemSizeLimit-this.metadataBuffer,4)},enumerable:!1,configurable:!0}),e.prototype.usage=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a,o,u,c;return(0,s.b)(this,(function(l){switch(l.label){case 0:return e=0,[4,this._getAllRawKeys()];case 1:t=l.sent(),l.label=2;case 2:l.trys.push([2,7,8,9]),n=(0,s.t)(t),r=n.next(),l.label=3;case 3:return r.done?[3,6]:(i=r.value,[4,this._getRaw(i)]);case 4:(a=l.sent())&&(e+=JSON.stringify(a).length),l.label=5;case 5:return r=n.next(),[3,3];case 6:return[3,9];case 7:return o=l.sent(),u={error:o},[3,9];case 8:try{r&&!r.done&&(c=n.return)&&c.call(n)}finally{if(u)throw u.error}return[7];case 9:return[2,e]}}))}))},e.prototype.getAllKeys=function(){return(0,s._)(this,void 0,void 0,(function(){var e=this;return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,this._getAllRawKeys()];case 1:return[2,t.sent().filter((function(e){return e.endsWith(".0")})).map((function(e){return e.replace(/\.0$/,"")})).filter((function(t){return!e._reservedKeys.includes(t)}))]}}))}))},e.prototype.get=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u=this;return(0,s.b)(this,(function(c){switch(c.label){case 0:return t=this._getRawKey(e,".0"),[4,this._getRaw(t)];case 1:if(!(n=c.sent()))return[3,7];c.label=2;case 2:return c.trys.push([2,6,,7]),r=n.data,(null==(i=n.metadata)?void 0:i.shards)&&i.shards>1?[4,Promise.all(this._generateShardPostfixArray(null==i?void 0:i.shards).map((function(t){return(0,s._)(u,void 0,void 0,(function(){var n,i;return(0,s.b)(this,(function(s){switch(s.label){case 0:return t>0?(n=this._getRawKey(e,".".concat(t)),[4,this._getRaw(n)]):[3,2];case 1:if(!(i=s.sent()))throw nr.storeBrokenIntegrity;return[2,i.data];case 2:return[2,r]}}))}))})))]:[3,4];case 3:return o=c.sent(),[3,5];case 4:o=[r],c.label=5;case 5:return a=o,[2,this.encryption.decrypt(JSON.parse(a.join("")))];case 6:return c.sent(),[2,null];case 7:return[2,null]}}))}))},e.prototype.set=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return t=this._shardify(e),[4,this._setRaw(t)];case 1:return n.sent(),[2,(0,s.g)({},e.value)]}}))}))},e.prototype.setMany=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n=this;return(0,s.b)(this,(function(r){switch(r.label){case 0:return t=[],[4,this._setRaw(t.concat.apply(t,(0,s.p)([],(0,s.q)(e.map((function(e){return n._shardify(e)}))),!1)))];case 1:return r.sent(),[2,e.map((function(e){return e.value}))]}}))}))},e.prototype.remove=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o=this;return(0,s.b)(this,(function(s){switch(s.label){case 0:return t=this._getRawKey(e,".0"),[4,this._getRaw(t)];case 1:return(n=s.sent())?(r=n.metadata,i=this._generateShardPostfixArray(null==r?void 0:r.shards).map((function(t){return o._getRawKey(e,".".concat(t))})),[4,this._removeRaw(i)]):[3,3];case 2:return s.sent(),null==(a=Cr.get(this.dbname))||a.remove(e),[2,!0];case 3:return[2,!1]}}))}))},e.prototype.removeMany=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u,c,l,d,h=this;return(0,s.b)(this,(function(_){switch(_.label){case 0:t=Cr.get(this.dbname),n=[],r=function(e){var r,a,o;return(0,s.b)(this,(function(u){switch(u.label){case 0:return r=i._getRawKey(e,".0"),[4,i._getRaw(r)];case 1:return(a=u.sent())&&(o=a.metadata,n.push.apply(n,(0,s.p)([],(0,s.q)(i._generateShardPostfixArray(null==o?void 0:o.shards).map((function(t){return h._getRawKey(e,".".concat(t))}))),!1))),null==t||t.remove(e),[2]}}))},i=this,_.label=1;case 1:_.trys.push([1,6,7,8]),a=(0,s.t)(e),o=a.next(),_.label=2;case 2:return o.done?[3,5]:(u=o.value,[5,r(u)]);case 3:_.sent(),_.label=4;case 4:return o=a.next(),[3,2];case 5:return[3,8];case 6:return c=_.sent(),l={error:c},[3,8];case 7:try{o&&!o.done&&(d=a.return)&&d.call(a)}finally{if(l)throw l.error}return[7];case 8:return n.length>0?[4,this._removeRaw(n)]:[3,10];case 9:_.sent(),_.label=10;case 10:return[2,e]}}))}))},e.prototype.clear=function(){return(0,s._)(this,void 0,void 0,(function(){var e;return(0,s.b)(this,(function(t){return null==(e=Cr.get(this.dbname))||e.clearForDatabase(this.dbname),[2]}))}))},e}(),Gr={},Wr=function(e){function t(t){void 0===t&&(t={});var n,r=this;r=e.call(this,(0,s.g)((0,s.g)({},t),{itemSizeLimit:null!==(n=t.itemSizeLimit)&&void 0!==n?n:4194304}))||this;var i=t.delay,a=void 0===i?1:i;return r.delay=a,r.observer={},r}return(0,s.c)(t,e),Object.defineProperty(t.prototype,"rawData",{get:function(){return Gr[this.dbname]},set:function(e){Gr[this.dbname]=e},enumerable:!1,configurable:!0}),t.prototype._getAllRawKeys=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){if(Gr[this.dbname])return[2,Object.keys(Gr[this.dbname])];throw nr.storeNotAvailable}))}))},t.prototype._getRaw=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return Gr[this.dbname]?[4,or(this.delay)]:[3,2];case 1:return t.sent(),[2,Gr[this.dbname][e]?(0,s.g)({key:e},Gr[this.dbname][e]):null];case 2:throw nr.storeNotAvailable}}))}))},t.prototype._setRaw=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u,c;return(0,s.b)(this,(function(l){switch(l.label){case 0:return Gr[this.dbname]?[4,or(this.delay)]:[3,2];case 1:l.sent();try{for(t=(0,s.t)(e),n=t.next();!n.done;n=t.next())r=n.value,i=r.key,a=r.data,o=r.metadata,Gr[this.dbname][i]=Object.freeze({data:a,metadata:o})}catch(e){u={error:e}}finally{try{n&&!n.done&&(c=t.return)&&c.call(t)}finally{if(u)throw u.error}}return[3,3];case 2:throw nr.storeNotAvailable;case 3:return[2]}}))}))},t.prototype._removeRaw=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a;return(0,s.b)(this,(function(o){switch(o.label){case 0:return Gr[this.dbname]?[4,or(this.delay)]:[3,2];case 1:o.sent();try{for(t=(0,s.t)(e),n=t.next();!n.done;n=t.next())r=n.value,Gr[this.dbname][r]&&delete Gr[this.dbname][r]}catch(e){i={error:e}}finally{try{n&&!n.done&&(a=t.return)&&a.call(t)}finally{if(i)throw i.error}}return[3,3];case 2:throw nr.storeNotAvailable;case 3:return[2]}}))}))},t.prototype.observe=function(e,t,n){var r=this;this.observer[e]||(this.observer[e]={}),t.forEach((function(t){return r.observer[e][t]=n}))},t.prototype.checkAvailability=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){return[2]}))}))},t.prototype.init=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return this.dbname=e,Gr[this.dbname]||(Gr[this.dbname]={}),[4,this._resetIfEncryptionChanged()];case 1:return t.sent(),[2]}}))}))},t.prototype.set=function(t){return(0,s._)(this,void 0,void 0,(function(){var n,r;return(0,s.b)(this,(function(i){if((n=this.observer[t.key])&&"function"==typeof n.set&&(r=n.set()))throw r;return[2,e.prototype.set.call(this,t)]}))}))},t.prototype.setMany=function(t){return(0,s._)(this,void 0,void 0,(function(){var n,r,i,a,o,u,c;return(0,s.b)(this,(function(l){try{for(n=(0,s.t)(t),r=n.next();!r.done;r=n.next())if(i=r.value,(a=this.observer[i.key])&&"function"==typeof a.set&&(o=a.set()))throw o}catch(e){u={error:e}}finally{try{r&&!r.done&&(c=n.return)&&c.call(n)}finally{if(u)throw u.error}}return[2,e.prototype.setMany.call(this,t)]}))}))},t.prototype.clear=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,e.prototype.clear.call(this)];case 1:return t.sent(),[4,or(this.delay)];case 2:return t.sent(),Gr[this.dbname]={},[2]}}))}))},t}(zr),Br="NestDBStore";!function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.OPENING=1]="OPENING",e[e.OPEN=2]="OPEN",e[e.CLOSED=3]="CLOSED"}(Ur||(Ur={}));var Kr,Qr=function(e){function t(t){void 0===t&&(t={});var n,r=this;return(r=e.call(this,(0,s.g)((0,s.g)({},t),{itemSizeLimit:null!==(n=t.itemSizeLimit)&&void 0!==n?n:104857600}))||this)._storeName=Br,r._state=Ur.UNINITIALIZED,r._openJobQueue=[],r._window="undefined"!=typeof window?window:void 0,r._indexedDb=r._window?r._window.indexedDB||r._window.mozIndexedDB||r._window.webkitIndexedDB||r._window.msIndexedDB:void 0,r}return(0,s.c)(t,e),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),t.prototype.isTransactionInactiveError=function(e){return e instanceof Error&&e.message.includes("The transaction is inactive")},t.prototype._putToObjectStore=function(e,t){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(n){return[2,new Promise((function(n,r){var i=e.put(t);i.addEventListener("success",(function(e){n(e.target.result)})),i.addEventListener("error",(function(){r("Failed to write.")}))}))]}))}))},t.prototype._deleteFromObjectStore=function(e,t){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(n){return[2,new Promise((function(n,r){var i=e.delete(t);i.addEventListener("success",(function(){return n(t)})),i.addEventListener("error",(function(e){return r(e.target.error)}))}))]}))}))},t.prototype._openDatabase=function(e){var t=this;return new Promise((function(n,r){if(t._indexedDb){t._state=Ur.OPENING;var i=t._indexedDb.open(e);i.addEventListener("upgradeneeded",(function(e){e.target.result.createObjectStore(Br,{keyPath:"key"})})),i.addEventListener("success",(function(r){t._state=Ur.OPEN,t._database=r.target.result,t._openJobQueue.forEach((function(e){return e()})),t._openJobQueue=[],t._database.onclose=function(){t._database=void 0,t._state=Ur.OPENING,setTimeout((function(){t._openDatabase(e)}),5)},n(t._database)})),i.addEventListener("error",(function(e){t._state=Ur.UNINITIALIZED,r(e.target.error)}))}else r(nr.storeNotAvailable)}))},t.prototype._getObjectStore=function(e){return(0,s._)(this,void 0,void 0,(function(){var t=this;return(0,s.b)(this,(function(n){switch(n.label){case 0:return this._database?[2,this._database.transaction(this._storeName,e).objectStore(this._storeName)]:[3,1];case 1:switch(this._state){case Ur.UNINITIALIZED:case Ur.OPEN:return[3,2];case Ur.OPENING:case Ur.CLOSED:return[3,3]}return[3,4];case 2:throw nr.storeNotInitialized;case 3:return[2,new Promise((function(n){t._openJobQueue.push((function(){return n(t._getObjectStore(e))}))}))];case 4:return[4,this._getObjectStore(e)];case 5:return[2,n.sent()]}}))}))},t.prototype._getAllRawKeys=function(){return(0,s._)(this,void 0,void 0,(function(){var e;return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,this._getObjectStore("readonly")];case 1:return e=t.sent(),[4,new Promise((function(t,n){var r=e.getAllKeys();r.addEventListener("success",(function(e){t(e.target.result)})),r.addEventListener("error",(function(e){return n(e.target.error)}))}))];case 2:return[2,t.sent()]}}))}))},t.prototype._getRaw=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,this._getObjectStore("readonly")];case 1:return t=n.sent(),[4,new Promise((function(n,r){var i=t.get(e);i.addEventListener("success",(function(e){var t;n(null===(t=null==e?void 0:e.target)||void 0===t?void 0:t.result)})),i.addEventListener("error",(function(e){return r(e.target.error)}))}))];case 2:return[2,n.sent()]}}))}))},t.prototype._setRaw=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u,c,l=this;return(0,s.b)(this,(function(d){switch(d.label){case 0:return[4,this._getObjectStore("readwrite")];case 1:t=d.sent(),d.label=2;case 2:return d.trys.push([2,4,,15]),[4,Promise.all(e.map((function(e){return l._putToObjectStore(t,e)})))];case 3:return d.sent(),[3,15];case 4:if(n=d.sent(),!this.isTransactionInactiveError(n))return[3,13];d.label=5;case 5:d.trys.push([5,10,11,12]),r=(0,s.t)(e),i=r.next(),d.label=6;case 6:return i.done?[3,9]:(a=i.value,[4,this._putToObjectStore(t,a)]);case 7:d.sent(),d.label=8;case 8:return i=r.next(),[3,6];case 9:return[3,12];case 10:return o=d.sent(),u={error:o},[3,12];case 11:try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(u)throw u.error}return[7];case 12:return[3,14];case 13:throw n;case 14:return[3,15];case 15:return[2]}}))}))},t.prototype._removeRaw=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u,c,l=this;return(0,s.b)(this,(function(d){switch(d.label){case 0:return[4,this._getObjectStore("readwrite")];case 1:t=d.sent(),d.label=2;case 2:return d.trys.push([2,4,,15]),[4,Promise.all(e.map((function(e){return l._deleteFromObjectStore(t,e)})))];case 3:return d.sent(),[3,15];case 4:if(n=d.sent(),!this.isTransactionInactiveError(n))return[3,13];d.label=5;case 5:d.trys.push([5,10,11,12]),r=(0,s.t)(e),i=r.next(),d.label=6;case 6:return i.done?[3,9]:(a=i.value,[4,this._deleteFromObjectStore(t,a)]);case 7:d.sent(),d.label=8;case 8:return i=r.next(),[3,6];case 9:return[3,12];case 10:return o=d.sent(),u={error:o},[3,12];case 11:try{i&&!i.done&&(c=r.return)&&c.call(r)}finally{if(u)throw u.error}return[7];case 12:return[3,14];case 13:throw n;case 14:return[3,15];case 15:return[2]}}))}))},t.prototype._triggerDatabaseClose=function(){this._database&&this._database.onclose&&this._database.onclose(new Event("dummy"))},t.prototype.checkAvailability=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t=this;return(0,s.b)(this,(function(n){switch(n.label){case 0:if(!((null==(e="undefined"!=typeof window?window:null)?void 0:e.indexedDB)||(null==e?void 0:e.mozIndexedDB)||(null==e?void 0:e.webkitIndexedDB)||(null==e?void 0:e.msIndexedDB)))return[3,6];if(this._indexedDb=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB,!this._window||!Or())return[3,4];if(!(Or()&&navigator.userAgent&&navigator.userAgent.includes("Edge/")))return[3,1];if(!this._window.indexedDB&&(e.PointerEvent||e.MSPointerEvent))throw nr.storeNotAvailableInPrivateBrowsing;return[3,3];case 1:return[4,new Promise((function(e,n){if(t._indexedDb)try{var r=t._indexedDb.open("_testMozilla");r.onerror=function(){return n(nr.storeNotAvailableInPrivateBrowsing)},r.onsuccess=function(r){if(r.target.result.close(),t._indexedDb){var i=t._indexedDb.deleteDatabase("_testMozilla");i.onerror=function(){return e()},i.onsuccess=function(){return e()}}else n(nr.storeNotAvailable)}}catch(e){n(nr.storeNotAvailableInPrivateBrowsing)}else n(nr.storeNotAvailable)}))];case 2:n.sent(),n.label=3;case 3:return[3,5];case 4:throw nr.storeNotAvailable;case 5:return[3,7];case 6:throw nr.storeNotAvailable;case 7:return[2]}}))}))},t.prototype.init=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return this.dbname=e,[4,this.checkAvailability()];case 1:return t.sent(),[4,this._openDatabase(e)];case 2:return t.sent(),[4,this._resetIfEncryptionChanged()];case 3:return t.sent(),[2]}}))}))},t.prototype.clear=function(){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.clear.call(this)];case 1:return n.sent(),[4,this._getObjectStore("readwrite")];case 2:return t=n.sent(),[4,new Promise((function(e,n){var r=t.clear();r.addEventListener("success",(function(){return e()})),r.addEventListener("error",(function(e){return n(e.target.error)}))}))];case 3:return[2,n.sent()]}}))}))},t}(zr),Jr=function(e){function t(t){var n=this,r=t.AsyncStorage,i=t.itemSizeLimit,a=void 0===i?2097152:i,o=(0,s.aR)(t,["AsyncStorage","itemSizeLimit"]);return(n=e.call(this,(0,s.g)((0,s.g)({},o),{itemSizeLimit:a}))||this)._asyncStorage=r,n}return(0,s.c)(t,e),t.prototype._isBelonging=function(e){return e.startsWith("".concat(this.dbname,"/"))},t.prototype._getActualKey=function(e){return"".concat(this.dbname,"/").concat(e)},t.prototype._getAllRawKeys=function(){return(0,s._)(this,void 0,void 0,(function(){var e=this;return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,this._asyncStorage.getAllKeys()];case 1:return[2,t.sent().filter((function(t){return e._isBelonging(t)})).map((function(t){return t.substring("".concat(e.dbname,"/").length)}))]}}))}))},t.prototype._getRaw=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,this._asyncStorage.getItem(this._getActualKey(e))];case 1:return[2,(t=n.sent())?JSON.parse(t):null]}}))}))},t.prototype._setRaw=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o,u;return(0,s.b)(this,(function(c){switch(c.label){case 0:t=[];try{for(n=(0,s.t)(e),r=n.next();!r.done;r=n.next())i=r.value,a=i.key,i.data.length<=this.adjustedItemSizeLimit&&t.push([this._getActualKey(a),JSON.stringify(i)])}catch(e){o={error:e}}finally{try{r&&!r.done&&(u=n.return)&&u.call(n)}finally{if(o)throw o.error}}return[4,this._asyncStorage.multiSet(t)];case 1:return c.sent(),[2]}}))}))},t.prototype._removeRaw=function(e){return(0,s._)(this,void 0,void 0,(function(){var t=this;return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,this._asyncStorage.multiRemove(e.map((function(e){return t._getActualKey(e)})))];case 1:return n.sent(),[2]}}))}))},t.prototype.checkAvailability=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){if(!this._asyncStorage)throw nr.storeNotAvailable;return[2]}))}))},t.prototype.init=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return this.dbname=e,[4,this._resetIfEncryptionChanged()];case 1:return t.sent(),[2]}}))}))},t.prototype.clear=function(){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.clear.call(this)];case 1:return n.sent(),[4,this.getAllKeys()];case 2:return t=n.sent(),[4,this.removeMany(t)];case 3:return n.sent(),[2]}}))}))},t}(zr),Zr=function(e){function t(t){var n,r=this;return(r=e.call(this,(0,s.g)((0,s.g)({},t),{itemSizeLimit:null!==(n=t.itemSizeLimit)&&void 0!==n?n:6291456}))||this)._mmkv=t.MMKV,r}return(0,s.c)(t,e),t.prototype._isBelonging=function(e){return e.startsWith("".concat(this.dbname,"/"))},t.prototype._getActualKey=function(e){return"".concat(this.dbname,"/").concat(e)},t.prototype._getAllRawKeys=function(){return(0,s._)(this,void 0,void 0,(function(){var e=this;return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,this._mmkv.getAllKeys()];case 1:return[2,t.sent().filter((function(t){return e._isBelonging(t)})).map((function(t){return t.substring("".concat(e.dbname,"/").length)}))]}}))}))},t.prototype._getRaw=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,this._mmkv.getString(this._getActualKey(e))];case 1:return[2,(t=n.sent())?JSON.parse(t):null]}}))}))},t.prototype._setRaw=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o;return(0,s.b)(this,(function(u){try{for(t=(0,s.t)(e),n=t.next();!n.done;n=t.next())r=n.value,i=r.key,r.data.length<=this.adjustedItemSizeLimit&&this._mmkv.set(this._getActualKey(i),JSON.stringify(r))}catch(e){a={error:e}}finally{try{n&&!n.done&&(o=t.return)&&o.call(t)}finally{if(a)throw a.error}}return[2]}))}))},t.prototype._removeRaw=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a;return(0,s.b)(this,(function(o){try{for(t=(0,s.t)(e),n=t.next();!n.done;n=t.next())r=n.value,this._mmkv.delete(this._getActualKey(r))}catch(e){i={error:e}}finally{try{n&&!n.done&&(a=t.return)&&a.call(t)}finally{if(i)throw i.error}}return[2]}))}))},t.prototype.checkAvailability=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){if(!this._mmkv)throw nr.storeNotAvailable;return[2]}))}))},t.prototype.init=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return this.dbname=e,[4,this._resetIfEncryptionChanged()];case 1:return t.sent(),[2]}}))}))},t.prototype.clear=function(){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,e.prototype.clear.call(this)];case 1:return n.sent(),[4,this.getAllKeys()];case 2:return t=n.sent(),[4,this.removeMany(t)];case 3:return n.sent(),[2]}}))}))},t}(zr);!function(e){e.INIT="INIT",e.OPENING="OPENING",e.OPENED="OPENED",e.CLOSED="CLOSED"}(Kr||(Kr={}));var Xr,$r=function(){function e(e){var t=e.name,n=e.version,r=e.store,i=e.config;this.name=t,this._version=n,this._state=Kr.INIT,this._config=i||new er({dbname:t}),this._store=r,this._event={success:cr,error:cr,storeReplaced:cr,upgrade:hr},this._collections=new Map,this._globalMutex=new Rr("".concat(this.name,".lock")),this._config.disableLogger&&Vr.off(),new Cr({dbname:t,limit:this._config.cacheLimit})}return Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"store",{get:function(){return this._store},enumerable:!1,configurable:!0}),e.prototype.estimateUsage=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return[4,(t=this._store,(0,s._)(void 0,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return[4,t.usage()];case 1:return[2,e.sent()]}}))})))];case 1:return[2,e.sent()]}var t}))}))},e.prototype.commitSchema=function(e){return(0,s._)(this,void 0,void 0,(function(){var t=this;return(0,s.b)(this,(function(n){switch(n.label){case 0:return this._state!==Kr.OPENING?[3,2]:[4,Promise.all(e.map((function(e){return(0,s._)(t,void 0,void 0,(function(){var t,n,r,i,a;return(0,s.b)(this,(function(s){switch(s.label){case 0:return t=e.collectionName,n=e.keyName,r=e.index,i=void 0===r?[]:r,this._collections.has(t)||this._collections.set(t,new Hr({dbname:this.name,collectionName:t,keyName:n,indexes:i,store:this._store})),(a=this._collections.get(t))?[4,a.init()]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}}))}))})))];case 1:return n.sent(),[3,3];case 2:throw nr.databaseSchemaNotOnUpgrade;case 3:return[2]}}))}))},e.prototype.open=function(){var e;return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a=this;return(0,s.b)(this,(function(o){switch(o.label){case 0:return[4,this._globalMutex.lock()];case 1:if(o.sent(),this._state===Kr.OPENED)return[3,12];this._state=Kr.OPENING,o.label=2;case 2:return o.trys.push([2,5,,12]),[4,this._store.init(this.name)];case 3:return o.sent(),u=this.name,t="".concat(vr(u),".metadata"),n={version:0,collectionNames:[]},[4,this._store.get(t)];case 4:return r=null!==(e=o.sent())&&void 0!==e?e:n,[2,new Promise((function(e,n){var i=function(e){r.version<a._version?a._event.upgrade(r.version,(function(n){return(0,s._)(a,void 0,void 0,(function(){var i;return(0,s.b)(this,(function(s){switch(s.label){case 0:if(n)return[3,5];r.version++,r.collectionNames=Array.from(this._collections.keys()),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._store.set({key:t,value:r})];case 2:return s.sent(),e({continued:!0}),[3,4];case 3:return i=s.sent(),e({continued:!1,err:i}),[3,4];case 4:return[3,6];case 5:e({continued:!1,err:n}),s.label=6;case 6:return[2]}}))}))})):e({continued:!1})},o=function(t){var u=t.continued,c=void 0!==u&&u,l=t.err,d=void 0===l?null:l;if(c)setTimeout((function(){return i(o)}),10);else if(d)Vr.error(d.message),a._globalMutex.unlock(),a._event.error(d),n(d);else{var h=[];r.collectionNames.forEach((function(e){var t=a._collections.get(e);t&&t.state===tr.READY||h.push((0,s._)(a,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return[4,Hr.metadataOf(this.name,e,this._store)];case 1:return(t=r.sent())?(n=new Hr({dbname:this.name,collectionName:e,keyName:t.keyName,indexes:t.indexes,store:this._store}),this._collections.set(e,n),[4,n.init()]):[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}}))})))})),Promise.all(h).then((function(){a._state=Kr.OPENED,a._globalMutex.unlock(),a._event.success(),e()})).catch((function(e){Vr.error(e.message),a._globalMutex.unlock(),a._event.error(e),n(e)}))}};i(o)}))];case 5:switch((i=o.sent()).code){case Hn.STORE_NOT_AVAILABLE_IN_PRIVATE_BROWSING:return[3,6];case Hn.STORE_NOT_AVAILABLE:return[3,8]}return[3,10];case 6:return Vr.warning("Access to the local storage is not allowed. Switched to MemoryStore automatically."),this._store=new Wr({}),this._globalMutex.unlock(),this._event.error(i),this._event.storeReplaced(this._store),[4,this.open()];case 7:return o.sent(),[3,11];case 8:return Vr.warning("IndexedDB is not available in this environment. Switched to MemoryStore automatically. Consider using other store to save data persistently (e.g. AsyncStorage)."),this._store=new Wr({}),this._globalMutex.unlock(),this._event.error(i),this._event.storeReplaced(this._store),[4,this.open()];case 9:return o.sent(),[3,11];case 10:throw Vr.error(i.message),this._globalMutex.unlock(),this._event.error(i),i;case 11:return[3,12];case 12:return[2]}var u}))}))},e.prototype.close=function(){this._collections.forEach((function(e){return e.close()})),this._state=Kr.CLOSED},e.prototype.clear=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return[4,Promise.all(Array.from(this._collections.values()).map((function(e){return e.clear()})))];case 1:return e.sent(),[2]}}))}))},e.prototype.reset=function(){return(0,s._)(this,void 0,void 0,(function(){var e;return(0,s.b)(this,(function(t){switch(t.label){case 0:return(e=Cr.get(this.name))&&e.clearForDatabase(this.name),[4,this._store.clear()];case 1:return t.sent(),[2]}}))}))},e.prototype.on=function(e,t){this._event[e]=t},e.prototype.off=function(e){"function"==typeof this._event[e]&&(this._event[e]="upgrade"===e?hr:cr)},e.prototype.collection=function(e){var t=this._collections.get(e);if(t)return t;throw nr.collectionNotReady},e}();!function(e){e[e.VERBOSE=0]="VERBOSE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.NONE=5]="NONE"}(Xr||(Xr={}));var ei,ti=function(){function e(){this.level=Xr.WARN}return e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.level<=Xr.VERBOSE&&console.log.apply(console,(0,s.p)(["[verbose]"],(0,s.q)(e),!1))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.level<=Xr.DEBUG&&console.log.apply(console,(0,s.p)(["[debug]"],(0,s.q)(e),!1))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.level<=Xr.INFO&&console.log.apply(console,(0,s.p)(["[info]"],(0,s.q)(e),!1))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.level<=Xr.WARN&&console.warn.apply(console,(0,s.p)(["[warn]"],(0,s.q)(e),!1))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.level<=Xr.ERROR&&console.error.apply(console,(0,s.p)(["[error]"],(0,s.q)(e),!1))},e}(),ni=function(){function e(e){var t,n,r,i;this.messageTypeFilter=null!==(t=null==e?void 0:e.messageTypeFilter)&&void 0!==t?t:s.ar.ALL,this.customTypesFilter=null!==(n=null==e?void 0:e.customTypesFilter)&&void 0!==n?n:null,this.senderUserIdsFilter=null!==(r=null==e?void 0:e.senderUserIdsFilter)&&void 0!==r?r:null,this.replyType=null!==(i=null==e?void 0:e.replyType)&&void 0!==i?i:s.az.NONE}return e.prototype.clone=function(){var t=new e,n=JSON.parse(JSON.stringify(this));return Object.keys(n).forEach((function(e){t[e]=n[e]})),t},e.prototype.match=function(e){switch(this.messageTypeFilter){case s.ar.USER:if(e.messageType!==s.ai.USER)return!1;break;case s.ar.FILE:if(e.messageType!==s.ai.FILE)return!1;break;case s.ar.ADMIN:if(e.messageType!==s.ai.ADMIN)return!1}if(this.customTypesFilter&&this.customTypesFilter.length>0&&!this.customTypesFilter.includes("*")&&!this.customTypesFilter.includes(e.customType))return!1;if(this.senderUserIdsFilter&&this.senderUserIdsFilter.length>0){if(!(e instanceof q))return!1;if(!this.senderUserIdsFilter.includes(e.sender.userId))return!1}if(e instanceof V)switch(this.replyType){case s.az.NONE:if(e.parentMessageId>0)return!1;break;case s.az.ONLY_REPLY_TO_CHANNEL:if(e instanceof q&&e.parentMessageId>0&&!e.replyToChannel)return!1}return!0},e}();!function(e){e.CHANNEL_LATEST="channel_latest",e.NEWEST_CHILD_MESSAGE="newest_child_message"}(ei||(ei={}));var ri,ii=function(e){switch(e){case ei.CHANNEL_LATEST:return["channelUrl","-createdAt","-messageId"];case ei.NEWEST_CHILD_MESSAGE:return["channelUrl","-parentMessageId","-createdAt","-messageId"]}},si=function(){return["channelUrl","-createdAt","-notificationId"]},ai=(0,s.g)((0,s.g)({},De),{scheduledAt:void 0}),oi=function(e){return Ne(e)&&(0,s.a)("number",e.scheduledAt,!0)},ui=(0,s.g)((0,s.g)({},Te),{scheduledAt:0,file:void 0,fileUrl:void 0,fileName:void 0,mimeType:void 0,fileSize:void 0,thumbnailSizes:void 0,requireAuth:!1}),ci=function(e){return ke(e)&&(0,s.a)("number",e.scheduledAt)&&((0,s.i)(e.file)||(0,s.a)("string",e.fileUrl))&&(0,s.a)("string",e.fileName,!0)&&(0,s.a)("string",e.mimeType,!0)&&(0,s.a)("number",e.fileSize,!0)&&(null===e.thumbnailSizes||void 0===e.thumbnailSizes||e.thumbnailSizes.every((function(e){return(0,s.a)("object",e)&&e.maxWidth>0&&e.maxHeight>0})))},li="UnsentMessage",di="reqId",hi={},_i=function(e){function t(t){var n=e.call(this,t)||this;return n._mutex=new Rr("unsendmessagecache.lock"),hi[t]=n,n}return(0,s.c)(t,e),Object.defineProperty(t.prototype,"_cacheContext",{get:function(){return s.V.of(this._iid).cacheContext},enumerable:!1,configurable:!0}),t.of=function(e,n){return void 0===n&&(n=!1),hi[e]&&!n||(hi[e]=new t(e)),hi[e]},Object.defineProperty(t.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb,t=null==e?void 0:e.collection(li);if(!t)throw s.s.databaseError;return t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),t.prototype._serialize=function(e){if(e.messageId>0)throw s.s.invalidParameters;var t,n=(0,s.g)({},e.serialize());return e instanceof Q?(e.messageParams&&(n.messageParams=Se(e.messageParams)),e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams&&(n.scheduledInfo.scheduledMessageParams=(t=e.scheduledInfo.scheduledMessageParams,(0,s.g)((0,s.g)({},Se(t)),{scheduledAt:t.scheduledAt})))):e instanceof te?(e.messageParams&&(n.messageParams=xe(e.messageParams)),e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams&&(n.scheduledInfo.scheduledMessageParams=function(e){return(0,s.g)((0,s.g)({},xe(e)),{scheduledAt:e.scheduledAt})}(e.scheduledInfo.scheduledMessageParams))):e instanceof J&&e.messageParams&&(n.messageParams=function(e){return(0,s.e)({fileInfoList:e.fileInfoList,isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption})}(e.messageParams)),n},t.prototype._deserialize=function(e){return e=(0,s.g)((0,s.g)({},e),{messageId:parseInt(e.messageId)}),Ti.of(this._iid).buildMessageFromSerializedData(e)},t.prototype._deserializeWithMessageCreateParams=function(e){var t,n,r;return(0,s._)(this,void 0,void 0,(function(){var i,a,o,u,c,l,d=this;return(0,s.b)(this,(function(h){switch(h.label){case 0:return i=Ti.of(this._iid),a=this._deserialize(e),e.messageParams?a instanceof Q?(u=e.messageParams,a.messageParams=i.buildUserMessageCreateParamsFromSerializedData(u,a),[3,6]):[3,1]:[3,6];case 1:return a instanceof te?(u=e.messageParams).fileKey&&"string"==typeof u.fileKey&&Oe(null!==(t=u.fileType)&&void 0!==t?t:"")?(o=u,[4,this.collection.getBlob(u.fileKey)]):[3,3]:[3,4];case 2:o.file=null!==(n=h.sent())&&void 0!==n?n:void 0,h.label=3;case 3:return a.messageParams=i.buildFileMessageCreateParamsFromSerializedData(u,a),[3,6];case 4:return a instanceof J&&(u=e.messageParams)&&u.fileInfoList?(a.messageParams=i.buildMultipleFilesMessageCreateParamsFromSerializedData(u,a),[4,Promise.all(a.messageParams.fileInfoList.map((function(e){return(0,s._)(d,void 0,void 0,(function(){var t,n,r,i,a;return(0,s.b)(this,(function(s){switch(s.label){case 0:return"string"==typeof(null===(n=e._uploadedMetaData)||void 0===n?void 0:n.fileKey)&&Oe(null!==(i=null===(r=e._uploadedMetaData)||void 0===r?void 0:r.fileType)&&void 0!==i?i:"")?(t=e,[4,this.collection.getBlob(e._uploadedMetaData.fileKey)]):[3,2];case 1:t.file=null!==(a=s.sent())&&void 0!==a?a:void 0,s.label=2;case 2:return[2]}}))}))})))]):[3,6];case 5:h.sent(),h.label=6;case 6:return a.scheduledInfo&&e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams?a instanceof Q?(c=e.scheduledInfo.scheduledMessageParams,a.scheduledInfo.scheduledMessageParams=i.buildScheduledUserMessageCreateParamsFromSerializedData(c,a),[3,10]):[3,7]:[3,10];case 7:return a instanceof te?(c=e.scheduledInfo.scheduledMessageParams).fileKey&&"string"==typeof c.fileKey&&"string"==typeof c.fileType&&Oe(c.fileType)?(l=c,[4,this.collection.getBlob(c.fileKey)]):[3,9]:[3,10];case 8:l.file=null!==(r=h.sent())&&void 0!==r?r:void 0,h.label=9;case 9:a.scheduledInfo.scheduledMessageParams=i.buildScheduledFileMessageCreateParamsFromSerializedData(c,a),h.label=10;case 10:return[2,a]}}))}))},t.prototype._getFileInfoBlobKey=function(e,t){return"".concat(e,".").concat(t)},t.prototype.get=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(e))]:[3,2];case 1:if(t=n.sent())return[2,this._deserializeWithMessageCreateParams(t)];n.label=2;case 2:return[2,void 0]}}))}))},t.prototype.fetch=function(e){var t=e.channelUrl,n=e.filter,r=void 0===n?new ni:n,i=e.order,a=void 0===i?ei.CHANNEL_LATEST:i,o=e.sendingStatus,u=e.backward,c=void 0!==u&&u,l=e.parentMessageId;return(0,s._)(this,void 0,void 0,(function(){var e,n,i,u,d=this;return(0,s.b)(this,(function(h){switch(h.label){case 0:return this.localCacheEnabled?(e=ii(a),n={"/where":function(e){return!!(a!==ei.NEWEST_CHILD_MESSAGE||l&&0!==e.parentMessageId&&e.parentMessageId===l)&&r.match(d._deserialize(e))}},t&&(n.channelUrl=t),o&&(n.sendingStatus=o),i={where:n,index:e,backward:c},[4,this.collection.query(i)]):[3,3];case 1:return[4,h.sent().fetch({})];case 2:return u=h.sent(),[2,Promise.all(u.map((function(e){return(0,s._)(d,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return[4,this._deserializeWithMessageCreateParams(e)];case 1:return[2,t.sent()]}}))}))})))];case 3:return[2,[]]}}))}))},t.prototype.getAllChildMessages=function(e,t){return void 0===t&&(t=new ni),(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,this.fetch({filter:t,order:ei.NEWEST_CHILD_MESSAGE,channelUrl:e.channelUrl,backward:!1,parentMessageId:e.messageId})];case 1:return[2,n.sent()]}}))}))},t.prototype.upsert=function(e){return(0,s._)(this,void 0,void 0,(function(){var t=this;return(0,s.b)(this,(function(n){switch(n.label){case 0:return this.localCacheEnabled?[4,Promise.all(e.map((function(e){return(0,s._)(t,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return e instanceof te||e instanceof J?[4,this._mutex.lock()]:[3,4];case 1:return n.sent(),[4,this.saveBlob(e)];case 2:return n.sent(),[4,this._mutex.unlock()];case 3:n.sent(),n.label=4;case 4:return t=this._serialize(e),[4,this.collection.upsertOne(t)];case 5:return n.sent(),[2]}}))}))})))]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.upsertChildMessages=function(e){return(0,s._)(this,void 0,void 0,(function(){var t=this;return(0,s.b)(this,(function(n){switch(n.label){case 0:return this.localCacheEnabled?[4,Promise.all(e.map((function(e){return(0,s._)(t,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return t=[],e.threadInfo&&e.threadInfo.replyCount>0?[4,this.getAllChildMessages(e)]:[3,2];case 1:t=n.sent(),n.label=2;case 2:return t.length>0?(t.forEach((function(t){return t.applyParentMessage(e)})),[4,this.upsert(t)]):[3,4];case 3:n.sent(),n.label=4;case 4:return[2]}}))}))})))]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.remove=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o;return(0,s.b)(this,(function(u){switch(u.label){case 0:if(!this.localCacheEnabled)return[3,8];u.label=1;case 1:u.trys.push([1,6,7,8]),t=(0,s.t)(e),n=t.next(),u.label=2;case 2:return n.done?[3,5]:(r=n.value,[4,this.collection.remove(r)]);case 3:u.sent(),u.label=4;case 4:return n=t.next(),[3,2];case 5:return[3,8];case 6:return i=u.sent(),a={error:i},[3,8];case 7:try{n&&!n.done&&(o=t.return)&&o.call(t)}finally{if(a)throw a.error}return[7];case 8:return[2]}}))}))},t.prototype.removeMessagesOfChannel=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){switch(t.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e}})]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.clear=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.saveBlob=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i=this;return(0,s.b)(this,(function(a){switch(a.label){case 0:return e instanceof te?e.messageParams&&(r=e.messageParams).file&&Ye(r.file)?[4,this.collection.saveBlob(r.file,e.reqId)]:[3,2]:[3,5];case 1:n=a.sent(),r.fileKey=n,r.fileType=Ae.BLOB,a.label=2;case 2:return e.scheduledInfo&&e.scheduledInfo.scheduledMessageParams&&(t=e.scheduledInfo.scheduledMessageParams).file&&Ye(t.file)?[4,this.collection.saveBlob(t.file,e.reqId)]:[3,4];case 3:n=a.sent(),t.fileKey=n,t.fileType=Ae.BLOB,a.label=4;case 4:return[3,7];case 5:return e instanceof J&&(r=e.messageParams)&&r.fileInfoList&&Array.isArray(r.fileInfoList)?[4,Promise.all(r.fileInfoList.map((function(t,n){return(0,s._)(i,void 0,void 0,(function(){var r;return(0,s.b)(this,(function(i){switch(i.label){case 0:return t.file&&Ye(t.file)?[4,this.collection.saveBlob(t.file,this._getFileInfoBlobKey(e.reqId,n))]:[3,2];case 1:r=i.sent(),t._uploadedMetaData||(t._uploadedMetaData={}),t._uploadedMetaData.fileKey=r,t._uploadedMetaData.fileType=Ae.BLOB,i.label=2;case 2:return[2]}}))}))})))]:[3,7];case 6:a.sent(),a.label=7;case 7:return[2]}}))}))},t}(s.ag),fi={},pi=function(e){function t(t){var n=e.call(this,t)||this;return fi[t]=n,n}return(0,s.c)(t,e),Object.defineProperty(t.prototype,"_sdkState",{get:function(){return s.V.of(this._iid).sdkState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_cacheContext",{get:function(){return s.V.of(this._iid).cacheContext},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_unsentMessageCache",{get:function(){return _i.of(this._iid)},enumerable:!1,configurable:!0}),t.of=function(e,n){return void 0===n&&(n=!1),fi[e]&&!n||(fi[e]=new t(e)),fi[e]},Object.defineProperty(t.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb;return(0,s.w)(!!e).throw(s.s.databaseError),e.collection(bn)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),t.prototype._serialize=function(e){return(0,s.g)((0,s.g)({},e.serialize()),{messageId:"".concat(e.messageId)})},t.prototype._deserialize=function(e){return e=(0,s.g)((0,s.g)({},e),{messageId:parseInt(e.messageId)}),Ti.of(this._iid).buildMessageFromSerializedData(e)},t.prototype.get=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey("".concat(e))]:[3,2];case 1:if(t=n.sent())return[2,this._deserialize(t)];n.label=2;case 2:return[2,void 0]}}))}))},t.prototype.fetch=function(e){var t=e.channelUrl,n=e.token,r=e.limit,i=void 0===r?100:r,a=e.filter,o=void 0===a?new ni:a,u=e.order,c=void 0===u?ei.CHANNEL_LATEST:u,l=e.backward,d=void 0!==l&&l,h=e.parentMessageId,_=e.isPollOnly,f=void 0!==_&&_,p=e.exactMatch,m=void 0!==p&&p,g=e.inclusive,y=void 0===g||g;return(0,s._)(this,void 0,void 0,(function(){var e,r,a,u=this;return(0,s.b)(this,(function(l){switch(l.label){case 0:return this.localCacheEnabled?(e=ii(c),r={where:{channelUrl:t,"/where":function(e){if(null!=n&&""!==n)switch(c){case ei.CHANNEL_LATEST:if(m&&e.createdAt!==n)return!1;if(d){if(y&&e.createdAt<n||!y&&e.createdAt<=n)return!1}else if(y&&e.createdAt>n||!y&&e.createdAt>=n)return!1;break;case ei.NEWEST_CHILD_MESSAGE:if(!h||0===e.parentMessageId||e.parentMessageId!==h)return!1}return!(f&&!e._poll)&&o.match(u._deserialize(e))}},index:e,backward:d},[4,this.collection.query(r)]):[3,3];case 1:return[4,l.sent().fetch({limit:null!=i?i:void 0})];case 2:return a=l.sent(),[2,Promise.all(a.map((function(e){return(0,s._)(u,void 0,void 0,(function(){return(0,s.b)(this,(function(t){return[2,this._deserialize(e)]}))}))})))];case 3:return[2,[]]}}))}))},t.prototype.getAllChildMessages=function(e,t){return void 0===t&&(t=new ni),(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,this.fetch({channelUrl:e.channelUrl,token:Date.now(),limit:null,backward:!1,filter:t,order:ei.NEWEST_CHILD_MESSAGE,parentMessageId:e.messageId})];case 1:return[2,n.sent()]}}))}))},t.prototype.upsert=function(e){var t;return(0,s._)(this,void 0,void 0,(function(){var n,r,i,a,o,u,c,l,d=this;return(0,s.b)(this,(function(h){switch(h.label){case 0:return this.localCacheEnabled?[4,this.saveBlobs(e)]:[3,13];case 1:h.sent(),h.label=2;case 2:h.trys.push([2,7,8,9]),n=(0,s.t)(e),r=n.next(),h.label=3;case 3:return r.done?[3,6]:(i=r.value,(null===(t=i.threadInfo)||void 0===t?void 0:t._isUpdateRequired)?[4,this.get(i.messageId)]:[3,5]);case 4:(null==(a=h.sent())?void 0:a.threadInfo)&&i.threadInfo._updateFrom(a.threadInfo),h.label=5;case 5:return r=n.next(),[3,3];case 6:return[3,9];case 7:return o=h.sent(),c={error:o},[3,9];case 8:try{r&&!r.done&&(l=n.return)&&l.call(n)}finally{if(c)throw c.error}return[7];case 9:return u=e.map((function(e){return d._serialize(e)})),[4,this.collection.upsertMany(u)];case 10:return h.sent(),[4,this.upsertChildMessages(e)];case 11:return h.sent(),[4,this._unsentMessageCache.upsertChildMessages(e)];case 12:h.sent(),h.label=13;case 13:return[2]}}))}))},t.prototype.upsertChildMessages=function(e){return(0,s._)(this,void 0,void 0,(function(){var t=this;return(0,s.b)(this,(function(n){switch(n.label){case 0:return this.localCacheEnabled?[4,Promise.all(e.map((function(e){return(0,s._)(t,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return t=[],(null===(n=e.threadInfo)||void 0===n?void 0:n.replyCount)&&e.threadInfo.replyCount>0?[4,this.getAllChildMessages(e)]:[3,2];case 1:t=r.sent(),r.label=2;case 2:return t.length>0?(t.forEach((function(t){return t.applyParentMessage(e)})),[4,this.upsert(t)]):[3,4];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))})))]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.remove=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o;return(0,s.b)(this,(function(u){switch(u.label){case 0:if(!this.localCacheEnabled)return[3,8];u.label=1;case 1:u.trys.push([1,6,7,8]),t=(0,s.t)(e),n=t.next(),u.label=2;case 2:return n.done?[3,5]:(r=n.value,[4,this.collection.remove("".concat(r))]);case 3:u.sent(),u.label=4;case 4:return n=t.next(),[3,2];case 5:return[3,8];case 6:return i=u.sent(),a={error:i},[3,8];case 7:try{n&&!n.done&&(o=t.return)&&o.call(t)}finally{if(a)throw a.error}return[7];case 8:return[2]}}))}))},t.prototype.removeMessagesOfChannel=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e},index:ii(ei.CHANNEL_LATEST)})]:[3,6];case 1:return n.sent(),[4,(t=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync"))];case 2:return n.sent(),[4,t.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync.meta"))];case 3:return n.sent(),[4,t.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs"))];case 4:return n.sent(),[4,t.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs.meta"))];case 5:n.sent(),n.label=6;case 6:return[2]}}))}))},t.prototype.removeUnderOffset=function(e,t){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(n){switch(n.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e,createdAt:{"<":t}},index:ii(ei.CHANNEL_LATEST)})]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.clear=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.countBetween=function(e,t,n){return(0,s._)(this,void 0,void 0,(function(){var r,i=this;return(0,s.b)(this,(function(s){switch(s.label){case 0:return this.localCacheEnabled?(r=ii(ei.CHANNEL_LATEST),[4,this.collection.query({where:{channelUrl:e,"/where":function(e){var r=i._deserialize(e);return n.includes(r.createdAt)&&t.match(r)}},index:r}).count()]):[3,2];case 1:return[2,s.sent()];case 2:return[2,0]}}))}))},t.prototype.saveBlobs=function(e){return(0,s._)(this,void 0,void 0,(function(){var t=this;return(0,s.b)(this,(function(n){switch(n.label){case 0:return[4,Promise.all(e.map((function(e){return(0,s._)(t,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return e instanceof te&&e.messageParams&&(t=e.messageParams).file&&Ye(t.file)?[4,this.collection.saveBlob(t.file,e.reqId)]:[3,2];case 1:n=r.sent(),t.fileKey=n,r.label=2;case 2:return[2]}}))}))})))];case 1:return n.sent(),[2]}}))}))},t.prototype._getGroupChannelPreferenceSize=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o;return(0,s.b)(this,(function(s){switch(s.label){case 0:return t=0,[4,(n=this._cacheContext.preference).get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync"))];case 1:return r=s.sent(),[4,n.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync.meta"))];case 2:return i=s.sent(),[4,n.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs"))];case 3:return a=s.sent(),[4,n.get("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs.meta"))];case 4:return o=s.sent(),r&&(t+=JSON.stringify(r).length),i&&(t+=JSON.stringify(i).length),a&&(t+=JSON.stringify(a).length),o&&(t+=JSON.stringify(o).length),[2,t]}}))}))},t}(s.ag),mi={},gi=function(e){function t(t){var n=e.call(this,t)||this;return mi[t]=n,n}return(0,s.c)(t,e),Object.defineProperty(t.prototype,"_sdkState",{get:function(){return s.V.of(this._iid).sdkState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_cacheContext",{get:function(){return s.V.of(this._iid).cacheContext},enumerable:!1,configurable:!0}),t.of=function(e,n){return void 0===n&&(n=!1),mi[e]&&!n||(mi[e]=new t(e)),mi[e]},Object.defineProperty(t.prototype,"collection",{get:function(){var e=this._cacheContext.nestdb;return(0,s.w)(!!e).throw(s.s.databaseError),e.collection(En)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localCacheEnabled",{get:function(){return this._cacheContext.localCacheEnabled&&!!this.collection},enumerable:!1,configurable:!0}),t.prototype._serialize=function(e){return(0,s.g)({},e.serialize())},t.prototype._deserialize=function(e){return Ti.of(this._iid).buildMessageFromSerializedData(e)},t.prototype.get=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return this.localCacheEnabled?[4,this.collection.getByKey(e)]:[3,2];case 1:if(t=n.sent())return[2,this._deserialize(t)];n.label=2;case 2:return[2,void 0]}}))}))},t.prototype.fetch=function(e){var t=e.channelUrl,n=e.token,r=e.limit,i=void 0===r?100:r,a=e.filter,o=void 0===a?new ni:a,u=e.backward,c=void 0!==u&&u,l=e.exactMatch,d=void 0!==l&&l,h=e.inclusive,_=void 0===h||h;return(0,s._)(this,void 0,void 0,(function(){var e,r=this;return(0,s.b)(this,(function(s){switch(s.label){case 0:return this.localCacheEnabled?(e={where:{channelUrl:t,"/where":function(e){if(n){if(d&&e.createdAt!==n)return!1;if(c){if(_&&e.createdAt<n||!_&&e.createdAt<=n)return!1}else if(_&&e.createdAt>n||!_&&e.createdAt>=n)return!1}return o.match(r._deserialize(e))}},index:["channelUrl","-createdAt","-notificationId"],backward:c},[4,this.collection.query(e)]):[3,3];case 1:return[4,s.sent().fetch({limit:null!=i?i:void 0})];case 2:return[2,s.sent().map((function(e){return r._deserialize(e)}))];case 3:return[2,[]]}}))}))},t.prototype.upsert=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n=this;return(0,s.b)(this,(function(r){switch(r.label){case 0:return this.localCacheEnabled?(t=e.map((function(e){return n._serialize(e)})),[4,this.collection.upsertMany(t)]):[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.remove=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n,r,i,a,o;return(0,s.b)(this,(function(u){switch(u.label){case 0:if(!this.localCacheEnabled)return[3,8];u.label=1;case 1:u.trys.push([1,6,7,8]),t=(0,s.t)(e),n=t.next(),u.label=2;case 2:return n.done?[3,5]:(r=n.value,[4,this.collection.remove(r)]);case 3:u.sent(),u.label=4;case 4:return n=t.next(),[3,2];case 5:return[3,8];case 6:return i=u.sent(),a={error:i},[3,8];case 7:try{n&&!n.done&&(o=t.return)&&o.call(t)}finally{if(a)throw a.error}return[7];case 8:return[2]}}))}))},t.prototype.markAsReadByTimestamp=function(e,t){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(n){switch(n.label){case 0:return this.localCacheEnabled?[4,this.collection.updateIf({where:{channelUrl:e,messageStatus:j.SENT,createdAt:{"<":t}}},{set:{messageStatus:j.READ}})]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.markAsReadByMessageIds=function(e,t){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(n){switch(n.label){case 0:return this.localCacheEnabled?[4,this.collection.updateIf({where:{channelUrl:e,notificationId:{"/in":t},messageStatus:j.SENT}},{set:{messageStatus:j.READ}})]:[3,2];case 1:return[2,n.sent().length];case 2:return[2,0]}}))}))},t.prototype.removeMessagesOfChannel=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e},index:["channelUrl","-createdAt","-notificationId"]})]:[3,6];case 1:return n.sent(),[4,(t=this._cacheContext.preference).remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync"))];case 2:return n.sent(),[4,t.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/sync.meta"))];case 3:return n.sent(),[4,t.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs"))];case 4:return n.sent(),[4,t.remove("sendbird:".concat(this._sdkState.userId,"@groupchannel/").concat(e,"/message/changelogs.meta"))];case 5:n.sent(),n.label=6;case 6:return[2]}}))}))},t.prototype.removeUnderOffset=function(e,t){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(n){switch(n.label){case 0:return this.localCacheEnabled?[4,this.collection.removeIf({where:{channelUrl:e,createdAt:{"<":t}},index:ii(ei.CHANNEL_LATEST)})]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.clear=function(){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return this.localCacheEnabled?[4,this.collection.clear()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},t.prototype.countBetween=function(e,t,n){return(0,s._)(this,void 0,void 0,(function(){var r,i=this;return(0,s.b)(this,(function(s){switch(s.label){case 0:return this.localCacheEnabled?(r=["channelUrl","-createdAt","-notificationId"],[4,this.collection.query({where:{channelUrl:e,"/where":function(e){var r=i._deserialize(e);return n.includes(r.createdAt)&&t.match(r)}},index:r}).count()]):[3,2];case 1:return[2,s.sent()];case 2:return[2,0]}}))}))},t}(s.ag),yi={},vi=function(e){function t(t){var n=e.call(this,t)||this;return n._observers=new Map,n._dispatcherContext=n._dispatcher.on((function(e){return(0,s._)(n,void 0,void 0,(function(){var t,n,r,i,a,o,u,c,l,d,h,_,f,p,m,g,y,v,b,M=this;return(0,s.b)(this,(function(E){switch(E.label){case 0:return e instanceof s.ao?(t=e.messages,b=e.source,o=e.isWebSocketEventComing,n=t.filter((function(e){return e instanceof V&&e.channelType!==s.C.OPEN&&e.messageId>0})),r=t.filter((function(e){return e instanceof V&&e.channelType!==s.C.OPEN&&0===e.messageId})),i=t.filter((function(e){return e instanceof X})),n.length>0?[4,(0,s.B)((function(){return(0,s._)(M,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return[4,this._messageCache.upsert(n)];case 1:return e.sent(),[4,this._unsentMessageCache.remove(n.map((function(e){return e instanceof q?e.reqId:null})).filter((function(e){return null!==e})))];case 2:return e.sent(),[2]}}))}))}))]:[3,2]):[3,7];case 1:E.sent(),o||this._broadcastUpdateEvent(n,b),E.label=2;case 2:return r.length>0?[4,(0,s.B)((function(){return(0,s._)(M,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return[4,this._unsentMessageCache.upsert(r)];case 1:return e.sent(),[2]}}))}))}))]:[3,4];case 3:E.sent(),o||this._broadcastUpdateEvent(r,b),E.label=4;case 4:return i.length>0?[4,(0,s.B)((function(){return(0,s._)(M,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return[4,this._notificationCache.upsert(i)];case 1:return e.sent(),[2]}}))}))}))]:[3,6];case 5:E.sent(),o||this._broadcastUpdateEvent(i,b),E.label=6;case 6:return[3,24];case 7:return e instanceof s.aX?(a=e.messageIds,b=e.source,o=e.isWebSocketEventComing,u=a.filter((function(e){return"number"==typeof e})),c=a.filter((function(e){return"string"==typeof e})),[4,(0,s.B)((function(){return(0,s._)(M,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return u.length>0?[4,this._messageCache.remove(u)]:[3,2];case 1:e.sent(),e.label=2;case 2:return c.length>0?[4,this._notificationCache.remove(c)]:[3,4];case 3:e.sent(),e.label=4;case 4:return[2]}}))}))}))]):[3,9];case 8:return E.sent(),o||this._broadcastRemoveEvent(a,b),[3,24];case 9:return e instanceof s.aW?(l=e.reqId,b=e.source,[4,(0,s.B)((function(){return(0,s._)(M,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return[4,this._unsentMessageCache.remove([l])];case 1:return e.sent(),[2]}}))}))}))]):[3,11];case 10:return E.sent(),this._broadcastRemoveUnsentEvent(l,b),[3,24];case 11:return e instanceof s.aV?(d=e.polls,b=e.source,this._cacheContext.localCacheEnabled?(h=d.map((function(e){return e.messageId})),[4,Promise.all(h.map((function(e){return M._messageCache.get(e)})))]):[3,14]):[3,15];case 12:return(_=E.sent().filter((function(e){return e}))).length>0&&d.forEach((function(e){var t=_.find((function(t){return t.messageId===e.messageId}));t&&t.applyPoll(e)})),[4,(0,s.B)((function(){return(0,s._)(M,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return[4,this._messageCache.upsert(_)];case 1:return[2,e.sent()]}}))}))}))];case 13:E.sent(),E.label=14;case 14:return this._broadcastPollChangeLogEvent(d,b),[3,24];case 15:return e instanceof s.aU?(f=e.event,b=e.source,[4,this._messageCache.get(f.messageId)]):[3,19];case 16:return(p=E.sent())&&p.isUserMessage()&&p.poll&&p.poll.applyPollUpdateEvent(f)?[4,(0,s.B)((function(){return(0,s._)(M,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return[4,this._messageCache.upsert([p])];case 1:return[2,e.sent()]}}))}))}))]:[3,18];case 17:E.sent(),E.label=18;case 18:return this._broadcastPollUpdateEvent(f,b),[3,24];case 19:return e instanceof s.aN?(m=e.event,b=e.source,[4,this._messageCache.get(m.messageId)]):[3,23];case 20:return(g=E.sent())&&g.isUserMessage()&&g.poll&&g.poll.applyPollVoteEvent(m)?[4,(0,s.B)((function(){return(0,s._)(M,void 0,void 0,(function(){return(0,s.b)(this,(function(e){switch(e.label){case 0:return[4,this._messageCache.upsert([g])];case 1:return[2,e.sent()]}}))}))}))]:[3,22];case 21:E.sent(),E.label=22;case 22:return this._broadcastPollVoteEvent(m,b),[3,24];case 23:e instanceof s.aS?(y=e.event,b=e.source,y.messageId>0&&this._broadcastReactionUpdateEvent(y,b)):e instanceof s.aT&&(v=e.event,b=e.source,this._broadcastThreadUpdateEvent(v,b)),E.label=24;case 24:return[2]}}))}))})),n}return(0,s.c)(t,e),Object.defineProperty(t.prototype,"_cacheContext",{get:function(){return s.V.of(this._iid).cacheContext},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_dispatcher",{get:function(){return s.V.of(this._iid).dispatcher},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_messageCache",{get:function(){return pi.of(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_unsentMessageCache",{get:function(){return _i.of(this._iid)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_notificationCache",{get:function(){return gi.of(this._iid)},enumerable:!1,configurable:!0}),t.of=function(e,n){var r;return void 0===n&&(n=!1),yi[e]&&!n||(yi[e]&&(null===(r=yi[e]._dispatcherContext)||void 0===r||r.close()),yi[e]=new t(e)),yi[e]},t.prototype._broadcastUpdateEvent=function(e,t){var n,r;try{for(var i=(0,s.t)(this._observers.values()),a=i.next();!a.done;a=i.next()){var o=a.value;o.onUpdate&&o.onUpdate(e,t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype._broadcastPollChangeLogEvent=function(e,t){var n,r;try{for(var i=(0,s.t)(this._observers.values()),a=i.next();!a.done;a=i.next()){var o=a.value;o.onPollChangeLogUpdate&&o.onPollChangeLogUpdate(e,t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype._broadcastPollUpdateEvent=function(e,t){var n,r;try{for(var i=(0,s.t)(this._observers.values()),a=i.next();!a.done;a=i.next()){var o=a.value;o.onPollUpdate&&o.onPollUpdate(e,t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype._broadcastPollVoteEvent=function(e,t){var n,r;try{for(var i=(0,s.t)(this._observers.values()),a=i.next();!a.done;a=i.next()){var o=a.value;o.onPollVote&&o.onPollVote(e,t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype._broadcastRemoveEvent=function(e,t){var n,r;try{for(var i=(0,s.t)(this._observers.values()),a=i.next();!a.done;a=i.next()){var o=a.value;o.onRemove&&o.onRemove(e,t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype._broadcastRemoveUnsentEvent=function(e,t){var n,r;try{for(var i=(0,s.t)(this._observers.values()),a=i.next();!a.done;a=i.next()){var o=a.value;o.onRemoveUnsent&&o.onRemoveUnsent(e,t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype._broadcastReactionUpdateEvent=function(e,t){var n,r;try{for(var i=(0,s.t)(this._observers.values()),a=i.next();!a.done;a=i.next()){var o=a.value;o.onReactionUpdate&&o.onReactionUpdate(e,t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype._broadcastThreadUpdateEvent=function(e,t){var n,r;try{for(var i=(0,s.t)(this._observers.values()),a=i.next();!a.done;a=i.next()){var o=a.value;o.onThreadInfoUpdate&&o.onThreadInfoUpdate(e,t)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.subscribe=function(e,t){this._observers.set(e,t)},t.prototype.unsubscribe=function(e){this._observers.delete(e)},t.prototype.unsubscribeAll=function(){this._observers.clear()},t}(s.ag),bi=function(e){function t(t){var n=this,r=t.reverse,i=void 0!==r&&r,a=t.limit,o=void 0===a?20:a,u=t.keys,c=t.token;return(n=e.call(this)||this).method=s.A.GET,n.path="".concat(s.aY),n.params=(0,s.e)({token:c,limit:o,reverse:i,order:s.aZ.UPDATED_AT,show_ui_template:!0,show_color_variables:!0,keys:u}),n}return(0,s.c)(t,e),t}(s.f),Mi=function(e){function t(t,n){var r=e.call(this,t,n)||this,i=n.next,s=n.has_more,a=void 0!==s&&s,o=n.templates;return r.nextToken=i,r.hasMore=a,r.templates=o.map((function(e){return{template:JSON.stringify(e)}})),r}return(0,s.c)(t,e),t}(s.h),Ei=function(e){function t(t){var n=this,r=t.key;return(n=e.call(this)||this).method=s.A.GET,n.path="".concat(s.aY,"/").concat(r),n}return(0,s.c)(t,e),t}(s.f),Li=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.template=JSON.stringify(n),r}return(0,s.c)(t,e),t}(s.h),wi={},Ti=function(){function e(e,t){var n=t.sdkState,r=t.dispatcher,i=t.requestQueue,s=t.onlineDetector,a=t.cacheContext;this._iid=e,this._sdkState=n,this._requestQueue=i,this._dispatcher=r,this._cacheContext=a,pi.of(e),_i.of(e),vi.of(e),this.fileMessageQueue=new ce(e,{sdkState:n,dispatcher:r,requestQueue:i,onlineDetector:s,cacheContext:a}),wi[e]=this}return e.of=function(e){return wi[e]},e.prototype.buildMessageFromSerializedData=function(e){var t=(0,s.z)(e);if(t.notificationId)return new X(this._iid,X.payloadify(t));switch(t.messageType){case s.ai.USER:return new Q(this._iid,Q.payloadify(t));case s.ai.FILE:return J._isMultipleFilesMessageSerializedData(t)?new J(this._iid,J.payloadify(t)):new te(this._iid,te.payloadify(t));case s.ai.ADMIN:return new W(this._iid,W.payloadify(t))}throw s.s.invalidParameters},e.prototype.buildUserMessageCreateParamsFromSerializedData=function(e,t){return(0,s.e)((0,s.u)({data:t.data,customType:t.customType,mentionType:t.mentionType,mentionedUserIds:t.mentionedUserIds,mentionedUsers:t.mentionedUsers,mentionedMessageTemplate:t.mentionedMessageTemplate,metaArrays:t.metaArrays,parentMessageId:t.parentMessageId,isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption,appleCriticalAlertOptions:t.appleCriticalAlertOptions,reqId:t.reqId,message:t.message,translationTargetLanguages:Object.keys(t.translations),pollId:e.pollId}))},e.prototype.buildFileMessageCreateParamsFromSerializedData=function(e,t){var n;return(0,s.e)((0,s.u)({data:t.data,customType:t.customType,mentionType:t.mentionType,mentionedUserIds:t.mentionedUserIds,mentionedUsers:t.mentionedUsers,mentionedMessageTemplate:t.mentionedMessageTemplate,metaArrays:t.metaArrays,parentMessageId:t.parentMessageId,isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption,appleCriticalAlertOptions:t.appleCriticalAlertOptions,reqId:t.reqId,file:e.file,fileKey:e.fileKey,fileUrl:t.plainUrl,fileName:t.name,fileSize:t.size,mimeType:t.type,thumbnailSizes:null===(n=t.thumbnails)||void 0===n?void 0:n.map((function(e){return{maxWidth:e.width,maxHeight:e.height}})),fileType:e.fileType,requireAuth:t.requireAuth}))},e.prototype.buildMultipleFilesMessageCreateParamsFromSerializedData=function(e,t){var n=this;return(0,s.e)({data:t.data,customType:t.customType,mentionType:t.mentionType,mentionedUserIds:t.mentionedUserIds,mentionedUsers:t.mentionedUsers,mentionedMessageTemplate:t.mentionedMessageTemplate,metaArrays:t.metaArrays,parentMessageId:t.parentMessageId,isReplyToChannel:e.isReplyToChannel,pushNotificationDeliveryOption:e.pushNotificationDeliveryOption,appleCriticalAlertOptions:t.appleCriticalAlertOptions,reqId:t.reqId,fileInfoList:e.fileInfoList.map((function(e){return new ne(n._iid,e)}))})},e.prototype.buildScheduledUserMessageCreateParamsFromSerializedData=function(e,t){return(0,s.g)((0,s.g)({},this.buildUserMessageCreateParamsFromSerializedData(e,t)),{scheduledAt:e.scheduledAt})},e.prototype.buildScheduledFileMessageCreateParamsFromSerializedData=function(e,t){return(0,s.g)((0,s.g)({},this.buildFileMessageCreateParamsFromSerializedData(e,t)),{scheduledAt:e.scheduledAt})},e.prototype.buildSenderFromSerializedData=function(e){var t=(0,s.z)(e);return new y(this._iid,y.payloadify(t))},e.prototype.getMessage=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return t=new fe(e),[4,this._requestQueue.send(t)];case 1:return[2,n.sent().as(pe).message]}}))}))},e.prototype.getScheduledMessage=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return t=new be(e),[4,this._requestQueue.send(t)];case 1:return[2,n.sent().as(Me).message]}}))}))},e.prototype.getMessagesByMessageId=function(e,t,n,r,i){return void 0===i&&(i=s.a2.REQUEST_MESSAGE),(0,s._)(this,void 0,void 0,(function(){var a,o,u;return(0,s.b)(this,(function(c){switch(c.label){case 0:return a=new me((0,s.g)((0,s.g)({channelType:t,channelUrl:e,token:String(n)},le),r)),[4,this._requestQueue.send(a)];case 1:return o=c.sent(),u=o.as(ge).messages,this._dispatcher.dispatch(new s.ao({messages:u,source:i})),[2,u]}}))}))},e.prototype.getMessagesByTimestamp=function(e,t,n,r,i){return void 0===i&&(i=s.a2.REQUEST_MESSAGE),(0,s._)(this,void 0,void 0,(function(){var a,o,u;return(0,s.b)(this,(function(c){switch(c.label){case 0:return a=new me((0,s.g)((0,s.g)({channelType:t,channelUrl:e,timestamp:n},le),r)),[4,this._requestQueue.send(a)];case 1:return o=c.sent(),u=o.as(ge).messages,this._dispatcher.dispatch(new s.ao({messages:u,source:i})),[2,u]}}))}))},e.prototype._getMessagesByTimestampForCollection=function(e,t,n,r,i,a,o){return void 0===i&&(i=s.a2.REQUEST_MESSAGE),(0,s._)(this,void 0,void 0,(function(){var u,c,l,d,h,_;return(0,s.b)(this,(function(f){switch(f.label){case 0:return u=new me((0,s.g)((0,s.g)((0,s.g)({channelType:t,channelUrl:e,timestamp:n},le),r),{checkingHasNext:a,checkingContinuousMessages:o})),[4,this._requestQueue.send(u)];case 1:return c=f.sent(),l=c.as(ge),d=l.messages,h=l.isContinuousMessages,_=l.hasNext,this._dispatcher.dispatch(new s.ao({messages:d,source:i})),[2,{messages:d,isContinuousMessages:h,hasNext:_}]}}))}))},e.prototype.getThreadedMessagesByTimestamp=function(e,t,n,r){return void 0===r&&(r=s.a2.REQUEST_THREADED_MESSAGE),(0,s._)(this,void 0,void 0,(function(){var i,a,o,u;return(0,s.b)(this,(function(c){switch(c.label){case 0:return i=new me((0,s.g)((0,s.g)((0,s.g)({channelUrl:e.channelUrl,channelType:e.channelType,timestamp:t},z),n),{replyType:s.az.ALL,parentMessageId:e.messageId,includeThreadInfo:!0})),[4,this._requestQueue.send(i)];case 1:return a=c.sent(),o=a.as(ge).messages,(u=o.slice(1)).forEach((function(t){t.parentMessage=e})),this._dispatcher.dispatch(new s.ao({messages:u,source:r})),[2,{parentMessage:o[0],threadedMessages:u}]}}))}))},e.prototype.getMessageTemplatesByToken=function(e,t){return void 0===t&&(t={}),(0,s._)(this,void 0,void 0,(function(){var n,r,i,a,o,u;return(0,s.b)(this,(function(c){switch(c.label){case 0:return n=new bi((0,s.g)({token:e},t)),[4,this._requestQueue.send(n)];case 1:return r=c.sent(),i=r.as(Mi),a=i.hasMore,o=i.nextToken,u=i.templates,[2,{hasMore:a,token:o,templates:u}]}}))}))},e.prototype.getMessageTemplate=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){switch(n.label){case 0:return t=new Ei({key:e}),[4,this._requestQueue.send(t)];case 1:return[2,{template:n.sent().as(Li).template}]}}))}))},e.prototype.getMessageChangelogs=function(e,t,n,r,i){return void 0===i&&(i=s.a2.REQUEST_MESSAGE_CHANGELOGS),(0,s._)(this,void 0,void 0,(function(){var a,o,u,c,l,d,h,_,f;return(0,s.b)(this,(function(p){switch(p.label){case 0:return a=new ye((0,s.e)((0,s.u)((0,s.g)((0,s.g)({channelType:t,channelUrl:e,timestamp:"number"==typeof n?n:null,token:"string"==typeof n?n:null},he),r)))),[4,this._requestQueue.send(a)];case 1:return o=p.sent(),u=o.as(ve),c=u.updatedMessages,l=u.deletedMessagesInfo,d=u.hasMore,h=u.nextToken,_=u.forceUseNextToken,f=l.map((function(e){return e.messageId})),c.length>0&&this._dispatcher.dispatch(new s.ao({messages:c,source:i})),f.length>0&&this._dispatcher.dispatch(new s.aX({messageIds:f,source:i})),[2,{updatedMessages:c,deletedMessageIds:f,hasMore:d,token:h,forceUseNextToken:_}]}}))}))},e}(),ki=function(e){function t(t,n){var r=e.call(this,t)||this;r.targetMessageId=0;var i=n.thread_info,a=n.parent_message_id,o=n.channel_url,u=n.channel_type;return i&&(0,s.a)("object",i)&&(0,s.a)("number",a)&&(0,s.a)("string",o)&&(0,s.a)("string",u)&&(r.threadInfo=new c(t,i),r.targetMessageId=a,r.channelUrl=o,r.channelType=u),r}return(0,s.c)(t,e),t}(s.ag),Si={channelUrl:"",channelType:s.C.BASE,messageId:0,includeReactions:!1,includeMetaArray:!1,includeParentMessageInfo:!1,includeThreadInfo:!1},Di=function(e){function t(t){var n=t.channelCustomType,r=t.keyword,i=t.limit,a=t.reverse,o=t.exactMatch,u=t.channelUrl,c=t.order,l=t.messageTimestampFrom,d=t.messageTimestampTo,h=t.advancedQuery,_=t.targetFields,f=t.nextToken,p=e.call(this)||this;return p.method=s.A.GET,p.path="".concat(s.a_,"/messages"),p.params={custom_type:n,query:r,limit:i,reverse:a,exact_match:o,channel_url:u,message_ts_from:l,message_ts_to:d,sort_field:c,advanced_query:h,target_fields:_,after:f},p}return(0,s.c)(t,e),t}(s.f),Ci=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.messages=n.results.map((function(e){return ee(t,e)})),r.hasNext=n.has_next,r.nextToken=n.end_cursor,r.totalCount=n.total_count,r}return(0,s.c)(t,e),t}(s.h);!function(e){e.SCORE="score",e.TIMESTAMP="ts"}(ri||(ri={}));var Ai=function(e){function t(t,n){var r,i,s,a,o,u,c,l,d,h=this;return(h=e.call(this,t,n)||this).keyword="",h.reverse=!1,h.exactMatch=!1,h.channelUrl="",h.channelCustomType="",h.messageTimestampFrom=null,h.messageTimestampTo=null,h.order=ri.SCORE,h.advancedQuery=!1,h.targetFields=null,h._nextToken="",h.totalCount=-1,h.keyword=n.keyword,h.reverse=null!==(r=n.reverse)&&void 0!==r&&r,h.exactMatch=null!==(i=n.exactMatch)&&void 0!==i&&i,h.channelUrl=null!==(s=n.channelUrl)&&void 0!==s?s:"",h.channelCustomType=null!==(a=n.channelCustomType)&&void 0!==a?a:"",h.messageTimestampFrom=null!==(o=n.messageTimestampFrom)&&void 0!==o?o:null,h.messageTimestampTo=null!==(u=n.messageTimestampTo)&&void 0!==u?u:null,h.order=null!==(c=n.order)&&void 0!==c?c:ri.SCORE,h.advancedQuery=null!==(l=n.advancedQuery)&&void 0!==l&&l,h.targetFields=null!==(d=n.targetFields)&&void 0!==d?d:null,h}return(0,s.c)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)&&(0,s.a)("string",this.keyword)&&this.keyword.length>0&&(0,s.a)("boolean",this.reverse)&&(0,s.a)("boolean",this.exactMatch)&&(0,s.a)("string",this.channelUrl)&&(0,s.a)("string",this.channelCustomType)&&((0,s.a)("number",this.messageTimestampFrom)||null===this.messageTimestampFrom)&&((0,s.a)("number",this.messageTimestampTo)||null===this.messageTimestampTo)&&(0,s.X)(ri,this.order)&&(0,s.a)("boolean",this.advancedQuery)&&(0,s.Q)("string",this.targetFields,!0)},t.prototype.next=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a,o,u;return(0,s.b)(this,(function(c){switch(c.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=s.V.of(this._iid).requestQueue,t=new Di((0,s.u)((0,s.g)((0,s.g)({},this),{nextToken:this._nextToken?this._nextToken:null}))),[4,e.send(t)]):[3,2]:[3,5];case 1:return n=c.sent(),r=n.as(Ci),i=r.messages,a=r.hasNext,o=r.nextToken,u=r.totalCount,this._nextToken=o,this._hasNext=a,this._isLoading=!1,this.totalCount=u,[2,i];case 2:return[2,[]];case 3:throw s.s.queryInProgress;case 4:return[3,6];case 5:throw s.s.invalidParameters;case 6:return[2]}}))}))},t}(s.aP),Ii=function(e){function t(t){var n=t.channelType,r=t.channelUrl,i=t.limit,a=t.token,o=e.call(this)||this;return o.method=s.A.GET,o.path="".concat((0,s.am)(n),"/").concat(encodeURIComponent(r),"/messages/parent_thread_message"),o.params=(0,s.e)((0,s.u)({limit:i,token:a})),o}return(0,s.c)(t,e),t}(s.f),Ni=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.token=n.next,r.messages=n.messages.map((function(e){return ee(t,e)})),r}return(0,s.c)(t,e),t}(s.h),Yi=function(e){function t(t,n,r,i){var s=e.call(this,t,n,r,i)||this;return s._edge="",s}return(0,s.c)(t,e),t.prototype._validate=function(){return e.prototype._validate.call(this)},t.prototype.load=function(){return(0,s._)(this,void 0,void 0,(function(){var e,t,n,r,i,a;return(0,s.b)(this,(function(o){switch(o.label){case 0:return this._validate()?this._isLoading?[3,3]:this._hasNext?(this._isLoading=!0,e=s.V.of(this._iid).requestQueue,t=new Ii({channelType:this.channelType,channelUrl:this.channelUrl,token:this._edge,limit:this.limit}),[4,e.send(t)]):[3,2]:[3,5];case 1:return n=o.sent(),r=n.as(Ni),i=r.messages,a=r.token,this._edge=a,this._hasNext=!!a,this._isLoading=!1,[2,i];case 2:return[2,[]];case 3:throw s.s.queryInProgress;case 4:return[3,6];case 5:throw s.s.invalidParameters;case 6:return[2]}}))}))},t}(s.aC),Oi={channelUrl:"",scheduledMessageId:0},xi={reverse:!1,limit:20},Ui=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.name="message",t}return(0,s.c)(t,e),t.prototype.init=function(t,n){var r=n.sdkState,i=n.dispatcher,s=n.sessionManager,a=n.requestQueue,o=n.logger,u=n.onlineDetector,c=n.cacheContext;e.prototype.init.call(this,t,{sdkState:r,dispatcher:i,sessionManager:s,requestQueue:a,logger:o,onlineDetector:u,cacheContext:c}),this._manager=new Ti(t,{sdkState:r,dispatcher:i,requestQueue:a,onlineDetector:u,cacheContext:c})},t.prototype.buildMessageFromSerializedData=function(e){return this._manager.buildMessageFromSerializedData(e)},t.prototype.buildSenderFromSerializedData=function(e){return this._manager.buildSenderFromSerializedData(e)},t.prototype.getMessage=function(e){return(0,s._)(this,void 0,void 0,(function(){var t,n;return(0,s.b)(this,(function(r){switch(r.label){case 0:return t=(0,s.g)((0,s.g)({},Si),e),(0,s.w)(function(e){return(0,s.a)("string",e.channelUrl)&&(0,s.X)(s.C,e.channelType)&&(0,s.a)("number",e.messageId)&&(0,s.a)("boolean",e.includeReactions,!0)&&(0,s.a)("boolean",e.includeMetaArray,!0)&&(0,s.a)("boolean",e.includeParentMessageInfo,!0)&&(0,s.a)("boolean",e.includeThreadInfo,!0)}(t)).throw(s.s.invalidParameters),[4,this._manager.getMessage(t)];case 1:if((n=r.sent())instanceof V||n instanceof X||null===n)return[2,n];throw"Unknown message type is given."}}))}))},t.prototype.getScheduledMessage=function(e){return(0,s._)(this,void 0,void 0,(function(){var t;return(0,s.b)(this,(function(n){return t=(0,s.g)((0,s.g)({},Oi),e),(0,s.w)(function(e){return(0,s.a)("string",e.channelUrl)&&""!==e.channelUrl&&(0,s.a)("number",e.scheduledMessageId)&&e.scheduledMessageId>0}(t)).throw(s.s.invalidParameters),[2,this._manager.getScheduledMessage(t)]}))}))},t.prototype.getMessageTemplatesByToken=function(e,t){return void 0===t&&(t={}),(0,s._)(this,void 0,void 0,(function(){var n;return(0,s.b)(this,(function(r){return n=(0,s.g)((0,s.g)({},xi),t),(0,s.w)((0,s.a)("string",e,!0)&&function(e){return(0,s.a)("boolean",e.reverse,!0)&&(0,s.a)("number",e.limit,!0)&&(0,s.Q)("string",e.keys,!0)}(n)).throw(s.s.invalidParameters),[2,this._manager.getMessageTemplatesByToken(e,n)]}))}))},t.prototype.getMessageTemplate=function(e){return(0,s._)(this,void 0,void 0,(function(){return(0,s.b)(this,(function(t){return(0,s.w)((0,s.a)("string",e)).throw(s.s.invalidParameters),[2,this._manager.getMessageTemplate(e)]}))}))},t}(s.a$)},99025:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>ue});var r=n(17545),i=n(55152),s=n(30414);function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var o=n(1087);function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,o.A)(e,t)}function c(e,t){if(t&&("object"==(0,r.A)(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var d=n(24586);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,d.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},m=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.A)(this,e),this.init(t,n)}return(0,s.A)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||p,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,f(f({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}()),g=function(){function e(){(0,i.A)(this,e),this.observers={}}return(0,s.A)(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,n)})),this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(n))}))}}]),e}();function y(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function v(e){return null==e?"":""+e}function b(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"==typeof e}for(var s="string"!=typeof t?[].concat(t):t.split(".");s.length>1;){if(i())return{};var a=r(s.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return i()?{}:{obj:e,k:r(s.shift())}}function M(e,t,n){var r=b(e,t,Object);r.obj[r.k]=n}function E(e,t){var n=b(e,t),r=n.obj,i=n.k;if(r)return r[i]}function L(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"==typeof e[r]||e[r]instanceof String||"string"==typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):L(e[r],t[r],n):e[r]=t[r]);return e}function w(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var T={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function k(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return T[e]})):e}var S="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,D=[" ",",","?","!",";"];function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,s=0;s<r.length;++s){if(!i)return;if("string"==typeof i[r[s]]&&s+1<r.length)return;if(void 0===i[r[s]]){for(var a=2,o=r.slice(s,s+a).join(n),u=i[o];void 0===u&&r.length>s+a;)a++,u=i[o=r.slice(s,s+a).join(n)];if(void 0===u)return;if(null===u)return null;if(t.endsWith(o)){if("string"==typeof u)return u;if(o&&"string"==typeof u[o])return u[o]}var c=r.slice(s+a).join(n);return c?C(u,c,n):void 0}i=i[r[s]]}return i}}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,d.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(e){u(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}(n);function n(e){var r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(0,i.A)(this,n),r=t.call(this),S&&g.call(a(r)),r.data=e||{},r.options=s,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return(0,s.A)(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,s=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!=typeof n&&(a=a.concat(n)),n&&"string"==typeof n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split("."));var o=E(this.data,a);return o||!s||"string"!=typeof n?o:C(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},s=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,a=[e,t];n&&(a=a.concat(s?n.split(s):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),M(this.data,a,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!=typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var o=E(this.data,a)||{};r?L(o,n,i):o=I(I({},o),n),M(this.data,a,o),s.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?I(I({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(g),Y={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var s=this;return e.forEach((function(e){s.processors[e]&&(t=s.processors[e].process(t,n,r,i))})),t}};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,d.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U={},P=function(e){u(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}(n);function n(e){var r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.A)(this,n),r=t.call(this),S&&g.call(a(r)),function(e,t,n){["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach((function(e){t[e]&&(n[e]=t[e])}))}(0,e,a(r)),r.options=s,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=m.create("translator"),r}return(0,s.A)(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],s=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||function(e,t,n){t=t||"",n=n||"";var r=D.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),s=!i.test(e);if(!s){var a=e.indexOf(n);a>0&&!i.test(e.substring(0,a))&&(s=!0)}return s}(e,n,r));if(s&&!a){var o=e.match(this.interpolator.nestingRegexp);if(o&&o.length>0)return{key:e,namespaces:i};var u=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(r)}return"string"==typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,i){var s=this;if("object"!==(0,r.A)(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"===(0,r.A)(t)&&(t=x({},t)),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var a=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,u=this.extractFromKey(e[e.length-1],t),c=u.key,l=u.namespaces,d=l[l.length-1],h=t.lng||this.language,_=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&"cimode"===h.toLowerCase()){if(_){var f=t.nsSeparator||this.options.nsSeparator;return a?{res:"".concat(d).concat(f).concat(c),usedKey:c,exactUsedKey:c,usedLng:h,usedNS:d}:"".concat(d).concat(f).concat(c)}return a?{res:c,usedKey:c,exactUsedKey:c,usedLng:h,usedNS:d}:c}var p=this.resolve(e,t),m=p&&p.res,g=p&&p.usedKey||c,y=p&&p.exactUsedKey||c,v=Object.prototype.toString.apply(m),b=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,M=!this.i18nFormat||this.i18nFormat.handleAsObject;if(M&&m&&"string"!=typeof m&&"boolean"!=typeof m&&"number"!=typeof m&&["[object Number]","[object Function]","[object RegExp]"].indexOf(v)<0&&("string"!=typeof b||"[object Array]"!==v)){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var E=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,m,x(x({},t),{},{ns:l})):"key '".concat(c," (").concat(this.language,")' returned an object instead of string.");return a?(p.res=E,p):E}if(o){var L="[object Array]"===v,w=L?[]:{},T=L?y:g;for(var k in m)if(Object.prototype.hasOwnProperty.call(m,k)){var S="".concat(T).concat(o).concat(k);w[k]=this.translate(S,x(x({},t),{joinArrays:!1,ns:l})),w[k]===S&&(w[k]=m[k])}m=w}}else if(M&&"string"==typeof b&&"[object Array]"===v)(m=m.join(b))&&(m=this.extendTranslation(m,e,t,i));else{var D=!1,C=!1,A=void 0!==t.count&&"string"!=typeof t.count,I=n.hasDefaultValue(t),N=A?this.pluralResolver.getSuffix(h,t.count,t):"",Y=t["defaultValue".concat(N)]||t.defaultValue;!this.isValidLookup(m)&&I&&(D=!0,m=Y),this.isValidLookup(m)||(C=!0,m=c);var O=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&C?void 0:m,U=I&&Y!==m&&this.options.updateMissing;if(C||D||U){if(this.logger.log(U?"updateKey":"missingKey",h,d,c,U?Y:m),o){var P=this.resolve(c,x(x({},t),{},{keySeparator:!1}));P&&P.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var R=[],H=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&H&&H[0])for(var F=0;F<H.length;F++)R.push(H[F]);else"all"===this.options.saveMissingTo?R=this.languageUtils.toResolveHierarchy(t.lng||this.language):R.push(t.lng||this.language);var j=function(e,n,r){var i=I&&r!==m?r:O;s.options.missingKeyHandler?s.options.missingKeyHandler(e,d,n,i,U,t):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(e,d,n,i,U,t),s.emit("missingKey",e,d,n,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?R.forEach((function(e){s.pluralResolver.getSuffixes(e,t).forEach((function(n){j([e],c+n,t["defaultValue".concat(n)]||Y)}))})):j(R,c,Y))}m=this.extendTranslation(m,e,t,p,i),C&&m===c&&this.options.appendNamespaceToMissingKey&&(m="".concat(d,":").concat(c)),(C||D)&&this.options.parseMissingKeyHandler&&(m="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(d,":").concat(c):c,D?m:void 0):this.options.parseMissingKeyHandler(m))}return a?(p.res=m,p):m}},{key:"extendTranslation",value:function(e,t,n,r,i){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,x(x({},this.options.interpolation.defaultVariables),n),r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init(x(x({},n),{interpolation:x(x({},this.options.interpolation),n.interpolation)}));var a,o="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(o){var u=e.match(this.interpolator.nestingRegexp);a=u&&u.length}var c=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=x(x({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),o){var l=e.match(this.interpolator.nestingRegexp);a<(l&&l.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i&&i[0]===r[0]&&!n.context?(s.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):s.translate.apply(s,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,h="string"==typeof d?[d]:d;return null!=e&&h&&h.length&&!1!==n.applyPostProcessor&&(e=Y.handle(h,e,t,this.options&&this.options.postProcessPassResolved?x({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,s,a=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var u=a.extractFromKey(e,o),c=u.key;n=c;var l=u.namespaces;a.options.fallbackNS&&(l=l.concat(a.options.fallbackNS));var d=void 0!==o.count&&"string"!=typeof o.count,h=d&&!o.ordinal&&0===o.count&&a.pluralResolver.shouldUseIntlApi(),_=void 0!==o.context&&("string"==typeof o.context||"number"==typeof o.context)&&""!==o.context,f=o.lngs?o.lngs:a.languageUtils.toResolveHierarchy(o.lng||a.language,o.fallbackLng);l.forEach((function(e){a.isValidLookup(t)||(s=e,!U["".concat(f[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(s)&&(U["".concat(f[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(f.join(", "),'" won\'t get resolved as namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach((function(n){if(!a.isValidLookup(t)){i=n;var s,u=[c];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(u,c,n,e,o);else{var l;d&&(l=a.pluralResolver.getSuffix(n,o.count,o));var f="".concat(a.options.pluralSeparator,"zero");if(d&&(u.push(c+l),h&&u.push(c+f)),_){var p="".concat(c).concat(a.options.contextSeparator).concat(o.context);u.push(p),d&&(u.push(p+l),h&&u.push(p+f))}}for(;s=u.pop();)a.isValidLookup(t)||(r=s,t=a.getResource(n,e,s,o))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:s}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,12)&&void 0!==e[t])return!0;return!1}}]),n}(g);function R(e){return e.charAt(0).toUpperCase()+e.slice(1)}var H=function(){function e(t){(0,i.A)(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=m.create("languageUtils")}return(0,s.A)(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=R(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=R(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=R(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){return e===r?e:e.indexOf("-")<0&&r.indexOf("-")<0?void 0:0===e.indexOf(r)?e:void 0}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],s=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&s(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&s(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&s(this.getLanguagePartFromCode(e))):"string"==typeof e&&s(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&s(n.formatLanguageCode(e))})),i}}]),e}(),F=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],j={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},V=["v1","v2","v3"],q={zero:0,one:1,two:2,few:3,many:4,other:5},z=function(){function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.A)(this,e),this.languageUtils=t,this.options=r,this.logger=m.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(n={},F.forEach((function(e){e.lngs.forEach((function(t){n[t]={numbers:e.nr,plurals:j[e.fc]}}))})),n)}return(0,s.A)(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return q[e]-q[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var s=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_".concat(i.toString()):s():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!V.includes(this.options.compatibilityJSON)}}]),e}();function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){(0,d.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=function(e,t,n){var r=E(e,n);return void 0!==r?r:E(t,n)}(e,t,n);return!s&&i&&"string"==typeof n&&void 0===(s=C(e,n,r))&&(s=C(t,n,r)),s}var K=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.A)(this,e),this.logger=m.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return(0,s.A)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:k,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?w(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?w(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?w(t.nestingPrefix):t.nestingPrefixEscaped||w("$t("),this.nestingSuffix=t.nestingSuffix?w(t.nestingSuffix):t.nestingSuffixEscaped||w(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,s,a,o=this,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var l=function(e){if(e.indexOf(o.formatSeparator)<0){var i=B(t,u,e,o.options.keySeparator,o.options.ignoreJSONStructure);return o.alwaysFormat?o.format(i,void 0,n,W(W(W({},r),t),{},{interpolationkey:e})):i}var s=e.split(o.formatSeparator),a=s.shift().trim(),c=s.join(o.formatSeparator).trim();return o.format(B(t,u,a,o.options.keySeparator,o.options.ignoreJSONStructure),c,n,W(W(W({},r),t),{},{interpolationkey:a}))};this.resetRegExp();var d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,h=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return o.escapeValue?c(o.escape(e)):c(e)}}].forEach((function(t){for(a=0;i=t.regex.exec(e);){var n=i[1].trim();if(void 0===(s=l(n)))if("function"==typeof d){var u=d(e,i,r);s="string"==typeof u?u:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))s="";else{if(h){s=i[0];continue}o.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),s=""}else"string"==typeof s||o.useRawValueToEscape||(s=v(s));var c=t.safeValue(s);if(e=e.replace(i[0],c),h?(t.regex.lastIndex+=s.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++a>=o.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i,s=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function o(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),s="{".concat(r[1]);e=r[0];var a=(s=this.interpolate(s,i)).match(/'/g),o=s.match(/"/g);(a&&a.length%2==0&&!o||o.length%2!=0)&&(s=s.replace(/'/g,'"'));try{i=JSON.parse(s),t&&(i=W(W({},t),i))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(n).concat(s)}return delete i.defaultValue,e}for(;n=this.nestingRegexp.exec(e);){var u=[];(i=(i=W({},a)).replace&&"string"!=typeof i.replace?i.replace:i).applyPostProcessor=!1,delete i.defaultValue;var c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var l=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=l.shift(),u=l,c=!0}if((r=t(o.call(this,n[1].trim(),i),i))&&n[0]===e&&"string"!=typeof r)return r;"string"!=typeof r&&(r=v(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),c&&(r=u.reduce((function(e,t){return s.format(e,t,a.lng,W(W({},a),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){(0,d.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e){var t={};return function(n,r,i){var s=r+JSON.stringify(i),a=t[s];return a||(a=e(r,i),t[s]=a),a(n)}}var X=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.A)(this,e),this.logger=m.create("formatter"),this.options=t,this.formats={number:Z((function(e,t){var n=new Intl.NumberFormat(e,J({},t));return function(e){return n.format(e)}})),currency:Z((function(e,t){var n=new Intl.NumberFormat(e,J(J({},t),{},{style:"currency"}));return function(e){return n.format(e)}})),datetime:Z((function(e,t){var n=new Intl.DateTimeFormat(e,J({},t));return function(e){return n.format(e)}})),relativetime:Z((function(e,t){var n=new Intl.RelativeTimeFormat(e,J({},t));return function(e){return n.format(e,t.range||"day")}})),list:Z((function(e,t){var n=new Intl.ListFormat(e,J({},t));return function(e){return n.format(e)}}))},this.init(t)}return(0,s.A)(e,[{key:"init",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"addCached",value:function(e,t){this.formats[e.toLowerCase().trim()]=Z(t)}},{key:"format",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return t.split(this.formatSeparator).reduce((function(e,t){var s=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((function(e){if(e){var t=function(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e.split(":")),r=t[0],i=t.slice(1).join(":").trim().replace(/^'+|'+$/g,"");n[r.trim()]||(n[r.trim()]=i),"false"===i&&(n[r.trim()]=!1),"true"===i&&(n[r.trim()]=!0),isNaN(i)||(n[r.trim()]=parseInt(i,10))}}))}return{formatName:t,formatOptions:n}}(t),a=s.formatName,o=s.formatOptions;if(r.formats[a]){var u=e;try{var c=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},l=c.locale||c.lng||i.locale||i.lng||n;u=r.formats[a](e,l,J(J(J({},o),i),c))}catch(e){r.logger.warn(e)}return u}return r.logger.warn("there was no format function for ".concat(a)),e}),e)}}]),e}();function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,d.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(e){u(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}(n);function n(e,r,s){var o,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,i.A)(this,n),o=t.call(this),S&&g.call(a(o)),o.backend=e,o.store=r,o.services=s,o.languageUtils=s.languageUtils,o.options=u,o.logger=m.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=u.maxParallelReads||10,o.readingCalls=0,o.maxRetries=u.maxRetries>=0?u.maxRetries:5,o.retryTimeout=u.retryTimeout>=1?u.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(s,u.backend,u),o}return(0,s.A)(n,[{key:"queueLoad",value:function(e,t,n,r){var i=this,s={},a={},o={},u={};return e.forEach((function(e){var r=!0;t.forEach((function(t){var o="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[o]=2:i.state[o]<0||(1===i.state[o]?void 0===a[o]&&(a[o]=!0):(i.state[o]=1,r=!1,void 0===a[o]&&(a[o]=!0),void 0===s[o]&&(s[o]=!0),void 0===u[t]&&(u[t]=!0)))})),r||(o[e]=!0)})),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(u)}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],s=r[1];t&&this.emit("failedLoading",i,s,t),n&&this.store.addResourceBundle(i,s,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){var r,o,u,c,l;r=n.loaded,o=s,(c=(u=b(r,[i],Object)).obj)[l=u.k]=c[l]||[],c[l].push(o),function(e,t){void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)}(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]={});var t=n.loaded[e];t.length&&t.forEach((function(t){void 0===a[e][t]&&(a[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:s,callback:a});else{this.readingCalls++;var o=function(o,u){if(r.readingCalls--,r.waitingReads.length>0){var c=r.waitingReads.shift();r.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}o&&u&&i<r.maxRetries?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*s,a)}),s):a(o,u)},u=this.backend[n].bind(this.backend);if(2!==u.length)return u(e,t,o);try{var c=u(e,t);c&&"function"==typeof c.then?c.then((function(e){return o(null,e)})).catch(o):o(null,c)}catch(e){o(e)}}}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var s=this.queueLoad(e,t,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(s," for language ").concat(i," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(s," for language ").concat(i),a),t.loaded(e,r,a)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){var o=ee(ee({},s),{},{isUpdate:i}),u=this.backend.create.bind(this.backend);if(u.length<6)try{var c;(c=5===u.length?u(e,t,n,r,o):u(e,t,n,r))&&"function"==typeof c.then?c.then((function(e){return a(null,e)})).catch(a):a(null,c)}catch(e){a(e)}else u(e,t,n,r,a,o)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}]),n}(g);function ne(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===(0,r.A)(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===(0,r.A)(e[2])||"object"===(0,r.A)(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function re(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){(0,d.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(){}var oe=function(e){u(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}(n);function n(){var e,r,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if((0,i.A)(this,n),e=t.call(this),S&&g.call(a(e)),e.options=re(s),e.services={},e.logger=m,e.modules={external:[]},r=a(e),Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach((function(e){"function"==typeof r[e]&&(r[e]=r[e].bind(r))})),o&&!e.isInitialized&&!s.isClone){if(!e.options.initImmediate)return e.init(s,o),c(e,a(e));setTimeout((function(){e.init(s,o)}),0)}return e}return(0,s.A)(n,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r=ne();function i(e){return e?"function"==typeof e?new e:e:null}if(this.options=se(se(se({},r),this.options),re(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=se(se({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var s;this.modules.logger?m.init(i(this.modules.logger),this.options):m.init(null,this.options),this.modules.formatter?s=this.modules.formatter:"undefined"!=typeof Intl&&(s=X);var a=new H(this.options);this.store=new N(this.options.resources,this.options);var o=this.services;o.logger=m,o.resourceStore=this.store,o.languageUtils=a,o.pluralResolver=new z(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!s||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(o.formatter=i(s),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new K(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new te(i(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(o.languageDetector=i(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=i(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new P(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=ae),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&"dev"!==u[0]&&(this.options.lng=u[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}})),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var c=y(),l=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),c.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),c}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae,r="string"==typeof e?e:this.language;if("function"==typeof e&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r&&"cimode"===r.toLowerCase())return n();var i=[],s=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){i.indexOf(e)<0&&i.push(e)}))};r?s(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return s(e)})),this.options.preload&&this.options.preload.forEach((function(e){return s(e)})),this.services.backendConnector.load(i,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),n(e)}))}else n(null)}},{key:"reloadResources",value:function(e,t,n){var r=y();return e||(e=this.languages),t||(t=this.options.ns),n||(n=ae),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Y.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=y();this.emit("languageChanging",e);var i=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},s=function(s){e||s||!n.services.languageDetector||(s=[]);var a="string"==typeof s?s:n.services.languageUtils.getBestMatchFromCodes(s);a&&(n.language||i(a),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,(function(e){!function(e,s){s?(i(s),n.translator.changeLanguage(s),n.isLanguageChangingTo=void 0,n.emit("languageChanged",s),n.logger.log("languageChanged",s)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,a)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e):s(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var i=this,s=function e(t,s){var a;if("object"!==(0,r.A)(s)){for(var o=arguments.length,u=new Array(o>2?o-2:0),c=2;c<o;c++)u[c-2]=arguments[c];a=i.options.overloadTranslationOptionHandler([t,s].concat(u))}else a=se({},s);a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns,a.keyPrefix=a.keyPrefix||n||e.keyPrefix;var l,d=i.options.keySeparator||".";return l=a.keyPrefix&&Array.isArray(t)?t.map((function(e){return"".concat(a.keyPrefix).concat(d).concat(e)})):a.keyPrefix?"".concat(a.keyPrefix).concat(d).concat(t):t,i.t(l,a)};return"string"==typeof e?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=n,s}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=n.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,s=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var o=n.precheck(this,a);if(void 0!==o)return o}return!(!this.hasResourceBundle(r,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!a(r,e)||i&&!a(s,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=y();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=y();"string"==typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";var t=this.services&&this.services.languageUtils||new H(ne());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae,i=se(se(se({},this.options),t),{isClone:!0}),s=new n(i);return void 0===t.debug&&void 0===t.prefix||(s.logger=s.logger.clone(t)),["store","services","language"].forEach((function(t){s[t]=e[t]})),s.services=se({},this.services),s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s.translator=new P(s.services,s.options),s.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];s.emit.apply(s,[e].concat(n))})),s.init(i,r),s.translator.options=s.options,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(g);(0,d.A)(oe,"createInstance",(function(){return new oe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}));var ue=oe.createInstance();ue.createInstance=oe.createInstance,ue.createInstance,ue.dir,ue.init,ue.loadResources,ue.reloadResources,ue.use,ue.changeLanguage,ue.getFixedT,ue.t,ue.exists,ue.setDefaultNamespace,ue.hasLoadedNamespace,ue.loadNamespaces,ue.loadLanguages}}]);